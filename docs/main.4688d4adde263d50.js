(self.webpackChunkapp=self.webpackChunkapp||[]).push([[8792],{1076:(go,kr,wt)=>{"use strict";wt.d(kr,{$L:()=>Rn,$g:()=>kt,A4:()=>De,Am:()=>xi,As:()=>Kn,Bd:()=>re,Cv:()=>Ii,FA:()=>qe,Fy:()=>ft,HN:()=>Eo,Hk:()=>Mt,I9:()=>zr,Im:()=>Xt,K3:()=>Ut,KA:()=>Rt,Ku:()=>Ll,Ll:()=>he,OE:()=>us,T9:()=>Ue,Uj:()=>Ot,XA:()=>Re,ZQ:()=>ie,bD:()=>ii,cY:()=>$e,dI:()=>Ds,eX:()=>fe,g:()=>Ct,gR:()=>en,gz:()=>qi,hp:()=>ko,jZ:()=>de,kH:()=>tr,kj:()=>xs,lT:()=>We,lV:()=>lt,nr:()=>yt,oD:()=>Ja,od:()=>ea,qc:()=>Kr,sr:()=>Ze,tD:()=>ys,u:()=>He,vA:()=>ln,yU:()=>Me,yw:()=>Qt,zW:()=>Ce,zw:()=>ot});const V={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},ln=function(ut,Xe){if(!ut)throw Mt(Xe)},Mt=function(ut){return new Error("Firebase Database ("+V.SDK_VERSION+") INTERNAL ASSERT FAILED: "+ut)},tt=function(ut){const Xe=[];let dt=0;for(let dn=0;dn<ut.length;dn++){let rt=ut.charCodeAt(dn);rt<128?Xe[dt++]=rt:rt<2048?(Xe[dt++]=rt>>6|192,Xe[dt++]=63&rt|128):55296==(64512&rt)&&dn+1<ut.length&&56320==(64512&ut.charCodeAt(dn+1))?(rt=65536+((1023&rt)<<10)+(1023&ut.charCodeAt(++dn)),Xe[dt++]=rt>>18|240,Xe[dt++]=rt>>12&63|128,Xe[dt++]=rt>>6&63|128,Xe[dt++]=63&rt|128):(Xe[dt++]=rt>>12|224,Xe[dt++]=rt>>6&63|128,Xe[dt++]=63&rt|128)}return Xe},Ut={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(ut,Xe){if(!Array.isArray(ut))throw Error("encodeByteArray takes an array as a parameter");this.init_();const dt=Xe?this.byteToCharMapWebSafe_:this.byteToCharMap_,dn=[];for(let rt=0;rt<ut.length;rt+=3){const $n=ut[rt],qn=rt+1<ut.length,$r=qn?ut[rt+1]:0,mo=rt+2<ut.length,Nr=mo?ut[rt+2]:0;let hn=(15&$r)<<2|Nr>>6,ha=63&Nr;mo||(ha=64,qn||(hn=64)),dn.push(dt[$n>>2],dt[(3&$n)<<4|$r>>4],dt[hn],dt[ha])}return dn.join("")},encodeString(ut,Xe){return this.HAS_NATIVE_SUPPORT&&!Xe?btoa(ut):this.encodeByteArray(tt(ut),Xe)},decodeString(ut,Xe){return this.HAS_NATIVE_SUPPORT&&!Xe?atob(ut):function(ut){const Xe=[];let dt=0,dn=0;for(;dt<ut.length;){const rt=ut[dt++];if(rt<128)Xe[dn++]=String.fromCharCode(rt);else if(rt>191&&rt<224){const $n=ut[dt++];Xe[dn++]=String.fromCharCode((31&rt)<<6|63&$n)}else if(rt>239&&rt<365){const mo=((7&rt)<<18|(63&ut[dt++])<<12|(63&ut[dt++])<<6|63&ut[dt++])-65536;Xe[dn++]=String.fromCharCode(55296+(mo>>10)),Xe[dn++]=String.fromCharCode(56320+(1023&mo))}else{const $n=ut[dt++],qn=ut[dt++];Xe[dn++]=String.fromCharCode((15&rt)<<12|(63&$n)<<6|63&qn)}}return Xe.join("")}(this.decodeStringToByteArray(ut,Xe))},decodeStringToByteArray(ut,Xe){this.init_();const dt=Xe?this.charToByteMapWebSafe_:this.charToByteMap_,dn=[];for(let rt=0;rt<ut.length;){const $n=dt[ut.charAt(rt++)],$r=rt<ut.length?dt[ut.charAt(rt)]:0;++rt;const Nr=rt<ut.length?dt[ut.charAt(rt)]:64;++rt;const Ci=rt<ut.length?dt[ut.charAt(rt)]:64;if(++rt,null==$n||null==$r||null==Nr||null==Ci)throw new Ee;dn.push($n<<2|$r>>4),64!==Nr&&(dn.push($r<<4&240|Nr>>2),64!==Ci&&dn.push(Nr<<6&192|Ci))}return dn},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let ut=0;ut<this.ENCODED_VALS.length;ut++)this.byteToCharMap_[ut]=this.ENCODED_VALS.charAt(ut),this.charToByteMap_[this.byteToCharMap_[ut]]=ut,this.byteToCharMapWebSafe_[ut]=this.ENCODED_VALS_WEBSAFE.charAt(ut),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[ut]]=ut,ut>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(ut)]=ut,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(ut)]=ut)}}};class Ee extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Rt=function(ut){const Xe=tt(ut);return Ut.encodeByteArray(Xe,!0)},Ot=function(ut){return Rt(ut).replace(/\./g,"")},He=function(ut){try{return Ut.decodeString(ut,!0)}catch(Xe){console.error("base64Decode failed: ",Xe)}return null};function De(ut){return ot(void 0,ut)}function ot(ut,Xe){if(!(Xe instanceof Object))return Xe;switch(Xe.constructor){case Date:return new Date(Xe.getTime());case Object:void 0===ut&&(ut={});break;case Array:ut=[];break;default:return Xe}for(const dt in Xe)!Xe.hasOwnProperty(dt)||!Ie(dt)||(ut[dt]=ot(ut[dt],Xe[dt]));return ut}function Ie(ut){return"__proto__"!==ut}const Z=()=>{try{return function nt(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const ut=process.env.__FIREBASE_DEFAULTS__;return ut?JSON.parse(ut):void 0})()||(()=>{if(typeof document>"u")return;let ut;try{ut=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const Xe=ut&&He(ut[1]);return Xe&&JSON.parse(Xe)})()}catch(ut){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${ut}`)}},Me=ut=>{const Xe=(ut=>{var Xe,dt;return null===(dt=null===(Xe=Z())||void 0===Xe?void 0:Xe.emulatorHosts)||void 0===dt?void 0:dt[ut]})(ut);if(!Xe)return;const dt=Xe.lastIndexOf(":");if(dt<=0||dt+1===Xe.length)throw new Error(`Invalid host ${Xe} with no separate hostname and port!`);const dn=parseInt(Xe.substring(dt+1),10);return"["===Xe[0]?[Xe.substring(1,dt-1),dn]:[Xe.substring(0,dt),dn]},Ue=()=>{var ut;return null===(ut=Z())||void 0===ut?void 0:ut.config},Re=ut=>{var Xe;return null===(Xe=Z())||void 0===Xe?void 0:Xe[`_${ut}`]};class $e{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((Xe,dt)=>{this.resolve=Xe,this.reject=dt})}wrapCallback(Xe){return(dt,dn)=>{dt?this.reject(dt):this.resolve(dn),"function"==typeof Xe&&(this.promise.catch(()=>{}),1===Xe.length?Xe(dt):Xe(dt,dn))}}}function ft(ut,Xe){if(ut.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const dn=Xe||"demo-project",rt=ut.iat||0,$n=ut.sub||ut.user_id;if(!$n)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const qn=Object.assign({iss:`https://securetoken.google.com/${dn}`,aud:dn,iat:rt,exp:rt+3600,auth_time:rt,sub:$n,user_id:$n,firebase:{sign_in_provider:"custom",identities:{}}},ut);return[Ot(JSON.stringify({alg:"none",type:"JWT"})),Ot(JSON.stringify(qn)),""].join(".")}function ie(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function de(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ie())}function he(){var ut;const Xe=null===(ut=Z())||void 0===ut?void 0:ut.forceEnvironment;if("node"===Xe)return!0;if("browser"===Xe)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function re(){return"object"==typeof self&&self.self===self}function Ze(){const ut="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof ut&&void 0!==ut.id}function lt(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function We(){const ut=ie();return ut.indexOf("MSIE ")>=0||ut.indexOf("Trident/")>=0}function kt(){return!0===V.NODE_CLIENT||!0===V.NODE_ADMIN}function yt(){return!he()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Ce(){try{return"object"==typeof indexedDB}catch{return!1}}function fe(){return new Promise((ut,Xe)=>{try{let dt=!0;const dn="validate-browser-context-for-indexeddb-analytics-module",rt=self.indexedDB.open(dn);rt.onsuccess=()=>{rt.result.close(),dt||self.indexedDB.deleteDatabase(dn),ut(!0)},rt.onupgradeneeded=()=>{dt=!1},rt.onerror=()=>{var $n;Xe((null===($n=rt.error)||void 0===$n?void 0:$n.message)||"")}}catch(dt){Xe(dt)}})}class Ct extends Error{constructor(Xe,dt,dn){super(dt),this.code=Xe,this.customData=dn,this.name="FirebaseError",Object.setPrototypeOf(this,Ct.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,qe.prototype.create)}}class qe{constructor(Xe,dt,dn){this.service=Xe,this.serviceName=dt,this.errors=dn}create(Xe,...dt){const dn=dt[0]||{},rt=`${this.service}/${Xe}`,$n=this.errors[Xe],qn=$n?function rn(ut,Xe){return ut.replace(Pn,(dt,dn)=>{const rt=Xe[dn];return null!=rt?String(rt):`<${dn}?>`})}($n,dn):"Error";return new Ct(rt,`${this.serviceName}: ${qn} (${rt}).`,dn)}}const Pn=/\{\$([^}]+)}/g;function Rn(ut){return JSON.parse(ut)}function Kn(ut){return JSON.stringify(ut)}const Sr=function(ut){let Xe={},dt={},dn={},rt="";try{const $n=ut.split(".");Xe=Rn(He($n[0])||""),dt=Rn(He($n[1])||""),rt=$n[2],dn=dt.d||{},delete dt.d}catch{}return{header:Xe,claims:dt,data:dn,signature:rt}},Ii=function(ut){const dt=Sr(ut).claims;return!!dt&&"object"==typeof dt&&dt.hasOwnProperty("iat")},Kr=function(ut){const Xe=Sr(ut).claims;return"object"==typeof Xe&&!0===Xe.admin};function en(ut,Xe){return Object.prototype.hasOwnProperty.call(ut,Xe)}function Qt(ut,Xe){if(Object.prototype.hasOwnProperty.call(ut,Xe))return ut[Xe]}function Xt(ut){for(const Xe in ut)if(Object.prototype.hasOwnProperty.call(ut,Xe))return!1;return!0}function tr(ut,Xe,dt){const dn={};for(const rt in ut)Object.prototype.hasOwnProperty.call(ut,rt)&&(dn[rt]=Xe.call(dt,ut[rt],rt,ut));return dn}function ii(ut,Xe){if(ut===Xe)return!0;const dt=Object.keys(ut),dn=Object.keys(Xe);for(const rt of dt){if(!dn.includes(rt))return!1;const $n=ut[rt],qn=Xe[rt];if(wi($n)&&wi(qn)){if(!ii($n,qn))return!1}else if($n!==qn)return!1}for(const rt of dn)if(!dt.includes(rt))return!1;return!0}function wi(ut){return null!==ut&&"object"==typeof ut}function xi(ut){const Xe=[];for(const[dt,dn]of Object.entries(ut))Array.isArray(dn)?dn.forEach(rt=>{Xe.push(encodeURIComponent(dt)+"="+encodeURIComponent(rt))}):Xe.push(encodeURIComponent(dt)+"="+encodeURIComponent(dn));return Xe.length?"&"+Xe.join("&"):""}function zr(ut){const Xe={};return ut.replace(/^\?/,"").split("&").forEach(dn=>{if(dn){const[rt,$n]=dn.split("=");Xe[decodeURIComponent(rt)]=decodeURIComponent($n)}}),Xe}function ko(ut){const Xe=ut.indexOf("?");if(!Xe)return"";const dt=ut.indexOf("#",Xe);return ut.substring(Xe,dt>0?dt:void 0)}class qi{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let Xe=1;Xe<this.blockSize;++Xe)this.pad_[Xe]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(Xe,dt){dt||(dt=0);const dn=this.W_;if("string"==typeof Xe)for(let Ci=0;Ci<16;Ci++)dn[Ci]=Xe.charCodeAt(dt)<<24|Xe.charCodeAt(dt+1)<<16|Xe.charCodeAt(dt+2)<<8|Xe.charCodeAt(dt+3),dt+=4;else for(let Ci=0;Ci<16;Ci++)dn[Ci]=Xe[dt]<<24|Xe[dt+1]<<16|Xe[dt+2]<<8|Xe[dt+3],dt+=4;for(let Ci=16;Ci<80;Ci++){const hn=dn[Ci-3]^dn[Ci-8]^dn[Ci-14]^dn[Ci-16];dn[Ci]=4294967295&(hn<<1|hn>>>31)}let Nr,Zo,rt=this.chain_[0],$n=this.chain_[1],qn=this.chain_[2],$r=this.chain_[3],mo=this.chain_[4];for(let Ci=0;Ci<80;Ci++){Ci<40?Ci<20?(Nr=$r^$n&(qn^$r),Zo=1518500249):(Nr=$n^qn^$r,Zo=1859775393):Ci<60?(Nr=$n&qn|$r&($n|qn),Zo=2400959708):(Nr=$n^qn^$r,Zo=3395469782);const hn=(rt<<5|rt>>>27)+Nr+mo+Zo+dn[Ci]&4294967295;mo=$r,$r=qn,qn=4294967295&($n<<30|$n>>>2),$n=rt,rt=hn}this.chain_[0]=this.chain_[0]+rt&4294967295,this.chain_[1]=this.chain_[1]+$n&4294967295,this.chain_[2]=this.chain_[2]+qn&4294967295,this.chain_[3]=this.chain_[3]+$r&4294967295,this.chain_[4]=this.chain_[4]+mo&4294967295}update(Xe,dt){if(null==Xe)return;void 0===dt&&(dt=Xe.length);const dn=dt-this.blockSize;let rt=0;const $n=this.buf_;let qn=this.inbuf_;for(;rt<dt;){if(0===qn)for(;rt<=dn;)this.compress_(Xe,rt),rt+=this.blockSize;if("string"==typeof Xe){for(;rt<dt;)if($n[qn]=Xe.charCodeAt(rt),++qn,++rt,qn===this.blockSize){this.compress_($n),qn=0;break}}else for(;rt<dt;)if($n[qn]=Xe[rt],++qn,++rt,qn===this.blockSize){this.compress_($n),qn=0;break}}this.inbuf_=qn,this.total_+=dt}digest(){const Xe=[];let dt=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let rt=this.blockSize-1;rt>=56;rt--)this.buf_[rt]=255&dt,dt/=256;this.compress_(this.buf_);let dn=0;for(let rt=0;rt<5;rt++)for(let $n=24;$n>=0;$n-=8)Xe[dn]=this.chain_[rt]>>$n&255,++dn;return Xe}}function ys(ut,Xe){const dt=new Bs(ut,Xe);return dt.subscribe.bind(dt)}class Bs{constructor(Xe,dt){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=dt,this.task.then(()=>{Xe(this)}).catch(dn=>{this.error(dn)})}next(Xe){this.forEachObserver(dt=>{dt.next(Xe)})}error(Xe){this.forEachObserver(dt=>{dt.error(Xe)}),this.close(Xe)}complete(){this.forEachObserver(Xe=>{Xe.complete()}),this.close()}subscribe(Xe,dt,dn){let rt;if(void 0===Xe&&void 0===dt&&void 0===dn)throw new Error("Missing Observer.");rt=function Vi(ut,Xe){if("object"!=typeof ut||null===ut)return!1;for(const dt of Xe)if(dt in ut&&"function"==typeof ut[dt])return!0;return!1}(Xe,["next","error","complete"])?Xe:{next:Xe,error:dt,complete:dn},void 0===rt.next&&(rt.next=gi),void 0===rt.error&&(rt.error=gi),void 0===rt.complete&&(rt.complete=gi);const $n=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?rt.error(this.finalError):rt.complete()}catch{}}),this.observers.push(rt),$n}unsubscribeOne(Xe){void 0===this.observers||void 0===this.observers[Xe]||(delete this.observers[Xe],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(Xe){if(!this.finalized)for(let dt=0;dt<this.observers.length;dt++)this.sendOne(dt,Xe)}sendOne(Xe,dt){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[Xe])try{dt(this.observers[Xe])}catch(dn){typeof console<"u"&&console.error&&console.error(dn)}})}close(Xe){this.finalized||(this.finalized=!0,void 0!==Xe&&(this.finalError=Xe),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function gi(){}const ea=function(ut,Xe,dt,dn){let rt;if(dn<Xe?rt="at least "+Xe:dn>dt&&(rt=0===dt?"none":"no more than "+dt),rt)throw new Error(ut+" failed: Was called with "+dn+(1===dn?" argument.":" arguments.")+" Expects "+rt+".")};function Ds(ut,Xe){return`${ut} failed: ${Xe} argument `}function Ja(ut,Xe,dt,dn){if((!dn||dt)&&"function"!=typeof dt)throw new Error(Ds(ut,Xe)+"must be a valid function.")}function Eo(ut,Xe,dt,dn){if((!dn||dt)&&("object"!=typeof dt||null===dt))throw new Error(Ds(ut,Xe)+"must be a valid context object.")}const xs=function(ut){const Xe=[];let dt=0;for(let dn=0;dn<ut.length;dn++){let rt=ut.charCodeAt(dn);if(rt>=55296&&rt<=56319){const $n=rt-55296;dn++,ln(dn<ut.length,"Surrogate pair missing trail surrogate."),rt=65536+($n<<10)+(ut.charCodeAt(dn)-56320)}rt<128?Xe[dt++]=rt:rt<2048?(Xe[dt++]=rt>>6|192,Xe[dt++]=63&rt|128):rt<65536?(Xe[dt++]=rt>>12|224,Xe[dt++]=rt>>6&63|128,Xe[dt++]=63&rt|128):(Xe[dt++]=rt>>18|240,Xe[dt++]=rt>>12&63|128,Xe[dt++]=rt>>6&63|128,Xe[dt++]=63&rt|128)}return Xe},us=function(ut){let Xe=0;for(let dt=0;dt<ut.length;dt++){const dn=ut.charCodeAt(dt);dn<128?Xe++:dn<2048?Xe+=2:dn>=55296&&dn<=56319?(Xe+=4,dt++):Xe+=3}return Xe};function Ll(ut){return ut&&ut._delegate?ut._delegate:ut}},1656:(go,kr,wt)=>{"use strict";wt.d(kr,{c:()=>Mt,r:()=>De});const Mt=(ie,de)=>{ie.componentOnReady?ie.componentOnReady().then(he=>de(he)):De(()=>de(ie))},De=ie=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(ie):"function"==typeof requestAnimationFrame?requestAnimationFrame(ie):setTimeout(ie)},6031:(go,kr,wt)=>{"use strict";wt.d(kr,{L:()=>V,a:()=>ln,b:()=>Mt,c:()=>tt,d:()=>Tn,g:()=>ie});const V="ionViewWillEnter",ln="ionViewDidEnter",Mt="ionViewWillLeave",tt="ionViewDidLeave",Tn="ionViewWillUnload",ie=de=>de.classList.contains("ion-page")?de:de.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||de},3503:(go,kr,wt)=>{"use strict";wt.d(kr,{c:()=>Ge});var V=wt(8476),ln=wt(5638);let Mt;const Tn=ge=>ge.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Ut=ge=>(void 0===Mt&&(Mt=void 0===ge.style.animationName&&void 0!==ge.style.webkitAnimationName?"-webkit-":""),Mt),Ee=(ge,Z,ce)=>{const Me=Z.startsWith("animation")?Ut(ge):"";ge.style.setProperty(Me+Z,ce)},Rt=(ge,Z)=>{const ce=Z.startsWith("animation")?Ut(ge):"";ge.style.removeProperty(ce+Z)},De=[],Ye=(ge=[],Z)=>{if(void 0!==Z){const ce=Array.isArray(Z)?Z:[Z];return[...ge,...ce]}return ge},Ge=ge=>{let Z,ce,Me,Ue,Re,$e,re,Ce,fe,Te,Ke,Pn,Rn,ft=[],ie=[],de=[],he=!1,Ze={},lt=[],Fe=[],We={},Ft=0,kt=!1,yt=!1,Ct=!0,qe=!1,rn=!0,Kn=!1;const Sr=ge,pi=[],sr=[],Ii=[],Kr=[],en=[],Qt=[],Xt=[],tr=[],ii=[],wi=[],vi=[],xi="function"==typeof AnimationEffect||void 0!==V.w&&"function"==typeof V.w.AnimationEffect,zr="function"==typeof Element&&"function"==typeof Element.prototype.animate&&xi,qi=()=>vi,gi=(Nt,K)=>{const se=K.findIndex(it=>it.c===Nt);se>-1&&K.splice(se,1)},Ds=(Nt,K)=>((null!=K&&K.oneTimeCallback?sr:pi).push({c:Nt,o:K}),Rn),Ja=()=>{if(zr)vi.forEach(Nt=>{Nt.cancel()}),vi.length=0;else{const Nt=Kr.slice();(0,ln.r)(()=>{Nt.forEach(K=>{Rt(K,"animation-name"),Rt(K,"animation-duration"),Rt(K,"animation-timing-function"),Rt(K,"animation-iteration-count"),Rt(K,"animation-delay"),Rt(K,"animation-play-state"),Rt(K,"animation-fill-mode"),Rt(K,"animation-direction")})})}},Eo=()=>{Qt.forEach(Nt=>{null!=Nt&&Nt.parentNode&&Nt.parentNode.removeChild(Nt)}),Qt.length=0},Xe=()=>void 0!==Re?Re:re?re.getFill():"both",dt=()=>void 0!==fe?fe:void 0!==$e?$e:re?re.getDirection():"normal",dn=()=>kt?"linear":void 0!==Me?Me:re?re.getEasing():"linear",rt=()=>yt?0:void 0!==Te?Te:void 0!==ce?ce:re?re.getDuration():0,$n=()=>void 0!==Ue?Ue:re?re.getIterations():1,qn=()=>void 0!==Ke?Ke:void 0!==Z?Z:re?re.getDelay():0,Dt=()=>{0!==Ft&&(Ft--,0===Ft&&((()=>{Zl(),ii.forEach(ht=>ht()),wi.forEach(ht=>ht());const Nt=Ct?1:0,K=lt,se=Fe,it=We;Kr.forEach(ht=>{const Pt=ht.classList;K.forEach($t=>Pt.add($t)),se.forEach($t=>Pt.remove($t));for(const $t in it)it.hasOwnProperty($t)&&Ee(ht,$t,it[$t])}),Te=void 0,fe=void 0,Ke=void 0,pi.forEach(ht=>ht.c(Nt,Rn)),sr.forEach(ht=>ht.c(Nt,Rn)),sr.length=0,rn=!0,Ct&&(qe=!0),Ct=!0})(),re&&re.animationFinish()))},It=(Nt=!0)=>{Eo();const K=(ge=>(ge.forEach(Z=>{for(const ce in Z)if(Z.hasOwnProperty(ce)){const Me=Z[ce];if("easing"===ce)Z["animation-timing-function"]=Me,delete Z[ce];else{const Ue=Tn(ce);Ue!==ce&&(Z[Ue]=Me,delete Z[ce])}}}),ge))(ft);Kr.forEach(se=>{if(K.length>0){const it=((ge=[])=>ge.map(Z=>{const ce=Z.offset,Me=[];for(const Ue in Z)Z.hasOwnProperty(Ue)&&"offset"!==Ue&&Me.push(`${Ue}: ${Z[Ue]};`);return`${100*ce}% { ${Me.join(" ")} }`}).join(" "))(K);Pn=void 0!==ge?ge:(ge=>{let Z=De.indexOf(ge);return Z<0&&(Z=De.push(ge)-1),`ion-animation-${Z}`})(it);const ht=((ge,Z,ce)=>{var Me;const Ue=(ge=>{const Z=void 0!==ge.getRootNode?ge.getRootNode():ge;return Z.head||Z})(ce),Re=Ut(ce),$e=Ue.querySelector("#"+ge);if($e)return $e;const ft=(null!==(Me=ce.ownerDocument)&&void 0!==Me?Me:document).createElement("style");return ft.id=ge,ft.textContent=`@${Re}keyframes ${ge} { ${Z} } @${Re}keyframes ${ge}-alt { ${Z} }`,Ue.appendChild(ft),ft})(Pn,it,se);Qt.push(ht),Ee(se,"animation-duration",`${rt()}ms`),Ee(se,"animation-timing-function",dn()),Ee(se,"animation-delay",`${qn()}ms`),Ee(se,"animation-fill-mode",Xe()),Ee(se,"animation-direction",dt());const Pt=$n()===1/0?"infinite":$n().toString();Ee(se,"animation-iteration-count",Pt),Ee(se,"animation-play-state","paused"),Nt&&Ee(se,"animation-name",`${ht.id}-alt`),(0,ln.r)(()=>{Ee(se,"animation-name",ht.id||null)})}})},Yn=(Nt=!0)=>{(()=>{Xt.forEach(it=>it()),tr.forEach(it=>it());const Nt=ie,K=de,se=Ze;Kr.forEach(it=>{const ht=it.classList;Nt.forEach(Pt=>ht.add(Pt)),K.forEach(Pt=>ht.remove(Pt));for(const Pt in se)se.hasOwnProperty(Pt)&&Ee(it,Pt,se[Pt])})})(),ft.length>0&&(zr?(Kr.forEach(Nt=>{const K=Nt.animate(ft,{id:Sr,delay:qn(),duration:rt(),easing:dn(),iterations:$n(),fill:Xe(),direction:dt()});K.pause(),vi.push(K)}),vi.length>0&&(vi[0].onfinish=()=>{Dt()})):It(Nt)),he=!0},br=Nt=>{if(Nt=Math.min(Math.max(Nt,0),.9999),zr)vi.forEach(K=>{K.currentTime=K.effect.getComputedTiming().delay+rt()*Nt,K.pause()});else{const K=`-${rt()*Nt}ms`;Kr.forEach(se=>{ft.length>0&&(Ee(se,"animation-delay",K),Ee(se,"animation-play-state","paused"))})}},oi=Nt=>{vi.forEach(K=>{K.effect.updateTiming({delay:qn(),duration:rt(),easing:dn(),iterations:$n(),fill:Xe(),direction:dt()})}),void 0!==Nt&&br(Nt)},ar=(Nt=!0,K)=>{(0,ln.r)(()=>{Kr.forEach(se=>{Ee(se,"animation-name",Pn||null),Ee(se,"animation-duration",`${rt()}ms`),Ee(se,"animation-timing-function",dn()),Ee(se,"animation-delay",void 0!==K?`-${K*rt()}ms`:`${qn()}ms`),Ee(se,"animation-fill-mode",Xe()||null),Ee(se,"animation-direction",dt()||null);const it=$n()===1/0?"infinite":$n().toString();Ee(se,"animation-iteration-count",it),Nt&&Ee(se,"animation-name",`${Pn}-alt`),(0,ln.r)(()=>{Ee(se,"animation-name",Pn||null)})})})},Fi=(Nt=!1,K=!0,se)=>(Nt&&en.forEach(it=>{it.update(Nt,K,se)}),zr?oi(se):ar(K,se),Rn),Gr=()=>{he&&(zr?vi.forEach(Nt=>{Nt.pause()}):Kr.forEach(Nt=>{Ee(Nt,"animation-play-state","paused")}),Kn=!0)},So=()=>{Ce=void 0,Dt()},Zl=()=>{Ce&&clearTimeout(Ce)},Wd=Nt=>new Promise(K=>{null!=Nt&&Nt.sync&&(yt=!0,Ds(()=>yt=!1,{oneTimeCallback:!0})),he||Yn(),qe&&(zr?(br(0),oi()):ar(),qe=!1),rn&&(Ft=en.length+1,rn=!1);const se=()=>{gi(it,sr),K()},it=()=>{gi(se,Ii),K()};Ds(it,{oneTimeCallback:!0}),((Nt,K)=>{Ii.push({c:Nt,o:{oneTimeCallback:!0}})})(se),en.forEach(ht=>{ht.play()}),zr?(vi.forEach(Nt=>{Nt.play()}),(0===ft.length||0===Kr.length)&&Dt()):(()=>{if(Zl(),(0,ln.r)(()=>{Kr.forEach(Nt=>{ft.length>0&&Ee(Nt,"animation-play-state","running")})}),0===ft.length||0===Kr.length)Dt();else{const Nt=qn()||0,K=rt()||0,se=$n()||1;isFinite(se)&&(Ce=setTimeout(So,Nt+K*se+100)),((ge,Z)=>{let ce;const Me={passive:!0},Re=$e=>{ge===$e.target&&(ce&&ce(),Zl(),(0,ln.r)(()=>{Kr.forEach(Nt=>{Rt(Nt,"animation-duration"),Rt(Nt,"animation-delay"),Rt(Nt,"animation-play-state")}),(0,ln.r)(Dt)}))};ge&&(ge.addEventListener("webkitAnimationEnd",Re,Me),ge.addEventListener("animationend",Re,Me),ce=()=>{ge.removeEventListener("webkitAnimationEnd",Re,Me),ge.removeEventListener("animationend",Re,Me)})})(Kr[0])}})(),Kn=!1}),Nu=(Nt,K)=>{const se=ft[0];return void 0===se||void 0!==se.offset&&0!==se.offset?ft=[{offset:0,[Nt]:K},...ft]:se[Nt]=K,Rn};return Rn={parentAnimation:re,elements:Kr,childAnimations:en,id:Sr,animationFinish:Dt,from:Nu,to:(Nt,K)=>{const se=ft[ft.length-1];return void 0===se||void 0!==se.offset&&1!==se.offset?ft=[...ft,{offset:1,[Nt]:K}]:se[Nt]=K,Rn},fromTo:(Nt,K,se)=>Nu(Nt,K).to(Nt,se),parent:Nt=>(re=Nt,Rn),play:Wd,pause:()=>(en.forEach(Nt=>{Nt.pause()}),Gr(),Rn),stop:()=>{en.forEach(Nt=>{Nt.stop()}),he&&(Ja(),he=!1),kt=!1,yt=!1,rn=!0,fe=void 0,Te=void 0,Ke=void 0,Ft=0,qe=!1,Ct=!0,Kn=!1,Ii.forEach(Nt=>Nt.c(0,Rn)),Ii.length=0},destroy:Nt=>(en.forEach(K=>{K.destroy(Nt)}),(Nt=>{Ja(),Nt&&Eo()})(Nt),Kr.length=0,en.length=0,ft.length=0,pi.length=0,sr.length=0,he=!1,rn=!0,Rn),keyframes:Nt=>{const K=ft!==Nt;return ft=Nt,K&&(Nt=>{zr?qi().forEach(K=>{const se=K.effect;if(se.setKeyframes)se.setKeyframes(Nt);else{const it=new KeyframeEffect(se.target,Nt,se.getTiming());K.effect=it}}):It()})(ft),Rn},addAnimation:Nt=>{if(null!=Nt)if(Array.isArray(Nt))for(const K of Nt)K.parent(Rn),en.push(K);else Nt.parent(Rn),en.push(Nt);return Rn},addElement:Nt=>{if(null!=Nt)if(1===Nt.nodeType)Kr.push(Nt);else if(Nt.length>=0)for(let K=0;K<Nt.length;K++)Kr.push(Nt[K]);else console.error("Invalid addElement value");return Rn},update:Fi,fill:Nt=>(Re=Nt,Fi(!0),Rn),direction:Nt=>($e=Nt,Fi(!0),Rn),iterations:Nt=>(Ue=Nt,Fi(!0),Rn),duration:Nt=>(!zr&&0===Nt&&(Nt=1),ce=Nt,Fi(!0),Rn),easing:Nt=>(Me=Nt,Fi(!0),Rn),delay:Nt=>(Z=Nt,Fi(!0),Rn),getWebAnimations:qi,getKeyframes:()=>ft,getFill:Xe,getDirection:dt,getDelay:qn,getIterations:$n,getEasing:dn,getDuration:rt,afterAddRead:Nt=>(ii.push(Nt),Rn),afterAddWrite:Nt=>(wi.push(Nt),Rn),afterClearStyles:(Nt=[])=>{for(const K of Nt)We[K]="";return Rn},afterStyles:(Nt={})=>(We=Nt,Rn),afterRemoveClass:Nt=>(Fe=Ye(Fe,Nt),Rn),afterAddClass:Nt=>(lt=Ye(lt,Nt),Rn),beforeAddRead:Nt=>(Xt.push(Nt),Rn),beforeAddWrite:Nt=>(tr.push(Nt),Rn),beforeClearStyles:(Nt=[])=>{for(const K of Nt)Ze[K]="";return Rn},beforeStyles:(Nt={})=>(Ze=Nt,Rn),beforeRemoveClass:Nt=>(de=Ye(de,Nt),Rn),beforeAddClass:Nt=>(ie=Ye(ie,Nt),Rn),onFinish:Ds,isRunning:()=>0!==Ft&&!Kn,progressStart:(Nt=!1,K)=>(en.forEach(se=>{se.progressStart(Nt,K)}),Gr(),kt=Nt,he||Yn(),Fi(!1,!0,K),Rn),progressStep:Nt=>(en.forEach(K=>{K.progressStep(Nt)}),br(Nt),Rn),progressEnd:(Nt,K,se)=>(kt=!1,en.forEach(it=>{it.progressEnd(Nt,K,se)}),void 0!==se&&(Te=se),qe=!1,Ct=!0,0===Nt?(fe="reverse"===dt()?"normal":"reverse","reverse"===fe&&(Ct=!1),zr?(Fi(),br(1-K)):(Ke=(1-K)*rt()*-1,Fi(!1,!1))):1===Nt&&(zr?(Fi(),br(K)):(Ke=K*rt()*-1,Fi(!1,!1))),void 0!==Nt&&!re&&Wd(),Rn)}}},464:(go,kr,wt)=>{"use strict";wt.d(kr,{E:()=>He,a:()=>V,s:()=>Rt});const V=De=>{try{if(De instanceof Ee)return De.value;if(!tt()||"string"!=typeof De||""===De)return De;if(De.includes("onload="))return"";const ot=document.createDocumentFragment(),Ie=document.createElement("div");ot.appendChild(Ie),Ie.innerHTML=De,Ut.forEach(ge=>{const Z=ot.querySelectorAll(ge);for(let ce=Z.length-1;ce>=0;ce--){const Me=Z[ce];Me.parentNode?Me.parentNode.removeChild(Me):ot.removeChild(Me);const Ue=Mt(Me);for(let Re=0;Re<Ue.length;Re++)ln(Ue[Re])}});const nt=Mt(ot);for(let ge=0;ge<nt.length;ge++)ln(nt[ge]);const Ye=document.createElement("div");Ye.appendChild(ot);const Ge=Ye.querySelector("div");return null!==Ge?Ge.innerHTML:Ye.innerHTML}catch(ot){return console.error(ot),""}},ln=De=>{if(De.nodeType&&1!==De.nodeType)return;if(typeof NamedNodeMap<"u"&&!(De.attributes instanceof NamedNodeMap))return void De.remove();for(let Ie=De.attributes.length-1;Ie>=0;Ie--){const nt=De.attributes.item(Ie),Ye=nt.name;if(!Tn.includes(Ye.toLowerCase())){De.removeAttribute(Ye);continue}const Ge=nt.value,ge=De[Ye];(null!=Ge&&Ge.toLowerCase().includes("javascript:")||null!=ge&&ge.toLowerCase().includes("javascript:"))&&De.removeAttribute(Ye)}const ot=Mt(De);for(let Ie=0;Ie<ot.length;Ie++)ln(ot[Ie])},Mt=De=>null!=De.children?De.children:De.childNodes,tt=()=>{var De;const ot=window,Ie=null===(De=null==ot?void 0:ot.Ionic)||void 0===De?void 0:De.config;return!Ie||(Ie.get?Ie.get("sanitizerEnabled",!0):!0===Ie.sanitizerEnabled||void 0===Ie.sanitizerEnabled)},Tn=["class","id","href","src","name","slot"],Ut=["script","style","iframe","meta","link","object","embed"];class Ee{constructor(ot){this.value=ot}}const Rt=De=>{const ot=window,Ie=ot.Ionic;if(!Ie||!Ie.config||"Object"===Ie.config.constructor.name)return ot.Ionic=ot.Ionic||{},ot.Ionic.config=Object.assign(Object.assign({},ot.Ionic.config),De),ot.Ionic.config},He=!1},5938:(go,kr,wt)=>{"use strict";wt.d(kr,{C:()=>Tn,a:()=>Mt,d:()=>tt});var V=wt(467),ln=wt(5638);const Mt=function(){var Ut=(0,V.A)(function*(Ee,Rt,Ot,He,De,ot){var Ie;if(Ee)return Ee.attachViewToDom(Rt,Ot,De,He);if(!(ot||"string"==typeof Ot||Ot instanceof HTMLElement))throw new Error("framework delegate is missing");const nt="string"==typeof Ot?null===(Ie=Rt.ownerDocument)||void 0===Ie?void 0:Ie.createElement(Ot):Ot;return He&&He.forEach(Ye=>nt.classList.add(Ye)),De&&Object.assign(nt,De),Rt.appendChild(nt),yield new Promise(Ye=>(0,ln.c)(nt,Ye)),nt});return function(Rt,Ot,He,De,ot,Ie){return Ut.apply(this,arguments)}}(),tt=(Ut,Ee)=>{if(Ee){if(Ut)return Ut.removeViewFromDom(Ee.parentElement,Ee);Ee.remove()}return Promise.resolve()},Tn=()=>{let Ut,Ee;return{attachViewToDom:function(){var He=(0,V.A)(function*(De,ot,Ie={},nt=[]){var Ye,Ge;let ge;if(Ut=De,ot){const ce="string"==typeof ot?null===(Ye=Ut.ownerDocument)||void 0===Ye?void 0:Ye.createElement(ot):ot;nt.forEach(Me=>ce.classList.add(Me)),Object.assign(ce,Ie),Ut.appendChild(ce),ge=ce,yield new Promise(Me=>(0,ln.c)(ce,Me))}else if(Ut.children.length>0&&("ION-MODAL"===Ut.tagName||"ION-POPOVER"===Ut.tagName)&&!(ge=Ut.children[0]).classList.contains("ion-delegate-host")){const Me=null===(Ge=Ut.ownerDocument)||void 0===Ge?void 0:Ge.createElement("div");Me.classList.add("ion-delegate-host"),nt.forEach(Ue=>Me.classList.add(Ue)),Me.append(...Ut.children),Ut.appendChild(Me),ge=Me}const Z=document.querySelector("ion-app")||document.body;return Ee=document.createComment("ionic teleport"),Ut.parentNode.insertBefore(Ee,Ut),Z.appendChild(Ut),null!=ge?ge:Ut});return function(ot,Ie){return He.apply(this,arguments)}}(),removeViewFromDom:()=>(Ut&&Ee&&(Ee.parentNode.insertBefore(Ut,Ee),Ee.remove()),Promise.resolve())}}},8221:(go,kr,wt)=>{"use strict";wt.d(kr,{G:()=>Tn});class ln{constructor(Ee,Rt,Ot,He,De){this.id=Rt,this.name=Ot,this.disableScroll=De,this.priority=1e6*He+Rt,this.ctrl=Ee}canStart(){return!!this.ctrl&&this.ctrl.canStart(this.name)}start(){return!!this.ctrl&&this.ctrl.start(this.name,this.id,this.priority)}capture(){if(!this.ctrl)return!1;const Ee=this.ctrl.capture(this.name,this.id,this.priority);return Ee&&this.disableScroll&&this.ctrl.disableScroll(this.id),Ee}release(){this.ctrl&&(this.ctrl.release(this.id),this.disableScroll&&this.ctrl.enableScroll(this.id))}destroy(){this.release(),this.ctrl=void 0}}class Mt{constructor(Ee,Rt,Ot,He){this.id=Rt,this.disable=Ot,this.disableScroll=He,this.ctrl=Ee}block(){if(this.ctrl){if(this.disable)for(const Ee of this.disable)this.ctrl.disableGesture(Ee,this.id);this.disableScroll&&this.ctrl.disableScroll(this.id)}}unblock(){if(this.ctrl){if(this.disable)for(const Ee of this.disable)this.ctrl.enableGesture(Ee,this.id);this.disableScroll&&this.ctrl.enableScroll(this.id)}}destroy(){this.unblock(),this.ctrl=void 0}}const tt="backdrop-no-scroll",Tn=new class V{constructor(){this.gestureId=0,this.requestedStart=new Map,this.disabledGestures=new Map,this.disabledScroll=new Set}createGesture(Ee){var Rt;return new ln(this,this.newID(),Ee.name,null!==(Rt=Ee.priority)&&void 0!==Rt?Rt:0,!!Ee.disableScroll)}createBlocker(Ee={}){return new Mt(this,this.newID(),Ee.disable,!!Ee.disableScroll)}start(Ee,Rt,Ot){return this.canStart(Ee)?(this.requestedStart.set(Rt,Ot),!0):(this.requestedStart.delete(Rt),!1)}capture(Ee,Rt,Ot){if(!this.start(Ee,Rt,Ot))return!1;const He=this.requestedStart;let De=-1e4;if(He.forEach(ot=>{De=Math.max(De,ot)}),De===Ot){this.capturedId=Rt,He.clear();const ot=new CustomEvent("ionGestureCaptured",{detail:{gestureName:Ee}});return document.dispatchEvent(ot),!0}return He.delete(Rt),!1}release(Ee){this.requestedStart.delete(Ee),this.capturedId===Ee&&(this.capturedId=void 0)}disableGesture(Ee,Rt){let Ot=this.disabledGestures.get(Ee);void 0===Ot&&(Ot=new Set,this.disabledGestures.set(Ee,Ot)),Ot.add(Rt)}enableGesture(Ee,Rt){const Ot=this.disabledGestures.get(Ee);void 0!==Ot&&Ot.delete(Rt)}disableScroll(Ee){this.disabledScroll.add(Ee),1===this.disabledScroll.size&&document.body.classList.add(tt)}enableScroll(Ee){this.disabledScroll.delete(Ee),0===this.disabledScroll.size&&document.body.classList.remove(tt)}canStart(Ee){return!(void 0!==this.capturedId||this.isDisabled(Ee))}isCaptured(){return void 0!==this.capturedId}isScrollDisabled(){return this.disabledScroll.size>0}isDisabled(Ee){const Rt=this.disabledGestures.get(Ee);return!!(Rt&&Rt.size>0)}newID(){return this.gestureId++,this.gestureId}}},9457:(go,kr,wt)=>{"use strict";wt.r(kr),wt.d(kr,{MENU_BACK_BUTTON_PRIORITY:()=>Ot,OVERLAY_BACK_BUTTON_PRIORITY:()=>Rt,blockHardwareBackButton:()=>Ut,shouldUseCloseWatcher:()=>Tn,startHardwareBackButton:()=>Ee});var V=wt(467),ln=wt(8476),Mt=wt(8436);wt(9081);const Tn=()=>Mt.c.get("experimentalCloseWatcher",!1)&&void 0!==ln.w&&"CloseWatcher"in ln.w,Ut=()=>{document.addEventListener("backbutton",()=>{})},Ee=()=>{const He=document;let De=!1;const ot=()=>{if(De)return;let Ie=0,nt=[];const Ye=new CustomEvent("ionBackButton",{bubbles:!1,detail:{register(Z,ce){nt.push({priority:Z,handler:ce,id:Ie++})}}});He.dispatchEvent(Ye);const Ge=function(){var Z=(0,V.A)(function*(ce){try{if(null!=ce&&ce.handler){const Me=ce.handler(ge);null!=Me&&(yield Me)}}catch(Me){console.error(Me)}});return function(Me){return Z.apply(this,arguments)}}(),ge=()=>{if(nt.length>0){let Z={priority:Number.MIN_SAFE_INTEGER,handler:()=>{},id:-1};nt.forEach(ce=>{ce.priority>=Z.priority&&(Z=ce)}),De=!0,nt=nt.filter(ce=>ce.id!==Z.id),Ge(Z).then(()=>De=!1)}};ge()};if(Tn()){let Ie;const nt=()=>{null==Ie||Ie.destroy(),Ie=new ln.w.CloseWatcher,Ie.onclose=()=>{ot(),nt()}};nt()}else He.addEventListener("backbutton",ot)},Rt=100,Ot=99},5638:(go,kr,wt)=>{"use strict";wt.d(kr,{a:()=>Rt,b:()=>Ot,c:()=>Mt,d:()=>Ge,e:()=>Ye,f:()=>nt,g:()=>He,h:()=>Ie,i:()=>Ee,j:()=>Re,k:()=>Tn,l:()=>ge,m:()=>tt,n:()=>ot,o:()=>Z,p:()=>Ue,q:()=>$e,r:()=>De,s:()=>ft,t:()=>V,u:()=>ce,v:()=>Me});const V=(ie,de=0)=>new Promise(he=>{ln(ie,de,he)}),ln=(ie,de=0,he)=>{let re,Ze;const lt={passive:!0},We=()=>{re&&re()},Ft=kt=>{(void 0===kt||ie===kt.target)&&(We(),he(kt))};return ie&&(ie.addEventListener("webkitTransitionEnd",Ft,lt),ie.addEventListener("transitionend",Ft,lt),Ze=setTimeout(Ft,de+500),re=()=>{void 0!==Ze&&(clearTimeout(Ze),Ze=void 0),ie.removeEventListener("webkitTransitionEnd",Ft,lt),ie.removeEventListener("transitionend",Ft,lt)}),We},Mt=(ie,de)=>{ie.componentOnReady?ie.componentOnReady().then(he=>de(he)):De(()=>de(ie))},tt=ie=>void 0!==ie.componentOnReady,Tn=(ie,de=[])=>{const he={};return de.forEach(re=>{ie.hasAttribute(re)&&(null!==ie.getAttribute(re)&&(he[re]=ie.getAttribute(re)),ie.removeAttribute(re))}),he},Ut=["role","aria-activedescendant","aria-atomic","aria-autocomplete","aria-braillelabel","aria-brailleroledescription","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colindextext","aria-colspan","aria-controls","aria-current","aria-describedby","aria-description","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowindextext","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext"],Ee=(ie,de)=>{let he=Ut;return de&&de.length>0&&(he=he.filter(re=>!de.includes(re))),Tn(ie,he)},Rt=(ie,de,he,re)=>{var Ze;if(typeof window<"u"){const lt=window,Fe=null===(Ze=null==lt?void 0:lt.Ionic)||void 0===Ze?void 0:Ze.config;if(Fe){const We=Fe.get("_ael");if(We)return We(ie,de,he,re);if(Fe._ael)return Fe._ael(ie,de,he,re)}}return ie.addEventListener(de,he,re)},Ot=(ie,de,he,re)=>{var Ze;if(typeof window<"u"){const lt=window,Fe=null===(Ze=null==lt?void 0:lt.Ionic)||void 0===Ze?void 0:Ze.config;if(Fe){const We=Fe.get("_rel");if(We)return We(ie,de,he,re);if(Fe._rel)return Fe._rel(ie,de,he,re)}}return ie.removeEventListener(de,he,re)},He=(ie,de=ie)=>ie.shadowRoot||de,De=ie=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(ie):"function"==typeof requestAnimationFrame?requestAnimationFrame(ie):setTimeout(ie),ot=ie=>!!ie.shadowRoot&&!!ie.attachShadow,Ie=ie=>{const de=ie.closest("ion-item");return de?de.querySelector("ion-label"):null},nt=ie=>{if(ie.focus(),ie.classList.contains("ion-focusable")){const de=ie.closest("ion-app");de&&de.setFocus([ie])}},Ye=(ie,de)=>{let he;const re=ie.getAttribute("aria-labelledby"),Ze=ie.id;let lt=null!==re&&""!==re.trim()?re:de+"-lbl",Fe=null!==re&&""!==re.trim()?document.getElementById(re):Ie(ie);return Fe?(null===re&&(Fe.id=lt),he=Fe.textContent,Fe.setAttribute("aria-hidden","true")):""!==Ze.trim()&&(Fe=document.querySelector(`label[for="${Ze}"]`),Fe&&(""!==Fe.id?lt=Fe.id:Fe.id=lt=`${Ze}-lbl`,he=Fe.textContent)),{label:Fe,labelId:lt,labelText:he}},Ge=(ie,de,he,re,Ze)=>{if(ie||ot(de)){let lt=de.querySelector("input.aux-input");lt||(lt=de.ownerDocument.createElement("input"),lt.type="hidden",lt.classList.add("aux-input"),de.appendChild(lt)),lt.disabled=Ze,lt.name=he,lt.value=re||""}},ge=(ie,de,he)=>Math.max(ie,Math.min(de,he)),Z=(ie,de)=>{if(!ie){const he="ASSERT: "+de;throw console.error(he),new Error(he)}},ce=ie=>ie.timeStamp||Date.now(),Me=ie=>{if(ie){const de=ie.changedTouches;if(de&&de.length>0){const he=de[0];return{x:he.clientX,y:he.clientY}}if(void 0!==ie.pageX)return{x:ie.pageX,y:ie.pageY}}return{x:0,y:0}},Ue=ie=>{const de="rtl"===document.dir;switch(ie){case"start":return de;case"end":return!de;default:throw new Error(`"${ie}" is not a valid value for [side]. Use "start" or "end" instead.`)}},Re=(ie,de)=>{const he=ie._original||ie;return{_original:ie,emit:$e(he.emit.bind(he),de)}},$e=(ie,de=0)=>{let he;return(...re)=>{clearTimeout(he),he=setTimeout(ie,de,...re)}},ft=(ie,de)=>{if(null!=ie||(ie={}),null!=de||(de={}),ie===de)return!0;const he=Object.keys(ie);if(he.length!==Object.keys(de).length)return!1;for(const re of he)if(!(re in de)||ie[re]!==de[re])return!1;return!0}},405:(go,kr,wt)=>{"use strict";wt.r(kr),wt.d(kr,{GESTURE_CONTROLLER:()=>V.G,createGesture:()=>Ot});var V=wt(8221);const ln=(Ie,nt,Ye,Ge)=>{const ge=Mt(Ie)?{capture:!!Ge.capture,passive:!!Ge.passive}:!!Ge.capture;let Z,ce;return Ie.__zone_symbol__addEventListener?(Z="__zone_symbol__addEventListener",ce="__zone_symbol__removeEventListener"):(Z="addEventListener",ce="removeEventListener"),Ie[Z](nt,Ye,ge),()=>{Ie[ce](nt,Ye,ge)}},Mt=Ie=>{if(void 0===tt)try{const nt=Object.defineProperty({},"passive",{get:()=>{tt=!0}});Ie.addEventListener("optsTest",()=>{},nt)}catch{tt=!1}return!!tt};let tt;const Ee=Ie=>Ie instanceof Document?Ie:Ie.ownerDocument,Ot=Ie=>{let nt=!1,Ye=!1,Ge=!0,ge=!1;const Z=Object.assign({disableScroll:!1,direction:"x",gesturePriority:0,passive:!0,maxAngle:40,threshold:10},Ie),ce=Z.canStart,Me=Z.onWillStart,Ue=Z.onStart,Re=Z.onEnd,$e=Z.notCaptured,ft=Z.onMove,ie=Z.threshold,de=Z.passive,he=Z.blurOnStart,re={type:"pan",startX:0,startY:0,startTime:0,currentX:0,currentY:0,velocityX:0,velocityY:0,deltaX:0,deltaY:0,currentTime:0,event:void 0,data:void 0},Ze=((Ie,nt,Ye)=>{const Ge=Ye*(Math.PI/180),ge="x"===Ie,Z=Math.cos(Ge),ce=nt*nt;let Me=0,Ue=0,Re=!1,$e=0;return{start(ft,ie){Me=ft,Ue=ie,$e=0,Re=!0},detect(ft,ie){if(!Re)return!1;const de=ft-Me,he=ie-Ue,re=de*de+he*he;if(re<ce)return!1;const Ze=Math.sqrt(re),lt=(ge?de:he)/Ze;return $e=lt>Z?1:lt<-Z?-1:0,Re=!1,!0},isGesture:()=>0!==$e,getDirection:()=>$e}})(Z.direction,Z.threshold,Z.maxAngle),lt=V.G.createGesture({name:Ie.gestureName,priority:Ie.gesturePriority,disableScroll:Ie.disableScroll}),Ft=()=>{nt&&(ge=!1,ft&&ft(re))},kt=()=>!!lt.capture()&&(nt=!0,Ge=!1,re.startX=re.currentX,re.startY=re.currentY,re.startTime=re.currentTime,Me?Me(re).then(Ce):Ce(),!0),Ce=()=>{he&&(()=>{if(typeof document<"u"){const qe=document.activeElement;null!=qe&&qe.blur&&qe.blur()}})(),Ue&&Ue(re),Ge=!0},fe=()=>{nt=!1,Ye=!1,ge=!1,Ge=!0,lt.release()},Te=qe=>{const rn=nt,Pn=Ge;if(fe(),Pn){if(He(re,qe),rn)return void(Re&&Re(re));$e&&$e(re)}},Ke=((Ie,nt,Ye,Ge,ge)=>{let Z,ce,Me,Ue,Re,$e,ft,ie=0;const de=yt=>{ie=Date.now()+2e3,nt(yt)&&(!ce&&Ye&&(ce=ln(Ie,"touchmove",Ye,ge)),Me||(Me=ln(yt.target,"touchend",re,ge)),Ue||(Ue=ln(yt.target,"touchcancel",re,ge)))},he=yt=>{ie>Date.now()||nt(yt)&&(!$e&&Ye&&($e=ln(Ee(Ie),"mousemove",Ye,ge)),ft||(ft=ln(Ee(Ie),"mouseup",Ze,ge)))},re=yt=>{lt(),Ge&&Ge(yt)},Ze=yt=>{Fe(),Ge&&Ge(yt)},lt=()=>{ce&&ce(),Me&&Me(),Ue&&Ue(),ce=Me=Ue=void 0},Fe=()=>{$e&&$e(),ft&&ft(),$e=ft=void 0},We=()=>{lt(),Fe()},Ft=(yt=!0)=>{yt?(Z||(Z=ln(Ie,"touchstart",de,ge)),Re||(Re=ln(Ie,"mousedown",he,ge))):(Z&&Z(),Re&&Re(),Z=Re=void 0,We())};return{enable:Ft,stop:We,destroy:()=>{Ft(!1),Ge=Ye=nt=void 0}}})(Z.el,qe=>{const rn=ot(qe);return!(Ye||!Ge||(De(qe,re),re.startX=re.currentX,re.startY=re.currentY,re.startTime=re.currentTime=rn,re.velocityX=re.velocityY=re.deltaX=re.deltaY=0,re.event=qe,ce&&!1===ce(re))||(lt.release(),!lt.start()))&&(Ye=!0,0===ie?kt():(Ze.start(re.startX,re.startY),!0))},qe=>{nt?!ge&&Ge&&(ge=!0,He(re,qe),requestAnimationFrame(Ft)):(He(re,qe),Ze.detect(re.currentX,re.currentY)&&(!Ze.isGesture()||!kt())&&Ct())},Te,{capture:!1,passive:de}),Ct=()=>{fe(),Ke.stop(),$e&&$e(re)};return{enable(qe=!0){qe||(nt&&Te(void 0),fe()),Ke.enable(qe)},destroy(){lt.destroy(),Ke.destroy()}}},He=(Ie,nt)=>{if(!nt)return;const Ye=Ie.currentX,Ge=Ie.currentY,ge=Ie.currentTime;De(nt,Ie);const Z=Ie.currentX,ce=Ie.currentY,Ue=(Ie.currentTime=ot(nt))-ge;if(Ue>0&&Ue<100){const $e=(ce-Ge)/Ue;Ie.velocityX=(Z-Ye)/Ue*.7+.3*Ie.velocityX,Ie.velocityY=.7*$e+.3*Ie.velocityY}Ie.deltaX=Z-Ie.startX,Ie.deltaY=ce-Ie.startY,Ie.event=nt},De=(Ie,nt)=>{let Ye=0,Ge=0;if(Ie){const ge=Ie.changedTouches;if(ge&&ge.length>0){const Z=ge[0];Ye=Z.clientX,Ge=Z.clientY}else void 0!==Ie.pageX&&(Ye=Ie.pageX,Ge=Ie.pageY)}nt.currentX=Ye,nt.currentY=Ge},ot=Ie=>Ie.timeStamp||Date.now()},7818:(go,kr,wt)=>{"use strict";wt.d(kr,{m:()=>Ie});var V=wt(467),ln=wt(8476),Mt=wt(9457),tt=wt(4929),Tn=wt(5638),Ut=wt(8436),Ee=wt(3503);const Rt=nt=>(0,Ee.c)().duration(nt?400:300),Ot=nt=>{let Ye,Ge;const ge=nt.width+8,Z=(0,Ee.c)(),ce=(0,Ee.c)();nt.isEndSide?(Ye=ge+"px",Ge="0px"):(Ye=-ge+"px",Ge="0px"),Z.addElement(nt.menuInnerEl).fromTo("transform",`translateX(${Ye})`,`translateX(${Ge})`);const Ue="ios"===(0,Ut.b)(nt),Re=Ue?.2:.25;return ce.addElement(nt.backdropEl).fromTo("opacity",.01,Re),Rt(Ue).addAnimation([Z,ce])},He=nt=>{let Ye,Ge;const ge=(0,Ut.b)(nt),Z=nt.width;nt.isEndSide?(Ye=-Z+"px",Ge=Z+"px"):(Ye=Z+"px",Ge=-Z+"px");const ce=(0,Ee.c)().addElement(nt.menuInnerEl).fromTo("transform",`translateX(${Ge})`,"translateX(0px)"),Me=(0,Ee.c)().addElement(nt.contentEl).fromTo("transform","translateX(0px)",`translateX(${Ye})`),Ue=(0,Ee.c)().addElement(nt.backdropEl).fromTo("opacity",.01,.32);return Rt("ios"===ge).addAnimation([ce,Me,Ue])},De=nt=>{const Ye=(0,Ut.b)(nt),Ge=nt.width*(nt.isEndSide?-1:1)+"px",ge=(0,Ee.c)().addElement(nt.contentEl).fromTo("transform","translateX(0px)",`translateX(${Ge})`);return Rt("ios"===Ye).addAnimation(ge)},Ie=(()=>{const nt=new Map,Ye=[],Ge=function(){var fe=(0,V.A)(function*(Te){const Ke=yield $e(Te,!0);return!!Ke&&Ke.open()});return function(Ke){return fe.apply(this,arguments)}}(),ge=function(){var fe=(0,V.A)(function*(Te){const Ke=yield void 0!==Te?$e(Te,!0):ft();return void 0!==Ke&&Ke.close()});return function(Ke){return fe.apply(this,arguments)}}(),Z=function(){var fe=(0,V.A)(function*(Te){const Ke=yield $e(Te,!0);return!!Ke&&Ke.toggle()});return function(Ke){return fe.apply(this,arguments)}}(),ce=function(){var fe=(0,V.A)(function*(Te,Ke){const Ct=yield $e(Ke);return Ct&&(Ct.disabled=!Te),Ct});return function(Ke,Ct){return fe.apply(this,arguments)}}(),Me=function(){var fe=(0,V.A)(function*(Te,Ke){const Ct=yield $e(Ke);return Ct&&(Ct.swipeGesture=Te),Ct});return function(Ke,Ct){return fe.apply(this,arguments)}}(),Ue=function(){var fe=(0,V.A)(function*(Te){if(null!=Te){const Ke=yield $e(Te);return void 0!==Ke&&Ke.isOpen()}return void 0!==(yield ft())});return function(Ke){return fe.apply(this,arguments)}}(),Re=function(){var fe=(0,V.A)(function*(Te){const Ke=yield $e(Te);return!!Ke&&!Ke.disabled});return function(Ke){return fe.apply(this,arguments)}}(),$e=function(){var fe=(0,V.A)(function*(Te,Ke=!1){if(yield Ce(),"start"===Te||"end"===Te){const qe=Ye.filter(Pn=>Pn.side===Te&&!Pn.disabled);if(qe.length>=1)return qe.length>1&&Ke&&(0,tt.p)(`menuController queried for a menu on the "${Te}" side, but ${qe.length} menus were found. The first menu reference will be used. If this is not the behavior you want then pass the ID of the menu instead of its side.`,qe.map(Pn=>Pn.el)),qe[0].el;const rn=Ye.filter(Pn=>Pn.side===Te);if(rn.length>=1)return rn.length>1&&Ke&&(0,tt.p)(`menuController queried for a menu on the "${Te}" side, but ${rn.length} menus were found. The first menu reference will be used. If this is not the behavior you want then pass the ID of the menu instead of its side.`,rn.map(Pn=>Pn.el)),rn[0].el}else if(null!=Te)return yt(qe=>qe.menuId===Te);return yt(qe=>!qe.disabled)||(Ye.length>0?Ye[0].el:void 0)});return function(Ke){return fe.apply(this,arguments)}}(),ft=function(){var fe=(0,V.A)(function*(){return yield Ce(),We()});return function(){return fe.apply(this,arguments)}}(),ie=function(){var fe=(0,V.A)(function*(){return yield Ce(),Ft()});return function(){return fe.apply(this,arguments)}}(),de=function(){var fe=(0,V.A)(function*(){return yield Ce(),kt()});return function(){return fe.apply(this,arguments)}}(),he=(fe,Te)=>{nt.set(fe,Te)},lt=function(){var fe=(0,V.A)(function*(Te,Ke,Ct){if(kt())return!1;if(Ke){const qe=yield ft();qe&&Te.el!==qe&&(yield qe.setOpen(!1,!1))}return Te._setOpen(Ke,Ct)});return function(Ke,Ct,qe){return fe.apply(this,arguments)}}(),We=()=>yt(fe=>fe._isOpen),Ft=()=>Ye.map(fe=>fe.el),kt=()=>Ye.some(fe=>fe.isAnimating),yt=fe=>{const Te=Ye.find(fe);if(void 0!==Te)return Te.el},Ce=()=>Promise.all(Array.from(document.querySelectorAll("ion-menu")).map(fe=>new Promise(Te=>(0,Tn.c)(fe,Te))));return he("reveal",De),he("push",He),he("overlay",Ot),null==ln.d||ln.d.addEventListener("ionBackButton",fe=>{const Te=We();Te&&fe.detail.register(Mt.MENU_BACK_BUTTON_PRIORITY,()=>Te.close())}),{registerAnimation:he,get:$e,getMenus:ie,getOpen:ft,isEnabled:Re,swipeGesture:Me,isAnimating:de,isOpen:Ue,enable:ce,toggle:Z,close:ge,open:Ge,_getOpenSync:We,_createAnimation:(fe,Te)=>{const Ke=nt.get(fe);if(!Ke)throw new Error("animation not registered");return Ke(Te)},_register:fe=>{Ye.indexOf(fe)<0&&Ye.push(fe)},_unregister:fe=>{const Te=Ye.indexOf(fe);Te>-1&&Ye.splice(Te,1)},_setOpen:lt}})()},1497:(go,kr,wt)=>{"use strict";wt.d(kr,{b:()=>Ut,c:()=>Ee,d:()=>Rt,e:()=>ie,g:()=>re,l:()=>$e,s:()=>de,t:()=>De,w:()=>ft});var V=wt(467),ln=wt(9081),Mt=wt(5638);const Ut="ionViewWillLeave",Ee="ionViewDidLeave",Rt="ionViewWillUnload",De=Ze=>new Promise((lt,Fe)=>{(0,ln.w)(()=>{ot(Ze),Ie(Ze).then(We=>{We.animation&&We.animation.destroy(),nt(Ze),lt(We)},We=>{nt(Ze),Fe(We)})})}),ot=Ze=>{const lt=Ze.enteringEl,Fe=Ze.leavingEl;he(lt,Fe,Ze.direction),Ze.showGoBack?lt.classList.add("can-go-back"):lt.classList.remove("can-go-back"),de(lt,!1),lt.style.setProperty("pointer-events","none"),Fe&&(de(Fe,!1),Fe.style.setProperty("pointer-events","none"))},Ie=function(){var Ze=(0,V.A)(function*(lt){const Fe=yield Ye(lt);return Fe&&ln.B.isBrowser?Ge(Fe,lt):ge(lt)});return function(Fe){return Ze.apply(this,arguments)}}(),nt=Ze=>{const lt=Ze.enteringEl,Fe=Ze.leavingEl;lt.classList.remove("ion-page-invisible"),lt.style.removeProperty("pointer-events"),void 0!==Fe&&(Fe.classList.remove("ion-page-invisible"),Fe.style.removeProperty("pointer-events"))},Ye=function(){var Ze=(0,V.A)(function*(lt){return lt.leavingEl&&lt.animated&&0!==lt.duration?lt.animationBuilder?lt.animationBuilder:"ios"===lt.mode?(yield Promise.resolve().then(wt.bind(wt,2604))).iosTransitionAnimation:(yield Promise.resolve().then(wt.bind(wt,3003))).mdTransitionAnimation:void 0});return function(Fe){return Ze.apply(this,arguments)}}(),Ge=function(){var Ze=(0,V.A)(function*(lt,Fe){yield Z(Fe,!0);const We=lt(Fe.baseEl,Fe);Ue(Fe.enteringEl,Fe.leavingEl);const Ft=yield Me(We,Fe);return Fe.progressCallback&&Fe.progressCallback(void 0),Ft&&Re(Fe.enteringEl,Fe.leavingEl),{hasCompleted:Ft,animation:We}});return function(Fe,We){return Ze.apply(this,arguments)}}(),ge=function(){var Ze=(0,V.A)(function*(lt){const Fe=lt.enteringEl,We=lt.leavingEl;return yield Z(lt,!1),Ue(Fe,We),Re(Fe,We),{hasCompleted:!0}});return function(Fe){return Ze.apply(this,arguments)}}(),Z=function(){var Ze=(0,V.A)(function*(lt,Fe){(void 0!==lt.deepWait?lt.deepWait:Fe)&&(yield Promise.all([ie(lt.enteringEl),ie(lt.leavingEl)])),yield ce(lt.viewIsReady,lt.enteringEl)});return function(Fe,We){return Ze.apply(this,arguments)}}(),ce=function(){var Ze=(0,V.A)(function*(lt,Fe){lt&&(yield lt(Fe))});return function(Fe,We){return Ze.apply(this,arguments)}}(),Me=(Ze,lt)=>{const Fe=lt.progressCallback,We=new Promise(Ft=>{Ze.onFinish(kt=>Ft(1===kt))});return Fe?(Ze.progressStart(!0),Fe(Ze)):Ze.play(),We},Ue=(Ze,lt)=>{$e(lt,Ut),$e(Ze,"ionViewWillEnter")},Re=(Ze,lt)=>{$e(Ze,"ionViewDidEnter"),$e(lt,Ee)},$e=(Ze,lt)=>{if(Ze){const Fe=new CustomEvent(lt,{bubbles:!1,cancelable:!1});Ze.dispatchEvent(Fe)}},ft=()=>new Promise(Ze=>(0,Mt.r)(()=>(0,Mt.r)(()=>Ze()))),ie=function(){var Ze=(0,V.A)(function*(lt){const Fe=lt;if(Fe){if(null!=Fe.componentOnReady){if(null!=(yield Fe.componentOnReady()))return}else if(null!=Fe.__registerHost)return void(yield new Promise(Ft=>(0,Mt.r)(Ft)));yield Promise.all(Array.from(Fe.children).map(ie))}});return function(Fe){return Ze.apply(this,arguments)}}(),de=(Ze,lt)=>{lt?(Ze.setAttribute("aria-hidden","true"),Ze.classList.add("ion-page-hidden")):(Ze.hidden=!1,Ze.removeAttribute("aria-hidden"),Ze.classList.remove("ion-page-hidden"))},he=(Ze,lt,Fe)=>{void 0!==Ze&&(Ze.style.zIndex="back"===Fe?"99":"101"),void 0!==lt&&(lt.style.zIndex="100")},re=Ze=>Ze.classList.contains("ion-page")?Ze:Ze.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||Ze},4929:(go,kr,wt)=>{"use strict";wt.d(kr,{a:()=>ln,b:()=>Mt,p:()=>V});const V=(tt,...Tn)=>console.warn(`[Ionic Warning]: ${tt}`,...Tn),ln=(tt,...Tn)=>console.error(`[Ionic Error]: ${tt}`,...Tn),Mt=(tt,...Tn)=>console.error(`<${tt.tagName.toLowerCase()}> must be used inside ${Tn.join(" or ")}.`)},8476:(go,kr,wt)=>{"use strict";wt.d(kr,{d:()=>ln,w:()=>V});const V=typeof window<"u"?window:void 0,ln=typeof document<"u"?document:void 0},9081:(go,kr,wt)=>{"use strict";wt.d(kr,{B:()=>ot,H:()=>kt,a:()=>Ao,b:()=>Na,c:()=>Pn,d:()=>pi,e:()=>pa,f:()=>Sr,g:()=>Rn,h:()=>We,i:()=>Xe,j:()=>Ie,r:()=>It,w:()=>Nt});var V=wt(467);let tt,Tn,Ut,Ee=!1,Rt=!1,Ot=!1,He=!1,De=!1;const ot={isDev:!1,isBrowser:!0,isServer:!1,isTesting:!1},Ie=K=>{const se=new URL(K,Gr.$resourcesUrl$);return se.origin!==Jr.location.origin?se.href:se.pathname},Me="s-id",Ue="sty-id",ft="slot-fb{display:contents}slot-fb[hidden]{display:none}",ie="http://www.w3.org/1999/xlink",de={},lt=K=>"object"==(K=typeof K)||"function"===K;function Fe(K){var se,it,ht;return null!==(ht=null===(it=null===(se=K.head)||void 0===se?void 0:se.querySelector('meta[name="csp-nonce"]'))||void 0===it?void 0:it.getAttribute("content"))&&void 0!==ht?ht:void 0}const We=(K,se,...it)=>{let ht=null,Pt=null,$t=null,mn=!1,Gt=!1;const xn=[],Bn=dr=>{for(let Rr=0;Rr<dr.length;Rr++)ht=dr[Rr],Array.isArray(ht)?Bn(ht):null!=ht&&"boolean"!=typeof ht&&((mn="function"!=typeof K&&!lt(ht))&&(ht=String(ht)),mn&&Gt?xn[xn.length-1].$text$+=ht:xn.push(mn?Ft(null,ht):ht),Gt=mn)};if(Bn(it),se){se.key&&(Pt=se.key),se.name&&($t=se.name);{const dr=se.className||se.class;dr&&(se.class="object"!=typeof dr?dr:Object.keys(dr).filter(Rr=>dr[Rr]).join(" "))}}if("function"==typeof K)return K(null===se?{}:se,xn,Ce);const zn=Ft(K,null);return zn.$attrs$=se,xn.length>0&&(zn.$children$=xn),zn.$key$=Pt,zn.$name$=$t,zn},Ft=(K,se)=>({$flags$:0,$tag$:K,$text$:se,$elm$:null,$children$:null,$attrs$:null,$key$:null,$name$:null}),kt={},Ce={forEach:(K,se)=>K.map(fe).forEach(se),map:(K,se)=>K.map(fe).map(se).map(Te)},fe=K=>({vattrs:K.$attrs$,vchildren:K.$children$,vkey:K.$key$,vname:K.$name$,vtag:K.$tag$,vtext:K.$text$}),Te=K=>{if("function"==typeof K.vtag){const it=Object.assign({},K.vattrs);return K.vkey&&(it.key=K.vkey),K.vname&&(it.name=K.vname),We(K.vtag,it,...K.vchildren||[])}const se=Ft(K.vtag,K.vtext);return se.$attrs$=K.vattrs,se.$children$=K.vchildren,se.$key$=K.vkey,se.$name$=K.vname,se},Ct=(K,se,it,ht,Pt,$t,mn)=>{let Gt,xn,Bn,zn;if(1===$t.nodeType){for(Gt=$t.getAttribute("c-id"),Gt&&(xn=Gt.split("."),(xn[0]===mn||"0"===xn[0])&&(Bn={$flags$:0,$hostId$:xn[0],$nodeId$:xn[1],$depth$:xn[2],$index$:xn[3],$tag$:$t.tagName.toLowerCase(),$elm$:$t,$attrs$:null,$children$:null,$key$:null,$name$:null,$text$:null},se.push(Bn),$t.removeAttribute("c-id"),K.$children$||(K.$children$=[]),K.$children$[Bn.$index$]=Bn,K=Bn,ht&&"0"===Bn.$depth$&&(ht[Bn.$index$]=Bn.$elm$))),zn=$t.childNodes.length-1;zn>=0;zn--)Ct(K,se,it,ht,Pt,$t.childNodes[zn],mn);if($t.shadowRoot)for(zn=$t.shadowRoot.childNodes.length-1;zn>=0;zn--)Ct(K,se,it,ht,Pt,$t.shadowRoot.childNodes[zn],mn)}else if(8===$t.nodeType)xn=$t.nodeValue.split("."),(xn[1]===mn||"0"===xn[1])&&(Gt=xn[0],Bn={$flags$:0,$hostId$:xn[1],$nodeId$:xn[2],$depth$:xn[3],$index$:xn[4],$elm$:$t,$attrs$:null,$children$:null,$key$:null,$name$:null,$tag$:null,$text$:null},"t"===Gt?(Bn.$elm$=$t.nextSibling,Bn.$elm$&&3===Bn.$elm$.nodeType&&(Bn.$text$=Bn.$elm$.textContent,se.push(Bn),$t.remove(),K.$children$||(K.$children$=[]),K.$children$[Bn.$index$]=Bn,ht&&"0"===Bn.$depth$&&(ht[Bn.$index$]=Bn.$elm$))):Bn.$hostId$===mn&&("s"===Gt?(Bn.$tag$="slot",$t["s-sn"]=xn[5]?Bn.$name$=xn[5]:"",$t["s-sr"]=!0,ht&&(Bn.$elm$=nr.createElement(Bn.$tag$),Bn.$name$&&Bn.$elm$.setAttribute("name",Bn.$name$),$t.parentNode.insertBefore(Bn.$elm$,$t),$t.remove(),"0"===Bn.$depth$&&(ht[Bn.$index$]=Bn.$elm$)),it.push(Bn),K.$children$||(K.$children$=[]),K.$children$[Bn.$index$]=Bn):"r"===Gt&&(ht?$t.remove():(Pt["s-cr"]=$t,$t["s-cn"]=!0))));else if(K&&"style"===K.$tag$){const dr=Ft(null,$t.textContent);dr.$elm$=$t,dr.$index$="0",K.$children$=[dr]}},qe=(K,se)=>{if(1===K.nodeType){let it=0;for(;it<K.childNodes.length;it++)qe(K.childNodes[it],se);if(K.shadowRoot)for(it=0;it<K.shadowRoot.childNodes.length;it++)qe(K.shadowRoot.childNodes[it],se)}else if(8===K.nodeType){const it=K.nodeValue.split(".");"o"===it[0]&&(se.set(it[1]+"."+it[2],K),K.nodeValue="",K["s-en"]=it[3])}},Pn=K=>qo.push(K),Rn=K=>Dt(K).$modeName$,Sr=K=>Dt(K).$hostElement$,pi=(K,se,it)=>{const ht=Sr(K);return{emit:Pt=>sr(ht,se,{bubbles:!!(4&it),composed:!!(2&it),cancelable:!!(1&it),detail:Pt})}},sr=(K,se,it)=>{const ht=Gr.ce(se,it);return K.dispatchEvent(ht),ht},Ii=new WeakMap,Kr=(K,se,it)=>{let ht=Fi.get(K);Qr&&it?(ht=ht||new CSSStyleSheet,"string"==typeof ht?ht=se:ht.replaceSync(se)):ht=se,Fi.set(K,ht)},en=(K,se,it)=>{var ht;const Pt=Xt(se,it),$t=Fi.get(Pt);if(K=11===K.nodeType?K:nr,$t)if("string"==typeof $t){let Gt,mn=Ii.get(K=K.head||K);if(mn||Ii.set(K,mn=new Set),!mn.has(Pt)){if(K.host&&(Gt=K.querySelector(`[${Ue}="${Pt}"]`)))Gt.innerHTML=$t;else{Gt=nr.createElement("style"),Gt.innerHTML=$t;const xn=null!==(ht=Gr.$nonce$)&&void 0!==ht?ht:Fe(nr);null!=xn&&Gt.setAttribute("nonce",xn),K.insertBefore(Gt,K.querySelector("link"))}4&se.$flags$&&(Gt.innerHTML+=ft),mn&&mn.add(Pt)}}else K.adoptedStyleSheets.includes($t)||(K.adoptedStyleSheets=[...K.adoptedStyleSheets,$t]);return Pt},Xt=(K,se)=>"sc-"+(se&&32&K.$flags$?K.$tagName$+"-"+se:K.$tagName$),tr=K=>K.replace(/\/\*!@([^\/]+)\*\/[^\{]+\{/g,"$1{"),ii=(K,se,it,ht,Pt,$t)=>{if(it!==ht){let mn=Yn(K,se),Gt=se.toLowerCase();if("class"===se){const xn=K.classList,Bn=vi(it),zn=vi(ht);xn.remove(...Bn.filter(dr=>dr&&!zn.includes(dr))),xn.add(...zn.filter(dr=>dr&&!Bn.includes(dr)))}else if("style"===se){for(const xn in it)(!ht||null==ht[xn])&&(xn.includes("-")?K.style.removeProperty(xn):K.style[xn]="");for(const xn in ht)(!it||ht[xn]!==it[xn])&&(xn.includes("-")?K.style.setProperty(xn,ht[xn]):K.style[xn]=ht[xn])}else if("key"!==se)if("ref"===se)ht&&ht(K);else if(mn||"o"!==se[0]||"n"!==se[1]){const xn=lt(ht);if((mn||xn&&null!==ht)&&!Pt)try{if(K.tagName.includes("-"))K[se]=ht;else{const zn=null==ht?"":ht;"list"===se?mn=!1:(null==it||K[se]!=zn)&&(K[se]=zn)}}catch{}let Bn=!1;Gt!==(Gt=Gt.replace(/^xlink\:?/,""))&&(se=Gt,Bn=!0),null==ht||!1===ht?(!1!==ht||""===K.getAttribute(se))&&(Bn?K.removeAttributeNS(ie,se):K.removeAttribute(se)):(!mn||4&$t||Pt)&&!xn&&(ht=!0===ht?"":ht,Bn?K.setAttributeNS(ie,se,ht):K.setAttribute(se,ht))}else if(se="-"===se[2]?se.slice(3):Yn(Jr,Gt)?Gt.slice(2):Gt[2]+se.slice(3),it||ht){const xn=se.endsWith(xi);se=se.replace(zr,""),it&&Gr.rel(K,se,it,xn),ht&&Gr.ael(K,se,ht,xn)}}},wi=/\s/,vi=K=>K?K.split(wi):[],xi="Capture",zr=new RegExp(xi+"$"),ko=(K,se,it,ht)=>{const Pt=11===se.$elm$.nodeType&&se.$elm$.host?se.$elm$.host:se.$elm$,$t=K&&K.$attrs$||de,mn=se.$attrs$||de;for(ht in $t)ht in mn||ii(Pt,ht,$t[ht],void 0,it,se.$flags$);for(ht in mn)ii(Pt,ht,$t[ht],mn[ht],it,se.$flags$)},qi=(K,se,it,ht)=>{const Pt=se.$children$[it];let mn,Gt,xn,$t=0;if(Ee||(Ot=!0,"slot"===Pt.$tag$&&(tt&&ht.classList.add(tt+"-s"),Pt.$flags$|=Pt.$children$?2:1)),null!==Pt.$text$)mn=Pt.$elm$=nr.createTextNode(Pt.$text$);else if(1&Pt.$flags$)mn=Pt.$elm$=nr.createTextNode("");else{if(He||(He="svg"===Pt.$tag$),mn=Pt.$elm$=nr.createElementNS(He?"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",2&Pt.$flags$?"slot-fb":Pt.$tag$),He&&"foreignObject"===Pt.$tag$&&(He=!1),ko(null,Pt,He),(K=>null!=K)(tt)&&mn["s-si"]!==tt&&mn.classList.add(mn["s-si"]=tt),Pt.$children$)for($t=0;$t<Pt.$children$.length;++$t)Gt=qi(K,Pt,$t,mn),Gt&&mn.appendChild(Gt);"svg"===Pt.$tag$?He=!1:"foreignObject"===mn.tagName&&(He=!0)}return mn["s-hn"]=Ut,3&Pt.$flags$&&(mn["s-sr"]=!0,mn["s-cr"]=Tn,mn["s-sn"]=Pt.$name$||"",xn=K&&K.$children$&&K.$children$[it],xn&&xn.$tag$===Pt.$tag$&&K.$elm$&&ys(K.$elm$,!1)),mn},ys=(K,se)=>{Gr.$flags$|=1;const it=K.childNodes;for(let ht=it.length-1;ht>=0;ht--){const Pt=it[ht];Pt["s-hn"]!==Ut&&Pt["s-ol"]&&(Ds(Pt).insertBefore(Pt,ea(Pt)),Pt["s-ol"].remove(),Pt["s-ol"]=void 0,Pt["s-sh"]=void 0,Ot=!0),se&&ys(Pt,se)}Gr.$flags$&=-2},Bs=(K,se,it,ht,Pt,$t)=>{let Gt,mn=K["s-cr"]&&K["s-cr"].parentNode||K;for(mn.shadowRoot&&mn.tagName===Ut&&(mn=mn.shadowRoot);Pt<=$t;++Pt)ht[Pt]&&(Gt=qi(null,it,Pt,K),Gt&&(ht[Pt].$elm$=Gt,mn.insertBefore(Gt,ea(se))))},co=(K,se,it)=>{for(let ht=se;ht<=it;++ht){const Pt=K[ht];if(Pt){const $t=Pt.$elm$;gl(Pt),$t&&(Rt=!0,$t["s-ol"]?$t["s-ol"].remove():ys($t,!0),$t.remove())}}},gi=(K,se,it=!1)=>K.$tag$===se.$tag$&&("slot"===K.$tag$?K.$name$===se.$name$:!!it||K.$key$===se.$key$),ea=K=>K&&K["s-ol"]||K,Ds=K=>(K["s-ol"]?K["s-ol"]:K).parentNode,_s=(K,se,it=!1)=>{const ht=se.$elm$=K.$elm$,Pt=K.$children$,$t=se.$children$,mn=se.$tag$,Gt=se.$text$;let xn;null===Gt?(He="svg"===mn||"foreignObject"!==mn&&He,"slot"===mn&&!Ee||ko(K,se,He),null!==Pt&&null!==$t?((K,se,it,ht,Pt=!1)=>{let Yi,vo,$t=0,mn=0,Gt=0,xn=0,Bn=se.length-1,zn=se[0],dr=se[Bn],Rr=ht.length-1,Cn=ht[0],Po=ht[Rr];for(;$t<=Bn&&mn<=Rr;)if(null==zn)zn=se[++$t];else if(null==dr)dr=se[--Bn];else if(null==Cn)Cn=ht[++mn];else if(null==Po)Po=ht[--Rr];else if(gi(zn,Cn,Pt))_s(zn,Cn,Pt),zn=se[++$t],Cn=ht[++mn];else if(gi(dr,Po,Pt))_s(dr,Po,Pt),dr=se[--Bn],Po=ht[--Rr];else if(gi(zn,Po,Pt))("slot"===zn.$tag$||"slot"===Po.$tag$)&&ys(zn.$elm$.parentNode,!1),_s(zn,Po,Pt),K.insertBefore(zn.$elm$,dr.$elm$.nextSibling),zn=se[++$t],Po=ht[--Rr];else if(gi(dr,Cn,Pt))("slot"===zn.$tag$||"slot"===Po.$tag$)&&ys(dr.$elm$.parentNode,!1),_s(dr,Cn,Pt),K.insertBefore(dr.$elm$,zn.$elm$),dr=se[--Bn],Cn=ht[++mn];else{for(Gt=-1,xn=$t;xn<=Bn;++xn)if(se[xn]&&null!==se[xn].$key$&&se[xn].$key$===Cn.$key$){Gt=xn;break}Gt>=0?(vo=se[Gt],vo.$tag$!==Cn.$tag$?Yi=qi(se&&se[mn],it,Gt,K):(_s(vo,Cn,Pt),se[Gt]=void 0,Yi=vo.$elm$),Cn=ht[++mn]):(Yi=qi(se&&se[mn],it,mn,K),Cn=ht[++mn]),Yi&&Ds(zn.$elm$).insertBefore(Yi,ea(zn.$elm$))}$t>Bn?Bs(K,null==ht[Rr+1]?null:ht[Rr+1].$elm$,it,ht,mn,Rr):mn>Rr&&co(se,$t,Bn)})(ht,Pt,se,$t,it):null!==$t?(null!==K.$text$&&(ht.textContent=""),Bs(ht,null,se,$t,0,$t.length-1)):null!==Pt&&co(Pt,0,Pt.length-1),He&&"svg"===mn&&(He=!1)):(xn=ht["s-cr"])?xn.parentNode.textContent=Gt:K.$text$!==Gt&&(ht.data=Gt)},Ja=K=>{const se=K.childNodes;for(const it of se)if(1===it.nodeType){if(it["s-sr"]){const ht=it["s-sn"];it.hidden=!1;for(const Pt of se)if(Pt!==it)if(Pt["s-hn"]!==it["s-hn"]||""!==ht){if(1===Pt.nodeType&&(ht===Pt.getAttribute("slot")||ht===Pt["s-sn"])){it.hidden=!0;break}}else if(1===Pt.nodeType||3===Pt.nodeType&&""!==Pt.textContent.trim()){it.hidden=!0;break}}Ja(it)}},Eo=[],xs=K=>{let se,it,ht;for(const Pt of K.childNodes){if(Pt["s-sr"]&&(se=Pt["s-cr"])&&se.parentNode){it=se.parentNode.childNodes;const $t=Pt["s-sn"];for(ht=it.length-1;ht>=0;ht--)if(se=it[ht],!se["s-cn"]&&!se["s-nr"]&&se["s-hn"]!==Pt["s-hn"])if(us(se,$t)){let mn=Eo.find(Gt=>Gt.$nodeToRelocate$===se);Rt=!0,se["s-sn"]=se["s-sn"]||$t,mn?(mn.$nodeToRelocate$["s-sh"]=Pt["s-hn"],mn.$slotRefNode$=Pt):(se["s-sh"]=Pt["s-hn"],Eo.push({$slotRefNode$:Pt,$nodeToRelocate$:se})),se["s-sr"]&&Eo.map(Gt=>{us(Gt.$nodeToRelocate$,se["s-sn"])&&(mn=Eo.find(xn=>xn.$nodeToRelocate$===se),mn&&!Gt.$slotRefNode$&&(Gt.$slotRefNode$=mn.$slotRefNode$))})}else Eo.some(mn=>mn.$nodeToRelocate$===se)||Eo.push({$nodeToRelocate$:se})}1===Pt.nodeType&&xs(Pt)}},us=(K,se)=>1===K.nodeType?null===K.getAttribute("slot")&&""===se||K.getAttribute("slot")===se:K["s-sn"]===se||""===se,gl=K=>{K.$attrs$&&K.$attrs$.ref&&K.$attrs$.ref(null),K.$children$&&K.$children$.map(gl)},Pa=(K,se)=>{se&&!K.$onRenderResolve$&&se["s-p"]&&se["s-p"].push(new Promise(it=>K.$onRenderResolve$=it))},Ro=(K,se)=>{if(K.$flags$|=16,!(4&K.$flags$))return Pa(K,K.$ancestorComponent$),Nt(()=>ml(K,se));K.$flags$|=512},ml=(K,se)=>{const ht=K.$lazyInstance$;let Pt;return se&&(K.$flags$|=256,K.$queuedListeners$&&(K.$queuedListeners$.map(([$t,mn])=>dn(ht,$t,mn)),K.$queuedListeners$=void 0),Pt=dn(ht,"componentWillLoad")),Pt=Ru(Pt,()=>dn(ht,"componentWillRender")),Ru(Pt,()=>Aa(K,ht,se))},Ru=(K,se)=>ro(K)?K.then(se):se(),ro=K=>K instanceof Promise||K&&K.then&&"function"==typeof K.then,Aa=function(){var K=(0,V.A)(function*(se,it,ht){var Pt;const $t=se.$hostElement$,Gt=$t["s-rc"];ht&&(K=>{const se=K.$cmpMeta$,it=K.$hostElement$,ht=se.$flags$,$t=en(it.shadowRoot?it.shadowRoot:it.getRootNode(),se,K.$modeName$);10&ht&&(it["s-sc"]=$t,it.classList.add($t+"-h"),2&ht&&it.classList.add($t+"-s"))})(se);Ll(se,it,$t,ht),Gt&&(Gt.map(Bn=>Bn()),$t["s-rc"]=void 0);{const Bn=null!==(Pt=$t["s-p"])&&void 0!==Pt?Pt:[],zn=()=>ut(se);0===Bn.length?zn():(Promise.all(Bn).then(zn),se.$flags$|=4,Bn.length=0)}});return function(it,ht,Pt){return K.apply(this,arguments)}}(),Ll=(K,se,it,ht)=>{try{se=se.render&&se.render(),K.$flags$&=-17,K.$flags$|=2,((K,se,it=!1)=>{var ht,Pt,$t,mn;const Gt=K.$hostElement$,xn=K.$cmpMeta$,Bn=K.$vnode$||Ft(null,null),zn=(K=>K&&K.$tag$===kt)(se)?se:We(null,null,se);if(Ut=Gt.tagName,xn.$attrsToReflect$&&(zn.$attrs$=zn.$attrs$||{},xn.$attrsToReflect$.map(([dr,Rr])=>zn.$attrs$[Rr]=Gt[dr])),it&&zn.$attrs$)for(const dr of Object.keys(zn.$attrs$))Gt.hasAttribute(dr)&&!["key","ref","style","class"].includes(dr)&&(zn.$attrs$[dr]=Gt[dr]);if(zn.$tag$=null,zn.$flags$|=4,K.$vnode$=zn,zn.$elm$=Bn.$elm$=Gt.shadowRoot||Gt,tt=Gt["s-sc"],Ee=!!(1&xn.$flags$),Tn=Gt["s-cr"],Rt=!1,_s(Bn,zn,it),Gr.$flags$|=1,Ot){xs(zn.$elm$);for(const dr of Eo){const Rr=dr.$nodeToRelocate$;if(!Rr["s-ol"]){const Cn=nr.createTextNode("");Cn["s-nr"]=Rr,Rr.parentNode.insertBefore(Rr["s-ol"]=Cn,Rr)}}for(const dr of Eo){const Rr=dr.$nodeToRelocate$,Cn=dr.$slotRefNode$;if(Cn){const Po=Cn.parentNode;let Yi=Cn.nextSibling;{let vo=null===(ht=Rr["s-ol"])||void 0===ht?void 0:ht.previousSibling;for(;vo;){let es=null!==(Pt=vo["s-nr"])&&void 0!==Pt?Pt:null;if(es&&es["s-sn"]===Rr["s-sn"]&&Po===es.parentNode&&(es=es.nextSibling,!es||!es["s-nr"])){Yi=es;break}vo=vo.previousSibling}}(!Yi&&Po!==Rr.parentNode||Rr.nextSibling!==Yi)&&Rr!==Yi&&(!Rr["s-hn"]&&Rr["s-ol"]&&(Rr["s-hn"]=Rr["s-ol"].parentNode.nodeName),Po.insertBefore(Rr,Yi),1===Rr.nodeType&&(Rr.hidden=null!==($t=Rr["s-ih"])&&void 0!==$t&&$t))}else 1===Rr.nodeType&&(it&&(Rr["s-ih"]=null!==(mn=Rr.hidden)&&void 0!==mn&&mn),Rr.hidden=!0)}}Rt&&Ja(zn.$elm$),Gr.$flags$&=-2,Eo.length=0,Tn=void 0})(K,se,ht)}catch(Pt){br(Pt,K.$hostElement$)}return null},ut=K=>{const it=K.$hostElement$,Pt=K.$lazyInstance$,$t=K.$ancestorComponent$;dn(Pt,"componentDidRender"),64&K.$flags$?dn(Pt,"componentDidUpdate"):(K.$flags$|=64,rt(it),dn(Pt,"componentDidLoad"),K.$onReadyResolve$(it),$t||dt()),K.$onInstanceResolve$(it),K.$onRenderResolve$&&(K.$onRenderResolve$(),K.$onRenderResolve$=void 0),512&K.$flags$&&Oo(()=>Ro(K,!1)),K.$flags$&=-517},Xe=K=>{{const se=Dt(K),it=se.$hostElement$.isConnected;return it&&2==(18&se.$flags$)&&Ro(se,!1),it}},dt=K=>{rt(nr.documentElement),Oo(()=>sr(Jr,"appload",{detail:{namespace:"ionic"}}))},dn=(K,se,it)=>{if(K&&K[se])try{return K[se](it)}catch(ht){br(ht)}},rt=K=>K.classList.add("hydrated"),$r=(K,se,it)=>{var ht;const Pt=K.prototype;if(se.$members$){K.watchers&&(se.$watchers$=K.watchers);const $t=Object.entries(se.$members$);if($t.map(([mn,[Gt]])=>{31&Gt||2&it&&32&Gt?Object.defineProperty(Pt,mn,{get(){return((K,se)=>Dt(this).$instanceValues$.get(se))(0,mn)},set(xn){((K,se,it,ht)=>{const Pt=Dt(K),$t=Pt.$hostElement$,mn=Pt.$instanceValues$.get(se),Gt=Pt.$flags$,xn=Pt.$lazyInstance$;it=((K,se)=>null==K||lt(K)?K:4&se?"false"!==K&&(""===K||!!K):2&se?parseFloat(K):1&se?String(K):K)(it,ht.$members$[se][0]);const Bn=Number.isNaN(mn)&&Number.isNaN(it);if((!(8&Gt)||void 0===mn)&&it!==mn&&!Bn&&(Pt.$instanceValues$.set(se,it),xn)){if(ht.$watchers$&&128&Gt){const dr=ht.$watchers$[se];dr&&dr.map(Rr=>{try{xn[Rr](it,mn,se)}catch(Cn){br(Cn,$t)}})}2==(18&Gt)&&Ro(Pt,!1)}})(this,mn,xn,se)},configurable:!0,enumerable:!0}):1&it&&64&Gt&&Object.defineProperty(Pt,mn,{value(...xn){var Bn;const zn=Dt(this);return null===(Bn=null==zn?void 0:zn.$onInstancePromise$)||void 0===Bn?void 0:Bn.then(()=>{var dr;return null===(dr=zn.$lazyInstance$)||void 0===dr?void 0:dr[mn](...xn)})}})}),1&it){const mn=new Map;Pt.attributeChangedCallback=function(Gt,xn,Bn){Gr.jmp(()=>{var zn;const dr=mn.get(Gt);if(this.hasOwnProperty(dr))Bn=this[dr],delete this[dr];else{if(Pt.hasOwnProperty(dr)&&"number"==typeof this[dr]&&this[dr]==Bn)return;if(null==dr){const Rr=Dt(this),Cn=null==Rr?void 0:Rr.$flags$;if(Cn&&!(8&Cn)&&128&Cn&&Bn!==xn){const Po=Rr.$lazyInstance$,Yi=null===(zn=se.$watchers$)||void 0===zn?void 0:zn[Gt];null==Yi||Yi.forEach(vo=>{null!=Po[vo]&&Po[vo].call(Po,Bn,xn,Gt)})}return}}this[dr]=(null!==Bn||"boolean"!=typeof this[dr])&&Bn})},K.observedAttributes=Array.from(new Set([...Object.keys(null!==(ht=se.$watchers$)&&void 0!==ht?ht:{}),...$t.filter(([Gt,xn])=>15&xn[0]).map(([Gt,xn])=>{var Bn;const zn=xn[1]||Gt;return mn.set(zn,Gt),512&xn[0]&&(null===(Bn=se.$attrsToReflect$)||void 0===Bn||Bn.push([Gt,zn])),zn})]))}}return K},mo=function(){var K=(0,V.A)(function*(se,it,ht,Pt){let $t;if(!(32&it.$flags$)){if(it.$flags$|=32,ht.$lazyBundleId$){if($t=ar(ht),$t.then){const zn=()=>{};$t=yield $t,zn()}$t.isProxied||(ht.$watchers$=$t.watchers,$r($t,ht,2),$t.isProxied=!0);const Bn=()=>{};it.$flags$|=8;try{new $t(it)}catch(zn){br(zn)}it.$flags$&=-9,it.$flags$|=128,Bn(),Nr(it.$lazyInstance$)}else $t=se.constructor,customElements.whenDefined(ht.$tagName$).then(()=>it.$flags$|=128);if($t.style){let Bn=$t.style;"string"!=typeof Bn&&(Bn=Bn[it.$modeName$=(K=>qo.map(se=>se(K)).find(se=>!!se))(se)]);const zn=Xt(ht,it.$modeName$);if(!Fi.has(zn)){const dr=()=>{};Kr(zn,Bn,!!(1&ht.$flags$)),dr()}}}const mn=it.$ancestorComponent$,Gt=()=>Ro(it,!0);mn&&mn["s-rc"]?mn["s-rc"].push(Gt):Gt()});return function(it,ht,Pt,$t){return K.apply(this,arguments)}}(),Nr=K=>{dn(K,"connectedCallback")},Ci=K=>{const se=K["s-cr"]=nr.createComment("");se["s-cn"]=!0,K.insertBefore(se,K.firstChild)},hn=K=>{dn(K,"disconnectedCallback")},ha=function(){var K=(0,V.A)(function*(se){if(!(1&Gr.$flags$)){const it=Dt(se);it.$rmListeners$&&(it.$rmListeners$.map(ht=>ht()),it.$rmListeners$=void 0),null!=it&&it.$lazyInstance$?hn(it.$lazyInstance$):null!=it&&it.$onReadyPromise$&&it.$onReadyPromise$.then(()=>hn(it.$lazyInstance$))}});return function(it){return K.apply(this,arguments)}}(),Na=(K,se={})=>{var it;const Pt=[],$t=se.exclude||[],mn=Jr.customElements,Gt=nr.head,xn=Gt.querySelector("meta[charset]"),Bn=nr.createElement("style"),zn=[],dr=nr.querySelectorAll(`[${Ue}]`);let Rr,Cn=!0,Po=0;for(Object.assign(Gr,se),Gr.$resourcesUrl$=new URL(se.resourcesUrl||"./",nr.baseURI).href,Gr.$flags$|=2;Po<dr.length;Po++)Kr(dr[Po].getAttribute(Ue),tr(dr[Po].innerHTML),!0);let Yi=!1;if(K.map(vo=>{vo[1].map(es=>{var qr;const Xi={$flags$:es[0],$tagName$:es[1],$members$:es[2],$listeners$:es[3]};4&Xi.$flags$&&(Yi=!0),Xi.$members$=es[2],Xi.$listeners$=es[3],Xi.$attrsToReflect$=[],Xi.$watchers$=null!==(qr=es[4])&&void 0!==qr?qr:{};const zs=Xi.$tagName$,Za=class extends HTMLElement{constructor(yl){super(yl),fn(yl=this,Xi),1&Xi.$flags$&&yl.attachShadow({mode:"open",delegatesFocus:!!(16&Xi.$flags$)})}connectedCallback(){Rr&&(clearTimeout(Rr),Rr=null),Cn?zn.push(this):Gr.jmp(()=>(K=>{if(!(1&Gr.$flags$)){const se=Dt(K),it=se.$cmpMeta$,ht=()=>{};if(1&se.$flags$)Jl(K,se,it.$listeners$),null!=se&&se.$lazyInstance$?Nr(se.$lazyInstance$):null!=se&&se.$onReadyPromise$&&se.$onReadyPromise$.then(()=>Nr(se.$lazyInstance$));else{let Pt;if(se.$flags$|=1,Pt=K.getAttribute(Me),Pt){if(1&it.$flags$){const $t=en(K.shadowRoot,it,K.getAttribute("s-mode"));K.classList.remove($t+"-h",$t+"-s")}((K,se,it,ht)=>{const $t=K.shadowRoot,mn=[],xn=$t?[]:null,Bn=ht.$vnode$=Ft(se,null);Gr.$orgLocNodes$||qe(nr.body,Gr.$orgLocNodes$=new Map),K[Me]=it,K.removeAttribute(Me),Ct(Bn,mn,[],xn,K,K,it),mn.map(zn=>{const dr=zn.$hostId$+"."+zn.$nodeId$,Rr=Gr.$orgLocNodes$.get(dr),Cn=zn.$elm$;Rr&&So&&""===Rr["s-en"]&&Rr.parentNode.insertBefore(Cn,Rr.nextSibling),$t||(Cn["s-hn"]=se,Rr&&(Cn["s-ol"]=Rr,Cn["s-ol"]["s-nr"]=Cn)),Gr.$orgLocNodes$.delete(dr)}),$t&&xn.map(zn=>{zn&&$t.appendChild(zn)})})(K,it.$tagName$,Pt,se)}Pt||12&it.$flags$&&Ci(K);{let $t=K;for(;$t=$t.parentNode||$t.host;)if(1===$t.nodeType&&$t.hasAttribute("s-id")&&$t["s-p"]||$t["s-p"]){Pa(se,se.$ancestorComponent$=$t);break}}it.$members$&&Object.entries(it.$members$).map(([$t,[mn]])=>{if(31&mn&&K.hasOwnProperty($t)){const Gt=K[$t];delete K[$t],K[$t]=Gt}}),mo(K,se,it)}ht()}})(this))}disconnectedCallback(){Gr.jmp(()=>ha(this))}componentOnReady(){return Dt(this).$onReadyPromise$}};Xi.$lazyBundleId$=vo[0],!$t.includes(zs)&&!mn.get(zs)&&(Pt.push(zs),mn.define(zs,$r(Za,Xi,1)))})}),Pt.length>0&&(Yi&&(Bn.textContent+=ft),Bn.textContent+=Pt+"{visibility:hidden}.hydrated{visibility:inherit}",Bn.innerHTML.length)){Bn.setAttribute("data-styles","");const vo=null!==(it=Gr.$nonce$)&&void 0!==it?it:Fe(nr);null!=vo&&Bn.setAttribute("nonce",vo),Gt.insertBefore(Bn,xn?xn.nextSibling:Gt.firstChild)}Cn=!1,zn.length?zn.map(vo=>vo.connectedCallback()):Gr.jmp(()=>Rr=setTimeout(dt,30))},Jl=(K,se,it,ht)=>{it&&it.map(([Pt,$t,mn])=>{const Gt=NA(K,Pt),xn=pd(se,mn),Bn=Pu(Pt);Gr.ael(Gt,$t,xn,Bn),(se.$rmListeners$=se.$rmListeners$||[]).push(()=>Gr.rel(Gt,$t,xn,Bn))})},pd=(K,se)=>it=>{try{256&K.$flags$?K.$lazyInstance$[se](it):(K.$queuedListeners$=K.$queuedListeners$||[]).push([se,it])}catch(ht){br(ht)}},NA=(K,se)=>4&se?nr:8&se?Jr:16&se?nr.body:K,Pu=K=>Zl?{passive:!!(1&K),capture:!!(2&K)}:!!(2&K),Ma=new WeakMap,Dt=K=>Ma.get(K),It=(K,se)=>Ma.set(se.$lazyInstance$=K,se),fn=(K,se)=>{const it={$flags$:0,$hostElement$:K,$cmpMeta$:se,$instanceValues$:new Map};return it.$onInstancePromise$=new Promise(ht=>it.$onInstanceResolve$=ht),it.$onReadyPromise$=new Promise(ht=>it.$onReadyResolve$=ht),K["s-p"]=[],K["s-rc"]=[],Jl(K,it,se.$listeners$),Ma.set(K,it)},Yn=(K,se)=>se in K,br=(K,se)=>(0,console.error)(K,se),oi=new Map,ar=(K,se,it)=>{const ht=K.$tagName$.replace(/-/g,"_"),Pt=K.$lazyBundleId$,$t=oi.get(Pt);return $t?$t[ht]:wt(8996)(`./${Pt}.entry.js`).then(mn=>(oi.set(Pt,mn),mn[ht]),br)},Fi=new Map,qo=[],Jr=typeof window<"u"?window:{},nr=Jr.document||{head:{}},Gr={$flags$:0,$resourcesUrl$:"",jmp:K=>K(),raf:K=>requestAnimationFrame(K),ael:(K,se,it,ht)=>K.addEventListener(se,it,ht),rel:(K,se,it,ht)=>K.removeEventListener(se,it,ht),ce:(K,se)=>new CustomEvent(K,se)},Ao=K=>{Object.assign(Gr,K)},So=!0,Zl=(()=>{let K=!1;try{nr.addEventListener("e",null,Object.defineProperty({},"passive",{get(){K=!0}}))}catch{}return K})(),Qr=(()=>{try{return new CSSStyleSheet,"function"==typeof(new CSSStyleSheet).replaceSync}catch{}return!1})(),vl=[],zi=[],Wd=(K,se)=>it=>{K.push(it),De||(De=!0,se&&4&Gr.$flags$?Oo(Nu):Gr.raf(Nu))},gd=K=>{for(let se=0;se<K.length;se++)try{K[se](performance.now())}catch(it){br(it)}K.length=0},Nu=()=>{gd(vl),gd(zi),(De=vl.length>0)&&Gr.raf(Nu)},Oo=K=>Promise.resolve(void 0).then(K),pa=Wd(vl,!1),Nt=Wd(zi,!0)},8436:(go,kr,wt)=>{"use strict";wt.d(kr,{a:()=>De,b:()=>Ft,c:()=>Mt,i:()=>kt});var V=wt(9081);class ln{constructor(){this.m=new Map}reset(Ce){this.m=new Map(Object.entries(Ce))}get(Ce,fe){const Te=this.m.get(Ce);return void 0!==Te?Te:fe}getBoolean(Ce,fe=!1){const Te=this.m.get(Ce);return void 0===Te?fe:"string"==typeof Te?"true"===Te:!!Te}getNumber(Ce,fe){const Te=parseFloat(this.m.get(Ce));return isNaN(Te)?void 0!==fe?fe:NaN:Te}set(Ce,fe){this.m.set(Ce,fe)}}const Mt=new ln,Ot="ionic-persist-config",De=(yt,Ce)=>("string"==typeof yt&&(Ce=yt,yt=void 0),(yt=>ot(yt))(yt).includes(Ce)),ot=(yt=window)=>{if(typeof yt>"u")return[];yt.Ionic=yt.Ionic||{};let Ce=yt.Ionic.platforms;return null==Ce&&(Ce=yt.Ionic.platforms=Ie(yt),Ce.forEach(fe=>yt.document.documentElement.classList.add(`plt-${fe}`))),Ce},Ie=yt=>{const Ce=Mt.get("platform");return Object.keys(Fe).filter(fe=>{const Te=null==Ce?void 0:Ce[fe];return"function"==typeof Te?Te(yt):Fe[fe](yt)})},Ye=yt=>!!(Ze(yt,/iPad/i)||Ze(yt,/Macintosh/i)&&Re(yt)),Z=yt=>Ze(yt,/android|sink/i),Re=yt=>lt(yt,"(any-pointer:coarse)"),ft=yt=>ie(yt)||de(yt),ie=yt=>!!(yt.cordova||yt.phonegap||yt.PhoneGap),de=yt=>{const Ce=yt.Capacitor;return!(null==Ce||!Ce.isNative)},Ze=(yt,Ce)=>Ce.test(yt.navigator.userAgent),lt=(yt,Ce)=>{var fe;return null===(fe=yt.matchMedia)||void 0===fe?void 0:fe.call(yt,Ce).matches},Fe={ipad:Ye,iphone:yt=>Ze(yt,/iPhone/i),ios:yt=>Ze(yt,/iPhone|iPod/i)||Ye(yt),android:Z,phablet:yt=>{const Ce=yt.innerWidth,fe=yt.innerHeight,Te=Math.min(Ce,fe),Ke=Math.max(Ce,fe);return Te>390&&Te<520&&Ke>620&&Ke<800},tablet:yt=>{const Ce=yt.innerWidth,fe=yt.innerHeight,Te=Math.min(Ce,fe),Ke=Math.max(Ce,fe);return Ye(yt)||(yt=>Z(yt)&&!Ze(yt,/mobile/i))(yt)||Te>460&&Te<820&&Ke>780&&Ke<1400},cordova:ie,capacitor:de,electron:yt=>Ze(yt,/electron/i),pwa:yt=>{var Ce;return!!(null!==(Ce=yt.matchMedia)&&void 0!==Ce&&Ce.call(yt,"(display-mode: standalone)").matches||yt.navigator.standalone)},mobile:Re,mobileweb:yt=>Re(yt)&&!ft(yt),desktop:yt=>!Re(yt),hybrid:ft};let We;const Ft=yt=>yt&&(0,V.g)(yt)||We,kt=(yt={})=>{if(typeof window>"u")return;const Ce=window.document,fe=window,Te=fe.Ionic=fe.Ionic||{},Ke={};yt._ael&&(Ke.ael=yt._ael),yt._rel&&(Ke.rel=yt._rel),yt._ce&&(Ke.ce=yt._ce),(0,V.a)(Ke);const Ct=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},(yt=>{try{const Ce=yt.sessionStorage.getItem(Ot);return null!==Ce?JSON.parse(Ce):{}}catch{return{}}})(fe)),{persistConfig:!1}),Te.config),(yt=>{const Ce={};return yt.location.search.slice(1).split("&").map(fe=>fe.split("=")).map(([fe,Te])=>[decodeURIComponent(fe),decodeURIComponent(Te)]).filter(([fe])=>((yt,Ce)=>yt.substr(0,Ce.length)===Ce)(fe,"ionic:")).map(([fe,Te])=>[fe.slice(6),Te]).forEach(([fe,Te])=>{Ce[fe]=Te}),Ce})(fe)),yt);Mt.reset(Ct),Mt.getBoolean("persistConfig")&&((yt,Ce)=>{try{yt.sessionStorage.setItem(Ot,JSON.stringify(Ce))}catch{return}})(fe,Ct),ot(fe),Te.config=Mt,Te.mode=We=Mt.get("mode",Ce.documentElement.getAttribute("mode")||(De(fe,"ios")?"ios":"md")),Mt.set("mode",We),Ce.documentElement.setAttribute("mode",We),Ce.documentElement.classList.add(We),Mt.getBoolean("_testing")&&Mt.set("animated",!1);const qe=Pn=>{var Rn;return null===(Rn=Pn.tagName)||void 0===Rn?void 0:Rn.startsWith("ION-")},rn=Pn=>["ios","md"].includes(Pn);(0,V.c)(Pn=>{for(;Pn;){const Rn=Pn.mode||Pn.getAttribute("mode");if(Rn){if(rn(Rn))return Rn;qe(Pn)&&console.warn('Invalid ionic mode: "'+Rn+'", expected: "ios" or "md"')}Pn=Pn.parentElement}return We})}},2604:(go,kr,wt)=>{"use strict";wt.r(kr),wt.d(kr,{iosTransitionAnimation:()=>Ie,shadow:()=>Ee});var V=wt(3503),ln=wt(1497);wt(8476),wt(9081);const Ut=Ye=>document.querySelector(`${Ye}.ion-cloned-element`),Ee=Ye=>Ye.shadowRoot||Ye,Rt=Ye=>{const Ge="ION-TABS"===Ye.tagName?Ye:Ye.querySelector("ion-tabs"),ge="ion-content ion-header:not(.header-collapse-condense-inactive) ion-title.title-large";if(null!=Ge){const Z=Ge.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");return null!=Z?Z.querySelector(ge):null}return Ye.querySelector(ge)},Ot=(Ye,Ge)=>{const ge="ION-TABS"===Ye.tagName?Ye:Ye.querySelector("ion-tabs");let Z=[];if(null!=ge){const ce=ge.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");null!=ce&&(Z=ce.querySelectorAll("ion-buttons"))}else Z=Ye.querySelectorAll("ion-buttons");for(const ce of Z){const Me=ce.closest("ion-header"),Ue=Me&&!Me.classList.contains("header-collapse-condense-inactive"),Re=ce.querySelector("ion-back-button"),$e=ce.classList.contains("buttons-collapse");if(null!==Re&&("start"===ce.slot||""===ce.slot)&&($e&&Ue&&Ge||!$e))return Re}return null},De=(Ye,Ge,ge,Z,ce,Me,Ue,Re,$e)=>{var ft,ie;const de=Ge?`calc(100% - ${ce.right+4}px)`:ce.left-4+"px",he=Ge?"right":"left",re=Ge?"left":"right",Ze=Ge?"right":"left",lt=(null===(ft=Me.textContent)||void 0===ft?void 0:ft.trim())===(null===(ie=Re.textContent)||void 0===ie?void 0:ie.trim()),We=($e.height-nt)/Ue.height,Ft=lt?`scale(${$e.width/Ue.width}, ${We})`:`scale(${We})`,kt="scale(1)",Ce=Ee(Z).querySelector("ion-icon").getBoundingClientRect(),fe=Ge?Ce.width/2-(Ce.right-ce.right)+"px":ce.left-Ce.width/2+"px",Te=Ge?`-${window.innerWidth-ce.right}px`:`${ce.left}px`,Ke=`${$e.top}px`,Ct=`${ce.top}px`,Pn=ge?[{offset:0,transform:`translate3d(${Te}, ${Ct}, 0)`},{offset:1,transform:`translate3d(${fe}, ${Ke}, 0)`}]:[{offset:0,transform:`translate3d(${fe}, ${Ke}, 0)`},{offset:1,transform:`translate3d(${Te}, ${Ct}, 0)`}],Sr=ge?[{offset:0,opacity:1,transform:kt},{offset:1,opacity:0,transform:Ft}]:[{offset:0,opacity:0,transform:Ft},{offset:1,opacity:1,transform:kt}],Ii=ge?[{offset:0,opacity:1,transform:"scale(1)"},{offset:.2,opacity:0,transform:"scale(0.6)"},{offset:1,opacity:0,transform:"scale(0.6)"}]:[{offset:0,opacity:0,transform:"scale(0.6)"},{offset:.6,opacity:0,transform:"scale(0.6)"},{offset:1,opacity:1,transform:"scale(1)"}],Kr=(0,V.c)(),en=(0,V.c)(),Qt=(0,V.c)(),Xt=Ut("ion-back-button"),tr=Ee(Xt).querySelector(".button-text"),ii=Ee(Xt).querySelector("ion-icon");Xt.text=Z.text,Xt.mode=Z.mode,Xt.icon=Z.icon,Xt.color=Z.color,Xt.disabled=Z.disabled,Xt.style.setProperty("display","block"),Xt.style.setProperty("position","fixed"),en.addElement(ii),Kr.addElement(tr),Qt.addElement(Xt),Qt.beforeStyles({position:"absolute",top:"0px",[Ze]:"0px"}).keyframes(Pn),Kr.beforeStyles({"transform-origin":`${he} top`}).beforeAddWrite(()=>{Z.style.setProperty("display","none"),Xt.style.setProperty(he,de)}).afterAddWrite(()=>{Z.style.setProperty("display",""),Xt.style.setProperty("display","none"),Xt.style.removeProperty(he)}).keyframes(Sr),en.beforeStyles({"transform-origin":`${re} center`}).keyframes(Ii),Ye.addAnimation([Kr,en,Qt])},ot=(Ye,Ge,ge,Z,ce,Me,Ue,Re)=>{var $e,ft;const ie=Ge?"right":"left",de=Ge?`calc(100% - ${ce.right}px)`:`${ce.left}px`,re=`${ce.top}px`,lt=Ge?`-${window.innerWidth-Re.right-8}px`:Re.x-8+"px",We=Re.y-2+"px",Ft=(null===($e=Ue.textContent)||void 0===$e?void 0:$e.trim())===(null===(ft=Z.textContent)||void 0===ft?void 0:ft.trim()),yt=Re.height/(Me.height-nt),Ce="scale(1)",fe=Ft?`scale(${Re.width/Me.width}, ${yt})`:`scale(${yt})`,Ct=ge?[{offset:0,opacity:0,transform:`translate3d(${lt}, ${We}, 0) ${fe}`},{offset:.1,opacity:0},{offset:1,opacity:1,transform:`translate3d(0px, ${re}, 0) ${Ce}`}]:[{offset:0,opacity:.99,transform:`translate3d(0px, ${re}, 0) ${Ce}`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${lt}, ${We}, 0) ${fe}`}],qe=Ut("ion-title"),rn=(0,V.c)();qe.innerText=Z.innerText,qe.size=Z.size,qe.color=Z.color,rn.addElement(qe),rn.beforeStyles({"transform-origin":`${ie} top`,height:`${ce.height}px`,display:"",position:"relative",[ie]:de}).beforeAddWrite(()=>{Z.style.setProperty("opacity","0")}).afterAddWrite(()=>{Z.style.setProperty("opacity",""),qe.style.setProperty("display","none")}).keyframes(Ct),Ye.addAnimation(rn)},Ie=(Ye,Ge)=>{var ge;try{const Z="cubic-bezier(0.32,0.72,0,1)",ce="opacity",Me="transform",Ue="0%",$e="rtl"===Ye.ownerDocument.dir,ft=$e?"-99.5%":"99.5%",ie=$e?"33%":"-33%",de=Ge.enteringEl,he=Ge.leavingEl,re="back"===Ge.direction,Ze=de.querySelector(":scope > ion-content"),lt=de.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *"),Fe=de.querySelectorAll(":scope > ion-header > ion-toolbar"),We=(0,V.c)(),Ft=(0,V.c)();if(We.addElement(de).duration((null!==(ge=Ge.duration)&&void 0!==ge?ge:0)||540).easing(Ge.easing||Z).fill("both").beforeRemoveClass("ion-page-invisible"),he&&null!=Ye){const fe=(0,V.c)();fe.addElement(Ye),We.addAnimation(fe)}if(Ze||0!==Fe.length||0!==lt.length?(Ft.addElement(Ze),Ft.addElement(lt)):Ft.addElement(de.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),We.addAnimation(Ft),re?Ft.beforeClearStyles([ce]).fromTo("transform",`translateX(${ie})`,`translateX(${Ue})`).fromTo(ce,.8,1):Ft.beforeClearStyles([ce]).fromTo("transform",`translateX(${ft})`,`translateX(${Ue})`),Ze){const fe=Ee(Ze).querySelector(".transition-effect");if(fe){const Te=fe.querySelector(".transition-cover"),Ke=fe.querySelector(".transition-shadow"),Ct=(0,V.c)(),qe=(0,V.c)(),rn=(0,V.c)();Ct.addElement(fe).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),qe.addElement(Te).beforeClearStyles([ce]).fromTo(ce,0,.1),rn.addElement(Ke).beforeClearStyles([ce]).fromTo(ce,.03,.7),Ct.addAnimation([qe,rn]),Ft.addAnimation([Ct])}}const kt=de.querySelector("ion-header.header-collapse-condense"),{forward:yt,backward:Ce}=((Ye,Ge,ge,Z,ce)=>{const Me=Ot(Z,ge),Ue=Rt(ce),Re=Rt(Z),$e=Ot(ce,ge),ft=null!==Me&&null!==Ue&&!ge,ie=null!==Re&&null!==$e&&ge;if(ft){const de=Ue.getBoundingClientRect(),he=Me.getBoundingClientRect(),re=Ee(Me).querySelector(".button-text"),Ze=re.getBoundingClientRect(),Fe=Ee(Ue).querySelector(".toolbar-title").getBoundingClientRect();ot(Ye,Ge,ge,Ue,de,Fe,re,Ze),De(Ye,Ge,ge,Me,he,re,Ze,Ue,Fe)}else if(ie){const de=Re.getBoundingClientRect(),he=$e.getBoundingClientRect(),re=Ee($e).querySelector(".button-text"),Ze=re.getBoundingClientRect(),Fe=Ee(Re).querySelector(".toolbar-title").getBoundingClientRect();ot(Ye,Ge,ge,Re,de,Fe,re,Ze),De(Ye,Ge,ge,$e,he,re,Ze,Re,Fe)}return{forward:ft,backward:ie}})(We,$e,re,de,he);if(Fe.forEach(fe=>{const Te=(0,V.c)();Te.addElement(fe),We.addAnimation(Te);const Ke=(0,V.c)();Ke.addElement(fe.querySelector("ion-title"));const Ct=(0,V.c)(),qe=Array.from(fe.querySelectorAll("ion-buttons,[menuToggle]")),rn=fe.closest("ion-header"),Pn=null==rn?void 0:rn.classList.contains("header-collapse-condense-inactive");let Rn;Rn=qe.filter(re?Ii=>{const Kr=Ii.classList.contains("buttons-collapse");return Kr&&!Pn||!Kr}:Ii=>!Ii.classList.contains("buttons-collapse")),Ct.addElement(Rn);const Kn=(0,V.c)();Kn.addElement(fe.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])"));const Sr=(0,V.c)();Sr.addElement(Ee(fe).querySelector(".toolbar-background"));const pi=(0,V.c)(),sr=fe.querySelector("ion-back-button");if(sr&&pi.addElement(sr),Te.addAnimation([Ke,Ct,Kn,Sr,pi]),Ct.fromTo(ce,.01,1),Kn.fromTo(ce,.01,1),re)Pn||Ke.fromTo("transform",`translateX(${ie})`,`translateX(${Ue})`).fromTo(ce,.01,1),Kn.fromTo("transform",`translateX(${ie})`,`translateX(${Ue})`),pi.fromTo(ce,.01,1);else if(kt||Ke.fromTo("transform",`translateX(${ft})`,`translateX(${Ue})`).fromTo(ce,.01,1),Kn.fromTo("transform",`translateX(${ft})`,`translateX(${Ue})`),Sr.beforeClearStyles([ce,"transform"]),(null==rn?void 0:rn.translucent)?Sr.fromTo("transform",$e?"translateX(-100%)":"translateX(100%)","translateX(0px)"):Sr.fromTo(ce,.01,"var(--opacity)"),yt||pi.fromTo(ce,.01,1),sr&&!yt){const Kr=(0,V.c)();Kr.addElement(Ee(sr).querySelector(".button-text")).fromTo("transform",$e?"translateX(-100px)":"translateX(100px)","translateX(0px)"),Te.addAnimation(Kr)}}),he){const fe=(0,V.c)(),Te=he.querySelector(":scope > ion-content"),Ke=he.querySelectorAll(":scope > ion-header > ion-toolbar"),Ct=he.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *");if(Te||0!==Ke.length||0!==Ct.length?(fe.addElement(Te),fe.addElement(Ct)):fe.addElement(he.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),We.addAnimation(fe),re){fe.beforeClearStyles([ce]).fromTo("transform",`translateX(${Ue})`,$e?"translateX(-100%)":"translateX(100%)");const qe=(0,ln.g)(he);We.afterAddWrite(()=>{"normal"===We.getDirection()&&qe.style.setProperty("display","none")})}else fe.fromTo("transform",`translateX(${Ue})`,`translateX(${ie})`).fromTo(ce,1,.8);if(Te){const qe=Ee(Te).querySelector(".transition-effect");if(qe){const rn=qe.querySelector(".transition-cover"),Pn=qe.querySelector(".transition-shadow"),Rn=(0,V.c)(),Kn=(0,V.c)(),Sr=(0,V.c)();Rn.addElement(qe).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),Kn.addElement(rn).beforeClearStyles([ce]).fromTo(ce,.1,0),Sr.addElement(Pn).beforeClearStyles([ce]).fromTo(ce,.7,.03),Rn.addAnimation([Kn,Sr]),fe.addAnimation([Rn])}}Ke.forEach(qe=>{const rn=(0,V.c)();rn.addElement(qe);const Pn=(0,V.c)();Pn.addElement(qe.querySelector("ion-title"));const Rn=(0,V.c)(),Kn=qe.querySelectorAll("ion-buttons,[menuToggle]"),Sr=qe.closest("ion-header"),pi=null==Sr?void 0:Sr.classList.contains("header-collapse-condense-inactive"),sr=Array.from(Kn).filter(tr=>{const ii=tr.classList.contains("buttons-collapse");return ii&&!pi||!ii});Rn.addElement(sr);const Ii=(0,V.c)(),Kr=qe.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])");Kr.length>0&&Ii.addElement(Kr);const en=(0,V.c)();en.addElement(Ee(qe).querySelector(".toolbar-background"));const Qt=(0,V.c)(),Xt=qe.querySelector("ion-back-button");if(Xt&&Qt.addElement(Xt),rn.addAnimation([Pn,Rn,Ii,Qt,en]),We.addAnimation(rn),Qt.fromTo(ce,.99,0),Rn.fromTo(ce,.99,0),Ii.fromTo(ce,.99,0),re){if(pi||Pn.fromTo("transform",`translateX(${Ue})`,$e?"translateX(-100%)":"translateX(100%)").fromTo(ce,.99,0),Ii.fromTo("transform",`translateX(${Ue})`,$e?"translateX(-100%)":"translateX(100%)"),en.beforeClearStyles([ce,"transform"]),(null==Sr?void 0:Sr.translucent)?en.fromTo("transform","translateX(0px)",$e?"translateX(-100%)":"translateX(100%)"):en.fromTo(ce,"var(--opacity)",0),Xt&&!Ce){const ii=(0,V.c)();ii.addElement(Ee(Xt).querySelector(".button-text")).fromTo("transform",`translateX(${Ue})`,`translateX(${($e?-124:124)+"px"})`),rn.addAnimation(ii)}}else pi||Pn.fromTo("transform",`translateX(${Ue})`,`translateX(${ie})`).fromTo(ce,.99,0).afterClearStyles([Me,ce]),Ii.fromTo("transform",`translateX(${Ue})`,`translateX(${ie})`).afterClearStyles([Me,ce]),Qt.afterClearStyles([ce]),Pn.afterClearStyles([ce]),Rn.afterClearStyles([ce])})}return We}catch(Z){throw Z}},nt=10},3003:(go,kr,wt)=>{"use strict";wt.r(kr),wt.d(kr,{mdTransitionAnimation:()=>Tn});var V=wt(3503),ln=wt(1497);wt(8476),wt(9081);const Tn=(Ut,Ee)=>{var Rt,Ot,He;const Ie="back"===Ee.direction,Ye=Ee.leavingEl,Ge=(0,ln.g)(Ee.enteringEl),ge=Ge.querySelector("ion-toolbar"),Z=(0,V.c)();if(Z.addElement(Ge).fill("both").beforeRemoveClass("ion-page-invisible"),Ie?Z.duration((null!==(Rt=Ee.duration)&&void 0!==Rt?Rt:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)"):Z.duration((null!==(Ot=Ee.duration)&&void 0!==Ot?Ot:0)||280).easing("cubic-bezier(0.36,0.66,0.04,1)").fromTo("transform","translateY(40px)","translateY(0px)").fromTo("opacity",.01,1),ge){const ce=(0,V.c)();ce.addElement(ge),Z.addAnimation(ce)}if(Ye&&Ie){Z.duration((null!==(He=Ee.duration)&&void 0!==He?He:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)");const ce=(0,V.c)();ce.addElement((0,ln.g)(Ye)).onFinish(Me=>{1===Me&&ce.elements.length>0&&ce.elements[0].style.setProperty("display","none")}).fromTo("transform","translateY(0px)","translateY(40px)").fromTo("opacity",1,0),Z.addAnimation(ce)}return Z}},4133:(go,kr,wt)=>{"use strict";wt.d(kr,{B:()=>Rn,G:()=>Kn,O:()=>Sr,a:()=>ot,b:()=>Ie,c:()=>ge,d:()=>pi,e:()=>sr,f:()=>kt,g:()=>Ce,h:()=>Ke,i:()=>qe,j:()=>ce,k:()=>Me,m:()=>Ye,n:()=>ft,o:()=>We,s:()=>Pn,t:()=>Z});var V=wt(467),ln=wt(8476),Mt=wt(9457),tt=wt(8436),Tn=wt(5938),Ut=wt(5638),Ee=wt(4929);let Rt=0,Ot=0;const He=new WeakMap,De=en=>({create:Qt=>Ue(en,Qt),dismiss:(Qt,Xt,tr)=>Ze(document,Qt,Xt,en,tr),getTop:()=>(0,V.A)(function*(){return We(document,en)})()}),ot=De("ion-alert"),Ie=De("ion-action-sheet"),Ye=De("ion-modal"),ge=De("ion-popover"),Z=De("ion-toast"),ce=en=>{typeof document<"u"&&re(document);const Qt=Rt++;en.overlayIndex=Qt},Me=en=>(en.hasAttribute("id")||(en.id="ion-overlay-"+ ++Ot),en.id),Ue=(en,Qt)=>typeof window<"u"&&typeof window.customElements<"u"?window.customElements.whenDefined(en).then(()=>{const Xt=document.createElement(en);return Xt.classList.add("overlay-hidden"),Object.assign(Xt,Object.assign(Object.assign({},Qt),{hasController:!0})),fe(document).appendChild(Xt),new Promise(tr=>(0,Ut.c)(Xt,tr))}):Promise.resolve(),Re='[tabindex]:not([tabindex^="-"]):not([hidden]):not([disabled]), input:not([type=hidden]):not([tabindex^="-"]):not([hidden]):not([disabled]), textarea:not([tabindex^="-"]):not([hidden]):not([disabled]), button:not([tabindex^="-"]):not([hidden]):not([disabled]), select:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable[disabled="false"]:not([tabindex^="-"]):not([hidden])',ft=(en,Qt)=>{const Xt=en.querySelector(Re);de(Xt,Qt)},ie=(en,Qt)=>{const Xt=Array.from(en.querySelectorAll(Re));de(Xt.length>0?Xt[Xt.length-1]:null,Qt)},de=(en,Qt)=>{let Xt=en;const tr=null==en?void 0:en.shadowRoot;tr&&(Xt=tr.querySelector(Re)||en),Xt?(0,Ut.f)(Xt):Qt.focus()},re=en=>{0===Rt&&(Rt=1,en.addEventListener("focus",Qt=>{((en,Qt)=>{const Xt=We(Qt,"ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover"),tr=en.target;Xt&&tr&&!Xt.classList.contains("ion-disable-focus-trap")&&(Xt.shadowRoot?(()=>{if(Xt.contains(tr))Xt.lastFocus=tr;else if("ION-TOAST"===tr.tagName)de(Xt.lastFocus,Xt);else{const vi=Xt.lastFocus;ft(Xt,Xt),vi===Qt.activeElement&&ie(Xt,Xt),Xt.lastFocus=Qt.activeElement}})():(()=>{if(Xt===tr)Xt.lastFocus=void 0;else if("ION-TOAST"===tr.tagName)de(Xt.lastFocus,Xt);else{const vi=(0,Ut.g)(Xt);if(!vi.contains(tr))return;const xi=vi.querySelector(".ion-overlay-wrapper");if(!xi)return;if(xi.contains(tr)||tr===vi.querySelector("ion-backdrop"))Xt.lastFocus=tr;else{const zr=Xt.lastFocus;ft(xi,Xt),zr===Qt.activeElement&&ie(xi,Xt),Xt.lastFocus=Qt.activeElement}}})())})(Qt,en)},!0),en.addEventListener("ionBackButton",Qt=>{const Xt=We(en);null!=Xt&&Xt.backdropDismiss&&Qt.detail.register(Mt.OVERLAY_BACK_BUTTON_PRIORITY,()=>{Xt.dismiss(void 0,Rn)})}),(0,Mt.shouldUseCloseWatcher)()||en.addEventListener("keydown",Qt=>{if("Escape"===Qt.key){const Xt=We(en);null!=Xt&&Xt.backdropDismiss&&Xt.dismiss(void 0,Rn)}}))},Ze=(en,Qt,Xt,tr,ii)=>{const wi=We(en,tr,ii);return wi?wi.dismiss(Qt,Xt):Promise.reject("overlay does not exist")},Fe=(en,Qt)=>((en,Qt)=>(void 0===Qt&&(Qt="ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover,ion-toast"),Array.from(en.querySelectorAll(Qt)).filter(Xt=>Xt.overlayIndex>0)))(en,Qt).filter(Xt=>!(en=>en.classList.contains("overlay-hidden"))(Xt)),We=(en,Qt,Xt)=>{const tr=Fe(en,Qt);return void 0===Xt?tr[tr.length-1]:tr.find(ii=>ii.id===Xt)},Ft=(en=!1)=>{const Xt=fe(document).querySelector("ion-router-outlet, ion-nav, #ion-view-container-root");Xt&&(en?Xt.setAttribute("aria-hidden","true"):Xt.removeAttribute("aria-hidden"))},kt=function(){var en=(0,V.A)(function*(Qt,Xt,tr,ii,wi){var vi,xi;if(Qt.presented)return;Ft(!0),Ii(Qt.el),Qt.presented=!0,Qt.willPresent.emit(),null===(vi=Qt.willPresentShorthand)||void 0===vi||vi.emit();const zr=(0,tt.b)(Qt),ko=Qt.enterAnimation?Qt.enterAnimation:tt.c.get(Xt,"ios"===zr?tr:ii);(yield Te(Qt,ko,Qt.el,wi))&&(Qt.didPresent.emit(),null===(xi=Qt.didPresentShorthand)||void 0===xi||xi.emit()),"ION-TOAST"!==Qt.el.tagName&&yt(Qt.el),Qt.keyboardClose&&(null===document.activeElement||!Qt.el.contains(document.activeElement))&&Qt.el.focus(),Qt.el.removeAttribute("aria-hidden")});return function(Xt,tr,ii,wi,vi){return en.apply(this,arguments)}}(),yt=function(){var en=(0,V.A)(function*(Qt){let Xt=document.activeElement;if(!Xt)return;const tr=null==Xt?void 0:Xt.shadowRoot;tr&&(Xt=tr.querySelector(Re)||Xt),yield Qt.onDidDismiss(),(null===document.activeElement||document.activeElement===document.body)&&Xt.focus()});return function(Xt){return en.apply(this,arguments)}}(),Ce=function(){var en=(0,V.A)(function*(Qt,Xt,tr,ii,wi,vi,xi){var zr,ko;if(!Qt.presented)return!1;void 0!==ln.d&&1===Fe(ln.d).length&&Ft(!1),Qt.presented=!1;try{Qt.el.style.setProperty("pointer-events","none"),Qt.willDismiss.emit({data:Xt,role:tr}),null===(zr=Qt.willDismissShorthand)||void 0===zr||zr.emit({data:Xt,role:tr});const qi=(0,tt.b)(Qt),ys=Qt.leaveAnimation?Qt.leaveAnimation:tt.c.get(ii,"ios"===qi?wi:vi);tr!==Kn&&(yield Te(Qt,ys,Qt.el,xi)),Qt.didDismiss.emit({data:Xt,role:tr}),null===(ko=Qt.didDismissShorthand)||void 0===ko||ko.emit({data:Xt,role:tr}),(He.get(Qt)||[]).forEach(co=>co.destroy()),He.delete(Qt),Qt.el.classList.add("overlay-hidden"),Qt.el.style.removeProperty("pointer-events"),void 0!==Qt.el.lastFocus&&(Qt.el.lastFocus=void 0)}catch(qi){console.error(qi)}return Qt.el.remove(),Kr(),!0});return function(Xt,tr,ii,wi,vi,xi,zr){return en.apply(this,arguments)}}(),fe=en=>en.querySelector("ion-app")||en.body,Te=function(){var en=(0,V.A)(function*(Qt,Xt,tr,ii){tr.classList.remove("overlay-hidden");const vi=Xt(Qt.el,ii);(!Qt.animated||!tt.c.getBoolean("animated",!0))&&vi.duration(0),Qt.keyboardClose&&vi.beforeAddWrite(()=>{const zr=tr.ownerDocument.activeElement;null!=zr&&zr.matches("input,ion-input, ion-textarea")&&zr.blur()});const xi=He.get(Qt)||[];return He.set(Qt,[...xi,vi]),yield vi.play(),!0});return function(Xt,tr,ii,wi){return en.apply(this,arguments)}}(),Ke=(en,Qt)=>{let Xt;const tr=new Promise(ii=>Xt=ii);return Ct(en,Qt,ii=>{Xt(ii.detail)}),tr},Ct=(en,Qt,Xt)=>{const tr=ii=>{(0,Ut.b)(en,Qt,tr),Xt(ii)};(0,Ut.a)(en,Qt,tr)},qe=en=>"cancel"===en||en===Rn,rn=en=>en(),Pn=(en,Qt)=>{if("function"==typeof en)return tt.c.get("_zoneGate",rn)(()=>{try{return en(Qt)}catch(tr){throw tr}})},Rn="backdrop",Kn="gesture",Sr=39,pi=en=>{let Xt,Qt=!1;const tr=(0,Tn.C)(),ii=(xi=!1)=>{if(Xt&&!xi)return{delegate:Xt,inline:Qt};const{el:zr,hasController:ko,delegate:qi}=en;return Qt=null!==zr.parentNode&&!ko,Xt=Qt?qi||tr:qi,{inline:Qt,delegate:Xt}};return{attachViewToDom:function(){var xi=(0,V.A)(function*(zr){const{delegate:ko}=ii(!0);if(ko)return yield ko.attachViewToDom(en.el,zr);const{hasController:qi}=en;if(qi&&void 0!==zr)throw new Error("framework delegate is missing");return null});return function(ko){return xi.apply(this,arguments)}}(),removeViewFromDom:()=>{const{delegate:xi}=ii();xi&&void 0!==en.el&&xi.removeViewFromDom(en.el.parentElement,en.el)}}},sr=()=>{let en;const Qt=()=>{en&&(en(),en=void 0)};return{addClickListener:(tr,ii)=>{Qt();const wi=void 0!==ii?document.getElementById(ii):null;wi?en=((xi,zr)=>{const ko=()=>{zr.present()};return xi.addEventListener("click",ko),()=>{xi.removeEventListener("click",ko)}})(wi,tr):(0,Ee.p)(`A trigger element with the ID "${ii}" was not found in the DOM. The trigger element must be in the DOM when the "trigger" property is set on an overlay component.`,tr)},removeClickListener:Qt}},Ii=en=>{var Qt;if(void 0===ln.d)return;const Xt=Fe(ln.d);for(let tr=Xt.length-1;tr>=0;tr--){const ii=Xt[tr],wi=null!==(Qt=Xt[tr+1])&&void 0!==Qt?Qt:en;(wi.hasAttribute("aria-hidden")||"ION-TOAST"!==wi.tagName)&&ii.setAttribute("aria-hidden","true")}},Kr=()=>{if(void 0===ln.d)return;const en=Fe(ln.d);for(let Qt=en.length-1;Qt>=0;Qt--){const Xt=en[Qt];if(Xt.removeAttribute("aria-hidden"),"ION-TOAST"!==Xt.tagName)break}}},7396:(go,kr,wt)=>{"use strict";var V=wt(467);let Mt=null,Tn=1;const Ut=Symbol("SIGNAL");function Ee(t){const e=Mt;return Mt=t,e}function nt(t){if((!ft(t)||t.dirty)&&(t.dirty||t.lastCleanEpoch!==Tn)){if(!t.producerMustRecompute(t)&&!Me(t))return t.dirty=!1,void(t.lastCleanEpoch=Tn);t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=Tn}}function Me(t){ie(t);for(let e=0;e<t.producerNode.length;e++){const n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(nt(n),r!==n.version))return!0}return!1}function $e(t,e){if(function de(t){var e,n;null!==(e=t.liveConsumerNode)&&void 0!==e||(t.liveConsumerNode=[]),null!==(n=t.liveConsumerIndexOfThis)&&void 0!==n||(t.liveConsumerIndexOfThis=[])}(t),ie(t),1===t.liveConsumerNode.length)for(let r=0;r<t.producerNode.length;r++)$e(t.producerNode[r],t.producerIndexOfThis[r]);const n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){const r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];ie(i),i.producerIndexOfThis[r]=e}}function ft(t){var e,n;return t.consumerIsAlwaysLive||(null!==(e=null==t||null===(n=t.liveConsumerNode)||void 0===n?void 0:n.length)&&void 0!==e?e:0)>0}function ie(t){var e,n,r;null!==(e=t.producerNode)&&void 0!==e||(t.producerNode=[]),null!==(n=t.producerIndexOfThis)&&void 0!==n||(t.producerIndexOfThis=[]),null!==(r=t.producerLastReadVersion)&&void 0!==r||(t.producerLastReadVersion=[])}let Ft=null;function sr(t){return"function"==typeof t}function Ii(t){const n=t(r=>{Error.call(r),r.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const Kr=Ii(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function en(t,e){if(t){const n=t.indexOf(e);0<=n&&t.splice(n,1)}}class Qt{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const o of n)o.remove(this);else n.remove(this);const{initialTeardown:r}=this;if(sr(r))try{r()}catch(o){e=o instanceof Kr?o.errors:[o]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const o of i)try{ii(o)}catch(s){e=null!=e?e:[],s instanceof Kr?e=[...e,...s.errors]:e.push(s)}}if(e)throw new Kr(e)}}add(e){var n;if(e&&e!==this)if(this.closed)ii(e);else{if(e instanceof Qt){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(e)}}_hasParent(e){const{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){const{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&en(n,e)}remove(e){const{_finalizers:n}=this;n&&en(n,e),e instanceof Qt&&e._removeParent(this)}}Qt.EMPTY=(()=>{const t=new Qt;return t.closed=!0,t})();const Xt=Qt.EMPTY;function tr(t){return t instanceof Qt||t&&"closed"in t&&sr(t.remove)&&sr(t.add)&&sr(t.unsubscribe)}function ii(t){sr(t)?t():t.unsubscribe()}const wi={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},vi={setTimeout(t,e,...n){const{delegate:r}=vi;return null!=r&&r.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){const{delegate:e}=vi;return((null==e?void 0:e.clearTimeout)||clearTimeout)(t)},delegate:void 0};function xi(t){vi.setTimeout(()=>{const{onUnhandledError:e}=wi;if(!e)throw t;e(t)})}function zr(){}const ko=Bs("C",void 0,void 0);function Bs(t,e,n){return{kind:t,value:e,error:n}}let co=null;function Vi(t){if(wi.useDeprecatedSynchronousErrorHandling){const e=!co;if(e&&(co={errorThrown:!1,error:null}),t(),e){const{errorThrown:n,error:r}=co;if(co=null,n)throw r}}else t()}class ea extends Qt{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,tr(e)&&e.add(this)):this.destination=lc}static create(e,n,r){return new Eo(e,n,r)}next(e){this.isStopped?gl(function ys(t){return Bs("N",t,void 0)}(e),this):this._next(e)}error(e){this.isStopped?gl(function qi(t){return Bs("E",void 0,t)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?gl(ko,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Ds=Function.prototype.bind;function _s(t,e){return Ds.call(t,e)}class Ja{constructor(e){this.partialObserver=e}next(e){const{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){xs(r)}}error(e){const{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){xs(r)}else xs(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){xs(n)}}}class Eo extends ea{constructor(e,n,r){let i;if(super(),sr(e)||!e)i={next:null!=e?e:void 0,error:null!=n?n:void 0,complete:null!=r?r:void 0};else{let o;this&&wi.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&_s(e.next,o),error:e.error&&_s(e.error,o),complete:e.complete&&_s(e.complete,o)}):i=e}this.destination=new Ja(i)}}function xs(t){wi.useDeprecatedSynchronousErrorHandling?function gi(t){wi.useDeprecatedSynchronousErrorHandling&&co&&(co.errorThrown=!0,co.error=t)}(t):xi(t)}function gl(t,e){const{onStoppedNotification:n}=wi;n&&vi.setTimeout(()=>n(t,e))}const lc={closed:!0,next:zr,error:function us(t){throw t},complete:zr},Pa="function"==typeof Symbol&&Symbol.observable||"@@observable";function Ro(t){return t}function Ru(t){return 0===t.length?Ro:1===t.length?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}let ro=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){const r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){const o=function ut(t){return t&&t instanceof ea||function Ll(t){return t&&sr(t.next)&&sr(t.error)&&sr(t.complete)}(t)&&tr(t)}(n)?n:new Eo(n,r,i);return Vi(()=>{const{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return new(r=Aa(r))((i,o)=>{const s=new Eo({next:a=>{try{n(a)}catch(l){o(l),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(n)}[Pa](){return this}pipe(...n){return Ru(n)(this)}toPromise(n){return new(n=Aa(n))((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return t.create=e=>new t(e),t})();function Aa(t){var e;return null!==(e=null!=t?t:wi.Promise)&&void 0!==e?e:Promise}const Xe=Ii(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let dt=(()=>{class t extends ro{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const r=new dn(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new Xe}next(n){Vi(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(n)}})}error(n){Vi(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Vi(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:r,isStopped:i,observers:o}=this;return r||i?Xt:(this.currentObservers=null,o.push(n),new Qt(()=>{this.currentObservers=null,en(o,n)}))}_checkFinalizedStatuses(n){const{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){const n=new ro;return n.source=this,n}}return t.create=(e,n)=>new dn(e,n),t})();class dn extends dt{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===r||r.call(n,e)}error(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===r||r.call(n,e)}complete(){var e,n;null===(n=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===n||n.call(e)}_subscribe(e){var n,r;return null!==(r=null===(n=this.source)||void 0===n?void 0:n.subscribe(e))&&void 0!==r?r:Xt}}class rt extends dt{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){const{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}function $n(t){return sr(null==t?void 0:t.lift)}function qn(t){return e=>{if($n(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function $r(t,e,n,r,i){return new mo(t,e,n,r,i)}class mo extends ea{constructor(e,n,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(l){e.error(l)}}:super._next,this._error=i?function(a){try{i(a)}catch(l){e.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function Nr(t,e){return qn((n,r)=>{let i=0;n.subscribe($r(r,o=>{r.next(t.call(e,o,i++))}))})}const Ci="https://g.co/ng/security#xss";class hn extends Error{constructor(e,n){super(function ha(t,e){return`NG0${Math.abs(t)}${e?": "+e:""}`}(e,n)),this.code=e}}function fa(t){return{toString:t}.toString()}const Dt="__parameters__";function br(t,e,n){return fa(()=>{const r=function Yn(t){return function(...n){if(t){const r=t(...n);for(const i in r)this[i]=r[i]}}}(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;const s=new i(...o);return a.annotation=s,a;function a(l,u,m){const I=l.hasOwnProperty(Dt)?l[Dt]:Object.defineProperty(l,Dt,{value:[]})[Dt];for(;I.length<=m;)I.push(null);return(I[m]=I[m]||[]).push(s),l}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}const ar=globalThis;function Jr(t){for(let e in t)if(t[e]===Jr)return e;throw Error("Could not find renamed property on target object.")}function nr(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function Gr(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(Gr).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function Ao(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const Zl=Jr({__forward_ref__:Jr});function Si(t){return t.__forward_ref__=Si,t.toString=function(){return Gr(this())},t}function Qr(t){return vl(t)?t():t}function vl(t){return"function"==typeof t&&t.hasOwnProperty(Zl)&&t.__forward_ref__===Si}function Cn(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Yi(t){return{providers:t.providers||[],imports:t.imports||[]}}function vo(t){return qr(t,Za)||qr(t,ci)}function qr(t,e){return t.hasOwnProperty(e)?t[e]:null}function zs(t){return t&&(t.hasOwnProperty(yl)||t.hasOwnProperty(Mu))?t[yl]:null}const Za=Jr({\u0275prov:Jr}),yl=Jr({\u0275inj:Jr}),ci=Jr({ngInjectableDef:Jr}),Mu=Jr({ngInjectorDef:Jr});class Un{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=Cn({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function gh(t){return t&&!!t.\u0275providers}const uc=Jr({\u0275cmp:Jr}),Kd=Jr({\u0275dir:Jr}),_l=Jr({\u0275pipe:Jr}),qd=Jr({\u0275mod:Jr}),cc=Jr({\u0275fac:Jr}),tl=Jr({__NG_ELEMENT_ID__:Jr}),Lu=Jr({__NG_ENV_ID__:Jr});function jr(t){return"string"==typeof t?t:null==t?"":String(t)}function Oc(t,e){throw new hn(-201,!1)}var Hr=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(Hr||{});let Xd;function md(){return Xd}function Ls(t){const e=Xd;return Xd=t,e}function mh(t,e,n){const r=vo(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&Hr.Optional?null:void 0!==e?e:void Oc()}const fr={},vd="__NG_DI_FLAG__",vh="ngTempTokenPath",rp=/\n/gm,Vc="__source";let Jd;function eu(t){const e=Jd;return Jd=t,e}function tf(t,e=Hr.Default){if(void 0===Jd)throw new hn(-203,!1);return null===Jd?mh(t,void 0,e):Jd.get(t,e&Hr.Optional?null:void 0,e)}function Ln(t,e=Hr.Default){return(md()||tf)(Qr(t),e)}function sn(t,e=Hr.Default){return Ln(t,nf(e))}function nf(t){return typeof t>"u"||"number"==typeof t?t:(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function yd(t){const e=[];for(let n=0;n<t.length;n++){const r=Qr(t[n]);if(Array.isArray(r)){if(0===r.length)throw new hn(900,!1);let i,o=Hr.Default;for(let s=0;s<r.length;s++){const a=r[s],l=Zd(a);"number"==typeof l?-1===l?i=a.token:o|=l:i=a}e.push(Ln(i,o))}else e.push(Ln(r))}return e}function Qc(t,e){return t[vd]=e,t.prototype[vd]=e,t}function Zd(t){return t[vd]}const Uo=Qc(br("Optional"),8),ts=Qc(br("SkipSelf"),4);function La(t,e){return t.hasOwnProperty(cc)?t[cc]:null}function jc(t,e){t.forEach(n=>Array.isArray(n)?jc(n,e):e(n))}function eA(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function zc(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function ks(t,e,n){let r=ds(t,e);return r>=0?t[1|r]=n:(r=~r,function nu(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function na(t,e){const n=ds(t,e);if(n>=0)return t[1|n]}function ds(t,e){return function VA(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){const o=r+(i-r>>1),s=t[o<<n];if(e===s)return o<<n;s>e?i=o:r=o+1}return~(i<<n)}(t,e,1)}const Ol={},Qi=[],dc=new Un(""),rf=new Un("",-1),tA=new Un("");class Cl{get(e,n=fr){if(n===fr){const r=new Error(`NullInjectorError: No provider for ${Gr(e)}!`);throw r.name="NullInjectorError",r}return n}}var sf=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(sf||{}),bl=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(bl||{}),Vo=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(Vo||{});function af(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}function lf(t,e,n){let r=0;for(;r<n.length;){const i=n[r];if("number"==typeof i){if(0!==i)break;r++;const o=n[r++],s=n[r++],a=n[r++];t.setAttribute(e,s,a,o)}else{const o=i,s=n[++r];iu(o)?t.setProperty(e,o,s):t.setAttribute(e,o,s),r++}}return r}function uf(t){return 3===t||4===t||6===t}function iu(t){return 64===t.charCodeAt(0)}function wd(t,e){if(null!==e&&0!==e.length)if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||C(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function C(t,e,n,r,i){let o=0,s=t.length;if(-1===e)s=-1;else for(;o<t.length;){const a=t[o++];if("number"==typeof a){if(a===e){s=-1;break}if(a>e){s=o-1;break}}}for(;o<t.length;){const a=t[o];if("number"==typeof a)break;if(a===n){if(null===r)return void(null!==i&&(t[o+1]=i));if(r===t[o+1])return void(t[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==s&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),null!==r&&t.splice(o++,0,r),null!==i&&t.splice(o++,0,i)}const g="ng-template";function y(t,e,n,r){let i=0;if(r){for(;i<e.length&&"string"==typeof e[i];i+=2)if("class"===e[i]&&-1!==af(e[i+1].toLowerCase(),n,0))return!0}else if(S(t))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&"string"==typeof(o=e[i]);)if(o.toLowerCase()===n)return!0}return!1}function S(t){return 4===t.type&&t.value!==g}function x(t,e,n){return e===(4!==t.type||n?t.value:g)}function B(t,e,n){let r=4;const i=t.attrs,o=null!==i?function te(t){for(let e=0;e<t.length;e++)if(uf(t[e]))return e;return t.length}(i):0;let s=!1;for(let a=0;a<e.length;a++){const l=e[a];if("number"!=typeof l){if(!s)if(4&r){if(r=2|1&r,""!==l&&!x(t,l,n)||""===l&&1===e.length){if(P(r))return!1;s=!0}}else if(8&r){if(null===i||!y(t,i,l,n)){if(P(r))return!1;s=!0}}else{const u=e[++a],m=M(l,i,S(t),n);if(-1===m){if(P(r))return!1;s=!0;continue}if(""!==u){let I;if(I=m>o?"":i[m+1].toLowerCase(),2&r&&u!==I){if(P(r))return!1;s=!0}}}}else{if(!s&&!P(r)&&!P(l))return!1;if(s&&P(l))continue;s=!1,r=l|1&r}}return P(r)||s}function P(t){return!(1&t)}function M(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let o=!1;for(;i<e.length;){const s=e[i];if(s===t)return i;if(3===s||6===s)o=!0;else{if(1===s||2===s){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===s)break;if(0===s){i+=4;continue}}i+=o?1:2}return-1}return function ue(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function L(t,e,n=!1){for(let r=0;r<e.length;r++)if(B(t,e[r],n))return!0;return!1}function pe(t,e){e:for(let n=0;n<e.length;n++){const r=e[n];if(t.length===r.length){for(let i=0;i<t.length;i++)if(t[i]!==r[i])continue e;return!0}}return!1}function j(t,e){return t?":not("+e.trim()+")":e}function Pe(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if("string"==typeof s)if(2&r){const a=t[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+s:4&r&&(i+=" "+s);else""!==i&&!P(s)&&(e+=j(o,i),i=""),r=s,o=o||!P(r);n++}return""!==i&&(e+=j(o,i)),e}function J(t){return fa(()=>{var e;const n=pt(t),r={...n,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===sf.OnPush,directiveDefs:null,pipeDefs:null,dependencies:n.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:null!==(e=t.signals)&&void 0!==e&&e,data:t.data||{},encapsulation:t.encapsulation||bl.Emulated,styles:t.styles||Qi,_:null,schemas:t.schemas||null,tView:null,id:""};ct(r);const i=t.dependencies;return r.directiveDefs=cn(i,!1),r.pipeDefs=cn(i,!0),r.id=function _n(t){let e=0;const n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const i of n)e=Math.imul(31,e)+i.charCodeAt(0)|0;return e+=2147483648,"c"+e}(r),r})}function Le(t){return Ne(t)||Zt(t)}function gt(t){return null!==t}function xt(t){return fa(()=>({type:t.type,bootstrap:t.bootstrap||Qi,declarations:t.declarations||Qi,imports:t.imports||Qi,exports:t.exports||Qi,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function un(t,e){if(null==t)return Ol;const n={};for(const i in t)if(t.hasOwnProperty(i)){const o=t[i];let s,a,l=Vo.None;var r;Array.isArray(o)?(l=o[0],s=o[1],a=null!==(r=o[2])&&void 0!==r?r:s):(s=o,a=o),e?(n[s]=l!==Vo.None?[i,l]:i,e[s]=a):n[s]=i}return n}function St(t){return fa(()=>{const e=pt(t);return ct(e),e})}function Bt(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function Ne(t){return t[uc]||null}function Zt(t){return t[Kd]||null}function on(t){return t[_l]||null}function we(t,e){const n=t[qd]||null;if(!n&&!0===e)throw new Error(`Type ${Gr(t)} does not have '\u0275mod' property.`);return n}function pt(t){const e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||Ol,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||Qi,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:un(t.inputs,e),outputs:un(t.outputs),debugInfo:null}}function ct(t){var e;null===(e=t.features)||void 0===e||e.forEach(n=>n(t))}function cn(t,e){if(!t)return null;const n=e?on:Le;return()=>("function"==typeof t?t():t).map(r=>n(r)).filter(gt)}function wn(...t){return{\u0275providers:yn(0,t),\u0275fromNgModule:!0}}function yn(t,...e){const n=[],r=new Set;let i;const o=s=>{n.push(s)};return jc(e,s=>{const a=s;ae(a,o,[],r)&&(i||(i=[]),i.push(a))}),void 0!==i&&lr(i,o),n}function lr(t,e){for(let n=0;n<t.length;n++){const{ngModule:r,providers:i}=t[n];Je(i,o=>{e(o,r)})}}function ae(t,e,n,r){if(!(t=Qr(t)))return!1;let i=null,o=zs(t);const s=!o&&Ne(t);if(o||s){if(s&&!s.standalone)return!1;i=t}else{const l=t.ngModule;if(o=zs(l),!o)return!1;i=l}const a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){const l="function"==typeof s.dependencies?s.dependencies():s.dependencies;for(const u of l)ae(u,e,n,r)}}else{if(!o)return!1;{if(null!=o.imports&&!a){let u;r.add(i);try{jc(o.imports,m=>{ae(m,e,n,r)&&(u||(u=[]),u.push(m))})}finally{}void 0!==u&&lr(u,e)}if(!a){const u=La(i)||(()=>new i);e({provide:i,useFactory:u,deps:Qi},i),e({provide:tA,useValue:i,multi:!0},i),e({provide:dc,useValue:()=>Ln(i),multi:!0},i)}const l=o.providers;if(null!=l&&!a){const u=t;Je(l,m=>{e(m,u)})}}}return i!==t&&void 0!==t.providers}function Je(t,e){for(let n of t)gh(n)&&(n=n.\u0275providers),Array.isArray(n)?Je(n,e):e(n)}const mt=Jr({provide:String,useValue:Jr});function Et(t){return null!==t&&"object"==typeof t&&mt in t}function jt(t){return"function"==typeof t}const Hn=new Un(""),pr={},Tr={};let ai;function pn(){return void 0===ai&&(ai=new Cl),ai}class je{}class ti extends je{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Ei(e,s=>this.processProvider(s)),this.records.set(rf,ir(void 0,this)),i.has("environment")&&this.records.set(je,ir(void 0,this));const o=this.records.get(Hn);null!=o&&"string"==typeof o.value&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(tA,Qi,Hr.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;const e=Ee(null);try{for(const r of this._ngOnDestroyHooks)r.ngOnDestroy();const n=this._onDestroyHooks;this._onDestroyHooks=[];for(const r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),Ee(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();const n=eu(this),r=Ls(void 0);try{return e()}finally{eu(n),Ls(r)}}get(e,n=fr,r=Hr.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(Lu))return e[Lu](this);r=nf(r);const o=eu(this),s=Ls(void 0);try{if(!(r&Hr.SkipSelf)){let l=this.records.get(e);if(void 0===l){const u=function Ri(t){return"function"==typeof t||"object"==typeof t&&t instanceof Un}(e)&&vo(e);l=u&&this.injectableDefInScope(u)?ir(Ur(e),pr):null,this.records.set(e,l)}if(null!=l)return this.hydrate(e,l)}return(r&Hr.Self?pn():this.parent).get(e,n=r&Hr.Optional&&n===fr?null:n)}catch(a){if("NullInjectorError"===a.name){if((a[vh]=a[vh]||[]).unshift(Gr(e)),o)throw a;return function wl(t,e,n,r){const i=t[vh];throw e[Vc]&&i.unshift(e[Vc]),t.message=function Qp(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let i=Gr(e);if(Array.isArray(e))i=e.map(Gr).join(" -> ");else if("object"==typeof e){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+("string"==typeof a?JSON.stringify(a):Gr(a)))}i=`{${o.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(rp,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t[vh]=null,t}(a,e,"R3InjectorError",this.source)}throw a}finally{Ls(s),eu(o)}}resolveInjectorInitializers(){const e=Ee(null),n=eu(this),r=Ls(void 0);try{const o=this.get(dc,Qi,Hr.Self);for(const s of o)s()}finally{eu(n),Ls(r),Ee(e)}}toString(){const e=[],n=this.records;for(const r of n.keys())e.push(Gr(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new hn(205,!1)}processProvider(e){let n=jt(e=Qr(e))?e:Qr(e&&e.provide);const r=function Xn(t){return Et(t)?ir(void 0,t.useValue):ir(gr(t),pr)}(e);if(!jt(e)&&!0===e.multi){let i=this.records.get(n);i||(i=ir(void 0,pr,!0),i.factory=()=>yd(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){const r=Ee(null);try{return n.value===pr&&(n.value=Tr,n.value=n.factory()),"object"==typeof n.value&&n.value&&function fi(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{Ee(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;const n=Qr(e.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){const n=this._onDestroyHooks.indexOf(e);-1!==n&&this._onDestroyHooks.splice(n,1)}}function Ur(t){const e=vo(t),n=null!==e?e.factory:La(t);if(null!==n)return n;if(t instanceof Un)throw new hn(204,!1);if(t instanceof Function)return function Qn(t){if(t.length>0)throw new hn(204,!1);const n=function Xi(t){return t&&(t[Za]||t[ci])||null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new hn(204,!1)}function gr(t,e,n){let r;if(jt(t)){const i=Qr(t);return La(i)||Ur(i)}if(Et(t))r=()=>Qr(t.useValue);else if(function Wt(t){return!(!t||!t.useFactory)}(t))r=()=>t.useFactory(...yd(t.deps||[]));else if(function zt(t){return!(!t||!t.useExisting)}(t))r=()=>Ln(Qr(t.useExisting));else{const i=Qr(t&&(t.useClass||t.provide));if(!function Wr(t){return!!t.deps}(t))return La(i)||Ur(i);r=()=>new i(...yd(t.deps))}return r}function ir(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function Ei(t,e){for(const n of t)Array.isArray(n)?Ei(n,e):n&&gh(n)?Ei(n.\u0275providers,e):e(n)}function Pi(t,e){t instanceof ti&&t.assertNotDestroyed();const r=eu(t),i=Ls(void 0);try{return e()}finally{eu(r),Ls(i)}}function Ji(){return void 0!==md()||null!=function OA(){return Jd}()}const Yr=0,Vn=1,mr=2,uo=3,Rs=4,Mr=5,ns=6,Va=7,Li=8,oo=9,Mo=10,Lr=11,Ac=12,hc=13,Qa=14,si=15,rl=16,ga=17,Os=18,Il=19,Cd=20,Ha=21,fc=22,lu=23,ui=25,QA=1,uu=7,ur=9,hs=10;var rA=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(rA||{});function Ps(t){return Array.isArray(t)&&"object"==typeof t[QA]}function Ho(t){return Array.isArray(t)&&!0===t[QA]}function iA(t){return!!(4&t.flags)}function Ul(t){return t.componentOffset>-1}function cu(t){return!(1&~t.flags)}function $i(t){return!!t.template}function Id(t){return!!(512&t[mr])}class zA{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function di(t,e,n,r){null!==e?e.applyValueToInputSignal(e,r):t[n]=r}function $s(){return $A}function $A(t){return t.type.prototype.ngOnChanges&&(t.setInput=ff),Au}function Au(){const t=ju(this),e=null==t?void 0:t.current;if(e){const n=t.previous;if(n===Ol)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function ff(t,e,n,r,i){const o=this.declaredInputs[r],s=ju(t)||function aA(t,e){return t[GA]=e}(t,{previous:Ol,current:null}),a=s.current||(s.current={}),l=s.previous,u=l[o];a[o]=new zA(u&&u.currentValue,n,l===Ol),di(t,e,i,n)}$s.ngInherit=!0;const GA="__ngSimpleChanges__";function ju(t){return t[GA]||null}const Vl=function(t,e,n){};let Gc=!1;function yi(t){for(;Array.isArray(t);)t=t[Yr];return t}function mc(t,e){return yi(e[t])}function ma(t,e){return yi(e[t.index])}function Kc(t,e){return t.data[e]}function ol(t,e){return t[e]}function Gs(t,e){const n=e[t];return Ps(n)?n:n[Yr]}function fu(t){return!(128&~t[mr])}function sl(t,e){return null==e?null:t[e]}function Sd(t){t[ga]=0}function uA(t){1024&t[mr]||(t[mr]|=1024,fu(t)&&qc(t))}function Us(t){var e;return!!(9216&t[mr]||null!==(e=t[lu])&&void 0!==e&&e.dirty)}function pu(t){var e;if(null===(e=t[Mo].changeDetectionScheduler)||void 0===e||e.notify(1),Us(t))qc(t);else if(64&t[mr])if(function Ch(){return Gc}())t[mr]|=1024,qc(t);else{var n;null===(n=t[Mo].changeDetectionScheduler)||void 0===n||n.notify()}}function qc(t){var e;null===(e=t[Mo].changeDetectionScheduler)||void 0===e||e.notify();let n=Ql(t);for(;null!==n&&!(8192&n[mr])&&(n[mr]|=8192,fu(n));)n=Ql(n)}function vc(t,e){if(!(256&~t[mr]))throw new hn(911,!1);null===t[Ha]&&(t[Ha]=[]),t[Ha].push(e)}function Ql(t){const e=t[uo];return Ho(e)?e[uo]:e}const ri={lFrame:AA(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Gu(){return ri.bindingsEnabled}function yc(){return null!==ri.skipHydrationRootTNode}function Qe(){return ri.lFrame.lView}function An(){return ri.lFrame.tView}function vn(t){return ri.lFrame.contextLView=t,t[Li]}function Dn(t){return ri.lFrame.contextLView=null,t}function vr(){let t=mi();for(;null!==t&&64===t.type;)t=t.parent;return t}function mi(){return ri.lFrame.currentTNode}function ho(t,e){const n=ri.lFrame;n.currentTNode=t,n.isParent=e}function jo(){return ri.lFrame.isParent}function Es(){ri.lFrame.isParent=!1}function Bo(){const t=ri.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function ja(){return ri.lFrame.bindingIndex++}function dA(t,e){const n=ri.lFrame;n.bindingIndex=n.bindingRootIndex=t,$a(e)}function $a(t){ri.lFrame.currentDirectiveIndex=t}function _c(t){ri.lFrame.currentQueryIndex=t}function YA(t){const e=t[Vn];return 2===e.type?e.declTNode:1===e.type?t[Mr]:null}function Ga(t,e,n){if(n&Hr.SkipSelf){let i=e,o=t;for(;!(i=i.parent,null!==i||n&Hr.Host||(i=YA(o),null===i||(o=o[Qa],10&i.type))););if(null===i)return!1;e=i,t=o}const r=ri.lFrame=Hl();return r.currentTNode=e,r.lView=t,!0}function XA(t){const e=Hl(),n=t[Vn];ri.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function Hl(){const t=ri.lFrame,e=null===t?null:t.child;return null===e?AA(t):e}function AA(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function jl(){const t=ri.lFrame;return ri.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const Jc=jl;function Sh(){const t=jl();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function rs(){return ri.lFrame.selectedIndex}function ia(t){ri.lFrame.selectedIndex=t}function Oi(){const t=ri.lFrame;return Kc(t.tView,t.selectedIndex)}let yu=!0;function wc(){return yu}function Gi(t){yu=t}function oa(t,e){for(let u=e.directiveStart,m=e.directiveEnd;u<m;u++){const k=t.data[u].type.prototype,{ngAfterContentInit:U,ngAfterContentChecked:Y,ngAfterViewInit:ve,ngAfterViewChecked:xe,ngOnDestroy:st}=k;var n,r,i,o,s,a,l;U&&(null!==(n=t.contentHooks)&&void 0!==n?n:t.contentHooks=[]).push(-u,U),Y&&((null!==(r=t.contentHooks)&&void 0!==r?r:t.contentHooks=[]).push(u,Y),(null!==(i=t.contentCheckHooks)&&void 0!==i?i:t.contentCheckHooks=[]).push(u,Y)),ve&&(null!==(o=t.viewHooks)&&void 0!==o?o:t.viewHooks=[]).push(-u,ve),xe&&((null!==(s=t.viewHooks)&&void 0!==s?s:t.viewHooks=[]).push(u,xe),(null!==(a=t.viewCheckHooks)&&void 0!==a?a:t.viewCheckHooks=[]).push(u,xe)),null!=st&&(null!==(l=t.destroyHooks)&&void 0!==l?l:t.destroyHooks=[]).push(u,st)}}function Da(t,e,n){sa(t,e,3,n)}function Wa(t,e,n,r){(3&t[mr])===n&&sa(t,e,n,r)}function al(t,e){let n=t[mr];(3&n)===e&&(n&=16383,n+=1,t[mr]=n)}function sa(t,e,n,r){const o=null!=r?r:-1,s=e.length-1;let a=0;for(let l=void 0!==r?65535&t[ga]:0;l<s;l++)if("number"==typeof e[l+1]){if(a=e[l],null!=r&&a>=r)break}else e[l]<0&&(t[ga]+=65536),(a<o||-1==o)&&(zl(t,n,e,l),t[ga]=(4294901760&t[ga])+l+2),l++}function hA(t,e){Vl(4,t,e);const n=Ee(null);try{e.call(t)}finally{Ee(n),Vl(5,t,e)}}function zl(t,e,n,r){const i=n[r]<0,o=n[r+1],a=t[i?-n[r]:n[r]];i?t[mr]>>14<t[ga]>>16&&(3&t[mr])===e&&(t[mr]+=16384,hA(a,o)):hA(a,o)}const _a=-1;class yo{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function Nd(t){return t!==_a}function ZA(t){return 32767&t}function eh(t,e){let n=function Bh(t){return t>>16}(t),r=e;for(;n>0;)r=r[Qa],n--;return r}let gf=!0;function Dh(t){const e=gf;return gf=t,e}const th=255,wa=5;let Ka=0;const ll={};function fA(t,e){const n=xa(t,e);if(-1!==n)return n;const r=e[Vn];r.firstCreatePass&&(t.injectorIndex=e.length,pA(r.data,t),pA(e,null),pA(r.blueprint,null));const i=Cc(t,e),o=t.injectorIndex;if(Nd(i)){const s=ZA(i),a=eh(i,e),l=a[Vn].data;for(let u=0;u<8;u++)e[o+u]=a[s+u]|l[s+u]}return e[o+8]=i,o}function pA(t,e){t.push(0,0,0,0,0,0,0,0,e)}function xa(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function Cc(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){if(r=lp(i),null===r)return _a;if(n++,i=i[Qa],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return _a}function xh(t,e,n){!function mf(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(tl)&&(r=n[tl]),null==r&&(r=n[tl]=Ka++);const i=r&th;e.data[t+(i>>wa)]|=1<<i}(t,e,n)}function nh(t,e,n){if(n&Hr.Optional||void 0!==t)return t;Oc()}function Zc(t,e,n,r){if(n&Hr.Optional&&void 0===r&&(r=null),!(n&(Hr.Self|Hr.Host))){const i=t[oo],o=Ls(void 0);try{return i?i.get(e,r,n&Hr.Optional):mh(e,r,n&Hr.Optional)}finally{Ls(o)}}return nh(r,0,n)}function vf(t,e,n,r=Hr.Default,i){if(null!==t){if(2048&e[mr]&&!(r&Hr.Self)){const s=function ed(t,e,n,r,i){let o=t,s=e;for(;null!==o&&null!==s&&2048&s[mr]&&!(512&s[mr]);){const a=Fh(o,s,n,r|Hr.Self,ll);if(a!==ll)return a;let l=o.parent;if(!l){const u=s[Cd];if(u){const m=u.get(n,ll,r);if(m!==ll)return m}l=lp(s),s=s[Qa]}o=l}return i}(t,e,n,r,ll);if(s!==ll)return s}const o=Fh(t,e,n,r,ll);if(o!==ll)return o}return Zc(e,n,r,i)}function Fh(t,e,n,r,i){const o=function yf(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(tl)?t[tl]:void 0;return"number"==typeof e?e>=0?e&th:gA:e}(n);if("function"==typeof o){if(!Ga(e,t,r))return r&Hr.Host?nh(i,0,r):Zc(e,n,r,i);try{let s;if(s=o(r),null!=s||r&Hr.Optional)return s;Oc()}finally{Jc()}}else if("number"==typeof o){let s=null,a=xa(t,e),l=_a,u=r&Hr.Host?e[si][Mr]:null;for((-1===a||r&Hr.SkipSelf)&&(l=-1===a?Cc(t,e):e[a+8],l!==_a&&Wp(r,!1)?(s=e[Vn],a=ZA(l),e=eh(l,e)):a=-1);-1!==a;){const m=e[Vn];if(Gl(o,a,m.data)){const I=tm(a,e,n,s,r,u);if(I!==ll)return I}l=e[a+8],l!==_a&&Wp(r,e[Vn].data[a+8]===u)&&Gl(o,a,e)?(s=m,a=ZA(l),e=eh(l,e)):a=-1}}return i}function tm(t,e,n,r,i,o){const s=e[Vn],a=s.data[t+8],m=function Jn(t,e,n,r,i){const o=t.providerIndexes,s=e.data,a=1048575&o,l=t.directiveStart,m=o>>20,k=i?a+m:t.directiveEnd;for(let U=r?a:a+m;U<k;U++){const Y=s[U];if(U<l&&n===Y||U>=l&&Y.type===n)return U}if(i){const U=s[l];if(U&&$i(U)&&U.type===n)return l}return null}(a,s,n,null==r?Ul(a)&&gf:r!=s&&!!(3&a.type),i&Hr.Host&&o===a);return null!==m?$l(e,s,m,a):ll}function $l(t,e,n,r){let i=t[n];const o=e.data;if(function Do(t){return t instanceof yo}(i)){const s=i;s.resolving&&function Lc(t,e){throw e&&e.join(" > "),new hn(-200,t)}(function lo(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():jr(t)}(o[n]));const a=Dh(s.canSeeViewProviders);s.resolving=!0;const u=s.injectImpl?Ls(s.injectImpl):null;Ga(t,r,Hr.Default);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&function ya(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){var s,a;const I=$A(e);(null!==(s=n.preOrderHooks)&&void 0!==s?s:n.preOrderHooks=[]).push(t,I),(null!==(a=n.preOrderCheckHooks)&&void 0!==a?a:n.preOrderCheckHooks=[]).push(t,I)}var l,u,m;i&&(null!==(l=n.preOrderHooks)&&void 0!==l?l:n.preOrderHooks=[]).push(0-t,i),o&&((null!==(u=n.preOrderHooks)&&void 0!==u?u:n.preOrderHooks=[]).push(t,o),(null!==(m=n.preOrderCheckHooks)&&void 0!==m?m:n.preOrderCheckHooks=[]).push(t,o))}(n,o[n],e)}finally{null!==u&&Ls(u),Dh(a),s.resolving=!1,Jc()}}return i}function Gl(t,e,n){return!!(n[e+(t>>wa)]&1<<t)}function Wp(t,e){return!(t&Hr.Self||t&Hr.Host&&e)}class is{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return vf(this._tNode,this._lView,e,nf(r),n)}}function gA(){return new is(vr(),Qe())}function zo(t){return fa(()=>{const e=t.prototype.constructor,n=e[cc]||Ku(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const o=i[cc]||Ku(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function Ku(t){return vl(t)?()=>{const e=Ku(Qr(t));return e&&e()}:La(t)}function lp(t){const e=t[Vn],n=e.type;return 2===n?e.declTNode:1===n?t[Mr]:null}function bc(t){return function ap(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const r=n.length;let i=0;for(;i<r;){const o=n[i];if(uf(o))break;if(0===o)i+=2;else if("number"==typeof o)for(i++;i<r&&"string"==typeof n[i];)i++;else{if(o===e)return n[i+1];i+=2}}}return null}(vr(),t)}function tn(t,e=null,n=null,r){const i=Zn(t,e,n,r);return i.resolveInjectorInitializers(),i}function Zn(t,e=null,n=null,r,i=new Set){const o=[n||Qi,wn(t)];return r=r||("object"==typeof t?void 0:Gr(t)),new ti(o,e||pn(),r||null,i)}let Nn=(()=>{var t;class e{static create(r,i){if(Array.isArray(r))return tn({name:""},i,r,"");{var o;const s=null!==(o=r.name)&&void 0!==o?o:"";return tn({name:s},r.parent,r.providers,s)}}}return(t=e).THROW_IF_NOT_FOUND=fr,t.NULL=new Cl,t.\u0275prov=Cn({token:t,providedIn:"any",factory:()=>Ln(rf)}),t.__NG_ELEMENT_ID__=-1,e})();function wu(t){return t.ngOriginalError}class Dl{constructor(){this._console=console}handleError(e){const n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&wu(e);for(;n&&wu(n);)n=wu(n);return n||null}}const kh=new Un("",{providedIn:"root",factory:()=>sn(Dl).handleError.bind(void 0)});let Cu=(()=>{var t;class e{}return(t=e).__NG_ELEMENT_ID__=up,t.__NG_ENV_ID__=n=>n,e})();class Yp extends Cu{constructor(e){super(),this._lView=e}onDestroy(e){return vc(this._lView,e),()=>function Yc(t,e){if(null===t[Ha])return;const n=t[Ha].indexOf(e);-1!==n&&t[Ha].splice(n,1)}(this._lView,e)}}function up(){return new Yp(Qe())}function rm(){return Rh(vr(),Qe())}function Rh(t,e){return new f(ma(t,e))}let f=(()=>{class e{constructor(r){this.nativeElement=r}}return e.__NG_ELEMENT_ID__=rm,e})();function H(t){return e=>{setTimeout(t,void 0,e)}}const X=class N extends dt{constructor(e=!1){var n;super(),this.destroyRef=void 0,this.__isAsync=e,Ji()&&(this.destroyRef=null!==(n=sn(Cu,{optional:!0}))&&void 0!==n?n:void 0)}emit(e){const n=Ee(null);try{super.next(e)}finally{Ee(n)}}subscribe(e,n,r){let i=e,o=n||(()=>null),s=r;if(e&&"object"==typeof e){var a,l,u;const I=e;i=null===(a=I.next)||void 0===a?void 0:a.bind(I),o=null===(l=I.error)||void 0===l?void 0:l.bind(I),s=null===(u=I.complete)||void 0===u?void 0:u.bind(I)}this.__isAsync&&(o=H(o),i&&(i=H(i)),s&&(s=H(s)));const m=super.subscribe({next:i,error:o,complete:s});return e instanceof Qt&&e.add(m),m}};function w(t){return!(128&~t.flags)}let F;const $=new Un("",{providedIn:"root",factory:()=>W}),W="ng",ye=new Un(""),Se=new Un("",{providedIn:"platform",factory:()=>"unknown"}),qt=new Un("",{providedIn:"root",factory:()=>{var t;return(null===(t=function z(){if(void 0!==F)return F;if(typeof document<"u")return document;throw new hn(210,!1)}().body)||void 0===t||null===(t=t.querySelector("[ngCspNonce]"))||void 0===t?void 0:t.getAttribute("ngCspNonce"))||null}});let os=()=>null;function bu(t,e,n=!1){return os(t,e,n)}const $w=new Un("",{providedIn:"root",factory:()=>!1});let am;function ig(t){var e;return(null===(e=function fv(){if(void 0===am&&(am=null,ar.trustedTypes))try{am=ar.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return am}())||void 0===e?void 0:e.createScriptURL(t))||t}class ky{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Ci})`}}function Nh(t){return t instanceof ky?t.changingThisBreaksApplicationSecurity:t}function og(t,e){const n=function s2(t){return t instanceof ky&&t.getTypeName()||null}(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${Ci})`)}return n===e}const mv=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var yv=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(yv||{});function Ok(t){const e=Ly();return e?e.sanitize(yv.URL,t)||"":og(t,"URL")?Nh(t):function vA(t){return(t=String(t)).match(mv)?t:"unsafe:"+t}(jr(t))}function Uk(t){const e=Ly();if(e)return ig(e.sanitize(yv.RESOURCE_URL,t)||"");if(og(t,"ResourceURL"))return ig(Nh(t));throw new hn(904,!1)}function Ly(){const t=Qe();return t&&t[Mo].sanitizer}const h2=new Map;let Oz=0;const p2="__ngContext__";function Ec(t,e){Ps(e)?(t[p2]=e[Il],function Vz(t){h2.set(t[Il],t)}(e)):t[p2]=e}function yA(t){return t instanceof Function?t():t}var ag=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(ag||{});let y2;function _2(t,e){return y2(t,e)}function wv(t,e,n,r,i){if(null!=r){let o,s=!1;Ho(r)?o=r:Ps(r)&&(s=!0,r=r[Yr]);const a=yi(r);0===t&&null!==n?null==i?oR(e,n,a):Am(e,n,a,i||null,!0):1===t&&null!==n?Am(e,n,a,i||null,!0):2===t?function Qy(t,e,n){const r=tC(t,e);r&&function l$(t,e,n,r){t.removeChild(e,n,r)}(t,r,e,n)}(e,a,s):3===t&&e.destroyNode(a),null!=o&&function d$(t,e,n,r,i){const o=n[uu];o!==yi(n)&&wv(e,t,r,o,i);for(let a=hs;a<n.length;a++){const l=n[a];rC(l[Vn],l,t,e,r,o)}}(e,t,o,n,i)}}function Zw(t,e,n){return t.createElement(e,n)}function nR(t,e){var n;null===(n=e[Mo].changeDetectionScheduler)||void 0===n||n.notify(1),rC(t,e,e[Lr],2,null,null)}function rR(t,e){const n=t[ur],r=n.indexOf(e);n.splice(r,1)}function Uy(t,e){if(t.length<=hs)return;const n=hs+e,r=t[n];if(r){const i=r[rl];null!==i&&i!==t&&rR(i,r),e>0&&(t[n-1][Rs]=r[Rs]);const o=zc(t,hs+e);!function t$(t,e){nR(t,e),e[Yr]=null,e[Mr]=null}(r[Vn],r);const s=o[Os];null!==s&&s.detachView(o[Vn]),r[uo]=null,r[Rs]=null,r[mr]&=-129}return r}function eC(t,e){if(!(256&e[mr])){const n=e[Lr];n.destroyNode&&rC(t,e,n,3,null,null),function r$(t){let e=t[Ac];if(!e)return b2(t[Vn],t);for(;e;){let n=null;if(Ps(e))n=e[Ac];else{const r=e[hs];r&&(n=r)}if(!n){for(;e&&!e[Rs]&&e!==t;)Ps(e)&&b2(e[Vn],e),e=e[uo];null===e&&(e=t),Ps(e)&&b2(e[Vn],e),n=e&&e[Rs]}e=n}}(e)}}function b2(t,e){if(256&e[mr])return;const n=Ee(null);try{e[mr]&=-129,e[mr]|=256,e[lu]&&function Ue(t){if(ie(t),ft(t))for(let e=0;e<t.producerNode.length;e++)$e(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}(e[lu]),function a$(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const i=e[n[r]];if(!(i instanceof yo)){const o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){const a=i[o[s]],l=o[s+1];Vl(4,a,l);try{l.call(a)}finally{Vl(5,a,l)}}else{Vl(4,i,o);try{o.call(i)}finally{Vl(5,i,o)}}}}}(t,e),function s$(t,e){const n=t.cleanup,r=e[Va];if(null!==n)for(let o=0;o<n.length-1;o+=2)if("string"==typeof n[o]){const s=n[o+3];s>=0?r[s]():r[-s].unsubscribe(),o+=2}else n[o].call(r[n[o+1]]);null!==r&&(e[Va]=null);const i=e[Ha];if(null!==i){e[Ha]=null;for(let o=0;o<i.length;o++)(0,i[o])()}}(t,e),1===e[Vn].type&&e[Lr].destroy();const r=e[rl];if(null!==r&&Ho(e[uo])){r!==e[uo]&&rR(r,e);const i=e[Os];null!==i&&i.detachView(t)}!function Qz(t){h2.delete(t[Il])}(e)}finally{Ee(n)}}function I2(t,e,n){return function iR(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[Yr];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:o}=t.data[r.directiveStart+i];if(o===bl.None||o===bl.Emulated)return null}return ma(r,n)}}(t,e.parent,n)}function Am(t,e,n,r,i){t.insertBefore(e,n,r,i)}function oR(t,e,n){t.appendChild(e,n)}function sR(t,e,n,r,i){null!==r?Am(t,e,n,r,i):oR(t,e,n)}function tC(t,e){return t.parentNode(e)}function aR(t,e,n){return uR(t,e,n)}let E2,uR=function lR(t,e,n){return 40&t.type?ma(t,n):null};function nC(t,e,n,r){const i=I2(t,r,e),o=e[Lr],a=aR(r.parent||e[Mr],r,e);if(null!=i)if(Array.isArray(n))for(let l=0;l<n.length;l++)sR(o,i,n[l],a,!1);else sR(o,i,n,a,!1);void 0!==E2&&E2(o,r,e,n,i)}function Vy(t,e){if(null!==e){const n=e.type;if(3&n)return ma(e,t);if(4&n)return S2(-1,t[e.index]);if(8&n){const r=e.child;if(null!==r)return Vy(t,r);{const i=t[e.index];return Ho(i)?S2(-1,i):yi(i)}}if(32&n)return _2(e,t)()||yi(t[e.index]);{const r=dR(t,e);return null!==r?Array.isArray(r)?r[0]:Vy(Ql(t[si]),r):Vy(t,e.next)}}return null}function dR(t,e){return null!==e?t[si][Mr].projection[e.projection]:null}function S2(t,e){const n=hs+t+1;if(n<e.length){const r=e[n],i=r[Vn].firstChild;if(null!==i)return Vy(r,i)}return e[uu]}function T2(t,e,n,r,i,o,s){for(;null!=n;){const a=r[n.index],l=n.type;if(s&&0===e&&(a&&Ec(yi(a),r),n.flags|=2),32&~n.flags)if(8&l)T2(t,e,n.child,r,i,o,!1),wv(e,t,i,a,o);else if(32&l){const u=_2(n,r);let m;for(;m=u();)wv(e,t,i,m,o);wv(e,t,i,a,o)}else 16&l?hR(t,e,r,n,i,o):wv(e,t,i,a,o);n=s?n.projectionNext:n.next}}function rC(t,e,n,r,i,o){T2(n,r,t.firstChild,e,i,o,!1)}function hR(t,e,n,r,i,o){const s=n[si],l=s[Mr].projection[r.projection];if(Array.isArray(l))for(let u=0;u<l.length;u++)wv(e,t,i,l[u],o);else{let u=l;const m=s[uo];w(r)&&(u.flags|=128),T2(t,e,u,m,i,o,!0)}}function fR(t,e,n){""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function pR(t,e,n){const{mergedAttrs:r,classes:i,styles:o}=n;null!==r&&lf(t,e,r),null!==i&&fR(t,e,i),null!==o&&function h$(t,e,n){t.setAttribute(e,"style",n)}(t,e,o)}const Hi={};function gn(t=1){gR(An(),Qe(),rs()+t,!1)}function gR(t,e,n,r){if(!r)if(3&~e[mr]){const o=t.preOrderHooks;null!==o&&Wa(e,o,0,n)}else{const o=t.preOrderCheckHooks;null!==o&&Da(e,o,n)}ia(n)}function q(t,e=Hr.Default){const n=Qe();return null===n?Ln(t,e):vf(vr(),n,Qr(t),e)}function vR(t,e,n,r,i,o){const s=Ee(null);try{let a=null;i&Vo.SignalBased&&(a=e[r][Ut]),null!==a&&void 0!==a.transformFn&&(o=a.transformFn(o)),i&Vo.HasDecoratorInputTransform&&(o=t.inputTransforms[r].call(e,o)),null!==t.setInput?t.setInput(e,a,o,n,r):di(e,a,r,o)}finally{Ee(s)}}function iC(t,e,n,r,i,o,s,a,l,u,m){const I=e.blueprint.slice();return I[Yr]=i,I[mr]=204|r,(null!==u||t&&2048&t[mr])&&(I[mr]|=2048),Sd(I),I[uo]=I[Qa]=t,I[Li]=n,I[Mo]=s||t&&t[Mo],I[Lr]=a||t&&t[Lr],I[oo]=l||t&&t[oo]||null,I[Mr]=o,I[Il]=function Uz(){return Oz++}(),I[ns]=m,I[Cd]=u,I[si]=2==e.type?t[si]:I,I}function Cv(t,e,n,r,i){let o=t.data[e];if(null===o)o=function B2(t,e,n,r,i){const o=mi(),s=jo(),l=t.data[e]=function w$(t,e,n,r,i,o){let s=e?e.injectorIndex:-1,a=0;return yc()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=l),null!==o&&(s?null==o.child&&null!==l.parent&&(o.child=l):null===o.next&&(o.next=l,l.prev=o)),l}(t,e,n,r,i),function Dd(){return ri.lFrame.inI18n}()&&(o.flags|=32);else if(64&o.type){o.type=n,o.value=r,o.attrs=i;const s=function Ni(){const t=ri.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();o.injectorIndex=null===s?-1:s.injectorIndex}return ho(o,!0),o}function Hy(t,e,n,r){if(0===n)return-1;const i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function yR(t,e,n,r,i){const o=rs(),s=2&r;try{ia(-1),s&&e.length>ui&&gR(t,e,ui,!1),Vl(s?2:0,i),n(r,i)}finally{ia(o),Vl(s?3:1,i)}}function D2(t,e,n){if(iA(e)){const r=Ee(null);try{const o=e.directiveEnd;for(let s=e.directiveStart;s<o;s++){const a=t.data[s];a.contentQueries&&a.contentQueries(1,n[s],s)}}finally{Ee(r)}}}function x2(t,e,n){Gu()&&(function B$(t,e,n,r){const i=n.directiveStart,o=n.directiveEnd;Ul(n)&&function N$(t,e,n){const r=ma(e,t),i=_R(n);let s=16;n.signals?s=4096:n.onPush&&(s=64);const a=oC(t,iC(t,i,null,s,r,e,null,t[Mo].rendererFactory.createRenderer(r,n),null,null,null));t[e.index]=a}(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||fA(n,e),Ec(r,e);const s=n.initialInputs;for(let a=i;a<o;a++){const l=t.data[a],u=$l(e,t,a,n);Ec(u,e),null!==s&&M$(0,a-i,u,l,0,s),$i(l)&&(Gs(n.index,e)[Li]=$l(e,t,a,n))}}(t,e,n,ma(n,e)),!(64&~n.flags)&&ER(t,e,n))}function F2(t,e,n=ma){const r=e.localNames;if(null!==r){let i=e.index+1;for(let o=0;o<r.length;o+=2){const s=r[o+1],a=-1===s?n(e,t):t[s];t[i++]=a}}}function _R(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=k2(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function k2(t,e,n,r,i,o,s,a,l,u,m){const I=ui+r,k=I+i,U=function p$(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:Hi);return n}(I,k),Y="function"==typeof u?u():u;return U[Vn]={type:t,blueprint:U,template:n,queries:null,viewQuery:a,declTNode:e,data:U.slice().fill(null,I),bindingStartIndex:I,expandoStartIndex:k,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:l,consts:Y,incompleteFirstPass:!1,ssrId:m}}let wR=()=>null;function CR(t,e,n,r,i){for(let s in e){var o;if(!e.hasOwnProperty(s))continue;const a=e[s];if(void 0===a)continue;null!==(o=r)&&void 0!==o||(r={});let l,u=Vo.None;Array.isArray(a)?(l=a[0],u=a[1]):l=a;let m=s;if(null!==i){if(!i.hasOwnProperty(s))continue;m=i[s]}0===t?bR(r,n,m,l,u):bR(r,n,m,l)}return r}function bR(t,e,n,r,i){let o;t.hasOwnProperty(n)?(o=t[n]).push(e,r):o=t[n]=[e,r],void 0!==i&&o.push(i)}function Od(t,e,n,r,i,o,s,a){const l=ma(e,n);let m,u=e.inputs;!a&&null!=u&&(m=u[r])?(L2(t,n,m,r,i),Ul(e)&&function I$(t,e){const n=Gs(e,t);16&n[mr]||(n[mr]|=64)}(n,e.index)):3&e.type&&(r=function b$(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=s?s(i,e.value||"",r):i,o.setProperty(l,r,i))}function R2(t,e,n,r){if(Gu()){const i=null===r?null:{"":-1},o=function x$(t,e){const n=t.directiveRegistry;let r=null,i=null;if(n)for(let s=0;s<n.length;s++){const a=n[s];if(L(e,a.selectors,!1))if(r||(r=[]),$i(a))if(null!==a.findHostDirectiveDefs){const l=[];i=i||new Map,a.findHostDirectiveDefs(a,l,i),r.unshift(...l,a),P2(t,e,l.length)}else r.unshift(a),P2(t,e,0);else{var o;i=i||new Map,null===(o=a.findHostDirectiveDefs)||void 0===o||o.call(a,a,r,i),r.push(a)}}return null===r?null:[r,i]}(t,n);let s,a;null===o?s=a=null:[s,a]=o,null!==s&&IR(t,e,n,s,i,a),i&&function F$(t,e,n){if(e){const r=t.localNames=[];for(let i=0;i<e.length;i+=2){const o=n[e[i+1]];if(null==o)throw new hn(-301,!1);r.push(e[i],o)}}}(n,r,i)}n.mergedAttrs=wd(n.mergedAttrs,n.attrs)}function IR(t,e,n,r,i,o){for(let I=0;I<r.length;I++)xh(fA(n,e),t,r[I].type);!function R$(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}(n,t.data.length,r.length);for(let I=0;I<r.length;I++){const k=r[I];k.providersResolver&&k.providersResolver(k)}let s=!1,a=!1,l=Hy(t,e,r.length,null);for(let I=0;I<r.length;I++){const k=r[I];n.mergedAttrs=wd(n.mergedAttrs,k.hostAttrs),P$(t,n,e,l,k),k$(l,k,i),null!==k.contentQueries&&(n.flags|=4),(null!==k.hostBindings||null!==k.hostAttrs||0!==k.hostVars)&&(n.flags|=64);const U=k.type.prototype;var u,m;!s&&(U.ngOnChanges||U.ngOnInit||U.ngDoCheck)&&((null!==(u=t.preOrderHooks)&&void 0!==u?u:t.preOrderHooks=[]).push(n.index),s=!0),a||!U.ngOnChanges&&!U.ngDoCheck||((null!==(m=t.preOrderCheckHooks)&&void 0!==m?m:t.preOrderCheckHooks=[]).push(n.index),a=!0),l++}!function C$(t,e,n){const i=e.directiveEnd,o=t.data,s=e.attrs,a=[];let l=null,u=null;for(let m=e.directiveStart;m<i;m++){const I=o[m],k=n?n.get(I):null,Y=k?k.outputs:null;l=CR(0,I.inputs,m,l,k?k.inputs:null),u=CR(1,I.outputs,m,u,Y);const ve=null===l||null===s||S(e)?null:L$(l,m,s);a.push(ve)}null!==l&&(l.hasOwnProperty("class")&&(e.flags|=8),l.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=l,e.outputs=u}(t,n,o)}function ER(t,e,n){const r=n.directiveStart,i=n.directiveEnd,o=n.index,s=function Xc(){return ri.lFrame.currentDirectiveIndex}();try{ia(o);for(let a=r;a<i;a++){const l=t.data[a],u=e[a];$a(a),(null!==l.hostBindings||0!==l.hostVars||null!==l.hostAttrs)&&D$(l,u)}}finally{ia(-1),$a(s)}}function D$(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function P2(t,e,n){var r;e.componentOffset=n,(null!==(r=t.components)&&void 0!==r?r:t.components=[]).push(e.index)}function k$(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;$i(e)&&(n[""]=t)}}function P$(t,e,n,r,i){t.data[r]=i;const o=i.factory||(i.factory=La(i.type)),s=new yo(o,$i(i),q);t.blueprint[r]=s,n[r]=s,function S$(t,e,n,r,i){const o=i.hostBindings;if(o){let s=t.hostBindingOpCodes;null===s&&(s=t.hostBindingOpCodes=[]);const a=~e.index;(function T$(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(s)!=a&&s.push(a),s.push(n,r,o)}}(t,e,r,Hy(t,n,i.hostVars,Hi),i)}function If(t,e,n,r,i,o){const s=ma(t,e);!function N2(t,e,n,r,i,o,s){if(null==o)t.removeAttribute(e,i,n);else{const a=null==s?jr(o):s(o,r||"",i);t.setAttribute(e,i,a,n)}}(e[Lr],s,o,t.value,n,r,i)}function M$(t,e,n,r,i,o){const s=o[e];if(null!==s)for(let a=0;a<s.length;)vR(r,n,s[a++],s[a++],s[a++],s[a++])}function L$(t,e,n){let r=null,i=0;for(;i<n.length;){const o=n[i];if(0!==o)if(5!==o){if("number"==typeof o)break;if(t.hasOwnProperty(o)){null===r&&(r=[]);const s=t[o];for(let a=0;a<s.length;a+=3)if(s[a]===e){r.push(o,s[a+1],s[a+2],n[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function SR(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function TR(t,e){const n=t.contentQueries;if(null!==n){const r=Ee(null);try{for(let i=0;i<n.length;i+=2){const s=n[i+1];if(-1!==s){const a=t.data[s];_c(n[i]),a.contentQueries(2,e[s],s)}}}finally{Ee(r)}}}function oC(t,e){return t[Ac]?t[hc][Rs]=e:t[Ac]=e,t[hc]=e,e}function M2(t,e,n){_c(0);const r=Ee(null);try{e(t,n)}finally{Ee(r)}}function sC(t,e){const n=t[oo],r=n?n.get(Dl,null):null;r&&r.handleError(e)}function L2(t,e,n,r,i){for(let o=0;o<n.length;){const s=n[o++],a=n[o++],l=n[o++];vR(t.data[s],e[s],r,a,l,i)}}function O$(t,e){const n=Gs(e,t),r=n[Vn];!function U$(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n);const i=n[Yr];null!==i&&null===n[ns]&&(n[ns]=bu(i,n[oo])),O2(r,n,n[Li])}function O2(t,e,n){XA(e);try{var r;const i=t.viewQuery;null!==i&&M2(1,i,n);const o=t.template;null!==o&&yR(t,e,o,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),null===(r=e[Os])||void 0===r||r.finishViewCreation(t),t.staticContentQueries&&TR(t,e),t.staticViewQueries&&M2(2,t.viewQuery,n);const s=t.components;null!==s&&function V$(t,e){for(let n=0;n<e.length;n++)O$(t,e[n])}(e,s)}catch(i){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),i}finally{e[mr]&=-5,Sh()}}function bv(t,e){return!e||null===e.firstChild||w(t)}function zy(t,e,n,r=!0){const i=e[Vn];if(function i$(t,e,n,r){const i=hs+r,o=n.length;r>0&&(n[i-1][Rs]=e),r<o-hs?(e[Rs]=n[i],eA(n,hs+r,e)):(n.push(e),e[Rs]=null),e[uo]=n;const s=e[rl];null!==s&&n!==s&&function o$(t,e){const n=t[ur];e[si]!==e[uo][uo][si]&&(t[mr]|=rA.HasTransplantedViews),null===n?t[ur]=[e]:n.push(e)}(s,e);const a=e[Os];null!==a&&a.insertView(t),pu(e),e[mr]|=128}(i,e,t,n),r){const s=S2(n,t),a=e[Lr],l=tC(a,t[uu]);null!==l&&function n$(t,e,n,r,i,o){r[Yr]=i,r[Mr]=e,rC(t,r,n,1,i,o)}(i,t[Mr],a,e,l,s)}const o=e[ns];null!==o&&null!==o.firstChild&&(o.firstChild=null)}function $y(t,e,n,r,i=!1){for(;null!==n;){const o=e[n.index];null!==o&&r.push(yi(o)),Ho(o)&&kR(o,r);const s=n.type;if(8&s)$y(t,e,n.child,r);else if(32&s){const a=_2(n,e);let l;for(;l=a();)r.push(l)}else if(16&s){const a=dR(e,n);if(Array.isArray(a))r.push(...a);else{const l=Ql(e[si]);$y(l[Vn],l,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function kR(t,e){for(let n=hs;n<t.length;n++){const r=t[n],i=r[Vn].firstChild;null!==i&&$y(r[Vn],r,i,e)}t[uu]!==t[Yr]&&e.push(t[uu])}let RR=[];const z$={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{},consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{qc(t.lView)},consumerOnSignalRead(){this.lView[lu]=this}};function PR(t){return MR(t[Ac])}function NR(t){return MR(t[Rs])}function MR(t){for(;null!==t&&!Ho(t);)t=t[Rs];return t}const LR=100;function aC(t,e=!0,n=0){const r=t[Mo],i=r.rendererFactory;var s;null===(s=i.begin)||void 0===s||s.call(i);try{!function W$(t,e){V2(t,e);let n=0;for(;Us(t);){if(n===LR)throw new hn(103,!1);n++,V2(t,1)}}(t,n)}catch(u){throw e&&sC(t,u),u}finally{var a,l;null===(a=i.end)||void 0===a||a.call(i),null===(l=r.inlineEffectRunner)||void 0===l||l.flush()}}function K$(t,e,n,r){var i;const o=e[mr];if(!(256&~o))return;null===(i=e[Mo].inlineEffectRunner)||void 0===i||i.flush(),XA(e);let a=null,l=null;(function q$(t){return 2!==t.type})(t)&&(l=function Q$(t){var e;return null!==(e=t[lu])&&void 0!==e?e:function H$(t){var e;const n=null!==(e=RR.pop())&&void 0!==e?e:Object.create(z$);return n.lView=t,n}(t)}(e),a=function Z(t){return t&&(t.nextProducerIndex=0),Ee(t)}(l));try{Sd(e),function Bd(t){return ri.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==n&&yR(t,e,n,2,r);const u=!(3&~o);if(u){const k=t.preOrderCheckHooks;null!==k&&Da(e,k,null)}else{const k=t.preOrderHooks;null!==k&&Wa(e,k,0,null),al(e,0)}if(function Y$(t){for(let e=PR(t);null!==e;e=NR(e)){if(!(e[mr]&rA.HasTransplantedViews))continue;const n=e[ur];for(let r=0;r<n.length;r++){uA(n[r])}}}(e),OR(e,0),null!==t.contentQueries&&TR(t,e),u){const k=t.contentCheckHooks;null!==k&&Da(e,k)}else{const k=t.contentHooks;null!==k&&Wa(e,k,1),al(e,1)}!function f$(t,e){const n=t.hostBindingOpCodes;if(null!==n)try{for(let r=0;r<n.length;r++){const i=n[r];if(i<0)ia(~i);else{const o=i,s=n[++r],a=n[++r];dA(s,o),a(2,e[o])}}}finally{ia(-1)}}(t,e);const m=t.components;null!==m&&VR(e,m,0);const I=t.viewQuery;if(null!==I&&M2(2,I,r),u){const k=t.viewCheckHooks;null!==k&&Da(e,k)}else{const k=t.viewHooks;null!==k&&Wa(e,k,2),al(e,2)}if(!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),e[fc]){for(const k of e[fc])k();e[fc]=null}e[mr]&=-73}catch(u){throw qc(e),u}finally{null!==l&&(function ce(t,e){if(Ee(e),t&&void 0!==t.producerNode&&void 0!==t.producerIndexOfThis&&void 0!==t.producerLastReadVersion){if(ft(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)$e(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}(l,a),function j$(t){t.lView[lu]!==t&&(t.lView=null,RR.push(t))}(l)),Sh()}}function OR(t,e){for(let n=PR(t);null!==n;n=NR(n))for(let r=hs;r<n.length;r++)UR(n[r],e)}function X$(t,e,n){UR(Gs(e,t),n)}function UR(t,e){fu(t)&&V2(t,e)}function V2(t,e){const r=t[Vn],i=t[mr],o=t[lu];let s=!!(0===e&&16&i);if(s||(s=!!(64&i&&0===e)),s||(s=!!(1024&i)),s||(s=!(null==o||!o.dirty||!Me(o))),o&&(o.dirty=!1),t[mr]&=-9217,s)K$(r,t,r.template,t[Li]);else if(8192&i){OR(t,1);const a=r.components;null!==a&&VR(t,a,1)}}function VR(t,e,n){for(let r=0;r<e.length;r++)X$(t,e[r],n)}function Gy(t){var e;for(null===(e=t[Mo].changeDetectionScheduler)||void 0===e||e.notify();t;){t[mr]|=64;const n=Ql(t);if(Id(t)&&!n)return t;t=n}return null}class Wy{get rootNodes(){const e=this._lView,n=e[Vn];return $y(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Li]}set context(e){this._lView[Li]=e}get destroyed(){return!(256&~this._lView[mr])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[uo];if(Ho(e)){const n=e[8],r=n?n.indexOf(this):-1;r>-1&&(Uy(e,r),zc(n,r))}this._attachedToViewContainer=!1}eC(this._lView[Vn],this._lView)}onDestroy(e){vc(this._lView,e)}markForCheck(){Gy(this._cdRefInjectingView||this._lView)}detach(){this._lView[mr]&=-129}reattach(){pu(this._lView),this._lView[mr]|=128}detectChanges(){this._lView[mr]|=1024,aC(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new hn(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,nR(this._lView[Vn],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new hn(902,!1);this._appRef=e,pu(this._lView)}}let Mh=(()=>{class e{}return e.__NG_ELEMENT_ID__=eG,e})();const J$=Mh,Z$=class extends J${constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){var e;return(null===(e=this._declarationTContainer.tView)||void 0===e?void 0:e.ssrId)||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){const i=function jy(t,e,n,r){const i=Ee(null);try{var o,s;const a=e.tView,m=iC(t,a,n,4096&t[mr]?4096:16,null,e,null,null,null,null!==(o=null==r?void 0:r.injector)&&void 0!==o?o:null,null!==(s=null==r?void 0:r.dehydratedView)&&void 0!==s?s:null);m[rl]=t[e.index];const k=t[Os];return null!==k&&(m[Os]=k.createEmbeddedView(a)),O2(a,m,n),m}finally{Ee(i)}}(this._declarationLView,this._declarationTContainer,e,{injector:n,dehydratedView:r});return new Wy(i)}};function eG(){return function lC(t,e){return 4&t.type?new Z$(e,t,Rh(t,e)):null}(vr(),Qe())}class G2{}class IG{}class WR{}class SG{resolveComponentFactory(e){throw function EG(t){const e=Error(`No component factory found for ${Gr(t)}.`);return e.ngComponent=t,e}(e)}}let hC=(()=>{class e{}return e.NULL=new SG,e})();class qR{}let fp=(()=>{class e{constructor(){this.destroyNode=null}}return e.__NG_ELEMENT_ID__=()=>function TG(){const t=Qe(),n=Gs(vr().index,t);return(Ps(n)?n:t)[Lr]}(),e})(),BG=(()=>{var t;class e{}return(t=e).\u0275prov=Cn({token:t,providedIn:"root",factory:()=>null}),e})();const W2={},YR=new Set;function Ef(t){var e,n;YR.has(t)||(YR.add(t),null===(e=performance)||void 0===e||null===(n=e.mark)||void 0===n||n.call(e,"mark_feature_usage",{detail:{feature:t}}))}function XR(...t){}class In{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new X(!1),this.onMicrotaskEmpty=new X(!1),this.onStable=new X(!1),this.onError=new X(!1),typeof Zone>"u")throw new hn(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function DG(){const t="function"==typeof ar.requestAnimationFrame;let e=ar[t?"requestAnimationFrame":"setTimeout"],n=ar[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&n){const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);const i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}().nativeRequestAnimationFrame,function kG(t){const e=()=>{!function FG(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(ar,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,q2(t),t.isCheckStableRunning=!0,K2(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),q2(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,o,s,a)=>{if(function RG(t){var e;return!(!Array.isArray(t)||1!==t.length)&&!0===(null===(e=t[0].data)||void 0===e?void 0:e.__ignore_ng_zone__)}(a))return n.invokeTask(i,o,s,a);try{return JR(t),n.invokeTask(i,o,s,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||t.shouldCoalesceRunChangeDetection)&&e(),ZR(t)}},onInvoke:(n,r,i,o,s,a,l)=>{try{return JR(t),n.invoke(i,o,s,a,l)}finally{t.shouldCoalesceRunChangeDetection&&e(),ZR(t)}},onHasTask:(n,r,i,o)=>{n.hasTask(i,o),r===i&&("microTask"==o.change?(t._hasPendingMicrotasks=o.microTask,q2(t),K2(t)):"macroTask"==o.change&&(t.hasPendingMacrotasks=o.macroTask))},onHandleError:(n,r,i,o)=>(n.handleError(i,o),t.runOutsideAngular(()=>t.onError.emit(o)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!In.isInAngularZone())throw new hn(909,!1)}static assertNotInAngularZone(){if(In.isInAngularZone())throw new hn(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){const o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,xG,XR,XR);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}}const xG={};function K2(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function q2(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function JR(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function ZR(t){t._nesting--,K2(t)}class eP{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new X,this.onMicrotaskEmpty=new X,this.onStable=new X,this.onError=new X}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}}var hm=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(hm||{});const tP={destroy(){}};function nP(t,e){var n,r,i;!e&&function li(t){if(!Ji())throw new hn(-203,!1)}();const o=null!==(n=null==e?void 0:e.injector)&&void 0!==n?n:sn(Nn);if(!function sg(t){return"browser"===(null!=t?t:sn(Nn)).get(Se)}(o))return tP;Ef("NgAfterNextRender");const s=o.get(Jy),a=null!==(r=s.handler)&&void 0!==r?r:s.handler=new iP,l=null!==(i=null==e?void 0:e.phase)&&void 0!==i?i:hm.MixedReadWrite,u=()=>{a.unregister(I),m()},m=o.get(Cu).onDestroy(u),I=Pi(o,()=>new rP(l,()=>{u(),t()}));return a.register(I),{destroy:u}}class rP{constructor(e,n){var r;this.phase=e,this.callbackFn=n,this.zone=sn(In),this.errorHandler=sn(Dl,{optional:!0}),null===(r=sn(G2,{optional:!0}))||void 0===r||r.notify(1)}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(n){var e;null===(e=this.errorHandler)||void 0===e||e.handleError(n)}}}class iP{constructor(){this.executingCallbacks=!1,this.buckets={[hm.EarlyRead]:new Set,[hm.Write]:new Set,[hm.MixedReadWrite]:new Set,[hm.Read]:new Set},this.deferredCallbacks=new Set}register(e){(this.executingCallbacks?this.deferredCallbacks:this.buckets[e.phase]).add(e)}unregister(e){this.buckets[e.phase].delete(e),this.deferredCallbacks.delete(e)}execute(){this.executingCallbacks=!0;for(const e of Object.values(this.buckets))for(const n of e)n.invoke();this.executingCallbacks=!1;for(const e of this.deferredCallbacks)this.buckets[e.phase].add(e);this.deferredCallbacks.clear()}destroy(){for(const e of Object.values(this.buckets))e.clear();this.deferredCallbacks.clear()}}let Jy=(()=>{var t;class e{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){var r;this.executeInternalCallbacks(),null===(r=this.handler)||void 0===r||r.execute()}executeInternalCallbacks(){const r=[...this.internalCallbacks];this.internalCallbacks.length=0;for(const i of r)i()}ngOnDestroy(){var r;null===(r=this.handler)||void 0===r||r.destroy(),this.handler=null,this.internalCallbacks.length=0}}return(t=e).\u0275prov=Cn({token:t,providedIn:"root",factory:()=>new t}),e})();function pC(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(null!==e)for(let s=0;s<e.length;s++){const a=e[s];"number"==typeof a?o=a:1==o?i=Ao(i,a):2==o&&(r=Ao(r,a+": "+e[++s]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}class aP extends hC{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const n=Ne(e);return new t_(n,this.ngModule)}}function lP(t){const e=[];for(const n in t){if(!t.hasOwnProperty(n))continue;const r=t[n];void 0!==r&&e.push({propName:Array.isArray(r)?r[0]:r,templateName:n})}return e}class UG{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=nf(r);const i=this.injector.get(e,W2,r);return i!==W2||n===W2?i:this.parentInjector.get(e,n,r)}}class t_ extends WR{get inputs(){const e=this.componentDef,n=e.inputTransforms,r=lP(e.inputs);if(null!==n)for(const i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return lP(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=function be(t){return t.map(Pe).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){const o=Ee(null);try{var a;let l=(i=i||this.ngModule)instanceof je?i:null===(a=i)||void 0===a?void 0:a.injector;l&&null!==this.componentDef.getStandaloneInjector&&(l=this.componentDef.getStandaloneInjector(l)||l);const u=l?new UG(e,l):e,m=u.get(qR,null);if(null===m)throw new hn(407,!1);const I=u.get(BG,null),Y={rendererFactory:m,sanitizer:I,inlineEffectRunner:null,afterRenderEventManager:u.get(Jy,null),changeDetectionScheduler:u.get(G2,null)},ve=m.createRenderer(null,this.componentDef),xe=this.componentDef.selectors[0][0]||"div",st=r?function g$(t,e,n,r){const o=r.get($w,!1)||n===bl.ShadowDom,s=t.selectRootElement(e,o);return function m$(t){wR(t)}(s),s}(ve,r,this.componentDef.encapsulation,u):Zw(ve,xe,function OG(t){const e=t.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(xe));let at=512;this.componentDef.signals?at|=4096:this.componentDef.onPush||(at|=16);let Lt=null;null!==st&&(Lt=bu(st,u,!0));const Yt=k2(0,null,null,1,0,null,null,null,null,null,null),kn=iC(null,Yt,null,at,null,null,Y,ve,u,null,Lt);let jn,no;XA(kn);try{const Co=this.componentDef;let ac,Zf=null;Co.findHostDirectiveDefs?(ac=[],Zf=new Map,Co.findHostDirectiveDefs(Co,ac,Zf),ac.push(Co)):ac=[Co];const Op=function QG(t,e){const n=t[Vn],r=ui;return t[r]=e,Cv(n,r,2,"#host",null)}(kn,st),w_e=function HG(t,e,n,r,i,o,s){const a=i[Vn];!function jG(t,e,n,r){for(const i of t)e.mergedAttrs=wd(e.mergedAttrs,i.hostAttrs);null!==e.mergedAttrs&&(pC(e,e.mergedAttrs,!0),null!==n&&pR(r,n,e))}(r,t,e,s);let l=null;null!==e&&(l=bu(e,i[oo]));const u=o.rendererFactory.createRenderer(e,n);let m=16;n.signals?m=4096:n.onPush&&(m=64);const I=iC(i,_R(n),null,m,i[t.index],t,o,u,null,null,l);return a.firstCreatePass&&P2(a,t,r.length-1),oC(i,I),i[t.index]=I}(Op,st,Co,ac,kn,Y,ve);no=Kc(Yt,ui),st&&function $G(t,e,n,r){if(r)lf(t,n,["ng-version","17.3.0"]);else{const{attrs:i,classes:o}=function ze(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let o=t[r];if("string"==typeof o)2===i?""!==o&&e.push(o,t[++r]):8===i&&n.push(o);else{if(!P(i))break;i=o}r++}return{attrs:e,classes:n}}(e.selectors[0]);i&&lf(t,n,i),o&&o.length>0&&fR(t,n,o.join(" "))}}(ve,Co,st,r),void 0!==n&&function GG(t,e,n){const r=t.projection=[];for(let i=0;i<e.length;i++){const o=n[i];r.push(null!=o?Array.from(o):null)}}(no,this.ngContentSelectors,n),jn=function zG(t,e,n,r,i,o){const s=vr(),a=i[Vn],l=ma(s,i);IR(a,i,s,n,null,r);for(let m=0;m<n.length;m++)Ec($l(i,a,s.directiveStart+m,s),i);ER(a,i,s),l&&Ec(l,i);const u=$l(i,a,s.directiveStart+s.componentOffset,s);if(t[Li]=i[Li]=u,null!==o)for(const m of o)m(u,e);return D2(a,s,i),u}(w_e,Co,ac,Zf,kn,[WG]),O2(Yt,kn,null)}finally{Sh()}return new VG(this.componentType,jn,Rh(no,kn),kn,no)}finally{Ee(o)}}}class VG extends IG{constructor(e,n,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new Wy(i,void 0,!1),this.componentType=e}setInput(e,n){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[e])){var o;if(null!==(o=this.previousInputValues)&&void 0!==o||(this.previousInputValues=new Map),this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;const s=this._rootLView;L2(s[Vn],s,i,e,n),this.previousInputValues.set(e,n),Gy(Gs(this._tNode.index,s))}}get injector(){return new is(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function WG(){const t=vr();oa(Qe()[Vn],t)}let oh=(()=>{class e{}return e.__NG_ELEMENT_ID__=KG,e})();function KG(){return function dP(t,e){let n;const r=e[t.index];return Ho(r)?n=r:(n=SR(r,e,null,t),e[t.index]=n,oC(e,n)),AP(n,e,t,r),new uP(n,t,e)}(vr(),Qe())}const qG=oh,uP=class extends qG{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return Rh(this._hostTNode,this._hostLView)}get injector(){return new is(this._hostTNode,this._hostLView)}get parentInjector(){const e=Cc(this._hostTNode,this._hostLView);if(Nd(e)){const n=eh(e,this._hostLView),r=ZA(e);return new is(n[Vn].data[r+8],n)}return new is(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const n=cP(this._lContainer);return null!==n&&n[e]||null}get length(){return this._lContainer.length-hs}createEmbeddedView(e,n,r){let i,o;"number"==typeof r?i=r:null!=r&&(i=r.index,o=r.injector);const a=e.createEmbeddedViewImpl(n||{},o,null);return this.insertImpl(a,i,bv(this._hostTNode,null)),a}createComponent(e,n,r,i,o){var s,l;const u=e&&!function Qo(t){return"function"==typeof t}(e);let m;if(u)m=n;else{const st=n||{};m=st.index,r=st.injector,i=st.projectableNodes,o=st.environmentInjector||st.ngModuleRef}const I=u?e:new t_(Ne(e)),k=r||this.parentInjector;if(!o&&null==I.ngModule){const at=(u?k:this.parentInjector).get(je,null);at&&(o=at)}const U=Ne(null!==(s=I.componentType)&&void 0!==s?s:{}),Y=(null==U?void 0:U.id,null),ve=null!==(l=null==Y?void 0:Y.firstChild)&&void 0!==l?l:null,xe=I.create(k,i,ve,o);return this.insertImpl(xe.hostView,m,bv(this._hostTNode,Y)),xe}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){const i=e._lView;if(function $u(t){return Ho(t[uo])}(i)){const a=this.indexOf(e);if(-1!==a)this.detach(a);else{const l=i[uo],u=new uP(l,l[Mr],l[uo]);u.detach(u.indexOf(e))}}const o=this._adjustIndex(n),s=this._lContainer;return zy(s,i,o,r),e.attachToViewContainerRef(),eA(Z2(s),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){const n=cP(this._lContainer);return null!==n?n.indexOf(e):-1}remove(e){const n=this._adjustIndex(e,-1),r=Uy(this._lContainer,n);r&&(zc(Z2(this._lContainer),n),eC(r[Vn],r))}detach(e){const n=this._adjustIndex(e,-1),r=Uy(this._lContainer,n);return r&&null!=zc(Z2(this._lContainer),n)?new Wy(r):null}_adjustIndex(e,n=0){return null==e?this.length+n:e}};function cP(t){return t[8]}function Z2(t){return t[8]||(t[8]=[])}let AP=function fP(t,e,n,r){if(t[uu])return;let i;i=8&n.type?yi(r):function YG(t,e){const n=t[Lr],r=n.createComment(""),i=ma(e,t);return Am(n,tC(n,i),r,function u$(t,e){return t.nextSibling(e)}(n,i),!1),r}(e,n),t[uu]=i},eS=()=>!1;function IP(t){return function CP(t){return"function"==typeof t&&void 0!==t[Ut]}(t)&&"function"==typeof t.set}function ji(t){let e=function NP(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),n=!0;const r=[t];for(;e;){let i;if($i(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new hn(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);const s=t;s.inputs=mC(t.inputs),s.inputTransforms=mC(t.inputTransforms),s.declaredInputs=mC(t.declaredInputs),s.outputs=mC(t.outputs);const a=i.hostBindings;a&&_W(t,a);const l=i.viewQuery,u=i.contentQueries;if(l&&vW(t,l),u&&yW(t,u),gW(t,i),nr(t.outputs,i.outputs),$i(i)&&i.data.animation){const m=t.data;m.animation=(m.animation||[]).concat(i.data.animation)}}const o=i.features;if(o)for(let s=0;s<o.length;s++){const a=o[s];a&&a.ngInherit&&a(t),a===ji&&(n=!1)}}e=Object.getPrototypeOf(e)}!function mW(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=wd(i.hostAttrs,n=wd(n,i.hostAttrs))}}(r)}function gW(t,e){for(const r in e.inputs){if(!e.inputs.hasOwnProperty(r)||t.inputs.hasOwnProperty(r))continue;const i=e.inputs[r];if(void 0!==i&&(t.inputs[r]=i,t.declaredInputs[r]=e.declaredInputs[r],null!==e.inputTransforms)){var n;const o=Array.isArray(i)?i[0]:i;if(!e.inputTransforms.hasOwnProperty(o))continue;null!==(n=t.inputTransforms)&&void 0!==n||(t.inputTransforms={}),t.inputTransforms[o]=e.inputTransforms[o]}}}function mC(t){return t===Ol?{}:t===Qi?[]:t}function vW(t,e){const n=t.viewQuery;t.viewQuery=n?(r,i)=>{e(r,i),n(r,i)}:e}function yW(t,e){const n=t.contentQueries;t.contentQueries=n?(r,i,o)=>{e(r,i,o),n(r,i,o)}:e}function _W(t,e){const n=t.hostBindings;t.hostBindings=n?(r,i)=>{e(r,i),n(r,i)}:e}function UP(t){const e=t.inputConfig,n={};for(const r in e)if(e.hasOwnProperty(r)){const i=e[r];Array.isArray(i)&&i[3]&&(n[r]=i[3])}t.inputTransforms=n}class fm{}class VP{}class uS extends fm{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new aP(this);const i=we(e);this._bootstrapComponents=yA(i.bootstrap),this._r3Injector=Zn(e,n,[{provide:fm,useValue:this},{provide:hC,useValue:this.componentFactoryResolver},...r],Gr(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class cS extends VP{constructor(e){super(),this.moduleType=e}create(e){return new uS(this.moduleType,e,[])}}class QP extends fm{constructor(e){super(),this.componentFactoryResolver=new aP(this),this.instance=null;const n=new ti([...e.providers,{provide:fm,useValue:this},{provide:hC,useValue:this.componentFactoryResolver}],e.parent||pn(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function vC(t,e,n=null){return new QP({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}let Sv=(()=>{var t;class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new rt(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);const r=this.taskId++;return this.pendingTasks.add(r),r}remove(r){this.pendingTasks.delete(r),0===this.pendingTasks.size&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Cn({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function _C(t){return!!function dS(t){return null!==t&&("function"==typeof t||"object"==typeof t)}(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function Sf(t,e,n){return t[e]=n}function cl(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function Xo(t,e,n,r,i,o,s,a){const l=Qe(),u=An(),m=t+ui,I=u.firstCreatePass?function RW(t,e,n,r,i,o,s,a,l){const u=e.consts,m=Cv(e,t,4,s||null,sl(u,a));R2(e,n,m,sl(u,l)),oa(e,m);const I=m.tView=k2(2,m,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,u,null);return null!==e.queries&&(e.queries.template(e,m),I.queries=e.queries.embeddedTView(m)),m}(m,u,l,e,n,r,i,o,s):u.data[m];ho(I,!1);const k=HP(u,l,I,t);wc()&&nC(u,l,k,I),Ec(k,l);const U=SR(k,l,k,I);return l[m]=U,oC(l,U),function hP(t,e,n){return eS(t,e,n)}(U,I,l),cu(I)&&x2(u,l,I),null!=s&&F2(l,I,a),Xo}let HP=function jP(t,e,n,r){return Gi(!0),e[Lr].createComment("")};function kl(t,e,n,r){const i=Qe();return cl(i,ja(),e)&&(An(),If(Oi(),i,t,e,n,r)),kl}function Pv(t,e,n,r){return cl(t,ja(),n)?e+jr(n)+r:Hi}function TC(t,e){return t<<17|e<<2}function dg(t){return t>>17&32767}function wS(t){return 2|t}function mm(t){return(131068&t)>>2}function CS(t,e){return-131069&t|e<<2}function bS(t){return 1|t}function _N(t,e,n,r){const i=t[n+1],o=null===e;let s=r?dg(i):mm(i),a=!1;for(;0!==s&&(!1===a||o);){const u=t[s+1];mK(t[s],e)&&(a=!0,t[s+1]=r?bS(u):wS(u)),s=r?dg(u):mm(u)}a&&(t[n+1]=r?wS(i):bS(i))}function mK(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&ds(t,e)>=0}function eo(t,e,n){const r=Qe();return cl(r,ja(),e)&&Od(An(),Oi(),r,t,e,r[Lr],n,!1),eo}function IS(t,e,n,r,i){const s=i?"class":"style";L2(t,n,e.inputs[s],s,r)}function BC(t,e){return function Lh(t,e,n,r){const i=Qe(),o=An(),s=function za(t){const e=ri.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}(2);o.firstUpdatePass&&function DN(t,e,n,r){const i=t.data;if(null===i[n+1]){const o=i[rs()],s=function BN(t,e){return e>=t.expandoStartIndex}(t,n);(function RN(t,e){return!!(t.flags&(e?8:16))})(o,r)&&null===e&&!s&&(e=!1),e=function SK(t,e,n,r){const i=function xd(t){const e=ri.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let o=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=l_(n=ES(null,t,e,n,r),e.attrs,r),o=null);else{const s=e.directiveStylingLast;if(-1===s||t[s]!==i)if(n=ES(i,t,e,n,r),null===o){let l=function TK(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==mm(r))return t[dg(r)]}(t,e,r);void 0!==l&&Array.isArray(l)&&(l=ES(null,t,e,l[1],r),l=l_(l,e.attrs,r),function BK(t,e,n,r){t[dg(n?e.classBindings:e.styleBindings)]=r}(t,e,r,l))}else o=function DK(t,e,n){let r;const i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++)r=l_(r,t[o].hostAttrs,n);return l_(r,e.attrs,n)}(t,e,r)}return void 0!==o&&(r?e.residualClasses=o:e.residualStyles=o),n}(i,o,e,r),function pK(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,a=dg(s),l=mm(s);t[r]=n;let m,u=!1;if(Array.isArray(n)?(m=n[1],(null===m||ds(n,m)>0)&&(u=!0)):m=n,i)if(0!==l){const k=dg(t[a+1]);t[r+1]=TC(k,a),0!==k&&(t[k+1]=CS(t[k+1],r)),t[a+1]=function hK(t,e){return 131071&t|e<<17}(t[a+1],r)}else t[r+1]=TC(a,0),0!==a&&(t[a+1]=CS(t[a+1],r)),a=r;else t[r+1]=TC(l,0),0===a?a=r:t[l+1]=CS(t[l+1],r),l=r;u&&(t[r+1]=wS(t[r+1])),_N(t,m,r,!0),_N(t,m,r,!1),function gK(t,e,n,r,i){const o=i?t.residualClasses:t.residualStyles;null!=o&&"string"==typeof e&&ds(o,e)>=0&&(n[r+1]=bS(n[r+1]))}(e,m,t,r,o),s=TC(a,l),o?e.classBindings=s:e.styleBindings=s}(i,o,e,n,s,r)}}(o,t,s,r),e!==Hi&&cl(i,s,e)&&function FN(t,e,n,r,i,o,s,a){if(!(3&e.type))return;const l=t.data,u=l[a+1],m=function fK(t){return!(1&~t)}(u)?kN(l,e,n,i,mm(u),s):void 0;DC(m)||(DC(o)||function AK(t){return!(2&~t)}(u)&&(o=kN(l,null,n,i,a,s)),function A$(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let o=-1===r.indexOf("-")?void 0:ag.DashCase;null==i?t.removeStyle(n,r,o):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=ag.Important),t.setStyle(n,r,i,o))}}(r,s,mc(rs(),n),i,o))}(o,o.data[rs()],i,i[Lr],t,i[s+1]=function RK(t,e){return null==t||""===t||("string"==typeof e?t+=e:"object"==typeof t&&(t=Gr(Nh(t)))),t}(e,n),r,s)}(t,e,null,!0),BC}function ES(t,e,n,r,i){let o=null;const s=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<s&&(o=e[a],r=l_(r,o.hostAttrs,i),o!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function l_(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let o=0;o<e.length;o++){const s=e[o];"number"==typeof s?i=s:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),ks(t,s,!!n||e[++o]))}return void 0===t?null:t}function kN(t,e,n,r,i,o){const s=null===e;let a;for(;i>0;){const l=t[i],u=Array.isArray(l),m=u?l[1]:l,I=null===m;let k=n[i+1];k===Hi&&(k=I?Qi:void 0);let U=I?na(k,r):m===r?k:void 0;if(u&&!DC(U)&&(U=na(l,r)),DC(U)&&(a=U,s))return a;const Y=t[i+1];i=s?dg(Y):mm(Y)}if(null!==e){let l=o?e.residualClasses:e.residualStyles;null!=l&&(a=na(l,r))}return a}function DC(t){return void 0!==t}function d(t,e,n,r){const i=Qe(),o=An(),s=ui+t,a=i[Lr],l=o.firstCreatePass?function nq(t,e,n,r,i,o){const s=e.consts,l=Cv(e,t,2,r,sl(s,i));return R2(e,n,l,sl(s,o)),null!==l.attrs&&pC(l,l.attrs,!1),null!==l.mergedAttrs&&pC(l,l.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,l),l}(s,o,i,e,n,r):o.data[s],u=LN(o,i,l,a,e,t);i[s]=u;const m=cu(l);return ho(l,!0),pR(a,u,l),!function i_(t){return!(32&~t.flags)}(l)&&wc()&&nC(o,i,u,l),0===function qA(){return ri.lFrame.elementDepthCount}()&&Ec(u,i),function cA(){ri.lFrame.elementDepthCount++}(),m&&(x2(o,i,l),D2(o,l,i)),null!==r&&F2(i,l),d}function v(){let t=vr();jo()?Es():(t=t.parent,ho(t,!1));const e=t;(function R(t){return ri.skipHydrationRootTNode===t})(e)&&function Tt(){ri.skipHydrationRootTNode=null}(),function Eh(){ri.lFrame.elementDepthCount--}();const n=An();return n.firstCreatePass&&(oa(n,t),iA(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function _u(t){return!!(8&t.flags)}(e)&&IS(n,e,Qe(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function Pd(t){return!!(16&t.flags)}(e)&&IS(n,e,Qe(),e.stylesWithoutHost,!1),v}function vt(t,e,n,r){return d(t,e,n,r),v(),vt}let LN=(t,e,n,r,i,o)=>(Gi(!0),Zw(r,i,function vu(){return ri.lFrame.currentNamespace}()));function Fa(){return Qe()}const vm=void 0;var uq=["en",[["a","p"],["AM","PM"],vm],[["AM","PM"],vm,vm],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],vm,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],vm,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",vm,"{1} 'at' {0}",vm],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function lq(t){const n=Math.floor(Math.abs(t)),r=t.toString().replace(/^[^.]*\.?/,"").length;return 1===n&&0===r?1:5}];let jv={};function nd(t){const e=function cq(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=HN(e);if(n)return n;const r=e.split("-")[0];if(n=HN(r),n)return n;if("en"===r)return uq;throw new hn(701,!1)}function HN(t){return t in jv||(jv[t]=ar.ng&&ar.ng.common&&ar.ng.common.locales&&ar.ng.common.locales[t]),jv[t]}var Ws=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(Ws||{});const zv="en-US";let jN=zv;function Sn(t,e,n,r){const i=Qe(),o=An(),s=vr();return PS(o,i,i[Lr],s,t,e,r),Sn}function PS(t,e,n,r,i,o,s){const a=cu(r),u=t.firstCreatePass&&function DR(t){return t.cleanup||(t.cleanup=[])}(t),m=e[Li],I=function BR(t){return t[Va]||(t[Va]=[])}(e);let k=!0;if(3&r.type||s){const ve=ma(r,e),xe=s?s(ve):ve,st=I.length,at=s?Yt=>s(yi(Yt[r.index])):r.index;let Lt=null;if(!s&&a&&(Lt=function sY(t,e,n,r){const i=t.cleanup;if(null!=i)for(let o=0;o<i.length-1;o+=2){const s=i[o];if(s===n&&i[o+1]===r){const a=e[Va],l=i[o+2];return a.length>l?a[l]:null}"string"==typeof s&&(o+=2)}return null}(t,e,i,r.index)),null!==Lt)(Lt.__ngLastListenerFn__||Lt).__ngNextListenerFn__=o,Lt.__ngLastListenerFn__=o,k=!1;else{o=m4(r,e,m,o,!1);const Yt=n.listen(xe,i,o);I.push(o,Yt),u&&u.push(i,at,st,st+1)}}else o=m4(r,e,m,o,!1);const U=r.outputs;let Y;if(k&&null!==U&&(Y=U[i])){const ve=Y.length;if(ve)for(let xe=0;xe<ve;xe+=2){const kn=e[Y[xe]][Y[xe+1]].subscribe(o),jn=I.length;I.push(o,kn),u&&u.push(i,r.index,jn,-(jn+1))}}}function g4(t,e,n,r){const i=Ee(null);try{return Vl(6,e,n),!1!==n(r)}catch(o){return sC(t,o),!1}finally{Vl(7,e,n),Ee(i)}}function m4(t,e,n,r,i){return function o(s){if(s===Function)return r;Gy(t.componentOffset>-1?Gs(t.index,e):e);let l=g4(e,n,r,s),u=o.__ngNextListenerFn__;for(;u;)l=g4(e,n,u,s)&&l,u=u.__ngNextListenerFn__;return i&&!1===l&&s.preventDefault(),l}}function Wo(t=1){return function kd(t){return(ri.lFrame.contextLView=function Td(t,e){for(;t>0;)e=e[Qa],t--;return e}(t,ri.lFrame.contextLView))[Li]}(t)}function aY(t,e){let n=null;const r=function G(t){const e=t.attrs;if(null!=e){const n=e.indexOf(5);if(!(1&n))return e[n+1]}return null}(t);for(let i=0;i<e.length;i++){const o=e[i];if("*"!==o){if(null===r?L(t,o,!0):pe(r,o))return i}else n=i}return n}function Ar(t){const e=Qe()[si][Mr];if(!e.projection){const r=e.projection=function Oa(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}(t?t.length:1,null),i=r.slice();let o=e.child;for(;null!==o;){const s=t?aY(o,t):0;null!==s&&(i[s]?i[s].projectionNext=o:r[s]=o,i[s]=o),o=o.next}}}function cr(t,e=0,n){const r=Qe(),i=An(),o=Cv(i,ui+t,16,null,n||null);null===o.projection&&(o.projection=e),Es(),(!r[ns]||yc())&&32&~o.flags&&function c$(t,e,n){hR(e[Lr],0,e,n,I2(t,n,e),aR(n.parent||e[Mr],n,e))}(i,r,o)}function p_(t,e,n,r,i){const o=Qe(),s=Pv(o,e,n,r);return s!==Hi&&Od(An(),Oi(),o,t,s,o[Lr],i,!1),p_}function b(t,e=""){const n=Qe(),r=An(),i=t+ui,o=r.firstCreatePass?Cv(r,i,1,e,null):r.data[i],s=M4(r,n,o,e,t);n[i]=s,wc()&&nC(r,n,s,o),ho(o,!1)}let M4=(t,e,n,r,i)=>(Gi(!0),function w2(t,e){return t.createText(e)}(e[Lr],r));function _r(t){return Gv("",t,""),_r}function Gv(t,e,n){const r=Qe(),i=Pv(r,t,e,n);return i!==Hi&&function hp(t,e,n){const r=mc(e,t);!function tR(t,e,n){t.setValue(e,n)}(t[Lr],r,n)}(r,rs(),i),Gv}function Sc(t,e,n){IP(e)&&(e=e());const r=Qe();return cl(r,ja(),e)&&Od(An(),Oi(),r,t,e,r[Lr],n,!1),Sc}function rd(t,e){const n=IP(t);return n&&t.set(e),n}function Tc(t,e){const n=Qe(),r=An(),i=vr();return PS(r,n,n[Lr],i,t,e),Tc}function MS(t,e,n,r,i){if(t=Qr(t),Array.isArray(t))for(let o=0;o<t.length;o++)MS(t[o],e,n,r,i);else{const o=An(),s=Qe(),a=vr();let l=jt(t)?t:Qr(t.provide);const u=gr(t),m=1048575&a.providerIndexes,I=a.directiveStart,k=a.providerIndexes>>20;if(jt(t)||!t.multi){const U=new yo(u,i,q),Y=OS(l,e,i?m:m+k,I);-1===Y?(xh(fA(a,s),o,l),LS(o,t,e.length),e.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(U),s.push(U)):(n[Y]=U,s[Y]=U)}else{const U=OS(l,e,m+k,I),Y=OS(l,e,m,m+k),xe=Y>=0&&n[Y];if(i&&!xe||!i&&!(U>=0&&n[U])){xh(fA(a,s),o,l);const st=function TY(t,e,n,r,i){const o=new yo(t,n,q);return o.multi=[],o.index=e,o.componentProviders=0,$4(o,i,r&&!n),o}(i?SY:EY,n.length,i,r,u);!i&&xe&&(n[Y].providerFactory=st),LS(o,t,e.length,0),e.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(st),s.push(st)}else LS(o,t,U>-1?U:Y,$4(n[i?Y:U],u,!i&&r));!i&&r&&xe&&n[Y].componentProviders++}}}function LS(t,e,n,r){const i=jt(e),o=function Gn(t){return!!t.useClass}(e);if(i||o){const l=(o?Qr(e.useClass):e).prototype.ngOnDestroy;if(l){const u=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const m=u.indexOf(n);-1===m?u.push(n,[r,l]):u[m+1].push(r,l)}else u.push(n,l)}}}function $4(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function OS(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function EY(t,e,n,r){return US(this.multi,[])}function SY(t,e,n,r){const i=this.multi;let o;if(this.providerFactory){const s=this.providerFactory.componentProviders,a=$l(n,n[Vn],this.providerFactory.index,r);o=a.slice(0,s),US(i,o);for(let l=s;l<a.length;l++)o.push(a[l])}else o=[],US(i,o);return o}function US(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function ps(t,e=[]){return n=>{n.providersResolver=(r,i)=>function IY(t,e,n){const r=An();if(r.firstCreatePass){const i=$i(t);MS(n,r.data,r.blueprint,i,!0),MS(e,r.data,r.blueprint,i,!1)}}(r,i?i(t):t,e)}}let BY=(()=>{var t;class e{constructor(r){this._injector=r,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){const i=yn(0,r.type),o=i.length>0?vC([i],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,o)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(const r of this.cachedInjectors.values())null!==r&&r.destroy()}finally{this.cachedInjectors.clear()}}}return(t=e).\u0275prov=Cn({token:t,providedIn:"environment",factory:()=>new t(Ln(je))}),e})();function G4(t){Ef("NgStandalone"),t.getStandaloneInjector=e=>e.get(BY).getOrCreateStandaloneInjector(t)}function g_(t,e){const n=t[e];return n===Hi?void 0:n}function nM(t,e,n,r,i,o,s){const a=e+n;return function pm(t,e,n,r){const i=cl(t,e,n);return cl(t,e+1,r)||i}(t,a,i,o)?Sf(t,a+2,s?r.call(s,i,o):r(i,o)):g_(t,a+2)}function wA(t,e){const n=An();let r;const i=t+ui;var o;n.firstCreatePass?(r=function KY(t,e){if(e)for(let n=e.length-1;n>=0;n--){const r=e[n];if(t===r.name)return r}}(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(null!==(o=n.destroyHooks)&&void 0!==o?o:n.destroyHooks=[]).push(i,r.onDestroy)):r=n.data[i];const s=r.factory||(r.factory=La(r.type)),l=Ls(q);try{const u=Dh(!1),m=s();return Dh(u),function dY(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}(n,Qe(),i,m),m}finally{Ls(l)}}function Uh(t,e,n){const r=t+ui,i=Qe(),o=ol(i,r);return m_(i,r)?function tM(t,e,n,r,i,o){const s=e+n;return cl(t,s,i)?Sf(t,s+1,o?r.call(o,i):r(i)):g_(t,s+1)}(i,Bo(),e,o.transform,n,o):o.transform(n)}function QS(t,e,n,r){const i=t+ui,o=Qe(),s=ol(o,i);return m_(o,i)?nM(o,Bo(),e,s.transform,n,r,s):s.transform(n,r)}function m_(t,e){return t[Vn].data[e].pure}class qv{constructor(e){this.full=e;const n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}}const _X=new qv("17.3.0");let wM=(()=>{var t;class e{log(r){console.log(r)}warn(r){console.warn(r)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Cn({token:t,factory:t.\u0275fac,providedIn:"platform"}),e})();const EM=new Un(""),OC=new Un("");let YS,KS=(()=>{var t;class e{constructor(r,i,o){this._ngZone=r,this.registry=i,this._pendingCount=0,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,YS||(function GX(t){YS=t}(o),o.addToWindow(i)),this._watchAngularEvents(),r.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{In.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let r=this._callbacks.pop();clearTimeout(r.timeoutId),r.doneCb()}});else{let r=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>!i.updateCb||!i.updateCb(r)||(clearTimeout(i.timeoutId),!1))}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(r=>({source:r.source,creationLocation:r.creationLocation,data:r.data})):[]}addCallback(r,i,o){let s=-1;i&&i>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(a=>a.timeoutId!==s),r()},i)),this._callbacks.push({doneCb:r,timeoutId:s,updateCb:o})}whenStable(r,i,o){if(o&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(r,i,o),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(r){this.registry.registerApplication(r,this)}unregisterApplication(r){this.registry.unregisterApplication(r)}findProviders(r,i,o){return[]}}return(t=e).\u0275fac=function(r){return new(r||t)(Ln(In),Ln(qS),Ln(OC))},t.\u0275prov=Cn({token:t,factory:t.\u0275fac}),e})(),qS=(()=>{var t;class e{constructor(){this._applications=new Map}registerApplication(r,i){this._applications.set(r,i)}unregisterApplication(r){this._applications.delete(r)}unregisterAllApplications(){this._applications.clear()}getTestability(r){return this._applications.get(r)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(r,i=!0){var o,s;return null!==(o=null===(s=YS)||void 0===s?void 0:s.findTestabilityInTree(this,r,i))&&void 0!==o?o:null}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Cn({token:t,factory:t.\u0275fac,providedIn:"platform"}),e})();function __(t){return!!t&&"function"==typeof t.then}function SM(t){return!!t&&"function"==typeof t.subscribe}const UC=new Un("");let XS=(()=>{var t;class e{constructor(){var r;this.initialized=!1,this.done=!1,this.donePromise=new Promise((i,o)=>{this.resolve=i,this.reject=o}),this.appInits=null!==(r=sn(UC,{optional:!0}))&&void 0!==r?r:[]}runInitializers(){if(this.initialized)return;const r=[];for(const o of this.appInits){const s=o();if(__(s))r.push(s);else if(SM(s)){const a=new Promise((l,u)=>{s.subscribe({complete:l,error:u})});r.push(a)}}const i=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{i()}).catch(o=>{this.reject(o)}),0===r.length&&i(),this.initialized=!0}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Cn({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();const JS=new Un("");function DM(t,e){return Array.isArray(e)?e.reduce(DM,t):{...t,...e}}let pp=(()=>{var t;class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=sn(kh),this.afterRenderEffectManager=sn(Jy),this.externalTestViews=new Set,this.beforeRender=new dt,this.afterTick=new dt,this.componentTypes=[],this.components=[],this.isStable=sn(Sv).hasPendingTasks.pipe(Nr(r=>!r)),this._injector=sn(je)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(r,i){const o=r instanceof WR;if(!this._injector.get(XS).done)throw!o&&function Be(t){const e=Ne(t)||Zt(t)||on(t);return null!==e&&e.standalone}(r),new hn(405,!1);let a;a=o?r:this._injector.get(hC).resolveComponentFactory(r),this.componentTypes.push(a.componentType);const l=function WX(t){return t.isBoundToModule}(a)?void 0:this._injector.get(fm),m=a.create(Nn.NULL,[],i||a.selector,l),I=m.location.nativeElement,k=m.injector.get(EM,null);return null==k||k.registerApplication(I),m.onDestroy(()=>{this.detachView(m.hostView),VC(this.components,m),null==k||k.unregisterApplication(I)}),this._loadComponent(m),m}tick(){this._tick(!0)}_tick(r){if(this._runningTick)throw new hn(101,!1);const i=Ee(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(r)}catch(o){this.internalErrorHandler(o)}finally{this.afterTick.next(),this._runningTick=!1,Ee(i)}}detectChangesInAttachedViews(r){let i=0;const o=this.afterRenderEffectManager;for(;;){if(i===LR)throw new hn(103,!1);if(r){const s=0===i;this.beforeRender.next(s);for(let{_lView:a,notifyErrorHandler:l}of this._views)qX(a,s,l)}if(i++,o.executeInternalCallbacks(),![...this.externalTestViews.keys(),...this._views].some(({_lView:s})=>ZS(s))&&(o.execute(),![...this.externalTestViews.keys(),...this._views].some(({_lView:s})=>ZS(s))))break}}attachView(r){const i=r;this._views.push(i),i.attachToAppRef(this)}detachView(r){const i=r;VC(this._views,i),i.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r);const i=this._injector.get(JS,[]);[...this._bootstrapListeners,...i].forEach(o=>o(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>VC(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new hn(406,!1);const r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Cn({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function VC(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}function qX(t,e,n){!e&&!ZS(t)||function YX(t,e,n){let r;n?(r=0,t[mr]|=1024):r=64&t[mr]?0:1,aC(t,e,r)}(t,n,e)}function ZS(t){return Us(t)}class XX{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}}let xM=(()=>{var t;class e{compileModuleSync(r){return new cS(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){const i=this.compileModuleSync(r),s=yA(we(r).declarations).reduce((a,l)=>{const u=Ne(l);return u&&a.push(new t_(u)),a},[]);return new XX(i,s)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Cn({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),eJ=(()=>{var t;class e{constructor(){this.zone=sn(In),this.applicationRef=sn(pp)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){var r;null===(r=this._onMicrotaskEmptySubscription)||void 0===r||r.unsubscribe()}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Cn({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function tJ(){const t=sn(In),e=sn(Dl);return n=>t.runOutsideAngular(()=>e.handleError(n))}let rJ=(()=>{var t;class e{constructor(){this.subscription=new Qt,this.initialized=!1,this.zone=sn(In),this.pendingTasks=sn(Sv)}initialize(){if(this.initialized)return;this.initialized=!0;let r=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(r=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{In.assertNotInAngularZone(),queueMicrotask(()=>{null!==r&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(r),r=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{var i;In.assertInAngularZone(),null!==(i=r)&&void 0!==i||(r=this.pendingTasks.add())}))}ngOnDestroy(){this.subscription.unsubscribe()}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Cn({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();const gp=new Un("",{providedIn:"root",factory:()=>sn(gp,Hr.Optional|Hr.SkipSelf)||function iJ(){return typeof $localize<"u"&&$localize.locale||zv}()}),eT=new Un("");let PM=(()=>{var t;class e{constructor(r){this._injector=r,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(r,i){const o=function PG(t="zone.js",e){return"noop"===t?new eP:"zone.js"===t?new In(e):t}(null==i?void 0:i.ngZone,function RM(t){var e,n;return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:null!==(e=null==t?void 0:t.eventCoalescing)&&void 0!==e&&e,shouldCoalesceRunChangeDetection:null!==(n=null==t?void 0:t.runCoalescing)&&void 0!==n&&n}}({eventCoalescing:null==i?void 0:i.ngZoneEventCoalescing,runCoalescing:null==i?void 0:i.ngZoneRunCoalescing}));return o.run(()=>{const s=function TW(t,e,n){return new uS(t,e,n)}(r.moduleType,this.injector,function kM(t){return[{provide:In,useFactory:t},{provide:dc,multi:!0,useFactory:()=>{const e=sn(eJ,{optional:!0});return()=>e.initialize()}},{provide:dc,multi:!0,useFactory:()=>{const e=sn(rJ);return()=>{e.initialize()}}},{provide:kh,useFactory:tJ}]}(()=>o)),a=s.injector.get(Dl,null);return o.runOutsideAngular(()=>{const l=o.onError.subscribe({next:u=>{a.handleError(u)}});s.onDestroy(()=>{VC(this._modules,s),l.unsubscribe()})}),function BM(t,e,n){try{const r=n();return __(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(a,o,()=>{const l=s.injector.get(XS);return l.runInitializers(),l.donePromise.then(()=>(function zN(t){"string"==typeof t&&(jN=t.toLowerCase().replace(/_/g,"-"))}(s.injector.get(gp,zv)||zv),this._moduleDoBootstrap(s),s))})})}bootstrapModule(r,i=[]){const o=DM({},i);return function ZX(t,e,n){const r=new cS(n);return Promise.resolve(r)}(0,0,r).then(s=>this.bootstrapModuleFactory(s,o))}_moduleDoBootstrap(r){const i=r.injector.get(pp);if(r._bootstrapComponents.length>0)r._bootstrapComponents.forEach(o=>i.bootstrap(o));else{if(!r.instance.ngDoBootstrap)throw new hn(-403,!1);r.instance.ngDoBootstrap(i)}this._modules.push(r)}onDestroy(r){this._destroyListeners.push(r)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new hn(404,!1);this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i());const r=this._injector.get(eT,null);r&&(r.forEach(i=>i()),r.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return(t=e).\u0275fac=function(r){return new(r||t)(Ln(Nn))},t.\u0275prov=Cn({token:t,factory:t.\u0275fac,providedIn:"platform"}),e})(),fg=null;const NM=new Un("");function MM(t,e,n=[]){const r=`Platform: ${e}`,i=new Un(r);return(o=[])=>{let s=tT();if(!s||s.injector.get(NM,!1)){const a=[...n,...o,{provide:i,useValue:!0}];t?t(a):function aJ(t){if(fg&&!fg.get(NM,!1))throw new hn(400,!1);(function TM(){!function yt(t){Ft=t}(()=>{throw new hn(600,!1)})})(),fg=t;const e=t.get(PM);(function OM(t){const e=t.get(ye,null);null==e||e.forEach(n=>n())})(t)}(function LM(t=[],e){return Nn.create({name:e,providers:[{provide:Hn,useValue:"platform"},{provide:eT,useValue:new Set([()=>fg=null])},...t]})}(a,r))}return function lJ(t){const e=tT();if(!e)throw new hn(401,!1);return e}()}}function tT(){var t,e;return null!==(t=null===(e=fg)||void 0===e?void 0:e.get(PM))&&void 0!==t?t:null}let er=(()=>{class e{}return e.__NG_ELEMENT_ID__=cJ,e})();function cJ(t){return function dJ(t,e,n){if(Ul(t)&&!n){const r=Gs(t.index,e);return new Wy(r,r)}return 47&t.type?new Wy(e[si],e):null}(vr(),Qe(),!(16&~t))}class zM{constructor(){}supports(e){return _C(e)}create(e){return new gJ(e)}}const pJ=(t,e)=>e;class gJ{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||pJ}forEachItem(e){let n;for(n=this._itHead;null!==n;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,o=null;for(;n||r;){const s=!r||n&&n.currentIndex<GM(r,i,o)?n:r,a=GM(s,i,o),l=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(n=n._next,null==s.previousIndex)i++;else{o||(o=[]);const u=a-i,m=l-i;if(u!=m){for(let k=0;k<u;k++){const U=k<o.length?o[k]:o[k]=0,Y=U+k;m<=Y&&Y<u&&(o[k]=U+1)}o[s.previousIndex]=m-u}}a!==l&&e(s,a,l)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)e(n)}diff(e){if(null==e&&(e=[]),!_C(e))throw new hn(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,o,s,n=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),null!==n&&Object.is(n.trackById,s)?(r&&(n=this._verifyReinsertion(n,o,s,a)),Object.is(n.item,o)||this._addIdentityChange(n,o)):(n=this._mismatch(n,o,s,a),r=!0),n=n._next}else i=0,function FW(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[Symbol.iterator]();let r;for(;!(r=n.next()).done;)e(r.value)}}(e,a=>{s=this._trackByFn(i,a),null!==n&&Object.is(n.trackById,s)?(r&&(n=this._verifyReinsertion(n,a,s,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)):(n=this._mismatch(n,a,s,i),r=!0),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let o;return null===e?o=this._itTail:(o=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,o,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,o,i)):e=this._addAfter(new mJ(n,r),o,i),e}_verifyReinsertion(e,n,r,i){let o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==o?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const n=e._next;this._addToRemovals(this._unlink(e)),e=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,o=e._nextRemoved;return null===i?this._removalsHead=o:i._nextRemoved=o,null===o?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){const i=null===n?this._itHead:n._next;return e._next=i,e._prev=n,null===i?this._itTail=e:i._prev=e,null===n?this._itHead=e:n._next=e,null===this._linkedRecords&&(this._linkedRecords=new $M),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const n=e._prev,r=e._next;return null===n?this._itHead=r:n._next=r,null===r?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new $M),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class mJ{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class vJ{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===n||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const n=e._prevDup,r=e._nextDup;return null===n?this._head=r:n._nextDup=r,null===r?this._tail=n:r._prevDup=n,null===this._head}}class $M{constructor(){this.map=new Map}put(e){const n=e.trackById;let r=this.map.get(n);r||(r=new vJ,this.map.set(n,r)),r.add(e)}get(e,n){const i=this.map.get(e);return i?i.get(e,n):null}remove(e){const n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function GM(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}function KM(){return new sT([new zM])}let sT=(()=>{var t;class e{constructor(r){this.factories=r}static create(r,i){if(null!=i){const o=i.factories.slice();r=r.concat(o)}return new e(r)}static extend(r){return{provide:e,useFactory:i=>e.create(r,i||KM()),deps:[[e,new ts,new Uo]]}}find(r){const i=this.factories.find(o=>o.supports(r));if(null!=i)return i;throw new hn(901,!1)}}return(t=e).\u0275prov=Cn({token:t,providedIn:"root",factory:KM}),e})();const bJ=MM(null,"core",[]);let IJ=(()=>{var t;class e{constructor(r){}}return(t=e).\u0275fac=function(r){return new(r||t)(Ln(pp))},t.\u0275mod=xt({type:t}),t.\u0275inj=Yi({}),e})();function Xv(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}function m3(t){const e=Ee(null);try{return t()}finally{Ee(e)}}function v3(t){const e=Ne(t);if(!e)return null;const n=new t_(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}let uT=null;function pg(){return uT}class aZ{}const Vd=new Un("");let cT=(()=>{var t;class e{historyGo(r){throw new Error("")}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Cn({token:t,factory:()=>sn(uZ),providedIn:"platform"}),e})();const lZ=new Un("");let uZ=(()=>{var t;class e extends cT{constructor(){super(),this._doc=sn(Vd),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return pg().getBaseHref(this._doc)}onPopState(r){const i=pg().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",r,!1),()=>i.removeEventListener("popstate",r)}onHashChange(r){const i=pg().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",r,!1),()=>i.removeEventListener("hashchange",r)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(r){this._location.pathname=r}pushState(r,i,o){this._history.pushState(r,i,o)}replaceState(r,i,o){this._history.replaceState(r,i,o)}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Cn({token:t,factory:()=>new t,providedIn:"platform"}),e})();function dT(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function y3(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function mp(t){return t&&"?"!==t[0]?"?"+t:t}let Df=(()=>{var t;class e{historyGo(r){throw new Error("")}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Cn({token:t,factory:()=>sn(w3),providedIn:"root"}),e})();const _3=new Un("");let w3=(()=>{var t;class e extends Df{constructor(r,i){var o,s,a;super(),this._platformLocation=r,this._removeListenerFns=[],this._baseHref=null!==(o=null!==(s=null!=i?i:this._platformLocation.getBaseHrefFromDOM())&&void 0!==s?s:null===(a=sn(Vd).location)||void 0===a?void 0:a.origin)&&void 0!==o?o:""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}prepareExternalUrl(r){return dT(this._baseHref,r)}path(r=!1){const i=this._platformLocation.pathname+mp(this._platformLocation.search),o=this._platformLocation.hash;return o&&r?`${i}${o}`:i}pushState(r,i,o,s){const a=this.prepareExternalUrl(o+mp(s));this._platformLocation.pushState(r,i,a)}replaceState(r,i,o,s){const a=this.prepareExternalUrl(o+mp(s));this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){var i,o;null===(i=(o=this._platformLocation).historyGo)||void 0===i||i.call(o,r)}}return(t=e).\u0275fac=function(r){return new(r||t)(Ln(cT),Ln(_3,8))},t.\u0275prov=Cn({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),C3=(()=>{var t;class e extends Df{constructor(r,i){super(),this._platformLocation=r,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}path(r=!1){var i;const o=null!==(i=this._platformLocation.hash)&&void 0!==i?i:"#";return o.length>0?o.substring(1):o}prepareExternalUrl(r){const i=dT(this._baseHref,r);return i.length>0?"#"+i:i}pushState(r,i,o,s){let a=this.prepareExternalUrl(o+mp(s));0==a.length&&(a=this._platformLocation.pathname),this._platformLocation.pushState(r,i,a)}replaceState(r,i,o,s){let a=this.prepareExternalUrl(o+mp(s));0==a.length&&(a=this._platformLocation.pathname),this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){var i,o;null===(i=(o=this._platformLocation).historyGo)||void 0===i||i.call(o,r)}}return(t=e).\u0275fac=function(r){return new(r||t)(Ln(cT),Ln(_3,8))},t.\u0275prov=Cn({token:t,factory:t.\u0275fac}),e})(),Vh=(()=>{var t;class e{constructor(r){this._subject=new X,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=r;const i=this._locationStrategy.getBaseHref();this._basePath=function AZ(t){if(new RegExp("^(https?:)?//").test(t)){const[,n]=t.split(/\/\/[^\/]+/);return n}return t}(y3(b3(i))),this._locationStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){var r;null===(r=this._urlChangeSubscription)||void 0===r||r.unsubscribe(),this._urlChangeListeners=[]}path(r=!1){return this.normalize(this._locationStrategy.path(r))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(r,i=""){return this.path()==this.normalize(r+mp(i))}normalize(r){return e.stripTrailingSlash(function dZ(t,e){if(!t||!e.startsWith(t))return e;const n=e.substring(t.length);return""===n||["/",";","?","#"].includes(n[0])?n:e}(this._basePath,b3(r)))}prepareExternalUrl(r){return r&&"/"!==r[0]&&(r="/"+r),this._locationStrategy.prepareExternalUrl(r)}go(r,i="",o=null){this._locationStrategy.pushState(o,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+mp(i)),o)}replaceState(r,i="",o=null){this._locationStrategy.replaceState(o,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+mp(i)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(r=0){var i,o;null===(i=(o=this._locationStrategy).historyGo)||void 0===i||i.call(o,r)}onUrlChange(r){var i;return this._urlChangeListeners.push(r),null!==(i=this._urlChangeSubscription)&&void 0!==i||(this._urlChangeSubscription=this.subscribe(o=>{this._notifyUrlChangeListeners(o.url,o.state)})),()=>{const o=this._urlChangeListeners.indexOf(r);var s;this._urlChangeListeners.splice(o,1),0===this._urlChangeListeners.length&&(null===(s=this._urlChangeSubscription)||void 0===s||s.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(r="",i){this._urlChangeListeners.forEach(o=>o(r,i))}subscribe(r,i,o){return this._subject.subscribe({next:r,error:i,complete:o})}}return(t=e).normalizeQueryParams=mp,t.joinWithSlash=dT,t.stripTrailingSlash=y3,t.\u0275fac=function(r){return new(r||t)(Ln(Df))},t.\u0275prov=Cn({token:t,factory:()=>function cZ(){return new Vh(Ln(Df))}(),providedIn:"root"}),e})();function b3(t){return t.replace(/\/index.html$/,"")}var qC=function(t){return t[t.Decimal=0]="Decimal",t[t.Percent=1]="Percent",t[t.Currency=2]="Currency",t[t.Scientific=3]="Scientific",t}(qC||{});const Rl={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function ah(t,e){const n=nd(t),r=n[Ws.NumberSymbols][e];if(typeof r>"u"){if(e===Rl.CurrencyDecimal)return n[Ws.NumberSymbols][Rl.Decimal];if(e===Rl.CurrencyGroup)return n[Ws.NumberSymbols][Rl.Group]}return r}const UZ=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function yT(t){const e=parseInt(t);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+t);return e}class ZZ{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let bA=(()=>{var t;class e{set ngForOf(r){this._ngForOf=r,this._ngForOfDirty=!0}set ngForTrackBy(r){this._trackByFn=r}get ngForTrackBy(){return this._trackByFn}constructor(r,i,o){this._viewContainer=r,this._template=i,this._differs=o,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(r){r&&(this._template=r)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const r=this._ngForOf;!this._differ&&r&&(this._differ=this._differs.find(r).create(this.ngForTrackBy))}if(this._differ){const r=this._differ.diff(this._ngForOf);r&&this._applyChanges(r)}}_applyChanges(r){const i=this._viewContainer;r.forEachOperation((o,s,a)=>{if(null==o.previousIndex)i.createEmbeddedView(this._template,new ZZ(o.item,this._ngForOf,-1,-1),null===a?void 0:a);else if(null==a)i.remove(null===s?void 0:s);else if(null!==s){const l=i.get(s);i.move(l,a),P3(l,o)}});for(let o=0,s=i.length;o<s;o++){const l=i.get(o).context;l.index=o,l.count=s,l.ngForOf=this._ngForOf}r.forEachIdentityChange(o=>{P3(i.get(o.currentIndex),o)})}static ngTemplateContextGuard(r,i){return!0}}return(t=e).\u0275fac=function(r){return new(r||t)(q(oh),q(Mh),q(sT))},t.\u0275dir=St({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),e})();function P3(t,e){t.context.$implicit=e.item}let gg=(()=>{var t;class e{constructor(r,i){this._viewContainer=r,this._context=new eee,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(r){this._context.$implicit=this._context.ngIf=r,this._updateView()}set ngIfThen(r){N3("ngIfThen",r),this._thenTemplateRef=r,this._thenViewRef=null,this._updateView()}set ngIfElse(r){N3("ngIfElse",r),this._elseTemplateRef=r,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(r,i){return!0}}return(t=e).\u0275fac=function(r){return new(r||t)(q(oh),q(Mh))},t.\u0275dir=St({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),e})();class eee{constructor(){this.$implicit=null,this.ngIf=null}}function N3(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${Gr(e)}'.`)}function Hh(t,e){return new hn(2100,!1)}class see{createSubscription(e,n){return m3(()=>e.subscribe({next:n,error:r=>{throw r}}))}dispose(e){m3(()=>e.unsubscribe())}}class aee{createSubscription(e,n){return e.then(n,r=>{throw r})}dispose(e){}}const lee=new aee,uee=new see;let _m=(()=>{var t;class e{constructor(r){this._latestValue=null,this.markForCheckOnValueUpdate=!0,this._subscription=null,this._obj=null,this._strategy=null,this._ref=r}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(r){if(!this._obj){if(r)try{this.markForCheckOnValueUpdate=!1,this._subscribe(r)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return r!==this._obj?(this._dispose(),this.transform(r)):this._latestValue}_subscribe(r){this._obj=r,this._strategy=this._selectStrategy(r),this._subscription=this._strategy.createSubscription(r,i=>this._updateLatestValue(r,i))}_selectStrategy(r){if(__(r))return lee;if(SM(r))return uee;throw Hh()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(r,i){var o;r===this._obj&&(this._latestValue=i,this.markForCheckOnValueUpdate)&&(null===(o=this._ref)||void 0===o||o.markForCheck())}}return(t=e).\u0275fac=function(r){return new(r||t)(q(er,16))},t.\u0275pipe=Bt({name:"async",type:t,pure:!1,standalone:!0}),e})(),ET=(()=>{var t;class e{constructor(r){this._locale=r}transform(r,i,o){if(!function ST(t){return!(null==t||""===t||t!=t)}(r))return null;o||(o=this._locale);try{return function $Z(t,e,n){return function mT(t,e,n,r,i,o,s=!1){let a="",l=!1;if(isFinite(t)){let u=function WZ(t){let r,i,o,s,a,e=Math.abs(t)+"",n=0;for((i=e.indexOf("."))>-1&&(e=e.replace(".","")),(o=e.search(/e/i))>0?(i<0&&(i=o),i+=+e.slice(o+1),e=e.substring(0,o)):i<0&&(i=e.length),o=0;"0"===e.charAt(o);o++);if(o===(a=e.length))r=[0],i=1;else{for(a--;"0"===e.charAt(a);)a--;for(i-=o,r=[],s=0;o<=a;o++,s++)r[s]=Number(e.charAt(o))}return i>22&&(r=r.splice(0,21),n=i-1,i=1),{digits:r,exponent:n,integerLen:i}}(t);s&&(u=function GZ(t){if(0===t.digits[0])return t;const e=t.digits.length-t.integerLen;return t.exponent?t.exponent+=2:(0===e?t.digits.push(0,0):1===e&&t.digits.push(0),t.integerLen+=2),t}(u));let m=e.minInt,I=e.minFrac,k=e.maxFrac;if(o){const at=o.match(UZ);if(null===at)throw new Error(`${o} is not a valid digit info`);const Lt=at[1],Yt=at[3],kn=at[5];null!=Lt&&(m=yT(Lt)),null!=Yt&&(I=yT(Yt)),null!=kn?k=yT(kn):null!=Yt&&I>k&&(k=I)}!function KZ(t,e,n){if(e>n)throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${n}).`);let r=t.digits,i=r.length-t.integerLen;const o=Math.min(Math.max(e,i),n);let s=o+t.integerLen,a=r[s];if(s>0){r.splice(Math.max(t.integerLen,s));for(let I=s;I<r.length;I++)r[I]=0}else{i=Math.max(0,i),t.integerLen=1,r.length=Math.max(1,s=o+1),r[0]=0;for(let I=1;I<s;I++)r[I]=0}if(a>=5)if(s-1<0){for(let I=0;I>s;I--)r.unshift(0),t.integerLen++;r.unshift(1),t.integerLen++}else r[s-1]++;for(;i<Math.max(0,o);i++)r.push(0);let l=0!==o;const u=e+t.integerLen,m=r.reduceRight(function(I,k,U,Y){return Y[U]=(k+=I)<10?k:k-10,l&&(0===Y[U]&&U>=u?Y.pop():l=!1),k>=10?1:0},0);m&&(r.unshift(m),t.integerLen++)}(u,I,k);let U=u.digits,Y=u.integerLen;const ve=u.exponent;let xe=[];for(l=U.every(at=>!at);Y<m;Y++)U.unshift(0);for(;Y<0;Y++)U.unshift(0);Y>0?xe=U.splice(Y,U.length):(xe=U,U=[0]);const st=[];for(U.length>=e.lgSize&&st.unshift(U.splice(-e.lgSize,U.length).join(""));U.length>e.gSize;)st.unshift(U.splice(-e.gSize,U.length).join(""));U.length&&st.unshift(U.join("")),a=st.join(ah(n,r)),xe.length&&(a+=ah(n,i)+xe.join("")),ve&&(a+=ah(n,Rl.Exponential)+"+"+ve)}else a=ah(n,Rl.Infinity);return a=t<0&&!l?e.negPre+a+e.negSuf:e.posPre+a+e.posSuf,a}(t,function vT(t,e="-"){const n={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=t.split(";"),i=r[0],o=r[1],s=-1!==i.indexOf(".")?i.split("."):[i.substring(0,i.lastIndexOf("0")+1),i.substring(i.lastIndexOf("0")+1)],a=s[0],l=s[1]||"";n.posPre=a.substring(0,a.indexOf("#"));for(let m=0;m<l.length;m++){const I=l.charAt(m);"0"===I?n.minFrac=n.maxFrac=m+1:"#"===I?n.maxFrac=m+1:n.posSuf+=I}const u=a.split(",");if(n.gSize=u[1]?u[1].length:0,n.lgSize=u[2]||u[1]?(u[2]||u[1]).length:0,o){const m=i.length-n.posPre.length-n.posSuf.length,I=o.indexOf("#");n.negPre=o.substring(0,I).replace(/'/g,""),n.negSuf=o.slice(I+m).replace(/'/g,"")}else n.negPre=e+n.posPre,n.negSuf=n.posSuf;return n}(function AT(t,e){return nd(t)[Ws.NumberFormats][e]}(e,qC.Decimal),ah(e,Rl.MinusSign)),e,Rl.Group,Rl.Decimal,n)}(function TT(t){if("string"==typeof t&&!isNaN(Number(t)-parseFloat(t)))return Number(t);if("number"!=typeof t)throw new Error(`${t} is not a number`);return t}(r),o,i)}catch(s){throw Hh()}}}return(t=e).\u0275fac=function(r){return new(r||t)(q(gp,16))},t.\u0275pipe=Bt({name:"number",type:t,pure:!0,standalone:!0}),e})();let BT=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=xt({type:t}),t.\u0275inj=Yi({}),e})();const O3="browser";function ob(t){return"server"===t}let xee=(()=>{var t;class e{}return(t=e).\u0275prov=Cn({token:t,providedIn:"root",factory:()=>function Dee(t){return t===O3}(sn(Se))?new Fee(sn(Vd),window):new Ree}),e})();class Fee{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){const n=function kee(t,e){const n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if("function"==typeof t.createTreeWalker&&t.body&&"function"==typeof t.body.attachShadow){const r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const o=i.shadowRoot;if(o){const s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}i=r.nextNode()}}return null}(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){const n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}}class Ree{setOffset(e){}getScrollPosition(){return[0,0]}scrollToPosition(e){}scrollToAnchor(e){}setHistoryScrollRestoration(e){}}class lte extends aZ{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class xT extends lte{static makeCurrent(){!function sZ(t){var e;null!==(e=uT)&&void 0!==e||(uT=t)}(new xT)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return(n=n||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return"window"===n?window:"document"===n?e:"body"===n?e.body:null}getBaseHref(e){const n=function ute(){return B_=B_||document.querySelector("base"),B_?B_.getAttribute("href"):null}();return null==n?null:function cte(t){return new URL(t,document.baseURI).pathname}(n)}resetBaseElement(){B_=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function YZ(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const r=n.indexOf("="),[i,o]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}(document.cookie,e)}}let B_=null,Ate=(()=>{var t;class e{build(){return new XMLHttpRequest}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Cn({token:t,factory:t.\u0275fac}),e})();const FT=new Un("");let W3=(()=>{var t;class e{constructor(r,i){this._zone=i,this._eventNameToPlugin=new Map,r.forEach(o=>{o.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,i,o){return this._findPluginFor(i).addEventListener(r,i,o)}getZone(){return this._zone}_findPluginFor(r){let i=this._eventNameToPlugin.get(r);if(i)return i;if(i=this._plugins.find(s=>s.supports(r)),!i)throw new hn(5101,!1);return this._eventNameToPlugin.set(r,i),i}}return(t=e).\u0275fac=function(r){return new(r||t)(Ln(FT),Ln(In))},t.\u0275prov=Cn({token:t,factory:t.\u0275fac}),e})();class K3{constructor(e){this._doc=e}}const kT="ng-app-id";let q3=(()=>{var t;class e{constructor(r,i,o,s={}){this.doc=r,this.appId=i,this.nonce=o,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=ob(s),this.resetHostNodes()}addStyles(r){for(const i of r)1===this.changeUsageCount(i,1)&&this.onStyleAdded(i)}removeStyles(r){for(const i of r)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){const r=this.styleNodesInDOM;r&&(r.forEach(i=>i.remove()),r.clear());for(const i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(r){this.hostNodes.add(r);for(const i of this.getAllStyles())this.addStyleToHost(r,i)}removeHost(r){this.hostNodes.delete(r)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(r){for(const i of this.hostNodes)this.addStyleToHost(i,r)}onStyleRemoved(r){var i;const o=this.styleRef;null===(i=o.get(r))||void 0===i||null===(i=i.elements)||void 0===i||i.forEach(s=>s.remove()),o.delete(r)}collectServerRenderedStyles(){var r;const i=null===(r=this.doc.head)||void 0===r?void 0:r.querySelectorAll(`style[${kT}="${this.appId}"]`);if(null!=i&&i.length){const o=new Map;return i.forEach(s=>{null!=s.textContent&&o.set(s.textContent,s)}),o}return null}changeUsageCount(r,i){const o=this.styleRef;if(o.has(r)){const s=o.get(r);return s.usage+=i,s.usage}return o.set(r,{usage:i,elements:[]}),i}getStyleElement(r,i){const o=this.styleNodesInDOM,s=null==o?void 0:o.get(i);if((null==s?void 0:s.parentNode)===r)return o.delete(i),s.removeAttribute(kT),s;{const a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=i,this.platformIsServer&&a.setAttribute(kT,this.appId),r.appendChild(a),a}}addStyleToHost(r,i){var o;const s=this.getStyleElement(r,i),a=this.styleRef,l=null===(o=a.get(i))||void 0===o?void 0:o.elements;l?l.push(s):a.set(i,{elements:[s],usage:1})}resetHostNodes(){const r=this.hostNodes;r.clear(),r.add(this.doc.head)}}return(t=e).\u0275fac=function(r){return new(r||t)(Ln(Vd),Ln($),Ln(qt,8),Ln(Se))},t.\u0275prov=Cn({token:t,factory:t.\u0275fac}),e})();const RT={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},PT=/%COMP%/g,gte=new Un("",{providedIn:"root",factory:()=>!0});function X3(t,e){return e.map(n=>n.replace(PT,t))}let J3=(()=>{var t;class e{constructor(r,i,o,s,a,l,u,m=null){this.eventManager=r,this.sharedStylesHost=i,this.appId=o,this.removeStylesOnCompDestroy=s,this.doc=a,this.platformId=l,this.ngZone=u,this.nonce=m,this.rendererByCompId=new Map,this.platformIsServer=ob(l),this.defaultRenderer=new NT(r,a,u,this.platformIsServer)}createRenderer(r,i){if(!r||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===bl.ShadowDom&&(i={...i,encapsulation:bl.Emulated});const o=this.getOrCreateRenderer(r,i);return o instanceof eL?o.applyToHost(r):o instanceof MT&&o.applyStyles(),o}getOrCreateRenderer(r,i){const o=this.rendererByCompId;let s=o.get(i.id);if(!s){const a=this.doc,l=this.ngZone,u=this.eventManager,m=this.sharedStylesHost,I=this.removeStylesOnCompDestroy,k=this.platformIsServer;switch(i.encapsulation){case bl.Emulated:s=new eL(u,m,i,this.appId,I,a,l,k);break;case bl.ShadowDom:return new _te(u,m,r,i,a,l,this.nonce,k);default:s=new MT(u,m,i,I,a,l,k)}o.set(i.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}}return(t=e).\u0275fac=function(r){return new(r||t)(Ln(W3),Ln(q3),Ln($),Ln(gte),Ln(Vd),Ln(Se),Ln(In),Ln(qt))},t.\u0275prov=Cn({token:t,factory:t.\u0275fac}),e})();class NT{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(RT[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(Z3(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(Z3(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r="string"==typeof e?this.doc.querySelector(e):e;if(!r)throw new hn(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;const o=RT[i];o?e.setAttributeNS(o,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){const i=RT[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(ag.DashCase|ag.Important)?e.style.setProperty(n,r,i&ag.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&ag.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){null!=e&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if("string"==typeof e&&!(e=pg().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if("__ngUnwrap__"===n)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))&&n.preventDefault()}}}function Z3(t){return"TEMPLATE"===t.tagName&&void 0!==t.content}class _te extends NT{constructor(e,n,r,i,o,s,a,l){super(e,o,s,l),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const u=X3(i.id,i.styles);for(const m of u){const I=document.createElement("style");a&&I.setAttribute("nonce",a),I.textContent=m,this.shadowRoot.appendChild(I)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class MT extends NT{constructor(e,n,r,i,o,s,a,l){super(e,o,s,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=l?X3(l,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class eL extends MT{constructor(e,n,r,i,o,s,a,l){const u=i+"-"+r.id;super(e,n,r,o,s,a,l,u),this.contentAttr=function mte(t){return"_ngcontent-%COMP%".replace(PT,t)}(u),this.hostAttr=function vte(t){return"_nghost-%COMP%".replace(PT,t)}(u)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){const r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}}let wte=(()=>{var t;class e extends K3{constructor(r){super(r)}supports(r){return!0}addEventListener(r,i,o){return r.addEventListener(i,o,!1),()=>this.removeEventListener(r,i,o)}removeEventListener(r,i,o){return r.removeEventListener(i,o)}}return(t=e).\u0275fac=function(r){return new(r||t)(Ln(Vd))},t.\u0275prov=Cn({token:t,factory:t.\u0275fac}),e})();const tL=["alt","control","meta","shift"],Cte={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},bte={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let Ite=(()=>{var t;class e extends K3{constructor(r){super(r)}supports(r){return null!=e.parseEventName(r)}addEventListener(r,i,o){const s=e.parseEventName(i),a=e.eventCallback(s.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>pg().onAndCancel(r,s.domEventName,a))}static parseEventName(r){const i=r.toLowerCase().split("."),o=i.shift();if(0===i.length||"keydown"!==o&&"keyup"!==o)return null;const s=e._normalizeKey(i.pop());let a="",l=i.indexOf("code");if(l>-1&&(i.splice(l,1),a="code."),tL.forEach(m=>{const I=i.indexOf(m);I>-1&&(i.splice(I,1),a+=m+".")}),a+=s,0!=i.length||0===s.length)return null;const u={};return u.domEventName=o,u.fullKey=a,u}static matchEventFullKeyCode(r,i){let o=Cte[r.key]||r.key,s="";return i.indexOf("code.")>-1&&(o=r.code,s="code."),!(null==o||!o)&&(o=o.toLowerCase()," "===o?o="space":"."===o&&(o="dot"),tL.forEach(a=>{a!==o&&(0,bte[a])(r)&&(s+=a+".")}),s+=o,s===i)}static eventCallback(r,i,o){return s=>{e.matchEventFullKeyCode(s,r)&&o.runGuarded(()=>i(s))}}static _normalizeKey(r){return"esc"===r?"escape":r}}return(t=e).\u0275fac=function(r){return new(r||t)(Ln(Vd))},t.\u0275prov=Cn({token:t,factory:t.\u0275fac}),e})();const rL=[{provide:Se,useValue:O3},{provide:ye,useValue:function Ete(){xT.makeCurrent()},multi:!0},{provide:Vd,useFactory:function Tte(){return function O(t){F=t}(document),document},deps:[]}],Bte=MM(bJ,"browser",rL),Dte=new Un(""),iL=[{provide:OC,useClass:class dte{addToWindow(e){ar.getAngularTestability=(r,i=!0)=>{const o=e.findTestabilityInTree(r,i);if(null==o)throw new hn(5103,!1);return o},ar.getAllAngularTestabilities=()=>e.getAllTestabilities(),ar.getAllAngularRootElements=()=>e.getAllRootElements(),ar.frameworkStabilizers||(ar.frameworkStabilizers=[]),ar.frameworkStabilizers.push(r=>{const i=ar.getAllAngularTestabilities();let o=i.length;const s=function(){o--,0==o&&r()};i.forEach(a=>{a.whenStable(s)})})}findTestabilityInTree(e,n,r){if(null==n)return null;const i=e.getTestability(n);return null!=i?i:r?pg().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null}},deps:[]},{provide:EM,useClass:KS,deps:[In,qS,OC]},{provide:KS,useClass:KS,deps:[In,qS,OC]}],oL=[{provide:Hn,useValue:"root"},{provide:Dl,useFactory:function Ste(){return new Dl},deps:[]},{provide:FT,useClass:wte,multi:!0,deps:[Vd,In,Se]},{provide:FT,useClass:Ite,multi:!0,deps:[Vd]},J3,q3,W3,{provide:qR,useExisting:J3},{provide:class Pee{},useClass:Ate,deps:[]},[]];let xte=(()=>{var t;class e{constructor(r){}static withServerTransition(r){return{ngModule:e,providers:[{provide:$,useValue:r.appId}]}}}return(t=e).\u0275fac=function(r){return new(r||t)(Ln(Dte,12))},t.\u0275mod=xt({type:t}),t.\u0275inj=Yi({providers:[...oL,...iL],imports:[BT,IJ]}),e})(),Fte=(()=>{var t;class e{constructor(r){this._doc=r}getTitle(){return this._doc.title}setTitle(r){this._doc.title=r||""}}return(t=e).\u0275fac=function(r){return new(r||t)(Ln(Vd))},t.\u0275prov=Cn({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();var rr=wt(1635);const LT=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function uL(t){return sr(null==t?void 0:t.then)}function cL(t){return sr(t[Pa])}function dL(t){return Symbol.asyncIterator&&sr(null==t?void 0:t[Symbol.asyncIterator])}function AL(t){return new TypeError(`You provided ${null!==t&&"object"==typeof t?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const hL=function Nte(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function fL(t){return sr(null==t?void 0:t[hL])}function pL(t){return(0,rr.AQ)(this,arguments,function*(){const n=t.getReader();try{for(;;){const{value:r,done:i}=yield(0,rr.N3)(n.read());if(i)return yield(0,rr.N3)(void 0);yield yield(0,rr.N3)(r)}}finally{n.releaseLock()}})}function gL(t){return sr(null==t?void 0:t.getReader)}function Qd(t){if(t instanceof ro)return t;if(null!=t){if(cL(t))return function Mte(t){return new ro(e=>{const n=t[Pa]();if(sr(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(t);if(LT(t))return function Lte(t){return new ro(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}(t);if(uL(t))return function Ote(t){return new ro(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,xi)})}(t);if(dL(t))return mL(t);if(fL(t))return function Ute(t){return new ro(e=>{for(const n of t)if(e.next(n),e.closed)return;e.complete()})}(t);if(gL(t))return function Vte(t){return mL(pL(t))}(t)}throw AL(t)}function mL(t){return new ro(e=>{(function Qte(t,e){var n,r,i,o;return(0,rr.sH)(this,void 0,void 0,function*(){try{for(n=(0,rr.xN)(t);!(r=yield n.next()).done;)if(e.next(r.value),e.closed)return}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}e.complete()})})(t,e).catch(n=>e.error(n))})}function _p(t,e,n,r=0,i=!1){const o=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}function wm(t,e=0){return qn((n,r)=>{n.subscribe($r(r,i=>_p(r,t,()=>r.next(i),e),()=>_p(r,t,()=>r.complete(),e),i=>_p(r,t,()=>r.error(i),e)))})}function Zv(t,e=0){return qn((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function vL(t,e){if(!t)throw new Error("Iterable cannot be null");return new ro(n=>{_p(n,e,()=>{const r=t[Symbol.asyncIterator]();_p(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function aa(t,e){return e?function Wte(t,e){if(null!=t){if(cL(t))return function Hte(t,e){return Qd(t).pipe(Zv(e),wm(e))}(t,e);if(LT(t))return function zte(t,e){return new ro(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}(t,e);if(uL(t))return function jte(t,e){return Qd(t).pipe(Zv(e),wm(e))}(t,e);if(dL(t))return vL(t,e);if(fL(t))return function $te(t,e){return new ro(n=>{let r;return _p(n,e,()=>{r=t[hL](),_p(n,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){return void n.error(s)}o?n.complete():n.next(i)},0,!0)}),()=>sr(null==r?void 0:r.return)&&r.return()})}(t,e);if(gL(t))return function Gte(t,e){return vL(pL(t),e)}(t,e)}throw AL(t)}(t,e):Qd(t)}const{isArray:Kte}=Array,{getPrototypeOf:qte,prototype:Yte,keys:Xte}=Object;function yL(t){if(1===t.length){const e=t[0];if(Kte(e))return{args:e,keys:null};if(function Jte(t){return t&&"object"==typeof t&&qte(t)===Yte}(e)){const n=Xte(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function OT(t){return t[t.length-1]}function _L(t){return sr(OT(t))?t.pop():void 0}function x_(t){return function Zte(t){return t&&sr(t.schedule)}(OT(t))?t.pop():void 0}const{isArray:tne}=Array;function UT(t){return Nr(e=>function nne(t,e){return tne(e)?t(...e):t(e)}(t,e))}function wL(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}let CL=(()=>{var t;class e{constructor(r,i){this._renderer=r,this._elementRef=i,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(r,i){this._renderer.setProperty(this._elementRef.nativeElement,r,i)}registerOnTouched(r){this.onTouched=r}registerOnChange(r){this.onChange=r}setDisabledState(r){this.setProperty("disabled",r)}}return(t=e).\u0275fac=function(r){return new(r||t)(q(fp),q(f))},t.\u0275dir=St({type:t}),e})(),Cm=(()=>{var t;class e extends CL{}return(t=e).\u0275fac=(()=>{let n;return function(i){return(n||(n=zo(t)))(i||t)}})(),t.\u0275dir=St({type:t,features:[ji]}),e})();const sd=new Un(""),one={provide:sd,useExisting:Si(()=>e0),multi:!0},ane=new Un("");let e0=(()=>{var t;class e extends CL{constructor(r,i,o){super(r,i),this._compositionMode=o,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function sne(){const t=pg()?pg().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(r){this.setProperty("value",null==r?"":r)}_handleInput(r){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(r)}_compositionStart(){this._composing=!0}_compositionEnd(r){this._composing=!1,this._compositionMode&&this.onChange(r)}}return(t=e).\u0275fac=function(r){return new(r||t)(q(fp),q(f),q(ane,8))},t.\u0275dir=St({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){1&r&&Sn("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},features:[ps([one]),ji]}),e})();function mg(t){return null==t||("string"==typeof t||Array.isArray(t))&&0===t.length}const Eu=new Un(""),vg=new Un("");function lb(t){return null}function RL(t){return null!=t}function PL(t){return __(t)?aa(t):t}function NL(t){let e={};return t.forEach(n=>{e=null!=n?{...e,...n}:e}),0===Object.keys(e).length?null:e}function ML(t,e){return e.map(n=>n(t))}function LL(t){return t.map(e=>function une(t){return!t.validate}(e)?e:n=>e.validate(n))}function VT(t){return null!=t?function OL(t){if(!t)return null;const e=t.filter(RL);return 0==e.length?null:function(n){return NL(ML(n,e))}}(LL(t)):null}function QT(t){return null!=t?function UL(t){if(!t)return null;const e=t.filter(RL);return 0==e.length?null:function(n){return function rne(...t){const e=_L(t),{args:n,keys:r}=yL(t),i=new ro(o=>{const{length:s}=n;if(!s)return void o.complete();const a=new Array(s);let l=s,u=s;for(let m=0;m<s;m++){let I=!1;Qd(n[m]).subscribe($r(o,k=>{I||(I=!0,u--),a[m]=k},()=>l--,void 0,()=>{(!l||!I)&&(u||o.next(r?wL(r,a):a),o.complete())}))}});return e?i.pipe(UT(e)):i}(ML(n,e).map(PL)).pipe(Nr(NL))}}(LL(t)):null}function VL(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}function HT(t){return t?Array.isArray(t)?t:[t]:[]}function ub(t,e){return Array.isArray(t)?t.includes(e):t===e}function jL(t,e){const n=HT(e);return HT(t).forEach(i=>{ub(n,i)||n.push(i)}),n}function zL(t,e){return HT(e).filter(n=>!ub(t,n))}class $L{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=VT(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=QT(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return!!this.control&&this.control.hasError(e,n)}getError(e,n){return this.control?this.control.getError(e,n):null}}class ad extends $L{get formDirective(){return null}get path(){return null}}class wp extends $L{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class GL{constructor(e){this._cd=e}get isTouched(){var e;return!(null===(e=this._cd)||void 0===e||null===(e=e.control)||void 0===e||!e.touched)}get isUntouched(){var e;return!(null===(e=this._cd)||void 0===e||null===(e=e.control)||void 0===e||!e.untouched)}get isPristine(){var e;return!(null===(e=this._cd)||void 0===e||null===(e=e.control)||void 0===e||!e.pristine)}get isDirty(){var e;return!(null===(e=this._cd)||void 0===e||null===(e=e.control)||void 0===e||!e.dirty)}get isValid(){var e;return!(null===(e=this._cd)||void 0===e||null===(e=e.control)||void 0===e||!e.valid)}get isInvalid(){var e;return!(null===(e=this._cd)||void 0===e||null===(e=e.control)||void 0===e||!e.invalid)}get isPending(){var e;return!(null===(e=this._cd)||void 0===e||null===(e=e.control)||void 0===e||!e.pending)}get isSubmitted(){var e;return!(null===(e=this._cd)||void 0===e||!e.submitted)}}let cb=(()=>{var t;class e extends GL{constructor(r){super(r)}}return(t=e).\u0275fac=function(r){return new(r||t)(q(wp,2))},t.\u0275dir=St({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){2&r&&BC("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[ji]}),e})();const F_="VALID",Ab="INVALID",t0="PENDING",k_="DISABLED";function hb(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class WT{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===F_}get invalid(){return this.status===Ab}get pending(){return this.status==t0}get disabled(){return this.status===k_}get enabled(){return this.status!==k_}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(jL(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(jL(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(zL(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(zL(e,this._rawAsyncValidators))}hasValidator(e){return ub(this._rawValidators,e)}hasAsyncValidator(e){return ub(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=t0,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=k_,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=F_,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===F_||this.status===t0)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?k_:F_}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=t0,this._hasOwnPendingAsyncValidator=!0;const n=PL(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(!1!==n.emitEvent)}get(e){let n=e;return null==n||(Array.isArray(n)||(n=n.split(".")),0===n.length)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){const r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new X,this.statusChanges=new X}_calculateStatus(){return this._allControlsDisabled()?k_:this.errors?Ab:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(t0)?t0:this._anyControlsHaveStatus(Ab)?Ab:F_}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){hb(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function fne(t){return Array.isArray(t)?VT(t):t||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function pne(t){return Array.isArray(t)?QT(t):t||null}(this._rawAsyncValidators)}}const n0=new Un("CallSetDisabledState",{providedIn:"root",factory:()=>fb}),fb="always";function R_(t,e,n=fb){var r,i;(function qT(t,e){const n=function QL(t){return t._rawValidators}(t);null!==e.validator?t.setValidators(VL(n,e.validator)):"function"==typeof n&&t.setValidators([n]);const r=function HL(t){return t._rawAsyncValidators}(t);null!==e.asyncValidator?t.setAsyncValidators(VL(r,e.asyncValidator)):"function"==typeof r&&t.setAsyncValidators([r]);const i=()=>t.updateValueAndValidity();mb(e._rawValidators,i),mb(e._rawAsyncValidators,i)})(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||"always"===n)&&(null===(r=(i=e.valueAccessor).setDisabledState)||void 0===r||r.call(i,t.disabled)),function vne(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&YL(t,e)})}(t,e),function _ne(t,e){const n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}(t,e),function yne(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&YL(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function mne(t,e){if(e.valueAccessor.setDisabledState){const n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}(t,e)}function mb(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function YL(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function ZL(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}function eO(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}Promise.resolve();const tO=class extends WT{constructor(e=null,n,r){super(function $T(t){return(hb(t)?t.validators:t)||null}(n),function GT(t,e){return(hb(e)?e.asyncValidators:t)||null}(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),hb(n)&&(n.nonNullable||n.initialValueIsDefault)&&(this.defaultValue=eO(e)?e.value:e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==n.emitViewToModelChange)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){ZL(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){ZL(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){eO(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},Bne={provide:wp,useExisting:Si(()=>N_)},iO=Promise.resolve();let N_=(()=>{var t;class e extends wp{constructor(r,i,o,s,a,l){super(),this._changeDetectorRef=a,this.callSetDisabledState=l,this.control=new tO,this._registered=!1,this.name="",this.update=new X,this._parent=r,this._setValidators(i),this._setAsyncValidators(o),this.valueAccessor=function JT(t,e){if(!e)return null;let n,r,i;return Array.isArray(e),e.forEach(o=>{o.constructor===e0?n=o:function bne(t){return Object.getPrototypeOf(t.constructor)===Cm}(o)?r=o:i=o}),i||r||n||null}(0,s)}ngOnChanges(r){if(this._checkForErrors(),!this._registered||"name"in r){if(this._registered&&(this._checkName(),this.formDirective)){const i=r.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in r&&this._updateDisabled(r),function XT(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}(r,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(r){this.viewModel=r,this.update.emit(r)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){R_(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(r){iO.then(()=>{var i;this.control.setValue(r,{emitViewToModelChange:!1}),null===(i=this._changeDetectorRef)||void 0===i||i.markForCheck()})}_updateDisabled(r){const i=r.isDisabled.currentValue,o=0!==i&&Xv(i);iO.then(()=>{var s;o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable(),null===(s=this._changeDetectorRef)||void 0===s||s.markForCheck()})}_getPath(r){return this._parent?function pb(t,e){return[...e.path,t]}(r,this._parent):[r]}}return(t=e).\u0275fac=function(r){return new(r||t)(q(ad,9),q(Eu,10),q(vg,10),q(sd,10),q(er,8),q(n0,8))},t.\u0275dir=St({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[Vo.None,"disabled","isDisabled"],model:[Vo.None,"ngModel","model"],options:[Vo.None,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[ps([Bne]),ji,$s]}),e})();const Une={provide:sd,useExisting:Si(()=>yb),multi:!0};function AO(t,e){return null==t?`${e}`:(e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}let yb=(()=>{var t;class e extends Cm{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(r){this._compareWith=r}writeValue(r){this.value=r;const o=AO(this._getOptionId(r),r);this.setProperty("value",o)}registerOnChange(r){this.onChange=i=>{this.value=this._getOptionValue(i),r(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(r){for(const i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i),r))return i;return null}_getOptionValue(r){const i=function Vne(t){return t.split(":")[0]}(r);return this._optionMap.has(i)?this._optionMap.get(i):r}}return(t=e).\u0275fac=(()=>{let n;return function(i){return(n||(n=zo(t)))(i||t)}})(),t.\u0275dir=St({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){1&r&&Sn("change",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[ps([Une]),ji]}),e})(),xf=(()=>{var t;class e{constructor(r,i,o){this._element=r,this._renderer=i,this._select=o,this._select&&(this.id=this._select._registerOption())}set ngValue(r){null!=this._select&&(this._select._optionMap.set(this.id,r),this._setElementValue(AO(this.id,r)),this._select.writeValue(this._select.value))}set value(r){this._setElementValue(r),this._select&&this._select.writeValue(this._select.value)}_setElementValue(r){this._renderer.setProperty(this._element.nativeElement,"value",r)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return(t=e).\u0275fac=function(r){return new(r||t)(q(f),q(fp),q(yb,9))},t.\u0275dir=St({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),e})();const Qne={provide:sd,useExisting:Si(()=>rB),multi:!0};function hO(t,e){return null==t?`${e}`:("string"==typeof e&&(e=`'${e}'`),e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}let rB=(()=>{var t;class e extends Cm{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(r){this._compareWith=r}writeValue(r){let i;if(this.value=r,Array.isArray(r)){const o=r.map(s=>this._getOptionId(s));i=(s,a)=>{s._setSelected(o.indexOf(a.toString())>-1)}}else i=(o,s)=>{o._setSelected(!1)};this._optionMap.forEach(i)}registerOnChange(r){this.onChange=i=>{const o=[],s=i.selectedOptions;if(void 0!==s){const a=s;for(let l=0;l<a.length;l++){const m=this._getOptionValue(a[l].value);o.push(m)}}else{const a=i.options;for(let l=0;l<a.length;l++){const u=a[l];if(u.selected){const m=this._getOptionValue(u.value);o.push(m)}}}this.value=o,r(o)}}_registerOption(r){const i=(this._idCounter++).toString();return this._optionMap.set(i,r),i}_getOptionId(r){for(const i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i)._value,r))return i;return null}_getOptionValue(r){const i=function Hne(t){return t.split(":")[0]}(r);return this._optionMap.has(i)?this._optionMap.get(i)._value:r}}return(t=e).\u0275fac=(()=>{let n;return function(i){return(n||(n=zo(t)))(i||t)}})(),t.\u0275dir=St({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){1&r&&Sn("change",function(s){return i.onChange(s.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[ps([Qne]),ji]}),e})(),Ff=(()=>{var t;class e{constructor(r,i,o){this._element=r,this._renderer=i,this._select=o,this._select&&(this.id=this._select._registerOption(this))}set ngValue(r){null!=this._select&&(this._value=r,this._setElementValue(hO(this.id,r)),this._select.writeValue(this._select.value))}set value(r){this._select?(this._value=r,this._setElementValue(hO(this.id,r)),this._select.writeValue(this._select.value)):this._setElementValue(r)}_setElementValue(r){this._renderer.setProperty(this._element.nativeElement,"value",r)}_setSelected(r){this._renderer.setProperty(this._element.nativeElement,"selected",r)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return(t=e).\u0275fac=function(r){return new(r||t)(q(f),q(fp),q(rB,9))},t.\u0275dir=St({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),e})();function pO(t){return"number"==typeof t?t:parseFloat(t)}let bm=(()=>{var t;class e{constructor(){this._validator=lb}ngOnChanges(r){if(this.inputName in r){const i=this.normalizeInput(r[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):lb,this._onChange&&this._onChange()}}validate(r){return this._validator(r)}registerOnValidatorChange(r){this._onChange=r}enabled(r){return null!=r}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275dir=St({type:t,features:[$s]}),e})();const jne={provide:Eu,useExisting:Si(()=>iB),multi:!0};let iB=(()=>{var t;class e extends bm{constructor(){super(...arguments),this.inputName="max",this.normalizeInput=r=>pO(r),this.createValidator=r=>function SL(t){return e=>{if(mg(e.value)||mg(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}(r)}}return(t=e).\u0275fac=(()=>{let n;return function(i){return(n||(n=zo(t)))(i||t)}})(),t.\u0275dir=St({type:t,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(r,i){2&r&&kl("max",i._enabled?i.max:null)},inputs:{max:"max"},features:[ps([jne]),ji]}),e})();const zne={provide:Eu,useExisting:Si(()=>oB),multi:!0};let oB=(()=>{var t;class e extends bm{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=r=>pO(r),this.createValidator=r=>function EL(t){return e=>{if(mg(e.value)||mg(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}(r)}}return(t=e).\u0275fac=(()=>{let n;return function(i){return(n||(n=zo(t)))(i||t)}})(),t.\u0275dir=St({type:t,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(r,i){2&r&&kl("min",i._enabled?i.min:null)},inputs:{min:"min"},features:[ps([zne]),ji]}),e})(),Xne=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=xt({type:t}),t.\u0275inj=Yi({}),e})(),Zne=(()=>{var t;class e{static withConfig(r){var i;return{ngModule:e,providers:[{provide:n0,useValue:null!==(i=r.callSetDisabledState)&&void 0!==i?i:fb}]}}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=xt({type:t}),t.\u0275inj=Yi({imports:[Xne]}),e})();const wO_firebaseConfig={apiKey:"AIzaSyAipRt_Sm7B4kxudco4oWc6Sbj25BXd5f0",databaseURL:"https://llgrndb-default-rtdb.europe-west1.firebasedatabase.app",authDomain:"llgrndb.firebaseapp.com",projectId:"llgrndb",storageBucket:"llgrndb.appspot.com",messagingSenderId:"62260699036",appId:"1:62260699036:web:669a3d0f1e26ed264bb259",measurementId:"G-JK52G81385"};function hi(...t){return aa(t,x_(t))}function _b(...t){const e=x_(t),n=_L(t),{args:r,keys:i}=yL(t);if(0===r.length)return aa([],e);const o=new ro(function tre(t,e,n=Ro){return r=>{CO(e,()=>{const{length:i}=t,o=new Array(i);let s=i,a=i;for(let l=0;l<i;l++)CO(e,()=>{const u=aa(t[l],e);let m=!1;u.subscribe($r(r,I=>{o[l]=I,m||(m=!0,a--),a||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}(r,e,i?s=>wL(i,s):Ro));return n?o.pipe(UT(n)):o}function CO(t,e,n){t?_p(n,t,e):e()}const wb=Ii(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function Ju(t,e,n=1/0){return sr(e)?Ju((r,i)=>Nr((o,s)=>e(r,o,i,s))(Qd(t(r,i))),n):("number"==typeof e&&(n=e),qn((r,i)=>function nre(t,e,n,r,i,o,s,a){const l=[];let u=0,m=0,I=!1;const k=()=>{I&&!l.length&&!u&&e.complete()},U=ve=>u<r?Y(ve):l.push(ve),Y=ve=>{o&&e.next(ve),u++;let xe=!1;Qd(n(ve,m++)).subscribe($r(e,st=>{null==i||i(st),o?U(st):e.next(st)},()=>{xe=!0},void 0,()=>{if(xe)try{for(u--;l.length&&u<r;){const st=l.shift();s?_p(e,s,()=>Y(st)):Y(st)}k()}catch(st){e.error(st)}}))};return t.subscribe($r(e,U,()=>{I=!0,k()})),()=>{null==a||a()}}(r,i,t,n)))}function r0(t=1/0){return Ju(Ro,t)}function aB(...t){return function rre(){return r0(1)}()(aa(t,x_(t)))}function bO(t){return new ro(e=>{Qd(t()).subscribe(e)})}function Cb(t,e){const n=sr(t)?t:()=>t,r=i=>i.error(n());return new ro(e?i=>e.schedule(r,0,i):r)}const jh=new ro(t=>t.complete());function lB(){return qn((t,e)=>{let n=null;t._refCount++;const r=$r(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount)return void(n=null);const i=t._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}class IO extends ro{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,$n(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,null==e||e.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Qt;const n=this.getSubject();e.add(this.source.subscribe($r(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Qt.EMPTY)}return e}refCount(){return lB()(this)}}function hl(t,e){return qn((n,r)=>{let i=null,o=0,s=!1;const a=()=>s&&!i&&r.complete();n.subscribe($r(r,l=>{null==i||i.unsubscribe();let u=0;const m=o++;Qd(t(l,m)).subscribe(i=$r(r,I=>r.next(e?e(l,I,m,u++):I),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function o0(t){return t<=0?()=>jh:qn((e,n)=>{let r=0;e.subscribe($r(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function bb(...t){const e=x_(t);return qn((n,r)=>{(e?aB(t,n,e):aB(t,n)).subscribe(r)})}function IA(t,e){return qn((n,r)=>{let i=0;n.subscribe($r(r,o=>t.call(e,o,i++)&&r.next(o)))})}function Ib(t){return qn((e,n)=>{let r=!1;e.subscribe($r(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function EO(t=ore){return qn((e,n)=>{let r=!1;e.subscribe($r(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function ore(){return new wb}function yg(t,e){const n=arguments.length>=2;return r=>r.pipe(t?IA((i,o)=>t(i,o,r)):Ro,o0(1),n?Ib(e):EO(()=>new wb))}function M_(t,e){return sr(e)?Ju(t,e,1):Ju(t,1)}function Bc(t,e,n){const r=sr(t)||e||n?{next:t,error:e,complete:n}:t;return r?qn((i,o)=>{var s;null===(s=r.subscribe)||void 0===s||s.call(r);let a=!0;i.subscribe($r(o,l=>{var u;null===(u=r.next)||void 0===u||u.call(r,l),o.next(l)},()=>{var l;a=!1,null===(l=r.complete)||void 0===l||l.call(r),o.complete()},l=>{var u;a=!1,null===(u=r.error)||void 0===u||u.call(r,l),o.error(l)},()=>{var l,u;a&&(null===(l=r.unsubscribe)||void 0===l||l.call(r)),null===(u=r.finalize)||void 0===u||u.call(r)}))}):Ro}function Im(t){return qn((e,n)=>{let o,r=null,i=!1;r=e.subscribe($r(n,void 0,void 0,s=>{o=Qd(t(s,Im(t)(e))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function Eb(t,e){return qn(function sre(t,e,n,r,i){return(o,s)=>{let a=n,l=e,u=0;o.subscribe($r(s,m=>{const I=u++;l=a?t(l,m,I):(a=!0,m),r&&s.next(l)},i&&(()=>{a&&s.next(l),s.complete()})))}}(t,e,arguments.length>=2,!0))}function uB(t){return t<=0?()=>jh:qn((e,n)=>{let r=[];e.subscribe($r(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(const i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function cB(t){return qn((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}const Wi="primary",L_=Symbol("RouteTitle");class cre{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function s0(t){return new cre(t)}function dre(t,e,n){const r=n.path.split("/");if(r.length>t.length||"full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let o=0;o<r.length;o++){const s=r[o],a=t[o];if(s.startsWith(":"))i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function kf(t,e){const n=t?dB(t):void 0,r=e?dB(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!SO(t[i],e[i]))return!1;return!0}function dB(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function SO(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((i,o)=>r[o]===i)}return t===e}function TO(t){return t.length>0?t[t.length-1]:null}function _g(t){return function ere(t){return!!t&&(t instanceof ro||sr(t.lift)&&sr(t.subscribe))}(t)?t:__(t)?aa(Promise.resolve(t)):hi(t)}const hre={exact:function xO(t,e,n){if(!Em(t.segments,e.segments)||!Sb(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!t.children[r]||!xO(t.children[r],e.children[r],n))return!1;return!0},subset:FO},BO={exact:function fre(t,e){return kf(t,e)},subset:function pre(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>SO(t[n],e[n]))},ignored:()=>!0};function DO(t,e,n){return hre[n.paths](t.root,e.root,n.matrixParams)&&BO[n.queryParams](t.queryParams,e.queryParams)&&!("exact"===n.fragment&&t.fragment!==e.fragment)}function FO(t,e,n){return kO(t,e,e.segments,n)}function kO(t,e,n,r){if(t.segments.length>n.length){const i=t.segments.slice(0,n.length);return!(!Em(i,n)||e.hasChildren()||!Sb(i,n,r))}if(t.segments.length===n.length){if(!Em(t.segments,n)||!Sb(t.segments,n,r))return!1;for(const i in e.children)if(!t.children[i]||!FO(t.children[i],e.children[i],r))return!1;return!0}{const i=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!!(Em(t.segments,i)&&Sb(t.segments,i,r)&&t.children[Wi])&&kO(t.children[Wi],e,o,r)}}function Sb(t,e,n){return e.every((r,i)=>BO[n](t[i].parameters,r.parameters))}class a0{constructor(e=new Ns([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){var e;return null!==(e=this._queryParamMap)&&void 0!==e||(this._queryParamMap=s0(this.queryParams)),this._queryParamMap}toString(){return vre.serialize(this)}}class Ns{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Tb(this)}}class O_{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){var e;return null!==(e=this._parameterMap)&&void 0!==e||(this._parameterMap=s0(this.parameters)),this._parameterMap}toString(){return NO(this)}}function Em(t,e){return t.length===e.length&&t.every((n,r)=>n.path===e[r].path)}let Sm=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Cn({token:t,factory:()=>new AB,providedIn:"root"}),e})();class AB{parse(e){const n=new Dre(e);return new a0(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){const n=`/${U_(e.root,!0)}`,r=function wre(t){const e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${Bb(n)}=${Bb(i)}`).join("&"):`${Bb(n)}=${Bb(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${n}${r}${"string"==typeof e.fragment?`#${function yre(t){return encodeURI(t)}(e.fragment)}`:""}`}}const vre=new AB;function Tb(t){return t.segments.map(e=>NO(e)).join("/")}function U_(t,e){if(!t.hasChildren())return Tb(t);if(e){const n=t.children[Wi]?U_(t.children[Wi],!1):"",r=[];return Object.entries(t.children).forEach(([i,o])=>{i!==Wi&&r.push(`${i}:${U_(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=function mre(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===Wi&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==Wi&&(n=n.concat(e(i,r)))}),n}(t,(r,i)=>i===Wi?[U_(t.children[Wi],!1)]:[`${i}:${U_(r,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children[Wi]?`${Tb(t)}/${n[0]}`:`${Tb(t)}/(${n.join("//")})`}}function RO(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Bb(t){return RO(t).replace(/%3B/gi,";")}function hB(t){return RO(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Db(t){return decodeURIComponent(t)}function PO(t){return Db(t.replace(/\+/g,"%20"))}function NO(t){return`${hB(t.path)}${function _re(t){return Object.entries(t).map(([e,n])=>`;${hB(e)}=${hB(n)}`).join("")}(t.parameters)}`}const Cre=/^[^\/()?;#]+/;function fB(t){const e=t.match(Cre);return e?e[0]:""}const bre=/^[^\/()?;=#]+/,Ere=/^[^=?&#]+/,Tre=/^[^&#]+/;class Dre{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ns([],{}):new Ns([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[Wi]=new Ns(e,n)),r}parseSegment(){const e=fB(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new hn(4009,!1);return this.capture(e),new O_(Db(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const n=function Ire(t){const e=t.match(bre);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const i=fB(this.remaining);i&&(r=i,this.capture(r))}e[Db(n)]=Db(r)}parseQueryParam(e){const n=function Sre(t){const e=t.match(Ere);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const s=function Bre(t){const e=t.match(Tre);return e?e[0]:""}(this.remaining);s&&(r=s,this.capture(r))}const i=PO(n),o=PO(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=fB(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new hn(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=Wi);const s=this.parseChildren();n[o]=1===Object.keys(s).length?s[Wi]:new Ns([],s),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new hn(4011,!1)}}function MO(t){return t.segments.length>0?new Ns([],{[Wi]:t}):t}function LO(t){const e={};for(const[r,i]of Object.entries(t.children)){const o=LO(i);if(r===Wi&&0===o.segments.length&&o.hasChildren())for(const[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}return function xre(t){if(1===t.numberOfChildren&&t.children[Wi]){const e=t.children[Wi];return new Ns(t.segments.concat(e.segments),e.children)}return t}(new Ns(t.segments,e))}function l0(t){return t instanceof a0}function OO(t){var e;let n;const o=MO(function r(s){const a={};for(const u of s.children){const m=r(u);a[u.outlet]=m}const l=new Ns(s.url,a);return s===t&&(n=l),l}(t.root));return null!==(e=n)&&void 0!==e?e:o}function UO(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(0===e.length)return pB(i,i,i,n,r);const o=function kre(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new QO(!0,0,t);let e=0,n=!1;const r=t.reduce((i,o,s)=>{if("object"==typeof o&&null!=o){if(o.outlets){const a={};return Object.entries(o.outlets).forEach(([l,u])=>{a[l]="string"==typeof u?u.split("/"):u}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return"string"!=typeof o?[...i,o]:0===s?(o.split("/").forEach((a,l)=>{0==l&&"."===a||(0==l&&""===a?n=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,o]},[]);return new QO(n,e,r)}(e);if(o.toRoot())return pB(i,i,new Ns([],{}),n,r);const s=function Rre(t,e,n){if(t.isAbsolute)return new Fb(e,!0,0);if(!n)return new Fb(e,!1,NaN);if(null===n.parent)return new Fb(n,!0,0);const r=xb(t.commands[0])?0:1;return function Pre(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new hn(4005,!1);i=r.segments.length}return new Fb(r,!1,i-o)}(n,n.segments.length-1+r,t.numberOfDoubleDots)}(o,i,t),a=s.processChildren?Q_(s.segmentGroup,s.index,o.commands):HO(s.segmentGroup,s.index,o.commands);return pB(i,s.segmentGroup,a,n,r)}function xb(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function V_(t){return"object"==typeof t&&null!=t&&t.outlets}function pB(t,e,n,r,i){let s,o={};r&&Object.entries(r).forEach(([l,u])=>{o[l]=Array.isArray(u)?u.map(m=>`${m}`):`${u}`}),s=t===e?n:VO(t,e,n);const a=MO(LO(s));return new a0(a,o,i)}function VO(t,e,n){const r={};return Object.entries(t.children).forEach(([i,o])=>{r[i]=o===e?n:VO(o,e,n)}),new Ns(t.segments,r)}class QO{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&xb(r[0]))throw new hn(4003,!1);const i=r.find(V_);if(i&&i!==TO(r))throw new hn(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Fb{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}}function HO(t,e,n){var r;if(null!==(r=t)&&void 0!==r||(t=new Ns([],{})),0===t.segments.length&&t.hasChildren())return Q_(t,e,n);const i=function Mre(t,e,n){let r=0,i=e;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;const s=t.segments[i],a=n[r];if(V_(a))break;const l=`${a}`,u=r<n.length-1?n[r+1]:null;if(i>0&&void 0===l)break;if(l&&u&&"object"==typeof u&&void 0===u.outlets){if(!zO(l,u,s))return o;r+=2}else{if(!zO(l,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),o=n.slice(i.commandIndex);if(i.match&&i.pathIndex<t.segments.length){const s=new Ns(t.segments.slice(0,i.pathIndex),{});return s.children[Wi]=new Ns(t.segments.slice(i.pathIndex),t.children),Q_(s,0,o)}return i.match&&0===o.length?new Ns(t.segments,{}):i.match&&!t.hasChildren()?gB(t,e,n):i.match?Q_(t,0,o):gB(t,e,n)}function Q_(t,e,n){if(0===n.length)return new Ns(t.segments,{});{const r=function Nre(t){return V_(t[0])?t[0].outlets:{[Wi]:t}}(n),i={};if(Object.keys(r).some(o=>o!==Wi)&&t.children[Wi]&&1===t.numberOfChildren&&0===t.children[Wi].segments.length){const o=Q_(t.children[Wi],e,n);return new Ns(t.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{"string"==typeof s&&(s=[s]),null!==s&&(i[o]=HO(t.children[o],e,s))}),Object.entries(t.children).forEach(([o,s])=>{void 0===r[o]&&(i[o]=s)}),new Ns(t.segments,i)}}function gB(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const o=n[i];if(V_(o)){const l=Lre(o.outlets);return new Ns(r,l)}if(0===i&&xb(n[0])){r.push(new O_(t.segments[e].path,jO(n[0]))),i++;continue}const s=V_(o)?o.outlets[Wi]:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&xb(a)?(r.push(new O_(s,jO(a))),i+=2):(r.push(new O_(s,{})),i++)}return new Ns(r,{})}function Lre(t){const e={};return Object.entries(t).forEach(([n,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(e[n]=gB(new Ns([],{}),0,r))}),e}function jO(t){const e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function zO(t,e,n){return t==n.path&&kf(e,n.parameters)}const H_="imperative";var Lo=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(Lo||{});class Rf{constructor(e,n){this.id=e,this.url=n}}class j_ extends Rf{constructor(e,n,r="imperative",i=null){super(e,n),this.type=Lo.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Cp extends Rf{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=Lo.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}var EA=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(EA||{}),kb=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(kb||{});class u0 extends Rf{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=Lo.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class c0 extends Rf{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=Lo.NavigationSkipped}}class Rb extends Rf{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=Lo.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class $O extends Rf{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Lo.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ore extends Rf{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Lo.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ure extends Rf{constructor(e,n,r,i,o){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=Lo.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Vre extends Rf{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Lo.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Qre extends Rf{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Lo.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Hre{constructor(e){this.route=e,this.type=Lo.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class jre{constructor(e){this.route=e,this.type=Lo.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class zre{constructor(e){this.snapshot=e,this.type=Lo.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class $re{constructor(e){this.snapshot=e,this.type=Lo.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Gre{constructor(e){this.snapshot=e,this.type=Lo.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Wre{constructor(e){this.snapshot=e,this.type=Lo.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class GO{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r,this.type=Lo.Scroll}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class mB{}class vB{constructor(e){this.url=e}}class Kre{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Tm,this.attachRef=null}}let Tm=(()=>{var t;class e{constructor(){this.contexts=new Map}onChildOutletCreated(r,i){const o=this.getOrCreateContext(r);o.outlet=i,this.contexts.set(r,o)}onChildOutletDestroyed(r){const i=this.getContext(r);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let i=this.getContext(r);return i||(i=new Kre,this.contexts.set(r,i)),i}getContext(r){return this.contexts.get(r)||null}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Cn({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();class WO{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){const n=yB(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){const n=yB(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){const n=_B(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return _B(e,this._root).map(n=>n.value)}}function yB(t,e){if(t===e.value)return e;for(const n of e.children){const r=yB(t,n);if(r)return r}return null}function _B(t,e){if(t===e.value)return[e];for(const n of e.children){const r=_B(t,n);if(r.length)return r.unshift(e),r}return[]}class zh{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}}function d0(t){const e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}class KO extends WO{constructor(e,n){super(e),this.snapshot=n,bB(this,e)}toString(){return this.snapshot.toString()}}function qO(t){const e=function qre(t){const o=new CB([],{},{},"",{},Wi,t,null,{});return new YO("",new zh(o,[]))}(t),n=new rt([new O_("",{})]),r=new rt({}),i=new rt({}),o=new rt({}),s=new rt(""),a=new Pf(n,r,o,s,i,Wi,t,e.root);return a.snapshot=e.root,new KO(new zh(a,[]),e)}class Pf{constructor(e,n,r,i,o,s,a,l){var u,m;this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=l,this.title=null!==(u=null===(m=this.dataSubject)||void 0===m?void 0:m.pipe(Nr(I=>I[L_])))&&void 0!==u?u:hi(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){var e;return null!==(e=this._paramMap)&&void 0!==e||(this._paramMap=this.params.pipe(Nr(n=>s0(n)))),this._paramMap}get queryParamMap(){var e;return null!==(e=this._queryParamMap)&&void 0!==e||(this._queryParamMap=this.queryParams.pipe(Nr(n=>s0(n)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function wB(t,e,n="emptyOnly"){var r;let i;const{routeConfig:o}=t;var s;return i=null===e||"always"!==n&&""!==(null==o?void 0:o.path)&&(e.component||null!==(r=e.routeConfig)&&void 0!==r&&r.loadComponent)?{params:{...t.params},data:{...t.data},resolve:{...t.data,...null!==(s=t._resolvedData)&&void 0!==s?s:{}}}:{params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.data,...null==o?void 0:o.data,...t._resolvedData}},o&&JO(o)&&(i.resolve[L_]=o.title),i}class CB{get title(){var e;return null===(e=this.data)||void 0===e?void 0:e[L_]}constructor(e,n,r,i,o,s,a,l,u){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=l,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){var e;return null!==(e=this._paramMap)&&void 0!==e||(this._paramMap=s0(this.params)),this._paramMap}get queryParamMap(){var e;return null!==(e=this._queryParamMap)&&void 0!==e||(this._queryParamMap=s0(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class YO extends WO{constructor(e,n){super(n),this.url=e,bB(this,n)}toString(){return XO(this._root)}}function bB(t,e){e.value._routerState=t,e.children.forEach(n=>bB(t,n))}function XO(t){const e=t.children.length>0?` { ${t.children.map(XO).join(", ")} } `:"";return`${t.value}${e}`}function IB(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,kf(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),kf(e.params,n.params)||t.paramsSubject.next(n.params),function Are(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!kf(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.urlSubject.next(n.url),kf(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function EB(t,e){const n=kf(t.params,e.params)&&function gre(t,e){return Em(t,e)&&t.every((n,r)=>kf(n.parameters,e[r].parameters))}(t.url,e.url);return n&&!(!t.parent!=!e.parent)&&(!t.parent||EB(t.parent,e.parent))}function JO(t){return"string"==typeof t.title||null===t.title}let ZO=(()=>{var t;class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=Wi,this.activateEvents=new X,this.deactivateEvents=new X,this.attachEvents=new X,this.detachEvents=new X,this.parentContexts=sn(Tm),this.location=sn(oh),this.changeDetector=sn(er),this.environmentInjector=sn(je),this.inputBinder=sn(Pb,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(r){if(r.name){const{firstChange:i,previousValue:o}=r.name;if(i)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){var r;this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),null===(r=this.inputBinder)||void 0===r||r.unsubscribeFromRouteData(this)}isTrackedInParentContexts(r){var i;return(null===(i=this.parentContexts.getContext(r))||void 0===i?void 0:i.outlet)===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const r=this.parentContexts.getContext(this.name);null!=r&&r.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new hn(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new hn(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new hn(4012,!1);this.location.detach();const r=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(r.instance),r}attach(r,i){var o;this.activated=r,this._activatedRoute=i,this.location.insert(r.hostView),null===(o=this.inputBinder)||void 0===o||o.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(r.instance)}deactivate(){if(this.activated){const r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,i){var o;if(this.isActivated)throw new hn(4013,!1);this._activatedRoute=r;const s=this.location,l=r.snapshot.component,u=this.parentContexts.getOrCreateContext(this.name).children,m=new Yre(r,u,s.injector);this.activated=s.createComponent(l,{index:s.length,injector:m,environmentInjector:null!=i?i:this.environmentInjector}),this.changeDetector.markForCheck(),null===(o=this.inputBinder)||void 0===o||o.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275dir=St({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[$s]}),e})();class Yre{constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===Pf?this.route:e===Tm?this.childContexts:this.parent.get(e,n)}}const Pb=new Un("");let eU=(()=>{var t;class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(r){this.unsubscribeFromRouteData(r),this.subscribeToRouteData(r)}unsubscribeFromRouteData(r){var i;null===(i=this.outletDataSubscriptions.get(r))||void 0===i||i.unsubscribe(),this.outletDataSubscriptions.delete(r)}subscribeToRouteData(r){const{activatedRoute:i}=r,o=_b([i.queryParams,i.params,i.data]).pipe(hl(([s,a,l],u)=>(l={...s,...a,...l},0===u?hi(l):Promise.resolve(l)))).subscribe(s=>{if(!r.isActivated||!r.activatedComponentRef||r.activatedRoute!==i||null===i.component)return void this.unsubscribeFromRouteData(r);const a=v3(i.component);if(a)for(const{templateName:l}of a.inputs)r.activatedComponentRef.setInput(l,s[l]);else this.unsubscribeFromRouteData(r)});this.outletDataSubscriptions.set(r,o)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Cn({token:t,factory:t.\u0275fac}),e})();function z_(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function Jre(t,e,n){return e.children.map(r=>{for(const i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return z_(t,r,i);return z_(t,r)})}(t,e,n);return new zh(r,i)}{if(t.shouldAttach(e.value)){const o=t.retrieve(e.value);if(null!==o){const s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>z_(t,a)),s}}const r=function Zre(t){return new Pf(new rt(t.url),new rt(t.params),new rt(t.queryParams),new rt(t.fragment),new rt(t.data),t.outlet,t.component,t)}(e.value),i=e.children.map(o=>z_(t,o));return new zh(r,i)}}const tU="ngNavigationCancelingError";function nU(t,e){const{redirectTo:n,navigationBehaviorOptions:r}=l0(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=rU(!1,EA.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function rU(t,e){const n=new Error(`NavigationCancelingError: ${t||""}`);return n[tU]=!0,n.cancellationCode=e,n}function iU(t){return!!t&&t[tU]}let oU=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=J({type:t,selectors:[["ng-component"]],standalone:!0,features:[G4],decls:1,vars:0,template:function(r,i){1&r&&vt(0,"router-outlet")},dependencies:[ZO],encapsulation:2}),e})();function SB(t){const e=t.children&&t.children.map(SB),n=e?{...t,children:e}:{...t};return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==Wi&&(n.component=oU),n}function Nf(t){return t.outlet||Wi}function $_(t){var e;if(!t)return null;if(null!==(e=t.routeConfig)&&void 0!==e&&e._injector)return t.routeConfig._injector;for(let n=t.parent;n;n=n.parent){const r=n.routeConfig;if(null!=r&&r._loadedInjector)return r._loadedInjector;if(null!=r&&r._injector)return r._injector}return null}class aie{constructor(e,n,r,i,o){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){const n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),IB(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){const i=d0(n);e.children.forEach(o=>{const s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,n,r){const i=e.value,o=n?n.value:null;if(i===o)if(i.component){const s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,n,s.children)}else this.deactivateChildRoutes(e,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=d0(e);for(const s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){const s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=d0(e);for(const s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){const i=d0(n);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new Wre(o.value.snapshot))}),e.children.length&&this.forwardEvent(new $re(e.value.snapshot))}activateRoutes(e,n,r){const i=e.value,o=n?n.value:null;if(IB(i),i===o)if(i.component){const s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,s.children)}else this.activateChildRoutes(e,n,r);else if(i.component){const s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),IB(a.route.value),this.activateChildRoutes(e,null,s.children)}else{const a=$_(i.snapshot);s.attachRef=null,s.route=i,s.injector=a,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}}else this.activateChildRoutes(e,null,r)}}class sU{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Nb{constructor(e,n){this.component=e,this.route=n}}function lie(t,e,n){const r=t._root;return G_(r,e?e._root:null,n,[r.value])}function A0(t,e){const n=Symbol(),r=e.get(t,n);return r===n?"function"!=typeof t||function es(t){return null!==vo(t)}(t)?e.get(t):t:r}function G_(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=d0(e);return t.children.forEach(s=>{(function cie(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const l=function die(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!Em(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Em(t.url,e.url)||!kf(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!EB(t,e)||!kf(t.queryParams,e.queryParams);default:return!EB(t,e)}}(s,o,o.routeConfig.runGuardsAndResolvers);l?i.canActivateChecks.push(new sU(r)):(o.data=s.data,o._resolvedData=s._resolvedData),G_(t,e,o.component?a?a.children:null:n,r,i),l&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Nb(a.outlet.component,s))}else s&&W_(e,a,i),i.canActivateChecks.push(new sU(r)),G_(t,null,o.component?a?a.children:null:n,r,i)})(s,o[s.value.outlet],n,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>W_(a,n.getContext(s),i)),i}function W_(t,e,n){const r=d0(t),i=t.value;Object.entries(r).forEach(([o,s])=>{W_(s,i.component?e?e.children.getContext(o):null:e,n)}),n.canDeactivateChecks.push(new Nb(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function K_(t){return"function"==typeof t}function aU(t){return t instanceof wb||"EmptyError"===(null==t?void 0:t.name)}const Mb=Symbol("INITIAL_VALUE");function h0(){return hl(t=>_b(t.map(e=>e.pipe(o0(1),bb(Mb)))).pipe(Nr(e=>{for(const n of e)if(!0!==n){if(n===Mb)return Mb;if(!1===n||n instanceof a0)return n}return!0}),IA(e=>e!==Mb),o0(1)))}function lU(t){return function ml(...t){return Ru(t)}(Bc(e=>{if(l0(e))throw nU(0,e)}),Nr(e=>!0===e))}class TB{constructor(e){this.segmentGroup=e||null}}class BB extends Error{constructor(e){super(),this.urlTree=e}}function f0(t){return Cb(new TB(t))}class xie{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return hi(r);if(i.numberOfChildren>1||!i.children[Wi])return Cb(new hn(4e3,!1));i=i.children[Wi]}}applyRedirectCommands(e,n,r){const i=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n.startsWith("/"))throw new BB(i);return i}applyRedirectCreateUrlTree(e,n,r,i){const o=this.createSegmentGroup(e,n.root,r,i);return new a0(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){const r={};return Object.entries(e).forEach(([i,o])=>{if("string"==typeof o&&o.startsWith(":")){const a=o.substring(1);r[i]=n[a]}else r[i]=o}),r}createSegmentGroup(e,n,r,i){const o=this.createSegments(e,n.segments,r,i);let s={};return Object.entries(n.children).forEach(([a,l])=>{s[a]=this.createSegmentGroup(e,l,r,i)}),new Ns(o,s)}createSegments(e,n,r,i){return n.map(o=>o.path.startsWith(":")?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,n,r){const i=r[n.path.substring(1)];if(!i)throw new hn(4001,!1);return i}findOrReturn(e,n){let r=0;for(const i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}}const DB={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Fie(t,e,n,r,i){const o=xB(t,e,n);return o.matched?(r=function tie(t,e){var n;return t.providers&&!t._injector&&(t._injector=vC(t.providers,e,`Route: ${t.path}`)),null!==(n=t._injector)&&void 0!==n?n:e}(e,r),function Tie(t,e,n,r){const i=e.canMatch;return i&&0!==i.length?hi(i.map(s=>{const a=A0(s,t);return _g(function mie(t){return t&&K_(t.canMatch)}(a)?a.canMatch(e,n):Pi(t,()=>a(e,n)))})).pipe(h0(),lU()):hi(!0)}(r,e,n).pipe(Nr(s=>!0===s?o:{...DB}))):hi(o)}function xB(t,e,n){var r,i;if("**"===e.path)return function kie(t){return{matched:!0,parameters:t.length>0?TO(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}(n);if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{...DB}:{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};const s=(e.matcher||dre)(n,t,e);if(!s)return{...DB};const a={};Object.entries(null!==(r=s.posParams)&&void 0!==r?r:{}).forEach(([u,m])=>{a[u]=m.path});const l=s.consumed.length>0?{...a,...s.consumed[s.consumed.length-1].parameters}:a;return{matched:!0,consumedSegments:s.consumed,remainingSegments:n.slice(s.consumed.length),parameters:l,positionalParamSegments:null!==(i=s.posParams)&&void 0!==i?i:{}}}function uU(t,e,n,r){return n.length>0&&function Nie(t,e,n){return n.some(r=>Lb(t,e,r)&&Nf(r)!==Wi)}(t,n,r)?{segmentGroup:new Ns(e,Pie(r,new Ns(n,t.children))),slicedSegments:[]}:0===n.length&&function Mie(t,e,n){return n.some(r=>Lb(t,e,r))}(t,n,r)?{segmentGroup:new Ns(t.segments,Rie(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new Ns(t.segments,t.children),slicedSegments:n}}function Rie(t,e,n,r){const i={};for(const o of n)if(Lb(t,e,o)&&!r[Nf(o)]){const s=new Ns([],{});i[Nf(o)]=s}return{...r,...i}}function Pie(t,e){const n={};n[Wi]=e;for(const r of t)if(""===r.path&&Nf(r)!==Wi){const i=new Ns([],{});n[Nf(r)]=i}return n}function Lb(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}class Uie{}class Hie{constructor(e,n,r,i,o,s,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new xie(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new hn(4002,`'${e.segmentGroup}'`)}recognize(){const e=uU(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(Nr(n=>{const r=new CB([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Wi,this.rootComponentType,null,{}),i=new zh(r,n),o=new YO("",i),s=function Fre(t,e,n=null,r=null){return UO(OO(t),e,n,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),this.inheritParamsAndData(o._root,null),{state:o,tree:s}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e,Wi).pipe(Im(r=>{if(r instanceof BB)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof TB?this.noMatchError(r):r}))}inheritParamsAndData(e,n){const r=e.value,i=wB(r,n,this.paramsInheritanceStrategy);r.params=Object.freeze(i.params),r.data=Object.freeze(i.data),e.children.forEach(o=>this.inheritParamsAndData(o,r))}processSegmentGroup(e,n,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,i,!0).pipe(Nr(o=>o instanceof zh?[o]:[]))}processChildren(e,n,r){const i=[];for(const o of Object.keys(r.children))"primary"===o?i.unshift(o):i.push(o);return aa(i).pipe(M_(o=>{const s=r.children[o],a=function oie(t,e){const n=t.filter(r=>Nf(r)===e);return n.push(...t.filter(r=>Nf(r)!==e)),n}(n,o);return this.processSegmentGroup(e,a,s,o)}),Eb((o,s)=>(o.push(...s),o)),Ib(null),function are(t,e){const n=arguments.length>=2;return r=>r.pipe(t?IA((i,o)=>t(i,o,r)):Ro,uB(1),n?Ib(e):EO(()=>new wb))}(),Ju(o=>{if(null===o)return f0(r);const s=cU(o);return function jie(t){t.sort((e,n)=>e.value.outlet===Wi?-1:n.value.outlet===Wi?1:e.value.outlet.localeCompare(n.value.outlet))}(s),hi(s)}))}processSegment(e,n,r,i,o,s){return aa(n).pipe(M_(a=>{var l;return this.processSegmentAgainstRoute(null!==(l=a._injector)&&void 0!==l?l:e,n,a,r,i,o,s).pipe(Im(u=>{if(u instanceof TB)return hi(null);throw u}))}),yg(a=>!!a),Im(a=>{if(aU(a))return function Oie(t,e,n){return 0===e.length&&!t.children[n]}(r,i,o)?hi(new Uie):f0(r);throw a}))}processSegmentAgainstRoute(e,n,r,i,o,s,a){return function Lie(t,e,n,r){return!!(Nf(t)===r||r!==Wi&&Lb(e,n,t))&&xB(e,t,n).matched}(r,i,o,s)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,i,r,o,s):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,o,s):f0(i):f0(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s){const{matched:a,consumedSegments:l,positionalParamSegments:u,remainingSegments:m}=xB(n,i,o);if(!a)return f0(n);i.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const I=this.applyRedirects.applyRedirectCommands(l,i.redirectTo,u);return this.applyRedirects.lineralizeSegments(i,I).pipe(Ju(k=>this.processSegment(e,r,n,k.concat(m),s,!1)))}matchSegmentAgainstRoute(e,n,r,i,o){const s=Fie(n,r,i,e);return"**"===r.path&&(n.children={}),s.pipe(hl(a=>{var l;return a.matched?(e=null!==(l=r._injector)&&void 0!==l?l:e,this.getChildConfig(e,r,i).pipe(hl(({routes:u})=>{var m,I,k;const U=null!==(m=r._loadedInjector)&&void 0!==m?m:e,{consumedSegments:Y,remainingSegments:ve,parameters:xe}=a,st=new CB(Y,xe,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,function $ie(t){return t.data||{}}(r),Nf(r),null!==(I=null!==(k=r.component)&&void 0!==k?k:r._loadedComponent)&&void 0!==I?I:null,r,function Gie(t){return t.resolve||{}}(r)),{segmentGroup:at,slicedSegments:Lt}=uU(n,Y,ve,u);if(0===Lt.length&&at.hasChildren())return this.processChildren(U,u,at).pipe(Nr(kn=>null===kn?null:new zh(st,kn)));if(0===u.length&&0===Lt.length)return hi(new zh(st,[]));const Yt=Nf(r)===o;return this.processSegment(U,u,at,Lt,Yt?Wi:o,!0).pipe(Nr(kn=>new zh(st,kn instanceof zh?[kn]:[])))}))):f0(n)}))}getChildConfig(e,n,r){return n.children?hi({routes:n.children,injector:e}):n.loadChildren?void 0!==n._loadedRoutes?hi({routes:n._loadedRoutes,injector:n._loadedInjector}):function Sie(t,e,n,r){const i=e.canLoad;return void 0===i||0===i.length?hi(!0):hi(i.map(s=>{const a=A0(s,t);return _g(function hie(t){return t&&K_(t.canLoad)}(a)?a.canLoad(e,n):Pi(t,()=>a(e,n)))})).pipe(h0(),lU())}(e,n,r).pipe(Ju(i=>i?this.configLoader.loadChildren(e,n).pipe(Bc(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):function Die(t){return Cb(rU(!1,EA.GuardRejected))}())):hi({routes:[],injector:e})}}function zie(t){const e=t.value.routeConfig;return e&&""===e.path}function cU(t){const e=[],n=new Set;for(const r of t){if(!zie(r)){e.push(r);continue}const i=e.find(o=>r.value.routeConfig===o.value.routeConfig);void 0!==i?(i.children.push(...r.children),n.add(i)):e.push(r)}for(const r of n){const i=cU(r.children);e.push(new zh(r.value,i))}return e.filter(r=>!n.has(r))}function dU(t){const e=t.children.map(n=>dU(n)).flat();return[t,...e]}function FB(t){return hl(e=>{const n=t(e);return n?aa(n).pipe(Nr(()=>e)):hi(e)})}let AU=(()=>{var t;class e{buildTitle(r){let i,o=r.root;for(;void 0!==o;){var s;i=null!==(s=this.getResolvedTitleForRoute(o))&&void 0!==s?s:i,o=o.children.find(a=>a.outlet===Wi)}return i}getResolvedTitleForRoute(r){return r.data[L_]}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Cn({token:t,factory:()=>sn(Jie),providedIn:"root"}),e})(),Jie=(()=>{var t;class e extends AU{constructor(r){super(),this.title=r}updateTitle(r){const i=this.buildTitle(r);void 0!==i&&this.title.setTitle(i)}}return(t=e).\u0275fac=function(r){return new(r||t)(Ln(Fte))},t.\u0275prov=Cn({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();const p0=new Un("",{providedIn:"root",factory:()=>({})}),g0=new Un("");let kB=(()=>{var t;class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=sn(xM)}loadComponent(r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return hi(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);const i=_g(r.loadComponent()).pipe(Nr(hU),Bc(s=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=s}),cB(()=>{this.componentLoaders.delete(r)})),o=new IO(i,()=>new dt).pipe(lB());return this.componentLoaders.set(r,o),o}loadChildren(r,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return hi({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const s=function Zie(t,e,n,r){return _g(t.loadChildren()).pipe(Nr(hU),Ju(i=>i instanceof VP||Array.isArray(i)?hi(i):aa(e.compileModuleAsync(i))),Nr(i=>{r&&r(t);let o,s,a=!1;return Array.isArray(i)?(s=i,!0):(o=i.create(n).injector,s=o.get(g0,[],{optional:!0,self:!0}).flat()),{routes:s.map(SB),injector:o}}))}(i,this.compiler,r,this.onLoadEndListener).pipe(cB(()=>{this.childrenLoaders.delete(i)})),a=new IO(s,()=>new dt).pipe(lB());return this.childrenLoaders.set(i,a),a}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Cn({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function hU(t){return function eoe(t){return t&&"object"==typeof t&&"default"in t}(t)?t.default:t}let RB=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Cn({token:t,factory:()=>sn(toe),providedIn:"root"}),e})(),toe=(()=>{var t;class e{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,i){return r}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Cn({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();const fU=new Un(""),pU=new Un("");function noe(t,e,n){const r=t.get(pU),i=t.get(Vd);return t.get(In).runOutsideAngular(()=>{if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,Promise.resolve();let o;const s=new Promise(u=>{o=u}),a=i.startViewTransition(()=>(o(),function roe(t){return new Promise(e=>{nP(e,{injector:t})})}(t))),{onViewTransitionCreated:l}=r;return l&&Pi(t,()=>l({transition:a,from:e,to:n})),s})}let Ob=(()=>{var t;class e{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new dt,this.transitionAbortSubject=new dt,this.configLoader=sn(kB),this.environmentInjector=sn(je),this.urlSerializer=sn(Sm),this.rootContexts=sn(Tm),this.location=sn(Vh),this.inputBindingEnabled=null!==sn(Pb,{optional:!0}),this.titleStrategy=sn(AU),this.options=sn(p0,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=sn(RB),this.createViewTransition=sn(fU,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>hi(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=o=>this.events.next(new jre(o)),this.configLoader.onLoadStartListener=o=>this.events.next(new Hre(o))}complete(){var r;null===(r=this.transitions)||void 0===r||r.complete()}handleNavigationRequest(r){var i;const o=++this.navigationId;null===(i=this.transitions)||void 0===i||i.next({...this.transitions.value,...r,id:o})}setupNavigations(r,i,o){return this.transitions=new rt({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:H_,restoredState:null,currentSnapshot:o.snapshot,targetSnapshot:null,currentRouterState:o,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(IA(s=>0!==s.id),Nr(s=>({...s,extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),hl(s=>{let a=!1,l=!1;return hi(s).pipe(hl(u=>{var m;if(this.navigationId>s.id)return this.cancelNavigationTransition(s,"",EA.SupersededByNewNavigation),jh;this.currentTransition=s,this.currentNavigation={id:u.id,initialUrl:u.rawUrl,extractedUrl:u.extractedUrl,trigger:u.source,extras:u.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null};const I=!r.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),k=null!==(m=u.extras.onSameUrlNavigation)&&void 0!==m?m:r.onSameUrlNavigation;if(!I&&"reload"!==k){const U="";return this.events.next(new c0(u.id,this.urlSerializer.serialize(u.rawUrl),U,kb.IgnoredSameUrlNavigation)),u.resolve(null),jh}if(this.urlHandlingStrategy.shouldProcessUrl(u.rawUrl))return hi(u).pipe(hl(U=>{var Y,ve;const xe=null===(Y=this.transitions)||void 0===Y?void 0:Y.getValue();return this.events.next(new j_(U.id,this.urlSerializer.serialize(U.extractedUrl),U.source,U.restoredState)),xe!==(null===(ve=this.transitions)||void 0===ve?void 0:ve.getValue())?jh:Promise.resolve(U)}),function Wie(t,e,n,r,i,o){return Ju(s=>function Vie(t,e,n,r,i,o,s="emptyOnly"){return new Hie(t,e,n,r,i,s,o).recognize()}(t,e,n,r,s.extractedUrl,i,o).pipe(Nr(({state:a,tree:l})=>({...s,targetSnapshot:a,urlAfterRedirects:l}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,r.config,this.urlSerializer,this.paramsInheritanceStrategy),Bc(U=>{s.targetSnapshot=U.targetSnapshot,s.urlAfterRedirects=U.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:U.urlAfterRedirects};const Y=new $O(U.id,this.urlSerializer.serialize(U.extractedUrl),this.urlSerializer.serialize(U.urlAfterRedirects),U.targetSnapshot);this.events.next(Y)}));if(I&&this.urlHandlingStrategy.shouldProcessUrl(u.currentRawUrl)){const{id:U,extractedUrl:Y,source:ve,restoredState:xe,extras:st}=u,at=new j_(U,this.urlSerializer.serialize(Y),ve,xe);this.events.next(at);const Lt=qO(this.rootComponentType).snapshot;return this.currentTransition=s={...u,targetSnapshot:Lt,urlAfterRedirects:Y,extras:{...st,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.finalUrl=Y,hi(s)}{const U="";return this.events.next(new c0(u.id,this.urlSerializer.serialize(u.extractedUrl),U,kb.IgnoredByUrlHandlingStrategy)),u.resolve(null),jh}}),Bc(u=>{const m=new Ore(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(m)}),Nr(u=>(this.currentTransition=s={...u,guards:lie(u.targetSnapshot,u.currentSnapshot,this.rootContexts)},s)),function vie(t,e){return Ju(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return 0===s.length&&0===o.length?hi({...n,guardsResult:!0}):function yie(t,e,n,r){return aa(t).pipe(Ju(i=>function Eie(t,e,n,r,i){const o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return o&&0!==o.length?hi(o.map(a=>{var l;const u=null!==(l=$_(e))&&void 0!==l?l:i,m=A0(a,u);return _g(function gie(t){return t&&K_(t.canDeactivate)}(m)?m.canDeactivate(t,e,n,r):Pi(u,()=>m(t,e,n,r))).pipe(yg())})).pipe(h0()):hi(!0)}(i.component,i.route,n,e,r)),yg(i=>!0!==i,!0))}(s,r,i,t).pipe(Ju(a=>a&&function Aie(t){return"boolean"==typeof t}(a)?function _ie(t,e,n,r){return aa(e).pipe(M_(i=>aB(function Cie(t,e){return null!==t&&e&&e(new zre(t)),hi(!0)}(i.route.parent,r),function wie(t,e){return null!==t&&e&&e(new Gre(t)),hi(!0)}(i.route,r),function Iie(t,e,n){const r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>function uie(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(s)).filter(s=>null!==s).map(s=>bO(()=>hi(s.guards.map(l=>{var u;const m=null!==(u=$_(s.node))&&void 0!==u?u:n,I=A0(l,m);return _g(function pie(t){return t&&K_(t.canActivateChild)}(I)?I.canActivateChild(r,t):Pi(m,()=>I(r,t))).pipe(yg())})).pipe(h0())));return hi(o).pipe(h0())}(t,i.path,n),function bie(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return hi(!0);const i=r.map(o=>bO(()=>{var s;const a=null!==(s=$_(e))&&void 0!==s?s:n,l=A0(o,a);return _g(function fie(t){return t&&K_(t.canActivate)}(l)?l.canActivate(e,t):Pi(a,()=>l(e,t))).pipe(yg())}));return hi(i).pipe(h0())}(t,i.route,n))),yg(i=>!0!==i,!0))}(r,o,t,e):hi(a)),Nr(a=>({...n,guardsResult:a})))})}(this.environmentInjector,u=>this.events.next(u)),Bc(u=>{if(s.guardsResult=u.guardsResult,l0(u.guardsResult))throw nU(0,u.guardsResult);const m=new Ure(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot,!!u.guardsResult);this.events.next(m)}),IA(u=>!!u.guardsResult||(this.cancelNavigationTransition(u,"",EA.GuardRejected),!1)),FB(u=>{if(u.guards.canActivateChecks.length)return hi(u).pipe(Bc(m=>{const I=new Vre(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot);this.events.next(I)}),hl(m=>{let I=!1;return hi(m).pipe(function Kie(t,e){return Ju(n=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return hi(n);const o=new Set(i.map(l=>l.route)),s=new Set;for(const l of o)if(!s.has(l))for(const u of dU(l))s.add(u);let a=0;return aa(s).pipe(M_(l=>o.has(l)?function qie(t,e,n,r){const i=t.routeConfig,o=t._resolve;return void 0!==(null==i?void 0:i.title)&&!JO(i)&&(o[L_]=i.title),function Yie(t,e,n,r){const i=dB(t);if(0===i.length)return hi({});const o={};return aa(i).pipe(Ju(s=>function Xie(t,e,n,r){var i;const o=null!==(i=$_(e))&&void 0!==i?i:r,s=A0(t,o);return _g(s.resolve?s.resolve(e,n):Pi(o,()=>s(e,n)))}(t[s],e,n,r).pipe(yg(),Bc(a=>{o[s]=a}))),uB(1),function lre(t){return Nr(()=>t)}(o),Im(s=>aU(s)?jh:Cb(s)))}(o,t,e,r).pipe(Nr(s=>(t._resolvedData=s,t.data=wB(t,t.parent,n).resolve,null)))}(l,r,t,e):(l.data=wB(l,l.parent,t).resolve,hi(void 0))),Bc(()=>a++),uB(1),Ju(l=>a===s.size?hi(n):jh))})}(this.paramsInheritanceStrategy,this.environmentInjector),Bc({next:()=>I=!0,complete:()=>{I||this.cancelNavigationTransition(m,"",EA.NoDataFromResolver)}}))}),Bc(m=>{const I=new Qre(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot);this.events.next(I)}))}),FB(u=>{const m=I=>{var k;const U=[];null!==(k=I.routeConfig)&&void 0!==k&&k.loadComponent&&!I.routeConfig._loadedComponent&&U.push(this.configLoader.loadComponent(I.routeConfig).pipe(Bc(Y=>{I.component=Y}),Nr(()=>{})));for(const Y of I.children)U.push(...m(Y));return U};return _b(m(u.targetSnapshot.root)).pipe(Ib(null),o0(1))}),FB(()=>this.afterPreactivation()),hl(()=>{var u;const{currentSnapshot:m,targetSnapshot:I}=s,k=null===(u=this.createViewTransition)||void 0===u?void 0:u.call(this,this.environmentInjector,m.root,I.root);return k?aa(k).pipe(Nr(()=>s)):hi(s)}),Nr(u=>{const m=function Xre(t,e,n){const r=z_(t,e._root,n?n._root:void 0);return new KO(r,e)}(r.routeReuseStrategy,u.targetSnapshot,u.currentRouterState);return this.currentTransition=s={...u,targetRouterState:m},this.currentNavigation.targetRouterState=m,s}),Bc(()=>{this.events.next(new mB)}),((t,e,n,r)=>Nr(i=>(new aie(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)))(this.rootContexts,r.routeReuseStrategy,u=>this.events.next(u),this.inputBindingEnabled),o0(1),Bc({next:u=>{var m;a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Cp(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects))),null===(m=this.titleStrategy)||void 0===m||m.updateTitle(u.targetRouterState.snapshot),u.resolve(!0)},complete:()=>{a=!0}}),function ure(t){return qn((e,n)=>{Qd(t).subscribe($r(n,()=>n.complete(),zr)),!n.closed&&e.subscribe(n)})}(this.transitionAbortSubject.pipe(Bc(u=>{throw u}))),cB(()=>{var u;!a&&!l&&this.cancelNavigationTransition(s,"",EA.SupersededByNewNavigation),(null===(u=this.currentTransition)||void 0===u?void 0:u.id)===s.id&&(this.currentNavigation=null,this.currentTransition=null)}),Im(u=>{if(l=!0,iU(u))this.events.next(new u0(s.id,this.urlSerializer.serialize(s.extractedUrl),u.message,u.cancellationCode)),function eie(t){return iU(t)&&l0(t.url)}(u)?this.events.next(new vB(u.url)):s.resolve(!1);else{var m;this.events.next(new Rb(s.id,this.urlSerializer.serialize(s.extractedUrl),u,null!==(m=s.targetSnapshot)&&void 0!==m?m:void 0));try{s.resolve(r.errorHandler(u))}catch(I){this.options.resolveNavigationPromiseOnError?s.resolve(!1):s.reject(I)}}return jh}))}))}cancelNavigationTransition(r,i,o){const s=new u0(r.id,this.urlSerializer.serialize(r.extractedUrl),i,o);this.events.next(s),r.resolve(!1)}isUpdatingInternalState(){var r,i;return(null===(r=this.currentTransition)||void 0===r?void 0:r.extractedUrl.toString())!==(null===(i=this.currentTransition)||void 0===i?void 0:i.currentUrlTree.toString())}isUpdatedBrowserUrl(){var r,i;return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==(null===(r=this.currentTransition)||void 0===r?void 0:r.extractedUrl.toString())&&!(null!==(i=this.currentTransition)&&void 0!==i&&i.extras.skipLocationChange)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Cn({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function ioe(t){return t!==H_}let ooe=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Cn({token:t,factory:()=>sn(aoe),providedIn:"root"}),e})();class soe{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}}let aoe=(()=>{var t;class e extends soe{}return(t=e).\u0275fac=(()=>{let n;return function(i){return(n||(n=zo(t)))(i||t)}})(),t.\u0275prov=Cn({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),gU=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Cn({token:t,factory:()=>sn(loe),providedIn:"root"}),e})(),loe=(()=>{var t;class e extends gU{constructor(){super(...arguments),this.location=sn(Vh),this.urlSerializer=sn(Sm),this.options=sn(p0,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=sn(RB),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new a0,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=qO(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){var r,i;return"computed"!==this.canceledNavigationResolution?this.currentPageId:null!==(r=null===(i=this.restoredState())||void 0===i?void 0:i.\u0275routerPageId)&&void 0!==r?r:this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(r){return this.location.subscribe(i=>{"popstate"===i.type&&r(i.url,i.state)})}handleRouterEvent(r,i){if(r instanceof j_)this.stateMemento=this.createStateMemento();else if(r instanceof c0)this.rawUrlTree=i.initialUrl;else if(r instanceof $O){if("eager"===this.urlUpdateStrategy&&!i.extras.skipLocationChange){const o=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(o,i)}}else r instanceof mB?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,"deferred"===this.urlUpdateStrategy&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i))):r instanceof u0&&(r.code===EA.GuardRejected||r.code===EA.NoDataFromResolver)?this.restoreHistory(i):r instanceof Rb?this.restoreHistory(i,!0):r instanceof Cp&&(this.lastSuccessfulId=r.id,this.currentPageId=this.browserPageId)}setBrowserUrl(r,i){const o=this.urlSerializer.serialize(r);if(this.location.isCurrentPathEqualTo(o)||i.extras.replaceUrl){const a={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId)};this.location.replaceState(o,"",a)}else{const s={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId+1)};this.location.go(o,"",s)}}restoreHistory(r,i=!1){if("computed"===this.canceledNavigationResolution){const s=this.currentPageId-this.browserPageId;0!==s?this.location.historyGo(s):this.currentUrlTree===r.finalUrl&&0===s&&(this.resetState(r),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){var i;this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,null!==(i=r.finalUrl)&&void 0!==i?i:this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(r,i){return"computed"===this.canceledNavigationResolution?{navigationId:r,\u0275routerPageId:i}:{navigationId:r}}}return(t=e).\u0275fac=(()=>{let n;return function(i){return(n||(n=zo(t)))(i||t)}})(),t.\u0275prov=Cn({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();var q_=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(q_||{});function mU(t,e){t.events.pipe(IA(n=>n instanceof Cp||n instanceof u0||n instanceof Rb||n instanceof c0),Nr(n=>n instanceof Cp||n instanceof c0?q_.COMPLETE:n instanceof u0&&(n.code===EA.Redirect||n.code===EA.SupersededByNewNavigation)?q_.REDIRECTING:q_.FAILED),IA(n=>n!==q_.REDIRECTING),o0(1)).subscribe(()=>{e()})}function uoe(t){throw t}const coe={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},doe={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Jo=(()=>{var t;class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){var r,i;this.disposed=!1,this.isNgZoneEnabled=!1,this.console=sn(wM),this.stateManager=sn(gU),this.options=sn(p0,{optional:!0})||{},this.pendingTasks=sn(Sv),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=sn(Ob),this.urlSerializer=sn(Sm),this.location=sn(Vh),this.urlHandlingStrategy=sn(RB),this._events=new dt,this.errorHandler=this.options.errorHandler||uoe,this.navigated=!1,this.routeReuseStrategy=sn(ooe),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=null!==(r=null===(i=sn(g0,{optional:!0}))||void 0===i?void 0:i.flat())&&void 0!==r?r:[],this.componentInputBindingEnabled=!!sn(Pb,{optional:!0}),this.eventsSubscription=new Qt,this.isNgZoneEnabled=sn(In)instanceof In&&In.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:o=>{this.console.warn(o)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const r=this.navigationTransitions.events.subscribe(i=>{try{const o=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(null!==o&&null!==s)if(this.stateManager.handleRouterEvent(i,s),i instanceof u0&&i.code!==EA.Redirect&&i.code!==EA.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof Cp)this.navigated=!0;else if(i instanceof vB){const a=this.urlHandlingStrategy.merge(i.url,o.currentRawUrl),l={info:o.extras.info,skipLocationChange:o.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||ioe(o.source)};this.scheduleNavigation(a,H_,null,l,{resolve:o.resolve,reject:o.reject,promise:o.promise})}(function hoe(t){return!(t instanceof mB||t instanceof vB)})(i)&&this._events.next(i)}catch(o){this.navigationTransitions.transitionAbortSubject.next(o)}});this.eventsSubscription.add(r)}resetRootComponentType(r){this.routerState.root.component=r,this.navigationTransitions.rootComponentType=r}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),H_,this.stateManager.restoredState())}setUpLocationChangeListener(){var r;null!==(r=this.nonRouterCurrentEntryChangeSubscription)&&void 0!==r||(this.nonRouterCurrentEntryChangeSubscription=this.stateManager.registerNonRouterCurrentEntryChangeListener((i,o)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(i,"popstate",o)},0)}))}navigateToSyncWithBrowser(r,i,o){const s={replaceUrl:!0},a=null!=o&&o.navigationId?o:null;if(o){const u={...o};delete u.navigationId,delete u.\u0275routerPageId,0!==Object.keys(u).length&&(s.state=u)}const l=this.parseUrl(r);this.scheduleNavigation(l,i,a,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(r){this.config=r.map(SB),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(r,i={}){const{relativeTo:o,queryParams:s,fragment:a,queryParamsHandling:l,preserveFragment:u}=i,m=u?this.currentUrlTree.fragment:a;let k,I=null;switch(l){case"merge":I={...this.currentUrlTree.queryParams,...s};break;case"preserve":I=this.currentUrlTree.queryParams;break;default:I=s||null}null!==I&&(I=this.removeEmptyProps(I));try{k=OO(o?o.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof r[0]||!r[0].startsWith("/"))&&(r=[]),k=this.currentUrlTree.root}return UO(k,r,I,null!=m?m:null)}navigateByUrl(r,i={skipLocationChange:!1}){const o=l0(r)?r:this.parseUrl(r),s=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(s,H_,null,i)}navigate(r,i={skipLocationChange:!1}){return function Aoe(t){for(let e=0;e<t.length;e++)if(null==t[e])throw new hn(4008,!1)}(r),this.navigateByUrl(this.createUrlTree(r,i),i)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){try{return this.urlSerializer.parse(r)}catch{return this.urlSerializer.parse("/")}}isActive(r,i){let o;if(o=!0===i?{...coe}:!1===i?{...doe}:i,l0(r))return DO(this.currentUrlTree,r,o);const s=this.parseUrl(r);return DO(this.currentUrlTree,s,o)}removeEmptyProps(r){return Object.entries(r).reduce((i,[o,s])=>(null!=s&&(i[o]=s),i),{})}scheduleNavigation(r,i,o,s,a){if(this.disposed)return Promise.resolve(!1);let l,u,m;a?(l=a.resolve,u=a.reject,m=a.promise):m=new Promise((k,U)=>{l=k,u=U});const I=this.pendingTasks.add();return mU(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(I))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:r,extras:s,resolve:l,reject:u,promise:m,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),m.catch(k=>Promise.reject(k))}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Cn({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),Zu=(()=>{var t;class e{constructor(r,i,o,s,a,l){var u;this.router=r,this.route=i,this.tabIndexAttribute=o,this.renderer=s,this.el=a,this.locationStrategy=l,this.href=null,this.commands=null,this.onChanges=new dt,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const m=null===(u=a.nativeElement.tagName)||void 0===u?void 0:u.toLowerCase();this.isAnchorElement="a"===m||"area"===m,this.isAnchorElement?this.subscription=r.events.subscribe(I=>{I instanceof Cp&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(r){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",r)}ngOnChanges(r){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(r){null!=r?(this.commands=Array.isArray(r)?r:[r],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(r,i,o,s,a){const l=this.urlTree;return!!(null===l||this.isAnchorElement&&(0!==r||i||o||s||a||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(l,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info}),!this.isAnchorElement)}ngOnDestroy(){var r;null===(r=this.subscription)||void 0===r||r.unsubscribe()}updateHref(){var r;const i=this.urlTree;this.href=null!==i&&this.locationStrategy?null===(r=this.locationStrategy)||void 0===r?void 0:r.prepareExternalUrl(this.router.serializeUrl(i)):null;const o=null===this.href?null:function Vk(t,e,n){return function xz(t,e){return"src"===e&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===e&&("base"===t||"link"===t)?Uk:Ok}(e,n)(t)}(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",o)}applyAttributeValue(r,i){const o=this.renderer,s=this.el.nativeElement;null!==i?o.setAttribute(s,r,i):o.removeAttribute(s,r)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return(t=e).\u0275fac=function(r){return new(r||t)(q(Jo),q(Pf),bc("tabindex"),q(fp),q(f),q(Df))},t.\u0275dir=St({type:t,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){1&r&&Sn("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),2&r&&kl("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[Vo.HasDecoratorInputTransform,"preserveFragment","preserveFragment",Xv],skipLocationChange:[Vo.HasDecoratorInputTransform,"skipLocationChange","skipLocationChange",Xv],replaceUrl:[Vo.HasDecoratorInputTransform,"replaceUrl","replaceUrl",Xv],routerLink:"routerLink"},standalone:!0,features:[UP,$s]}),e})();class vU{}let goe=(()=>{var t;class e{preload(r,i){return i().pipe(Im(()=>hi(null)))}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Cn({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),moe=(()=>{var t;class e{constructor(r,i,o,s,a){this.router=r,this.injector=o,this.preloadingStrategy=s,this.loader=a}setUpPreloading(){this.subscription=this.router.events.pipe(IA(r=>r instanceof Cp),M_(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(r,i){const o=[];for(const u of i){var s,a;u.providers&&!u._injector&&(u._injector=vC(u.providers,r,`Route: ${u.path}`));const m=null!==(s=u._injector)&&void 0!==s?s:r,I=null!==(a=u._loadedInjector)&&void 0!==a?a:m;var l;(u.loadChildren&&!u._loadedRoutes&&void 0===u.canLoad||u.loadComponent&&!u._loadedComponent)&&o.push(this.preloadConfig(m,u)),(u.children||u._loadedRoutes)&&o.push(this.processRoutes(I,null!==(l=u.children)&&void 0!==l?l:u._loadedRoutes))}return aa(o).pipe(r0())}preloadConfig(r,i){return this.preloadingStrategy.preload(i,()=>{let o;o=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(r,i):hi(null);const s=o.pipe(Ju(a=>{var l;return null===a?hi(void 0):(i._loadedRoutes=a.routes,i._loadedInjector=a.injector,this.processRoutes(null!==(l=a.injector)&&void 0!==l?l:r,a.routes))}));return i.loadComponent&&!i._loadedComponent?aa([s,this.loader.loadComponent(i)]).pipe(r0()):s})}}return(t=e).\u0275fac=function(r){return new(r||t)(Ln(Jo),Ln(xM),Ln(je),Ln(vU),Ln(kB))},t.\u0275prov=Cn({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();const PB=new Un("");let yU=(()=>{var t;class e{constructor(r,i,o,s,a={}){this.urlSerializer=r,this.transitions=i,this.viewportScroller=o,this.zone=s,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},a.scrollPositionRestoration||(a.scrollPositionRestoration="disabled"),a.anchorScrolling||(a.anchorScrolling="disabled")}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(r=>{r instanceof j_?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=r.navigationTrigger,this.restoredId=r.restoredState?r.restoredState.navigationId:0):r instanceof Cp?(this.lastId=r.id,this.scheduleScrollEvent(r,this.urlSerializer.parse(r.urlAfterRedirects).fragment)):r instanceof c0&&r.code===kb.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(r,this.urlSerializer.parse(r.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(r=>{r instanceof GO&&(r.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(r.position):r.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(r.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(r,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new GO(r,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){var r,i;null===(r=this.routerEventsSubscription)||void 0===r||r.unsubscribe(),null===(i=this.scrollEventsSubscription)||void 0===i||i.unsubscribe()}}return(t=e).\u0275fac=function(r){!function mR(){throw new Error("invalid")}()},t.\u0275prov=Cn({token:t,factory:t.\u0275fac}),e})();function Mf(t,e){return{\u0275kind:t,\u0275providers:e}}function wU(){const t=sn(Nn);return e=>{var n,r;const i=t.get(pp);if(e!==i.components[0])return;const o=t.get(Jo),s=t.get(CU);1===t.get(NB)&&o.initialNavigation(),null===(n=t.get(bU,null,Hr.Optional))||void 0===n||n.setUpPreloading(),null===(r=t.get(PB,null,Hr.Optional))||void 0===r||r.init(),o.resetRootComponentType(i.componentTypes[0]),s.closed||(s.next(),s.complete(),s.unsubscribe())}}const CU=new Un("",{factory:()=>new dt}),NB=new Un("",{providedIn:"root",factory:()=>1}),bU=new Un("");function woe(t){return Mf(0,[{provide:bU,useExisting:moe},{provide:vU,useExisting:t}])}function boe(t){return Mf(9,[{provide:fU,useValue:noe},{provide:pU,useValue:{skipNextTransition:!(null==t||!t.skipInitialTransition),...t}}])}const IU=new Un("ROUTER_FORROOT_GUARD"),Ioe=[Vh,{provide:Sm,useClass:AB},Jo,Tm,{provide:Pf,useFactory:function _U(t){return t.routerState.root},deps:[Jo]},kB,[]];let EU=(()=>{var t;class e{constructor(r){}static forRoot(r,i){return{ngModule:e,providers:[Ioe,[],{provide:g0,multi:!0,useValue:r},{provide:IU,useFactory:Boe,deps:[[Jo,new Uo,new ts]]},{provide:p0,useValue:i||{}},null!=i&&i.useHash?{provide:Df,useClass:C3}:{provide:Df,useClass:w3},{provide:PB,useFactory:()=>{const t=sn(xee),e=sn(In),n=sn(p0),r=sn(Ob),i=sn(Sm);return n.scrollOffset&&t.setOffset(n.scrollOffset),new yU(i,r,t,e,n)}},null!=i&&i.preloadingStrategy?woe(i.preloadingStrategy).\u0275providers:[],null!=i&&i.initialNavigation?Doe(i):[],null!=i&&i.bindToComponentInputs?Mf(8,[eU,{provide:Pb,useExisting:eU}]).\u0275providers:[],null!=i&&i.enableViewTransitions?boe().\u0275providers:[],[{provide:SU,useFactory:wU},{provide:JS,multi:!0,useExisting:SU}]]}}static forChild(r){return{ngModule:e,providers:[{provide:g0,multi:!0,useValue:r}]}}}return(t=e).\u0275fac=function(r){return new(r||t)(Ln(IU,8))},t.\u0275mod=xt({type:t}),t.\u0275inj=Yi({}),e})();function Boe(t){return"guarded"}function Doe(t){return["disabled"===t.initialNavigation?Mf(3,[{provide:UC,multi:!0,useFactory:()=>{const e=sn(Jo);return()=>{e.setUpLocationChangeListener()}}},{provide:NB,useValue:2}]).\u0275providers:[],"enabledBlocking"===t.initialNavigation?Mf(2,[{provide:NB,useValue:0},{provide:UC,multi:!0,deps:[Nn],useFactory:e=>{const n=e.get(lZ,Promise.resolve());return()=>n.then(()=>new Promise(r=>{const i=e.get(Jo),o=e.get(CU);mU(i,()=>{r(!0)}),e.get(Ob).afterPreactivation=()=>(r(!0),o.closed?hi(void 0):o),i.initialNavigation()}))}}]).\u0275providers:[]]}const SU=new Un("");class Foe{constructor(){this.m=new Map}reset(e){this.m=new Map(Object.entries(e))}get(e,n){const r=this.m.get(e);return void 0!==r?r:n}getBoolean(e,n=!1){const r=this.m.get(e);return void 0===r?n:"string"==typeof r?"true"===r:!!r}getNumber(e,n){const r=parseFloat(this.m.get(e));return isNaN(r)?void 0!==n?n:NaN:r}set(e,n){this.m.set(e,n)}}const wg=new Foe,DU=t=>FU(t),FU=(t=window)=>{if(typeof t>"u")return[];t.Ionic=t.Ionic||{};let e=t.Ionic.platforms;return null==e&&(e=t.Ionic.platforms=Moe(t),e.forEach(n=>t.document.documentElement.classList.add(`plt-${n}`))),e},Moe=t=>{const e=wg.get("platform");return Object.keys(MU).filter(n=>{const r=null==e?void 0:e[n];return"function"==typeof r?r(t):MU[n](t)})},MB=t=>!!(Bm(t,/iPad/i)||Bm(t,/Macintosh/i)&&Ub(t)),kU=t=>Bm(t,/android|sink/i),Ub=t=>Goe(t,"(any-pointer:coarse)"),RU=t=>PU(t)||NU(t),PU=t=>!!(t.cordova||t.phonegap||t.PhoneGap),NU=t=>{const e=t.Capacitor;return!(null==e||!e.isNative)},Bm=(t,e)=>e.test(t.navigator.userAgent),Goe=(t,e)=>{var n;return null===(n=t.matchMedia)||void 0===n?void 0:n.call(t,e).matches},MU={ipad:MB,iphone:t=>Bm(t,/iPhone/i),ios:t=>Bm(t,/iPhone|iPod/i)||MB(t),android:kU,phablet:t=>{const e=t.innerWidth,n=t.innerHeight,r=Math.min(e,n),i=Math.max(e,n);return r>390&&r<520&&i>620&&i<800},tablet:t=>{const e=t.innerWidth,n=t.innerHeight,r=Math.min(e,n),i=Math.max(e,n);return MB(t)||(t=>kU(t)&&!Bm(t,/mobile/i))(t)||r>460&&r<820&&i>780&&i<1400},cordova:PU,capacitor:NU,electron:t=>Bm(t,/electron/i),pwa:t=>{var e;return!!(null!==(e=t.matchMedia)&&void 0!==e&&e.call(t,"(display-mode: standalone)").matches||t.navigator.standalone)},mobile:Ub,mobileweb:t=>Ub(t)&&!RU(t),desktop:t=>!Ub(t),hybrid:RU};var Y_=wt(6031),Woe=wt(1656);const Koe=["addListener","removeListener"],qoe=["addEventListener","removeEventListener"],Yoe=["on","off"];function Vb(t,e,n,r){if(sr(n)&&(r=n,n=void 0),r)return Vb(t,e,n).pipe(UT(r));const[i,o]=function Zoe(t){return sr(t.addEventListener)&&sr(t.removeEventListener)}(t)?qoe.map(s=>a=>t[s](e,a,n)):function Xoe(t){return sr(t.addListener)&&sr(t.removeListener)}(t)?Koe.map(LU(t,e)):function Joe(t){return sr(t.on)&&sr(t.off)}(t)?Yoe.map(LU(t,e)):[];if(!i&&LT(t))return Ju(s=>Vb(s,e,n))(Qd(t));if(!i)throw new TypeError("Invalid event target");return new ro(s=>{const a=(...l)=>s.next(1<l.length?l:l[0]);return i(a),()=>o(a)})}function LU(t,e){return n=>r=>t[n](e,r)}function OU(t,e=Ro){return t=null!=t?t:ese,qn((n,r)=>{let i,o=!0;n.subscribe($r(r,s=>{const a=e(s);(o||!t(i,a))&&(o=!1,i=a,r.next(s))}))})}function ese(t,e){return t===e}class nse{constructor(e){this.menuController=e}open(e){return this.menuController.open(e)}close(e){return this.menuController.close(e)}toggle(e){return this.menuController.toggle(e)}enable(e,n){return this.menuController.enable(e,n)}swipeGesture(e,n){return this.menuController.swipeGesture(e,n)}isOpen(e){return this.menuController.isOpen(e)}isEnabled(e){return this.menuController.isEnabled(e)}get(e){return this.menuController.get(e)}getOpen(){return this.menuController.getOpen()}getMenus(){return this.menuController.getMenus()}registerAnimation(e,n){return this.menuController.registerAnimation(e,n)}isAnimating(){return this.menuController.isAnimating()}_getOpenSync(){return this.menuController._getOpenSync()}_createAnimation(e,n){return this.menuController._createAnimation(e,n)}_register(e){return this.menuController._register(e)}_unregister(e){return this.menuController._unregister(e)}_setOpen(e,n,r){return this.menuController._setOpen(e,n,r)}}let rse=(()=>{class t{constructor(n,r){this.doc=n,this.backButton=new dt,this.keyboardDidShow=new dt,this.keyboardDidHide=new dt,this.pause=new dt,this.resume=new dt,this.resize=new dt,r.run(()=>{var i;let o;this.win=n.defaultView,this.backButton.subscribeWithPriority=function(s,a){return this.subscribe(l=>l.register(s,u=>r.run(()=>a(u))))},v0(this.pause,n,"pause",r),v0(this.resume,n,"resume",r),v0(this.backButton,n,"ionBackButton",r),v0(this.resize,this.win,"resize",r),v0(this.keyboardDidShow,this.win,"ionKeyboardDidShow",r),v0(this.keyboardDidHide,this.win,"ionKeyboardDidHide",r),this._readyPromise=new Promise(s=>{o=s}),null!==(i=this.win)&&void 0!==i&&i.cordova?n.addEventListener("deviceready",()=>{o("cordova")},{once:!0}):o("dom")})}is(n){return((t,e)=>("string"==typeof t&&(e=t,t=void 0),DU(t).includes(e)))(this.win,n)}platforms(){return DU(this.win)}ready(){return this._readyPromise}get isRTL(){return"rtl"===this.doc.dir}getQueryParam(n){return ise(this.win.location.href,n)}isLandscape(){return!this.isPortrait()}isPortrait(){var n,r;return null===(n=(r=this.win).matchMedia)||void 0===n?void 0:n.call(r,"(orientation: portrait)").matches}testUserAgent(n){const r=this.win.navigator;return!!(null!=r&&r.userAgent&&r.userAgent.indexOf(n)>=0)}url(){return this.win.location.href}width(){return this.win.innerWidth}height(){return this.win.innerHeight}}return t.\u0275fac=function(n){return new(n||t)(Ln(Vd),Ln(In))},t.\u0275prov=Cn({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const ise=(t,e)=>{e=e.replace(/[[\]\\]/g,"\\$&");const r=new RegExp("[\\?&]"+e+"=([^&#]*)").exec(t);return r?decodeURIComponent(r[1].replace(/\+/g," ")):null},v0=(t,e,n,r)=>{e&&e.addEventListener(n,i=>{r.run(()=>{t.next(null!=i?i.detail:void 0)})})};let Dm=(()=>{class t{constructor(n,r,i,o){this.location=r,this.serializer=i,this.router=o,this.direction=UU,this.animated=VU,this.guessDirection="forward",this.lastNavId=-1,o&&o.events.subscribe(s=>{if(s instanceof j_){const a=s.restoredState?s.restoredState.navigationId:s.id;this.guessDirection=a<this.lastNavId?"back":"forward",this.guessAnimation=s.restoredState?void 0:this.guessDirection,this.lastNavId="forward"===this.guessDirection?s.id:a}}),n.backButton.subscribeWithPriority(0,s=>{this.pop(),s()})}navigateForward(n,r={}){return this.setDirection("forward",r.animated,r.animationDirection,r.animation),this.navigate(n,r)}navigateBack(n,r={}){return this.setDirection("back",r.animated,r.animationDirection,r.animation),this.navigate(n,r)}navigateRoot(n,r={}){return this.setDirection("root",r.animated,r.animationDirection,r.animation),this.navigate(n,r)}back(n={animated:!0,animationDirection:"back"}){return this.setDirection("back",n.animated,n.animationDirection,n.animation),this.location.back()}pop(){var n=this;return(0,V.A)(function*(){let r=n.topOutlet;for(;r;){if(yield r.pop())return!0;r=r.parentOutlet}return!1})()}setDirection(n,r,i,o){this.direction=n,this.animated=ose(n,r,i),this.animationBuilder=o}setTopOutlet(n){this.topOutlet=n}consumeTransition(){let r,n="root";const i=this.animationBuilder;return"auto"===this.direction?(n=this.guessDirection,r=this.guessAnimation):(r=this.animated,n=this.direction),this.direction=UU,this.animated=VU,this.animationBuilder=void 0,{direction:n,animation:r,animationBuilder:i}}navigate(n,r){if(Array.isArray(n))return this.router.navigate(n,r);{const i=this.serializer.parse(n.toString());return void 0!==r.queryParams&&(i.queryParams={...r.queryParams}),void 0!==r.fragment&&(i.fragment=r.fragment),this.router.navigateByUrl(i,r)}}}return t.\u0275fac=function(n){return new(n||t)(Ln(rse),Ln(Vh),Ln(Sm),Ln(Jo,8))},t.\u0275prov=Cn({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const ose=(t,e,n)=>{if(!1!==e){if(void 0!==n)return n;if("forward"===t||"back"===t)return t;if("root"===t&&!0===e)return"forward"}},UU="auto",VU=void 0;let LB=(()=>{class t{get(n,r){const i=OB();return i?i.get(n,r):null}getBoolean(n,r){const i=OB();return!!i&&i.getBoolean(n,r)}getNumber(n,r){const i=OB();return i?i.getNumber(n,r):0}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=Cn({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const QU=new Un("USERCONFIG"),OB=()=>{if(typeof window<"u"){const t=window.Ionic;if(null!=t&&t.config)return t.config}return null};class HU{constructor(e={}){this.data=e}get(e){return this.data[e]}}let X_=(()=>{class t{constructor(){this.zone=sn(In),this.applicationRef=sn(pp)}create(n,r,i){return new sse(n,r,this.applicationRef,this.zone,i)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=Cn({token:t,factory:t.\u0275fac}),t})();class sse{constructor(e,n,r,i,o){this.environmentInjector=e,this.injector=n,this.applicationRef=r,this.zone=i,this.elementReferenceKey=o,this.elRefMap=new WeakMap,this.elEventsMap=new WeakMap}attachViewToDom(e,n,r,i){return this.zone.run(()=>new Promise(o=>{const s={...r};void 0!==this.elementReferenceKey&&(s[this.elementReferenceKey]=e),o(ase(this.zone,this.environmentInjector,this.injector,this.applicationRef,this.elRefMap,this.elEventsMap,e,n,s,i,this.elementReferenceKey))}))}removeViewFromDom(e,n){return this.zone.run(()=>new Promise(r=>{const i=this.elRefMap.get(n);if(i){i.destroy(),this.elRefMap.delete(n);const o=this.elEventsMap.get(n);o&&(o(),this.elEventsMap.delete(n))}r()}))}}const ase=(t,e,n,r,i,o,s,a,l,u,m)=>{const k=function oZ(t,e){const n=Ne(t),r=e.elementInjector||pn();return new t_(n).create(r,e.projectableNodes,e.hostElement,e.environmentInjector)}(a,{environmentInjector:e,elementInjector:Nn.create({providers:use(l),parent:n})}),U=k.instance,Y=k.location.nativeElement;if(l&&(m&&void 0!==U[m]&&console.error(`[Ionic Error]: ${m} is a reserved property when using ${s.tagName.toLowerCase()}. Rename or remove the "${m}" property from ${a.name}.`),Object.assign(U,l)),u)for(const xe of u)Y.classList.add(xe);const ve=jU(t,U,Y);return s.appendChild(Y),r.attachView(k.hostView),i.set(Y,k),o.set(Y,ve),Y},lse=[Y_.L,Y_.a,Y_.b,Y_.c,Y_.d],jU=(t,e,n)=>t.run(()=>{const r=lse.filter(i=>"function"==typeof e[i]).map(i=>{const o=s=>e[i](s.detail);return n.addEventListener(i,o),()=>n.removeEventListener(i,o)});return()=>r.forEach(i=>i())}),zU=new Un("NavParamsToken"),use=t=>[{provide:zU,useValue:t},{provide:HU,useFactory:cse,deps:[zU]}],cse=t=>new HU(t),$U=(t,e)=>((t=t.filter(n=>n.stackId!==e.stackId)).push(e),t),VB=(t,e)=>{const n=t.createUrlTree(["."],{relativeTo:e});return t.serializeUrl(n)},GU=(t,e)=>!e||t.stackId!==e.stackId,Cse=(t,e)=>{if(!t)return;const n=WU(e);for(let r=0;r<n.length;r++){if(r>=t.length)return n[r];if(n[r]!==t[r])return}},WU=t=>t.split("/").map(e=>e.trim()).filter(e=>""!==e),KU=t=>{t&&(t.ref.destroy(),t.unlistenEvents())};class bse{constructor(e,n,r,i,o,s){this.containerEl=n,this.router=r,this.navCtrl=i,this.zone=o,this.location=s,this.views=[],this.skipTransition=!1,this.nextId=0,this.tabsPrefix=void 0!==e?WU(e):void 0}createView(e,n){var r;const i=VB(this.router,n),o=null==e||null===(r=e.location)||void 0===r?void 0:r.nativeElement,s=jU(this.zone,e.instance,o);return{id:this.nextId++,stackId:Cse(this.tabsPrefix,i),unlistenEvents:s,element:o,ref:e,url:i}}getExistingView(e){const n=VB(this.router,e),r=this.views.find(i=>i.url===n);return r&&r.ref.changeDetectorRef.reattach(),r}setActive(e){var n,r;const i=this.navCtrl.consumeTransition();let{direction:o,animation:s,animationBuilder:a}=i;const l=this.activeView,u=GU(e,l);u&&(o="back",s=void 0);const m=this.views.slice();let I;const k=this.router;k.getCurrentNavigation?I=k.getCurrentNavigation():null!==(n=k.navigations)&&void 0!==n&&n.value&&(I=k.navigations.value),null!==(r=I)&&void 0!==r&&null!==(r=r.extras)&&void 0!==r&&r.replaceUrl&&this.views.length>0&&this.views.splice(-1,1);const U=this.views.includes(e),Y=this.insertView(e,o);U||e.ref.changeDetectorRef.detectChanges();const ve=e.animationBuilder;return void 0===a&&"back"===o&&!u&&void 0!==ve&&(a=ve),l&&(l.animationBuilder=a),this.zone.runOutsideAngular(()=>this.wait(()=>(l&&l.ref.changeDetectorRef.detach(),e.ref.changeDetectorRef.reattach(),this.transition(e,l,s,this.canGoBack(1),!1,a).then(()=>Ise(e,Y,m,this.location,this.zone)).then(()=>({enteringView:e,direction:o,animation:s,tabSwitch:u})))))}canGoBack(e,n=this.getActiveStackId()){return this.getStack(n).length>e}pop(e,n=this.getActiveStackId()){return this.zone.run(()=>{const r=this.getStack(n);if(r.length<=e)return Promise.resolve(!1);const i=r[r.length-e-1];let o=i.url;const s=i.savedData;if(s){var a;const u=s.get("primary");null!=u&&null!==(a=u.route)&&void 0!==a&&null!==(a=a._routerState)&&void 0!==a&&a.snapshot.url&&(o=u.route._routerState.snapshot.url)}const{animationBuilder:l}=this.navCtrl.consumeTransition();return this.navCtrl.navigateBack(o,{...i.savedExtras,animation:l}).then(()=>!0)})}startBackTransition(){const e=this.activeView;if(e){const n=this.getStack(e.stackId),r=n[n.length-2],i=r.animationBuilder;return this.wait(()=>this.transition(r,e,"back",this.canGoBack(2),!0,i))}return Promise.resolve()}endBackTransition(e){e?(this.skipTransition=!0,this.pop(1)):this.activeView&&qU(this.activeView,this.views,this.views,this.location,this.zone)}getLastUrl(e){const n=this.getStack(e);return n.length>0?n[n.length-1]:void 0}getRootUrl(e){const n=this.getStack(e);return n.length>0?n[0]:void 0}getActiveStackId(){return this.activeView?this.activeView.stackId:void 0}getActiveView(){return this.activeView}hasRunningTask(){return void 0!==this.runningTask}destroy(){this.containerEl=void 0,this.views.forEach(KU),this.activeView=void 0,this.views=[]}getStack(e){return this.views.filter(n=>n.stackId===e)}insertView(e,n){return this.activeView=e,this.views=((t,e,n)=>"root"===n?$U(t,e):"forward"===n?((t,e)=>(t.indexOf(e)>=0?t=t.filter(r=>r.stackId!==e.stackId||r.id<=e.id):t.push(e),t))(t,e):((t,e)=>t.indexOf(e)>=0?t.filter(r=>r.stackId!==e.stackId||r.id<=e.id):$U(t,e))(t,e))(this.views,e,n),this.views.slice()}transition(e,n,r,i,o,s){if(this.skipTransition)return this.skipTransition=!1,Promise.resolve(!1);if(n===e)return Promise.resolve(!1);const a=e?e.element:void 0,l=n?n.element:void 0,u=this.containerEl;return a&&a!==l&&(a.classList.add("ion-page"),a.classList.add("ion-page-invisible"),a.parentElement!==u&&u.appendChild(a),u.commit)?u.commit(a,l,{duration:void 0===r?0:void 0,direction:r,showGoBack:i,progressAnimation:o,animationBuilder:s}):Promise.resolve(!1)}wait(e){var n=this;return(0,V.A)(function*(){void 0!==n.runningTask&&(yield n.runningTask,n.runningTask=void 0);const r=n.runningTask=e();return r.finally(()=>n.runningTask=void 0),r})()}}const Ise=(t,e,n,r,i)=>"function"==typeof requestAnimationFrame?new Promise(o=>{requestAnimationFrame(()=>{qU(t,e,n,r,i),o()})}):Promise.resolve(),qU=(t,e,n,r,i)=>{i.run(()=>n.filter(o=>!e.includes(o)).forEach(KU)),e.forEach(o=>{const a=r.path().split("?")[0].split("#")[0];if(o!==t&&o.url!==a){const l=o.element;l.setAttribute("aria-hidden","true"),l.classList.add("ion-page-hidden"),o.ref.changeDetectorRef.detach()}})};let YU=(()=>{class t{constructor(n,r,i,o,s,a,l,u){this.parentOutlet=u,this.activatedView=null,this.proxyMap=new WeakMap,this.currentActivatedRoute$=new rt(null),this.activated=null,this._activatedRoute=null,this.name=Wi,this.stackWillChange=new X,this.stackDidChange=new X,this.activateEvents=new X,this.deactivateEvents=new X,this.parentContexts=sn(Tm),this.location=sn(oh),this.environmentInjector=sn(je),this.inputBinder=sn(XU,{optional:!0}),this.supportsBindingToComponentInputs=!0,this.config=sn(LB),this.navCtrl=sn(Dm),this.nativeEl=o.nativeElement,this.name=n||Wi,this.tabsPrefix="true"===r?VB(s,l):void 0,this.stackCtrl=new bse(this.tabsPrefix,this.nativeEl,s,this.navCtrl,a,i),this.parentContexts.onChildOutletCreated(this.name,this)}get activatedComponentRef(){return this.activated}set animation(n){this.nativeEl.animation=n}set animated(n){this.nativeEl.animated=n}set swipeGesture(n){this._swipeGesture=n,this.nativeEl.swipeHandler=n?{canStart:()=>this.stackCtrl.canGoBack(1)&&!this.stackCtrl.hasRunningTask(),onStart:()=>this.stackCtrl.startBackTransition(),onEnd:r=>this.stackCtrl.endBackTransition(r)}:void 0}ngOnDestroy(){var n;this.stackCtrl.destroy(),null===(n=this.inputBinder)||void 0===n||n.unsubscribeFromRouteData(this)}getContext(){return this.parentContexts.getContext(this.name)}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(!this.activated){const n=this.getContext();null!=n&&n.route&&this.activateWith(n.route,n.injector)}new Promise(n=>(0,Woe.c)(this.nativeEl,n)).then(()=>{void 0===this._swipeGesture&&(this.swipeGesture=this.config.getBoolean("swipeBackEnabled","ios"===this.nativeEl.mode))})}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){throw new Error("incompatible reuse strategy")}attach(n,r){throw new Error("incompatible reuse strategy")}deactivate(){if(this.activated){if(this.activatedView){const r=this.getContext();this.activatedView.savedData=new Map(r.children.contexts);const i=this.activatedView.savedData.get("primary");if(i&&r.route&&(i.route={...r.route}),this.activatedView.savedExtras={},r.route){const o=r.route.snapshot;this.activatedView.savedExtras.queryParams=o.queryParams,this.activatedView.savedExtras.fragment=o.fragment}}const n=this.component;this.activatedView=null,this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){var i;if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=n;let o,s=this.stackCtrl.getExistingView(n);if(s){o=this.activated=s.ref;const u=s.savedData;u&&(this.getContext().children.contexts=u),this.updateActivatedRouteProxy(o.instance,n)}else{var a;const u=n._futureSnapshot,m=this.parentContexts.getOrCreateContext(this.name).children,I=new rt(null),k=this.createActivatedRouteProxy(I,n),U=new Ese(k,m,this.location.injector),Y=null!==(a=u.routeConfig.component)&&void 0!==a?a:u.component;o=this.activated=this.location.createComponent(Y,{index:this.location.length,injector:U,environmentInjector:null!=r?r:this.environmentInjector}),I.next(o.instance),s=this.stackCtrl.createView(this.activated,n),this.proxyMap.set(o.instance,k),this.currentActivatedRoute$.next({component:o.instance,activatedRoute:n})}null===(i=this.inputBinder)||void 0===i||i.bindActivatedRouteToOutletComponent(this),this.activatedView=s,this.navCtrl.setTopOutlet(this);const l=this.stackCtrl.getActiveView();this.stackWillChange.emit({enteringView:s,tabSwitch:GU(s,l)}),this.stackCtrl.setActive(s).then(u=>{this.activateEvents.emit(o.instance),this.stackDidChange.emit(u)})}canGoBack(n=1,r){return this.stackCtrl.canGoBack(n,r)}pop(n=1,r){return this.stackCtrl.pop(n,r)}getLastUrl(n){const r=this.stackCtrl.getLastUrl(n);return r?r.url:void 0}getLastRouteView(n){return this.stackCtrl.getLastUrl(n)}getRootView(n){return this.stackCtrl.getRootUrl(n)}getActiveStackId(){return this.stackCtrl.getActiveStackId()}createActivatedRouteProxy(n,r){const i=new Pf;return i._futureSnapshot=r._futureSnapshot,i._routerState=r._routerState,i.snapshot=r.snapshot,i.outlet=r.outlet,i.component=r.component,i._paramMap=this.proxyObservable(n,"paramMap"),i._queryParamMap=this.proxyObservable(n,"queryParamMap"),i.url=this.proxyObservable(n,"url"),i.params=this.proxyObservable(n,"params"),i.queryParams=this.proxyObservable(n,"queryParams"),i.fragment=this.proxyObservable(n,"fragment"),i.data=this.proxyObservable(n,"data"),i}proxyObservable(n,r){return n.pipe(IA(i=>!!i),hl(i=>this.currentActivatedRoute$.pipe(IA(o=>null!==o&&o.component===i),hl(o=>o&&o.activatedRoute[r]),OU())))}updateActivatedRouteProxy(n,r){const i=this.proxyMap.get(n);if(!i)throw new Error("Could not find activated route proxy for view");i._futureSnapshot=r._futureSnapshot,i._routerState=r._routerState,i.snapshot=r.snapshot,i.outlet=r.outlet,i.component=r.component,this.currentActivatedRoute$.next({component:n,activatedRoute:r})}}return t.\u0275fac=function(n){return new(n||t)(bc("name"),bc("tabs"),q(Vh),q(f),q(Jo),q(In),q(Pf),q(t,12))},t.\u0275dir=St({type:t,selectors:[["ion-router-outlet"]],inputs:{animated:"animated",animation:"animation",mode:"mode",swipeGesture:"swipeGesture",name:"name"},outputs:{stackWillChange:"stackWillChange",stackDidChange:"stackDidChange",activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),t})();class Ese{constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===Pf?this.route:e===Tm?this.childContexts:this.parent.get(e,n)}}const XU=new Un("");let Sse=(()=>{class t{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(n){this.unsubscribeFromRouteData(n),this.subscribeToRouteData(n)}unsubscribeFromRouteData(n){var r;null===(r=this.outletDataSubscriptions.get(n))||void 0===r||r.unsubscribe(),this.outletDataSubscriptions.delete(n)}subscribeToRouteData(n){const{activatedRoute:r}=n,i=_b([r.queryParams,r.params,r.data]).pipe(hl(([o,s,a],l)=>(a={...o,...s,...a},0===l?hi(a):Promise.resolve(a)))).subscribe(o=>{if(!n.isActivated||!n.activatedComponentRef||n.activatedRoute!==r||null===r.component)return void this.unsubscribeFromRouteData(n);const s=v3(r.component);if(s)for(const{templateName:a}of s.inputs)n.activatedComponentRef.setInput(a,o[a]);else this.unsubscribeFromRouteData(n)});this.outletDataSubscriptions.set(n,i)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=Cn({token:t,factory:t.\u0275fac}),t})();function Bse(t){return null!=t&&t.componentInputBindingEnabled?new Sse:null}let Fse=(()=>{class t{constructor(n,r,i,o,s){this.locationStrategy=n,this.navCtrl=r,this.elementRef=i,this.router=o,this.routerLink=s,this.routerDirection="forward"}ngOnInit(){this.updateTargetUrlAndHref()}ngOnChanges(){this.updateTargetUrlAndHref()}updateTargetUrlAndHref(){var n;if(null!==(n=this.routerLink)&&void 0!==n&&n.urlTree){const r=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.routerLink.urlTree));this.elementRef.nativeElement.href=r}}onClick(n){this.navCtrl.setDirection(this.routerDirection,void 0,void 0,this.routerAnimation),n.preventDefault()}}return t.\u0275fac=function(n){return new(n||t)(q(Df),q(Dm),q(f),q(Jo),q(Zu,8))},t.\u0275dir=St({type:t,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(n,r){1&n&&Sn("click",function(o){return r.onClick(o)})},inputs:{routerDirection:"routerDirection",routerAnimation:"routerAnimation"},features:[$s]}),t})();const JU=t=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(t):"function"==typeof requestAnimationFrame?requestAnimationFrame(t):setTimeout(t);class HB{constructor(e){this.ctrl=e}create(e){return this.ctrl.create(e||{})}dismiss(e,n,r){return this.ctrl.dismiss(e,n,r)}getTop(){return this.ctrl.getTop()}}wt(3503),wt(1497),wt(2604),wt(3003),wt(405);var Use=wt(8436),Vse=wt(464),Qse=wt(7818),jB=wt(4133),Hse=(wt(8476),wt(9081));wt(8221),wt(9457);const zse=Use.i,$se=function(){var t=(0,V.A)(function*(e,n){if(!(typeof window>"u"))return yield zse(),(0,Hse.b)(JSON.parse('[["ion-menu_3",[[33,"ion-menu-button",{"color":[513],"disabled":[4],"menu":[1],"autoHide":[4,"auto-hide"],"type":[1],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]],[33,"ion-menu",{"contentId":[513,"content-id"],"menuId":[513,"menu-id"],"type":[1025],"disabled":[1028],"side":[513],"swipeGesture":[4,"swipe-gesture"],"maxEdgeStart":[2,"max-edge-start"],"isPaneVisible":[32],"isEndSide":[32],"isOpen":[64],"isActive":[64],"open":[64],"close":[64],"toggle":[64],"setOpen":[64]},[[16,"ionSplitPaneVisible","onSplitPaneChanged"],[2,"click","onBackdropClick"]],{"type":["typeChanged"],"disabled":["disabledChanged"],"side":["sideChanged"],"swipeGesture":["swipeGestureChanged"]}],[1,"ion-menu-toggle",{"menu":[1],"autoHide":[4,"auto-hide"],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]]]],["ion-fab_3",[[33,"ion-fab-button",{"color":[513],"activated":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1],"show":[4],"translucent":[4],"type":[1],"size":[1],"closeIcon":[1,"close-icon"]}],[1,"ion-fab",{"horizontal":[1],"vertical":[1],"edge":[4],"activated":[1028],"close":[64],"toggle":[64]},null,{"activated":["activatedChanged"]}],[1,"ion-fab-list",{"activated":[4],"side":[1]},null,{"activated":["activatedChanged"]}]]],["ion-refresher_2",[[0,"ion-refresher-content",{"pullingIcon":[1025,"pulling-icon"],"pullingText":[1,"pulling-text"],"refreshingSpinner":[1025,"refreshing-spinner"],"refreshingText":[1,"refreshing-text"]}],[32,"ion-refresher",{"pullMin":[2,"pull-min"],"pullMax":[2,"pull-max"],"closeDuration":[1,"close-duration"],"snapbackDuration":[1,"snapback-duration"],"pullFactor":[2,"pull-factor"],"disabled":[4],"nativeRefresher":[32],"state":[32],"complete":[64],"cancel":[64],"getProgress":[64]},null,{"disabled":["disabledChanged"]}]]],["ion-back-button",[[33,"ion-back-button",{"color":[513],"defaultHref":[1025,"default-href"],"disabled":[516],"icon":[1],"text":[1],"type":[1],"routerAnimation":[16]}]]],["ion-toast",[[33,"ion-toast",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"color":[513],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"duration":[2],"header":[1],"layout":[1],"message":[1],"keyboardClose":[4,"keyboard-close"],"position":[1],"positionAnchor":[1,"position-anchor"],"buttons":[16],"translucent":[4],"animated":[4],"icon":[1],"htmlAttributes":[16],"swipeGesture":[1,"swipe-gesture"],"isOpen":[4,"is-open"],"trigger":[1],"revealContentToScreenReader":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"swipeGesture":["swipeGestureChanged"],"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-card_5",[[33,"ion-card",{"color":[513],"button":[4],"type":[1],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}],[32,"ion-card-content"],[33,"ion-card-header",{"color":[513],"translucent":[4]}],[33,"ion-card-subtitle",{"color":[513]}],[33,"ion-card-title",{"color":[513]}]]],["ion-item-option_3",[[33,"ion-item-option",{"color":[513],"disabled":[4],"download":[1],"expandable":[4],"href":[1],"rel":[1],"target":[1],"type":[1]}],[32,"ion-item-options",{"side":[1],"fireSwipeEvent":[64]}],[0,"ion-item-sliding",{"disabled":[4],"state":[32],"getOpenAmount":[64],"getSlidingRatio":[64],"open":[64],"close":[64],"closeOpened":[64]},null,{"disabled":["disabledChanged"]}]]],["ion-accordion_2",[[49,"ion-accordion",{"value":[1],"disabled":[4],"readonly":[4],"toggleIcon":[1,"toggle-icon"],"toggleIconSlot":[1,"toggle-icon-slot"],"state":[32],"isNext":[32],"isPrevious":[32]},null,{"value":["valueChanged"]}],[33,"ion-accordion-group",{"animated":[4],"multiple":[4],"value":[1025],"disabled":[4],"readonly":[4],"expand":[1],"requestAccordionToggle":[64],"getAccordions":[64]},[[0,"keydown","onKeydown"]],{"value":["valueChanged"],"disabled":["disabledChanged"],"readonly":["readonlyChanged"]}]]],["ion-infinite-scroll_2",[[32,"ion-infinite-scroll-content",{"loadingSpinner":[1025,"loading-spinner"],"loadingText":[1,"loading-text"]}],[0,"ion-infinite-scroll",{"threshold":[1],"disabled":[4],"position":[1],"isLoading":[32],"complete":[64]},null,{"threshold":["thresholdChanged"],"disabled":["disabledChanged"]}]]],["ion-reorder_2",[[33,"ion-reorder",null,[[2,"click","onClick"]]],[0,"ion-reorder-group",{"disabled":[4],"state":[32],"complete":[64]},null,{"disabled":["disabledChanged"]}]]],["ion-segment_2",[[33,"ion-segment-button",{"disabled":[1028],"layout":[1],"type":[1],"value":[8],"checked":[32],"setFocus":[64]},null,{"value":["valueChanged"]}],[33,"ion-segment",{"color":[513],"disabled":[4],"scrollable":[4],"swipeGesture":[4,"swipe-gesture"],"value":[1032],"selectOnFocus":[4,"select-on-focus"],"activated":[32]},[[0,"keydown","onKeyDown"]],{"color":["colorChanged"],"swipeGesture":["swipeGestureChanged"],"value":["valueChanged"],"disabled":["disabledChanged"]}]]],["ion-tab-bar_2",[[33,"ion-tab-button",{"disabled":[4],"download":[1],"href":[1],"rel":[1],"layout":[1025],"selected":[1028],"tab":[1],"target":[1]},[[8,"ionTabBarChanged","onTabBarChanged"]]],[33,"ion-tab-bar",{"color":[513],"selectedTab":[1,"selected-tab"],"translucent":[4],"keyboardVisible":[32]},null,{"selectedTab":["selectedTabChanged"]}]]],["ion-chip",[[33,"ion-chip",{"color":[513],"outline":[4],"disabled":[4]}]]],["ion-datetime-button",[[33,"ion-datetime-button",{"color":[513],"disabled":[516],"datetime":[1],"datetimePresentation":[32],"dateText":[32],"timeText":[32],"datetimeActive":[32],"selectedButton":[32]}]]],["ion-input",[[38,"ion-input",{"color":[513],"accept":[1],"autocapitalize":[1],"autocomplete":[1],"autocorrect":[1],"autofocus":[4],"clearInput":[4,"clear-input"],"clearOnEdit":[4,"clear-on-edit"],"counter":[4],"counterFormatter":[16],"debounce":[2],"disabled":[4],"enterkeyhint":[1],"errorText":[1,"error-text"],"fill":[1],"inputmode":[1],"helperText":[1,"helper-text"],"label":[1],"labelPlacement":[1,"label-placement"],"legacy":[4],"max":[8],"maxlength":[2],"min":[8],"minlength":[2],"multiple":[4],"name":[1],"pattern":[1],"placeholder":[1],"readonly":[4],"required":[4],"shape":[1],"spellcheck":[4],"step":[1],"size":[2],"type":[1],"value":[1032],"hasFocus":[32],"setFocus":[64],"getInputElement":[64]},null,{"debounce":["debounceChanged"],"disabled":["disabledChanged"],"placeholder":["placeholderChanged"],"value":["valueChanged"]}]]],["ion-searchbar",[[34,"ion-searchbar",{"color":[513],"animated":[4],"autocapitalize":[1],"autocomplete":[1],"autocorrect":[1],"cancelButtonIcon":[1,"cancel-button-icon"],"cancelButtonText":[1,"cancel-button-text"],"clearIcon":[1,"clear-icon"],"debounce":[2],"disabled":[4],"inputmode":[1],"enterkeyhint":[1],"maxlength":[2],"minlength":[2],"name":[1],"placeholder":[1],"searchIcon":[1,"search-icon"],"showCancelButton":[1,"show-cancel-button"],"showClearButton":[1,"show-clear-button"],"spellcheck":[4],"type":[1],"value":[1025],"focused":[32],"noAnimate":[32],"setFocus":[64],"getInputElement":[64]},null,{"lang":["onLangChanged"],"dir":["onDirChanged"],"debounce":["debounceChanged"],"value":["valueChanged"],"showCancelButton":["showCancelButtonChanged"]}]]],["ion-toggle",[[33,"ion-toggle",{"color":[513],"name":[1],"checked":[1028],"disabled":[4],"value":[1],"enableOnOffLabels":[4,"enable-on-off-labels"],"labelPlacement":[1,"label-placement"],"legacy":[4],"justify":[1],"alignment":[1],"activated":[32]},null,{"disabled":["disabledChanged"]}]]],["ion-nav_2",[[1,"ion-nav",{"delegate":[16],"swipeGesture":[1028,"swipe-gesture"],"animated":[4],"animation":[16],"rootParams":[16],"root":[1],"push":[64],"insert":[64],"insertPages":[64],"pop":[64],"popTo":[64],"popToRoot":[64],"removeIndex":[64],"setRoot":[64],"setPages":[64],"setRouteId":[64],"getRouteId":[64],"getActive":[64],"getByIndex":[64],"canGoBack":[64],"getPrevious":[64]},null,{"swipeGesture":["swipeGestureChanged"],"root":["rootChanged"]}],[0,"ion-nav-link",{"component":[1],"componentProps":[16],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}]]],["ion-textarea",[[38,"ion-textarea",{"color":[513],"autocapitalize":[1],"autofocus":[4],"clearOnEdit":[4,"clear-on-edit"],"debounce":[2],"disabled":[4],"fill":[1],"inputmode":[1],"enterkeyhint":[1],"maxlength":[2],"minlength":[2],"name":[1],"placeholder":[1],"readonly":[4],"required":[4],"spellcheck":[4],"cols":[514],"rows":[2],"wrap":[1],"autoGrow":[516,"auto-grow"],"value":[1025],"counter":[4],"counterFormatter":[16],"errorText":[1,"error-text"],"helperText":[1,"helper-text"],"label":[1],"labelPlacement":[1,"label-placement"],"legacy":[4],"shape":[1],"hasFocus":[32],"setFocus":[64],"getInputElement":[64]},null,{"debounce":["debounceChanged"],"disabled":["disabledChanged"],"value":["valueChanged"]}]]],["ion-backdrop",[[33,"ion-backdrop",{"visible":[4],"tappable":[4],"stopPropagation":[4,"stop-propagation"]},[[2,"click","onMouseDown"]]]]],["ion-loading",[[34,"ion-loading",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"message":[1],"cssClass":[1,"css-class"],"duration":[2],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"spinner":[1025],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-breadcrumb_2",[[33,"ion-breadcrumb",{"collapsed":[4],"last":[4],"showCollapsedIndicator":[4,"show-collapsed-indicator"],"color":[1],"active":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"separator":[4],"target":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}],[33,"ion-breadcrumbs",{"color":[513],"maxItems":[2,"max-items"],"itemsBeforeCollapse":[2,"items-before-collapse"],"itemsAfterCollapse":[2,"items-after-collapse"],"collapsed":[32],"activeChanged":[32]},[[0,"collapsedClick","onCollapsedClick"]],{"maxItems":["maxItemsChanged"],"itemsBeforeCollapse":["maxItemsChanged"],"itemsAfterCollapse":["maxItemsChanged"]}]]],["ion-modal",[[33,"ion-modal",{"hasController":[4,"has-controller"],"overlayIndex":[2,"overlay-index"],"delegate":[16],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"breakpoints":[16],"initialBreakpoint":[2,"initial-breakpoint"],"backdropBreakpoint":[2,"backdrop-breakpoint"],"handle":[4],"handleBehavior":[1,"handle-behavior"],"component":[1],"componentProps":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"animated":[4],"presentingElement":[16],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"keepContentsMounted":[4,"keep-contents-mounted"],"canDismiss":[4,"can-dismiss"],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"setCurrentBreakpoint":[64],"getCurrentBreakpoint":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-route_4",[[0,"ion-route",{"url":[1],"component":[1],"componentProps":[16],"beforeLeave":[16],"beforeEnter":[16]},null,{"url":["onUpdate"],"component":["onUpdate"],"componentProps":["onComponentProps"]}],[0,"ion-route-redirect",{"from":[1],"to":[1]},null,{"from":["propDidChange"],"to":["propDidChange"]}],[0,"ion-router",{"root":[1],"useHash":[4,"use-hash"],"canTransition":[64],"push":[64],"back":[64],"printDebug":[64],"navChanged":[64]},[[8,"popstate","onPopState"],[4,"ionBackButton","onBackButton"]]],[1,"ion-router-link",{"color":[513],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}]]],["ion-avatar_3",[[33,"ion-avatar"],[33,"ion-badge",{"color":[513]}],[1,"ion-thumbnail"]]],["ion-col_3",[[1,"ion-col",{"offset":[1],"offsetXs":[1,"offset-xs"],"offsetSm":[1,"offset-sm"],"offsetMd":[1,"offset-md"],"offsetLg":[1,"offset-lg"],"offsetXl":[1,"offset-xl"],"pull":[1],"pullXs":[1,"pull-xs"],"pullSm":[1,"pull-sm"],"pullMd":[1,"pull-md"],"pullLg":[1,"pull-lg"],"pullXl":[1,"pull-xl"],"push":[1],"pushXs":[1,"push-xs"],"pushSm":[1,"push-sm"],"pushMd":[1,"push-md"],"pushLg":[1,"push-lg"],"pushXl":[1,"push-xl"],"size":[1],"sizeXs":[1,"size-xs"],"sizeSm":[1,"size-sm"],"sizeMd":[1,"size-md"],"sizeLg":[1,"size-lg"],"sizeXl":[1,"size-xl"]},[[9,"resize","onResize"]]],[1,"ion-grid",{"fixed":[4]}],[1,"ion-row"]]],["ion-tab_2",[[1,"ion-tab",{"active":[1028],"delegate":[16],"tab":[1],"component":[1],"setActive":[64]},null,{"active":["changeActive"]}],[1,"ion-tabs",{"useRouter":[1028,"use-router"],"selectedTab":[32],"select":[64],"getTab":[64],"getSelected":[64],"setRouteId":[64],"getRouteId":[64]}]]],["ion-img",[[1,"ion-img",{"alt":[1],"src":[1],"loadSrc":[32],"loadError":[32]},null,{"src":["srcChanged"]}]]],["ion-progress-bar",[[33,"ion-progress-bar",{"type":[1],"reversed":[4],"value":[2],"buffer":[2],"color":[513]}]]],["ion-range",[[33,"ion-range",{"color":[513],"debounce":[2],"name":[1],"label":[1],"dualKnobs":[4,"dual-knobs"],"min":[2],"max":[2],"pin":[4],"pinFormatter":[16],"snaps":[4],"step":[2],"ticks":[4],"activeBarStart":[1026,"active-bar-start"],"disabled":[4],"value":[1026],"labelPlacement":[1,"label-placement"],"legacy":[4],"ratioA":[32],"ratioB":[32],"pressedKnob":[32]},null,{"debounce":["debounceChanged"],"min":["minChanged"],"max":["maxChanged"],"activeBarStart":["activeBarStartChanged"],"disabled":["disabledChanged"],"value":["valueChanged"]}]]],["ion-split-pane",[[33,"ion-split-pane",{"contentId":[513,"content-id"],"disabled":[4],"when":[8],"visible":[32]},null,{"visible":["visibleChanged"],"disabled":["updateState"],"when":["updateState"]}]]],["ion-text",[[1,"ion-text",{"color":[513]}]]],["ion-item_8",[[33,"ion-item-divider",{"color":[513],"sticky":[4]}],[32,"ion-item-group"],[1,"ion-skeleton-text",{"animated":[4]}],[32,"ion-list",{"lines":[1],"inset":[4],"closeSlidingItems":[64]}],[33,"ion-list-header",{"color":[513],"lines":[1]}],[49,"ion-item",{"color":[513],"button":[4],"detail":[4],"detailIcon":[1,"detail-icon"],"disabled":[4],"download":[1],"fill":[1],"shape":[1],"href":[1],"rel":[1],"lines":[1],"counter":[4],"routerAnimation":[16],"routerDirection":[1,"router-direction"],"target":[1],"type":[1],"counterFormatter":[16],"multipleInputs":[32],"focusable":[32],"counterString":[32]},[[0,"ionInput","handleIonInput"],[0,"ionColor","labelColorChanged"],[0,"ionStyle","itemStyle"]],{"button":["buttonChanged"],"counterFormatter":["counterFormatterChanged"]}],[34,"ion-label",{"color":[513],"position":[1],"noAnimate":[32]},null,{"color":["colorChanged"],"position":["positionChanged"]}],[33,"ion-note",{"color":[513]}]]],["ion-select_3",[[33,"ion-select",{"cancelText":[1,"cancel-text"],"color":[513],"compareWith":[1,"compare-with"],"disabled":[4],"fill":[1],"interface":[1],"interfaceOptions":[8,"interface-options"],"justify":[1],"label":[1],"labelPlacement":[1,"label-placement"],"legacy":[4],"multiple":[4],"name":[1],"okText":[1,"ok-text"],"placeholder":[1],"selectedText":[1,"selected-text"],"toggleIcon":[1,"toggle-icon"],"expandedIcon":[1,"expanded-icon"],"shape":[1],"value":[1032],"isExpanded":[32],"open":[64]},null,{"disabled":["styleChanged"],"isExpanded":["styleChanged"],"placeholder":["styleChanged"],"value":["styleChanged"]}],[1,"ion-select-option",{"disabled":[4],"value":[8]}],[34,"ion-select-popover",{"header":[1],"subHeader":[1,"sub-header"],"message":[1],"multiple":[4],"options":[16]}]]],["ion-picker-internal",[[33,"ion-picker-internal",{"exitInputMode":[64]},[[1,"touchstart","preventTouchStartPropagation"]]]]],["ion-datetime_3",[[33,"ion-datetime",{"color":[1],"name":[1],"disabled":[4],"formatOptions":[16],"readonly":[4],"isDateEnabled":[16],"min":[1025],"max":[1025],"presentation":[1],"cancelText":[1,"cancel-text"],"doneText":[1,"done-text"],"clearText":[1,"clear-text"],"yearValues":[8,"year-values"],"monthValues":[8,"month-values"],"dayValues":[8,"day-values"],"hourValues":[8,"hour-values"],"minuteValues":[8,"minute-values"],"locale":[1],"firstDayOfWeek":[2,"first-day-of-week"],"titleSelectedDatesFormatter":[16],"multiple":[4],"highlightedDates":[16],"value":[1025],"showDefaultTitle":[4,"show-default-title"],"showDefaultButtons":[4,"show-default-buttons"],"showClearButton":[4,"show-clear-button"],"showDefaultTimeLabel":[4,"show-default-time-label"],"hourCycle":[1,"hour-cycle"],"size":[1],"preferWheel":[4,"prefer-wheel"],"showMonthAndYear":[32],"activeParts":[32],"workingParts":[32],"isTimePopoverOpen":[32],"forceRenderDate":[32],"confirm":[64],"reset":[64],"cancel":[64]},null,{"formatOptions":["formatOptionsChanged"],"disabled":["disabledChanged"],"min":["minChanged"],"max":["maxChanged"],"presentation":["presentationChanged"],"yearValues":["yearValuesChanged"],"monthValues":["monthValuesChanged"],"dayValues":["dayValuesChanged"],"hourValues":["hourValuesChanged"],"minuteValues":["minuteValuesChanged"],"value":["valueChanged"]}],[34,"ion-picker",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"columns":[16],"cssClass":[1,"css-class"],"duration":[2],"showBackdrop":[4,"show-backdrop"],"backdropDismiss":[4,"backdrop-dismiss"],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"getColumn":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}],[32,"ion-picker-column",{"col":[16]},null,{"col":["colChanged"]}]]],["ion-radio_2",[[33,"ion-radio",{"color":[513],"name":[1],"disabled":[4],"value":[8],"labelPlacement":[1,"label-placement"],"legacy":[4],"justify":[1],"alignment":[1],"checked":[32],"buttonTabindex":[32],"setFocus":[64],"setButtonTabindex":[64]},null,{"value":["valueChanged"],"checked":["styleChanged"],"color":["styleChanged"],"disabled":["styleChanged"]}],[0,"ion-radio-group",{"allowEmptySelection":[4,"allow-empty-selection"],"compareWith":[1,"compare-with"],"name":[1],"value":[1032]},[[4,"keydown","onKeydown"]],{"value":["valueChanged"]}]]],["ion-ripple-effect",[[1,"ion-ripple-effect",{"type":[1],"addRipple":[64]}]]],["ion-button_2",[[33,"ion-button",{"color":[513],"buttonType":[1025,"button-type"],"disabled":[516],"expand":[513],"fill":[1537],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"download":[1],"href":[1],"rel":[1],"shape":[513],"size":[513],"strong":[4],"target":[1],"type":[1],"form":[1]},null,{"disabled":["disabledChanged"]}],[1,"ion-icon",{"mode":[1025],"color":[1],"ios":[1],"md":[1],"flipRtl":[4,"flip-rtl"],"name":[513],"src":[1],"icon":[8],"size":[1],"lazy":[4],"sanitize":[4],"svgContent":[32],"isVisible":[32]},null,{"name":["loadIcon"],"src":["loadIcon"],"icon":["loadIcon"],"ios":["loadIcon"],"md":["loadIcon"]}]]],["ion-action-sheet",[[34,"ion-action-sheet",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"header":[1],"subHeader":[1,"sub-header"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-alert",[[34,"ion-alert",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"header":[1],"subHeader":[1,"sub-header"],"message":[1],"buttons":[16],"inputs":[1040],"backdropDismiss":[4,"backdrop-dismiss"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},[[4,"keydown","onKeydown"]],{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"],"buttons":["buttonsChanged"],"inputs":["inputsChanged"]}]]],["ion-app_8",[[0,"ion-app",{"setFocus":[64]}],[1,"ion-content",{"color":[513],"fullscreen":[4],"forceOverscroll":[1028,"force-overscroll"],"scrollX":[4,"scroll-x"],"scrollY":[4,"scroll-y"],"scrollEvents":[4,"scroll-events"],"getScrollElement":[64],"getBackgroundElement":[64],"scrollToTop":[64],"scrollToBottom":[64],"scrollByPoint":[64],"scrollToPoint":[64]},[[9,"resize","onResize"]]],[36,"ion-footer",{"collapse":[1],"translucent":[4],"keyboardVisible":[32]}],[36,"ion-header",{"collapse":[1],"translucent":[4]}],[1,"ion-router-outlet",{"mode":[1025],"delegate":[16],"animated":[4],"animation":[16],"swipeHandler":[16],"commit":[64],"setRouteId":[64],"getRouteId":[64]},null,{"swipeHandler":["swipeHandlerChanged"]}],[33,"ion-title",{"color":[513],"size":[1]},null,{"size":["sizeChanged"]}],[33,"ion-toolbar",{"color":[513]},[[0,"ionStyle","childrenStyle"]]],[34,"ion-buttons",{"collapse":[4]}]]],["ion-picker-column-internal",[[33,"ion-picker-column-internal",{"disabled":[4],"items":[16],"value":[1032],"color":[513],"numericInput":[4,"numeric-input"],"isActive":[32],"scrollActiveItemIntoView":[64],"setValue":[64]},null,{"value":["valueChange"]}]]],["ion-popover",[[33,"ion-popover",{"hasController":[4,"has-controller"],"delegate":[16],"overlayIndex":[2,"overlay-index"],"enterAnimation":[16],"leaveAnimation":[16],"component":[1],"componentProps":[16],"keyboardClose":[4,"keyboard-close"],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"event":[8],"showBackdrop":[4,"show-backdrop"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"triggerAction":[1,"trigger-action"],"trigger":[1],"size":[1],"dismissOnSelect":[4,"dismiss-on-select"],"reference":[1],"side":[1],"alignment":[1025],"arrow":[4],"isOpen":[4,"is-open"],"keyboardEvents":[4,"keyboard-events"],"keepContentsMounted":[4,"keep-contents-mounted"],"presented":[32],"presentFromTrigger":[64],"present":[64],"dismiss":[64],"getParentPopover":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"trigger":["onTriggerChange"],"triggerAction":["onTriggerChange"],"isOpen":["onIsOpenChange"]}]]],["ion-checkbox",[[33,"ion-checkbox",{"color":[513],"name":[1],"checked":[1028],"indeterminate":[1028],"disabled":[4],"value":[8],"labelPlacement":[1,"label-placement"],"justify":[1],"alignment":[1],"legacy":[4]},null,{"checked":["styleChanged"],"disabled":["styleChanged"]}]]],["ion-spinner",[[1,"ion-spinner",{"color":[513],"duration":[2],"name":[1],"paused":[4]}]]]]'),n)});return function(n,r){return t.apply(this,arguments)}}(),wr=["*"],nae=(t,e)=>{const n=t.prototype;e.forEach(r=>{Object.defineProperty(n,r,{get(){return this.el[r]},set(i){this.z.runOutsideAngular(()=>this.el[r]=i)},configurable:!0})})},rae=(t,e)=>{const n=t.prototype;e.forEach(r=>{n[r]=function(){const i=arguments;return this.z.runOutsideAngular(()=>this.el[r].apply(this.el,i))}})},vs=(t,e,n)=>{n.forEach(r=>t[r]=Vb(e,r))};function Ir(t){return function(n){const{defineCustomElementFn:r,inputs:i,methods:o}=t;return void 0!==r&&r(),i&&nae(n,i),o&&rae(n,o),n}}let ZU=(()=>{let t=class{constructor(n,r,i){this.z=i,n.detach(),this.el=r.nativeElement}};return t.\u0275fac=function(n){return new(n||t)(q(er),q(f),q(In))},t.\u0275cmp=J({type:t,selectors:[["ion-app"]],ngContentSelectors:wr,decls:1,vars:0,template:function(n,r){1&n&&(Ar(),cr(0))},encapsulation:2,changeDetection:0}),t=(0,rr.Cg)([Ir({})],t),t})(),ql=(()=>{let t=class{constructor(n,r,i){this.z=i,n.detach(),this.el=r.nativeElement}};return t.\u0275fac=function(n){return new(n||t)(q(er),q(f),q(In))},t.\u0275cmp=J({type:t,selectors:[["ion-icon"]],inputs:{color:"color",flipRtl:"flipRtl",icon:"icon",ios:"ios",lazy:"lazy",md:"md",mode:"mode",name:"name",sanitize:"sanitize",size:"size",src:"src"},ngContentSelectors:wr,decls:1,vars:0,template:function(n,r){1&n&&(Ar(),cr(0))},encapsulation:2,changeDetection:0}),t=(0,rr.Cg)([Ir({inputs:["color","flipRtl","icon","ios","lazy","md","mode","name","sanitize","size","src"]})],t),t})(),e6=(()=>{let t=class{constructor(n,r,i){this.z=i,n.detach(),this.el=r.nativeElement}};return t.\u0275fac=function(n){return new(n||t)(q(er),q(f),q(In))},t.\u0275cmp=J({type:t,selectors:[["ion-label"]],inputs:{color:"color",mode:"mode",position:"position"},ngContentSelectors:wr,decls:1,vars:0,template:function(n,r){1&n&&(Ar(),cr(0))},encapsulation:2,changeDetection:0}),t=(0,rr.Cg)([Ir({inputs:["color","mode","position"]})],t),t})(),t6=(()=>{let t=class{constructor(n,r,i){this.z=i,n.detach(),this.el=r.nativeElement,vs(this,this.el,["ionSplitPaneVisible"])}};return t.\u0275fac=function(n){return new(n||t)(q(er),q(f),q(In))},t.\u0275cmp=J({type:t,selectors:[["ion-split-pane"]],inputs:{contentId:"contentId",disabled:"disabled",when:"when"},ngContentSelectors:wr,decls:1,vars:0,template:function(n,r){1&n&&(Ar(),cr(0))},encapsulation:2,changeDetection:0}),t=(0,rr.Cg)([Ir({inputs:["contentId","disabled","when"]})],t),t})(),Z_=(()=>{class t extends YU{constructor(n,r,i,o,s,a,l,u){super(n,r,i,o,s,a,l,u),this.parentOutlet=u}}return t.\u0275fac=function(n){return new(n||t)(bc("name"),bc("tabs"),q(Vh),q(f),q(Jo),q(In),q(Pf),q(t,12))},t.\u0275dir=St({type:t,selectors:[["ion-router-outlet"]],features:[ji]}),t})(),SA=(()=>{class t extends Fse{}return t.\u0275fac=(()=>{let e;return function(r){return(e||(e=zo(t)))(r||t)}})(),t.\u0275dir=St({type:t,selectors:[["","routerLink","",5,"a",5,"area"]],features:[ji]}),t})();const Ble={provide:Eu,useExisting:Si(()=>n6),multi:!0};let n6=(()=>{class t extends iB{}return t.\u0275fac=(()=>{let e;return function(r){return(e||(e=zo(t)))(r||t)}})(),t.\u0275dir=St({type:t,selectors:[["ion-input","type","number","max","","formControlName",""],["ion-input","type","number","max","","formControl",""],["ion-input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(n,r){2&n&&kl("max",r._enabled?r.max:null)},features:[ps([Ble]),ji]}),t})();const Dle={provide:Eu,useExisting:Si(()=>r6),multi:!0};let r6=(()=>{class t extends oB{}return t.\u0275fac=(()=>{let e;return function(r){return(e||(e=zo(t)))(r||t)}})(),t.\u0275dir=St({type:t,selectors:[["ion-input","type","number","min","","formControlName",""],["ion-input","type","number","min","","formControl",""],["ion-input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(n,r){2&n&&kl("min",r._enabled?r.min:null)},features:[ps([Dle]),ji]}),t})(),xle=(()=>{class t extends nse{constructor(){super(Qse.m)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=Cn({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Fle=(()=>{class t extends HB{constructor(){super(jB.m),this.angularDelegate=sn(X_),this.injector=sn(Nn),this.environmentInjector=sn(je)}create(n){return super.create({...n,delegate:this.angularDelegate.create(this.environmentInjector,this.injector,"modal")})}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=Cn({token:t,factory:t.\u0275fac}),t})();class kle extends HB{constructor(){super(jB.c),this.angularDelegate=sn(X_),this.injector=sn(Nn),this.environmentInjector=sn(je)}create(e){return super.create({...e,delegate:this.angularDelegate.create(this.environmentInjector,this.injector,"popover")})}}let Rle=(()=>{class t extends HB{constructor(){super(jB.t)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=Cn({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const Ple=(t,e,n)=>()=>{const r=e.defaultView;if(r&&typeof window<"u"){(0,Vse.s)({...t,_zoneGate:o=>n.run(o)});const i="__zone_symbol__addEventListener"in e.body?"__zone_symbol__addEventListener":"addEventListener";return function jse(){var t=[];if(typeof window<"u"){var e=window;(!e.customElements||e.Element&&(!e.Element.prototype.closest||!e.Element.prototype.matches||!e.Element.prototype.remove||!e.Element.prototype.getRootNode))&&t.push(wt.e(7278).then(wt.t.bind(wt,2190,23))),("function"!=typeof Object.assign||!Object.entries||!Array.prototype.find||!Array.prototype.includes||!String.prototype.startsWith||!String.prototype.endsWith||e.NodeList&&!e.NodeList.prototype.forEach||!e.fetch||!function(){try{var r=new URL("b","http://a");return r.pathname="c%20d","http://a/c%20d"===r.href&&r.searchParams}catch{return!1}}()||typeof WeakMap>"u")&&t.push(wt.e(9329).then(wt.t.bind(wt,7783,23)))}return Promise.all(t)}().then(()=>$se(r,{exclude:["ion-tabs","ion-tab"],syncQueue:!0,raf:JU,jmp:o=>n.runOutsideAngular(o),ael(o,s,a,l){o[i](s,a,l)},rel(o,s,a,l){o.removeEventListener(s,a,l)}}))}};let Nle=(()=>{class t{static forRoot(n){return{ngModule:t,providers:[{provide:QU,useValue:n},{provide:UC,useFactory:Ple,multi:!0,deps:[QU,Vd,In]},{provide:XU,useFactory:Bse,deps:[Jo]}]}}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=xt({type:t}),t.\u0275inj=Yi({providers:[X_,Fle,kle],imports:[BT]}),t})();var bo=wt(1660),Dc=wt(7852);(0,Dc.registerVersion)("firebase","10.10.0","app");class Ole extends Qt{constructor(e,n){super()}schedule(e,n=0){return this}}const Hb={setInterval(t,e,...n){const{delegate:r}=Hb;return null!=r&&r.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){const{delegate:e}=Hb;return((null==e?void 0:e.clearInterval)||clearInterval)(t)},delegate:void 0};class i6 extends Ole{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;const i=this.id,o=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(o,i,n)),this.pending=!0,this.delay=n,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(o,this.id,n),this}requestAsyncId(e,n,r=0){return Hb.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return n;null!=n&&Hb.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,n);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let i,r=!1;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,en(r,this),null!=e&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}}const $B={now:()=>($B.delegate||Date).now(),delegate:void 0};class e1{constructor(e,n=e1.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}}e1.now=$B.now;class o6 extends e1{constructor(e,n=e1.now){super(e,n),this.actions=[],this._active=!1}flush(e){const{actions:n}=this;if(this._active)return void n.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}}const Qle=new class Vle extends o6{}(class Ule extends i6{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}}),s6=new o6(i6),jb=new qv("ANGULARFIRE2_VERSION");class a6{constructor(){return((t,e)=>{const n=(0,Dc.getApps)(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r})(jle)}}const jle="app-check";function _0(){}class l6{constructor(e,n=Qle){(0,bo.A)(this,"zone",void 0),(0,bo.A)(this,"delegate",void 0),this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){const i=this.zone;return this.delegate.schedule(function(s){i.runGuarded(()=>{e.apply(this,[s])})},n,r)}}class zle{constructor(e){(0,bo.A)(this,"zone",void 0),(0,bo.A)(this,"task",null),this.zone=e}call(e,n){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",_0,{},_0,_0)),n.pipe(Bc({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let u6=(()=>{var t;class e{constructor(r){(0,bo.A)(this,"ngZone",void 0),(0,bo.A)(this,"outsideAngular",void 0),(0,bo.A)(this,"insideAngular",void 0),this.ngZone=r,this.outsideAngular=r.runOutsideAngular(()=>new l6(Zone.current)),this.insideAngular=r.run(()=>new l6(Zone.current,s6)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return t=e,(0,bo.A)(e,"\u0275fac",function(r){return new(r||t)(Ln(In))}),(0,bo.A)(e,"\u0275prov",Cn({token:t,factory:t.\u0275fac,providedIn:"root"})),e})();function TA(t){return function Gle(t){return function(n){return(n=n.lift(new zle(t.ngZone))).pipe(Zv(t.outsideAngular),wm(t.insideAngular))}}(function w0(){const t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return t}())(t)}var bn=wt(3345);bn.A.registerVersion("firebase","10.10.0","app-compat");const Yle=["ngOnDestroy"];class c6{constructor(e){return e}}const zb=new Un("angularfire2.app.options"),$b=new Un("angularfire2.app.name");function GB(t,e,n){const i="object"==typeof n&&n||{};i.name=i.name||"string"==typeof n&&n||"[DEFAULT]";const s=bn.A.apps.filter(a=>a&&a.name===i.name)[0]||e.runOutsideAngular(()=>bn.A.initializeApp(t,i));try{if(JSON.stringify(t)!==JSON.stringify(s.options)){const a=!!module.hot;Zle("error",`${s.name} Firebase App already initialized with different options${a?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new c6(s)}const Zle=(t,...e)=>{},eue={provide:c6,useFactory:GB,deps:[zb,In,[new Uo,$b]]};let tue=(()=>{var t;class e{static initializeApp(r,i){return{ngModule:e,providers:[{provide:zb,useValue:r},{provide:$b,useValue:i}]}}constructor(r){bn.A.registerVersion("angularfire",jb.full,"core"),bn.A.registerVersion("angularfire",jb.full,"app-compat"),bn.A.registerVersion("angular",_X.full,r.toString())}}return t=e,(0,bo.A)(e,"\u0275fac",function(r){return new(r||t)(Ln(Se))}),(0,bo.A)(e,"\u0275mod",xt({type:t})),(0,bo.A)(e,"\u0275inj",Yi({providers:[eue]})),e})();function d6(t,e,n,r,i){const[,o,s]=globalThis.\u0275AngularfireInstanceCache.find(a=>a[0]===t)||[];if(o)return function nue(t,e){try{return t.toString()===e.toString()}catch{return t===e}}(i,s)||(A6("error",`${e} was already initialized on the ${n} Firebase App with different settings.${rue?" You may need to reload as Firebase is not HMR aware.":""}`),A6("warn",{is:i,was:s})),o;{const a=r();return globalThis.\u0275AngularfireInstanceCache.push([t,a,i]),a}}const rue=typeof module<"u"&&!!module.hot,A6=(t,...e)=>{};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[]),wt(3371);class oue extends dt{constructor(e=1/0,n=1/0,r=$B){super(),this._bufferSize=e,this._windowTime=n,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=n===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,n)}next(e){const{isStopped:n,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:o,_windowTime:s}=this;n||(r.push(e),!i&&r.push(o.now()+s)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const n=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,o=i.slice();for(let s=0;s<o.length&&!e.closed;s+=r?1:2)e.next(o[s]);return this._checkFinalizedStatuses(e),n}_trimBuffer(){const{_bufferSize:e,_timestampProvider:n,_buffer:r,_infiniteTimeWindow:i}=this,o=(i?1:2)*e;if(e<1/0&&o<r.length&&r.splice(0,r.length-o),!i){const s=n.now();let a=0;for(let l=1;l<r.length&&r[l]<=s;l+=2)a=l;a&&r.splice(0,a+1)}}}function WB(t,e,...n){if(!0===e)return void t();if(!1===e)return;const r=new Eo({next:()=>{r.unsubscribe(),t()}});return Qd(e(...n)).subscribe(r)}function h6(t,e,n){let r,i=!1;return t&&"object"==typeof t?({bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:n}=t):r=null!=t?t:1/0,function sue(t={}){const{connector:e=(()=>new dt),resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=t;return o=>{let s,a,l,u=0,m=!1,I=!1;const k=()=>{null==a||a.unsubscribe(),a=void 0},U=()=>{k(),s=l=void 0,m=I=!1},Y=()=>{const ve=s;U(),null==ve||ve.unsubscribe()};return qn((ve,xe)=>{u++,!I&&!m&&k();const st=l=null!=l?l:e();xe.add(()=>{u--,0===u&&!I&&!m&&(a=WB(Y,i))}),st.subscribe(xe),!s&&u>0&&(s=new Eo({next:at=>st.next(at),error:at=>{I=!0,k(),a=WB(U,n,at),st.error(at)},complete:()=>{m=!0,k(),a=WB(U,r),st.complete()}}),Qd(ve).subscribe(s))})(o)}}({connector:()=>new oue(r,e,n),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function f6(t,e){return sr(e)?hl(()=>t,e):hl(()=>t)}const p6=new Un("angularfire2.auth.use-emulator"),g6=new Un("angularfire2.auth.settings"),m6=new Un("angularfire2.auth.tenant-id"),v6=new Un("angularfire2.auth.langugage-code"),y6=new Un("angularfire2.auth.use-device-language"),_6=new Un("angularfire.auth.persistence"),w6=(t,e,n,r,i,o,s,a)=>d6(`${t.name}.auth`,"AngularFireAuth",t.name,()=>{const l=e.runOutsideAngular(()=>t.auth());if(n&&l.useEmulator(...n),r&&(l.tenantId=r),l.languageCode=i,o&&l.useDeviceLanguage(),s)for(const[u,m]of Object.entries(s))l.settings[u]=m;return a&&l.setPersistence(a),l},[n,r,i,o,s,a]);let $h=(()=>{var t;class e{constructor(r,i,o,s,a,l,u,m,I,k,U,Y){(0,bo.A)(this,"authState",void 0),(0,bo.A)(this,"idToken",void 0),(0,bo.A)(this,"user",void 0),(0,bo.A)(this,"idTokenResult",void 0),(0,bo.A)(this,"credential",void 0);const ve=new dt,xe=hi(void 0).pipe(wm(a.outsideAngular),hl(()=>s.runOutsideAngular(()=>Promise.resolve().then(wt.bind(wt,3371)))),Nr(()=>GB(r,s,i)),Nr(st=>w6(st,s,l,m,I,k,u,U)),h6({bufferSize:1,refCount:!1}));if(ob(o))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=hi(null);else{xe.pipe(yg()).subscribe();const st=xe.pipe(hl(Yt=>Yt.getRedirectResult().then(kn=>kn,()=>null)),TA,h6({bufferSize:1,refCount:!1})),at=xe.pipe(hl(Yt=>new ro(kn=>({unsubscribe:s.runOutsideAngular(()=>Yt.onAuthStateChanged(jn=>kn.next(jn),jn=>kn.error(jn),()=>kn.complete()))})))),Lt=xe.pipe(hl(Yt=>new ro(kn=>({unsubscribe:s.runOutsideAngular(()=>Yt.onIdTokenChanged(jn=>kn.next(jn),jn=>kn.error(jn),()=>kn.complete()))}))));this.authState=st.pipe(f6(at),Zv(a.outsideAngular),wm(a.insideAngular)),this.user=st.pipe(f6(Lt),Zv(a.outsideAngular),wm(a.insideAngular)),this.idToken=this.user.pipe(hl(Yt=>Yt?aa(Yt.getIdToken()):hi(null))),this.idTokenResult=this.user.pipe(hl(Yt=>Yt?aa(Yt.getIdTokenResult()):hi(null))),this.credential=function iue(...t){const e=x_(t),n=function ene(t,e){return"number"==typeof OT(t)?t.pop():e}(t,1/0),r=t;return r.length?1===r.length?Qd(r[0]):r0(n)(aa(r,e)):jh}(st,ve,this.authState.pipe(IA(Yt=>!Yt))).pipe(Nr(Yt=>null!=Yt&&Yt.user?Yt:null),Zv(a.outsideAngular),wm(a.insideAngular))}return((t,e,n,r={})=>new Proxy(t,{get:(i,o)=>n.runOutsideAngular(()=>{var s;if(t[o])return null!=r&&null!==(s=r.spy)&&void 0!==s&&s.get&&r.spy.get(o,t[o]),t[o];if(Yle.indexOf(o)>-1)return()=>{};const a=e.toPromise().then(l=>{const u=null==l?void 0:l[o];return"function"==typeof u?u.bind(l):null!=u&&u.then?u.then(m=>n.run(()=>m)):n.run(()=>u)});return new Proxy(()=>{},{get:(l,u)=>a[u],apply:(l,u,m)=>a.then(I=>{var k;const U=null==I?void 0:I(...m);return null!=r&&null!==(k=r.spy)&&void 0!==k&&k.apply&&r.spy.apply(o,m,U),U})})})}))(this,xe,s,{spy:{apply:(st,at,Lt)=>{(st.startsWith("signIn")||st.startsWith("createUser"))&&Lt.then(Yt=>ve.next(Yt))}}})}}return t=e,(0,bo.A)(e,"\u0275fac",function(r){return new(r||t)(Ln(zb),Ln($b,8),Ln(Se),Ln(In),Ln(u6),Ln(p6,8),Ln(g6,8),Ln(m6,8),Ln(v6,8),Ln(y6,8),Ln(_6,8),Ln(a6,8))}),(0,bo.A)(e,"\u0275prov",Cn({token:t,factory:t.\u0275fac,providedIn:"any"})),e})(),lue=(()=>{var t;class e{constructor(){bn.A.registerVersion("angularfire",jb.full,"auth-compat")}}return t=e,(0,bo.A)(e,"\u0275fac",function(r){return new(r||t)}),(0,bo.A)(e,"\u0275mod",xt({type:t})),(0,bo.A)(e,"\u0275inj",Yi({providers:[$h]})),e})();function KB(){return qn((t,e)=>{let n,r=!1;t.subscribe($r(e,i=>{const o=n;n=i,r&&e.next([o,i]),r=!0}))})}var Dr,Gh=wt(1362),BA=wt(8041),_e=wt(1076),uue=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Wh={},qB=qB||{},Ui=uue||self;function Gb(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function t1(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var YB="closure_uid_"+(1e9*Math.random()>>>0),due=0;function Aue(t,e,n){return t.call.apply(t.bind,arguments)}function hue(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function xc(t,e,n){return(xc=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Aue:hue).apply(null,arguments)}function Wb(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function Su(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,o){for(var s=Array(arguments.length-2),a=2;a<arguments.length;a++)s[a-2]=arguments[a];return e.prototype[i].apply(r,s)}}function Cg(){this.s=this.s,this.o=this.o}Cg.prototype.s=!1,Cg.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function cue(t){Object.prototype.hasOwnProperty.call(t,YB)&&t[YB]||(t[YB]=++due)}(this)},Cg.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const C6=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function XB(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function b6(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(Gb(r)){const i=t.length||0,o=r.length||0;t.length=i+o;for(let s=0;s<o;s++)t[i+s]=r[s]}else t.push(r)}}function Fc(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}Fc.prototype.h=function(){this.defaultPrevented=!0};var pue=function(){if(!Ui.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{const n=()=>{};Ui.addEventListener("test",n,e),Ui.removeEventListener("test",n,e)}catch{}return t}();function n1(t){return/^[\s\xa0]*$/.test(t)}function Kb(){var t=Ui.navigator;return t&&(t=t.userAgent)?t:""}function Lf(t){return-1!=Kb().indexOf(t)}function JB(t){return JB[" "](t),t}JB[" "]=function(){};var eD,t,mue=Lf("Opera"),C0=Lf("Trident")||Lf("MSIE"),I6=Lf("Edge"),ZB=I6||C0,E6=Lf("Gecko")&&!(-1!=Kb().toLowerCase().indexOf("webkit")&&!Lf("Edge"))&&!(Lf("Trident")||Lf("MSIE"))&&!Lf("Edge"),vue=-1!=Kb().toLowerCase().indexOf("webkit")&&!Lf("Edge");function S6(){var t=Ui.document;return t?t.documentMode:void 0}e:{var tD="",nD=(t=Kb(),E6?/rv:([^\);]+)(\)|;)/.exec(t):I6?/Edge\/([\d\.]+)/.exec(t):C0?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):vue?/WebKit\/(\S+)/.exec(t):mue?/(?:Version)[ \/]?(\S+)/.exec(t):void 0);if(nD&&(tD=nD?nD[1]:""),C0){var rD=S6();if(null!=rD&&rD>parseFloat(tD)){eD=String(rD);break e}}eD=tD}var yue=Ui.document&&C0&&(S6()||parseInt(eD,10))||void 0;function r1(t,e){if(Fc.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(E6){e:{try{JB(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:_ue[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&r1.$.h.call(this)}}Su(r1,Fc);var _ue={2:"touch",3:"pen",4:"mouse"};r1.prototype.h=function(){r1.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var i1="closure_listenable_"+(1e6*Math.random()|0),wue=0;function Cue(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++wue,this.fa=this.ia=!1}function qb(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function oD(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function B6(t){const e={};for(const n in t)e[n]=t[n];return e}const D6="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function x6(t,e){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)t[n]=r[n];for(let o=0;o<D6.length;o++)n=D6[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Yb(t){this.src=t,this.g={},this.h=0}function sD(t,e){var n=e.type;if(n in t.g){var o,r=t.g[n],i=C6(r,e);(o=0<=i)&&Array.prototype.splice.call(r,i,1),o&&(qb(e),0==t.g[n].length&&(delete t.g[n],t.h--))}}function aD(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.fa&&o.listener==e&&o.capture==!!n&&o.la==r)return i}return-1}Yb.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.g[o])||(t=this.g[o]=[],this.h++);var s=aD(t,e,r,i);return-1<s?(e=t[s],n||(e.ia=!1)):((e=new Cue(e,this.src,o,!!r,i)).ia=n,t.push(e)),e};var lD="closure_lm_"+(1e6*Math.random()|0),uD={};function F6(t,e,n,r,i){if(r&&r.once)return R6(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)F6(t,e[o],n,r,i);return null}return n=hD(n),t&&t[i1]?t.O(e,n,t1(r)?!!r.capture:!!r,i):k6(t,e,n,!1,r,i)}function k6(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=t1(i)?!!i.capture:!!i,a=dD(t);if(a||(t[lD]=a=new Yb(t)),(n=a.add(e,n,r,s,o)).proxy)return n;if(r=function Iue(){const e=Eue;return function t(n){return e.call(t.src,t.listener,n)}}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)pue||(i=s),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(N6(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function R6(t,e,n,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)R6(t,e[o],n,r,i);return null}return n=hD(n),t&&t[i1]?t.P(e,n,t1(r)?!!r.capture:!!r,i):k6(t,e,n,!0,r,i)}function P6(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)P6(t,e[o],n,r,i);else r=t1(r)?!!r.capture:!!r,n=hD(n),t&&t[i1]?(t=t.i,(e=String(e).toString())in t.g&&-1<(n=aD(o=t.g[e],n,r,i))&&(qb(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.g[e],t.h--))):t&&(t=dD(t))&&(e=t.g[e.toString()],t=-1,e&&(t=aD(e,n,r,i)),(n=-1<t?e[t]:null)&&cD(n))}function cD(t){if("number"!=typeof t&&t&&!t.fa){var e=t.src;if(e&&e[i1])sD(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(N6(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=dD(e))?(sD(n,t),0==n.h&&(n.src=null,e[lD]=null)):qb(t)}}}function N6(t){return t in uD?uD[t]:uD[t]="on"+t}function Eue(t,e){if(t.fa)t=!0;else{e=new r1(e,this);var n=t.listener,r=t.la||t.src;t.ia&&cD(t),t=n.call(r,e)}return t}function dD(t){return(t=t[lD])instanceof Yb?t:null}var AD="__closure_events_fn_"+(1e9*Math.random()>>>0);function hD(t){return"function"==typeof t?t:(t[AD]||(t[AD]=function(e){return t.handleEvent(e)}),t[AD])}function Tu(){Cg.call(this),this.i=new Yb(this),this.S=this,this.J=null}function ec(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,"string"==typeof e)e=new Fc(e,t);else if(e instanceof Fc)e.target=e.target||t;else{var i=e;x6(e=new Fc(r,t),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=e.g=n[o];i=Xb(s,r,!0,e)&&i}if(i=Xb(s=e.g=t,r,!0,e)&&i,i=Xb(s,r,!1,e)&&i,n)for(o=0;o<n.length;o++)i=Xb(s=e.g=n[o],r,!1,e)&&i}function Xb(t,e,n,r){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.fa&&s.capture==n){var a=s.listener,l=s.la||s.src;s.ia&&sD(t.i,s),i=!1!==a.call(l,r)&&i}}return i&&!r.defaultPrevented}Su(Tu,Cg),Tu.prototype[i1]=!0,Tu.prototype.removeEventListener=function(t,e,n,r){P6(this,t,e,n,r)},Tu.prototype.N=function(){if(Tu.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)qb(n[r]);delete t.g[e],t.h--}}this.J=null},Tu.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)},Tu.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};var fD=Ui.JSON.stringify;function Tue(){var t=pD;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var M6=new class Sue{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new Due,t=>t.reset());class Due{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function xue(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function Fue(t){Ui.setTimeout(()=>{throw t},0)}let o1,s1=!1,pD=new class Bue{constructor(){this.h=this.g=null}add(e,n){const r=M6.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}},L6=()=>{const t=Ui.Promise.resolve(void 0);o1=()=>{t.then(kue)}};var kue=()=>{for(var t;t=Tue();){try{t.h.call(t.g)}catch(n){Fue(n)}var e=M6;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}s1=!1};function Jb(t,e){Tu.call(this),this.h=t||1,this.g=e||Ui,this.j=xc(this.qb,this),this.l=Date.now()}function gD(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}function mD(t,e,n){if("function"==typeof t)n&&(t=xc(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=xc(t.handleEvent,t)}return 2147483647<Number(e)?-1:Ui.setTimeout(t,e||0)}function O6(t){t.g=mD(()=>{t.g=null,t.i&&(t.i=!1,O6(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}Su(Jb,Tu),(Dr=Jb.prototype).ga=!1,Dr.T=null,Dr.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),ec(this,"tick"),this.ga&&(gD(this),this.start()))}},Dr.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Dr.N=function(){Jb.$.N.call(this),gD(this),delete this.g};class Rue extends Cg{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:O6(this)}N(){super.N(),this.g&&(Ui.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function a1(t){Cg.call(this),this.h=t,this.g={}}Su(a1,Cg);var U6=[];function V6(t,e,n,r){Array.isArray(n)||(n&&(U6[0]=n.toString()),n=U6);for(var i=0;i<n.length;i++){var o=F6(e,n[i],r||t.handleEvent,!1,t.h||t);if(!o)break;t.g[o.key]=o}}function Q6(t){oD(t.g,function(e,n){this.g.hasOwnProperty(n)&&cD(e)},t),t.g={}}function Zb(){this.g=!0}function b0(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function Lue(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<i.length;s++)i[s]=""}}}return fD(n)}catch{return e}}(t,n)+(r?" "+r:"")})}a1.prototype.N=function(){a1.$.N.call(this),Q6(this)},a1.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Zb.prototype.Ea=function(){this.g=!1},Zb.prototype.info=function(){};var Fm={},H6=null;function eI(){return H6=H6||new Tu}function j6(t){Fc.call(this,Fm.Ta,t)}function l1(t){const e=eI();ec(e,new j6(e))}function z6(t,e){Fc.call(this,Fm.STAT_EVENT,t),this.stat=e}function ld(t){const e=eI();ec(e,new z6(e,t))}function $6(t,e){Fc.call(this,Fm.Ua,t),this.size=e}function u1(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return Ui.setTimeout(function(){t()},e)}Fm.Ta="serverreachability",Su(j6,Fc),Fm.STAT_EVENT="statevent",Su(z6,Fc),Fm.Ua="timingevent",Su($6,Fc);var tI={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},G6={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function vD(){}function K6(){}vD.prototype.h=null;var wD,c1={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function yD(){Fc.call(this,"d")}function _D(){Fc.call(this,"c")}function nI(){}function d1(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new a1(this),this.P=Oue,this.V=new Jb(t=ZB?125:void 0),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new q6}function q6(){this.i=null,this.g="",this.h=!1}Su(yD,Fc),Su(_D,Fc),Su(nI,vD),nI.prototype.g=function(){return new XMLHttpRequest},nI.prototype.i=function(){return{}},wD=new nI;var Oue=45e3,Y6={},CD={};function bD(t,e,n){t.L=1,t.A=sI(bp(e)),t.u=n,t.S=!0,X6(t,null)}function X6(t,e){t.G=Date.now(),A1(t),t.B=bp(t.A);var n=t.B,r=t.W;Array.isArray(r)||(r=[String(r)]),aV(n.i,"t",r),t.o=0,n=t.l.J,t.h=new q6,t.g=FV(t.l,n?e:null,!t.u),0<t.O&&(t.M=new Rue(xc(t.Pa,t,t.g),t.O)),V6(t.U,t.g,"readystatechange",t.nb),e=t.I?B6(t.I):{},t.u?(t.v||(t.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.B,t.v,t.u,e)):(t.v="GET",t.g.ha(t.B,t.v,null,e)),l1(),function Pue(t,e,n,r,i,o){t.info(function(){if(t.g)if(o)for(var s="",a=o.split("&"),l=0;l<a.length;l++){var u=a[l].split("=");if(1<u.length){var m=u[0];u=u[1];var I=m.split("_");s=2<=I.length&&"type"==I[1]?s+(m+"=")+u+"&":s+(m+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+s})}(t.j,t.v,t.B,t.m,t.W,t.u)}function J6(t){return!!t.g&&"GET"==t.v&&2!=t.L&&t.l.Ha}function Z6(t,e,n){let i,r=!0;for(;!t.J&&t.o<n.length;){if(i=Uue(t,n),i==CD){4==e&&(t.s=4,ld(14),r=!1),b0(t.j,t.m,null,"[Incomplete Response]");break}if(i==Y6){t.s=4,ld(15),b0(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}b0(t.j,t.m,i,null),ID(t,i)}J6(t)&&0!=t.o&&(t.h.g=t.h.g.slice(t.o),t.o=0),4!=e||0!=n.length||t.h.h||(t.s=1,ld(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,(e=t.l).g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),FD(e),e.M=!0,ld(11))):(b0(t.j,t.m,n,"[Invalid Chunked Response]"),km(t),h1(t))}function Uue(t,e){var n=t.o,r=e.indexOf("\n",n);return-1==r?CD:(n=Number(e.substring(n,r)),isNaN(n)?Y6:(r+=1)+n>e.length?CD:(e=e.slice(r,r+n),t.o=r+n,e))}function A1(t){t.Y=Date.now()+t.P,eV(t,t.P)}function eV(t,e){if(null!=t.C)throw Error("WatchDog timer not null");t.C=u1(xc(t.lb,t),e)}function rI(t){t.C&&(Ui.clearTimeout(t.C),t.C=null)}function h1(t){0==t.l.H||t.J||TV(t.l,t)}function km(t){rI(t);var e=t.M;e&&"function"==typeof e.sa&&e.sa(),t.M=null,gD(t.V),Q6(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function ID(t,e){try{var n=t.l;if(0!=n.H&&(n.g==t||ED(n.i,t)))if(!t.K&&ED(n.i,t)&&3==n.H){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<t.G))break e;AI(n),cI(n)}xD(n),ld(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=u1(xc(n.ib,n),6e3));if(1>=cV(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Pm(n,11)}else if((t.K||n.g==t)&&AI(n),!n1(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let u=i[e];if(n.V=u[0],u=u[1],2==n.H)if("c"==u[0]){n.K=u[1],n.pa=u[2];const m=u[3];null!=m&&(n.ra=m,n.l.info("VER="+n.ra));const I=u[4];null!=I&&(n.Ga=I,n.l.info("SVER="+n.Ga));const k=u[5];null!=k&&"number"==typeof k&&0<k&&(n.L=r=1.5*k,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const U=t.g;if(U){const Y=U.g?U.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Y){var o=r.i;o.g||-1==Y.indexOf("spdy")&&-1==Y.indexOf("quic")&&-1==Y.indexOf("h2")||(o.j=o.l,o.g=new Set,o.h&&(SD(o,o.h),o.h=null))}if(r.F){const ve=U.g?U.g.getResponseHeader("X-HTTP-Session-Id"):null;ve&&(r.Da=ve,la(r.I,r.F,ve))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms"));var s=t;if((r=n).wa=xV(r,r.J?r.pa:null,r.Y),s.K){dV(r.i,s);var a=s,l=r.L;l&&a.setTimeout(l),a.C&&(rI(a),A1(a)),r.g=s}else EV(r);0<n.j.length&&dI(n)}else"stop"!=u[0]&&"close"!=u[0]||Pm(n,7);else 3==n.H&&("stop"==u[0]||"close"==u[0]?"stop"==u[0]?Pm(n,7):DD(n):"noop"!=u[0]&&n.h&&n.h.Aa(u),n.A=0)}l1()}catch{}}function tV(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(Gb(t)||"string"==typeof t)Array.prototype.forEach.call(t,e,void 0);else for(var n=function Que(t){if(t.ta&&"function"==typeof t.ta)return t.ta();if(!t.Z||"function"!=typeof t.Z){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(Gb(t)||"string"==typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}(t),r=function Vue(t){if(t.Z&&"function"==typeof t.Z)return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if("string"==typeof t)return t.split("");if(Gb(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t),i=r.length,o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}(Dr=d1.prototype).setTimeout=function(t){this.P=t},Dr.nb=function(t){t=t.target;const e=this.M;e&&3==Of(t)?e.l():this.Pa(t)},Dr.Pa=function(t){try{if(t==this.g)e:{const m=Of(this.g);var e=this.g.Ia();if(this.g.da(),!(3>m)&&(3!=m||ZB||this.g&&(this.h.h||this.g.ja()||yV(this.g)))){this.J||4!=m||7==e||l1(),rI(this);var n=this.g.da();this.ca=n;t:if(J6(this)){var r=yV(this.g);t="";var i=r.length,o=4==Of(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){km(this),h1(this);var s="";break t}this.h.i=new Ui.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:o&&e==i-1});r.length=0,this.h.g+=t,this.o=0,s=this.h.g}else s=this.g.ja();if(this.i=200==n,function Nue(t,e,n,r,i,o,s){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+o+" "+s})}(this.j,this.v,this.B,this.m,this.W,m,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!n1(a)){var u=a;break t}}u=null}if(!(n=u)){this.i=!1,this.s=3,ld(12),km(this),h1(this);break e}b0(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ID(this,n)}this.S?(Z6(this,m,s),ZB&&this.i&&3==m&&(V6(this.U,this.V,"tick",this.mb),this.V.start())):(b0(this.j,this.m,s,null),ID(this,s)),4==m&&km(this),this.i&&!this.J&&(4==m?TV(this.l,this):(this.i=!1,A1(this)))}else(function oce(t){const e={};t=(t.g&&2<=Of(t)&&t.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<t.length;r++){if(n1(t[r]))continue;var n=xue(t[r]);const i=n[0];if("string"!=typeof(n=n[1]))continue;n=n.trim();const o=e[i]||[];e[i]=o,o.push(n)}!function bue(t,e){for(const n in t)e.call(void 0,t[n],n,t)}(e,function(r){return r.join(", ")})})(this.g),400==n&&0<s.indexOf("Unknown SID")?(this.s=3,ld(12)):(this.s=0,ld(13)),km(this),h1(this)}}}catch{}},Dr.mb=function(){if(this.g){var t=Of(this.g),e=this.g.ja();this.o<e.length&&(rI(this),Z6(this,t,e),this.i&&4!=t&&A1(this))}},Dr.cancel=function(){this.J=!0,km(this)},Dr.lb=function(){this.C=null;const t=Date.now();0<=t-this.Y?(function Mue(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.j,this.B),2!=this.L&&(l1(),ld(17)),km(this),this.s=2,h1(this)):eV(this,this.Y-t)};var nV=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Rm(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Rm){this.h=t.h,iI(this,t.j),this.s=t.s,this.g=t.g,oI(this,t.m),this.l=t.l;var e=t.i,n=new g1;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),rV(this,n),this.o=t.o}else t&&(e=String(t).match(nV))?(this.h=!1,iI(this,e[1]||"",!0),this.s=f1(e[2]||""),this.g=f1(e[3]||"",!0),oI(this,e[4]),this.l=f1(e[5]||"",!0),rV(this,e[6]||"",!0),this.o=f1(e[7]||"")):(this.h=!1,this.i=new g1(null,this.h))}function bp(t){return new Rm(t)}function iI(t,e,n){t.j=n?f1(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function oI(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function rV(t,e,n){e instanceof g1?(t.i=e,function Kue(t,e){e&&!t.j&&(bg(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(oV(this,r),aV(this,i,n))},t)),t.j=e}(t.i,t.h)):(n||(e=p1(e,Gue)),t.i=new g1(e,t.h))}function la(t,e,n){t.i.set(e,n)}function sI(t){return la(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function f1(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function p1(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,jue),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function jue(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Rm.prototype.toString=function(){var t=[],e=this.j;e&&t.push(p1(e,iV,!0),":");var n=this.g;return(n||"file"==e)&&(t.push("//"),(e=this.s)&&t.push(p1(e,iV,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&t.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&t.push("/"),t.push(p1(n,"/"==n.charAt(0)?$ue:zue,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",p1(n,Wue)),t.join("")};var iV=/[#\/\?@]/g,zue=/[#\?:]/g,$ue=/[#\?]/g,Gue=/[#\?@]/g,Wue=/#/g;function g1(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function bg(t){t.g||(t.g=new Map,t.h=0,t.i&&function Hue(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function oV(t,e){bg(t),e=I0(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function sV(t,e){return bg(t),e=I0(t,e),t.g.has(e)}function aV(t,e,n){oV(t,e),0<n.length&&(t.i=null,t.g.set(I0(t,e),XB(n)),t.h+=n.length)}function I0(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}(Dr=g1.prototype).add=function(t,e){bg(this),this.i=null,t=I0(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},Dr.forEach=function(t,e){bg(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)},Dr.ta=function(){bg(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let o=0;o<i.length;o++)n.push(e[r])}return n},Dr.Z=function(t){bg(this);let e=[];if("string"==typeof t)sV(this,t)&&(e=e.concat(this.g.get(I0(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e},Dr.set=function(t,e){return bg(this),this.i=null,sV(this,t=I0(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},Dr.get=function(t,e){return t&&0<(t=this.Z(t)).length?String(t[0]):e},Dr.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const o=encodeURIComponent(String(r)),s=this.Z(r);for(r=0;r<s.length;r++){var i=o;""!==s[r]&&(i+="="+encodeURIComponent(String(s[r]))),t.push(i)}}return this.i=t.join("&")};var que=class{constructor(t,e){this.g=t,this.map=e}};function lV(t){this.l=t||Yue,t=Ui.PerformanceNavigationTiming?0<(t=Ui.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(Ui.g&&Ui.g.Ka&&Ui.g.Ka()&&Ui.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Yue=10;function uV(t){return!!t.h||!!t.g&&t.g.size>=t.j}function cV(t){return t.h?1:t.g?t.g.size:0}function ED(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function SD(t,e){t.g?t.g.add(e):t.h=e}function dV(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function AV(t){if(null!=t.h)return t.i.concat(t.h.F);if(null!=t.g&&0!==t.g.size){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return XB(t.i)}lV.prototype.cancel=function(){if(this.i=AV(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const t of this.g.values())t.cancel();this.g.clear()}};var Xue=class{stringify(t){return Ui.JSON.stringify(t,void 0)}parse(t){return Ui.JSON.parse(t,void 0)}};function Jue(){this.g=new Xue}function Zue(t,e,n){const r=n||"";try{tV(t,function(i,o){let s=i;t1(i)&&(s=fD(i)),e.push(r+o+"="+encodeURIComponent(s))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function aI(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function m1(t){this.l=t.ec||null,this.j=t.ob||!1}function lI(t,e){Tu.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=TD,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Su(m1,vD),m1.prototype.g=function(){return new lI(this.l,this.j)},m1.prototype.i=function(t){return function(){return t}}({}),Su(lI,Tu);var TD=0;function hV(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}function v1(t){t.readyState=4,t.l=null,t.j=null,t.A=null,y1(t)}function y1(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(Dr=lI.prototype).open=function(t,e){if(this.readyState!=TD)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,y1(this)},Dr.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||Ui).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},Dr.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,v1(this)),this.readyState=TD},Dr.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,y1(this)),this.g&&(this.readyState=3,y1(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Ui.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;hV(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))},Dr.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?v1(this):y1(this),3==this.readyState&&hV(this)}},Dr.Za=function(t){this.g&&(this.response=this.responseText=t,v1(this))},Dr.Ya=function(t){this.g&&(this.response=t,v1(this))},Dr.ka=function(){this.g&&v1(this)},Dr.setRequestHeader=function(t,e){this.v.append(t,e)},Dr.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},Dr.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(lI.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var tce=Ui.JSON.parse;function qa(t){Tu.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=fV,this.L=this.M=!1}Su(qa,Tu);var fV="",nce=/^https?$/i,rce=["POST","PUT"];function pV(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,gV(t),uI(t)}function gV(t){t.F||(t.F=!0,ec(t,"complete"),ec(t,"error"))}function mV(t){if(t.h&&typeof qB<"u"&&(!t.C[1]||4!=Of(t)||2!=t.da()))if(t.v&&4==Of(t))mD(t.La,0,t);else if(ec(t,"readystatechange"),4==Of(t)){t.h=!1;try{const s=t.da();e:switch(s){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=0===s){var i=String(t.I).match(nV)[1]||null;!i&&Ui.self&&Ui.self.location&&(i=Ui.self.location.protocol.slice(0,-1)),r=!nce.test(i?i.toLowerCase():"")}n=r}if(n)ec(t,"complete"),ec(t,"success");else{t.m=6;try{var o=2<Of(t)?t.g.statusText:""}catch{o=""}t.j=o+" ["+t.da()+"]",gV(t)}}finally{uI(t)}}}function uI(t,e){if(t.g){vV(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||ec(t,"ready");try{n.onreadystatechange=r}catch{}}}function vV(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(Ui.clearTimeout(t.A),t.A=null)}function Of(t){return t.g?t.g.readyState:0}function yV(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case fV:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function _V(t){let e="";return oD(t,function(n,r){e+=r,e+=":",e+=n,e+="\r\n"}),e}function BD(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=_V(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):la(t,e,n))}function _1(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function wV(t){this.Ga=0,this.j=[],this.l=new Zb,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=_1("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=_1("baseRetryDelayMs",5e3,t),this.hb=_1("retryDelaySeedMs",1e4,t),this.eb=_1("forwardChannelMaxRetries",2,t),this.xa=_1("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new lV(t&&t.concurrentRequestLimit),this.Ja=new Jue,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function DD(t){if(CV(t),3==t.H){var e=t.W++,n=bp(t.I);if(la(n,"SID",t.K),la(n,"RID",e),la(n,"TYPE","terminate"),w1(t,n),(e=new d1(t,t.l,e)).L=2,e.A=sI(bp(n)),n=!1,Ui.navigator&&Ui.navigator.sendBeacon)try{n=Ui.navigator.sendBeacon(e.A.toString(),"")}catch{}!n&&Ui.Image&&((new Image).src=e.A,n=!0),n||(e.g=FV(e.l,null),e.g.ha(e.A)),e.G=Date.now(),A1(e)}DV(t)}function cI(t){t.g&&(FD(t),t.g.cancel(),t.g=null)}function CV(t){cI(t),t.u&&(Ui.clearTimeout(t.u),t.u=null),AI(t),t.i.cancel(),t.m&&("number"==typeof t.m&&Ui.clearTimeout(t.m),t.m=null)}function dI(t){if(!uV(t.i)&&!t.m){t.m=!0;var e=t.Na;o1||L6(),s1||(o1(),s1=!0),pD.add(e,t),t.C=0}}function bV(t,e){var n;n=e?e.m:t.W++;const r=bp(t.I);la(r,"SID",t.K),la(r,"RID",n),la(r,"AID",t.V),w1(t,r),t.o&&t.s&&BD(r,t.o,t.s),n=new d1(t,t.l,n,t.C+1),null===t.o&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=IV(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),SD(t.i,n),bD(n,r,e)}function w1(t,e){t.na&&oD(t.na,function(n,r){la(e,r,n)}),t.h&&tV({},function(n,r){la(e,r,n)})}function IV(t,e,n){n=Math.min(t.j.length,n);var r=t.h?xc(t.h.Va,t.h,t):null;e:{var i=t.j;let o=-1;for(;;){const s=["count="+n];-1==o?0<n?(o=i[0].g,s.push("ofs="+o)):o=0:s.push("ofs="+o);let a=!0;for(let l=0;l<n;l++){let u=i[l].g;const m=i[l].map;if(u-=o,0>u)o=Math.max(0,i[l].g-100),a=!1;else try{Zue(m,s,"req"+u+"_")}catch{r&&r(m)}}if(a){r=s.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function EV(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;o1||L6(),s1||(o1(),s1=!0),pD.add(e,t),t.A=0}}function xD(t){return!(t.g||t.u||3<=t.A||(t.ba++,t.u=u1(xc(t.Ma,t),BV(t,t.A)),t.A++,0))}function FD(t){null!=t.B&&(Ui.clearTimeout(t.B),t.B=null)}function SV(t){t.g=new d1(t,t.l,"rpc",t.ba),null===t.o&&(t.g.I=t.s),t.g.O=0;var e=bp(t.wa);la(e,"RID","rpc"),la(e,"SID",t.K),la(e,"AID",t.V),la(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&la(e,"TO",t.qa),la(e,"TYPE","xmlhttp"),w1(t,e),t.o&&t.s&&BD(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.A=sI(bp(e)),n.u=null,n.S=!0,X6(n,t)}function AI(t){null!=t.v&&(Ui.clearTimeout(t.v),t.v=null)}function TV(t,e){var n=null;if(t.g==e){AI(t),FD(t),t.g=null;var r=2}else{if(!ED(t.i,e))return;n=e.F,dV(t.i,e),r=1}if(0!=t.H)if(e.i)if(1==r){n=e.u?e.u.length:0,e=Date.now()-e.G;var i=t.C;ec(r=eI(),new $6(r,n)),dI(t)}else EV(t);else if(3==(i=e.s)||0==i&&0<e.ca||!(1==r&&function sce(t,e){return!(cV(t.i)>=t.i.j-(t.m?1:0)||(t.m?(t.j=e.F.concat(t.j),0):1==t.H||2==t.H||t.C>=(t.cb?0:t.eb)||(t.m=u1(xc(t.Na,t,e),BV(t,t.C)),t.C++,0)))}(t,e)||2==r&&xD(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:Pm(t,5);break;case 4:Pm(t,10);break;case 3:Pm(t,6);break;default:Pm(t,2)}}function BV(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function Pm(t,e){if(t.l.info("Error code "+e),2==e){var n=null;t.h&&(n=null);var r=xc(t.pb,t);n||(n=new Rm("//www.google.com/images/cleardot.gif"),Ui.location&&"http"==Ui.location.protocol||iI(n,"https"),sI(n)),function ece(t,e){const n=new Zb;if(Ui.Image){const r=new Image;r.onload=Wb(aI,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Wb(aI,n,r,"TestLoadImage: error",!1,e),r.onabort=Wb(aI,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Wb(aI,n,r,"TestLoadImage: timeout",!1,e),Ui.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else ld(2);t.H=0,t.h&&t.h.za(e),DV(t),CV(t)}function DV(t){if(t.H=0,t.ma=[],t.h){const e=AV(t.i);(0!=e.length||0!=t.j.length)&&(b6(t.ma,e),b6(t.ma,t.j),t.i.i.length=0,XB(t.j),t.j.length=0),t.h.ya()}}function xV(t,e,n){var r=n instanceof Rm?bp(n):new Rm(n);if(""!=r.g)e&&(r.g=e+"."+r.g),oI(r,r.m);else{var i=Ui.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var o=new Rm(null);r&&iI(o,r),e&&(o.g=e),i&&oI(o,i),n&&(o.l=n),r=o}return e=t.Da,(n=t.F)&&e&&la(r,n,e),la(r,"VER",t.ra),w1(t,r),r}function FV(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new qa(t.Ha&&!t.va?new m1({ob:n}):t.va)).Oa(t.J),e}function kV(){}function hI(){if(C0&&!(10<=Number(yue)))throw Error("Environmental error: no available transport.")}function DA(t,e){Tu.call(this),this.g=new wV(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!n1(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!n1(e)&&(this.g.F=e,null!==(t=this.h)&&e in t&&e in(t=this.h)&&delete t[e]),this.j=new E0(this)}function RV(t){yD.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function PV(){_D.call(this),this.status=1}function E0(t){this.g=t}function Kh(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function kD(t,e,n){n||(n=0);var r=Array(16);if("string"==typeof e)for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;var o=t.g[3],s=(e=t.g[0])+(o^(n=t.g[1])&((i=t.g[2])^o))+r[0]+3614090360&4294967295;s=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=n+(s<<7&4294967295|s>>>25))+((s=o+(i^e&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(e^n))+r[2]+606105819&4294967295)<<17&4294967295|s>>>15))+((s=n+(e^i&(o^e))+r[3]+3250441966&4294967295)<<22&4294967295|s>>>10))+((s=e+(o^n&(i^o))+r[4]+4118548399&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^e&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(e^n))+r[6]+2821735955&4294967295)<<17&4294967295|s>>>15))+((s=n+(e^i&(o^e))+r[7]+4249261313&4294967295)<<22&4294967295|s>>>10))+((s=e+(o^n&(i^o))+r[8]+1770035416&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^e&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(e^n))+r[10]+4294925233&4294967295)<<17&4294967295|s>>>15))+((s=n+(e^i&(o^e))+r[11]+2304563134&4294967295)<<22&4294967295|s>>>10))+((s=e+(o^n&(i^o))+r[12]+1804603682&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^e&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(e^n))+r[14]+2792965006&4294967295)<<17&4294967295|s>>>15))+((s=n+(e^i&(o^e))+r[15]+1236535329&4294967295)<<22&4294967295|s>>>10))+((s=e+(i^o&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(e^n))+r[6]+3225465664&4294967295)<<9&4294967295|s>>>23))+((s=i+(e^n&(o^e))+r[11]+643717713&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^e&(i^o))+r[0]+3921069994&4294967295)<<20&4294967295|s>>>12))+((s=e+(i^o&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(e^n))+r[10]+38016083&4294967295)<<9&4294967295|s>>>23))+((s=i+(e^n&(o^e))+r[15]+3634488961&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^e&(i^o))+r[4]+3889429448&4294967295)<<20&4294967295|s>>>12))+((s=e+(i^o&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(e^n))+r[14]+3275163606&4294967295)<<9&4294967295|s>>>23))+((s=i+(e^n&(o^e))+r[3]+4107603335&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^e&(i^o))+r[8]+1163531501&4294967295)<<20&4294967295|s>>>12))+((s=e+(i^o&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(e^n))+r[2]+4243563512&4294967295)<<9&4294967295|s>>>23))+((s=i+(e^n&(o^e))+r[7]+1735328473&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^e&(i^o))+r[12]+2368359562&4294967295)<<20&4294967295|s>>>12))+((s=e+(n^i^o)+r[5]+4294588738&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^e^n)+r[11]+1839030562&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^e)+r[14]+4259657740&4294967295)<<23&4294967295|s>>>9))+((s=e+(n^i^o)+r[1]+2763975236&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^e^n)+r[7]+4139469664&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^e)+r[10]+3200236656&4294967295)<<23&4294967295|s>>>9))+((s=e+(n^i^o)+r[13]+681279174&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^e^n)+r[3]+3572445317&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^e)+r[6]+76029189&4294967295)<<23&4294967295|s>>>9))+((s=e+(n^i^o)+r[9]+3654602809&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^e^n)+r[15]+530742520&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^e)+r[2]+3299628645&4294967295)<<23&4294967295|s>>>9))+((s=e+(i^(n|~o))+r[0]+4096336452&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(e|~i))+r[7]+1126891415&4294967295)<<10&4294967295|s>>>22))+((s=i+(e^(o|~n))+r[14]+2878612391&4294967295)<<15&4294967295|s>>>17))+((s=n+(o^(i|~e))+r[5]+4237533241&4294967295)<<21&4294967295|s>>>11))+((s=e+(i^(n|~o))+r[12]+1700485571&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(e|~i))+r[3]+2399980690&4294967295)<<10&4294967295|s>>>22))+((s=i+(e^(o|~n))+r[10]+4293915773&4294967295)<<15&4294967295|s>>>17))+((s=n+(o^(i|~e))+r[1]+2240044497&4294967295)<<21&4294967295|s>>>11))+((s=e+(i^(n|~o))+r[8]+1873313359&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(e|~i))+r[15]+4264355552&4294967295)<<10&4294967295|s>>>22))+((s=i+(e^(o|~n))+r[6]+2734768916&4294967295)<<15&4294967295|s>>>17))+((s=n+(o^(i|~e))+r[13]+1309151649&4294967295)<<21&4294967295|s>>>11))+((o=(e=n+((s=e+(i^(n|~o))+r[4]+4149444226&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(e|~i))+r[11]+3174756917&4294967295)<<10&4294967295|s>>>22))^((i=o+((s=i+(e^(o|~n))+r[2]+718787259&4294967295)<<15&4294967295|s>>>17))|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(s<<21&4294967295|s>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+o&4294967295}function Ss(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var o=0|t[i];r&&o==e||(n[i]=o,r=!1)}this.g=n}(Dr=qa.prototype).Oa=function(t){this.M=t},Dr.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():wD.g(),this.C=function W6(t){return t.h||(t.h=t.i())}(this.u?this.u:wD),this.g.onreadystatechange=xc(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(o){return void pV(this,o)}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const o of r.keys())n.set(o,r.get(o))}r=Array.from(n.keys()).find(o=>"content-type"==o.toLowerCase()),i=Ui.FormData&&t instanceof Ui.FormData,!(0<=C6(rce,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[o,s]of n)this.g.setRequestHeader(o,s);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{vV(this),0<this.B&&((this.L=function ice(t){return C0&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=xc(this.ua,this)):this.A=mD(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(o){pV(this,o)}},Dr.ua=function(){typeof qB<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,ec(this,"timeout"),this.abort(8))},Dr.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,ec(this,"complete"),ec(this,"abort"),uI(this))},Dr.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),uI(this,!0)),qa.$.N.call(this)},Dr.La=function(){this.s||(this.G||this.v||this.l?mV(this):this.kb())},Dr.kb=function(){mV(this)},Dr.isActive=function(){return!!this.g},Dr.da=function(){try{return 2<Of(this)?this.g.status:-1}catch{return-1}},Dr.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},Dr.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),tce(e)}},Dr.Ia=function(){return this.m},Dr.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(Dr=wV.prototype).ra=8,Dr.H=1,Dr.Na=function(t){if(this.m)if(this.m=null,1==this.H){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new d1(this,this.l,t);let o=this.s;if(this.U&&(o?(o=B6(o),x6(o,this.U)):o=this.U),null!==this.o||this.O||(i.I=o,o=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){var r=this.j[n];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=n;break e}if(4096===e||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=IV(this,i,e),la(n=bp(this.I),"RID",t),la(n,"CVER",22),this.F&&la(n,"X-HTTP-Session-Id",this.F),w1(this,n),o&&(this.O?e="headers="+encodeURIComponent(String(_V(o)))+"&"+e:this.o&&BD(n,this.o,o)),SD(this.i,i),this.bb&&la(n,"TYPE","init"),this.P?(la(n,"$req",e),la(n,"SID","null"),i.aa=!0,bD(i,n,null)):bD(i,n,e),this.H=2}}else 3==this.H&&(t?bV(this,t):0==this.j.length||uV(this.i)||bV(this))},Dr.Ma=function(){if(this.u=null,SV(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=u1(xc(this.jb,this),t)}},Dr.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,ld(10),cI(this),SV(this))},Dr.ib=function(){null!=this.v&&(this.v=null,cI(this),xD(this),ld(19))},Dr.pb=function(t){t?(this.l.info("Successfully pinged google.com"),ld(2)):(this.l.info("Failed to ping google.com"),ld(1))},Dr.isActive=function(){return!!this.h&&this.h.isActive(this)},(Dr=kV.prototype).Ba=function(){},Dr.Aa=function(){},Dr.za=function(){},Dr.ya=function(){},Dr.isActive=function(){return!0},Dr.Va=function(){},hI.prototype.g=function(t,e){return new DA(t,e)},Su(DA,Tu),DA.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;ld(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=xV(t,null,t.Y),dI(t)},DA.prototype.close=function(){DD(this.g)},DA.prototype.u=function(t){var e=this.g;if("string"==typeof t){var n={};n.__data__=t,t=n}else this.v&&((n={}).__data__=fD(t),t=n);e.j.push(new que(e.fb++,t)),3==e.H&&dI(e)},DA.prototype.N=function(){this.g.h=null,delete this.j,DD(this.g),delete this.g,DA.$.N.call(this)},Su(RV,yD),Su(PV,_D),Su(E0,kV),E0.prototype.Ba=function(){ec(this.g,"a")},E0.prototype.Aa=function(t){ec(this.g,new RV(t))},E0.prototype.za=function(t){ec(this.g,new PV)},E0.prototype.ya=function(){ec(this.g,"b")},Su(Kh,function ace(){this.blockSize=-1}),Kh.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Kh.prototype.j=function(t,e){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,o=0;o<e;){if(0==i)for(;o<=n;)kD(this,t,o),o+=this.blockSize;if("string"==typeof t){for(;o<e;)if(r[i++]=t.charCodeAt(o++),i==this.blockSize){kD(this,r),i=0;break}}else for(;o<e;)if(r[i++]=t[o++],i==this.blockSize){kD(this,r),i=0;break}}this.h=i,this.i+=e},Kh.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=255&n,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};var lce={};function RD(t){return-128<=t&&128>t?function gue(t,e){var n=lce;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}(t,function(e){return new Ss([0|e],0>e?-1:0)}):new Ss([0|t],0>t?-1:0)}function Uf(t){if(isNaN(t)||!isFinite(t))return S0;if(0>t)return tc(Uf(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=PD;return new Ss(e,0)}var PD=4294967296,S0=RD(0),ND=RD(1),MV=RD(16777216);function Ip(t){if(0!=t.h)return!1;for(var e=0;e<t.g.length;e++)if(0!=t.g[e])return!1;return!0}function uh(t){return-1==t.h}function tc(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new Ss(n,~t.h).add(ND)}function fI(t,e){return t.add(tc(e))}function pI(t,e){for(;(65535&t[e])!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function C1(t,e){this.g=t,this.h=e}function gI(t,e){if(Ip(e))throw Error("division by zero");if(Ip(t))return new C1(S0,S0);if(uh(t))return e=gI(tc(t),e),new C1(tc(e.g),tc(e.h));if(uh(e))return e=gI(t,tc(e)),new C1(tc(e.g),e.h);if(30<t.g.length){if(uh(t)||uh(e))throw Error("slowDivide_ only works with positive integers.");for(var n=ND,r=e;0>=r.X(t);)n=LV(n),r=LV(r);var i=T0(n,1),o=T0(r,1);for(r=T0(r,2),n=T0(n,2);!Ip(r);){var s=o.add(r);0>=s.X(t)&&(i=i.add(n),o=s),r=T0(r,1),n=T0(n,1)}return e=fI(t,i.R(e)),new C1(i,e)}for(i=S0;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),s=(o=Uf(n)).R(e);uh(s)||0<s.X(t);)s=(o=Uf(n-=r)).R(e);Ip(o)&&(o=ND),i=i.add(o),t=fI(t,s)}return new C1(i,t)}function LV(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new Ss(n,t.h)}function T0(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],o=0;o<r;o++)i[o]=0<e?t.D(o+n)>>>e|t.D(o+n+1)<<32-e:t.D(o+n);return new Ss(i,t.h)}(Dr=Ss.prototype).ea=function(){if(uh(this))return-tc(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:PD+r)*e,e*=PD}return t},Dr.toString=function(t){if(2>(t=t||10)||36<t)throw Error("radix out of range: "+t);if(Ip(this))return"0";if(uh(this))return"-"+tc(this).toString(t);for(var e=Uf(Math.pow(t,6)),n=this,r="";;){var i=gI(n,e).g,o=((0<(n=fI(n,i.R(e))).g.length?n.g[0]:n.h)>>>0).toString(t);if(Ip(n=i))return o+r;for(;6>o.length;)o="0"+o;r=o+r}},Dr.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h},Dr.X=function(t){return uh(t=fI(this,t))?-1:Ip(t)?0:1},Dr.abs=function(){return uh(this)?tc(this):this},Dr.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var o=r+(65535&this.D(i))+(65535&t.D(i)),s=(o>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=s>>>16,n[i]=(s&=65535)<<16|(o&=65535)}return new Ss(n,-2147483648&n[n.length-1]?-1:0)},Dr.R=function(t){if(Ip(this)||Ip(t))return S0;if(uh(this))return uh(t)?tc(this).R(tc(t)):tc(tc(this).R(t));if(uh(t))return tc(this.R(tc(t)));if(0>this.X(MV)&&0>t.X(MV))return Uf(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var o=this.D(r)>>>16,s=65535&this.D(r),a=t.D(i)>>>16,l=65535&t.D(i);n[2*r+2*i]+=s*l,pI(n,2*r+2*i),n[2*r+2*i+1]+=o*l,pI(n,2*r+2*i+1),n[2*r+2*i+1]+=s*a,pI(n,2*r+2*i+1),n[2*r+2*i+2]+=o*a,pI(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new Ss(n,0)},Dr.gb=function(t){return gI(this,t).h},Dr.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new Ss(n,this.h&t.h)},Dr.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new Ss(n,this.h|t.h)},Dr.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new Ss(n,this.h^t.h)},hI.prototype.createWebChannel=hI.prototype.g,DA.prototype.send=DA.prototype.u,DA.prototype.open=DA.prototype.m,DA.prototype.close=DA.prototype.close,tI.NO_ERROR=0,tI.TIMEOUT=8,tI.HTTP_ERROR=6,G6.COMPLETE="complete",K6.EventType=c1,c1.OPEN="a",c1.CLOSE="b",c1.ERROR="c",c1.MESSAGE="d",Tu.prototype.listen=Tu.prototype.O,qa.prototype.listenOnce=qa.prototype.P,qa.prototype.getLastError=qa.prototype.Sa,qa.prototype.getLastErrorCode=qa.prototype.Ia,qa.prototype.getStatus=qa.prototype.da,qa.prototype.getResponseJson=qa.prototype.Wa,qa.prototype.getResponseText=qa.prototype.ja,qa.prototype.send=qa.prototype.ha,qa.prototype.setWithCredentials=qa.prototype.Oa,Kh.prototype.digest=Kh.prototype.l,Kh.prototype.reset=Kh.prototype.reset,Kh.prototype.update=Kh.prototype.j,Ss.prototype.add=Ss.prototype.add,Ss.prototype.multiply=Ss.prototype.R,Ss.prototype.modulo=Ss.prototype.gb,Ss.prototype.compare=Ss.prototype.X,Ss.prototype.toNumber=Ss.prototype.ea,Ss.prototype.toString=Ss.prototype.toString,Ss.prototype.getBits=Ss.prototype.D,Ss.fromNumber=Uf,Ss.fromString=function NV(t,e){if(0==t.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==t.charAt(0))return tc(NV(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Uf(Math.pow(e,8)),r=S0,i=0;i<t.length;i+=8){var o=Math.min(8,t.length-i),s=parseInt(t.substring(i,i+o),e);8>o?(o=Uf(Math.pow(e,o)),r=r.R(o).add(Uf(s))):r=(r=r.R(n)).add(Uf(s))}return r};var uce=Wh.createWebChannelTransport=function(){return new hI},cce=Wh.getStatEventTarget=function(){return eI()},MD=Wh.ErrorCode=tI,dce=Wh.EventType=G6,Ace=Wh.Event=Fm,OV=Wh.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},mI=(Wh.FetchXmlHttpFactory=m1,Wh.WebChannel=K6),hce=Wh.XhrIo=qa,fce=Wh.Md5=Kh,B0=Wh.Integer=Ss;const UV="@firebase/firestore";class Bu{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Bu.UNAUTHENTICATED=new Bu(null),Bu.GOOGLE_CREDENTIALS=new Bu("google-credentials-uid"),Bu.FIRST_PARTY=new Bu("first-party-uid"),Bu.MOCK_USER=new Bu("mock-user");let D0="10.10.0";const Ig=new BA.Vy("@firebase/firestore");function x0(){return Ig.logLevel}function Mn(t,...e){if(Ig.logLevel<=BA.$b.DEBUG){const n=e.map(LD);Ig.debug(`Firestore (${D0}): ${t}`,...n)}}function fl(t,...e){if(Ig.logLevel<=BA.$b.ERROR){const n=e.map(LD);Ig.error(`Firestore (${D0}): ${t}`,...n)}}function Hd(t,...e){if(Ig.logLevel<=BA.$b.WARN){const n=e.map(LD);Ig.warn(`Firestore (${D0}): ${t}`,...n)}}function LD(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch{return t}}function Vr(t="Unexpected state"){const e=`FIRESTORE (${D0}) INTERNAL ASSERTION FAILED: `+t;throw fl(e),new Error(e)}function Xr(t,e){t||Vr()}function hr(t,e){return t}const nn={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Fn extends _e.g{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Yl{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}class VV{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class mce{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Bu.UNAUTHENTICATED))}shutdown(){}}class vce{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class yce{constructor(e){this.t=e,this.currentUser=Bu.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){var r=this;let i=this.i;const o=u=>this.i!==i?(i=this.i,n(u)):Promise.resolve();let s=new Yl;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Yl,e.enqueueRetryable(()=>o(this.currentUser))};const a=()=>{const u=s;e.enqueueRetryable((0,V.A)(function*(){yield u.promise,yield o(r.currentUser)}))},l=u=>{Mn("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(u=>l(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?l(u):(Mn("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Yl)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Mn("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Xr("string"==typeof r.accessToken),new VV(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Xr(null===e||"string"==typeof e),new Bu(e)}}class _ce{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Bu.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class wce{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new _ce(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Bu.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class QV{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Cce{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=o=>{null!=o.error&&Mn("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.R;return this.R=o.token,Mn("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{Mn("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?i(o):Mn("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Xr("string"==typeof n.token),this.R=n.token,new QV(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function bce(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}class HV{static newId(){const n=62*Math.floor(256/62);let r="";for(;r.length<20;){const i=bce(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(i[o]%62))}return r}}function Mi(t,e){return t<e?-1:t>e?1:0}function F0(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}function jV(t){return t+"\0"}class Ca{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Fn(nn.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Fn(nn.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new Fn(nn.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Fn(nn.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Ca.fromMillis(Date.now())}static fromDate(e){return Ca.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Ca(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Mi(this.nanoseconds,e.nanoseconds):Mi(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class ei{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ei(e)}static min(){return new ei(new Ca(0,0))}static max(){return new ei(new Ca(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class b1{constructor(e,n,r){void 0===n?n=0:n>e.length&&Vr(),void 0===r?r=e.length-n:r>e.length-n&&Vr(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return 0===b1.comparator(this,e)}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof b1?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=e.get(i),s=n.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class xo extends b1{construct(e,n,r){return new xo(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Fn(nn.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new xo(n)}static emptyPath(){return new xo([])}}const Ice=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ua extends b1{construct(e,n,r){return new ua(e,n,r)}static isValidIdentifier(e){return Ice.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ua.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new ua(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(0===r.length)throw new Fn(nn.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<e.length;){const a=e[i];if("\\"===a){if(i+1===e.length)throw new Fn(nn.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if("\\"!==l&&"."!==l&&"`"!==l)throw new Fn(nn.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else"`"===a?(s=!s,i++):"."!==a||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new Fn(nn.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ua(n)}static emptyPath(){return new ua([])}}class Cr{constructor(e){this.path=e}static fromPath(e){return new Cr(xo.fromString(e))}static fromName(e){return new Cr(xo.fromString(e).popFirst(5))}static empty(){return new Cr(xo.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===xo.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,n){return xo.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Cr(new xo(e.slice()))}}class k0{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}}function OD(t){return t.fields.find(e=>2===e.kind)}function Nm(t){return t.fields.filter(e=>2!==e.kind)}k0.UNKNOWN_ID=-1;class Mm{constructor(e,n){this.fieldPath=e,this.kind=n}}class R0{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new R0(0,xA.min())}}function zV(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ei.fromTimestamp(1e9===r?new Ca(n+1,0):new Ca(n,r));return new xA(i,Cr.empty(),e)}function $V(t){return new xA(t.readTime,t.key,-1)}class xA{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new xA(ei.min(),Cr.empty(),-1)}static max(){return new xA(ei.max(),Cr.empty(),-1)}}function UD(t,e){let n=t.readTime.compareTo(e.readTime);return 0!==n?n:(n=Cr.comparator(t.documentKey,e.documentKey),0!==n?n:Mi(t.largestBatchId,e.largestBatchId))}const GV="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class WV{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Eg(t){return VD.apply(this,arguments)}function VD(){return VD=(0,V.A)(function*(t){if(t.code!==nn.FAILED_PRECONDITION||t.message!==GV)throw t;Mn("LocalStore","Unexpectedly lost primary lease")}),VD.apply(this,arguments)}class Vt{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Vr(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Vt((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof Vt?n:Vt.resolve(n)}catch(n){return Vt.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):Vt.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):Vt.reject(n)}static resolve(e){return new Vt((n,r)=>{n(e)})}static reject(e){return new Vt((n,r)=>{r(e)})}static waitFor(e){return new Vt((n,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},l=>r(l))}),s=!0,o===i&&n()})}static or(e){let n=Vt.resolve(!1);for(const r of e)n=n.next(i=>i?Vt.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new Vt((r,i)=>{const o=e.length,s=new Array(o);let a=0;for(let l=0;l<o;l++){const u=l;n(e[u]).next(m=>{s[u]=m,++a,a===o&&r(s)},m=>i(m))}})}static doWhile(e,n){return new Vt((r,i)=>{const o=()=>{!0===e()?n().next(()=>{o()},i):r()};o()})}}class vI{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.V=new Yl,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{n.error?this.V.reject(new I1(e,n.error)):this.V.resolve()},this.transaction.onerror=r=>{const i=QD(r.target.error);this.V.reject(new I1(e,i))}}static open(e,n,r,i){try{return new vI(n,e.transaction(i,r))}catch(o){throw new I1(n,o)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(Mn("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const n=this.transaction.objectStore(e);return new Bce(n)}}class ch{constructor(e,n,r){this.name=e,this.version=n,this.p=r,12.2===ch.S((0,_e.ZQ)())&&fl("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Mn("SimpleDb","Removing database:",e),Lm(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,_e.zW)())return!1;if(ch.C())return!0;const e=(0,_e.ZQ)(),n=ch.S(e),r=0<n&&n<10,i=ch.v(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)}static C(){var e;return typeof process<"u"&&"YES"===(null===(e=process.__PRIVATE_env)||void 0===e?void 0:e.F)}static M(e,n){return e.store(n)}static S(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static v(e){const n=e.match(/Android ([\d.]+)/i),r=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(r)}O(e){var n=this;return(0,V.A)(function*(){return n.db||(Mn("SimpleDb","Opening database:",n.name),n.db=yield new Promise((r,i)=>{const o=indexedDB.open(n.name,n.version);o.onsuccess=s=>{r(s.target.result)},o.onblocked=()=>{i(new I1(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},o.onerror=s=>{const a=s.target.error;i("VersionError"===a.name?new Fn(nn.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===a.name?new Fn(nn.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+a):new I1(e,a))},o.onupgradeneeded=s=>{Mn("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',s.oldVersion),n.p.N(s.target.result,o.transaction,s.oldVersion,n.version).next(()=>{Mn("SimpleDb","Database upgrade to version "+n.version+" complete")})}})),n.L&&(n.db.onversionchange=r=>n.L(r)),n.db})()}B(e){this.L=e,this.db&&(this.db.onversionchange=n=>e(n))}runTransaction(e,n,r,i){var o=this;return(0,V.A)(function*(){const s="readonly"===n;let a=0;for(;;){++a;try{o.db=yield o.O(e);const l=vI.open(o.db,e,s?"readonly":"readwrite",r),u=i(l).next(m=>(l.g(),m)).catch(m=>(l.abort(m),Vt.reject(m))).toPromise();return u.catch(()=>{}),yield l.m,u}catch(l){const u=l,m="FirebaseError"!==u.name&&a<3;if(Mn("SimpleDb","Transaction failed with error:",u.message,"Retrying:",m),o.close(),!m)return Promise.reject(u)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class Tce{constructor(e){this.k=e,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(e){this.k=e}done(){this.q=!0}U(e){this.K=e}delete(){return Lm(this.k.delete())}}class I1 extends Fn{constructor(e,n){super(nn.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function Sg(t){return"IndexedDbTransactionError"===t.name}class Bce{constructor(e){this.store=e}put(e,n){let r;return void 0!==n?(Mn("SimpleDb","PUT",this.store.name,e,n),r=this.store.put(n,e)):(Mn("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Lm(r)}add(e){return Mn("SimpleDb","ADD",this.store.name,e,e),Lm(this.store.add(e))}get(e){return Lm(this.store.get(e)).next(n=>(void 0===n&&(n=null),Mn("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return Mn("SimpleDb","DELETE",this.store.name,e),Lm(this.store.delete(e))}count(){return Mn("SimpleDb","COUNT",this.store.name),Lm(this.store.count())}W(e,n){const r=this.options(e,n),i=r.index?this.store.index(r.index):this.store;if("function"==typeof i.getAll){const o=i.getAll(r.range);return new Vt((s,a)=>{o.onerror=l=>{a(l.target.error)},o.onsuccess=l=>{s(l.target.result)}})}{const o=this.cursor(r),s=[];return this.G(o,(a,l)=>{s.push(l)}).next(()=>s)}}j(e,n){const r=this.store.getAll(e,null===n?void 0:n);return new Vt((i,o)=>{r.onerror=s=>{o(s.target.error)},r.onsuccess=s=>{i(s.target.result)}})}H(e,n){Mn("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,n);r.J=!1;const i=this.cursor(r);return this.G(i,(o,s,a)=>a.delete())}Y(e,n){let r;n?r=e:(r={},n=e);const i=this.cursor(r);return this.G(i,n)}Z(e){const n=this.cursor({});return new Vt((r,i)=>{n.onerror=o=>{const s=QD(o.target.error);i(s)},n.onsuccess=o=>{const s=o.target.result;s?e(s.primaryKey,s.value).next(a=>{a?s.continue():r()}):r()}})}G(e,n){const r=[];return new Vt((i,o)=>{e.onerror=s=>{o(s.target.error)},e.onsuccess=s=>{const a=s.target.result;if(!a)return void i();const l=new Tce(a),u=n(a.primaryKey,a.value,l);if(u instanceof Vt){const m=u.catch(I=>(l.done(),Vt.reject(I)));r.push(m)}l.isDone?i():null===l.$?a.continue():a.continue(l.$)}}).next(()=>Vt.waitFor(r))}options(e,n){let r;return void 0!==e&&("string"==typeof e?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.J?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function Lm(t){return new Vt((e,n)=>{t.onsuccess=r=>{e(r.target.result)},t.onerror=r=>{const i=QD(r.target.error);n(i)}})}let KV=!1;function QD(t){const e=ch.S((0,_e.ZQ)());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new Fn("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return KV||(KV=!0,setTimeout(()=>{throw r},0)),r}}return t}class Dce{constructor(e,n){this.asyncQueue=e,this.X=n,this.task=null}start(){this.ee(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}ee(e){var n=this;Mn("IndexBackfiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,V.A)(function*(){n.task=null;try{Mn("IndexBackfiller",`Documents written: ${yield n.X.te()}`)}catch(r){Sg(r)?Mn("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",r):yield Eg(r)}yield n.ee(6e4)}))}}class xce{constructor(e,n){this.localStore=e,this.persistence=n}te(e=50){var n=this;return(0,V.A)(function*(){return n.persistence.runTransaction("Backfill Indexes","readwrite-primary",r=>n.ne(r,e))})()}ne(e,n){const r=new Set;let i=n,o=!0;return Vt.doWhile(()=>!0===o&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(s=>{if(null!==s&&!r.has(s))return Mn("IndexBackfiller",`Processing collection: ${s}`),this.re(e,s,i).next(a=>{i-=a,r.add(s)});o=!1})).next(()=>n-i)}re(e,n,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,n).next(i=>this.localStore.localDocuments.getNextDocuments(e,n,i,r).next(o=>{const s=o.changes;return this.localStore.indexManager.updateIndexEntries(e,s).next(()=>this.ie(i,o)).next(a=>(Mn("IndexBackfiller",`Updating offset: ${a}`),this.localStore.indexManager.updateCollectionGroup(e,n,a))).next(()=>s.size)}))}ie(e,n){let r=e;return n.changes.forEach((i,o)=>{const s=$V(o);UD(s,r)>0&&(r=s)}),new xA(r.readTime,r.documentKey,Math.max(n.batchId,e.largestBatchId))}}let FA=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.se(i),this.oe=i=>r.writeSequenceNumber(i))}se(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){const n=++this.previousValue;return this.oe&&this.oe(n),n}}return t._e=-1,t})();function E1(t){return null==t}function S1(t){return 0===t&&1/t==-1/0}function qV(t){return"number"==typeof t&&Number.isInteger(t)&&!S1(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}function kc(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=YV(e)),e=Fce(t.get(n),e);return YV(e)}function Fce(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const o=t.charAt(i);switch(o){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=o}}return n}function YV(t){return t+"\x01\x01"}function Vf(t){const e=t.length;if(Xr(e>=2),2===e)return Xr("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),xo.emptyPath();const n=e-2,r=[];let i="";for(let o=0;o<e;){const s=t.indexOf("\x01",o);switch((s<0||s>n)&&Vr(),t.charAt(s+1)){case"\x01":const a=t.substring(o,s);let l;0===i.length?l=a:(i+=a,l=i,i=""),r.push(l);break;case"\x10":i+=t.substring(o,s),i+="\0";break;case"\x11":i+=t.substring(o,s+1);break;default:Vr()}o=s+2}return new xo(r)}const XV=["userId","batchId"];function yI(t,e){return[t,kc(e)]}function JV(t,e,n){return[t,kc(e),n]}const kce={},Rce=["prefixPath","collectionGroup","readTime","documentId"],Pce=["prefixPath","collectionGroup","documentId"],Nce=["collectionGroup","readTime","prefixPath","documentId"],Mce=["canonicalId","targetId"],Lce=["targetId","path"],Oce=["path","targetId"],Uce=["collectionId","parent"],Vce=["indexId","uid"],Qce=["uid","sequenceNumber"],Hce=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],jce=["indexId","uid","orderedDocumentKey"],zce=["userId","collectionPath","documentId"],$ce=["userId","collectionPath","largestBatchId"],Gce=["userId","collectionGroup","largestBatchId"],ZV=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Wce=[...ZV,"documentOverlays"],eQ=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],tQ=eQ,Kce=[...tQ,"indexConfiguration","indexState","indexEntries"];class HD extends WV{constructor(e,n){super(),this.ae=e,this.currentSequenceNumber=n}}function Du(t,e){const n=hr(t);return ch.M(n.ae,e)}function nQ(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Tg(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function rQ(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class Ys{constructor(e,n){this.comparator=e,this.root=n||nc.EMPTY}insert(e,n){return new Ys(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,nc.BLACK,null,null))}remove(e){return new Ys(this.comparator,this.root.remove(e,this.comparator).copy(null,null,nc.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new _I(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new _I(this.root,e,this.comparator,!1)}getReverseIterator(){return new _I(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new _I(this.root,e,this.comparator,!0)}}class _I{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(0===o){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class nc{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:nc.RED,this.left=null!=i?i:nc.EMPTY,this.right=null!=o?o:nc.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new nc(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):0===o?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return nc.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return nc.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,nc.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,nc.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Vr();const e=this.left.check();if(e!==this.right.check())throw Vr();return e+(this.isRed()?0:1)}}nc.EMPTY=null,nc.RED=!0,nc.BLACK=!1,nc.EMPTY=new class{constructor(){this.size=0}get key(){throw Vr()}get value(){throw Vr()}get color(){throw Vr()}get left(){throw Vr()}get right(){throw Vr()}copy(e,n,r,i,o){return this}insert(e,n,r){return new nc(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ms{constructor(e){this.comparator=e,this.data=new Ys(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new iQ(this.data.getIterator())}getIteratorFrom(e){return new iQ(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Ms)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Ms(this.comparator);return n.data=e,n}}class iQ{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function P0(t){return t.hasNext()?t.getNext():void 0}class jd{constructor(e){this.fields=e,e.sort(ua.comparator)}static empty(){return new jd([])}unionWith(e){let n=new Ms(ua.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new jd(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return F0(this.fields,e.fields,(n,r)=>n.isEqual(r))}}class oQ extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Xl{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new oQ("Invalid base64 string: "+o):o}}(e);return new Xl(n)}static fromUint8Array(e){const n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new Xl(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Mi(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Xl.EMPTY_BYTE_STRING=new Xl("");const Yce=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Bg(t){if(Xr(!!t),"string"==typeof t){let e=0;const n=Yce.exec(t);if(Xr(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ya(t.seconds),nanos:Ya(t.nanos)}}function Ya(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function Ep(t){return"string"==typeof t?Xl.fromBase64String(t):Xl.fromUint8Array(t)}function wI(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function CI(t){const e=t.mapValue.fields.__previous_value__;return wI(e)?CI(e):e}function T1(t){const e=Bg(t.mapValue.fields.__local_write_time__.timestampValue);return new Ca(e.seconds,e.nanos)}class Xce{constructor(e,n,r,i,o,s,a,l,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}}class Dg{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Dg("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Dg&&e.projectId===this.projectId&&e.database===this.database}}const xg={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},bI={nullValue:"NULL_VALUE"};function Fg(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?wI(t)?4:uQ(t)?9007199254740991:10:Vr()}function Qf(t,e){if(t===e)return!0;const n=Fg(t);if(n!==Fg(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return T1(t).isEqual(T1(e));case 3:return function(i,o){if("string"==typeof i.timestampValue&&"string"==typeof o.timestampValue&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const s=Bg(i.timestampValue),a=Bg(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return o=e,Ep(t.bytesValue).isEqual(Ep(o.bytesValue));case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return Ya(i.geoPointValue.latitude)===Ya(o.geoPointValue.latitude)&&Ya(i.geoPointValue.longitude)===Ya(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return Ya(i.integerValue)===Ya(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const s=Ya(i.doubleValue),a=Ya(o.doubleValue);return s===a?S1(s)===S1(a):isNaN(s)&&isNaN(a)}return!1}(t,e);case 9:return F0(t.arrayValue.values||[],e.arrayValue.values||[],Qf);case 10:return function(i,o){const s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(nQ(s)!==nQ(a))return!1;for(const l in s)if(s.hasOwnProperty(l)&&(void 0===a[l]||!Qf(s[l],a[l])))return!1;return!0}(t,e);default:return Vr()}var o}function B1(t,e){return void 0!==(t.values||[]).find(n=>Qf(n,e))}function kg(t,e){if(t===e)return 0;const n=Fg(t),r=Fg(e);if(n!==r)return Mi(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Mi(t.booleanValue,e.booleanValue);case 2:return function(o,s){const a=Ya(o.integerValue||o.doubleValue),l=Ya(s.integerValue||s.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return sQ(t.timestampValue,e.timestampValue);case 4:return sQ(T1(t),T1(e));case 5:return Mi(t.stringValue,e.stringValue);case 6:return function(o,s){const a=Ep(o),l=Ep(s);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){const a=o.split("/"),l=s.split("/");for(let u=0;u<a.length&&u<l.length;u++){const m=Mi(a[u],l[u]);if(0!==m)return m}return Mi(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){const a=Mi(Ya(o.latitude),Ya(s.latitude));return 0!==a?a:Mi(Ya(o.longitude),Ya(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(o,s){const a=o.values||[],l=s.values||[];for(let u=0;u<a.length&&u<l.length;++u){const m=kg(a[u],l[u]);if(m)return m}return Mi(a.length,l.length)}(t.arrayValue,e.arrayValue);case 10:return function(o,s){if(o===xg.mapValue&&s===xg.mapValue)return 0;if(o===xg.mapValue)return 1;if(s===xg.mapValue)return-1;const a=o.fields||{},l=Object.keys(a),u=s.fields||{},m=Object.keys(u);l.sort(),m.sort();for(let I=0;I<l.length&&I<m.length;++I){const k=Mi(l[I],m[I]);if(0!==k)return k;const U=kg(a[l[I]],u[m[I]]);if(0!==U)return U}return Mi(l.length,m.length)}(t.mapValue,e.mapValue);default:throw Vr()}}function sQ(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return Mi(t,e);const n=Bg(t),r=Bg(e),i=Mi(n.seconds,r.seconds);return 0!==i?i:Mi(n.nanos,r.nanos)}function N0(t){return jD(t)}function jD(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Bg(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Ep(t.bytesValue).toBase64():"referenceValue"in t?Cr.fromName(t.referenceValue).toString():"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=jD(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const s of r)o?o=!1:i+=",",i+=`${s}:${jD(n.fields[s])}`;return i+"}"}(t.mapValue):Vr()}function Om(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function zD(t){return!!t&&"integerValue"in t}function D1(t){return!!t&&"arrayValue"in t}function aQ(t){return!!t&&"nullValue"in t}function lQ(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function EI(t){return!!t&&"mapValue"in t}function x1(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Tg(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=x1(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=x1(t.arrayValue.values[n]);return e}return Object.assign({},t)}function uQ(t){return"__max__"===(((t.mapValue||{}).fields||{}).__type__||{}).stringValue}function Jce(t){return"nullValue"in t?bI:"booleanValue"in t?{booleanValue:!1}:"integerValue"in t||"doubleValue"in t?{doubleValue:NaN}:"timestampValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in t?{stringValue:""}:"bytesValue"in t?{bytesValue:""}:"referenceValue"in t?Om(Dg.empty(),Cr.empty()):"geoPointValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in t?{arrayValue:{}}:"mapValue"in t?{mapValue:{}}:Vr()}function Zce(t){return"nullValue"in t?{booleanValue:!1}:"booleanValue"in t?{doubleValue:NaN}:"integerValue"in t||"doubleValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in t?{stringValue:""}:"stringValue"in t?{bytesValue:""}:"bytesValue"in t?Om(Dg.empty(),Cr.empty()):"referenceValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in t?{arrayValue:{}}:"arrayValue"in t?{mapValue:{}}:"mapValue"in t?xg:Vr()}function cQ(t,e){const n=kg(t.value,e.value);return 0!==n?n:t.inclusive&&!e.inclusive?-1:!t.inclusive&&e.inclusive?1:0}function dQ(t,e){const n=kg(t.value,e.value);return 0!==n?n:t.inclusive&&!e.inclusive?1:!t.inclusive&&e.inclusive?-1:0}class rc{constructor(e){this.value=e}static empty(){return new rc({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!EI(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=x1(n)}setAll(e){let n=ua.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=x1(s):i.push(a.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());EI(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Qf(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];EI(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Tg(n,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new rc(x1(this.value))}}function AQ(t){const e=[];return Tg(t.fields,(n,r)=>{const i=new ua([n]);if(EI(r)){const o=AQ(r.mapValue).fields;if(0===o.length)e.push(i);else for(const s of o)e.push(i.child(s))}else e.push(i)}),new jd(e)}class ca{constructor(e,n,r,i,o,s,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new ca(e,0,ei.min(),ei.min(),ei.min(),rc.empty(),0)}static newFoundDocument(e,n,r,i){return new ca(e,1,n,ei.min(),r,i,0)}static newNoDocument(e,n){return new ca(e,2,n,ei.min(),ei.min(),rc.empty(),0)}static newUnknownDocument(e,n){return new ca(e,3,n,ei.min(),ei.min(),rc.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ei.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=rc.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=rc.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ei.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof ca&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ca(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Rg{constructor(e,n){this.position=e,this.inclusive=n}}function hQ(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],s=t.position[i];if(r=o.field.isKeyField()?Cr.comparator(Cr.fromName(s.referenceValue),n.key):kg(s,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return r}function fQ(t,e){if(null===t)return null===e;if(null===e||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Qf(t.position[n],e.position[n]))return!1;return!0}class F1{constructor(e,n="asc"){this.field=e,this.dir=n}}function ede(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class pQ{}class Fo extends pQ{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?"in"===n||"not-in"===n?this.createKeyFieldInFilter(e,n,r):new tde(e,n,r):"array-contains"===n?new ide(e,r):"in"===n?new wQ(e,r):"not-in"===n?new ode(e,r):"array-contains-any"===n?new sde(e,r):new Fo(e,n,r)}static createKeyFieldInFilter(e,n,r){return"in"===n?new nde(e,r):new rde(e,r)}matches(e){const n=e.data.field(this.field);return"!="===this.op?null!==n&&this.matchesComparison(kg(n,this.value)):null!==n&&Fg(this.value)===Fg(n)&&this.matchesComparison(kg(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Vr()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ts extends pQ{constructor(e,n){super(),this.filters=e,this.op=n,this.ue=null}static create(e,n){return new Ts(e,n)}matches(e){return M0(this)?void 0===this.filters.find(n=>!n.matches(e)):void 0!==this.filters.find(n=>n.matches(e))}getFlattenedFilters(){return null!==this.ue||(this.ue=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function M0(t){return"and"===t.op}function $D(t){return"or"===t.op}function GD(t){return gQ(t)&&M0(t)}function gQ(t){for(const e of t.filters)if(e instanceof Ts)return!1;return!0}function WD(t){if(t instanceof Fo)return t.field.canonicalString()+t.op.toString()+N0(t.value);if(GD(t))return t.filters.map(e=>WD(e)).join(",");{const e=t.filters.map(n=>WD(n)).join(",");return`${t.op}(${e})`}}function mQ(t,e){return t instanceof Fo?(r=t,(i=e)instanceof Fo&&r.op===i.op&&r.field.isEqual(i.field)&&Qf(r.value,i.value)):t instanceof Ts?function(r,i){return i instanceof Ts&&r.op===i.op&&r.filters.length===i.filters.length&&r.filters.reduce((o,s,a)=>o&&mQ(s,i.filters[a]),!0)}(t,e):void Vr();var r,i}function vQ(t,e){const n=t.filters.concat(e);return Ts.create(n,t.op)}function yQ(t){return t instanceof Fo?`${(n=t).field.canonicalString()} ${n.op} ${N0(n.value)}`:t instanceof Ts?function(n){return n.op.toString()+" {"+n.getFilters().map(yQ).join(" ,")+"}"}(t):"Filter";var n}class tde extends Fo{constructor(e,n,r){super(e,n,r),this.key=Cr.fromName(r.referenceValue)}matches(e){const n=Cr.comparator(e.key,this.key);return this.matchesComparison(n)}}class nde extends Fo{constructor(e,n){super(e,"in",n),this.keys=_Q(0,n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class rde extends Fo{constructor(e,n){super(e,"not-in",n),this.keys=_Q(0,n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function _Q(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(r=>Cr.fromName(r.referenceValue))}class ide extends Fo{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return D1(n)&&B1(n.arrayValue,this.value)}}class wQ extends Fo{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return null!==n&&B1(this.value.arrayValue,n)}}class ode extends Fo{constructor(e,n){super(e,"not-in",n)}matches(e){if(B1(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return null!==n&&!B1(this.value.arrayValue,n)}}class sde extends Fo{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!D1(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>B1(this.value.arrayValue,r))}}class ade{constructor(e,n=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.ce=null}}function KD(t,e=null,n=[],r=[],i=null,o=null,s=null){return new ade(t,e,n,r,i,o,s)}function Um(t){const e=hr(t);if(null===e.ce){let n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>WD(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>{return(o=r).field.canonicalString()+o.dir;var o}).join(","),E1(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>N0(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>N0(r)).join(",")),e.ce=n}return e.ce}function k1(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!ede(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!mQ(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!fQ(t.startAt,e.startAt)&&fQ(t.endAt,e.endAt)}function SI(t){return Cr.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}function TI(t,e){return t.filters.filter(n=>n instanceof Fo&&n.field.isEqual(e))}function CQ(t,e,n){let r=bI,i=!0;for(const o of TI(t,e)){let s=bI,a=!0;switch(o.op){case"<":case"<=":s=Jce(o.value);break;case"==":case"in":case">=":s=o.value;break;case">":s=o.value,a=!1;break;case"!=":case"not-in":s=bI}cQ({value:r,inclusive:i},{value:s,inclusive:a})<0&&(r=s,i=a)}if(null!==n)for(let o=0;o<t.orderBy.length;++o)if(t.orderBy[o].field.isEqual(e)){const s=n.position[o];cQ({value:r,inclusive:i},{value:s,inclusive:n.inclusive})<0&&(r=s,i=n.inclusive);break}return{value:r,inclusive:i}}function bQ(t,e,n){let r=xg,i=!0;for(const o of TI(t,e)){let s=xg,a=!0;switch(o.op){case">=":case">":s=Zce(o.value),a=!1;break;case"==":case"in":case"<=":s=o.value;break;case"<":s=o.value,a=!1;break;case"!=":case"not-in":s=xg}dQ({value:r,inclusive:i},{value:s,inclusive:a})>0&&(r=s,i=a)}if(null!==n)for(let o=0;o<t.orderBy.length;++o)if(t.orderBy[o].field.isEqual(e)){const s=n.position[o];dQ({value:r,inclusive:i},{value:s,inclusive:n.inclusive})>0&&(r=s,i=n.inclusive);break}return{value:r,inclusive:i}}class Sp{constructor(e,n=null,r=[],i=[],o=null,s="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=l,this.le=null,this.he=null,this.Pe=null}}function IQ(t,e,n,r,i,o,s,a){return new Sp(t,e,n,r,i,o,s,a)}function L0(t){return new Sp(t)}function EQ(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}function qD(t){return null!==t.collectionGroup}function O0(t){const e=hr(t);if(null===e.le){e.le=[];const n=new Set;for(const o of e.explicitOrderBy)e.le.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new Ms(ua.comparator);return s.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.le.push(new F1(o,r))}),n.has(ua.keyField().canonicalString())||e.le.push(new F1(ua.keyField(),r))}return e.le}function ud(t){const e=hr(t);return e.he||(e.he=SQ(e,O0(t))),e.he}function SQ(t,e){if("F"===t.limitType)return KD(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>new F1(i.field,"desc"===i.dir?"asc":"desc"));const n=t.endAt?new Rg(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Rg(t.startAt.position,t.startAt.inclusive):null;return KD(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function YD(t,e){const n=t.filters.concat([e]);return new Sp(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function BI(t,e,n){return new Sp(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function R1(t,e){return k1(ud(t),ud(e))&&t.limitType===e.limitType}function TQ(t){return`${Um(ud(t))}|lt:${t.limitType}`}function U0(t){return`Query(target=${function(n){let r=n.path.canonicalString();return null!==n.collectionGroup&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>yQ(i)).join(", ")}]`),E1(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>{return`${(s=i).field.canonicalString()} (${s.dir})`;var s}).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>N0(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>N0(i)).join(",")),`Target(${r})`}(ud(t))}; limitType=${t.limitType})`}function P1(t,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return null!==r.collectionGroup?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):Cr.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(const o of O0(r))if(!o.field.isKeyField()&&null===i.data.field(o.field))return!1;return!0}(t,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&(i=e,!((r=t).startAt&&!function(s,a,l){const u=hQ(s,a,l);return s.inclusive?u<=0:u<0}(r.startAt,O0(r),i)||r.endAt&&!function(s,a,l){const u=hQ(s,a,l);return s.inclusive?u>=0:u>0}(r.endAt,O0(r),i)));var r,i}function BQ(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function DQ(t){return(e,n)=>{let r=!1;for(const i of O0(t)){const o=lde(i,e,n);if(0!==o)return o;r=r||i.field.isKeyField()}return 0}}function lde(t,e,n){const r=t.field.isKeyField()?Cr.comparator(e.key,n.key):function(o,s,a){const l=s.data.field(o),u=a.data.field(o);return null!==l&&null!==u?kg(l,u):Vr()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Vr()}}class Tp{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r)for(const[i,o]of r)if(this.equalsFn(i,e))return o}has(e){return void 0!==this.get(e)}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Tg(this.inner,(n,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return rQ(this.inner)}size(){return this.innerSize}}const ude=new Ys(Cr.comparator);function zd(){return ude}const xQ=new Ys(Cr.comparator);function N1(...t){let e=xQ;for(const n of t)e=e.insert(n.key,n);return e}function FQ(t){let e=xQ;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Hf(){return M1()}function kQ(){return M1()}function M1(){return new Tp(t=>t.toString(),(t,e)=>t.isEqual(e))}const cde=new Ys(Cr.comparator),dde=new Ms(Cr.comparator);function to(...t){let e=dde;for(const n of t)e=e.add(n);return e}const Ade=new Ms(Mi);function XD(){return Ade}function RQ(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:S1(e)?"-0":e}}function PQ(t){return{integerValue:""+t}}function NQ(t,e){return qV(e)?PQ(e):RQ(t,e)}class DI{constructor(){this._=void 0}}function hde(t,e,n){return t instanceof V0?function(i,o){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&wI(o)&&(o=CI(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(n,e):t instanceof Vm?LQ(t,e):t instanceof Qm?OQ(t,e):function(i,o){const s=MQ(i,o),a=UQ(s)+UQ(i.Ie);return zD(s)&&zD(i.Ie)?PQ(a):RQ(i.serializer,a)}(t,e)}function fde(t,e,n){return t instanceof Vm?LQ(t,e):t instanceof Qm?OQ(t,e):n}function MQ(t,e){return t instanceof Q0?zD(r=e)||(o=r)&&"doubleValue"in o?e:{integerValue:0}:null;var r,o}class V0 extends DI{}class Vm extends DI{constructor(e){super(),this.elements=e}}function LQ(t,e){const n=VQ(e);for(const r of t.elements)n.some(i=>Qf(i,r))||n.push(r);return{arrayValue:{values:n}}}class Qm extends DI{constructor(e){super(),this.elements=e}}function OQ(t,e){let n=VQ(e);for(const r of t.elements)n=n.filter(i=>!Qf(i,r));return{arrayValue:{values:n}}}class Q0 extends DI{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function UQ(t){return Ya(t.integerValue||t.doubleValue)}function VQ(t){return D1(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class L1{constructor(e,n){this.field=e,this.transform=n}}class gde{constructor(e,n){this.version=e,this.transformResults=n}}class ba{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ba}static exists(e){return new ba(void 0,e)}static updateTime(e){return new ba(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function xI(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}class FI{}function QQ(t,e){if(!t.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return t.isNoDocument()?new j0(t.key,ba.none()):new H0(t.key,t.data,ba.none());{const n=t.data,r=rc.empty();let i=new Ms(ua.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);null===s&&o.length>1&&(o=o.popLast(),s=n.field(o)),null===s?r.delete(o):r.set(o,s),i=i.add(o)}return new Bp(t.key,r,new jd(i.toArray()),ba.none())}}function mde(t,e,n){t instanceof H0?function(i,o,s){const a=i.value.clone(),l=zQ(i.fieldTransforms,o,s.transformResults);a.setAll(l),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Bp?function(i,o,s){if(!xI(i.precondition,o))return void o.convertToUnknownDocument(s.version);const a=zQ(i.fieldTransforms,o,s.transformResults),l=o.data;l.setAll(jQ(i)),l.setAll(a),o.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(t,e,n):e.convertToNoDocument(n.version).setHasCommittedMutations()}function O1(t,e,n,r){return t instanceof H0?function(o,s,a,l){if(!xI(o.precondition,s))return a;const u=o.value.clone(),m=$Q(o.fieldTransforms,l,s);return u.setAll(m),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof Bp?function(o,s,a,l){if(!xI(o.precondition,s))return a;const u=$Q(o.fieldTransforms,l,s),m=s.data;return m.setAll(jQ(o)),m.setAll(u),s.convertToFoundDocument(s.version,m).setHasLocalMutations(),null===a?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(I=>I.field))}(t,e,n,r):(a=n,xI(t.precondition,s=e)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a);var s,a}function vde(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=MQ(r.transform,i||null);null!=o&&(null===n&&(n=rc.empty()),n.set(r.field,o))}return n||null}function HQ(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&(i=e.fieldTransforms,!!(void 0===(r=t.fieldTransforms)&&void 0===i||r&&i&&F0(r,i,(o,s)=>function pde(t,e){return t.field.isEqual(e.field)&&(i=e.transform,(r=t.transform)instanceof Vm&&i instanceof Vm||r instanceof Qm&&i instanceof Qm?F0(r.elements,i.elements,Qf):r instanceof Q0&&i instanceof Q0?Qf(r.Ie,i.Ie):r instanceof V0&&i instanceof V0);var r,i}(o,s))))&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask));var r,i}class H0 extends FI{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Bp extends FI{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function jQ(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function zQ(t,e,n){const r=new Map;Xr(t.length===n.length);for(let i=0;i<n.length;i++){const o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,fde(s,a,n[i]))}return r}function $Q(t,e,n){const r=new Map;for(const i of t){const o=i.transform,s=n.data.field(i.field);r.set(i.field,hde(o,s,e))}return r}class j0 extends FI{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class JD extends FI{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class ZD{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&mde(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=O1(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=O1(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=kQ();return this.mutations.forEach(i=>{const o=e.get(i.key),s=o.overlayedDocument;let a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;const l=QQ(s,a);null!==l&&r.set(i.key,l),s.isValidDocument()||s.convertToNoDocument(ei.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),to())}isEqual(e){return this.batchId===e.batchId&&F0(this.mutations,e.mutations,(n,r)=>HQ(n,r))&&F0(this.baseMutations,e.baseMutations,(n,r)=>HQ(n,r))}}class ex{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Xr(e.mutations.length===r.length);let i=function(){return cde}();const o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new ex(e,n,r,i)}}class tx{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class yde{constructor(e,n,r){this.alias=e,this.aggregateType=n,this.fieldPath=r}}class _de{constructor(e,n){this.count=e,this.unchangedNames=n}}var Nl,Ko;function GQ(t){switch(t){default:return Vr();case nn.CANCELLED:case nn.UNKNOWN:case nn.DEADLINE_EXCEEDED:case nn.RESOURCE_EXHAUSTED:case nn.INTERNAL:case nn.UNAVAILABLE:case nn.UNAUTHENTICATED:return!1;case nn.INVALID_ARGUMENT:case nn.NOT_FOUND:case nn.ALREADY_EXISTS:case nn.PERMISSION_DENIED:case nn.FAILED_PRECONDITION:case nn.ABORTED:case nn.OUT_OF_RANGE:case nn.UNIMPLEMENTED:case nn.DATA_LOSS:return!0}}function WQ(t){if(void 0===t)return fl("GRPC error has no .code"),nn.UNKNOWN;switch(t){case Nl.OK:return nn.OK;case Nl.CANCELLED:return nn.CANCELLED;case Nl.UNKNOWN:return nn.UNKNOWN;case Nl.DEADLINE_EXCEEDED:return nn.DEADLINE_EXCEEDED;case Nl.RESOURCE_EXHAUSTED:return nn.RESOURCE_EXHAUSTED;case Nl.INTERNAL:return nn.INTERNAL;case Nl.UNAVAILABLE:return nn.UNAVAILABLE;case Nl.UNAUTHENTICATED:return nn.UNAUTHENTICATED;case Nl.INVALID_ARGUMENT:return nn.INVALID_ARGUMENT;case Nl.NOT_FOUND:return nn.NOT_FOUND;case Nl.ALREADY_EXISTS:return nn.ALREADY_EXISTS;case Nl.PERMISSION_DENIED:return nn.PERMISSION_DENIED;case Nl.FAILED_PRECONDITION:return nn.FAILED_PRECONDITION;case Nl.ABORTED:return nn.ABORTED;case Nl.OUT_OF_RANGE:return nn.OUT_OF_RANGE;case Nl.UNIMPLEMENTED:return nn.UNIMPLEMENTED;case Nl.DATA_LOSS:return nn.DATA_LOSS;default:return Vr()}}(Ko=Nl||(Nl={}))[Ko.OK=0]="OK",Ko[Ko.CANCELLED=1]="CANCELLED",Ko[Ko.UNKNOWN=2]="UNKNOWN",Ko[Ko.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ko[Ko.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ko[Ko.NOT_FOUND=5]="NOT_FOUND",Ko[Ko.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ko[Ko.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ko[Ko.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ko[Ko.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ko[Ko.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ko[Ko.ABORTED=10]="ABORTED",Ko[Ko.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ko[Ko.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ko[Ko.INTERNAL=13]="INTERNAL",Ko[Ko.UNAVAILABLE=14]="UNAVAILABLE",Ko[Ko.DATA_LOSS=15]="DATA_LOSS";function KQ(){return new TextEncoder}const wde=new B0([4294967295,4294967295],0);function qQ(t){const e=KQ().encode(t),n=new fce;return n.update(e),new Uint8Array(n.digest())}function YQ(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new B0([n,r],0),new B0([i,o],0)]}class nx{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new U1(`Invalid padding: ${n}`);if(r<0)throw new U1(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new U1(`Invalid hash count: ${r}`);if(0===e.length&&0!==n)throw new U1(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ee=B0.fromNumber(this.Te)}de(e,n,r){let i=e.add(n.multiply(B0.fromNumber(r)));return 1===i.compare(wde)&&(i=new B0([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ee).toNumber()}Ae(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Te)return!1;const n=qQ(e),[r,i]=YQ(n);for(let o=0;o<this.hashCount;o++){const s=this.de(r,i,o);if(!this.Ae(s))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new nx(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(e){if(0===this.Te)return;const n=qQ(e),[r,i]=YQ(n);for(let o=0;o<this.hashCount;o++){const s=this.de(r,i,o);this.Re(s)}}Re(e){const n=Math.floor(e/8);this.bitmap[n]|=1<<e%8}}class U1 extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class V1{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Q1.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new V1(ei.min(),i,new Ys(Mi),zd(),to())}}class Q1{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Q1(r,n,to(),to(),to())}}class RI{constructor(e,n,r,i){this.Ve=e,this.removedTargetIds=n,this.key=r,this.me=i}}class XQ{constructor(e,n){this.targetId=e,this.fe=n}}class JQ{constructor(e,n,r=Xl.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class ZQ{constructor(){this.ge=0,this.pe=t8(),this.ye=Xl.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return 0!==this.ge}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=to(),n=to(),r=to();return this.pe.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Vr()}}),new Q1(this.ye,this.we,e,n,r)}Fe(){this.Se=!1,this.pe=t8()}Me(e,n){this.Se=!0,this.pe=this.pe.insert(e,n)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1,Xr(this.ge>=0)}Le(){this.Se=!0,this.we=!0}}class Cde{constructor(e){this.Be=e,this.ke=new Map,this.qe=zd(),this.Qe=e8(),this.Ke=new Ys(Mi)}$e(e){for(const n of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(n,e.me):this.We(n,e.key,e.me);for(const n of e.removedTargetIds)this.We(n,e.key,e.me)}Ge(e){this.forEachTarget(e,n=>{const r=this.ze(n);switch(e.state){case 0:this.je(n)&&r.Ce(e.resumeToken);break;case 1:r.Ne(),r.be||r.Fe(),r.Ce(e.resumeToken);break;case 2:r.Ne(),r.be||this.removeTarget(n);break;case 3:this.je(n)&&(r.Le(),r.Ce(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),r.Ce(e.resumeToken));break;default:Vr()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ke.forEach((r,i)=>{this.je(i)&&n(i)})}Je(e){const n=e.targetId,r=e.fe.count,i=this.Ye(n);if(i){const o=i.target;if(SI(o))if(0===r){const s=new Cr(o.path);this.We(n,s,ca.newNoDocument(s,ei.min()))}else Xr(1===r);else{const s=this.Ze(n);if(s!==r){const a=this.Xe(e),l=a?this.et(a,e,s):1;0!==l&&(this.He(n),this.Ke=this.Ke.insert(n,2===l?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Xe(e){const n=e.fe.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n;let s,a;try{s=Ep(r).toUint8Array()}catch(l){if(l instanceof oQ)return Hd("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new nx(s,i,o)}catch(l){return Hd(l instanceof U1?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return 0===a.Te?null:a}et(e,n,r){return n.fe.count===r-this.rt(e,n.targetId)?0:2}rt(e,n){const r=this.Be.getRemoteKeysForTarget(n);let i=0;return r.forEach(o=>{const s=this.Be.nt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.We(n,o,null),i++)}),i}it(e){const n=new Map;this.ke.forEach((o,s)=>{const a=this.Ye(s);if(a){if(o.current&&SI(a.target)){const l=new Cr(a.target.path);null!==this.qe.get(l)||this.st(s,l)||this.We(s,l,ca.newNoDocument(l,e))}o.De&&(n.set(s,o.ve()),o.Fe())}});let r=to();this.Qe.forEach((o,s)=>{let a=!0;s.forEachWhile(l=>{const u=this.Ye(l);return!u||"TargetPurposeLimboResolution"===u.purpose||(a=!1,!1)}),a&&(r=r.add(o))}),this.qe.forEach((o,s)=>s.setReadTime(e));const i=new V1(e,n,this.Ke,this.qe,r);return this.qe=zd(),this.Qe=e8(),this.Ke=new Ys(Mi),i}Ue(e,n){if(!this.je(e))return;const r=this.st(e,n.key)?2:0;this.ze(e).Me(n.key,r),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(e))}We(e,n,r){if(!this.je(e))return;const i=this.ze(e);this.st(e,n)?i.Me(n,1):i.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(e)),r&&(this.qe=this.qe.insert(n,r))}removeTarget(e){this.ke.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Be.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let n=this.ke.get(e);return n||(n=new ZQ,this.ke.set(e,n)),n}ot(e){let n=this.Qe.get(e);return n||(n=new Ms(Mi),this.Qe=this.Qe.insert(e,n)),n}je(e){const n=null!==this.Ye(e);return n||Mn("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.ke.get(e);return n&&n.be?null:this.Be._t(e)}He(e){this.ke.set(e,new ZQ),this.Be.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}st(e,n){return this.Be.getRemoteKeysForTarget(e).has(n)}}function e8(){return new Ys(Cr.comparator)}function t8(){return new Ys(Cr.comparator)}const bde={asc:"ASCENDING",desc:"DESCENDING"},Ide={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Ede={and:"AND",or:"OR"};class Sde{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function rx(t,e){return t.useProto3Json||E1(e)?e:{value:e}}function z0(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function n8(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Tde(t,e){return z0(t,e.toTimestamp())}function pl(t){return Xr(!!t),ei.fromTimestamp(function(n){const r=Bg(n);return new Ca(r.seconds,r.nanos)}(t))}function ix(t,e){return ox(t,e).canonicalString()}function ox(t,e){const n=(i=t,new xo(["projects",i.projectId,"databases",i.database])).child("documents");var i;return void 0===e?n:n.child(e)}function r8(t){const e=xo.fromString(t);return Xr(h8(e)),e}function H1(t,e){return ix(t.databaseId,e.path)}function jf(t,e){const n=r8(e);if(n.get(1)!==t.databaseId.projectId)throw new Fn(nn.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Fn(nn.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Cr(s8(n))}function i8(t,e){return ix(t.databaseId,e)}function o8(t){const e=r8(t);return 4===e.length?xo.emptyPath():s8(e)}function sx(t){return new xo(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function s8(t){return Xr(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function a8(t,e,n){return{name:H1(t,e),fields:n.value.mapValue.fields}}function l8(t,e,n){const r=jf(t,e.name),i=pl(e.updateTime),o=e.createTime?pl(e.createTime):ei.min(),s=new rc({mapValue:{fields:e.fields}}),a=ca.newFoundDocument(r,i,o,s);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function j1(t,e){let n;if(e instanceof H0)n={update:a8(t,e.key,e.value)};else if(e instanceof j0)n={delete:H1(t,e.key)};else if(e instanceof Bp)n={update:a8(t,e.key,e.data),updateMask:Nde(e.fieldMask)};else{if(!(e instanceof JD))return Vr();n={verify:H1(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,s){const a=s.transform;if(a instanceof V0)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Vm)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Qm)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Q0)return{fieldPath:s.field.canonicalString(),increment:a.Ie};throw Vr()}(0,r))),e.precondition.isNone||(n.currentDocument=void 0!==(o=e.precondition).updateTime?{updateTime:Tde(t,o.updateTime)}:void 0!==o.exists?{exists:o.exists}:Vr()),n;var o}function ax(t,e){const n=e.currentDocument?void 0!==(o=e.currentDocument).updateTime?ba.updateTime(pl(o.updateTime)):void 0!==o.exists?ba.exists(o.exists):ba.none():ba.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(s,a){let l=null;"setToServerValue"in a?(Xr("REQUEST_TIME"===a.setToServerValue),l=new V0):"appendMissingElements"in a?l=new Vm(a.appendMissingElements.values||[]):"removeAllFromArray"in a?l=new Qm(a.removeAllFromArray.values||[]):"increment"in a?l=new Q0(s,a.increment):Vr();const u=ua.fromServerFormat(a.fieldPath);return new L1(u,l)}(t,i)):[];var o;if(e.update){const i=jf(t,e.update.name),o=new rc({mapValue:{fields:e.update.fields}});if(e.updateMask){const s=new jd((e.updateMask.fieldPaths||[]).map(m=>ua.fromServerFormat(m)));return new Bp(i,o,s,n,r)}return new H0(i,o,n,r)}if(e.delete){const i=jf(t,e.delete);return new j0(i,n)}if(e.verify){const i=jf(t,e.verify);return new JD(i,n)}return Vr()}function u8(t,e){return{documents:[i8(t,e.path)]}}function lx(t,e){const n={structuredQuery:{}},r=e.path;let i;null!==e.collectionGroup?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=i8(t,i);const o=function(u){if(0!==u.length)return A8(Ts.create(u,"and"))}(e.filters);o&&(n.structuredQuery.where=o);const s=function(u){if(0!==u.length)return u.map(m=>{return{field:Pg((k=m).field),direction:kde(k.dir)};var k})}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const a=rx(t,e.limit);return null!==a&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt={before:(u=e.startAt).inclusive,values:u.position}),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{ut:n,parent:i};var u}function c8(t){let e=o8(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Xr(1===r);const m=n.from[0];m.allDescendants?i=m.collectionId:e=e.child(m.collectionId)}let o=[];n.where&&(o=function(I){const k=d8(I);return k instanceof Ts&&GD(k)?k.getFilters():[k]}(n.where));let s=[];n.orderBy&&(s=n.orderBy.map(k=>{return new F1($0((Y=k).field),function(xe){switch(xe){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(Y.direction));var Y}));let a=null;n.limit&&(a=function(I){let k;return k="object"==typeof I?I.value:I,E1(k)?null:k}(n.limit));let l=null;var I;n.startAt&&(l=new Rg((I=n.startAt).values||[],!!I.before));let u=null;return n.endAt&&(u=function(I){return new Rg(I.values||[],!I.before)}(n.endAt)),IQ(e,i,s,o,a,"F",l,u)}function d8(t){return void 0!==t.unaryFilter?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=$0(n.unaryFilter.field);return Fo.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=$0(n.unaryFilter.field);return Fo.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=$0(n.unaryFilter.field);return Fo.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=$0(n.unaryFilter.field);return Fo.create(s,"!=",{nullValue:"NULL_VALUE"});default:return Vr()}}(t):void 0!==t.fieldFilter?Fo.create($0((n=t).fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Vr()}}(n.fieldFilter.op),n.fieldFilter.value):void 0!==t.compositeFilter?function(n){return Ts.create(n.compositeFilter.filters.map(r=>d8(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Vr()}}(n.compositeFilter.op))}(t):Vr();var n}function kde(t){return bde[t]}function Rde(t){return Ide[t]}function Pde(t){return Ede[t]}function Pg(t){return{fieldPath:t.canonicalString()}}function $0(t){return ua.fromServerFormat(t.fieldPath)}function A8(t){return t instanceof Fo?function(n){if("=="===n.op){if(lQ(n.value))return{unaryFilter:{field:Pg(n.field),op:"IS_NAN"}};if(aQ(n.value))return{unaryFilter:{field:Pg(n.field),op:"IS_NULL"}}}else if("!="===n.op){if(lQ(n.value))return{unaryFilter:{field:Pg(n.field),op:"IS_NOT_NAN"}};if(aQ(n.value))return{unaryFilter:{field:Pg(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Pg(n.field),op:Rde(n.op),value:n.value}}}(t):t instanceof Ts?function(n){const r=n.getFilters().map(i=>A8(i));return 1===r.length?r[0]:{compositeFilter:{op:Pde(n.op),filters:r}}}(t):Vr()}function Nde(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function h8(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}class Dp{constructor(e,n,r,i,o=ei.min(),s=ei.min(),a=Xl.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Dp(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Dp(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Dp(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Dp(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class f8{constructor(e){this.ct=e}}function p8(t,e){const n=e.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:PI(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document={name:H1(o=t.ct,(s=e).key),fields:s.data.value.mapValue.fields,updateTime:z0(o,s.version.toTimestamp()),createTime:z0(o,s.createTime.toTimestamp())};else if(e.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:Hm(e.version)};else{if(!e.isUnknownDocument())return Vr();r.unknownDocument={path:n.path.toArray(),version:Hm(e.version)}}var o,s;return r}function PI(t){const e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function Hm(t){const e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function jm(t){const e=new Ca(t.seconds,t.nanoseconds);return ei.fromTimestamp(e)}function zm(t,e){const n=(e.baseMutations||[]).map(o=>ax(t.ct,o));for(let o=0;o<e.mutations.length-1;++o)o+1<e.mutations.length&&void 0!==e.mutations[o+1].transform&&(e.mutations[o].updateTransforms=e.mutations[o+1].transform.fieldTransforms,e.mutations.splice(o+1,1),++o);const r=e.mutations.map(o=>ax(t.ct,o)),i=Ca.fromMillis(e.localWriteTimeMs);return new ZD(e.batchId,i,n,r)}function z1(t){const e=jm(t.readTime),n=void 0!==t.lastLimboFreeSnapshotVersion?jm(t.lastLimboFreeSnapshotVersion):ei.min();let r;return r=void 0!==t.query.documents?(Xr(1===(o=t.query).documents.length),ud(L0(o8(o.documents[0])))):function(o){return ud(c8(o))}(t.query),new Dp(r,t.targetId,"TargetPurposeListen",t.lastListenSequenceNumber,e,n,Xl.fromBase64String(t.resumeToken));var o}function g8(t,e){const n=Hm(e.snapshotVersion),r=Hm(e.lastLimboFreeSnapshotVersion);let i;i=SI(e.target)?u8(t.ct,e.target):lx(t.ct,e.target).ut;const o=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Um(e.target),readTime:n,resumeToken:o,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function ux(t){const e=c8({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?BI(e,e.limit,"L"):e}function cx(t,e){return new tx(e.largestBatchId,ax(t.ct,e.overlayMutation))}function m8(t,e){const n=e.path.lastSegment();return[t,kc(e.path.popLast()),n]}function v8(t,e,n,r){return{indexId:t,uid:e,sequenceNumber:n,readTime:Hm(r.readTime),documentKey:kc(r.documentKey.path),largestBatchId:r.largestBatchId}}class Lde{getBundleMetadata(e,n){return y8(e).get(n).next(r=>{if(r)return{id:(o=r).bundleId,createTime:jm(o.createTime),version:o.version};var o})}saveBundleMetadata(e,n){return y8(e).put({bundleId:(i=n).id,createTime:Hm(pl(i.createTime)),version:i.version});var i}getNamedQuery(e,n){return _8(e).get(n).next(r=>{if(r)return{name:(o=r).name,query:ux(o.bundledQuery),readTime:jm(o.readTime)};var o})}saveNamedQuery(e,n){return _8(e).put({name:(i=n).name,readTime:Hm(pl(i.readTime)),bundledQuery:i.bundledQuery});var i}}function y8(t){return Du(t,"bundles")}function _8(t){return Du(t,"namedQueries")}class NI{constructor(e,n){this.serializer=e,this.userId=n}static lt(e,n){return new NI(e,n.uid||"")}getOverlay(e,n){return $1(e).get(m8(this.userId,n)).next(r=>r?cx(this.serializer,r):null)}getOverlays(e,n){const r=Hf();return Vt.forEach(n,i=>this.getOverlay(e,i).next(o=>{null!==o&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){const i=[];return r.forEach((o,s)=>{const a=new tx(n,s);i.push(this.ht(e,a))}),Vt.waitFor(i)}removeOverlaysForBatchId(e,n,r){const i=new Set;n.forEach(s=>i.add(kc(s.getCollectionPath())));const o=[];return i.forEach(s=>{const a=IDBKeyRange.bound([this.userId,s,r],[this.userId,s,r+1],!1,!0);o.push($1(e).H("collectionPathOverlayIndex",a))}),Vt.waitFor(o)}getOverlaysForCollection(e,n,r){const i=Hf(),o=kc(n),s=IDBKeyRange.bound([this.userId,o,r],[this.userId,o,Number.POSITIVE_INFINITY],!0);return $1(e).W("collectionPathOverlayIndex",s).next(a=>{for(const l of a){const u=cx(this.serializer,l);i.set(u.getKey(),u)}return i})}getOverlaysForCollectionGroup(e,n,r,i){const o=Hf();let s;const a=IDBKeyRange.bound([this.userId,n,r],[this.userId,n,Number.POSITIVE_INFINITY],!0);return $1(e).Y({index:"collectionGroupOverlayIndex",range:a},(l,u,m)=>{const I=cx(this.serializer,u);o.size()<i||I.largestBatchId===s?(o.set(I.getKey(),I),s=I.largestBatchId):m.done()}).next(()=>o)}ht(e,n){return $1(e).put(function(i,o,s){const[a,l,u]=m8(o,s.mutation.key);return{userId:o,collectionPath:l,documentId:u,collectionGroup:s.mutation.key.getCollectionGroup(),largestBatchId:s.largestBatchId,overlayMutation:j1(i.ct,s.mutation)}}(this.serializer,this.userId,n))}}function $1(t){return Du(t,"documentOverlays")}class $m{constructor(){}Pt(e,n){this.It(e,n),n.Tt()}It(e,n){if("nullValue"in e)this.Et(n,5);else if("booleanValue"in e)this.Et(n,10),n.dt(e.booleanValue?1:0);else if("integerValue"in e)this.Et(n,15),n.dt(Ya(e.integerValue));else if("doubleValue"in e){const r=Ya(e.doubleValue);isNaN(r)?this.Et(n,13):(this.Et(n,15),S1(r)?n.dt(0):n.dt(r))}else if("timestampValue"in e){const r=e.timestampValue;this.Et(n,20),"string"==typeof r?n.At(r):(n.At(`${r.seconds||""}`),n.dt(r.nanos||0))}else if("stringValue"in e)this.Rt(e.stringValue,n),this.Vt(n);else if("bytesValue"in e)this.Et(n,30),n.ft(Ep(e.bytesValue)),this.Vt(n);else if("referenceValue"in e)this.gt(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.Et(n,45),n.dt(r.latitude||0),n.dt(r.longitude||0)}else"mapValue"in e?uQ(e)?this.Et(n,Number.MAX_SAFE_INTEGER):(this.yt(e.mapValue,n),this.Vt(n)):"arrayValue"in e?(this.wt(e.arrayValue,n),this.Vt(n)):Vr()}Rt(e,n){this.Et(n,25),this.St(e,n)}St(e,n){n.At(e)}yt(e,n){const r=e.fields||{};this.Et(n,55);for(const i of Object.keys(r))this.Rt(i,n),this.It(r[i],n)}wt(e,n){const r=e.values||[];this.Et(n,50);for(const i of r)this.It(i,n)}gt(e,n){this.Et(n,37),Cr.fromName(e).path.forEach(r=>{this.Et(n,60),this.St(r,n)})}Et(e,n){e.dt(n)}Vt(e){e.dt(2)}}function Ode(t){if(0===t)return 8;let e=0;return!(t>>4)&&(e+=4,t<<=4),!(t>>6)&&(e+=2,t<<=2),!(t>>7)&&(e+=1),e}function w8(t){const e=64-function(r){let i=0;for(let o=0;o<8;++o){const s=Ode(255&r[o]);if(i+=s,8!==s)break}return i}(t);return Math.ceil(e/8)}$m.bt=new $m;class Ude{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Dt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Ct(r.value),r=n.next();this.vt()}Ft(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Mt(r.value),r=n.next();this.xt()}Ot(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Ct(r);else if(r<2048)this.Ct(960|r>>>6),this.Ct(128|63&r);else if(n<"\ud800"||"\udbff"<n)this.Ct(480|r>>>12),this.Ct(128|63&r>>>6),this.Ct(128|63&r);else{const i=n.codePointAt(0);this.Ct(240|i>>>18),this.Ct(128|63&i>>>12),this.Ct(128|63&i>>>6),this.Ct(128|63&i)}}this.vt()}Nt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Mt(r);else if(r<2048)this.Mt(960|r>>>6),this.Mt(128|63&r);else if(n<"\ud800"||"\udbff"<n)this.Mt(480|r>>>12),this.Mt(128|63&r>>>6),this.Mt(128|63&r);else{const i=n.codePointAt(0);this.Mt(240|i>>>18),this.Mt(128|63&i>>>12),this.Mt(128|63&i>>>6),this.Mt(128|63&i)}}this.xt()}Lt(e){const n=this.Bt(e),r=w8(n);this.kt(1+r),this.buffer[this.position++]=255&r;for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=255&n[i]}qt(e){const n=this.Bt(e),r=w8(n);this.kt(1+r),this.buffer[this.position++]=~(255&r);for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=~(255&n[i])}Qt(){this.Kt(255),this.Kt(255)}$t(){this.Ut(255),this.Ut(255)}reset(){this.position=0}seed(e){this.kt(e.length),this.buffer.set(e,this.position),this.position+=e.length}Wt(){return this.buffer.slice(0,this.position)}Bt(e){const n=function(o){const s=new DataView(new ArrayBuffer(8));return s.setFloat64(0,o,!1),new Uint8Array(s.buffer)}(e),r=!!(128&n[0]);n[0]^=r?255:128;for(let i=1;i<n.length;++i)n[i]^=r?255:0;return n}Ct(e){const n=255&e;0===n?(this.Kt(0),this.Kt(255)):255===n?(this.Kt(255),this.Kt(0)):this.Kt(n)}Mt(e){const n=255&e;0===n?(this.Ut(0),this.Ut(255)):255===n?(this.Ut(255),this.Ut(0)):this.Ut(e)}vt(){this.Kt(0),this.Kt(1)}xt(){this.Ut(0),this.Ut(1)}Kt(e){this.kt(1),this.buffer[this.position++]=e}Ut(e){this.kt(1),this.buffer[this.position++]=~e}kt(e){const n=e+this.position;if(n<=this.buffer.length)return;let r=2*this.buffer.length;r<n&&(r=n);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class Vde{constructor(e){this.Gt=e}ft(e){this.Gt.Dt(e)}At(e){this.Gt.Ot(e)}dt(e){this.Gt.Lt(e)}Tt(){this.Gt.Qt()}}class Qde{constructor(e){this.Gt=e}ft(e){this.Gt.Ft(e)}At(e){this.Gt.Nt(e)}dt(e){this.Gt.qt(e)}Tt(){this.Gt.$t()}}class G1{constructor(){this.Gt=new Ude,this.zt=new Vde(this.Gt),this.jt=new Qde(this.Gt)}seed(e){this.Gt.seed(e)}Ht(e){return 0===e?this.zt:this.jt}Wt(){return this.Gt.Wt()}reset(){this.Gt.reset()}}class Gm{constructor(e,n,r,i){this.indexId=e,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}Jt(){const e=this.directionalValue.length,n=0===e||255===this.directionalValue[e-1]?e+1:e,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new Gm(this.indexId,this.documentKey,this.arrayValue,r)}}function Ng(t,e){let n=t.indexId-e.indexId;return 0!==n?n:(n=C8(t.arrayValue,e.arrayValue),0!==n?n:(n=C8(t.directionalValue,e.directionalValue),0!==n?n:Cr.comparator(t.documentKey,e.documentKey)))}function C8(t,e){for(let n=0;n<t.length&&n<e.length;++n){const r=t[n]-e[n];if(0!==r)return r}return t.length-e.length}class b8{constructor(e){this.Yt=new Ms((n,r)=>ua.comparator(n.field,r.field)),this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Zt=e.orderBy,this.Xt=[];for(const n of e.filters){const r=n;r.isInequality()?this.Yt=this.Yt.add(r):this.Xt.push(r)}}get en(){return this.Yt.size>1}tn(e){if(Xr(e.collectionGroup===this.collectionId),this.en)return!1;const n=OD(e);if(void 0!==n&&!this.nn(n))return!1;const r=Nm(e);let i=new Set,o=0,s=0;for(;o<r.length&&this.nn(r[o]);++o)i=i.add(r[o].fieldPath.canonicalString());if(o===r.length)return!0;if(this.Yt.size>0){const a=this.Yt.getIterator().getNext();if(!i.has(a.field.canonicalString())){const l=r[o];if(!this.rn(a,l)||!this.sn(this.Zt[s++],l))return!1}++o}for(;o<r.length;++o)if(s>=this.Zt.length||!this.sn(this.Zt[s++],r[o]))return!1;return!0}on(){if(this.en)return null;let e=new Ms(ua.comparator);const n=[];for(const r of this.Xt)if(!r.field.isKeyField())if("array-contains"===r.op||"array-contains-any"===r.op)n.push(new Mm(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),n.push(new Mm(r.field,0))}for(const r of this.Zt)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),n.push(new Mm(r.field,"asc"===r.dir?0:1)));return new k0(k0.UNKNOWN_ID,this.collectionId,n,R0.empty())}nn(e){for(const n of this.Xt)if(this.rn(n,e))return!0;return!1}rn(e,n){return!(void 0===e||!e.field.isEqual(n.fieldPath))&&2===n.kind==("array-contains"===e.op||"array-contains-any"===e.op)}sn(e,n){return!!e.field.isEqual(n.fieldPath)&&(0===n.kind&&"asc"===e.dir||1===n.kind&&"desc"===e.dir)}}function I8(t){var e,n;if(Xr(t instanceof Fo||t instanceof Ts),t instanceof Fo){if(t instanceof wQ){const i=(null===(n=null===(e=t.value.arrayValue)||void 0===e?void 0:e.values)||void 0===n?void 0:n.map(o=>Fo.create(t.field,"==",o)))||[];return Ts.create(i,"or")}return t}const r=t.filters.map(i=>I8(i));return Ts.create(r,t.op)}function Hde(t){if(0===t.getFilters().length)return[];const e=hx(I8(t));return Xr(E8(e)),dx(e)||Ax(e)?[e]:e.getFilters()}function dx(t){return t instanceof Fo}function Ax(t){return t instanceof Ts&&GD(t)}function E8(t){return dx(t)||Ax(t)||function(n){if(n instanceof Ts&&$D(n)){for(const r of n.getFilters())if(!dx(r)&&!Ax(r))return!1;return!0}return!1}(t)}function hx(t){if(Xr(t instanceof Fo||t instanceof Ts),t instanceof Fo)return t;if(1===t.filters.length)return hx(t.filters[0]);const e=t.filters.map(r=>hx(r));let n=Ts.create(e,t.op);return n=MI(n),E8(n)?n:(Xr(n instanceof Ts),Xr(M0(n)),Xr(n.filters.length>1),n.filters.reduce((r,i)=>fx(r,i)))}function fx(t,e){let n;return Xr(t instanceof Fo||t instanceof Ts),Xr(e instanceof Fo||e instanceof Ts),n=t instanceof Fo?e instanceof Fo?Ts.create([t,e],"and"):S8(t,e):e instanceof Fo?S8(e,t):function(i,o){if(Xr(i.filters.length>0&&o.filters.length>0),M0(i)&&M0(o))return vQ(i,o.getFilters());const s=$D(i)?i:o,a=$D(i)?o:i,l=s.filters.map(u=>fx(u,a));return Ts.create(l,"or")}(t,e),MI(n)}function S8(t,e){if(M0(e))return vQ(e,t.getFilters());{const n=e.filters.map(r=>fx(t,r));return Ts.create(n,"or")}}function MI(t){if(Xr(t instanceof Fo||t instanceof Ts),t instanceof Fo)return t;const e=t.getFilters();if(1===e.length)return MI(e[0]);if(gQ(t))return t;const n=e.map(i=>MI(i)),r=[];return n.forEach(i=>{i instanceof Fo?r.push(i):i instanceof Ts&&(i.op===t.op?r.push(...i.filters):r.push(i))}),1===r.length?r[0]:Ts.create(r,t.op)}class jde{constructor(){this._n=new px}addToCollectionParentIndex(e,n){return this._n.add(n),Vt.resolve()}getCollectionParents(e,n){return Vt.resolve(this._n.getEntries(n))}addFieldIndex(e,n){return Vt.resolve()}deleteFieldIndex(e,n){return Vt.resolve()}deleteAllFieldIndexes(e){return Vt.resolve()}createTargetIndexes(e,n){return Vt.resolve()}getDocumentsMatchingTarget(e,n){return Vt.resolve(null)}getIndexType(e,n){return Vt.resolve(0)}getFieldIndexes(e,n){return Vt.resolve([])}getNextCollectionGroupToUpdate(e){return Vt.resolve(null)}getMinOffset(e,n){return Vt.resolve(xA.min())}getMinOffsetFromCollectionGroup(e,n){return Vt.resolve(xA.min())}updateCollectionGroup(e,n,r){return Vt.resolve()}updateIndexEntries(e,n){return Vt.resolve()}}class px{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Ms(xo.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Ms(xo.comparator)).toArray()}}const LI=new Uint8Array(0);class zde{constructor(e,n){this.databaseId=n,this.an=new px,this.un=new Tp(r=>Um(r),(r,i)=>k1(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this.an.has(n)){const r=n.lastSegment(),i=n.popLast();e.addOnCommittedListener(()=>{this.an.add(n)});const o={collectionId:r,parent:kc(i)};return T8(e).put(o)}return Vt.resolve()}getCollectionParents(e,n){const r=[],i=IDBKeyRange.bound([n,""],[jV(n),""],!1,!0);return T8(e).W(i).next(o=>{for(const s of o){if(s.collectionId!==n)break;r.push(Vf(s.parent))}return r})}addFieldIndex(e,n){const r=W1(e),i={indexId:(a=n).indexId,collectionGroup:a.collectionGroup,fields:a.fields.map(l=>[l.fieldPath.canonicalString(),l.kind])};var a;delete i.indexId;const o=r.add(i);if(n.indexState){const s=W0(e);return o.next(a=>{s.put(v8(a,this.uid,n.indexState.sequenceNumber,n.indexState.offset))})}return o.next()}deleteFieldIndex(e,n){const r=W1(e),i=W0(e),o=G0(e);return r.delete(n.indexId).next(()=>i.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))).next(()=>o.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const n=W1(e),r=G0(e),i=W0(e);return n.H().next(()=>r.H()).next(()=>i.H())}createTargetIndexes(e,n){return Vt.forEach(this.cn(n),r=>this.getIndexType(e,r).next(i=>{if(0===i||1===i){const o=new b8(r).on();if(null!=o)return this.addFieldIndex(e,o)}}))}getDocumentsMatchingTarget(e,n){const r=G0(e);let i=!0;const o=new Map;return Vt.forEach(this.cn(n),s=>this.ln(e,s).next(a=>{i&&(i=!!a),o.set(s,a)})).next(()=>{if(i){let s=to();const a=[];return Vt.forEach(o,(l,u)=>{var Lt;Mn("IndexedDbIndexManager",`Using index ${Lt=l,`id=${Lt.indexId}|cg=${Lt.collectionGroup}|f=${Lt.fields.map(Yt=>`${Yt.fieldPath}:${Yt.kind}`).join(",")}`} to execute ${Um(n)}`);const m=function(Lt,Yt){const kn=OD(Yt);if(void 0===kn)return null;for(const jn of TI(Lt,kn.fieldPath))switch(jn.op){case"array-contains-any":return jn.value.arrayValue.values||[];case"array-contains":return[jn.value]}return null}(u,l),I=function(Lt,Yt){const kn=new Map;for(const jn of Nm(Yt))for(const no of TI(Lt,jn.fieldPath))switch(no.op){case"==":case"in":kn.set(jn.fieldPath.canonicalString(),no.value);break;case"not-in":case"!=":return kn.set(jn.fieldPath.canonicalString(),no.value),Array.from(kn.values())}return null}(u,l),k=function(Lt,Yt){const kn=[];let jn=!0;for(const no of Nm(Yt)){const Co=0===no.kind?CQ(Lt,no.fieldPath,Lt.startAt):bQ(Lt,no.fieldPath,Lt.startAt);kn.push(Co.value),jn&&(jn=Co.inclusive)}return new Rg(kn,jn)}(u,l),U=function(Lt,Yt){const kn=[];let jn=!0;for(const no of Nm(Yt)){const Co=0===no.kind?bQ(Lt,no.fieldPath,Lt.endAt):CQ(Lt,no.fieldPath,Lt.endAt);kn.push(Co.value),jn&&(jn=Co.inclusive)}return new Rg(kn,jn)}(u,l),Y=this.hn(l,u,k),ve=this.hn(l,u,U),xe=this.Pn(l,u,I),st=this.In(l.indexId,m,Y,k.inclusive,ve,U.inclusive,xe);return Vt.forEach(st,at=>r.j(at,n.limit).next(Lt=>{Lt.forEach(Yt=>{const kn=Cr.fromSegments(Yt.documentKey);s.has(kn)||(s=s.add(kn),a.push(kn))})}))}).next(()=>a)}return Vt.resolve(null)})}cn(e){let n=this.un.get(e);return n||(n=0===e.filters.length?[e]:Hde(Ts.create(e.filters,"and")).map(r=>KD(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.un.set(e,n),n)}In(e,n,r,i,o,s,a){const l=(null!=n?n.length:1)*Math.max(r.length,o.length),u=l/(null!=n?n.length:1),m=[];for(let I=0;I<l;++I){const k=n?this.Tn(n[I/u]):LI,U=this.En(e,k,r[I%u],i),Y=this.dn(e,k,o[I%u],s),ve=a.map(xe=>this.En(e,k,xe,!0));m.push(...this.createRange(U,Y,ve))}return m}En(e,n,r,i){const o=new Gm(e,Cr.empty(),n,r);return i?o:o.Jt()}dn(e,n,r,i){const o=new Gm(e,Cr.empty(),n,r);return i?o.Jt():o}ln(e,n){const r=new b8(n),i=null!=n.collectionGroup?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,i).next(o=>{let s=null;for(const a of o)r.tn(a)&&(!s||a.fields.length>s.fields.length)&&(s=a);return s})}getIndexType(e,n){let r=2;const i=this.cn(n);return Vt.forEach(i,o=>this.ln(e,o).next(s=>{s?0!==r&&s.fields.length<function(l){let u=new Ms(ua.comparator),m=!1;for(const I of l.filters)for(const k of I.getFlattenedFilters())k.field.isKeyField()||("array-contains"===k.op||"array-contains-any"===k.op?m=!0:u=u.add(k.field));for(const I of l.orderBy)I.field.isKeyField()||(u=u.add(I.field));return u.size+(m?1:0)}(o)&&(r=1):r=0})).next(()=>null!==n.limit&&i.length>1&&2===r?1:r)}An(e,n){const r=new G1;for(const i of Nm(e)){const o=n.data.field(i.fieldPath);if(null==o)return null;const s=r.Ht(i.kind);$m.bt.Pt(o,s)}return r.Wt()}Tn(e){const n=new G1;return $m.bt.Pt(e,n.Ht(0)),n.Wt()}Rn(e,n){const r=new G1;return $m.bt.Pt(Om(this.databaseId,n),r.Ht(function(o){const s=Nm(o);return 0===s.length?0:s[s.length-1].kind}(e))),r.Wt()}Pn(e,n,r){if(null===r)return[];let i=[];i.push(new G1);let o=0;for(const s of Nm(e)){const a=r[o++];for(const l of i)if(this.Vn(n,s.fieldPath)&&D1(a))i=this.mn(i,s,a);else{const u=l.Ht(s.kind);$m.bt.Pt(a,u)}}return this.fn(i)}hn(e,n,r){return this.Pn(e,n,r.position)}fn(e){const n=[];for(let r=0;r<e.length;++r)n[r]=e[r].Wt();return n}mn(e,n,r){const i=[...e],o=[];for(const s of r.arrayValue.values||[])for(const a of i){const l=new G1;l.seed(a.Wt()),$m.bt.Pt(s,l.Ht(n.kind)),o.push(l)}return o}Vn(e,n){return!!e.filters.find(r=>r instanceof Fo&&r.field.isEqual(n)&&("in"===r.op||"not-in"===r.op))}getFieldIndexes(e,n){const r=W1(e),i=W0(e);return(n?r.W("collectionGroupIndex",IDBKeyRange.bound(n,n)):r.W()).next(o=>{const s=[];return Vt.forEach(o,a=>i.get([a.indexId,this.uid]).next(l=>{s.push(function(m,I){const k=I?new R0(I.sequenceNumber,new xA(jm(I.readTime),new Cr(Vf(I.documentKey)),I.largestBatchId)):R0.empty(),U=m.fields.map(([Y,ve])=>new Mm(ua.fromServerFormat(Y),ve));return new k0(m.indexId,m.collectionGroup,U,k)}(a,l))})).next(()=>s)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(n=>0===n.length?null:(n.sort((r,i)=>{const o=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return 0!==o?o:Mi(r.collectionGroup,i.collectionGroup)}),n[0].collectionGroup))}updateCollectionGroup(e,n,r){const i=W1(e),o=W0(e);return this.gn(e).next(s=>i.W("collectionGroupIndex",IDBKeyRange.bound(n,n)).next(a=>Vt.forEach(a,l=>o.put(v8(l.indexId,this.uid,s,r)))))}updateIndexEntries(e,n){const r=new Map;return Vt.forEach(n,(i,o)=>{const s=r.get(i.collectionGroup);return(s?Vt.resolve(s):this.getFieldIndexes(e,i.collectionGroup)).next(a=>(r.set(i.collectionGroup,a),Vt.forEach(a,l=>this.pn(e,i,l).next(u=>{const m=this.yn(o,l);return u.isEqual(m)?Vt.resolve():this.wn(e,o,l,u,m)}))))})}Sn(e,n,r,i){return G0(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.Rn(r,n.key),documentKey:n.key.path.toArray()})}bn(e,n,r,i){return G0(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.Rn(r,n.key),n.key.path.toArray()])}pn(e,n,r){const i=G0(e);let o=new Ms(Ng);return i.Y({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.Rn(r,n)])},(s,a)=>{o=o.add(new Gm(r.indexId,n,a.arrayValue,a.directionalValue))}).next(()=>o)}yn(e,n){let r=new Ms(Ng);const i=this.An(n,e);if(null==i)return r;const o=OD(n);if(null!=o){const s=e.data.field(o.fieldPath);if(D1(s))for(const a of s.arrayValue.values||[])r=r.add(new Gm(n.indexId,e.key,this.Tn(a),i))}else r=r.add(new Gm(n.indexId,e.key,LI,i));return r}wn(e,n,r,i,o){Mn("IndexedDbIndexManager","Updating index entries for document '%s'",n.key);const s=[];return function(l,u,m,I,k){const U=l.getIterator(),Y=u.getIterator();let ve=P0(U),xe=P0(Y);for(;ve||xe;){let st=!1,at=!1;if(ve&&xe){const Lt=m(ve,xe);Lt<0?at=!0:Lt>0&&(st=!0)}else null!=ve?at=!0:st=!0;st?(I(xe),xe=P0(Y)):at?(k(ve),ve=P0(U)):(ve=P0(U),xe=P0(Y))}}(i,o,Ng,a=>{s.push(this.Sn(e,n,r,a))},a=>{s.push(this.bn(e,n,r,a))}),Vt.waitFor(s)}gn(e){let n=1;return W0(e).Y({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,o)=>{o.done(),n=i.sequenceNumber+1}).next(()=>n)}createRange(e,n,r){r=r.sort((s,a)=>Ng(s,a)).filter((s,a,l)=>!a||0!==Ng(s,l[a-1]));const i=[];i.push(e);for(const s of r){const a=Ng(s,e),l=Ng(s,n);if(0===a)i[0]=e.Jt();else if(a>0&&l<0)i.push(s),i.push(s.Jt());else if(l>0)break}i.push(n);const o=[];for(let s=0;s<i.length;s+=2){if(this.Dn(i[s],i[s+1]))return[];o.push(IDBKeyRange.bound([i[s].indexId,this.uid,i[s].arrayValue,i[s].directionalValue,LI,[]],[i[s+1].indexId,this.uid,i[s+1].arrayValue,i[s+1].directionalValue,LI,[]]))}return o}Dn(e,n){return Ng(e,n)>0}getMinOffsetFromCollectionGroup(e,n){return this.getFieldIndexes(e,n).next(B8)}getMinOffset(e,n){return Vt.mapArray(this.cn(n),r=>this.ln(e,r).next(i=>i||Vr())).next(B8)}}function T8(t){return Du(t,"collectionParents")}function G0(t){return Du(t,"indexEntries")}function W1(t){return Du(t,"indexConfiguration")}function W0(t){return Du(t,"indexState")}function B8(t){Xr(0!==t.length);let e=t[0].indexState.offset,n=e.largestBatchId;for(let r=1;r<t.length;r++){const i=t[r].indexState.offset;UD(i,e)<0&&(e=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new xA(e.readTime,e.documentKey,n)}const D8={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Rc{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Rc(e,Rc.DEFAULT_COLLECTION_PERCENTILE,Rc.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function x8(t,e,n){const r=t.store("mutations"),i=t.store("documentMutations"),o=[],s=IDBKeyRange.only(n.batchId);let a=0;const l=r.Y({range:s},(m,I,k)=>(a++,k.delete()));o.push(l.next(()=>{Xr(1===a)}));const u=[];for(const m of n.mutations){const I=JV(e,m.key.path,n.batchId);o.push(i.delete(I)),u.push(m.key)}return Vt.waitFor(o).next(()=>u)}function OI(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw Vr();e=t.noDocument}return JSON.stringify(e).length}Rc.DEFAULT_COLLECTION_PERCENTILE=10,Rc.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Rc.DEFAULT=new Rc(41943040,Rc.DEFAULT_COLLECTION_PERCENTILE,Rc.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Rc.DISABLED=new Rc(-1,0,0);class UI{constructor(e,n,r,i){this.userId=e,this.serializer=n,this.indexManager=r,this.referenceDelegate=i,this.Cn={}}static lt(e,n,r,i){Xr(""!==e.uid);const o=e.isAuthenticated()?e.uid:"";return new UI(o,n,r,i)}checkEmpty(e){let n=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Mg(e).Y({index:"userMutationsIndex",range:r},(i,o,s)=>{n=!1,s.done()}).next(()=>n)}addMutationBatch(e,n,r,i){const o=K0(e),s=Mg(e);return s.add({}).next(a=>{Xr("number"==typeof a);const l=new ZD(a,n,r,i),u=function(U,Y,ve){const xe=ve.baseMutations.map(at=>j1(U.ct,at)),st=ve.mutations.map(at=>j1(U.ct,at));return{userId:Y,batchId:ve.batchId,localWriteTimeMs:ve.localWriteTime.toMillis(),baseMutations:xe,mutations:st}}(this.serializer,this.userId,l),m=[];let I=new Ms((k,U)=>Mi(k.canonicalString(),U.canonicalString()));for(const k of i){const U=JV(this.userId,k.key.path,a);I=I.add(k.key.path.popLast()),m.push(s.put(u)),m.push(o.put(U,kce))}return I.forEach(k=>{m.push(this.indexManager.addToCollectionParentIndex(e,k))}),e.addOnCommittedListener(()=>{this.Cn[a]=l.keys()}),Vt.waitFor(m).next(()=>l)})}lookupMutationBatch(e,n){return Mg(e).get(n).next(r=>r?(Xr(r.userId===this.userId),zm(this.serializer,r)):null)}vn(e,n){return this.Cn[n]?Vt.resolve(this.Cn[n]):this.lookupMutationBatch(e,n).next(r=>{if(r){const i=r.keys();return this.Cn[n]=i,i}return null})}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=IDBKeyRange.lowerBound([this.userId,r]);let o=null;return Mg(e).Y({index:"userMutationsIndex",range:i},(s,a,l)=>{a.userId===this.userId&&(Xr(a.batchId>=r),o=zm(this.serializer,a)),l.done()}).next(()=>o)}getHighestUnacknowledgedBatchId(e){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return Mg(e).Y({index:"userMutationsIndex",range:n,reverse:!0},(i,o,s)=>{r=o.batchId,s.done()}).next(()=>r)}getAllMutationBatches(e){const n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Mg(e).W("userMutationsIndex",n).next(r=>r.map(i=>zm(this.serializer,i)))}getAllMutationBatchesAffectingDocumentKey(e,n){const r=yI(this.userId,n.path),i=IDBKeyRange.lowerBound(r),o=[];return K0(e).Y({range:i},(s,a,l)=>{const[u,m,I]=s,k=Vf(m);if(u===this.userId&&n.path.isEqual(k))return Mg(e).get(I).next(U=>{if(!U)throw Vr();Xr(U.userId===this.userId),o.push(zm(this.serializer,U))});l.done()}).next(()=>o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Ms(Mi);const i=[];return n.forEach(o=>{const s=yI(this.userId,o.path),a=IDBKeyRange.lowerBound(s),l=K0(e).Y({range:a},(u,m,I)=>{const[k,U,Y]=u,ve=Vf(U);k===this.userId&&o.path.isEqual(ve)?r=r.add(Y):I.done()});i.push(l)}),Vt.waitFor(i).next(()=>this.Fn(e,r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1,o=yI(this.userId,r),s=IDBKeyRange.lowerBound(o);let a=new Ms(Mi);return K0(e).Y({range:s},(l,u,m)=>{const[I,k,U]=l,Y=Vf(k);I===this.userId&&r.isPrefixOf(Y)?Y.length===i&&(a=a.add(U)):m.done()}).next(()=>this.Fn(e,a))}Fn(e,n){const r=[],i=[];return n.forEach(o=>{i.push(Mg(e).get(o).next(s=>{if(null===s)throw Vr();Xr(s.userId===this.userId),r.push(zm(this.serializer,s))}))}),Vt.waitFor(i).next(()=>r)}removeMutationBatch(e,n){return x8(e.ae,this.userId,n).next(r=>(e.addOnCommittedListener(()=>{this.Mn(n.batchId)}),Vt.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}Mn(e){delete this.Cn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(n=>{if(!n)return Vt.resolve();const r=IDBKeyRange.lowerBound(function(s){return[s]}(this.userId)),i=[];return K0(e).Y({range:r},(o,s,a)=>{if(o[0]===this.userId){const l=Vf(o[1]);i.push(l)}else a.done()}).next(()=>{Xr(0===i.length)})})}containsKey(e,n){return F8(e,this.userId,n)}xn(e){return k8(e).get(this.userId).next(n=>n||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function F8(t,e,n){const r=yI(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r);let s=!1;return K0(t).Y({range:o,J:!0},(a,l,u)=>{const[m,I,k]=a;m===e&&I===i&&(s=!0),u.done()}).next(()=>s)}function Mg(t){return Du(t,"mutations")}function K0(t){return Du(t,"documentMutations")}function k8(t){return Du(t,"mutationQueues")}class Wm{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new Wm(0)}static Ln(){return new Wm(-1)}}class $de{constructor(e,n){this.referenceDelegate=e,this.serializer=n}allocateTargetId(e){return this.Bn(e).next(n=>{const r=new Wm(n.highestTargetId);return n.highestTargetId=r.next(),this.kn(e,n).next(()=>n.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Bn(e).next(n=>ei.fromTimestamp(new Ca(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Bn(e).next(n=>n.highestListenSequenceNumber)}setTargetsMetadata(e,n,r){return this.Bn(e).next(i=>(i.highestListenSequenceNumber=n,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),n>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=n),this.kn(e,i)))}addTargetData(e,n){return this.qn(e,n).next(()=>this.Bn(e).next(r=>(r.targetCount+=1,this.Qn(n,r),this.kn(e,r))))}updateTargetData(e,n){return this.qn(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next(()=>q0(e).delete(n.targetId)).next(()=>this.Bn(e)).next(r=>(Xr(r.targetCount>0),r.targetCount-=1,this.kn(e,r)))}removeTargets(e,n,r){let i=0;const o=[];return q0(e).Y((s,a)=>{const l=z1(a);l.sequenceNumber<=n&&null===r.get(l.targetId)&&(i++,o.push(this.removeTargetData(e,l)))}).next(()=>Vt.waitFor(o)).next(()=>i)}forEachTarget(e,n){return q0(e).Y((r,i)=>{const o=z1(i);n(o)})}Bn(e){return R8(e).get("targetGlobalKey").next(n=>(Xr(null!==n),n))}kn(e,n){return R8(e).put("targetGlobalKey",n)}qn(e,n){return q0(e).put(g8(this.serializer,n))}Qn(e,n){let r=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,r=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.Bn(e).next(n=>n.targetCount)}getTargetData(e,n){const r=Um(n),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let o=null;return q0(e).Y({range:i,index:"queryTargetsIndex"},(s,a,l)=>{const u=z1(a);k1(n,u.target)&&(o=u,l.done())}).next(()=>o)}addMatchingKeys(e,n,r){const i=[],o=Lg(e);return n.forEach(s=>{const a=kc(s.path);i.push(o.put({targetId:r,path:a})),i.push(this.referenceDelegate.addReference(e,r,s))}),Vt.waitFor(i)}removeMatchingKeys(e,n,r){const i=Lg(e);return Vt.forEach(n,o=>{const s=kc(o.path);return Vt.waitFor([i.delete([r,s]),this.referenceDelegate.removeReference(e,r,o)])})}removeMatchingKeysForTargetId(e,n){const r=Lg(e),i=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,n){const r=IDBKeyRange.bound([n],[n+1],!1,!0),i=Lg(e);let o=to();return i.Y({range:r,J:!0},(s,a,l)=>{const u=Vf(s[1]),m=new Cr(u);o=o.add(m)}).next(()=>o)}containsKey(e,n){const r=kc(n.path),i=IDBKeyRange.bound([r],[jV(r)],!1,!0);let o=0;return Lg(e).Y({index:"documentTargetsIndex",J:!0,range:i},([s,a],l,u)=>{0!==s&&(o++,u.done())}).next(()=>o>0)}_t(e,n){return q0(e).get(n).next(r=>r?z1(r):null)}}function q0(t){return Du(t,"targets")}function R8(t){return Du(t,"targetGlobal")}function Lg(t){return Du(t,"targetDocuments")}function P8([t,e],[n,r]){const i=Mi(t,n);return 0===i?Mi(e,r):i}class Gde{constructor(e){this.Kn=e,this.buffer=new Ms(P8),this.$n=0}Un(){return++this.$n}Wn(e){const n=[e,this.Un()];if(this.buffer.size<this.Kn)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();P8(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class N8{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Gn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.zn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return null!==this.Gn}zn(e){var n=this;Mn("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,V.A)(function*(){n.Gn=null;try{yield n.localStore.collectGarbage(n.garbageCollector)}catch(r){Sg(r)?Mn("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):yield Eg(r)}yield n.zn(3e5)}))}}class Wde{constructor(e,n){this.jn=e,this.params=n}calculateTargetCount(e,n){return this.jn.Hn(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(0===n)return Vt.resolve(FA._e);const r=new Gde(n);return this.jn.forEachTarget(e,i=>r.Wn(i.sequenceNumber)).next(()=>this.jn.Jn(e,i=>r.Wn(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.jn.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.jn.removeOrphanedDocuments(e,n)}collect(e,n){return-1===this.params.cacheSizeCollectionThreshold?(Mn("LruGarbageCollector","Garbage collection skipped; disabled"),Vt.resolve(D8)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Mn("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),D8):this.Yn(e,n))}getCacheSize(e){return this.jn.getCacheSize(e)}Yn(e,n){let r,i,o,s,a,l,u;const m=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(I=>(I>this.params.maximumSequenceNumbersToCollect?(Mn("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${I}`),i=this.params.maximumSequenceNumbersToCollect):i=I,s=Date.now(),this.nthSequenceNumber(e,i))).next(I=>(r=I,a=Date.now(),this.removeTargets(e,r,n))).next(I=>(o=I,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(I=>(u=Date.now(),x0()<=BA.$b.DEBUG&&Mn("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${s-m}ms\n\tDetermined least recently used ${i} in `+(a-s)+`ms\n\tRemoved ${o} targets in `+(l-a)+`ms\n\tRemoved ${I} documents in `+(u-l)+`ms\nTotal Duration: ${u-m}ms`),Vt.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:I})))}}class Kde{constructor(e,n){this.db=e,this.garbageCollector=function M8(t,e){return new Wde(t,e)}(this,n)}Hn(e){const n=this.Zn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}Zn(e){let n=0;return this.Jn(e,r=>{n++}).next(()=>n)}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}Jn(e,n){return this.Xn(e,(r,i)=>n(i))}addReference(e,n,r){return VI(e,r)}removeReference(e,n,r){return VI(e,r)}removeTargets(e,n,r){return this.db.getTargetCache().removeTargets(e,n,r)}markPotentiallyOrphaned(e,n){return VI(e,n)}er(e,n){return function(i,o){let s=!1;return k8(i).Z(a=>F8(i,a,o).next(l=>(l&&(s=!0),Vt.resolve(!l)))).next(()=>s)}(e,n)}removeOrphanedDocuments(e,n){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let o=0;return this.Xn(e,(s,a)=>{if(a<=n){const l=this.er(e,s).next(u=>{if(!u)return o++,r.getEntry(e,s).next(()=>(r.removeEntry(s,ei.min()),Lg(e).delete([0,kc(s.path)])))});i.push(l)}}).next(()=>Vt.waitFor(i)).next(()=>r.apply(e)).next(()=>o)}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,n){return VI(e,n)}Xn(e,n){const r=Lg(e);let i,o=FA._e;return r.Y({index:"documentTargetsIndex"},([s,a],{path:l,sequenceNumber:u})=>{0===s?(o!==FA._e&&n(new Cr(Vf(i)),o),o=u,i=l):o=FA._e}).next(()=>{o!==FA._e&&n(new Cr(Vf(i)),o)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function VI(t,e){return Lg(t).put((i=t.currentSequenceNumber,{targetId:0,path:kc(e.path),sequenceNumber:i}));var i}class L8{constructor(){this.changes=new Tp(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,ca.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return void 0!==r?Vt.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class qde{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,r){return Km(e).put(r)}removeEntry(e,n,r){return Km(e).delete(function(o,s){const a=o.path.toArray();return[a.slice(0,a.length-2),a[a.length-2],PI(s),a[a.length-1]]}(n,r))}updateMetadata(e,n){return this.getMetadata(e).next(r=>(r.byteSize+=n,this.tr(e,r)))}getEntry(e,n){let r=ca.newInvalidDocument(n);return Km(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(K1(n))},(i,o)=>{r=this.nr(n,o)}).next(()=>r)}rr(e,n){let r={size:0,document:ca.newInvalidDocument(n)};return Km(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(K1(n))},(i,o)=>{r={document:this.nr(n,o),size:OI(o)}}).next(()=>r)}getEntries(e,n){let r=zd();return this.ir(e,n,(i,o)=>{const s=this.nr(i,o);r=r.insert(i,s)}).next(()=>r)}sr(e,n){let r=zd(),i=new Ys(Cr.comparator);return this.ir(e,n,(o,s)=>{const a=this.nr(o,s);r=r.insert(o,a),i=i.insert(o,OI(s))}).next(()=>({documents:r,_r:i}))}ir(e,n,r){if(n.isEmpty())return Vt.resolve();let i=new Ms(Q8);n.forEach(l=>i=i.add(l));const o=IDBKeyRange.bound(K1(i.first()),K1(i.last())),s=i.getIterator();let a=s.getNext();return Km(e).Y({index:"documentKeyIndex",range:o},(l,u,m)=>{const I=Cr.fromSegments([...u.prefixPath,u.collectionGroup,u.documentId]);for(;a&&Q8(a,I)<0;)r(a,null),a=s.getNext();a&&a.isEqual(I)&&(r(a,u),a=s.hasNext()?s.getNext():null),a?m.U(K1(a)):m.done()}).next(()=>{for(;a;)r(a,null),a=s.hasNext()?s.getNext():null})}getDocumentsMatchingQuery(e,n,r,i,o){const s=n.path,a=[s.popLast().toArray(),s.lastSegment(),PI(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],l=[s.popLast().toArray(),s.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Km(e).W(IDBKeyRange.bound(a,l,!0)).next(u=>{null==o||o.incrementDocumentReadCount(u.length);let m=zd();for(const I of u){const k=this.nr(Cr.fromSegments(I.prefixPath.concat(I.collectionGroup,I.documentId)),I);k.isFoundDocument()&&(P1(n,k)||i.has(k.key))&&(m=m.insert(k.key,k))}return m})}getAllFromCollectionGroup(e,n,r,i){let o=zd();const s=V8(n,r),a=V8(n,xA.max());return Km(e).Y({index:"collectionGroupIndex",range:IDBKeyRange.bound(s,a,!0)},(l,u,m)=>{const I=this.nr(Cr.fromSegments(u.prefixPath.concat(u.collectionGroup,u.documentId)),u);o=o.insert(I.key,I),o.size===i&&m.done()}).next(()=>o)}newChangeBuffer(e){return new Yde(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(n=>n.byteSize)}getMetadata(e){return U8(e).get("remoteDocumentGlobalKey").next(n=>(Xr(!!n),n))}tr(e,n){return U8(e).put("remoteDocumentGlobalKey",n)}nr(e,n){if(n){const r=function Mde(t,e){let n;if(e.document)n=l8(t.ct,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=Cr.fromSegments(e.noDocument.path),i=jm(e.noDocument.readTime);n=ca.newNoDocument(r,i),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return Vr();{const r=Cr.fromSegments(e.unknownDocument.path),i=jm(e.unknownDocument.version);n=ca.newUnknownDocument(r,i)}}return e.readTime&&n.setReadTime(function(i){const o=new Ca(i[0],i[1]);return ei.fromTimestamp(o)}(e.readTime)),n}(this.serializer,n);if(!r.isNoDocument()||!r.version.isEqual(ei.min()))return r}return ca.newInvalidDocument(e)}}function O8(t){return new qde(t)}class Yde extends L8{constructor(e,n){super(),this.ar=e,this.trackRemovals=n,this.ur=new Tp(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const n=[];let r=0,i=new Ms((o,s)=>Mi(o.canonicalString(),s.canonicalString()));return this.changes.forEach((o,s)=>{const a=this.ur.get(o);if(n.push(this.ar.removeEntry(e,o,a.readTime)),s.isValidDocument()){const l=p8(this.ar.serializer,s);i=i.add(o.path.popLast());const u=OI(l);r+=u-a.size,n.push(this.ar.addEntry(e,o,l))}else if(r-=a.size,this.trackRemovals){const l=p8(this.ar.serializer,s.convertToNoDocument(ei.min()));n.push(this.ar.addEntry(e,o,l))}}),i.forEach(o=>{n.push(this.ar.indexManager.addToCollectionParentIndex(e,o))}),n.push(this.ar.updateMetadata(e,r)),Vt.waitFor(n)}getFromCache(e,n){return this.ar.rr(e,n).next(r=>(this.ur.set(n,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,n){return this.ar.sr(e,n).next(({documents:r,_r:i})=>(i.forEach((o,s)=>{this.ur.set(o,{size:s,readTime:r.get(o).readTime})}),r))}}function U8(t){return Du(t,"remoteDocumentGlobal")}function Km(t){return Du(t,"remoteDocumentsV14")}function K1(t){const e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function V8(t,e){const n=e.documentKey.path.toArray();return[t,PI(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function Q8(t,e){const n=t.path.toArray(),r=e.path.toArray();let i=0;for(let o=0;o<n.length-2&&o<r.length-2;++o)if(i=Mi(n[o],r[o]),i)return i;return i=Mi(n.length,r.length),i||(i=Mi(n[n.length-2],r[r.length-2]),i||Mi(n[n.length-1],r[r.length-1]))}class Xde{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class H8{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(null!==r&&O1(r.mutation,i,jd.empty(),Ca.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,to()).next(()=>r))}getLocalViewOfDocuments(e,n,r=to()){const i=Hf();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=N1();return o.forEach((a,l)=>{s=s.insert(a,l.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){const r=Hf();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,to()))}populateOverlays(e,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,i){let o=zd();const s=M1(),a=M1();return n.forEach((l,u)=>{const m=r.get(u.key);i.has(u.key)&&(void 0===m||m.mutation instanceof Bp)?o=o.insert(u.key,u):void 0!==m?(s.set(u.key,m.mutation.getFieldMask()),O1(m.mutation,u,m.mutation.getFieldMask(),Ca.now())):s.set(u.key,jd.empty())}),this.recalculateAndSaveOverlays(e,o).next(l=>(l.forEach((u,m)=>s.set(u,m)),n.forEach((u,m)=>{var I;return a.set(u,new Xde(m,null!==(I=s.get(u))&&void 0!==I?I:null))}),a))}recalculateAndSaveOverlays(e,n){const r=M1();let i=new Ys((s,a)=>s-a),o=to();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(const a of s)a.keys().forEach(l=>{const u=n.get(l);if(null===u)return;let m=r.get(l)||jd.empty();m=a.applyToLocalView(u,m),r.set(l,m);const I=(i.get(a.batchId)||to()).add(l);i=i.insert(a.batchId,I)})}).next(()=>{const s=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,m=l.value,I=kQ();m.forEach(k=>{if(!o.has(k)){const U=QQ(n.get(k),r.get(k));null!==U&&I.set(k,U),o=o.add(k)}}),s.push(this.documentOverlayCache.saveOverlays(e,u,I))}return Vt.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return Cr.isDocumentKey((s=n).path)&&null===s.collectionGroup&&0===s.filters.length?this.getDocumentsMatchingDocumentQuery(e,n.path):qD(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i);var s}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{const s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):Vt.resolve(Hf());let a=-1,l=o;return s.next(u=>Vt.forEach(u,(m,I)=>(a<I.largestBatchId&&(a=I.largestBatchId),o.get(m)?Vt.resolve():this.remoteDocumentCache.getEntry(e,m).next(k=>{l=l.insert(m,k)}))).next(()=>this.populateOverlays(e,u,o)).next(()=>this.computeViews(e,l,u,to())).next(m=>({batchId:a,changes:FQ(m)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Cr(n)).next(r=>{let i=N1();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const o=n.collectionGroup;let s=N1();return this.indexManager.getCollectionParents(e,o).next(a=>Vt.forEach(a,l=>{const u=(I=n,k=l.child(o),new Sp(k,null,I.explicitOrderBy.slice(),I.filters.slice(),I.limit,I.limitType,I.startAt,I.endAt));var I,k;return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(m=>{m.forEach((I,k)=>{s=s.insert(I,k)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((l,u)=>{const m=u.getKey();null===s.get(m)&&(s=s.insert(m,ca.newInvalidDocument(m)))});let a=N1();return s.forEach((l,u)=>{const m=o.get(l);void 0!==m&&O1(m.mutation,u,jd.empty(),Ca.now()),P1(n,u)&&(a=a.insert(l,u))}),a})}}class Jde{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,n){return Vt.resolve(this.cr.get(n))}saveBundleMetadata(e,n){return this.cr.set(n.id,{id:(i=n).id,version:i.version,createTime:pl(i.createTime)}),Vt.resolve();var i}getNamedQuery(e,n){return Vt.resolve(this.lr.get(n))}saveNamedQuery(e,n){return this.lr.set(n.name,{name:(i=n).name,query:ux(i.bundledQuery),readTime:pl(i.readTime)}),Vt.resolve();var i}}class Zde{constructor(){this.overlays=new Ys(Cr.comparator),this.hr=new Map}getOverlay(e,n){return Vt.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Hf();return Vt.forEach(n,i=>this.getOverlay(e,i).next(o=>{null!==o&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.ht(e,n,o)}),Vt.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.hr.get(r);return void 0!==i&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.hr.delete(r)),Vt.resolve()}getOverlaysForCollection(e,n,r){const i=Hf(),o=n.length+1,s=new Cr(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===o&&l.largestBatchId>r&&i.set(l.getKey(),l)}return Vt.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new Ys((u,m)=>u-m);const s=this.overlays.getIterator();for(;s.hasNext();){const u=s.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let m=o.get(u.largestBatchId);null===m&&(m=Hf(),o=o.insert(u.largestBatchId,m)),m.set(u.getKey(),u)}}const a=Hf(),l=o.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,m)=>a.set(u,m)),!(a.size()>=i)););return Vt.resolve(a)}ht(e,n,r){const i=this.overlays.get(r.key);if(null!==i){const s=this.hr.get(i.largestBatchId).delete(r.key);this.hr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new tx(n,r));let o=this.hr.get(n);void 0===o&&(o=to(),this.hr.set(n,o)),this.hr.set(n,o.add(r.key))}}class gx{constructor(){this.Pr=new Ms(xu.Ir),this.Tr=new Ms(xu.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,n){const r=new xu(e,n);this.Pr=this.Pr.add(r),this.Tr=this.Tr.add(r)}dr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Ar(new xu(e,n))}Rr(e,n){e.forEach(r=>this.removeReference(r,n))}Vr(e){const n=new Cr(new xo([])),r=new xu(n,e),i=new xu(n,e+1),o=[];return this.Tr.forEachInRange([r,i],s=>{this.Ar(s),o.push(s.key)}),o}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const n=new Cr(new xo([])),r=new xu(n,e),i=new xu(n,e+1);let o=to();return this.Tr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){const n=new xu(e,0),r=this.Pr.firstAfterOrEqual(n);return null!==r&&e.isEqual(r.key)}}class xu{constructor(e,n){this.key=e,this.pr=n}static Ir(e,n){return Cr.comparator(e.key,n.key)||Mi(e.pr,n.pr)}static Er(e,n){return Mi(e.pr,n.pr)||Cr.comparator(e.key,n.key)}}class eAe{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new Ms(xu.Ir)}checkEmpty(e){return Vt.resolve(0===this.mutationQueue.length)}addMutationBatch(e,n,r,i){const o=this.yr;this.yr++;const s=new ZD(o,n,r,i);this.mutationQueue.push(s);for(const a of i)this.wr=this.wr.add(new xu(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return Vt.resolve(s)}lookupMutationBatch(e,n){return Vt.resolve(this.Sr(n))}getNextMutationBatchAfterBatchId(e,n){const i=this.br(n+1),o=i<0?0:i;return Vt.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return Vt.resolve(0===this.mutationQueue.length?-1:this.yr-1)}getAllMutationBatches(e){return Vt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new xu(n,0),i=new xu(n,Number.POSITIVE_INFINITY),o=[];return this.wr.forEachInRange([r,i],s=>{const a=this.Sr(s.pr);o.push(a)}),Vt.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Ms(Mi);return n.forEach(i=>{const o=new xu(i,0),s=new xu(i,Number.POSITIVE_INFINITY);this.wr.forEachInRange([o,s],a=>{r=r.add(a.pr)})}),Vt.resolve(this.Dr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;Cr.isDocumentKey(o)||(o=o.child(""));const s=new xu(new Cr(o),0);let a=new Ms(Mi);return this.wr.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.pr)),!0)},s),Vt.resolve(this.Dr(a))}Dr(e){const n=[];return e.forEach(r=>{const i=this.Sr(r);null!==i&&n.push(i)}),n}removeMutationBatch(e,n){Xr(0===this.Cr(n.batchId,"removed")),this.mutationQueue.shift();let r=this.wr;return Vt.forEach(n.mutations,i=>{const o=new xu(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.wr=r})}Mn(e){}containsKey(e,n){const r=new xu(n,0),i=this.wr.firstAfterOrEqual(r);return Vt.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return Vt.resolve()}Cr(e,n){return this.br(e)}br(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Sr(e){const n=this.br(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class tAe{constructor(e){this.vr=e,this.docs=new Ys(Cr.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.vr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return Vt.resolve(r?r.document.mutableCopy():ca.newInvalidDocument(n))}getEntries(e,n){let r=zd();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():ca.newInvalidDocument(i))}),Vt.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=zd();const s=n.path,a=new Cr(s.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:m}}=l.getNext();if(!s.isPrefixOf(u.path))break;u.path.length>s.length+1||UD($V(m),r)<=0||(i.has(m.key)||P1(n,m))&&(o=o.insert(m.key,m.mutableCopy()))}return Vt.resolve(o)}getAllFromCollectionGroup(e,n,r,i){Vr()}Fr(e,n){return Vt.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new nAe(this)}getSize(e){return Vt.resolve(this.size)}}class nAe extends L8{constructor(e){super(),this.ar=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.ar.addEntry(e,i)):this.ar.removeEntry(r)}),Vt.waitFor(n)}getFromCache(e,n){return this.ar.getEntry(e,n)}getAllFromCache(e,n){return this.ar.getEntries(e,n)}}class rAe{constructor(e){this.persistence=e,this.Mr=new Tp(n=>Um(n),k1),this.lastRemoteSnapshotVersion=ei.min(),this.highestTargetId=0,this.Or=0,this.Nr=new gx,this.targetCount=0,this.Lr=Wm.Nn()}forEachTarget(e,n){return this.Mr.forEach((r,i)=>n(i)),Vt.resolve()}getLastRemoteSnapshotVersion(e){return Vt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Vt.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Lr.next(),Vt.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Or&&(this.Or=n),Vt.resolve()}qn(e){this.Mr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Lr=new Wm(n),this.highestTargetId=n),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,n){return this.qn(n),this.targetCount+=1,Vt.resolve()}updateTargetData(e,n){return this.qn(n),Vt.resolve()}removeTargetData(e,n){return this.Mr.delete(n.target),this.Nr.Vr(n.targetId),this.targetCount-=1,Vt.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.Mr.forEach((s,a)=>{a.sequenceNumber<=n&&null===r.get(a.targetId)&&(this.Mr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),Vt.waitFor(o).next(()=>i)}getTargetCount(e){return Vt.resolve(this.targetCount)}getTargetData(e,n){const r=this.Mr.get(n)||null;return Vt.resolve(r)}addMatchingKeys(e,n,r){return this.Nr.dr(n,r),Vt.resolve()}removeMatchingKeys(e,n,r){this.Nr.Rr(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),Vt.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Nr.Vr(n),Vt.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Nr.gr(n);return Vt.resolve(r)}containsKey(e,n){return Vt.resolve(this.Nr.containsKey(n))}}class mx{constructor(e,n){this.Br={},this.overlays={},this.kr=new FA(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new rAe(this),this.indexManager=new jde,this.remoteDocumentCache=new tAe(r=>this.referenceDelegate.Kr(r)),this.serializer=new f8(n),this.$r=new Jde(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Zde,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Br[e.toKey()];return r||(r=new eAe(n,this.referenceDelegate),this.Br[e.toKey()]=r),r}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,n,r){Mn("MemoryPersistence","Starting transaction:",e);const i=new iAe(this.kr.next());return this.referenceDelegate.Ur(),r(i).next(o=>this.referenceDelegate.Wr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Gr(e,n){return Vt.or(Object.values(this.Br).map(r=>()=>r.containsKey(e,n)))}}class iAe extends WV{constructor(e){super(),this.currentSequenceNumber=e}}class QI{constructor(e){this.persistence=e,this.zr=new gx,this.jr=null}static Hr(e){return new QI(e)}get Jr(){if(this.jr)return this.jr;throw Vr()}addReference(e,n,r){return this.zr.addReference(r,n),this.Jr.delete(r.toString()),Vt.resolve()}removeReference(e,n,r){return this.zr.removeReference(r,n),this.Jr.add(r.toString()),Vt.resolve()}markPotentiallyOrphaned(e,n){return this.Jr.add(n.toString()),Vt.resolve()}removeTarget(e,n){this.zr.Vr(n.targetId).forEach(i=>this.Jr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.Jr.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}Ur(){this.jr=new Set}Wr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Vt.forEach(this.Jr,r=>{const i=Cr.fromPath(r);return this.Yr(e,i).next(o=>{o||n.removeEntry(i,ei.min())})}).next(()=>(this.jr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Yr(e,n).next(r=>{r?this.Jr.delete(n.toString()):this.Jr.add(n.toString())})}Kr(e){return 0}Yr(e,n){return Vt.or([()=>Vt.resolve(this.zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gr(e,n)])}}class oAe{constructor(e){this.serializer=e}N(e,n,r,i){const o=new vI("createOrUpgrade",n);var l;r<1&&i>=1&&(e.createObjectStore("owner"),(l=e).createObjectStore("mutationQueues",{keyPath:"userId"}),l.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",XV,{unique:!0}),l.createObjectStore("documentMutations"),j8(e),function(l){l.createObjectStore("remoteDocuments")}(e));let s=Vt.resolve();return r<3&&i>=3&&(0!==r&&(function(l){l.deleteObjectStore("targetDocuments"),l.deleteObjectStore("targets"),l.deleteObjectStore("targetGlobal")}(e),j8(e)),s=s.next(()=>function(l){const u=l.store("targetGlobal"),m={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:ei.min().toTimestamp(),targetCount:0};return u.put("targetGlobalKey",m)}(o))),r<4&&i>=4&&(0!==r&&(s=s.next(()=>function(l,u){return u.store("mutations").W().next(m=>{l.deleteObjectStore("mutations"),l.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",XV,{unique:!0});const I=u.store("mutations"),k=m.map(U=>I.put(U));return Vt.waitFor(k)})}(e,o))),s=s.next(()=>{!function(l){l.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),r<5&&i>=5&&(s=s.next(()=>this.Xr(o))),r<6&&i>=6&&(s=s.next(()=>(function(l){l.createObjectStore("remoteDocumentGlobal")}(e),this.ei(o)))),r<7&&i>=7&&(s=s.next(()=>this.ti(o))),r<8&&i>=8&&(s=s.next(()=>this.ni(e,o))),r<9&&i>=9&&(s=s.next(()=>{!function(l){l.objectStoreNames.contains("remoteDocumentChanges")&&l.deleteObjectStore("remoteDocumentChanges")}(e)})),r<10&&i>=10&&(s=s.next(()=>this.ri(o))),r<11&&i>=11&&(s=s.next(()=>{(function(l){l.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(l){l.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(s=s.next(()=>{!function(l){const u=l.createObjectStore("documentOverlays",{keyPath:zce});u.createIndex("collectionPathOverlayIndex",$ce,{unique:!1}),u.createIndex("collectionGroupOverlayIndex",Gce,{unique:!1})}(e)})),r<13&&i>=13&&(s=s.next(()=>function(l){const u=l.createObjectStore("remoteDocumentsV14",{keyPath:Rce});u.createIndex("documentKeyIndex",Pce),u.createIndex("collectionGroupIndex",Nce)}(e)).next(()=>this.ii(e,o)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(s=s.next(()=>this.si(e,o))),r<15&&i>=15&&(s=s.next(()=>function(l){l.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),l.createObjectStore("indexState",{keyPath:Vce}).createIndex("sequenceNumberIndex",Qce,{unique:!1}),l.createObjectStore("indexEntries",{keyPath:Hce}).createIndex("documentKeyIndex",jce,{unique:!1})}(e))),s}ei(e){let n=0;return e.store("remoteDocuments").Y((r,i)=>{n+=OI(i)}).next(()=>{const r={byteSize:n};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Xr(e){const n=e.store("mutationQueues"),r=e.store("mutations");return n.W().next(i=>Vt.forEach(i,o=>{const s=IDBKeyRange.bound([o.userId,-1],[o.userId,o.lastAcknowledgedBatchId]);return r.W("userMutationsIndex",s).next(a=>Vt.forEach(a,l=>{Xr(l.userId===o.userId);const u=zm(this.serializer,l);return x8(e,o.userId,u).next(()=>{})}))}))}ti(e){const n=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const o=[];return r.Y((s,a)=>{const l=new xo(s),u=[0,kc(l)];o.push(n.get(u).next(m=>m?Vt.resolve():n.put({targetId:0,path:kc(l),sequenceNumber:i.highestListenSequenceNumber})))}).next(()=>Vt.waitFor(o))})}ni(e,n){e.createObjectStore("collectionParents",{keyPath:Uce});const r=n.store("collectionParents"),i=new px,o=s=>{if(i.add(s)){const a=s.lastSegment(),l=s.popLast();return r.put({collectionId:a,parent:kc(l)})}};return n.store("remoteDocuments").Y({J:!0},(s,a)=>{const l=new xo(s);return o(l.popLast())}).next(()=>n.store("documentMutations").Y({J:!0},([s,a,l],u)=>{const m=Vf(a);return o(m.popLast())}))}ri(e){const n=e.store("targets");return n.Y((r,i)=>{const o=z1(i),s=g8(this.serializer,o);return n.put(s)})}ii(e,n){const r=n.store("remoteDocuments"),i=[];return r.Y((o,s)=>{const a=n.store("remoteDocumentsV14"),l=(I=s,I.document?new Cr(xo.fromString(I.document.name).popFirst(5)):I.noDocument?Cr.fromSegments(I.noDocument.path):I.unknownDocument?Cr.fromSegments(I.unknownDocument.path):Vr()).path.toArray(),u={prefixPath:l.slice(0,l.length-2),collectionGroup:l[l.length-2],documentId:l[l.length-1],readTime:s.readTime||[0,0],unknownDocument:s.unknownDocument,noDocument:s.noDocument,document:s.document,hasCommittedMutations:!!s.hasCommittedMutations};var I;i.push(a.put(u))}).next(()=>Vt.waitFor(i))}si(e,n){const r=n.store("mutations"),i=O8(this.serializer),o=new mx(QI.Hr,this.serializer.ct);return r.W().next(s=>{const a=new Map;return s.forEach(l=>{var u;let m=null!==(u=a.get(l.userId))&&void 0!==u?u:to();zm(this.serializer,l).keys().forEach(I=>m=m.add(I)),a.set(l.userId,m)}),Vt.forEach(a,(l,u)=>{const m=new Bu(u),I=NI.lt(this.serializer,m),k=o.getIndexManager(m),U=UI.lt(m,this.serializer,k,o.referenceDelegate);return new H8(i,U,I,k).recalculateAndSaveOverlaysForDocumentKeys(new HD(n,FA._e),l).next()})})}}function j8(t){t.createObjectStore("targetDocuments",{keyPath:Lce}).createIndex("documentTargetsIndex",Oce,{unique:!0}),t.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Mce,{unique:!0}),t.createObjectStore("targetGlobal")}const vx="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class yx{constructor(e,n,r,i,o,s,a,l,u,m,I=15){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.oi=o,this.window=s,this.document=a,this._i=u,this.ai=m,this.ui=I,this.kr=null,this.qr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.li=null,this.hi=null,this.Pi=Number.NEGATIVE_INFINITY,this.Ii=k=>Promise.resolve(),!yx.D())throw new Fn(nn.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Kde(this,i),this.Ti=n+"main",this.serializer=new f8(l),this.Ei=new ch(this.Ti,this.ui,new oAe(this.serializer)),this.Qr=new $de(this.referenceDelegate,this.serializer),this.remoteDocumentCache=O8(this.serializer),this.$r=new Lde,this.window&&this.window.localStorage?this.di=this.window.localStorage:(this.di=null,!1===m&&fl("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Ai().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Fn(nn.FAILED_PRECONDITION,vx);return this.Ri(),this.Vi(),this.mi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Qr.getHighestSequenceNumber(e))}).then(e=>{this.kr=new FA(e,this._i)}).then(()=>{this.qr=!0}).catch(e=>(this.Ei&&this.Ei.close(),Promise.reject(e)))}fi(e){var n=this;return this.Ii=function(){var r=(0,V.A)(function*(i){if(n.started)return e(i)});return function(i){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ei.B(function(){var n=(0,V.A)(function*(r){null===r.newVersion&&(yield e())});return function(r){return n.apply(this,arguments)}}())}setNetworkEnabled(e){var n=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.oi.enqueueAndForget((0,V.A)(function*(){n.started&&(yield n.Ai())})))}Ai(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>jI(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.gi(e).next(n=>{n||(this.isPrimary=!1,this.oi.enqueueRetryable(()=>this.Ii(!1)))})}).next(()=>this.pi(e)).next(n=>this.isPrimary&&!n?this.yi(e).next(()=>!1):!!n&&this.wi(e).next(()=>!0))).catch(e=>{if(Sg(e))return Mn("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Mn("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.oi.enqueueRetryable(()=>this.Ii(e)),this.isPrimary=e})}gi(e){return q1(e).get("owner").next(n=>Vt.resolve(this.Si(n)))}bi(e){return jI(e).delete(this.clientId)}Di(){var e=this;return(0,V.A)(function*(){if(e.isPrimary&&!e.Ci(e.Pi,18e5)){e.Pi=Date.now();const n=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const i=Du(r,"clientMetadata");return i.W().next(o=>{const s=e.vi(o,18e5),a=o.filter(l=>-1===s.indexOf(l));return Vt.forEach(a,l=>i.delete(l.clientId)).next(()=>a)})}).catch(()=>[]);if(e.di)for(const r of n)e.di.removeItem(e.Fi(r.clientId))}})()}mi(){this.hi=this.oi.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Ai().then(()=>this.Di()).then(()=>this.mi()))}Si(e){return!!e&&e.ownerId===this.clientId}pi(e){return this.ai?Vt.resolve(!0):q1(e).get("owner").next(n=>{if(null!==n&&this.Ci(n.leaseTimestampMs,5e3)&&!this.Mi(n.ownerId)){if(this.Si(n)&&this.networkEnabled)return!0;if(!this.Si(n)){if(!n.allowTabSynchronization)throw new Fn(nn.FAILED_PRECONDITION,vx);return!1}}return!(!this.networkEnabled||!this.inForeground)||jI(e).W().next(r=>void 0===this.vi(r,5e3).find(i=>!(this.clientId===i.clientId||!(!this.networkEnabled&&i.networkEnabled||!this.inForeground&&i.inForeground&&this.networkEnabled===i.networkEnabled))))}).next(n=>(this.isPrimary!==n&&Mn("IndexedDbPersistence",`Client ${n?"is":"is not"} eligible for a primary lease.`),n))}shutdown(){var e=this;return(0,V.A)(function*(){e.qr=!1,e.xi(),e.hi&&(e.hi.cancel(),e.hi=null),e.Oi(),e.Ni(),yield e.Ei.runTransaction("shutdown","readwrite",["owner","clientMetadata"],n=>{const r=new HD(n,FA._e);return e.yi(r).next(()=>e.bi(r))}),e.Ei.close(),e.Li()})()}vi(e,n){return e.filter(r=>this.Ci(r.updateTimeMs,n)&&!this.Mi(r.clientId))}Bi(){return this.runTransaction("getActiveClients","readonly",e=>jI(e).W().next(n=>this.vi(n,18e5).map(r=>r.clientId)))}get started(){return this.qr}getMutationQueue(e,n){return UI.lt(e,this.serializer,n,this.referenceDelegate)}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new zde(e,this.serializer.ct.databaseId)}getDocumentOverlayCache(e){return NI.lt(this.serializer,e)}getBundleCache(){return this.$r}runTransaction(e,n,r){Mn("IndexedDbPersistence","Starting transaction:",e);const i="readonly"===n?"readonly":"readwrite",o=15===(l=this.ui)?Kce:14===l?tQ:13===l?eQ:12===l?Wce:11===l?ZV:void Vr();var l;let s;return this.Ei.runTransaction(e,i,o,a=>(s=new HD(a,this.kr?this.kr.next():FA._e),"readwrite-primary"===n?this.gi(s).next(l=>!!l||this.pi(s)).next(l=>{if(!l)throw fl(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.oi.enqueueRetryable(()=>this.Ii(!1)),new Fn(nn.FAILED_PRECONDITION,GV);return r(s)}).next(l=>this.wi(s).next(()=>l)):this.ki(s).next(()=>r(s)))).then(a=>(s.raiseOnCommittedEvent(),a))}ki(e){return q1(e).get("owner").next(n=>{if(null!==n&&this.Ci(n.leaseTimestampMs,5e3)&&!this.Mi(n.ownerId)&&!this.Si(n)&&!(this.ai||this.allowTabSynchronization&&n.allowTabSynchronization))throw new Fn(nn.FAILED_PRECONDITION,vx)})}wi(e){const n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return q1(e).put("owner",n)}static D(){return ch.D()}yi(e){const n=q1(e);return n.get("owner").next(r=>this.Si(r)?(Mn("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):Vt.resolve())}Ci(e,n){const r=Date.now();return!(e<r-n||e>r&&(fl(`Detected an update time that is in the future: ${e} > ${r}`),1))}Ri(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.li=()=>{this.oi.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.Ai()))},this.document.addEventListener("visibilitychange",this.li),this.inForeground="visible"===this.document.visibilityState)}Oi(){this.li&&(this.document.removeEventListener("visibilitychange",this.li),this.li=null)}Vi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ci=()=>{this.xi();const n=/(?:Version|Mobile)\/1[456]/;(0,_e.nr)()&&(navigator.appVersion.match(n)||navigator.userAgent.match(n))&&this.oi.enterRestrictedMode(!0),this.oi.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}Ni(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Mi(e){var n;try{const r=null!==(null===(n=this.di)||void 0===n?void 0:n.getItem(this.Fi(e)));return Mn("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return fl("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}xi(){if(this.di)try{this.di.setItem(this.Fi(this.clientId),String(Date.now()))}catch(e){fl("Failed to set zombie client id.",e)}}Li(){if(this.di)try{this.di.removeItem(this.Fi(this.clientId))}catch{}}Fi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function q1(t){return Du(t,"owner")}function jI(t){return Du(t,"clientMetadata")}function _x(t,e){let n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}class wx{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.qi=r,this.Qi=i}static Ki(e,n){let r=to(),i=to();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new wx(e,n.fromCache,r,i)}}class sAe{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class z8{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=(0,_e.nr)()?8:ch.v((0,_e.ZQ)())>0?6:4}initialize(e,n){this.zi=e,this.indexManager=n,this.$i=!0}getDocumentsMatchingQuery(e,n,r,i){const o={result:null};return this.ji(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.Hi(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;const s=new sAe;return this.Ji(e,n,s).next(a=>{if(o.result=a,this.Ui)return this.Yi(e,n,s,a.size)})}).next(()=>o.result)}Yi(e,n,r,i){return r.documentReadCount<this.Wi?(x0()<=BA.$b.DEBUG&&Mn("QueryEngine","SDK will not create cache indexes for query:",U0(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),Vt.resolve()):(x0()<=BA.$b.DEBUG&&Mn("QueryEngine","Query:",U0(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Gi*i?(x0()<=BA.$b.DEBUG&&Mn("QueryEngine","The SDK decides to create cache indexes for query:",U0(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ud(n))):Vt.resolve())}ji(e,n){if(EQ(n))return Vt.resolve(null);let r=ud(n);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==n.limit&&1===i&&(n=BI(n,null,"F"),r=ud(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const s=to(...o);return this.zi.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.Zi(n,a);return this.Xi(n,u,s,l.readTime)?this.ji(e,BI(n,null,"F")):this.es(e,u,n,l)}))})))}Hi(e,n,r,i){return EQ(n)||i.isEqual(ei.min())?Vt.resolve(null):this.zi.getDocuments(e,r).next(o=>{const s=this.Zi(n,o);return this.Xi(n,s,r,i)?Vt.resolve(null):(x0()<=BA.$b.DEBUG&&Mn("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),U0(n)),this.es(e,s,n,zV(i,-1)).next(a=>a))})}Zi(e,n){let r=new Ms(DQ(e));return n.forEach((i,o)=>{P1(e,o)&&(r=r.add(o))}),r}Xi(e,n,r,i){if(null===e.limit)return!1;if(r.size!==n.size)return!0;const o="F"===e.limitType?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Ji(e,n,r){return x0()<=BA.$b.DEBUG&&Mn("QueryEngine","Using full collection scan to execute query:",U0(n)),this.zi.getDocumentsMatchingQuery(e,n,xA.min(),r)}es(e,n,r,i){return this.zi.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}}class aAe{constructor(e,n,r,i){this.persistence=e,this.ts=n,this.serializer=i,this.ns=new Ys(Mi),this.rs=new Tp(o=>Um(o),k1),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(r)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new H8(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ns))}}function $8(t,e,n,r){return new aAe(t,e,n,r)}function G8(t,e){return Cx.apply(this,arguments)}function Cx(){return Cx=(0,V.A)(function*(t,e){const n=hr(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n._s(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const s=[],a=[];let l=to();for(const u of i){s.push(u.batchId);for(const m of u.mutations)l=l.add(m.key)}for(const u of o){a.push(u.batchId);for(const m of u.mutations)l=l.add(m.key)}return n.localDocuments.getDocuments(r,l).next(u=>({us:u,removedBatchIds:s,addedBatchIds:a}))})})}),Cx.apply(this,arguments)}function W8(t){const e=hr(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Qr.getLastRemoteSnapshotVersion(n))}function K8(t,e,n){let r=to(),i=to();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=zd();return n.forEach((a,l)=>{const u=o.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(ei.min())?(e.removeEntry(a,l.readTime),s=s.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||0===l.version.compareTo(u.version)&&u.hasPendingWrites?(e.addEntry(l),s=s.insert(a,l)):Mn("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{cs:s,ls:i}})}function cAe(t,e){const n=hr(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Y0(t,e){const n=hr(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Qr.getTargetData(r,e).next(o=>o?(i=o,Vt.resolve(i)):n.Qr.allocateTargetId(r).next(s=>(i=new Dp(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.Qr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.ns.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ns=n.ns.insert(r.targetId,r),n.rs.set(e,r.targetId)),r})}function X0(t,e,n){return bx.apply(this,arguments)}function bx(){return bx=(0,V.A)(function*(t,e,n){const r=hr(t),i=r.ns.get(e),o=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!Sg(s))throw s;Mn("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.ns=r.ns.remove(e),r.rs.delete(i.target)}),bx.apply(this,arguments)}function zI(t,e,n){const r=hr(t);let i=ei.min(),o=to();return r.persistence.runTransaction("Execute query","readwrite",s=>function(l,u,m){const I=hr(l),k=I.rs.get(m);return void 0!==k?Vt.resolve(I.ns.get(k)):I.Qr.getTargetData(u,m)}(r,s,ud(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(s,a.targetId).next(l=>{o=l})}).next(()=>r.ts.getDocumentsMatchingQuery(s,e,n?i:ei.min(),n?o:to())).next(a=>(X8(r,BQ(e),a),{documents:a,hs:o})))}function q8(t,e){const n=hr(t),r=hr(n.Qr),i=n.ns.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",o=>r._t(o,e).next(s=>s?s.target:null))}function Y8(t,e){const n=hr(t),r=n.ss.get(e)||ei.min();return n.persistence.runTransaction("Get new document changes","readonly",i=>n.os.getAllFromCollectionGroup(i,e,zV(r,-1),Number.MAX_SAFE_INTEGER)).then(i=>(X8(n,e,i),i))}function X8(t,e,n){let r=t.ss.get(e)||ei.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.ss.set(e,r)}function Ix(){return Ix=(0,V.A)(function*(t,e,n,r){const i=hr(t);let o=to(),s=zd();for(const u of n){const m=e.Ps(u.metadata.name);u.document&&(o=o.add(m));const I=e.Is(u);I.setReadTime(e.Ts(u.metadata.readTime)),s=s.insert(m,I)}const a=i.os.newChangeBuffer({trackRemovals:!0}),l=yield Y0(i,(m=r,ud(L0(xo.fromString(`__bundle__/docs/${m}`)))));var m;return i.persistence.runTransaction("Apply bundle documents","readwrite",u=>K8(u,a,s).next(m=>(a.apply(u),m)).next(m=>i.Qr.removeMatchingKeysForTargetId(u,l.targetId).next(()=>i.Qr.addMatchingKeys(u,o,l.targetId)).next(()=>i.localDocuments.getLocalViewOfDocuments(u,m.cs,m.ls)).next(()=>m.cs)))}),Ix.apply(this,arguments)}function AAe(t,e){return Ex.apply(this,arguments)}function Ex(){return Ex=(0,V.A)(function*(t,e,n=to()){const r=yield Y0(t,ud(ux(e.bundledQuery))),i=hr(t);return i.persistence.runTransaction("Save named query","readwrite",o=>{const s=pl(e.readTime);if(r.snapshotVersion.compareTo(s)>=0)return i.$r.saveNamedQuery(o,e);const a=r.withResumeToken(Xl.EMPTY_BYTE_STRING,s);return i.ns=i.ns.insert(a.targetId,a),i.Qr.updateTargetData(o,a).next(()=>i.Qr.removeMatchingKeysForTargetId(o,r.targetId)).next(()=>i.Qr.addMatchingKeys(o,n,r.targetId)).next(()=>i.$r.saveNamedQuery(o,e))})}),Ex.apply(this,arguments)}function J8(t,e){return`firestore_clients_${t}_${e}`}function Z8(t,e,n){let r=`firestore_mutations_${t}_${n}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function Sx(t,e){return`firestore_targets_${t}_${e}`}class $I{constructor(e,n,r,i){this.user=e,this.batchId=n,this.state=r,this.error=i}static Es(e,n,r){const i=JSON.parse(r);let o,s="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return s&&i.error&&(s="string"==typeof i.error.message&&"string"==typeof i.error.code,s&&(o=new Fn(i.error.code,i.error.message))),s?new $I(e,n,i.state,o):(fl("SharedClientState",`Failed to parse mutation state for ID '${n}': ${r}`),null)}ds(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Y1{constructor(e,n,r){this.targetId=e,this.state=n,this.error=r}static Es(e,n){const r=JSON.parse(n);let i,o="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return o&&r.error&&(o="string"==typeof r.error.message&&"string"==typeof r.error.code,o&&(i=new Fn(r.error.code,r.error.message))),o?new Y1(e,r.state,i):(fl("SharedClientState",`Failed to parse target state for ID '${e}': ${n}`),null)}ds(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class GI{constructor(e,n){this.clientId=e,this.activeTargetIds=n}static Es(e,n){const r=JSON.parse(n);let i="object"==typeof r&&r.activeTargetIds instanceof Array,o=XD();for(let s=0;i&&s<r.activeTargetIds.length;++s)i=qV(r.activeTargetIds[s]),o=o.add(r.activeTargetIds[s]);return i?new GI(e,o):(fl("SharedClientState",`Failed to parse client data for instance '${e}': ${n}`),null)}}class Tx{constructor(e,n){this.clientId=e,this.onlineState=n}static Es(e){const n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new Tx(n.clientId,n.onlineState):(fl("SharedClientState",`Failed to parse online state: ${e}`),null)}}class Bx{constructor(){this.activeTargetIds=XD()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Dx{constructor(e,n,r,i,o){this.window=e,this.oi=n,this.persistenceKey=r,this.Vs=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.fs=this.gs.bind(this),this.ps=new Ys(Mi),this.started=!1,this.ys=[];const s=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=o,this.ws=J8(this.persistenceKey,this.Vs),this.Ss=`firestore_sequence_number_${this.persistenceKey}`,this.ps=this.ps.insert(this.Vs,new Bx),this.bs=new RegExp(`^firestore_clients_${s}_([^_]*)$`),this.Ds=new RegExp(`^firestore_mutations_${s}_(\\d+)(?:_(.*))?$`),this.Cs=new RegExp(`^firestore_targets_${s}_(\\d+)$`),this.vs=`firestore_online_state_${this.persistenceKey}`,this.Fs=function(l){return`firestore_bundle_loaded_v2_${l}`}(this.persistenceKey),this.window.addEventListener("storage",this.fs)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,V.A)(function*(){const n=yield e.syncEngine.Bi();for(const i of n){if(i===e.Vs)continue;const o=e.getItem(J8(e.persistenceKey,i));if(o){const s=GI.Es(i,o);s&&(e.ps=e.ps.insert(s.clientId,s))}}e.Ms();const r=e.storage.getItem(e.vs);if(r){const i=e.xs(r);i&&e.Os(i)}for(const i of e.ys)e.gs(i);e.ys=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.Ss,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Ns(this.ps)}isActiveQueryTarget(e){let n=!1;return this.ps.forEach((r,i)=>{i.activeTargetIds.has(e)&&(n=!0)}),n}addPendingMutation(e){this.Ls(e,"pending")}updateMutationState(e,n,r){this.Ls(e,n,r),this.Bs(e)}addLocalQueryTarget(e){let n="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(Sx(this.persistenceKey,e));if(r){const i=Y1.Es(e,r);i&&(n=i.state)}}return this.ks.As(e),this.Ms(),n}removeLocalQueryTarget(e){this.ks.Rs(e),this.Ms()}isLocalQueryTarget(e){return this.ks.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Sx(this.persistenceKey,e))}updateQueryState(e,n,r){this.qs(e,n,r)}handleUserChange(e,n,r){n.forEach(i=>{this.Bs(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.Qs(e)}notifyBundleLoaded(e){this.Ks(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.fs),this.removeItem(this.ws),this.started=!1)}getItem(e){const n=this.storage.getItem(e);return Mn("SharedClientState","READ",e,n),n}setItem(e,n){Mn("SharedClientState","SET",e,n),this.storage.setItem(e,n)}removeItem(e){Mn("SharedClientState","REMOVE",e),this.storage.removeItem(e)}gs(e){var n=this;const r=e;if(r.storageArea===this.storage){if(Mn("SharedClientState","EVENT",r.key,r.newValue),r.key===this.ws)return void fl("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.oi.enqueueRetryable((0,V.A)(function*(){if(n.started){if(null!==r.key)if(n.bs.test(r.key)){if(null==r.newValue){const i=n.$s(r.key);return n.Us(i,null)}{const i=n.Ws(r.key,r.newValue);if(i)return n.Us(i.clientId,i)}}else if(n.Ds.test(r.key)){if(null!==r.newValue){const i=n.Gs(r.key,r.newValue);if(i)return n.zs(i)}}else if(n.Cs.test(r.key)){if(null!==r.newValue){const i=n.js(r.key,r.newValue);if(i)return n.Hs(i)}}else if(r.key===n.vs){if(null!==r.newValue){const i=n.xs(r.newValue);if(i)return n.Os(i)}}else if(r.key===n.Ss){const i=function(s){let a=FA._e;if(null!=s)try{const l=JSON.parse(s);Xr("number"==typeof l),a=l}catch(l){fl("SharedClientState","Failed to read sequence number from WebStorage",l)}return a}(r.newValue);i!==FA._e&&n.sequenceNumberHandler(i)}else if(r.key===n.Fs){const i=n.Js(r.newValue);yield Promise.all(i.map(o=>n.syncEngine.Ys(o)))}}else n.ys.push(r)}))}}get ks(){return this.ps.get(this.Vs)}Ms(){this.setItem(this.ws,this.ks.ds())}Ls(e,n,r){const i=new $I(this.currentUser,e,n,r),o=Z8(this.persistenceKey,this.currentUser,e);this.setItem(o,i.ds())}Bs(e){const n=Z8(this.persistenceKey,this.currentUser,e);this.removeItem(n)}Qs(e){this.storage.setItem(this.vs,JSON.stringify({clientId:this.Vs,onlineState:e}))}qs(e,n,r){const i=Sx(this.persistenceKey,e),o=new Y1(e,n,r);this.setItem(i,o.ds())}Ks(e){const n=JSON.stringify(Array.from(e));this.setItem(this.Fs,n)}$s(e){const n=this.bs.exec(e);return n?n[1]:null}Ws(e,n){const r=this.$s(e);return GI.Es(r,n)}Gs(e,n){const r=this.Ds.exec(e),i=Number(r[1]);return $I.Es(new Bu(void 0!==r[2]?r[2]:null),i,n)}js(e,n){const r=this.Cs.exec(e),i=Number(r[1]);return Y1.Es(i,n)}xs(e){return Tx.Es(e)}Js(e){return JSON.parse(e)}zs(e){var n=this;return(0,V.A)(function*(){if(e.user.uid===n.currentUser.uid)return n.syncEngine.Zs(e.batchId,e.state,e.error);Mn("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Hs(e){return this.syncEngine.Xs(e.targetId,e.state,e.error)}Us(e,n){const r=n?this.ps.insert(e,n):this.ps.remove(e),i=this.Ns(this.ps),o=this.Ns(r),s=[],a=[];return o.forEach(l=>{i.has(l)||s.push(l)}),i.forEach(l=>{o.has(l)||a.push(l)}),this.syncEngine.eo(s,a).then(()=>{this.ps=r})}Os(e){this.ps.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Ns(e){let n=XD();return e.forEach((r,i)=>{n=n.unionWith(i.activeTargetIds)}),n}}class eH{constructor(){this.no=new Bx,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,n,r){this.ro[e]=n}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new Bx,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class hAe{io(e){}shutdown(){}}class tH{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){Mn("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.uo)e(0)}ao(){Mn("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.uo)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let WI=null;function xx(){return null===WI?WI=268435456+Math.round(2147483648*Math.random()):WI++,"0x"+WI.toString(16)}const fAe={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class pAe{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}onMessage(e){this.Ao=e}close(){this.ho()}send(e){this.lo(e)}Ro(){this.Io()}Vo(e){this.Eo(e)}mo(e){this.Ao(e)}}const Pc="WebChannelConnection";class gAe extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.fo=r+"://"+n.host,this.po=`projects/${i}/databases/${o}`,this.yo="(default)"===this.databaseId.database?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get wo(){return!1}So(n,r,i,o,s){const a=xx(),l=this.bo(n,r.toUriEncodedString());Mn("RestConnection",`Sending RPC '${n}' ${a}:`,l,i);const u={"google-cloud-resource-prefix":this.po,"x-goog-request-params":this.yo};return this.Do(u,o,s),this.Co(n,l,u,i).then(m=>(Mn("RestConnection",`Received RPC '${n}' ${a}: `,m),m),m=>{throw Hd("RestConnection",`RPC '${n}' ${a} failed with error: `,m,"url: ",l,"request:",i),m})}vo(n,r,i,o,s,a){return this.So(n,r,i,o,s)}Do(n,r,i){n["X-Goog-Api-Client"]="gl-js/ fire/"+D0,n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,s)=>n[s]=o),i&&i.headers.forEach((o,s)=>n[s]=o)}bo(n,r){return`${this.fo}/v1/${r}:${fAe[n]}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Co(e,n,r,i){const o=xx();return new Promise((s,a)=>{const l=new hce;l.setWithCredentials(!0),l.listenOnce(dce.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case MD.NO_ERROR:const m=l.getResponseJson();Mn(Pc,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(m)),s(m);break;case MD.TIMEOUT:Mn(Pc,`RPC '${e}' ${o} timed out`),a(new Fn(nn.DEADLINE_EXCEEDED,"Request time out"));break;case MD.HTTP_ERROR:const I=l.getStatus();if(Mn(Pc,`RPC '${e}' ${o} failed with status:`,I,"response text:",l.getResponseText()),I>0){let k=l.getResponseJson();Array.isArray(k)&&(k=k[0]);const U=null==k?void 0:k.error;if(U&&U.status&&U.message){const Y=function(xe){const st=xe.toLowerCase().replace(/_/g,"-");return Object.values(nn).indexOf(st)>=0?st:nn.UNKNOWN}(U.status);a(new Fn(Y,U.message))}else a(new Fn(nn.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new Fn(nn.UNAVAILABLE,"Connection failed."));break;default:Vr()}}finally{Mn(Pc,`RPC '${e}' ${o} completed.`)}});const u=JSON.stringify(i);Mn(Pc,`RPC '${e}' ${o} sending request:`,i),l.send(n,"POST",u,r,15)})}Fo(e,n,r){const i=xx(),o=[this.fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=uce(),a=cce(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;void 0!==u&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Do(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const m=o.join("");Mn(Pc,`Creating RPC '${e}' stream ${i}: ${m}`,l);const I=s.createWebChannel(m,l);let k=!1,U=!1;const Y=new pAe({lo:xe=>{U?Mn(Pc,`Not sending because RPC '${e}' stream ${i} is closed:`,xe):(k||(Mn(Pc,`Opening RPC '${e}' stream ${i} transport.`),I.open(),k=!0),Mn(Pc,`RPC '${e}' stream ${i} sending:`,xe),I.send(xe))},ho:()=>I.close()}),ve=(xe,st,at)=>{xe.listen(st,Lt=>{try{at(Lt)}catch(Yt){setTimeout(()=>{throw Yt},0)}})};return ve(I,mI.EventType.OPEN,()=>{U||Mn(Pc,`RPC '${e}' stream ${i} transport opened.`)}),ve(I,mI.EventType.CLOSE,()=>{U||(U=!0,Mn(Pc,`RPC '${e}' stream ${i} transport closed`),Y.Vo())}),ve(I,mI.EventType.ERROR,xe=>{U||(U=!0,Hd(Pc,`RPC '${e}' stream ${i} transport errored:`,xe),Y.Vo(new Fn(nn.UNAVAILABLE,"The operation could not be completed")))}),ve(I,mI.EventType.MESSAGE,xe=>{var st;if(!U){const at=xe.data[0];Xr(!!at);const Yt=at.error||(null===(st=at[0])||void 0===st?void 0:st.error);if(Yt){Mn(Pc,`RPC '${e}' stream ${i} received error:`,Yt);const kn=Yt.status;let jn=function(ac){const Zf=Nl[ac];if(void 0!==Zf)return WQ(Zf)}(kn),no=Yt.message;void 0===jn&&(jn=nn.INTERNAL,no="Unknown error status: "+kn+" with message "+Yt.message),U=!0,Y.Vo(new Fn(jn,no)),I.close()}else Mn(Pc,`RPC '${e}' stream ${i} received:`,at),Y.mo(at)}}),ve(a,Ace.STAT_EVENT,xe=>{xe.stat===OV.PROXY?Mn(Pc,`RPC '${e}' stream ${i} detected buffering proxy`):xe.stat===OV.NOPROXY&&Mn(Pc,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{Y.Ro()},0),Y}}function nH(){return typeof window<"u"?window:null}function KI(){return typeof document<"u"?document:null}function X1(t){return new Sde(t,!0)}class Fx{constructor(e,n,r=1e3,i=1.5,o=6e4){this.oi=e,this.timerId=n,this.Mo=r,this.xo=i,this.Oo=o,this.No=0,this.Lo=null,this.Bo=Date.now(),this.reset()}reset(){this.No=0}ko(){this.No=this.Oo}qo(e){this.cancel();const n=Math.floor(this.No+this.Qo()),r=Math.max(0,Date.now()-this.Bo),i=Math.max(0,n-r);i>0&&Mn("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.No} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Lo=this.oi.enqueueAfterDelay(this.timerId,i,()=>(this.Bo=Date.now(),e())),this.No*=this.xo,this.No<this.Mo&&(this.No=this.Mo),this.No>this.Oo&&(this.No=this.Oo)}Ko(){null!==this.Lo&&(this.Lo.skipDelay(),this.Lo=null)}cancel(){null!==this.Lo&&(this.Lo.cancel(),this.Lo=null)}Qo(){return(Math.random()-.5)*this.No}}class rH{constructor(e,n,r,i,o,s,a,l){this.oi=e,this.$o=r,this.Uo=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Wo=0,this.Go=null,this.zo=null,this.stream=null,this.jo=new Fx(e,n)}Ho(){return 1===this.state||5===this.state||this.Jo()}Jo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Yo()}stop(){var e=this;return(0,V.A)(function*(){e.Ho()&&(yield e.close(0))})()}Zo(){this.state=0,this.jo.reset()}Xo(){this.Jo()&&null===this.Go&&(this.Go=this.oi.enqueueAfterDelay(this.$o,6e4,()=>this.e_()))}t_(e){this.n_(),this.stream.send(e)}e_(){var e=this;return(0,V.A)(function*(){if(e.Jo())return e.close(0)})()}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}r_(){this.zo&&(this.zo.cancel(),this.zo=null)}close(e,n){var r=this;return(0,V.A)(function*(){r.n_(),r.r_(),r.jo.cancel(),r.Wo++,4!==e?r.jo.reset():n&&n.code===nn.RESOURCE_EXHAUSTED?(fl(n.toString()),fl("Using maximum backoff delay to prevent overloading the backend."),r.jo.ko()):n&&n.code===nn.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.i_(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.To(n)})()}i_(){}auth(){this.state=1;const e=this.s_(this.Wo),n=this.Wo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Wo===n&&this.o_(r,i)},r=>{e(()=>{const i=new Fn(nn.UNKNOWN,"Fetching auth token failed: "+r.message);return this.__(i)})})}o_(e,n){const r=this.s_(this.Wo);this.stream=this.a_(e,n),this.stream.Po(()=>{r(()=>(this.state=2,this.zo=this.oi.enqueueAfterDelay(this.Uo,1e4,()=>(this.Jo()&&(this.state=3),Promise.resolve())),this.listener.Po()))}),this.stream.To(i=>{r(()=>this.__(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Yo(){var e=this;this.state=5,this.jo.qo((0,V.A)(function*(){e.state=0,e.start()}))}__(e){return Mn("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}s_(e){return n=>{this.oi.enqueueAndForget(()=>this.Wo===e?n():(Mn("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class mAe extends rH{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}a_(e,n){return this.connection.Fo("Listen",e,n)}onMessage(e){this.jo.reset();const n=function Dde(t,e){let n;if("targetChange"in e){const r="NO_CHANGE"===(u=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===u?1:"REMOVE"===u?2:"CURRENT"===u?3:"RESET"===u?4:Vr(),i=e.targetChange.targetIds||[],o=function(u,m){return u.useProto3Json?(Xr(void 0===m||"string"==typeof m),Xl.fromBase64String(m||"")):(Xr(void 0===m||m instanceof Uint8Array),Xl.fromUint8Array(m||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(u){const m=void 0===u.code?nn.UNKNOWN:WQ(u.code);return new Fn(m,u.message||"")}(s);n=new JQ(r,i,o,a||null)}else if("documentChange"in e){const r=e.documentChange,i=jf(t,r.document.name),o=pl(r.document.updateTime),s=r.document.createTime?pl(r.document.createTime):ei.min(),a=new rc({mapValue:{fields:r.document.fields}}),l=ca.newFoundDocument(i,o,s,a);n=new RI(r.targetIds||[],r.removedTargetIds||[],l.key,l)}else if("documentDelete"in e){const r=e.documentDelete,i=jf(t,r.document),o=r.readTime?pl(r.readTime):ei.min(),s=ca.newNoDocument(i,o);n=new RI([],r.removedTargetIds||[],s.key,s)}else if("documentRemove"in e){const r=e.documentRemove,i=jf(t,r.document);n=new RI([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return Vr();{const r=e.filter,{count:i=0,unchangedNames:o}=r,s=new _de(i,o);n=new XQ(r.targetId,s)}}var u;return n}(this.serializer,e),r=function(o){if(!("targetChange"in o))return ei.min();const s=o.targetChange;return s.targetIds&&s.targetIds.length?ei.min():s.readTime?pl(s.readTime):ei.min()}(e);return this.listener.u_(n,r)}c_(e){const n={};n.database=sx(this.serializer),n.addTarget=function(o,s){let a;const l=s.target;if(a=SI(l)?{documents:u8(o,l)}:{query:lx(o,l).ut},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=n8(o,s.resumeToken);const u=rx(o,s.expectedCount);null!==u&&(a.expectedCount=u)}else if(s.snapshotVersion.compareTo(ei.min())>0){a.readTime=z0(o,s.snapshotVersion.toTimestamp());const u=rx(o,s.expectedCount);null!==u&&(a.expectedCount=u)}return a}(this.serializer,e);const r=function Fde(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Vr()}}(e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);r&&(n.labels=r),this.t_(n)}l_(e){const n={};n.database=sx(this.serializer),n.removeTarget=e,this.t_(n)}}class vAe extends rH{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o,this.h_=!1}get P_(){return this.h_}start(){this.h_=!1,this.lastStreamToken=void 0,super.start()}i_(){this.h_&&this.I_([])}a_(e,n){return this.connection.Fo("Write",e,n)}onMessage(e){if(Xr(!!e.streamToken),this.lastStreamToken=e.streamToken,this.h_){this.jo.reset();const n=function xde(t,e){return t&&t.length>0?(Xr(void 0!==e),t.map(n=>function(i,o){let s=pl(i.updateTime?i.updateTime:o);return s.isEqual(ei.min())&&(s=pl(o)),new gde(s,i.transformResults||[])}(n,e))):[]}(e.writeResults,e.commitTime),r=pl(e.commitTime);return this.listener.T_(r,n)}return Xr(!e.writeResults||0===e.writeResults.length),this.h_=!0,this.listener.E_()}d_(){const e={};e.database=sx(this.serializer),this.t_(e)}I_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>j1(this.serializer,r))};this.t_(n)}}class yAe extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.A_=!1}R_(){if(this.A_)throw new Fn(nn.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,n,r,i){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.So(e,ox(n,r),i,o,s)).catch(o=>{throw"FirebaseError"===o.name?(o.code===nn.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Fn(nn.UNKNOWN,o.toString())})}vo(e,n,r,i,o){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.vo(e,ox(n,r),i,s,a,o)).catch(s=>{throw"FirebaseError"===s.name?(s.code===nn.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Fn(nn.UNKNOWN,s.toString())})}terminate(){this.A_=!0,this.connection.terminate()}}function kx(){return kx=(0,V.A)(function*(t,e,n){var r;const i=hr(t),{request:o,V_:s,parent:a}=function(I,k,U){const{ut:Y,parent:ve}=lx(I,k),xe={},st=[];let at=0;return U.forEach(Lt=>{const Yt="aggregate_"+at++;xe[Yt]=Lt.alias,"count"===Lt.aggregateType?st.push({alias:Yt,count:{}}):"avg"===Lt.aggregateType?st.push({alias:Yt,avg:{field:Pg(Lt.fieldPath)}}):"sum"===Lt.aggregateType&&st.push({alias:Yt,sum:{field:Pg(Lt.fieldPath)}})}),{request:{structuredAggregationQuery:{aggregations:st,structuredQuery:Y.structuredQuery},parent:Y.parent},V_:xe,parent:ve}}(i.serializer,function(I){const k=hr(I);return k.Pe||(k.Pe=SQ(k,I.explicitOrderBy)),k.Pe}(e),n);i.connection.wo||delete o.parent;const l=(yield i.vo("RunAggregationQuery",i.serializer.databaseId,a,o,1)).filter(m=>!!m.result);Xr(1===l.length);const u=null===(r=l[0].result)||void 0===r?void 0:r.aggregateFields;return Object.keys(u).reduce((m,I)=>(m[s[I]]=u[I],m),{})}),kx.apply(this,arguments)}class wAe{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.m_=0,this.f_=null,this.g_=!0}p_(){0===this.m_&&(this.y_("Unknown"),this.f_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.f_=null,this.w_("Backend didn't respond within 10 seconds."),this.y_("Offline"),Promise.resolve())))}S_(e){"Online"===this.state?this.y_("Unknown"):(this.m_++,this.m_>=1&&(this.b_(),this.w_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.y_("Offline")))}set(e){this.b_(),this.m_=0,"Online"===e&&(this.g_=!1),this.y_(e)}y_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}w_(e){const n=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.g_?(fl(n),this.g_=!1):Mn("OnlineStateTracker",n)}b_(){null!==this.f_&&(this.f_.cancel(),this.f_=null)}}class CAe{constructor(e,n,r,i,o){var s=this;this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.D_=[],this.C_=new Map,this.v_=new Set,this.F_=[],this.M_=o,this.M_.io(a=>{r.enqueueAndForget((0,V.A)(function*(){var l;Og(s)&&(Mn("RemoteStore","Restarting streams for network reachability change."),yield(l=(0,V.A)(function*(m){const I=hr(m);I.v_.add(4),yield J0(I),I.x_.set("Unknown"),I.v_.delete(4),yield J1(I)}),function u(m){return l.apply(this,arguments)})(s))}))}),this.x_=new wAe(r,i)}}function J1(t){return Rx.apply(this,arguments)}function Rx(){return Rx=(0,V.A)(function*(t){if(Og(t))for(const e of t.F_)yield e(!0)}),Rx.apply(this,arguments)}function J0(t){return Px.apply(this,arguments)}function Px(){return Px=(0,V.A)(function*(t){for(const e of t.F_)yield e(!1)}),Px.apply(this,arguments)}function qI(t,e){const n=hr(t);n.C_.has(e.targetId)||(n.C_.set(e.targetId,e),Lx(n)?Mx(n):ty(n).Jo()&&Nx(n,e))}function Z0(t,e){const n=hr(t),r=ty(n);n.C_.delete(e),r.Jo()&&iH(n,e),0===n.C_.size&&(r.Jo()?r.Xo():Og(n)&&n.x_.set("Unknown"))}function Nx(t,e){if(t.O_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ei.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ty(t).c_(e)}function iH(t,e){t.O_.Oe(e),ty(t).l_(e)}function Mx(t){t.O_=new Cde({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>t.C_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),ty(t).start(),t.x_.p_()}function Lx(t){return Og(t)&&!ty(t).Ho()&&t.C_.size>0}function Og(t){return 0===hr(t).v_.size}function oH(t){t.O_=void 0}function bAe(t){return Ox.apply(this,arguments)}function Ox(){return Ox=(0,V.A)(function*(t){t.C_.forEach((e,n)=>{Nx(t,e)})}),Ox.apply(this,arguments)}function IAe(t,e){return Ux.apply(this,arguments)}function Ux(){return Ux=(0,V.A)(function*(t,e){oH(t),Lx(t)?(t.x_.S_(e),Mx(t)):t.x_.set("Unknown")}),Ux.apply(this,arguments)}function EAe(t,e,n){return Vx.apply(this,arguments)}function Vx(){return Vx=(0,V.A)(function*(t,e,n){if(t.x_.set("Online"),e instanceof JQ&&2===e.state&&e.cause)try{yield(r=(0,V.A)(function*(o,s){const a=s.cause;for(const l of s.targetIds)o.C_.has(l)&&(yield o.remoteSyncer.rejectListen(l,a),o.C_.delete(l),o.O_.removeTarget(l))}),function i(o,s){return r.apply(this,arguments)})(t,e)}catch(r){Mn("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield YI(t,r)}else if(e instanceof RI?t.O_.$e(e):e instanceof XQ?t.O_.Je(e):t.O_.Ge(e),!n.isEqual(ei.min()))try{const r=yield W8(t.localStore);n.compareTo(r)>=0&&(yield function(o,s){const a=o.O_.it(s);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const m=o.C_.get(u);m&&o.C_.set(u,m.withResumeToken(l.resumeToken,s))}}),a.targetMismatches.forEach((l,u)=>{const m=o.C_.get(l);if(!m)return;o.C_.set(l,m.withResumeToken(Xl.EMPTY_BYTE_STRING,m.snapshotVersion)),iH(o,l);const I=new Dp(m.target,l,u,m.sequenceNumber);Nx(o,I)}),o.remoteSyncer.applyRemoteEvent(a)}(t,n))}catch(r){Mn("RemoteStore","Failed to raise snapshot:",r),yield YI(t,r)}var r}),Vx.apply(this,arguments)}function YI(t,e,n){return Qx.apply(this,arguments)}function Qx(){return Qx=(0,V.A)(function*(t,e,n){if(!Sg(e))throw e;t.v_.add(1),yield J0(t),t.x_.set("Offline"),n||(n=()=>W8(t.localStore)),t.asyncQueue.enqueueRetryable((0,V.A)(function*(){Mn("RemoteStore","Retrying IndexedDB access"),yield n(),t.v_.delete(1),yield J1(t)}))}),Qx.apply(this,arguments)}function sH(t,e){return e().catch(n=>YI(t,n,e))}function ey(t){return Hx.apply(this,arguments)}function Hx(){return Hx=(0,V.A)(function*(t){const e=hr(t),n=Ug(e);let r=e.D_.length>0?e.D_[e.D_.length-1].batchId:-1;for(;SAe(e);)try{const i=yield cAe(e.localStore,r);if(null===i){0===e.D_.length&&n.Xo();break}r=i.batchId,TAe(e,i)}catch(i){yield YI(e,i)}aH(e)&&lH(e)}),Hx.apply(this,arguments)}function SAe(t){return Og(t)&&t.D_.length<10}function TAe(t,e){t.D_.push(e);const n=Ug(t);n.Jo()&&n.P_&&n.I_(e.mutations)}function aH(t){return Og(t)&&!Ug(t).Ho()&&t.D_.length>0}function lH(t){Ug(t).start()}function BAe(t){return jx.apply(this,arguments)}function jx(){return jx=(0,V.A)(function*(t){Ug(t).d_()}),jx.apply(this,arguments)}function DAe(t){return zx.apply(this,arguments)}function zx(){return zx=(0,V.A)(function*(t){const e=Ug(t);for(const n of t.D_)e.I_(n.mutations)}),zx.apply(this,arguments)}function xAe(t,e,n){return $x.apply(this,arguments)}function $x(){return $x=(0,V.A)(function*(t,e,n){const r=t.D_.shift(),i=ex.from(r,e,n);yield sH(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield ey(t)}),$x.apply(this,arguments)}function FAe(t,e){return Gx.apply(this,arguments)}function Gx(){return Gx=(0,V.A)(function*(t,e){var n;e&&Ug(t).P_&&(yield(n=(0,V.A)(function*(i,o){if(GQ(a=o.code)&&a!==nn.ABORTED){const s=i.D_.shift();Ug(i).Zo(),yield sH(i,()=>i.remoteSyncer.rejectFailedWrite(s.batchId,o)),yield ey(i)}var a}),function r(i,o){return n.apply(this,arguments)})(t,e)),aH(t)&&lH(t)}),Gx.apply(this,arguments)}function uH(t,e){return Wx.apply(this,arguments)}function Wx(){return Wx=(0,V.A)(function*(t,e){const n=hr(t);n.asyncQueue.verifyOperationInProgress(),Mn("RemoteStore","RemoteStore received new credentials");const r=Og(n);n.v_.add(3),yield J0(n),r&&n.x_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.v_.delete(3),yield J1(n)}),Wx.apply(this,arguments)}function Kx(t,e){return qx.apply(this,arguments)}function qx(){return qx=(0,V.A)(function*(t,e){const n=hr(t);e?(n.v_.delete(2),yield J1(n)):e||(n.v_.add(2),yield J0(n),n.x_.set("Unknown"))}),qx.apply(this,arguments)}function ty(t){return t.N_||(t.N_=function(n,r,i){const o=hr(n);return o.R_(),new mAe(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Po:bAe.bind(null,t),To:IAe.bind(null,t),u_:EAe.bind(null,t)}),t.F_.push(function(){var e=(0,V.A)(function*(n){n?(t.N_.Zo(),Lx(t)?Mx(t):t.x_.set("Unknown")):(yield t.N_.stop(),oH(t))});return function(n){return e.apply(this,arguments)}}())),t.N_}function Ug(t){return t.L_||(t.L_=function(n,r,i){const o=hr(n);return o.R_(),new vAe(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Po:BAe.bind(null,t),To:FAe.bind(null,t),E_:DAe.bind(null,t),T_:xAe.bind(null,t)}),t.F_.push(function(){var e=(0,V.A)(function*(n){n?(t.L_.Zo(),yield ey(t)):(yield t.L_.stop(),t.D_.length>0&&(Mn("RemoteStore",`Stopping write stream with ${t.D_.length} pending writes`),t.D_=[]))});return function(n){return e.apply(this,arguments)}}())),t.L_}class Yx{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Yl,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){const s=Date.now()+r,a=new Yx(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Fn(nn.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ny(t,e){if(fl("AsyncQueue",`${e}: ${t}`),Sg(t))return new Fn(nn.UNAVAILABLE,`${e}: ${t}`);throw t}class ry{constructor(e){this.comparator=e?(n,r)=>e(n,r)||Cr.comparator(n.key,r.key):(n,r)=>Cr.comparator(n.key,r.key),this.keyedMap=N1(),this.sortedSet=new Ys(this.comparator)}static emptySet(e){return new ry(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof ry)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,n){const r=new ry;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class cH{constructor(){this.B_=new Ys(Cr.comparator)}track(e){const n=e.doc.key,r=this.B_.get(n);r?0!==e.type&&3===r.type?this.B_=this.B_.insert(n,e):3===e.type&&1!==r.type?this.B_=this.B_.insert(n,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.B_=this.B_.insert(n,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.B_=this.B_.remove(n):1===e.type&&2===r.type?this.B_=this.B_.insert(n,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):Vr():this.B_=this.B_.insert(n,e)}k_(){const e=[];return this.B_.inorderTraversal((n,r)=>{e.push(r)}),e}}class iy{constructor(e,n,r,i,o,s,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,o){const s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new iy(e,n,ry.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&R1(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}class kAe{constructor(){this.q_=void 0,this.Q_=[]}K_(){return this.Q_.some(e=>e.U_())}}class RAe{constructor(){this.queries=new Tp(e=>TQ(e),R1),this.onlineState="Unknown",this.W_=new Set}}function Xx(t,e){return Jx.apply(this,arguments)}function Jx(){return Jx=(0,V.A)(function*(t,e){const n=hr(t);let r=3;const i=e.query;let o=n.queries.get(i);o?!o.K_()&&e.U_()&&(r=2):(o=new kAe,r=e.U_()?0:1);try{switch(r){case 0:o.q_=yield n.onListen(i,!0);break;case 1:o.q_=yield n.onListen(i,!1);break;case 2:yield n.onFirstRemoteStoreListen(i)}}catch(s){const a=ny(s,`Initialization of query '${U0(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,o),o.Q_.push(e),e.G_(n.onlineState),o.q_&&e.z_(o.q_)&&t5(n)}),Jx.apply(this,arguments)}function Zx(t,e){return e5.apply(this,arguments)}function e5(){return e5=(0,V.A)(function*(t,e){const n=hr(t),r=e.query;let i=3;const o=n.queries.get(r);if(o){const s=o.Q_.indexOf(e);s>=0&&(o.Q_.splice(s,1),0===o.Q_.length?i=e.U_()?0:1:!o.K_()&&e.U_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}),e5.apply(this,arguments)}function PAe(t,e){const n=hr(t);let r=!1;for(const i of e){const s=n.queries.get(i.query);if(s){for(const a of s.Q_)a.z_(i)&&(r=!0);s.q_=i}}r&&t5(n)}function NAe(t,e,n){const r=hr(t),i=r.queries.get(e);if(i)for(const o of i.Q_)o.onError(n);r.queries.delete(e)}function t5(t){t.W_.forEach(e=>{e.next()})}var n5,dH;(dH=n5||(n5={})).j_="default",dH.Cache="cache";class r5{constructor(e,n,r){this.query=e,this.H_=n,this.J_=!1,this.Y_=null,this.onlineState="Unknown",this.options=r||{}}z_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new iy(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.J_?this.Z_(e)&&(this.H_.next(e),n=!0):this.X_(e,this.onlineState)&&(this.ea(e),n=!0),this.Y_=e,n}onError(e){this.H_.error(e)}G_(e){this.onlineState=e;let n=!1;return this.Y_&&!this.J_&&this.X_(this.Y_,e)&&(this.ea(this.Y_),n=!0),n}X_(e,n){return!e.fromCache||!this.U_()||(!this.options.ta||!("Offline"!==n))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===n)}Z_(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Y_&&this.Y_.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}ea(e){e=iy.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.J_=!0,this.H_.next(e)}U_(){return this.options.source!==n5.Cache}}class MAe{constructor(e,n){this.na=e,this.byteLength=n}ra(){return"metadata"in this.na}}class AH{constructor(e){this.serializer=e}Ps(e){return jf(this.serializer,e)}Is(e){return e.metadata.exists?l8(this.serializer,e.document,!1):ca.newNoDocument(this.Ps(e.metadata.name),this.Ts(e.metadata.readTime))}Ts(e){return pl(e)}}class LAe{constructor(e,n,r){this.ia=e,this.localStore=n,this.serializer=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=hH(e)}sa(e){this.progress.bytesLoaded+=e.byteLength;let n=this.progress.documentsLoaded;if(e.na.namedQuery)this.queries.push(e.na.namedQuery);else if(e.na.documentMetadata){this.documents.push({metadata:e.na.documentMetadata}),e.na.documentMetadata.exists||++n;const r=xo.fromString(e.na.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.na.document&&(this.documents[this.documents.length-1].document=e.na.document,++n);return n!==this.progress.documentsLoaded?(this.progress.documentsLoaded=n,Object.assign({},this.progress)):null}oa(e){const n=new Map,r=new AH(this.serializer);for(const i of e)if(i.metadata.queries){const o=r.Ps(i.metadata.name);for(const s of i.metadata.queries){const a=(n.get(s)||to()).add(o);n.set(s,a)}}return n}complete(){var e=this;return(0,V.A)(function*(){const n=yield function dAe(t,e,n,r){return Ix.apply(this,arguments)}(e.localStore,new AH(e.serializer),e.documents,e.ia.id),r=e.oa(e.documents);for(const i of e.queries)yield AAe(e.localStore,i,r.get(i.name));return e.progress.taskState="Success",{progress:e.progress,_a:e.collectionGroups,aa:n}})()}}function hH(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}class fH{constructor(e){this.key=e}}class pH{constructor(e){this.key=e}}class gH{constructor(e,n){this.query=e,this.ua=n,this.ca=null,this.hasCachedResults=!1,this.current=!1,this.la=to(),this.mutatedKeys=to(),this.ha=DQ(e),this.Pa=new ry(this.ha)}get Ia(){return this.ua}Ta(e,n){const r=n?n.Ea:new cH,i=n?n.Pa:this.Pa;let o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1;const l="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,u="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((m,I)=>{const k=i.get(m),U=P1(this.query,I)?I:null,Y=!!k&&this.mutatedKeys.has(k.key),ve=!!U&&(U.hasLocalMutations||this.mutatedKeys.has(U.key)&&U.hasCommittedMutations);let xe=!1;k&&U?k.data.isEqual(U.data)?Y!==ve&&(r.track({type:3,doc:U}),xe=!0):this.da(k,U)||(r.track({type:2,doc:U}),xe=!0,(l&&this.ha(U,l)>0||u&&this.ha(U,u)<0)&&(a=!0)):!k&&U?(r.track({type:0,doc:U}),xe=!0):k&&!U&&(r.track({type:1,doc:k}),xe=!0,(l||u)&&(a=!0)),xe&&(U?(s=s.add(U),o=ve?o.add(m):o.delete(m)):(s=s.delete(m),o=o.delete(m)))}),null!==this.query.limit)for(;s.size>this.query.limit;){const m="F"===this.query.limitType?s.last():s.first();s=s.delete(m.key),o=o.delete(m.key),r.track({type:1,doc:m})}return{Pa:s,Ea:r,Xi:a,mutatedKeys:o}}da(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const o=this.Pa;this.Pa=e.Pa,this.mutatedKeys=e.mutatedKeys;const s=e.Ea.k_();s.sort((m,I)=>function(U,Y){const ve=xe=>{switch(xe){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Vr()}};return ve(U)-ve(Y)}(m.type,I.type)||this.ha(m.doc,I.doc)),this.Aa(r),i=null!=i&&i;const a=n&&!i?this.Ra():[],l=0===this.la.size&&this.current&&!i?1:0,u=l!==this.ca;return this.ca=l,0!==s.length||u?{snapshot:new iy(this.query,e.Pa,o,s,e.mutatedKeys,0===l,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),Va:a}:{Va:a}}G_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Pa:this.Pa,Ea:new cH,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{Va:[]}}ma(e){return!this.ua.has(e)&&!!this.Pa.has(e)&&!this.Pa.get(e).hasLocalMutations}Aa(e){e&&(e.addedDocuments.forEach(n=>this.ua=this.ua.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.ua=this.ua.delete(n)),this.current=e.current)}Ra(){if(!this.current)return[];const e=this.la;this.la=to(),this.Pa.forEach(r=>{this.ma(r.key)&&(this.la=this.la.add(r.key))});const n=[];return e.forEach(r=>{this.la.has(r)||n.push(new pH(r))}),this.la.forEach(r=>{e.has(r)||n.push(new fH(r))}),n}fa(e){this.ua=e.hs,this.la=to();const n=this.Ta(e.documents);return this.applyChanges(n,!0)}ga(){return iy.fromInitialDocuments(this.query,this.Pa,this.mutatedKeys,0===this.ca,this.hasCachedResults)}}class OAe{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class UAe{constructor(e){this.key=e,this.pa=!1}}class VAe{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.ya={},this.wa=new Tp(a=>TQ(a),R1),this.Sa=new Map,this.ba=new Set,this.Da=new Ys(Cr.comparator),this.Ca=new Map,this.va=new gx,this.Fa={},this.Ma=new Map,this.xa=Wm.Ln(),this.onlineState="Unknown",this.Oa=void 0}get isPrimaryClient(){return!0===this.Oa}}function QAe(t,e){return i5.apply(this,arguments)}function i5(){return i5=(0,V.A)(function*(t,e,n=!0){const r=XI(t);let i;const o=r.wa.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.ga()):i=yield mH(r,e,n,!0),i}),i5.apply(this,arguments)}function HAe(t,e){return o5.apply(this,arguments)}function o5(){return o5=(0,V.A)(function*(t,e){const n=XI(t);yield mH(n,e,!0,!1)}),o5.apply(this,arguments)}function mH(t,e,n,r){return s5.apply(this,arguments)}function s5(){return s5=(0,V.A)(function*(t,e,n,r){const i=yield Y0(t.localStore,ud(e)),o=i.targetId,s=n?t.sharedClientState.addLocalQueryTarget(o):"not-current";let a;return r&&(a=yield a5(t,e,o,"current"===s,i.resumeToken)),t.isPrimaryClient&&n&&qI(t.remoteStore,i),a}),s5.apply(this,arguments)}function a5(t,e,n,r,i){return l5.apply(this,arguments)}function l5(){return l5=(0,V.A)(function*(t,e,n,r,i){t.Na=(I,k,U)=>{return(Y=(0,V.A)(function*(xe,st,at,Lt){let Yt=st.view.Ta(at);Yt.Xi&&(Yt=yield zI(xe.localStore,st.query,!1).then(({documents:Co})=>st.view.Ta(Co,Yt)));const kn=Lt&&Lt.targetChanges.get(st.targetId),jn=Lt&&null!=Lt.targetMismatches.get(st.targetId),no=st.view.applyChanges(Yt,xe.isPrimaryClient,kn,jn);return y5(xe,st.targetId,no.Va),no.snapshot}),function ve(xe,st,at,Lt){return Y.apply(this,arguments)})(t,I,k,U);var Y};const o=yield zI(t.localStore,e,!0),s=new gH(e,o.hs),a=s.Ta(o.documents),l=Q1.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState,i),u=s.applyChanges(a,t.isPrimaryClient,l);y5(t,n,u.Va);const m=new OAe(e,n,s);return t.wa.set(e,m),t.Sa.has(n)?t.Sa.get(n).push(e):t.Sa.set(n,[e]),u.snapshot}),l5.apply(this,arguments)}function jAe(t,e,n){return u5.apply(this,arguments)}function u5(){return u5=(0,V.A)(function*(t,e,n){const r=hr(t),i=r.wa.get(e),o=r.Sa.get(i.targetId);if(o.length>1)return r.Sa.set(i.targetId,o.filter(s=>!R1(s,e))),void r.wa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield X0(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Z0(r.remoteStore,i.targetId),oy(r,i.targetId)}).catch(Eg))):(oy(r,i.targetId),yield X0(r.localStore,i.targetId,!0))}),u5.apply(this,arguments)}function zAe(t,e){return c5.apply(this,arguments)}function c5(){return c5=(0,V.A)(function*(t,e){const n=hr(t),r=n.wa.get(e),i=n.Sa.get(r.targetId);n.isPrimaryClient&&1===i.length&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Z0(n.remoteStore,r.targetId))}),c5.apply(this,arguments)}function d5(){return d5=(0,V.A)(function*(t,e,n){const r=x5(t);try{const i=yield function(s,a){const l=hr(s),u=Ca.now(),m=a.reduce((U,Y)=>U.add(Y.key),to());let I,k;return l.persistence.runTransaction("Locally write mutations","readwrite",U=>{let Y=zd(),ve=to();return l.os.getEntries(U,m).next(xe=>{Y=xe,Y.forEach((st,at)=>{at.isValidDocument()||(ve=ve.add(st))})}).next(()=>l.localDocuments.getOverlayedDocuments(U,Y)).next(xe=>{I=xe;const st=[];for(const at of a){const Lt=vde(at,I.get(at.key).overlayedDocument);null!=Lt&&st.push(new Bp(at.key,Lt,AQ(Lt.value.mapValue),ba.exists(!0)))}return l.mutationQueue.addMutationBatch(U,u,st,a)}).next(xe=>{k=xe;const st=xe.applyToLocalDocumentSet(I,ve);return l.documentOverlayCache.saveOverlays(U,xe.batchId,st)})}).then(()=>({batchId:k.batchId,changes:FQ(I)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,l){let u=s.Fa[s.currentUser.toKey()];u||(u=new Ys(Mi)),u=u.insert(a,l),s.Fa[s.currentUser.toKey()]=u}(r,i.batchId,n),yield xp(r,i.changes),yield ey(r.remoteStore)}catch(i){const o=ny(i,"Failed to persist write");n.reject(o)}}),d5.apply(this,arguments)}function vH(t,e){return A5.apply(this,arguments)}function A5(){return A5=(0,V.A)(function*(t,e){const n=hr(t);try{const r=yield function uAe(t,e){const n=hr(t),r=e.snapshotVersion;let i=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=n.os.newChangeBuffer({trackRemovals:!0});i=n.ns;const a=[];e.targetChanges.forEach((m,I)=>{const k=i.get(I);if(!k)return;a.push(n.Qr.removeMatchingKeys(o,m.removedDocuments,I).next(()=>n.Qr.addMatchingKeys(o,m.addedDocuments,I)));let U=k.withSequenceNumber(o.currentSequenceNumber);var ve,xe,st;null!==e.targetMismatches.get(I)?U=U.withResumeToken(Xl.EMPTY_BYTE_STRING,ei.min()).withLastLimboFreeSnapshotVersion(ei.min()):m.resumeToken.approximateByteSize()>0&&(U=U.withResumeToken(m.resumeToken,r)),i=i.insert(I,U),xe=U,st=m,(0===(ve=k).resumeToken.approximateByteSize()||xe.snapshotVersion.toMicroseconds()-ve.snapshotVersion.toMicroseconds()>=3e8||st.addedDocuments.size+st.modifiedDocuments.size+st.removedDocuments.size>0)&&a.push(n.Qr.updateTargetData(o,U))});let l=zd(),u=to();if(e.documentUpdates.forEach(m=>{e.resolvedLimboDocuments.has(m)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,m))}),a.push(K8(o,s,e.documentUpdates).next(m=>{l=m.cs,u=m.ls})),!r.isEqual(ei.min())){const m=n.Qr.getLastRemoteSnapshotVersion(o).next(I=>n.Qr.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(m)}return Vt.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,l,u)).next(()=>l)}).then(o=>(n.ns=i,o))}(n.localStore,e);e.targetChanges.forEach((i,o)=>{const s=n.Ca.get(o);s&&(Xr(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.pa=!0:i.modifiedDocuments.size>0?Xr(s.pa):i.removedDocuments.size>0&&(Xr(s.pa),s.pa=!1))}),yield xp(n,r,e)}catch(r){yield Eg(r)}}),A5.apply(this,arguments)}function yH(t,e,n){const r=hr(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const i=[];r.wa.forEach((o,s)=>{const a=s.view.G_(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){const l=hr(s);l.onlineState=a;let u=!1;l.queries.forEach((m,I)=>{for(const k of I.Q_)k.G_(a)&&(u=!0)}),u&&t5(l)}(r.eventManager,e),i.length&&r.ya.u_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function GAe(t,e,n){return h5.apply(this,arguments)}function h5(){return h5=(0,V.A)(function*(t,e,n){const r=hr(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Ca.get(e),o=i&&i.key;if(o){let s=new Ys(Cr.comparator);s=s.insert(o,ca.newNoDocument(o,ei.min()));const a=to().add(o),l=new V1(ei.min(),new Map,new Ys(Mi),s,a);yield vH(r,l),r.Da=r.Da.remove(o),r.Ca.delete(e),_5(r)}else yield X0(r.localStore,e,!1).then(()=>oy(r,e,n)).catch(Eg)}),h5.apply(this,arguments)}function WAe(t,e){return f5.apply(this,arguments)}function f5(){return f5=(0,V.A)(function*(t,e){const n=hr(t),r=e.batch.batchId;try{const i=yield function lAe(t,e){const n=hr(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=n.os.newChangeBuffer({trackRemovals:!0});return function(a,l,u,m){const I=u.batch,k=I.keys();let U=Vt.resolve();return k.forEach(Y=>{U=U.next(()=>m.getEntry(l,Y)).next(ve=>{const xe=u.docVersions.get(Y);Xr(null!==xe),ve.version.compareTo(xe)<0&&(I.applyToRemoteDocument(ve,u),ve.isValidDocument()&&(ve.setReadTime(u.commitVersion),m.addEntry(ve)))})}),U.next(()=>a.mutationQueue.removeMutationBatch(l,I))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=to();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}(n.localStore,e);v5(n,r,null),m5(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield xp(n,i)}catch(i){yield Eg(i)}}),f5.apply(this,arguments)}function KAe(t,e,n){return p5.apply(this,arguments)}function p5(){return p5=(0,V.A)(function*(t,e,n){const r=hr(t);try{const i=yield function(s,a){const l=hr(s);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let m;return l.mutationQueue.lookupMutationBatch(u,a).next(I=>(Xr(null!==I),m=I.keys(),l.mutationQueue.removeMutationBatch(u,I))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,m,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,m)).next(()=>l.localDocuments.getDocuments(u,m))})}(r.localStore,e);v5(r,e,n),m5(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield xp(r,i)}catch(i){yield Eg(i)}}),p5.apply(this,arguments)}function g5(){return g5=(0,V.A)(function*(t,e){const n=hr(t);Og(n.remoteStore)||Mn("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(s){const a=hr(s);return a.persistence.runTransaction("Get highest unacknowledged batch id","readonly",l=>a.mutationQueue.getHighestUnacknowledgedBatchId(l))}(n.localStore);if(-1===r)return void e.resolve();const i=n.Ma.get(r)||[];i.push(e),n.Ma.set(r,i)}catch(r){const i=ny(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}),g5.apply(this,arguments)}function m5(t,e){(t.Ma.get(e)||[]).forEach(n=>{n.resolve()}),t.Ma.delete(e)}function v5(t,e,n){const r=hr(t);let i=r.Fa[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Fa[r.currentUser.toKey()]=i}}function oy(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Sa.get(e))t.wa.delete(r),n&&t.ya.La(r,n);t.Sa.delete(e),t.isPrimaryClient&&t.va.Vr(e).forEach(r=>{t.va.containsKey(r)||_H(t,r)})}function _H(t,e){t.ba.delete(e.path.canonicalString());const n=t.Da.get(e);null!==n&&(Z0(t.remoteStore,n),t.Da=t.Da.remove(e),t.Ca.delete(n),_5(t))}function y5(t,e,n){for(const r of n)r instanceof fH?(t.va.addReference(r.key,e),YAe(t,r)):r instanceof pH?(Mn("SyncEngine","Document no longer in limbo: "+r.key),t.va.removeReference(r.key,e),t.va.containsKey(r.key)||_H(t,r.key)):Vr()}function YAe(t,e){const n=e.key,r=n.path.canonicalString();t.Da.get(n)||t.ba.has(r)||(Mn("SyncEngine","New document in limbo: "+n),t.ba.add(r),_5(t))}function _5(t){for(;t.ba.size>0&&t.Da.size<t.maxConcurrentLimboResolutions;){const e=t.ba.values().next().value;t.ba.delete(e);const n=new Cr(xo.fromString(e)),r=t.xa.next();t.Ca.set(r,new UAe(n)),t.Da=t.Da.insert(n,r),qI(t.remoteStore,new Dp(ud(L0(n.path)),r,"TargetPurposeLimboResolution",FA._e))}}function xp(t,e,n){return w5.apply(this,arguments)}function w5(){return w5=(0,V.A)(function*(t,e,n){const r=hr(t),i=[],o=[],s=[];var a;r.wa.isEmpty()||(r.wa.forEach((a,l)=>{s.push(r.Na(l,e,n).then(u=>{if((u||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,null!=u&&u.fromCache?"not-current":"current"),u){i.push(u);const m=wx.Ki(l.targetId,u);o.push(m)}}))}),yield Promise.all(s),r.ya.u_(i),yield(a=(0,V.A)(function*(u,m){const I=hr(u);try{yield I.persistence.runTransaction("notifyLocalViewChanges","readwrite",k=>Vt.forEach(m,U=>Vt.forEach(U.qi,Y=>I.persistence.referenceDelegate.addReference(k,U.targetId,Y)).next(()=>Vt.forEach(U.Qi,Y=>I.persistence.referenceDelegate.removeReference(k,U.targetId,Y)))))}catch(k){if(!Sg(k))throw k;Mn("LocalStore","Failed to update sequence numbers: "+k)}for(const k of m){const U=k.targetId;if(!k.fromCache){const Y=I.ns.get(U),xe=Y.withLastLimboFreeSnapshotVersion(Y.snapshotVersion);I.ns=I.ns.insert(U,xe)}}}),function l(u,m){return a.apply(this,arguments)})(r.localStore,o))}),w5.apply(this,arguments)}function XAe(t,e){return C5.apply(this,arguments)}function C5(){return C5=(0,V.A)(function*(t,e){const n=hr(t);if(!n.currentUser.isEqual(e)){Mn("SyncEngine","User change. New user:",e.toKey());const r=yield G8(n.localStore,e);n.currentUser=e,(o=n).Ma.forEach(a=>{a.forEach(l=>{l.reject(new Fn(nn.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),o.Ma.clear(),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield xp(n,r.us)}var o}),C5.apply(this,arguments)}function JAe(t,e){const n=hr(t),r=n.Ca.get(e);if(r&&r.pa)return to().add(r.key);{let i=to();const o=n.Sa.get(e);if(!o)return i;for(const s of o){const a=n.wa.get(s);i=i.unionWith(a.view.Ia)}return i}}function ZAe(t,e){return b5.apply(this,arguments)}function b5(){return b5=(0,V.A)(function*(t,e){const n=hr(t),r=yield zI(n.localStore,e.query,!0),i=e.view.fa(r);return n.isPrimaryClient&&y5(n,e.targetId,i.Va),i}),b5.apply(this,arguments)}function ehe(t,e){return I5.apply(this,arguments)}function I5(){return I5=(0,V.A)(function*(t,e){const n=hr(t);return Y8(n.localStore,e).then(r=>xp(n,r))}),I5.apply(this,arguments)}function the(t,e,n,r){return E5.apply(this,arguments)}function E5(){return E5=(0,V.A)(function*(t,e,n,r){const i=hr(t),o=yield function(a,l){const u=hr(a),m=hr(u.mutationQueue);return u.persistence.runTransaction("Lookup mutation documents","readonly",I=>m.vn(I,l).next(k=>k?u.localDocuments.getDocuments(I,k):Vt.resolve(null)))}(i.localStore,e);var l;null!==o?("pending"===n?yield ey(i.remoteStore):"acknowledged"===n||"rejected"===n?(v5(i,e,r||null),m5(i,e),l=e,hr(hr(i.localStore).mutationQueue).Mn(l)):Vr(),yield xp(i,o)):Mn("SyncEngine","Cannot apply mutation batch with id: "+e)}),E5.apply(this,arguments)}function S5(){return S5=(0,V.A)(function*(t,e){const n=hr(t);if(XI(n),x5(n),!0===e&&!0!==n.Oa){const r=n.sharedClientState.getAllActiveQueryTargets(),i=yield wH(n,r.toArray());n.Oa=!0,yield Kx(n.remoteStore,!0);for(const o of i)qI(n.remoteStore,o)}else if(!1===e&&!1!==n.Oa){const r=[];let i=Promise.resolve();n.Sa.forEach((o,s)=>{n.sharedClientState.isLocalQueryTarget(s)?r.push(s):i=i.then(()=>(oy(n,s),X0(n.localStore,s,!0))),Z0(n.remoteStore,s)}),yield i,yield wH(n,r),function(s){const a=hr(s);a.Ca.forEach((l,u)=>{Z0(a.remoteStore,u)}),a.va.mr(),a.Ca=new Map,a.Da=new Ys(Cr.comparator)}(n),n.Oa=!1,yield Kx(n.remoteStore,!1)}}),S5.apply(this,arguments)}function wH(t,e,n){return T5.apply(this,arguments)}function T5(){return T5=(0,V.A)(function*(t,e,n){const r=hr(t),i=[],o=[];for(const s of e){let a;const l=r.Sa.get(s);if(l&&0!==l.length){a=yield Y0(r.localStore,ud(l[0]));for(const u of l){const m=r.wa.get(u),I=yield ZAe(r,m);I.snapshot&&o.push(I.snapshot)}}else{const u=yield q8(r.localStore,s);a=yield Y0(r.localStore,u),yield a5(r,CH(u),s,!1,a.resumeToken)}i.push(a)}return r.ya.u_(o),i}),T5.apply(this,arguments)}function CH(t){return IQ(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function rhe(t){return n=hr(t).localStore,hr(hr(n).persistence).Bi();var n}function ihe(t,e,n,r){return B5.apply(this,arguments)}function B5(){return B5=(0,V.A)(function*(t,e,n,r){const i=hr(t);if(i.Oa)return void Mn("SyncEngine","Ignoring unexpected query state notification.");const o=i.Sa.get(e);if(o&&o.length>0)switch(n){case"current":case"not-current":{const s=yield Y8(i.localStore,BQ(o[0])),a=V1.createSynthesizedRemoteEventForCurrentChange(e,"current"===n,Xl.EMPTY_BYTE_STRING);yield xp(i,s,a);break}case"rejected":yield X0(i.localStore,e,!0),oy(i,e,r);break;default:Vr()}}),B5.apply(this,arguments)}function ohe(t,e,n){return D5.apply(this,arguments)}function D5(){return D5=(0,V.A)(function*(t,e,n){const r=XI(t);if(r.Oa){for(const i of e){if(r.Sa.has(i)&&r.sharedClientState.isActiveQueryTarget(i)){Mn("SyncEngine","Adding an already active target "+i);continue}const o=yield q8(r.localStore,i),s=yield Y0(r.localStore,o);yield a5(r,CH(o),s.targetId,!1,s.resumeToken),qI(r.remoteStore,s)}for(const i of n)r.Sa.has(i)&&(yield X0(r.localStore,i,!1).then(()=>{Z0(r.remoteStore,i),oy(r,i)}).catch(Eg))}}),D5.apply(this,arguments)}function XI(t){const e=hr(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=vH.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=JAe.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=GAe.bind(null,e),e.ya.u_=PAe.bind(null,e.eventManager),e.ya.La=NAe.bind(null,e.eventManager),e}function x5(t){const e=hr(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=WAe.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=KAe.bind(null,e),e}class sy{constructor(){this.synchronizeTabs=!1}initialize(e){var n=this;return(0,V.A)(function*(){n.serializer=X1(e.databaseInfo.databaseId),n.sharedClientState=n.createSharedClientState(e),n.persistence=n.createPersistence(e),yield n.persistence.start(),n.localStore=n.createLocalStore(e),n.gcScheduler=n.createGarbageCollectionScheduler(e,n.localStore),n.indexBackfillerScheduler=n.createIndexBackfillerScheduler(e,n.localStore)})()}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return $8(this.persistence,new z8,e.initialUser,this.serializer)}createPersistence(e){return new mx(QI.Hr,this.serializer)}createSharedClientState(e){return new eH}terminate(){var e=this;return(0,V.A)(function*(){var n,r;null===(n=e.gcScheduler)||void 0===n||n.stop(),null===(r=e.indexBackfillerScheduler)||void 0===r||r.stop(),e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class F5 extends sy{constructor(e,n,r){super(),this.ka=e,this.cacheSizeBytes=n,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var n=()=>super.initialize,r=this;return(0,V.A)(function*(){yield n().call(r,e),yield r.ka.initialize(r,e),yield x5(r.ka.syncEngine),yield ey(r.ka.remoteStore),yield r.persistence.fi(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return $8(this.persistence,new z8,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,n){return new N8(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,n)}createIndexBackfillerScheduler(e,n){const r=new xce(n,this.persistence);return new Dce(e.asyncQueue,r)}createPersistence(e){const n=_x(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?Rc.withCacheSize(this.cacheSizeBytes):Rc.DEFAULT;return new yx(this.synchronizeTabs,n,e.clientId,r,e.asyncQueue,nH(),KI(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new eH}}class bH extends F5{constructor(e,n){super(e,n,!1),this.ka=e,this.cacheSizeBytes=n,this.synchronizeTabs=!0}initialize(e){var n=()=>super.initialize,r=this;return(0,V.A)(function*(){yield n().call(r,e);const i=r.ka.syncEngine;r.sharedClientState instanceof Dx&&(r.sharedClientState.syncEngine={Zs:the.bind(null,i),Xs:ihe.bind(null,i),eo:ohe.bind(null,i),Bi:rhe.bind(null,i),Ys:ehe.bind(null,i)},yield r.sharedClientState.start()),yield r.persistence.fi(function(){var o=(0,V.A)(function*(s){yield function nhe(t,e){return S5.apply(this,arguments)}(r.ka.syncEngine,s),r.gcScheduler&&(s&&!r.gcScheduler.started?r.gcScheduler.start():s||r.gcScheduler.stop()),r.indexBackfillerScheduler&&(s&&!r.indexBackfillerScheduler.started?r.indexBackfillerScheduler.start():s||r.indexBackfillerScheduler.stop())});return function(s){return o.apply(this,arguments)}}())})()}createSharedClientState(e){const n=nH();if(!Dx.D(n))throw new Fn(nn.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=_x(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Dx(n,e.asyncQueue,r,e.clientId,e.initialUser)}}class ay{initialize(e,n){var r=this;return(0,V.A)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(n),r.remoteStore=r.createRemoteStore(n),r.eventManager=r.createEventManager(n),r.syncEngine=r.createSyncEngine(n,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>yH(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=XAe.bind(null,r.syncEngine),yield Kx(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new RAe}createDatastore(e){const n=X1(e.databaseInfo.databaseId),r=new gAe(e.databaseInfo);return new yAe(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return r=this.localStore,i=this.datastore,o=e.asyncQueue,s=n=>yH(this.syncEngine,n,0),a=tH.D()?new tH:new hAe,new CAe(r,i,o,s,a);var r,i,o,s,a}createSyncEngine(e,n){return function(i,o,s,a,l,u,m){const I=new VAe(i,o,s,a,l,u);return m&&(I.Oa=!0),I}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){var e=this;return(0,V.A)(function*(){var n,r;yield(r=(0,V.A)(function*(o){const s=hr(o);Mn("RemoteStore","RemoteStore shutting down."),s.v_.add(5),yield J0(s),s.M_.shutdown(),s.x_.set("Unknown")}),function i(o){return r.apply(this,arguments)})(e.remoteStore),null===(n=e.datastore)||void 0===n||n.terminate()})()}}function IH(t,e=10240){let n=0;return{read:()=>(0,V.A)(function*(){if(n<t.byteLength){const r={value:t.slice(n,n+e),done:!1};return n+=e,r}return{done:!0}})(),cancel:()=>(0,V.A)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class JI{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.qa(this.observer.next,e)}error(e){this.observer.error?this.qa(this.observer.error,e):fl("Uncaught Error in snapshot listener:",e.toString())}Qa(){this.muted=!0}qa(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}class lhe{constructor(e,n){this.Ka=e,this.serializer=n,this.metadata=new Yl,this.buffer=new Uint8Array,this.$a=new TextDecoder("utf-8"),this.Ua().then(r=>{r&&r.ra()?this.metadata.resolve(r.na.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==r?void 0:r.na)}`))},r=>this.metadata.reject(r))}close(){return this.Ka.cancel()}getMetadata(){var e=this;return(0,V.A)(function*(){return e.metadata.promise})()}Ba(){var e=this;return(0,V.A)(function*(){return yield e.getMetadata(),e.Ua()})()}Ua(){var e=this;return(0,V.A)(function*(){const n=yield e.Wa();if(null===n)return null;const r=e.$a.decode(n),i=Number(r);isNaN(i)&&e.Ga(`length string (${r}) is not valid number`);const o=yield e.za(i);return new MAe(JSON.parse(o),n.length+i)})()}ja(){return this.buffer.findIndex(e=>123===e)}Wa(){var e=this;return(0,V.A)(function*(){for(;e.ja()<0&&!(yield e.Ha()););if(0===e.buffer.length)return null;const n=e.ja();n<0&&e.Ga("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,n);return e.buffer=e.buffer.slice(n),r})()}za(e){var n=this;return(0,V.A)(function*(){for(;n.buffer.length<e;)(yield n.Ha())&&n.Ga("Reached the end of bundle when more is expected.");const r=n.$a.decode(n.buffer.slice(0,e));return n.buffer=n.buffer.slice(e),r})()}Ga(e){throw this.Ka.cancel(),new Error(`Invalid bundle format: ${e}`)}Ha(){var e=this;return(0,V.A)(function*(){const n=yield e.Ka.read();if(!n.done){const r=new Uint8Array(e.buffer.length+n.value.length);r.set(e.buffer),r.set(n.value,e.buffer.length),e.buffer=r}return n.done})()}}class uhe{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}lookup(e){var n=this;return(0,V.A)(function*(){if(n.ensureCommitNotCalled(),n.mutations.length>0)throw n.lastTransactionError=new Fn(nn.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),n.lastTransactionError;const r=yield(i=(0,V.A)(function*(s,a){const l=hr(s),u={documents:a.map(U=>H1(l.serializer,U))},m=yield l.vo("BatchGetDocuments",l.serializer.databaseId,xo.emptyPath(),u,a.length),I=new Map;m.forEach(U=>{const Y=function Bde(t,e){return"found"in e?function(r,i){Xr(!!i.found);const o=jf(r,i.found.name),s=pl(i.found.updateTime),a=i.found.createTime?pl(i.found.createTime):ei.min(),l=new rc({mapValue:{fields:i.found.fields}});return ca.newFoundDocument(o,s,a,l)}(t,e):"missing"in e?function(r,i){Xr(!!i.missing),Xr(!!i.readTime);const o=jf(r,i.missing),s=pl(i.readTime);return ca.newNoDocument(o,s)}(t,e):Vr()}(l.serializer,U);I.set(Y.key.toString(),Y)});const k=[];return a.forEach(U=>{const Y=I.get(U.toString());Xr(!!Y),k.push(Y)}),k}),function o(s,a){return i.apply(this,arguments)})(n.datastore,e);var i;return r.forEach(i=>n.recordVersion(i)),r})()}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastTransactionError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new j0(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,V.A)(function*(){if(e.ensureCommitNotCalled(),e.lastTransactionError)throw e.lastTransactionError;const n=e.readVersions;var r;e.mutations.forEach(r=>{n.delete(r.key.toString())}),n.forEach((r,i)=>{const o=Cr.fromPath(i);e.mutations.push(new JD(o,e.precondition(o)))}),yield(r=(0,V.A)(function*(o,s){const a=hr(o),l={writes:s.map(u=>j1(a.serializer,u))};yield a.So("Commit",a.serializer.databaseId,xo.emptyPath(),l)}),function i(o,s){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw Vr();n=ei.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!n.isEqual(r))throw new Fn(nn.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){const n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?n.isEqual(ei.min())?ba.exists(!1):ba.updateTime(n):ba.none()}preconditionForUpdate(e){const n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(ei.min()))throw new Fn(nn.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return ba.updateTime(n)}return ba.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class che{constructor(e,n,r,i,o){this.asyncQueue=e,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=o,this.Ja=r.maxAttempts,this.jo=new Fx(this.asyncQueue,"transaction_retry")}Ya(){this.Ja-=1,this.Za()}Za(){var e=this;this.jo.qo((0,V.A)(function*(){const n=new uhe(e.datastore),r=e.Xa(n);r&&r.then(i=>{e.asyncQueue.enqueueAndForget(()=>n.commit().then(()=>{e.deferred.resolve(i)}).catch(o=>{e.eu(o)}))}).catch(i=>{e.eu(i)})}))}Xa(e){try{const n=this.updateFunction(e);return!E1(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}eu(e){this.Ja>0&&this.tu(e)?(this.Ja-=1,this.asyncQueue.enqueueAndForget(()=>(this.Za(),Promise.resolve()))):this.deferred.reject(e)}tu(e){if("FirebaseError"===e.name){const n=e.code;return"aborted"===n||"failed-precondition"===n||"already-exists"===n||!GQ(n)}return!1}}class dhe{constructor(e,n,r,i){var o=this;this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Bu.UNAUTHENTICATED,this.clientId=HV.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var s=(0,V.A)(function*(a){Mn("FirestoreClient","Received user=",a.uid),yield o.authCredentialListener(a),o.user=a});return function(a){return s.apply(this,arguments)}}()),this.appCheckCredentials.start(r,s=>(Mn("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Fn(nn.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const n=new Yl;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,V.A)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),n.resolve()}catch(r){const i=ny(r,"Failed to shutdown persistence");n.reject(i)}})),n.promise}}function ZI(t,e){return k5.apply(this,arguments)}function k5(){return k5=(0,V.A)(function*(t,e){t.asyncQueue.verifyOperationInProgress(),Mn("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(function(){var i=(0,V.A)(function*(o){r.isEqual(o)||(yield G8(e.localStore,o),r=o)});return function(o){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}),k5.apply(this,arguments)}function R5(t,e){return P5.apply(this,arguments)}function P5(){return P5=(0,V.A)(function*(t,e){t.asyncQueue.verifyOperationInProgress();const n=yield N5(t);Mn("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>uH(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>uH(e.remoteStore,i)),t._onlineComponents=e}),P5.apply(this,arguments)}function EH(t){return"FirebaseError"===t.name?t.code===nn.FAILED_PRECONDITION||t.code===nn.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}function N5(t){return M5.apply(this,arguments)}function M5(){return M5=(0,V.A)(function*(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Mn("FirestoreClient","Using user provided OfflineComponentProvider");try{yield ZI(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!EH(n))throw n;Hd("Error using user provided cache. Falling back to memory cache: "+n),yield ZI(t,new sy)}}else Mn("FirestoreClient","Using default OfflineComponentProvider"),yield ZI(t,new sy);return t._offlineComponents}),M5.apply(this,arguments)}function eE(t){return L5.apply(this,arguments)}function L5(){return L5=(0,V.A)(function*(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Mn("FirestoreClient","Using user provided OnlineComponentProvider"),yield R5(t,t._uninitializedComponentsProvider._online)):(Mn("FirestoreClient","Using default OnlineComponentProvider"),yield R5(t,new ay))),t._onlineComponents}),L5.apply(this,arguments)}function SH(t){return N5(t).then(e=>e.persistence)}function ly(t){return N5(t).then(e=>e.localStore)}function TH(t){return eE(t).then(e=>e.remoteStore)}function O5(t){return eE(t).then(e=>e.syncEngine)}function BH(t){return eE(t).then(e=>e.datastore)}function uy(t){return U5.apply(this,arguments)}function U5(){return U5=(0,V.A)(function*(t){const e=yield eE(t),n=e.eventManager;return n.onListen=QAe.bind(null,e.syncEngine),n.onUnlisten=jAe.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=HAe.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=zAe.bind(null,e.syncEngine),n}),U5.apply(this,arguments)}function DH(t,e,n={}){const r=new Yl;return t.asyncQueue.enqueueAndForget((0,V.A)(function*(){return function(o,s,a,l,u){const m=new JI({next:k=>{s.enqueueAndForget(()=>Zx(o,I));const U=k.docs.has(a);!U&&k.fromCache?u.reject(new Fn(nn.UNAVAILABLE,"Failed to get document because the client is offline.")):U&&k.fromCache&&l&&"server"===l.source?u.reject(new Fn(nn.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(k)},error:k=>u.reject(k)}),I=new r5(L0(a.path),m,{includeMetadataChanges:!0,ta:!0});return Xx(o,I)}(yield uy(t),t.asyncQueue,e,n,r)})),r.promise}function xH(t,e,n={}){const r=new Yl;return t.asyncQueue.enqueueAndForget((0,V.A)(function*(){return function(o,s,a,l,u){const m=new JI({next:k=>{s.enqueueAndForget(()=>Zx(o,I)),k.fromCache&&"server"===l.source?u.reject(new Fn(nn.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(k)},error:k=>u.reject(k)}),I=new r5(a,m,{includeMetadataChanges:!0,ta:!0});return Xx(o,I)}(yield uy(t),t.asyncQueue,e,n,r)})),r.promise}function FH(t){const e={};return void 0!==t.timeoutSeconds&&(e.timeoutSeconds=t.timeoutSeconds),e}const kH=new Map;function V5(t,e,n){if(!n)throw new Fn(nn.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function RH(t,e,n,r){if(!0===e&&!0===r)throw new Fn(nn.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function PH(t){if(!Cr.isDocumentKey(t))throw new Fn(nn.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function NH(t){if(Cr.isDocumentKey(t))throw new Fn(nn.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function tE(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";{const e=(r=t).constructor?r.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var r;return"function"==typeof t?"a function":Vr()}function Io(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Fn(nn.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=tE(t);throw new Fn(nn.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function MH(t,e){if(e<=0)throw new Fn(nn.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}class LH{constructor(e){var n,r;if(void 0===e.host){if(void 0!==e.ssl)throw new Fn(nn.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(n=e.ssl)||void 0===n||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Fn(nn.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}RH("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=FH(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(o){if(void 0!==o.timeoutSeconds){if(isNaN(o.timeoutSeconds))throw new Fn(nn.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new Fn(nn.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new Fn(nn.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Z1{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new LH({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Fn(nn.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Fn(nn.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new LH(e),void 0!==e.credentials&&(this._authCredentials=function(r){if(!r)return new mce;switch(r.type){case"firstParty":return new wce(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Fn(nn.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=kH.get(n);r&&(Mn("ComponentProvider","Removing Datastore"),kH.delete(n),r.terminate())}(this),Promise.resolve()}}function OH(t,e,n,r={}){var i;const o=(t=Io(t,Z1))._getSettings(),s=`${e}:${n}`;if("firestore.googleapis.com"!==o.host&&o.host!==s&&Hd("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let a,l;if("string"==typeof r.mockUserToken)a=r.mockUserToken,l=Bu.MOCK_USER;else{a=(0,_e.Fy)(r.mockUserToken,null===(i=t._app)||void 0===i?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new Fn(nn.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new Bu(u)}t._authCredentials=new vce(new VV(a,l))}}class ic{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ic(this.firestore,e,this._query)}}class da{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new zf(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new da(this.firestore,e,this._key)}}class zf extends ic{constructor(e,n,r){super(e,n,L0(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new da(this.firestore,null,new Cr(e))}withConverter(e){return new zf(this.firestore,e,this._path)}}function as(t,e,...n){if(t=(0,_e.Ku)(t),V5("collection","path",e),t instanceof Z1){const r=xo.fromString(e,...n);return NH(r),new zf(t,null,r)}{if(!(t instanceof da||t instanceof zf))throw new Fn(nn.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(xo.fromString(e,...n));return NH(r),new zf(t.firestore,null,r)}}function nE(t,e,...n){if(t=(0,_e.Ku)(t),1===arguments.length&&(e=HV.newId()),V5("doc","path",e),t instanceof Z1){const r=xo.fromString(e,...n);return PH(r),new da(t,null,new Cr(r))}{if(!(t instanceof da||t instanceof zf))throw new Fn(nn.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(xo.fromString(e,...n));return PH(r),new da(t.firestore,t instanceof zf?t.converter:null,new Cr(r))}}function UH(t,e){return t=(0,_e.Ku)(t),e=(0,_e.Ku)(e),(t instanceof da||t instanceof zf)&&(e instanceof da||e instanceof zf)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function Q5(t,e){return t=(0,_e.Ku)(t),e=(0,_e.Ku)(e),t instanceof ic&&e instanceof ic&&t.firestore===e.firestore&&R1(t._query,e._query)&&t.converter===e.converter}class bhe{constructor(){this.nu=Promise.resolve(),this.ru=[],this.iu=!1,this.su=[],this.ou=null,this._u=!1,this.au=!1,this.uu=[],this.jo=new Fx(this,"async_queue_retry"),this.cu=()=>{const n=KI();n&&Mn("AsyncQueue","Visibility state changed to "+n.visibilityState),this.jo.Ko()};const e=KI();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.cu)}get isShuttingDown(){return this.iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.lu(),this.hu(e)}enterRestrictedMode(e){if(!this.iu){this.iu=!0,this.au=e||!1;const n=KI();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this.cu)}}enqueue(e){if(this.lu(),this.iu)return new Promise(()=>{});const n=new Yl;return this.hu(()=>this.iu&&this.au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.ru.push(e),this.Pu()))}Pu(){var e=this;return(0,V.A)(function*(){if(0!==e.ru.length){try{yield e.ru[0](),e.ru.shift(),e.jo.reset()}catch(n){if(!Sg(n))throw n;Mn("AsyncQueue","Operation failed with retryable error: "+n)}e.ru.length>0&&e.jo.qo(()=>e.Pu())}})()}hu(e){const n=this.nu.then(()=>(this._u=!0,e().catch(r=>{throw this.ou=r,this._u=!1,fl("INTERNAL UNHANDLED ERROR: ",function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),a}(r)),r}).then(r=>(this._u=!1,r))));return this.nu=n,n}enqueueAfterDelay(e,n,r){this.lu(),this.uu.indexOf(e)>-1&&(n=0);const i=Yx.createAndSchedule(this,e,n,r,o=>this.Iu(o));return this.su.push(i),i}lu(){this.ou&&Vr()}verifyOperationInProgress(){}Tu(){var e=this;return(0,V.A)(function*(){let n;do{n=e.nu,yield n}while(n!==e.nu)})()}Eu(e){for(const n of this.su)if(n.timerId===e)return!0;return!1}du(e){return this.Tu().then(()=>{this.su.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.su)if(n.skipDelay(),"all"!==e&&n.timerId===e)break;return this.Tu()})}Au(e){this.uu.push(e)}Iu(e){const n=this.su.indexOf(e);this.su.splice(n,1)}}function H5(t){return function(n,r){if("object"!=typeof n||null===n)return!1;const i=n;for(const o of["next","error","complete"])if(o in i&&"function"==typeof i[o])return!0;return!1}(t)}class Ihe{constructor(){this._progressObserver={},this._taskCompletionResolver=new Yl,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,n,r){this._progressObserver={next:e,error:n,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,n){return this._taskCompletionResolver.promise.then(e,n)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class Xs extends Z1{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new bhe,this._persistenceKey=(null==i?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||VH(this),this._firestoreClient.terminate()}}function ew(t,e){const n="object"==typeof t?t:(0,Dc.getApp)(),r="string"==typeof t?t:e||"(default)",i=(0,Dc._getProvider)(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=(0,_e.yU)("firestore");o&&OH(i,...o)}return i}function Xa(t){return t._firestoreClient||VH(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function VH(t){var e,n,r;const i=t._freezeSettings(),o=(l=(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",new Xce(t._databaseId,l,t._persistenceKey,(m=i).host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,FH(m.experimentalLongPollingOptions),m.useFetchStreams));var l,m;t._firestoreClient=new dhe(t._authCredentials,t._appCheckCredentials,t._queue,o),null!==(n=i.localCache)&&void 0!==n&&n._offlineComponentProvider&&null!==(r=i.localCache)&&void 0!==r&&r._onlineComponentProvider&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}function QH(t,e,n){const r=new Yl;return t.asyncQueue.enqueue((0,V.A)(function*(){try{yield ZI(t,n),yield R5(t,e),r.resolve()}catch(i){const o=i;if(!EH(o))throw o;Hd("Error enabling indexeddb cache. Falling back to memory cache: "+o),r.reject(o)}})).then(()=>r.promise)}function HH(t){if(t._initialized||t._terminated)throw new Fn(nn.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class tw{constructor(e="count",n){this._internalFieldPath=n,this.type="AggregateField",this.aggregateType=e}}class Phe{constructor(e,n,r){this._userDataWriter=n,this._data=r,this.type="AggregateQuerySnapshot",this.query=e}data(){return this._userDataWriter.convertObjectMap(this._data)}}class $f{constructor(e){this._byteString=e}static fromBase64String(e){try{return new $f(Xl.fromBase64String(e))}catch(n){throw new Fn(nn.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new $f(Xl.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Fp{constructor(...e){for(let n=0;n<e.length;++n)if(0===e[n].length)throw new Fn(nn.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ua(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class qm{constructor(e){this._methodName=e}}class rE{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Fn(nn.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Fn(nn.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Mi(this._lat,e._lat)||Mi(this._long,e._long)}}const Nhe=/^__.*__$/;class Mhe{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return null!==this.fieldMask?new Bp(e,this.data,this.fieldMask,n,this.fieldTransforms):new H0(e,this.data,n,this.fieldTransforms)}}class jH{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Bp(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function zH(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Vr()}}class iE{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===o&&this.Ru(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Vu(){return this.settings.Vu}mu(e){return new iE(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}fu(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.mu({path:r,gu:!1});return i.pu(e),i}yu(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.mu({path:r,gu:!1});return i.Ru(),i}wu(e){return this.mu({path:void 0,gu:!0})}Su(e){return aE(e,this.settings.methodName,this.settings.bu||!1,this.path,this.settings.Du)}contains(e){return void 0!==this.fieldMask.find(n=>e.isPrefixOf(n))||void 0!==this.fieldTransforms.find(n=>e.isPrefixOf(n.field))}Ru(){if(this.path)for(let e=0;e<this.path.length;e++)this.pu(this.path.get(e))}pu(e){if(0===e.length)throw this.Su("Document fields must not be empty");if(zH(this.Vu)&&Nhe.test(e))throw this.Su('Document fields cannot begin and end with "__"')}}class Lhe{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||X1(e)}Cu(e,n,r,i=!1){return new iE({Vu:e,methodName:n,Du:r,path:ua.emptyPath(),gu:!1,bu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Ym(t){const e=t._freezeSettings(),n=X1(t._databaseId);return new Lhe(t._databaseId,!!e.ignoreUndefinedProperties,n)}function oE(t,e,n,r,i,o={}){const s=t.Cu(o.merge||o.mergeFields?2:0,e,n,i);q5("Data must be an object, but it was:",s,r);const a=WH(r,s);let l,u;if(o.merge)l=new jd(s.fieldMask),u=s.fieldTransforms;else if(o.mergeFields){const m=[];for(const I of o.mergeFields){const k=rw(e,I,n);if(!s.contains(k))throw new Fn(nn.INVALID_ARGUMENT,`Field '${k}' is specified in your field mask but missing from your input data.`);qH(m,k)||m.push(k)}l=new jd(m),u=s.fieldTransforms.filter(I=>l.covers(I.field))}else l=null,u=s.fieldTransforms;return new Mhe(new rc(a),l,u)}class nw extends qm{_toFieldTransform(e){if(2!==e.Vu)throw e.Su(1===e.Vu?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof nw}}function $H(t,e,n){return new iE({Vu:3,Du:e.settings.Du,methodName:t._methodName,gu:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class j5 extends qm{_toFieldTransform(e){return new L1(e.path,new V0)}isEqual(e){return e instanceof j5}}class z5 extends qm{constructor(e,n){super(e),this.vu=n}_toFieldTransform(e){const n=$H(this,e,!0),r=this.vu.map(o=>Xm(o,n)),i=new Vm(r);return new L1(e.path,i)}isEqual(e){return e instanceof z5&&(0,_e.bD)(this.vu,e.vu)}}class $5 extends qm{constructor(e,n){super(e),this.vu=n}_toFieldTransform(e){const n=$H(this,e,!0),r=this.vu.map(o=>Xm(o,n)),i=new Qm(r);return new L1(e.path,i)}isEqual(e){return e instanceof $5&&(0,_e.bD)(this.vu,e.vu)}}class G5 extends qm{constructor(e,n){super(e),this.Fu=n}_toFieldTransform(e){const n=new Q0(e.serializer,NQ(e.serializer,this.Fu));return new L1(e.path,n)}isEqual(e){return e instanceof G5&&this.Fu===e.Fu}}function W5(t,e,n,r){const i=t.Cu(1,e,n);q5("Data must be an object, but it was:",i,r);const o=[],s=rc.empty();Tg(r,(l,u)=>{const m=sE(e,l,n);u=(0,_e.Ku)(u);const I=i.yu(m);if(u instanceof nw)o.push(m);else{const k=Xm(u,I);null!=k&&(o.push(m),s.set(m,k))}});const a=new jd(o);return new jH(s,a,i.fieldTransforms)}function K5(t,e,n,r,i,o){const s=t.Cu(1,e,n),a=[rw(e,r,n)],l=[i];if(o.length%2!=0)throw new Fn(nn.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let k=0;k<o.length;k+=2)a.push(rw(e,o[k])),l.push(o[k+1]);const u=[],m=rc.empty();for(let k=a.length-1;k>=0;--k)if(!qH(u,a[k])){const U=a[k];let Y=l[k];Y=(0,_e.Ku)(Y);const ve=s.yu(U);if(Y instanceof nw)u.push(U);else{const xe=Xm(Y,ve);null!=xe&&(u.push(U),m.set(U,xe))}}const I=new jd(u);return new jH(m,I,s.fieldTransforms)}function GH(t,e,n,r=!1){return Xm(n,t.Cu(r?4:3,e))}function Xm(t,e){if(KH(t=(0,_e.Ku)(t)))return q5("Unsupported field value:",e,t),WH(t,e);if(t instanceof qm)return function(r,i){if(!zH(i.Vu))throw i.Su(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Su(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.gu&&4!==e.Vu)throw e.Su("Nested arrays are not supported");return function(r,i){const o=[];let s=0;for(const a of r){let l=Xm(a,i.wu(s));null==l&&(l={nullValue:"NULL_VALUE"}),o.push(l),s++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if(null===(r=(0,_e.Ku)(r)))return{nullValue:"NULL_VALUE"};if("number"==typeof r)return NQ(i.serializer,r);if("boolean"==typeof r)return{booleanValue:r};if("string"==typeof r)return{stringValue:r};if(r instanceof Date){const o=Ca.fromDate(r);return{timestampValue:z0(i.serializer,o)}}if(r instanceof Ca){const o=new Ca(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:z0(i.serializer,o)}}if(r instanceof rE)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof $f)return{bytesValue:n8(i.serializer,r._byteString)};if(r instanceof da){const o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Su(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:ix(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.Su(`Unsupported field value: ${tE(r)}`)}(t,e)}function WH(t,e){const n={};return rQ(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Tg(t,(r,i)=>{const o=Xm(i,e.fu(r));null!=o&&(n[r]=o)}),{mapValue:{fields:n}}}function KH(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof Ca||t instanceof rE||t instanceof $f||t instanceof da||t instanceof qm)}function q5(t,e,n){if(!KH(n)||"object"!=typeof(i=n)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const r=tE(n);throw e.Su("an object"===r?t+" a custom object":t+" "+r)}var i}function rw(t,e,n){if((e=(0,_e.Ku)(e))instanceof Fp)return e._internalPath;if("string"==typeof e)return sE(t,e);throw aE("Field path arguments must be of type string or ",t,!1,void 0,n)}const Ohe=new RegExp("[~\\*/\\[\\]]");function sE(t,e,n){if(e.search(Ohe)>=0)throw aE(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Fp(...e.split("."))._internalPath}catch{throw aE(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function aE(t,e,n,r,i){const o=r&&!r.isEmpty(),s=void 0!==i;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(o||s)&&(l+=" (found",o&&(l+=` in field ${r}`),s&&(l+=` in document ${i}`),l+=")"),new Fn(nn.INVALID_ARGUMENT,a+t+l)}function qH(t,e){return t.some(n=>n.isEqual(e))}class iw{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new da(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Uhe(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(lE("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n)}}}class Uhe extends iw{data(){return super.data()}}function lE(t,e){return"string"==typeof e?sE(t,e):e instanceof Fp?e._internalPath:e._delegate._internalPath}function YH(t){if("L"===t.limitType&&0===t.explicitOrderBy.length)throw new Fn(nn.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Y5{}class ow extends Y5{}function _o(t,e,...n){let r=[];e instanceof Y5&&r.push(e),r=r.concat(n),function(o){const s=o.filter(l=>l instanceof cy).length,a=o.filter(l=>l instanceof sw).length;if(s>1||s>0&&a>0)throw new Fn(nn.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class sw extends ow{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new sw(e,n,r)}_apply(e){const n=this._parse(e);return e7(e._query,n),new ic(e.firestore,e.converter,YD(e._query,n))}_parse(e){const n=Ym(e.firestore);return function(o,s,a,l,u,m,I){let k;if(u.isKeyField()){if("array-contains"===m||"array-contains-any"===m)throw new Fn(nn.INVALID_ARGUMENT,`Invalid Query. You can't perform '${m}' queries on documentId().`);if("in"===m||"not-in"===m){ZH(I,m);const U=[];for(const Y of I)U.push(JH(l,o,Y));k={arrayValue:{values:U}}}else k=JH(l,o,I)}else"in"!==m&&"not-in"!==m&&"array-contains-any"!==m||ZH(I,m),k=GH(a,"where",I,"in"===m||"not-in"===m);return Fo.create(u,m,k)}(e._query,0,n,e.firestore._databaseId,this._field,this._op,this._value)}}function Di(t,e,n){const r=e,i=lE("where",t);return sw._create(i,r,n)}class cy extends Y5{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new cy(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return 1===n.length?n[0]:Ts.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return 0===n.getFilters().length?e:(function(i,o){let s=i;const a=o.getFlattenedFilters();for(const l of a)e7(s,l),s=YD(s,l)}(e._query,n),new ic(e.firestore,e.converter,YD(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class X5 extends ow{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new X5(e,n)}_apply(e){const n=function(i,o,s){if(null!==i.startAt)throw new Fn(nn.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==i.endAt)throw new Fn(nn.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new F1(o,s)}(e._query,this._field,this._direction);return new ic(e.firestore,e.converter,function(i,o){const s=i.explicitOrderBy.concat([o]);return new Sp(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}class uE extends ow{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new uE(e,n,r)}_apply(e){return new ic(e.firestore,e.converter,BI(e._query,this._limit,this._limitType))}}class cE extends ow{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new cE(e,n,r)}_apply(e){const n=XH(e,this.type,this._docOrFields,this._inclusive);return new ic(e.firestore,e.converter,(o=n,new Sp((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,o,i.endAt)));var i,o}}class dE extends ow{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new dE(e,n,r)}_apply(e){const n=XH(e,this.type,this._docOrFields,this._inclusive);return new ic(e.firestore,e.converter,(o=n,new Sp((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,o)));var i,o}}function XH(t,e,n,r){if(n[0]=(0,_e.Ku)(n[0]),n[0]instanceof iw)return function(o,s,a,l,u){if(!l)throw new Fn(nn.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${a}().`);const m=[];for(const I of O0(o))if(I.field.isKeyField())m.push(Om(s,l.key));else{const k=l.data.field(I.field);if(wI(k))throw new Fn(nn.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+I.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===k){const U=I.field.canonicalString();throw new Fn(nn.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${U}' (used as the orderBy) does not exist.`)}m.push(k)}return new Rg(m,u)}(t._query,t.firestore._databaseId,e,n[0]._document,r);{const i=Ym(t.firestore);return function(s,a,l,u,m,I){const k=s.explicitOrderBy;if(m.length>k.length)throw new Fn(nn.INVALID_ARGUMENT,`Too many arguments provided to ${u}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const U=[];for(let Y=0;Y<m.length;Y++){const ve=m[Y];if(k[Y].field.isKeyField()){if("string"!=typeof ve)throw new Fn(nn.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${u}(), but got a ${typeof ve}`);if(!qD(s)&&-1!==ve.indexOf("/"))throw new Fn(nn.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${u}() must be a plain document ID, but '${ve}' contains a slash.`);const xe=s.path.child(xo.fromString(ve));if(!Cr.isDocumentKey(xe))throw new Fn(nn.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${u}() must result in a valid document path, but '${xe}' is not because it contains an odd number of segments.`);const st=new Cr(xe);U.push(Om(a,st))}else{const xe=GH(l,u,ve);U.push(xe)}}return new Rg(U,I)}(t._query,t.firestore._databaseId,i,e,n,r)}}function JH(t,e,n){if("string"==typeof(n=(0,_e.Ku)(n))){if(""===n)throw new Fn(nn.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!qD(e)&&-1!==n.indexOf("/"))throw new Fn(nn.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(xo.fromString(n));if(!Cr.isDocumentKey(r))throw new Fn(nn.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Om(t,new Cr(r))}if(n instanceof da)return Om(t,n._key);throw new Fn(nn.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${tE(n)}.`)}function ZH(t,e){if(!Array.isArray(t)||0===t.length)throw new Fn(nn.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function e7(t,e){const n=function(i,o){for(const s of i)for(const a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==n)throw new Fn(nn.INVALID_ARGUMENT,n===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class J5{convertValue(e,n="none"){switch(Fg(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ya(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ep(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw Vr()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Tg(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertGeoPoint(e){return new rE(Ya(e.latitude),Ya(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=CI(e);return null==r?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(T1(e));default:return null}}convertTimestamp(e){const n=Bg(e);return new Ca(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=xo.fromString(e);Xr(h8(r));const i=new Dg(r.get(1),r.get(3)),o=new Cr(r.popFirst(5));return i.isEqual(n)||fl(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}function AE(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class Whe extends J5{constructor(e){super(),this.firestore=e}convertBytes(e){return new $f(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new da(this.firestore,null,n)}}class Jm{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class kp extends iw{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new aw(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(lE("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class aw extends kp{data(e={}){return super.data(e)}}class Vg{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Jm(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new aw(this._firestore,this._userDataWriter,r.key,r,new Jm(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Fn(nn.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>({type:"added",doc:new aw(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Jm(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:s++}))}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||3!==a.type).map(a=>{const l=new aw(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Jm(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,m=-1;return 0!==a.type&&(u=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),1!==a.type&&(s=s.add(a.doc),m=s.indexOf(a.doc.key)),{type:qhe(a.type),doc:l,oldIndex:u,newIndex:m}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function qhe(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Vr()}}function n7(t,e){return t instanceof kp&&e instanceof kp?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(null===t._document?null===e._document:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof Vg&&e instanceof Vg&&t._firestore===e._firestore&&Q5(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}class Qg extends J5{constructor(e){super(),this.firestore=e}convertBytes(e){return new $f(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new da(this.firestore,null,n)}}function r7(t,e,n){t=Io(t,da);const r=Io(t.firestore,Xs),i=AE(t.converter,e,n);return dy(r,[oE(Ym(r),"setDoc",t._key,i,null!==t.converter,n).toMutation(t._key,ba.none())])}function i7(t,e,n,...r){t=Io(t,da);const i=Io(t.firestore,Xs),o=Ym(i);let s;return s="string"==typeof(e=(0,_e.Ku)(e))||e instanceof Fp?K5(o,"updateDoc",t._key,e,n,r):W5(o,"updateDoc",t._key,e),dy(i,[s.toMutation(t._key,ba.exists(!0))])}function o7(t,...e){var n,r,i;t=(0,_e.Ku)(t);let o={includeMetadataChanges:!1,source:"default"},s=0;"object"!=typeof e[s]||H5(e[s])||(o=e[s],s++);const a={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(H5(e[s])){const I=e[s];e[s]=null===(n=I.next)||void 0===n?void 0:n.bind(I),e[s+1]=null===(r=I.error)||void 0===r?void 0:r.bind(I),e[s+2]=null===(i=I.complete)||void 0===i?void 0:i.bind(I)}let l,u,m;if(t instanceof da)u=Io(t.firestore,Xs),m=L0(t._key.path),l={next:I=>{e[s]&&e[s](Z5(u,t,I))},error:e[s+1],complete:e[s+2]};else{const I=Io(t,ic);u=Io(I.firestore,Xs),m=I._query;const k=new Qg(u);l={next:U=>{e[s]&&e[s](new Vg(u,k,I,U))},error:e[s+1],complete:e[s+2]},YH(t._query)}return function(k,U,Y,ve){const xe=new JI(ve),st=new r5(U,xe,Y);return k.asyncQueue.enqueueAndForget((0,V.A)(function*(){return Xx(yield uy(k),st)})),()=>{xe.Qa(),k.asyncQueue.enqueueAndForget((0,V.A)(function*(){return Zx(yield uy(k),st)}))}}(Xa(u),m,a,l)}function dy(t,e){return function(r,i){const o=new Yl;return r.asyncQueue.enqueueAndForget((0,V.A)(function*(){return function $Ae(t,e,n){return d5.apply(this,arguments)}(yield O5(r),i,o)})),o.promise}(Xa(t),e)}function Z5(t,e,n){const r=n.docs.get(e._key),i=new Qg(t);return new kp(t,i,e._key,r,new Jm(n.hasPendingWrites,n.fromCache),e.converter)}function Cs(t){return function ofe(t,e){const n=Io(t.firestore,Xs),r=Xa(n),i=function(s,a){const l=[];for(const u in s)Object.prototype.hasOwnProperty.call(s,u)&&l.push(a(s[u],u));return l}(e,(o,s)=>new yde(s,o.aggregateType,o._internalFieldPath));return function(s,a,l){const u=new Yl;return s.asyncQueue.enqueueAndForget((0,V.A)(function*(){try{const m=yield BH(s);u.resolve(function _Ae(t,e,n){return kx.apply(this,arguments)}(m,a,l))}catch(m){u.reject(m)}})),u.promise}(r,t._query,i).then(o=>function(a,l,u){const m=new Qg(a);return new Phe(l,m,u)}(n,t,o))}(t,{count:new tw("count")})}const hfe={maxAttempts:5};class s7{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Ym(e)}set(e,n,r){this._verifyNotCommitted();const i=Hg(e,this._firestore),o=AE(i.converter,n,r),s=oE(this._dataReader,"WriteBatch.set",i._key,o,null!==i.converter,r);return this._mutations.push(s.toMutation(i._key,ba.none())),this}update(e,n,r,...i){this._verifyNotCommitted();const o=Hg(e,this._firestore);let s;return s="string"==typeof(n=(0,_e.Ku)(n))||n instanceof Fp?K5(this._dataReader,"WriteBatch.update",o._key,n,r,i):W5(this._dataReader,"WriteBatch.update",o._key,n),this._mutations.push(s.toMutation(o._key,ba.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=Hg(e,this._firestore);return this._mutations=this._mutations.concat(new j0(n._key,ba.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Fn(nn.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Hg(t,e){if((t=(0,_e.Ku)(t)).firestore!==e)throw new Fn(nn.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}class ffe extends class{constructor(n,r){this._firestore=n,this._transaction=r,this._dataReader=Ym(n)}get(n){const r=Hg(n,this._firestore),i=new Whe(this._firestore);return this._transaction.lookup([r._key]).then(o=>{if(!o||1!==o.length)return Vr();const s=o[0];if(s.isFoundDocument())return new iw(this._firestore,i,s.key,s,r.converter);if(s.isNoDocument())return new iw(this._firestore,i,r._key,null,r.converter);throw Vr()})}set(n,r,i){const o=Hg(n,this._firestore),s=AE(o.converter,r,i),a=oE(this._dataReader,"Transaction.set",o._key,s,null!==o.converter,i);return this._transaction.set(o._key,a),this}update(n,r,i,...o){const s=Hg(n,this._firestore);let a;return a="string"==typeof(r=(0,_e.Ku)(r))||r instanceof Fp?K5(this._dataReader,"Transaction.update",s._key,r,i,o):W5(this._dataReader,"Transaction.update",s._key,r),this._transaction.update(s._key,a),this}delete(n){const r=Hg(n,this._firestore);return this._transaction.delete(r._key),this}}{constructor(e,n){super(e,n),this._firestore=e}get(e){const n=Hg(e,this._firestore),r=new Qg(this._firestore);return super.get(e).then(i=>new kp(this._firestore,r,n._key,i._document,new Jm(!1,!1),n.converter))}}function tF(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Fn("invalid-argument",`Invalid options passed to function ${t}(): You cannot specify both "merge" and "mergeFields".`);return e}function c7(){if(typeof Uint8Array>"u")throw new Fn("unimplemented","Uint8Arrays are not available in this environment.")}function d7(){if(!function qce(){return typeof atob<"u"}())throw new Fn("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(e,n=!0){D0=Dc.SDK_VERSION,(0,Dc._registerComponent)(new Gh.uA("firestore",(r,{instanceIdentifier:i,options:o})=>{const s=r.getProvider("app").getImmediate(),a=new Xs(new yce(r.getProvider("auth-internal")),new Cce(r.getProvider("app-check-internal")),function(u,m){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new Fn(nn.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Dg(u.options.projectId,m)}(s,i),s);return o=Object.assign({useFetchStreams:n},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),(0,Dc.registerVersion)(UV,"4.5.1",e),(0,Dc.registerVersion)(UV,"4.5.1","esm2017")}();class lw{constructor(e){this._delegate=e}static fromBase64String(e){return d7(),new lw($f.fromBase64String(e))}static fromUint8Array(e){return c7(),new lw($f.fromUint8Array(e))}toBase64(){return d7(),this._delegate.toBase64()}toUint8Array(){return c7(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function nF(t){return function Ife(t,e){if("object"!=typeof t||null===t)return!1;const n=t;for(const r of e)if(r in n&&"function"==typeof n[r])return!0;return!1}(t,["next","error","complete"])}class Efe{enableIndexedDbPersistence(e,n){return function She(t,e){HH(t=Io(t,Xs));const n=Xa(t);if(n._uninitializedComponentsProvider)throw new Fn(nn.FAILED_PRECONDITION,"SDK cache is already specified.");Hd("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=t._freezeSettings(),i=new ay;return QH(n,i,new F5(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(e._delegate,{forceOwnership:n})}enableMultiTabIndexedDbPersistence(e){return function The(t){HH(t=Io(t,Xs));const e=Xa(t);if(e._uninitializedComponentsProvider)throw new Fn(nn.FAILED_PRECONDITION,"SDK cache is already specified.");Hd("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=t._freezeSettings(),r=new ay;return QH(e,r,new bH(r,n.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function Bhe(t){if(t._initialized&&!t._terminated)throw new Fn(nn.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Yl;return t._queue.enqueueAndForgetEvenWhileRestricted((0,V.A)(function*(){try{yield(n=(0,V.A)(function*(i){if(!ch.D())return Promise.resolve();const o=i+"main";yield ch.delete(o)}),function r(i){return n.apply(this,arguments)})(_x(t._databaseId,t._persistenceKey)),e.resolve()}catch(n){e.reject(n)}var n})),e.promise}(e._delegate)}}class A7{constructor(e,n,r){this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof Dg||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const n=this._delegate._getSettings();!e.merge&&n.host!==e.host&&Hd("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},n),e)).merge,this._delegate._setSettings(e)}useEmulator(e,n,r={}){OH(this._delegate,e,n,r)}enableNetwork(){return function xhe(t){return function Ahe(t){return t.asyncQueue.enqueue((0,V.A)(function*(){const e=yield SH(t),n=yield TH(t);return e.setNetworkEnabled(!0),function(i){const o=hr(i);return o.v_.delete(0),J1(o)}(n)}))}(Xa(t=Io(t,Xs)))}(this._delegate)}disableNetwork(){return function Fhe(t){return function hhe(t){return t.asyncQueue.enqueue((0,V.A)(function*(){const e=yield SH(t),n=yield TH(t);return e.setNetworkEnabled(!1),(r=(0,V.A)(function*(o){const s=hr(o);s.v_.add(0),yield J0(s),s.x_.set("Offline")}),function i(o){return r.apply(this,arguments)})(n);var r}))}(Xa(t=Io(t,Xs)))}(this._delegate)}enablePersistence(e){let n=!1,r=!1;return e&&(n=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,RH("synchronizeTabs",n,"experimentalForceOwningTab",r)),n?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function Dhe(t){return function(n){const r=new Yl;return n.asyncQueue.enqueueAndForget((0,V.A)(function*(){return function qAe(t,e){return g5.apply(this,arguments)}(yield O5(n),r)})),r.promise}(Xa(t=Io(t,Xs)))}(this._delegate)}onSnapshotsInSync(e){return function ife(t,e){return function ghe(t,e){const n=new JI(e);return t.asyncQueue.enqueueAndForget((0,V.A)(function*(){return i=yield uy(t),o=n,hr(i).W_.add(o),void o.next();var i,o})),()=>{n.Qa(),t.asyncQueue.enqueueAndForget((0,V.A)(function*(){return i=yield uy(t),o=n,void hr(i).W_.delete(o);var i,o}))}}(Xa(t=Io(t,Xs)),H5(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Fn("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Ay(this,as(this._delegate,e))}catch(n){throw cd(n,"collection()","Firestore.collection()")}}doc(e){try{return new dh(this,nE(this._delegate,e))}catch(n){throw cd(n,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new dd(this,function Che(t,e){if(t=Io(t,Z1),V5("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Fn(nn.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new ic(t,null,(r=e,new Sp(xo.emptyPath(),r)));var r}(this._delegate,e))}catch(n){throw cd(n,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function pfe(t,e,n){t=Io(t,Xs);const r=Object.assign(Object.assign({},hfe),n);return function(o){if(o.maxAttempts<1)throw new Fn(nn.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(o,s,a){const l=new Yl;return o.asyncQueue.enqueueAndForget((0,V.A)(function*(){const u=yield BH(o);new che(o.asyncQueue,u,a,s,l).Ya()})),l.promise}(Xa(t),i=>e(new ffe(t,i)),r)}(this._delegate,n=>e(new h7(this,n)))}batch(){return Xa(this._delegate),new f7(new s7(this._delegate,e=>dy(this._delegate,e)))}loadBundle(e){return function khe(t,e){const n=Xa(t=Io(t,Xs)),r=new Ihe;return function mhe(t,e,n,r){const i=function(s,a){let l;return l="string"==typeof s?KQ().encode(s):s,m=function(m,I){if(m instanceof Uint8Array)return IH(m,I);if(m instanceof ArrayBuffer)return IH(new Uint8Array(m),I);if(m instanceof ReadableStream)return m.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(l),new lhe(m,a);var m}(n,X1(e));t.asyncQueue.enqueueAndForget((0,V.A)(function*(){!function she(t,e,n){const r=hr(t);var i;(i=(0,V.A)(function*(s,a,l){try{const u=yield a.getMetadata();if(yield function(Y,ve){const xe=hr(Y),st=pl(ve.createTime);return xe.persistence.runTransaction("hasNewerBundle","readonly",at=>xe.$r.getBundleMetadata(at,ve.id)).then(at=>!!at&&at.createTime.compareTo(st)>=0)}(s.localStore,u))return yield a.close(),l._completeWith({taskState:"Success",documentsLoaded:(Y=u).totalDocuments,bytesLoaded:Y.totalBytes,totalDocuments:Y.totalDocuments,totalBytes:Y.totalBytes}),Promise.resolve(new Set);l._updateProgress(hH(u));const m=new LAe(u,s.localStore,a.serializer);let I=yield a.Ba();for(;I;){const U=yield m.sa(I);U&&l._updateProgress(U),I=yield a.Ba()}const k=yield m.complete();return yield xp(s,k.aa,void 0),yield function(Y,ve){const xe=hr(Y);return xe.persistence.runTransaction("Save bundle","readwrite",st=>xe.$r.saveBundleMetadata(st,ve))}(s.localStore,u),l._completeWith(k.progress),Promise.resolve(k._a)}catch(u){return Hd("SyncEngine",`Loading bundle failed with ${u}`),l._failWith(u),Promise.resolve(new Set)}var Y}),function o(s,a,l){return i.apply(this,arguments)})(r,e,n).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}(yield O5(t),i,r)}))}(n,t._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function Rhe(t,e){return function vhe(t,e){return t.asyncQueue.enqueue((0,V.A)(function*(){return function(r,i){const o=hr(r);return o.persistence.runTransaction("Get named query","readonly",s=>o.$r.getNamedQuery(s,i))}(yield ly(t),e)}))}(Xa(t=Io(t,Xs)),e).then(n=>n?new ic(t,null,n.query):null)}(this._delegate,e).then(n=>n?new dd(this,n):null)}}class fE extends J5{constructor(e){super(),this.firestore=e}convertBytes(e){return new lw(new $f(e))}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return dh.forKey(n,this.firestore,null)}}class h7{constructor(e,n){this._firestore=e,this._delegate=n,this._userDataWriter=new fE(e)}get(e){const n=ev(e);return this._delegate.get(n).then(r=>new uw(this._firestore,new kp(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,n.converter)))}set(e,n,r){const i=ev(e);return r?(tF("Transaction.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this}update(e,n,r,...i){const o=ev(e);return 2===arguments.length?this._delegate.update(o,n):this._delegate.update(o,n,r,...i),this}delete(e){const n=ev(e);return this._delegate.delete(n),this}}class f7{constructor(e){this._delegate=e}set(e,n,r){const i=ev(e);return r?(tF("WriteBatch.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this}update(e,n,r,...i){const o=ev(e);return 2===arguments.length?this._delegate.update(o,n):this._delegate.update(o,n,r,...i),this}delete(e){const n=ev(e);return this._delegate.delete(n),this}commit(){return this._delegate.commit()}}class Zm{constructor(e,n,r){this._firestore=e,this._userDataWriter=n,this._delegate=r}fromFirestore(e,n){const r=new aw(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new cw(this._firestore,r),null!=n?n:{})}toFirestore(e,n){return n?this._delegate.toFirestore(e,n):this._delegate.toFirestore(e)}static getInstance(e,n){const r=Zm.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let o=i.get(n);return o||(o=new Zm(e,new fE(e),n),i.set(n,o)),o}}Zm.INSTANCES=new WeakMap;class dh{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new fE(e)}static forPath(e,n,r){if(e.length%2!=0)throw new Fn("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new dh(n,new da(n._delegate,r,new Cr(e)))}static forKey(e,n,r){return new dh(n,new da(n._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new Ay(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Ay(this.firestore,as(this._delegate,e))}catch(n){throw cd(n,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,_e.Ku)(e))instanceof da&&UH(this._delegate,e)}set(e,n){n=tF("DocumentReference.set",n);try{return n?r7(this._delegate,e,n):r7(this._delegate,e)}catch(r){throw cd(r,"setDoc()","DocumentReference.set()")}}update(e,n,...r){try{return 1===arguments.length?i7(this._delegate,e):i7(this._delegate,e,n,...r)}catch(i){throw cd(i,"updateDoc()","DocumentReference.update()")}}delete(){return function nfe(t){return dy(Io(t.firestore,Xs),[new j0(t._key,ba.none())])}(this._delegate)}onSnapshot(...e){const n=p7(e),r=g7(e,i=>new uw(this.firestore,new kp(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return o7(this._delegate,n,r)}get(e){let n;return n="cache"===(null==e?void 0:e.source)?function Xhe(t){t=Io(t,da);const e=Io(t.firestore,Xs),n=Xa(e),r=new Qg(e);return function fhe(t,e){const n=new Yl;return t.asyncQueue.enqueueAndForget((0,V.A)(function*(){return(r=(0,V.A)(function*(o,s,a){try{const l=yield function(m,I){const k=hr(m);return k.persistence.runTransaction("read document","readonly",U=>k.localDocuments.getDocument(U,I))}(o,s);l.isFoundDocument()?a.resolve(l):l.isNoDocument()?a.resolve(null):a.reject(new Fn(nn.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(l){const u=ny(l,`Failed to get document '${s} from cache`);a.reject(u)}}),function i(o,s,a){return r.apply(this,arguments)})(yield ly(t),e,n);var r})),n.promise}(n,t._key).then(i=>new kp(e,r,t._key,i,new Jm(null!==i&&i.hasLocalMutations,!0),t.converter))}(this._delegate):"server"===(null==e?void 0:e.source)?function Jhe(t){t=Io(t,da);const e=Io(t.firestore,Xs);return DH(Xa(e),t._key,{source:"server"}).then(n=>Z5(e,t,n))}(this._delegate):function Yhe(t){t=Io(t,da);const e=Io(t.firestore,Xs);return DH(Xa(e),t._key).then(n=>Z5(e,t,n))}(this._delegate),n.then(r=>new uw(this.firestore,new kp(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new dh(this.firestore,this._delegate.withConverter(e?Zm.getInstance(this.firestore,e):null))}}function cd(t,e,n){return t.message=t.message.replace(e,n),t}function p7(t){for(const e of t)if("object"==typeof e&&!nF(e))return e;return{}}function g7(t,e){var n,r;let i;return i=nF(t[0])?t[0]:nF(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]},{next:o=>{i.next&&i.next(e(o))},error:null===(n=i.error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class uw{constructor(e,n){this._firestore=e,this._delegate=n}get ref(){return new dh(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,n){return this._delegate.get(e,n)}isEqual(e){return n7(this._delegate,e._delegate)}}class cw extends uw{data(e){const n=this._delegate.data(e);return this._delegate._converter||function gce(t,e){t||Vr()}(void 0!==n),n}}class dd{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new fE(e)}where(e,n,r){try{return new dd(this.firestore,_o(this._delegate,Di(e,n,r)))}catch(i){throw cd(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,n){try{return new dd(this.firestore,_o(this._delegate,function Vhe(t,e="asc"){const n=e,r=lE("orderBy",t);return X5._create(r,n)}(e,n)))}catch(r){throw cd(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new dd(this.firestore,_o(this._delegate,function Qhe(t){return MH("limit",t),uE._create("limit",t,"F")}(e)))}catch(n){throw cd(n,"limit()","Query.limit()")}}limitToLast(e){try{return new dd(this.firestore,_o(this._delegate,function Hhe(t){return MH("limitToLast",t),uE._create("limitToLast",t,"L")}(e)))}catch(n){throw cd(n,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new dd(this.firestore,_o(this._delegate,function jhe(...t){return cE._create("startAt",t,!0)}(...e)))}catch(n){throw cd(n,"startAt()","Query.startAt()")}}startAfter(...e){try{return new dd(this.firestore,_o(this._delegate,function zhe(...t){return cE._create("startAfter",t,!1)}(...e)))}catch(n){throw cd(n,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new dd(this.firestore,_o(this._delegate,function $he(...t){return dE._create("endBefore",t,!1)}(...e)))}catch(n){throw cd(n,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new dd(this.firestore,_o(this._delegate,function Ghe(...t){return dE._create("endAt",t,!0)}(...e)))}catch(n){throw cd(n,"endAt()","Query.endAt()")}}isEqual(e){return Q5(this._delegate,e._delegate)}get(e){let n;return n="cache"===(null==e?void 0:e.source)?function efe(t){t=Io(t,ic);const e=Io(t.firestore,Xs),n=Xa(e),r=new Qg(e);return function phe(t,e){const n=new Yl;return t.asyncQueue.enqueueAndForget((0,V.A)(function*(){return(r=(0,V.A)(function*(o,s,a){try{const l=yield zI(o,s,!0),u=new gH(s,l.hs),m=u.Ta(l.documents),I=u.applyChanges(m,!1);a.resolve(I.snapshot)}catch(l){const u=ny(l,`Failed to execute query '${s} against cache`);a.reject(u)}}),function i(o,s,a){return r.apply(this,arguments)})(yield ly(t),e,n);var r})),n.promise}(n,t._query).then(i=>new Vg(e,r,t,i))}(this._delegate):"server"===(null==e?void 0:e.source)?function tfe(t){t=Io(t,ic);const e=Io(t.firestore,Xs),n=Xa(e),r=new Qg(e);return xH(n,t._query,{source:"server"}).then(i=>new Vg(e,r,t,i))}(this._delegate):function Zhe(t){t=Io(t,ic);const e=Io(t.firestore,Xs),n=Xa(e),r=new Qg(e);return YH(t._query),xH(n,t._query).then(i=>new Vg(e,r,t,i))}(this._delegate),n.then(r=>new rF(this.firestore,new Vg(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const n=p7(e),r=g7(e,i=>new rF(this.firestore,new Vg(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return o7(this._delegate,n,r)}withConverter(e){return new dd(this.firestore,this._delegate.withConverter(e?Zm.getInstance(this.firestore,e):null))}}class Tfe{constructor(e,n){this._firestore=e,this._delegate=n}get type(){return this._delegate.type}get doc(){return new cw(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class rF{constructor(e,n){this._firestore=e,this._delegate=n}get query(){return new dd(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new cw(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(n=>new Tfe(this._firestore,n))}forEach(e,n){this._delegate.forEach(r=>{e.call(n,new cw(this._firestore,r))})}isEqual(e){return n7(this._delegate,e._delegate)}}class Ay extends dd{constructor(e,n){super(e,n),this.firestore=e,this._delegate=n}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new dh(this.firestore,e):null}doc(e){try{return new dh(this.firestore,void 0===e?nE(this._delegate):nE(this._delegate,e))}catch(n){throw cd(n,"doc()","CollectionReference.doc()")}}add(e){return function rfe(t,e){const n=Io(t.firestore,Xs),r=nE(t),i=AE(t.converter,e);return dy(n,[oE(Ym(t.firestore),"addDoc",r._key,i,null!==t.converter,{}).toMutation(r._key,ba.exists(!1))]).then(()=>r)}(this._delegate,e).then(n=>new dh(this.firestore,n))}isEqual(e){return UH(this._delegate,e._delegate)}withConverter(e){return new Ay(this.firestore,this._delegate.withConverter(e?Zm.getInstance(this.firestore,e):null))}}function ev(t){return Io(t,da)}class iF{constructor(...e){this._delegate=new Fp(...e)}static documentId(){return new iF(ua.keyField().canonicalString())}isEqual(e){return(e=(0,_e.Ku)(e))instanceof Fp&&this._delegate._internalPath.isEqual(e._internalPath)}}class tv{constructor(e){this._delegate=e}static serverTimestamp(){const e=function mfe(){return new j5("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new tv(e)}static delete(){const e=function gfe(){return new nw("deleteField")}();return e._methodName="FieldValue.delete",new tv(e)}static arrayUnion(...e){const n=function vfe(...t){return new z5("arrayUnion",t)}(...e);return n._methodName="FieldValue.arrayUnion",new tv(n)}static arrayRemove(...e){const n=function yfe(...t){return new $5("arrayRemove",t)}(...e);return n._methodName="FieldValue.arrayRemove",new tv(n)}static increment(e){const n=function _fe(t){return new G5("increment",t)}(e);return n._methodName="FieldValue.increment",new tv(n)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const Bfe={Firestore:A7,GeoPoint:rE,Timestamp:Ca,Blob:lw,Transaction:h7,WriteBatch:f7,DocumentReference:dh,DocumentSnapshot:uw,Query:dd,QueryDocumentSnapshot:cw,QuerySnapshot:rF,CollectionReference:Ay,FieldPath:iF,FieldValue:tv,setLogLevel:function Sfe(t){!function pce(t){Ig.setLogLevel(t)}(t)},CACHE_SIZE_UNLIMITED:-1};function m7(t,e){return function Ffe(t,e=s6){return new ro(n=>{let r;return null!=e?e.schedule(()=>{r=t.onSnapshot({includeMetadataChanges:!0},n)}):r=t.onSnapshot({includeMetadataChanges:!0},n),()=>{null!=r&&r()}})}(t,e)}function oF(t,e){return m7(t,e).pipe(Nr(n=>({payload:n,type:"query"})))}!function xfe(t){(function Dfe(t,e){t.INTERNAL.registerComponent(new Gh.uA("firestore-compat",n=>{const r=n.getProvider("app-compat").getImmediate(),i=n.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},Bfe)))})(t,(e,n)=>new A7(e,n,new Efe)),t.registerVersion("@firebase/firestore-compat","0.3.28")}(bn.A);class v7{constructor(e,n){(0,bo.A)(this,"ref",void 0),(0,bo.A)(this,"afs",void 0),this.ref=e,this.afs=n}set(e,n){return this.ref.set(e,n)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,n){const r=this.ref.collection(e),{ref:i,query:o}=I7(r,n);return new w7(i,o,this.afs)}snapshotChanges(){return function kfe(t,e){return m7(t,e).pipe(bb(void 0),KB(),Nr(n=>{const[r,i]=n;return i.exists?null!=r&&r.exists?{payload:i,type:"modified"}:{payload:i,type:"added"}:{payload:i,type:"removed"}}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(TA)}valueChanges(e={}){return this.snapshotChanges().pipe(Nr(({payload:n})=>e.idField?{...n.data(),[e.idField]:n.id}:n.data()))}get(e){return aa(this.ref.get(e)).pipe(TA)}}function pE(t,e){return oF(t,e).pipe(bb(void 0),KB(),Nr(n=>{const[r,i]=n,o=i.payload.docChanges(),s=o.map(a=>({type:a.type,payload:a}));return r&&JSON.stringify(r.payload.metadata)!==JSON.stringify(i.payload.metadata)&&i.payload.docs.forEach((a,l)=>{const u=o.find(I=>I.doc.ref.isEqual(a.ref)),m=null==r?void 0:r.payload.docs.find(I=>I.ref.isEqual(a.ref));u&&JSON.stringify(u.doc.metadata)===JSON.stringify(a.metadata)||!u&&m&&JSON.stringify(m.metadata)===JSON.stringify(a.metadata)||s.push({type:"modified",payload:{oldIndex:l,newIndex:l,type:"modified",doc:a}})}),s}))}function y7(t,e,n){return pE(t,n).pipe(Eb((r,i)=>function Rfe(t,e,n){return e.forEach(r=>{n.indexOf(r.type)>-1&&(t=function Pfe(t,e){switch(e.type){case"added":if(!t[e.newIndex]||!t[e.newIndex].doc.ref.isEqual(e.doc.ref))return sF(t,e.newIndex,0,e);break;case"modified":if(null==t[e.oldIndex]||t[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const n=t.slice();return n.splice(e.oldIndex,1),n.splice(e.newIndex,0,e),n}return sF(t,e.newIndex,1,e)}break;case"removed":if(t[e.oldIndex]&&t[e.oldIndex].doc.ref.isEqual(e.doc.ref))return sF(t,e.oldIndex,1)}return t}(t,r))}),t}(r,i.map(o=>o.payload),e),[]),OU(),Nr(r=>r.map(i=>({type:i.type,payload:i}))))}function sF(t,e,n,...r){const i=t.slice();return i.splice(e,n,...r),i}function _7(t){return(!t||0===t.length)&&(t=["added","removed","modified"]),t}class w7{constructor(e,n,r){(0,bo.A)(this,"ref",void 0),(0,bo.A)(this,"query",void 0),(0,bo.A)(this,"afs",void 0),this.ref=e,this.query=n,this.afs=r}stateChanges(e){let n=pE(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(n=n.pipe(Nr(r=>r.filter(i=>e.indexOf(i.type)>-1)))),n.pipe(bb(void 0),KB(),IA(([r,i])=>i.length>0||!r),Nr(([,r])=>r),TA)}auditTrail(e){return this.stateChanges(e).pipe(Eb((n,r)=>[...n,...r],[]))}snapshotChanges(e){const n=_7(e);return y7(this.query,n,this.afs.schedulers.outsideAngular).pipe(TA)}valueChanges(e={}){return oF(this.query,this.afs.schedulers.outsideAngular).pipe(Nr(n=>n.payload.docs.map(r=>e.idField?{...r.data(),[e.idField]:r.id}:r.data())),TA)}get(e){return aa(this.query.get(e)).pipe(TA)}add(e){return this.ref.add(e)}doc(e){return new v7(this.ref.doc(e),this.afs)}}class Nfe{constructor(e,n){(0,bo.A)(this,"query",void 0),(0,bo.A)(this,"afs",void 0),this.query=e,this.afs=n}stateChanges(e){return e&&0!==e.length?pE(this.query,this.afs.schedulers.outsideAngular).pipe(Nr(n=>n.filter(r=>e.indexOf(r.type)>-1)),IA(n=>n.length>0),TA):pE(this.query,this.afs.schedulers.outsideAngular).pipe(TA)}auditTrail(e){return this.stateChanges(e).pipe(Eb((n,r)=>[...n,...r],[]))}snapshotChanges(e){const n=_7(e);return y7(this.query,n,this.afs.schedulers.outsideAngular).pipe(TA)}valueChanges(e={}){return oF(this.query,this.afs.schedulers.outsideAngular).pipe(Nr(r=>r.payload.docs.map(i=>e.idField?{[e.idField]:i.id,...i.data()}:i.data())),TA)}get(e){return aa(this.query.get(e)).pipe(TA)}}const C7=new Un("angularfire2.enableFirestorePersistence"),b7=new Un("angularfire2.firestore.persistenceSettings"),Mfe=new Un("angularfire2.firestore.settings"),Lfe=new Un("angularfire2.firestore.use-emulator");function I7(t,e=(n=>n)){return{query:e(t),ref:t}}let oc=(()=>{var t;class e{constructor(r,i,o,s,a,l,u,m,I,k,U,Y,ve,xe,st,at,Lt){(0,bo.A)(this,"schedulers",void 0),(0,bo.A)(this,"firestore",void 0),(0,bo.A)(this,"persistenceEnabled$",void 0),this.schedulers=u;const Yt=GB(r,l,i),kn=I;k&&w6(Yt,l,U,ve,xe,st,Y,at),[this.firestore,this.persistenceEnabled$]=d6(`${Yt.name}.firestore`,"AngularFirestore",Yt.name,()=>{const jn=l.runOutsideAngular(()=>Yt.firestore());if(s&&jn.settings(s),kn&&jn.useEmulator(...kn),o&&!ob(a)){const no=()=>{try{return aa(jn.enablePersistence(m||void 0).then(()=>!0,()=>!1))}catch(Co){return typeof console<"u"&&console.warn(Co),hi(!1)}};return[jn,l.runOutsideAngular(no)]}return[jn,hi(!1)]},[s,kn,o])}collection(r,i){let o;o="string"==typeof r?this.firestore.collection(r):r;const{ref:s,query:a}=I7(o,i),l=this.schedulers.ngZone.run(()=>s);return new w7(l,a,this)}collectionGroup(r,i){const o=i||(a=>a),s=this.firestore.collectionGroup(r);return new Nfe(o(s),this)}doc(r){let i;i="string"==typeof r?this.firestore.doc(r):r;const o=this.schedulers.ngZone.run(()=>i);return new v7(o,this)}createId(){return this.firestore.collection("_").doc().id}}return t=e,(0,bo.A)(e,"\u0275fac",function(r){return new(r||t)(Ln(zb),Ln($b,8),Ln(C7,8),Ln(Mfe,8),Ln(Se),Ln(In),Ln(u6),Ln(b7,8),Ln(Lfe,8),Ln($h,8),Ln(p6,8),Ln(g6,8),Ln(m6,8),Ln(v6,8),Ln(y6,8),Ln(_6,8),Ln(a6,8))}),(0,bo.A)(e,"\u0275prov",Cn({token:t,factory:t.\u0275fac,providedIn:"any"})),e})(),Ofe=(()=>{var t;class e{constructor(){bn.A.registerVersion("angularfire",jb.full,"fst-compat")}static enablePersistence(r){return{ngModule:e,providers:[{provide:C7,useValue:!0},{provide:b7,useValue:r}]}}}return t=e,(0,bo.A)(e,"\u0275fac",function(r){return new(r||t)}),(0,bo.A)(e,"\u0275mod",xt({type:t})),(0,bo.A)(e,"\u0275inj",Yi({providers:[oc]})),e})();const E7="firebasestorage.googleapis.com",S7="storageBucket";class ka extends _e.g{constructor(e,n,r=0){super(aF(e),`Firebase Storage: ${n} (${aF(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,ka.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return aF(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var Ia=function(t){return t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment",t}(Ia||{});function aF(t){return"storage/"+t}function lF(){return new ka(Ia.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function T7(){return new ka(Ia.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function B7(){return new ka(Ia.CANCELED,"User canceled the upload/download.")}function D7(){return new ka(Ia.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function hy(t){return new ka(Ia.INVALID_ARGUMENT,t)}function x7(){return new ka(Ia.APP_DELETED,"The Firebase app was deleted.")}function F7(t){return new ka(Ia.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function dw(t,e){return new ka(Ia.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Aw(t){throw new ka(Ia.INTERNAL_ERROR,"Internal error: "+t)}class Nc{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Nc.makeFromUrl(e,n)}catch{return new Nc(e,"")}if(""===r.path)return r;throw function Kfe(t){return new ka(Ia.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)",a=new RegExp("^gs://"+i+"(/(.*))?$","i");function u(Yt){Yt.path_=decodeURIComponent(Yt.path)}const I=n.replace(/[.]/g,"\\."),Lt=[{regex:a,indices:{bucket:1,path:3},postModify:function o(Yt){"/"===Yt.path.charAt(Yt.path.length-1)&&(Yt.path_=Yt.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${I}/v[A-Za-z0-9_]+/b/${i}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:u},{regex:new RegExp(`^https?://${n===E7?"(?:storage.googleapis.com|storage.cloud.google.com)":n}/${i}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:u}];for(let Yt=0;Yt<Lt.length;Yt++){const kn=Lt[Yt],jn=kn.regex.exec(e);if(jn){let Co=jn[kn.indices.path];Co||(Co=""),r=new Nc(jn[kn.indices.bucket],Co),kn.postModify(r);break}}if(null==r)throw function Wfe(t){return new ka(Ia.INVALID_URL,"Invalid URL '"+t+"'.")}(e);return r}}class Zfe{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function gE(t){return"string"==typeof t||t instanceof String}function k7(t){return uF()&&t instanceof Blob}function uF(){return typeof Blob<"u"}function cF(t,e,n,r){if(r<e)throw hy(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw hy(`Invalid value for '${t}'. Expected ${n} or less.`)}function Rp(t,e,n){let r=e;return null==n&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function R7(t){const e=encodeURIComponent;let n="?";for(const r in t)t.hasOwnProperty(r)&&(n=n+(e(r)+"=")+e(t[r])+"&");return n=n.slice(0,-1),n}var fy=function(t){return t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT",t}(fy||{});function P7(t,e){const n=t>=500&&t<600,i=-1!==[408,429].indexOf(t),o=-1!==e.indexOf(t);return n||i||o}class ope{constructor(e,n,r,i,o,s,a,l,u,m,I,k=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=o,this.additionalRetryCodes_=s,this.callback_=a,this.errorCallback_=l,this.timeout_=u,this.progressCallback_=m,this.connectionFactory_=I,this.retry=k,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((U,Y)=>{this.resolve_=U,this.reject_=Y,this.start_()})}start_(){const n=(r,i)=>{const o=this.resolve_,s=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());!function npe(t){return void 0!==t}(l)?o():o(l)}catch(l){s(l)}else if(null!==a){const l=lF();l.serverResponse=a.getErrorText(),s(this.errorCallback_?this.errorCallback_(a,l):l)}else s(i.canceled?this.appDelete_?x7():B7():T7())};this.canceled_?n(0,new mE(!1,null,!0)):this.backoffId_=function epe(t,e,n){let r=1,i=null,o=null,s=!1,a=0;function l(){return 2===a}let u=!1;function m(...xe){u||(u=!0,e.apply(null,xe))}function I(xe){i=setTimeout(()=>{i=null,t(U,l())},xe)}function k(){o&&clearTimeout(o)}function U(xe,...st){if(u)return void k();if(xe)return k(),void m.call(null,xe,...st);if(l()||s)return k(),void m.call(null,xe,...st);let Lt;r<64&&(r*=2),1===a?(a=2,Lt=0):Lt=1e3*(r+Math.random()),I(Lt)}let Y=!1;function ve(xe){Y||(Y=!0,k(),!u&&(null!==i?(xe||(a=2),clearTimeout(i),I(0)):xe||(a=1)))}return I(0),o=setTimeout(()=>{s=!0,ve(!0)},n),ve}((r,i)=>{if(i)return void r(!1,new mE(!1,null,!0));const o=this.connectionFactory_();this.pendingConnection_=o;const s=a=>{null!==this.progressCallback_&&this.progressCallback_(a.loaded,a.lengthComputable?a.total:-1)};null!==this.progressCallback_&&o.addUploadProgressListener(s),o.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&o.removeUploadProgressListener(s),this.pendingConnection_=null;const a=o.getErrorCode()===fy.NO_ERROR,l=o.getStatus();if(!a||P7(l,this.additionalRetryCodes_)&&this.retry){const m=o.getErrorCode()===fy.ABORT;return void r(!1,new mE(!1,null,m))}const u=-1!==this.successCodes_.indexOf(l);r(!0,new mE(u,o))})},n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function tpe(t){t(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class mE{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function Ape(...t){const e=function dpe(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==e){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}if(uF())return new Blob(t);throw new ka(Ia.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}const kA={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class dF{constructor(e,n){this.data=e,this.contentType=n||null}}function AF(t,e){switch(t){case kA.RAW:return new dF(N7(e));case kA.BASE64:case kA.BASE64URL:return new dF(M7(t,e));case kA.DATA_URL:return new dF(function gpe(t){const e=new L7(t);return e.base64?M7(kA.BASE64,e.rest):function ppe(t){let e;try{e=decodeURIComponent(t)}catch{throw dw(kA.DATA_URL,"Malformed data URL.")}return N7(e)}(e.rest)}(e),function mpe(t){return new L7(t).contentType}(e))}throw lF()}function N7(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);r<=127?e.push(r):r<=2047?e.push(192|r>>6,128|63&r):55296==(64512&r)?n<t.length-1&&56320==(64512&t.charCodeAt(n+1))?(r=65536|(1023&r)<<10|1023&t.charCodeAt(++n),e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)):e.push(239,191,189):56320==(64512&r)?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(e)}function M7(t,e){switch(t){case kA.BASE64:{const i=-1!==e.indexOf("-"),o=-1!==e.indexOf("_");if(i||o)throw dw(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case kA.BASE64URL:{const i=-1!==e.indexOf("+"),o=-1!==e.indexOf("/");if(i||o)throw dw(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=function fpe(t){if(typeof atob>"u")throw function Jfe(t){return new ka(Ia.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(t)}(e)}catch(i){throw i.message.includes("polyfill")?i:dw(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class L7{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(null===n)throw dw(kA.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;null!=r&&(this.base64=function vpe(t,e){return t.length>=e.length&&t.substring(t.length-e.length)===e}(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}class Gf{constructor(e,n){let r=0,i="";k7(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(k7(this.data_)){const i=function hpe(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}(this.data_,e,n);return null===i?null:new Gf(i)}{const r=new Uint8Array(this.data_.buffer,e,n-e);return new Gf(r,!0)}}static getBlob(...e){if(uF()){const n=e.map(r=>r instanceof Gf?r.data_:r);return new Gf(Ape.apply(null,n))}{const n=e.map(s=>gE(s)?AF(kA.RAW,s).data:s.data_);let r=0;n.forEach(s=>{r+=s.byteLength});const i=new Uint8Array(r);let o=0;return n.forEach(s=>{for(let a=0;a<s.length;a++)i[o++]=s[a]}),new Gf(i,!0)}}uploadData(){return this.data_}}function hF(t){let e;try{e=JSON.parse(t)}catch{return null}return function ipe(t){return"object"==typeof t&&!Array.isArray(t)}(e)?e:null}function O7(t){const e=t.lastIndexOf("/",t.length-2);return-1===e?t:t.slice(e+1)}function wpe(t,e){return e}class Ad{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||wpe}}let vE=null;function hw(){if(vE)return vE;const t=[];t.push(new Ad("bucket")),t.push(new Ad("generation")),t.push(new Ad("metageneration")),t.push(new Ad("name","fullPath",!0));const n=new Ad("name");n.xform=function e(o,s){return function Cpe(t){return!gE(t)||t.length<2?t:O7(t)}(s)},t.push(n);const i=new Ad("size");return i.xform=function r(o,s){return void 0!==s?Number(s):s},t.push(i),t.push(new Ad("timeCreated")),t.push(new Ad("updated")),t.push(new Ad("md5Hash",null,!0)),t.push(new Ad("cacheControl",null,!0)),t.push(new Ad("contentDisposition",null,!0)),t.push(new Ad("contentEncoding",null,!0)),t.push(new Ad("contentLanguage",null,!0)),t.push(new Ad("contentType",null,!0)),t.push(new Ad("metadata","customMetadata",!0)),vE=t,vE}function U7(t,e,n){const r=hF(e);return null===r?null:function Ipe(t,e,n){const r={type:"file"},i=n.length;for(let o=0;o<i;o++){const s=n[o];r[s.local]=s.xform(r,e[s.server])}return function bpe(t,e){Object.defineProperty(t,"ref",{get:function n(){const o=new Nc(t.bucket,t.fullPath);return e._makeStorageReference(o)}})}(r,t),r}(t,r,n)}function fF(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const o=e[i];o.writable&&(n[o.server]=t[o.local])}return JSON.stringify(n)}const V7="prefixes",Q7="items";class Wf{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function Kf(t){if(!t)throw lF()}function yE(t,e){return function n(r,i){const o=U7(t,i,e);return Kf(null!==o),o}}function py(t){return function e(n,r){let i;return i=401===n.getStatus()?n.getErrorText().includes("Firebase App Check token is invalid")?function $fe(){return new ka(Ia.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}():function zfe(){return new ka(Ia.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===n.getStatus()?function jfe(t){return new ka(Ia.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(t.bucket):403===n.getStatus()?function Gfe(t){return new ka(Ia.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}(t.path):r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}}function fw(t){const e=py(t);return function n(r,i){let o=e(r,i);return 404===r.getStatus()&&(o=function Hfe(t){return new ka(Ia.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}(t.path)),o.serverResponse=i.serverResponse,o}}function H7(t,e,n){const i=Rp(e.fullServerUrl(),t.host,t._protocol),s=t.maxOperationRetryTime,a=new Wf(i,"GET",yE(t,n),s);return a.errorHandler=fw(e),a}function xpe(t,e,n,r,i){const o={};o.prefix=e.isRoot?"":e.path+"/",n&&n.length>0&&(o.delimiter=n),r&&(o.pageToken=r),i&&(o.maxResults=i);const a=Rp(e.bucketOnlyServerUrl(),t.host,t._protocol),u=t.maxOperationRetryTime,m=new Wf(a,"GET",function Bpe(t,e){return function n(r,i){const o=function Tpe(t,e,n){const r=hF(n);return null===r?null:function Spe(t,e,n){const r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n[V7])for(const i of n[V7]){const o=i.replace(/\/$/,""),s=t._makeStorageReference(new Nc(e,o));r.prefixes.push(s)}if(n[Q7])for(const i of n[Q7]){const o=t._makeStorageReference(new Nc(e,i.name));r.items.push(o)}return r}(t,e,r)}(t,e,i);return Kf(null!==o),o}}(t,e.bucket),u);return m.urlParams=o,m.errorHandler=py(e),m}function z7(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=function Ppe(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}(null,e)),r}class _E{constructor(e,n,r,i){this.current=e,this.total=n,this.finalized=!!r,this.metadata=i||null}}function pF(t,e){let n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch{Kf(!1)}return Kf(!!n&&-1!==(e||["active"]).indexOf(n)),n}const Ope={STATE_CHANGED:"state_changed"},hd={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function gF(t){switch(t){case"running":case"pausing":case"canceling":return hd.RUNNING;case"paused":return hd.PAUSED;case"success":return hd.SUCCESS;case"canceled":return hd.CANCELED;default:return hd.ERROR}}class Upe{constructor(e,n,r){if(function rpe(t){return"function"==typeof t}(e)||null!=n||null!=r)this.next=e,this.error=null!=n?n:void 0,this.complete=null!=r?r:void 0;else{const o=e;this.next=o.next,this.error=o.error,this.complete=o.complete}}}function gy(t){return(...e)=>{Promise.resolve().then(()=>t(...e))}}let W7=null;class Vpe{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=fy.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=fy.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=fy.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i){if(this.sent_)throw Aw("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),void 0!==i)for(const o in i)i.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,i[o].toString());return void 0!==r?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Aw("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Aw("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Aw("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Aw("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}class Qpe extends Vpe{initXhr(){this.xhr_.responseType="text"}}function qh(){return W7?W7():new Qpe}class K7{constructor(e,n,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=n,this._metadata=r,this._mappings=hw(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=i=>{if(this._request=void 0,this._chunkMultiplier=1,i._codeEquals(Ia.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const o=this.isExponentialBackoffExpired();if(P7(i.status,[])){if(!o)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();i=T7()}this._error=i,this._transition("error")}},this._metadataErrorHandler=i=>{this._request=void 0,i._codeEquals(Ia.CANCELED)?this.completeTransitions_():(this._error=i,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((i,o)=>{this._resolve=i,this._reject=o,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const e=this._transferred;return n=>this._updateProgress(e+n)}_shouldDoResumable(e){return e.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([n,r])=>{switch(this._state){case"running":e(n,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((e,n)=>{const r=function Npe(t,e,n,r,i){const o=e.bucketOnlyServerUrl(),s=z7(e,r,i),a={name:s.fullPath},l=Rp(o,t.host,t._protocol),m={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":s.contentType,"Content-Type":"application/json; charset=utf-8"},I=fF(s,n),Y=new Wf(l,"POST",function U(ve){let xe;pF(ve);try{xe=ve.getResponseHeader("X-Goog-Upload-URL")}catch{Kf(!1)}return Kf(gE(xe)),xe},t.maxUploadRetryTime);return Y.urlParams=a,Y.headers=m,Y.body=I,Y.errorHandler=py(e),Y}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,qh,e,n);this._request=i,i.getPromise().then(o=>{this._request=void 0,this._uploadUrl=o,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((n,r)=>{const i=function Mpe(t,e,n,r){const l=new Wf(n,"POST",function o(u){const m=pF(u,["active","final"]);let I=null;try{I=u.getResponseHeader("X-Goog-Upload-Size-Received")}catch{Kf(!1)}I||Kf(!1);const k=Number(I);return Kf(!isNaN(k)),new _E(k,r.size(),"final"===m)},t.maxUploadRetryTime);return l.headers={"X-Goog-Upload-Command":"query"},l.errorHandler=py(e),l}(this._ref.storage,this._ref._location,e,this._blob),o=this._ref.storage._makeRequest(i,qh,n,r);this._request=o,o.getPromise().then(s=>{this._request=void 0,this._updateProgress(s.current),this._needToFetchStatus=!1,s.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=262144*this._chunkMultiplier,n=new _E(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((i,o)=>{let s;try{s=function Lpe(t,e,n,r,i,o,s,a){const l=new _E(0,0);if(s?(l.current=s.current,l.total=s.total):(l.current=0,l.total=r.size()),r.size()!==l.total)throw function Yfe(){return new ka(Ia.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}();const u=l.total-l.current;let m=u;i>0&&(m=Math.min(m,i));const I=l.current;let U="";U=0===m?"finalize":u===m?"upload, finalize":"upload";const Y={"X-Goog-Upload-Command":U,"X-Goog-Upload-Offset":`${l.current}`},ve=r.slice(I,I+m);if(null===ve)throw D7();const Lt=new Wf(n,"POST",function xe(Yt,kn){const jn=pF(Yt,["active","final"]),no=l.current+m,Co=r.size();let ac;return ac="final"===jn?yE(e,o)(Yt,kn):null,new _E(no,Co,"final"===jn,ac)},e.maxUploadRetryTime);return Lt.headers=Y,Lt.body=ve.uploadData(),Lt.progressCallback=a||null,Lt.errorHandler=py(t),Lt}(this._ref._location,this._ref.storage,r,this._blob,e,this._mappings,n,this._makeProgressCallback())}catch(l){return this._error=l,void this._transition("error")}const a=this._ref.storage._makeRequest(s,qh,i,o,!1);this._request=a,a.getPromise().then(l=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(l.current),l.finalized?(this._metadata=l.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier*2<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,n)=>{const r=H7(this._ref.storage,this._ref._location,this._mappings),i=this._ref.storage._makeRequest(r,qh,e,n);this._request=i,i.getPromise().then(o=>{this._request=void 0,this._metadata=o,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,n)=>{const r=function $7(t,e,n,r,i){const o=e.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"},l=function a(){let Lt="";for(let Yt=0;Yt<2;Yt++)Lt+=Math.random().toString().slice(2);return Lt}();s["Content-Type"]="multipart/related; boundary="+l;const u=z7(e,r,i),m=fF(u,n),U=Gf.getBlob("--"+l+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+m+"\r\n--"+l+"\r\nContent-Type: "+u.contentType+"\r\n\r\n",r,"\r\n--"+l+"--");if(null===U)throw D7();const Y={name:u.fullPath},ve=Rp(o,t.host,t._protocol),st=t.maxUploadRetryTime,at=new Wf(ve,"POST",yE(t,n),st);return at.urlParams=Y,at.headers=s,at.body=U.uploadData(),at.errorHandler=py(e),at}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,qh,e,n);this._request=i,i.getPromise().then(o=>{this._request=void 0,this._metadata=o,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const n=this._transferred;this._transferred=e,this._transferred!==n&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const n="paused"===this._state;this._state=e,n&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=B7(),this._state=e,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const e=gF(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,n,r,i){const o=new Upe(n||void 0,r||void 0,i||void 0);return this._addObserver(o),()=>{this._removeObserver(o)}}then(e,n){return this._promise.then(e,n)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const n=this._observers.indexOf(e);-1!==n&&this._observers.splice(n,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(n=>{this._notifyObserver(n)})}_finishPromise(){if(void 0!==this._resolve){let e=!0;switch(gF(this._state)){case hd.SUCCESS:gy(this._resolve.bind(null,this.snapshot))();break;case hd.CANCELED:case hd.ERROR:gy(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(gF(this._state)){case hd.RUNNING:case hd.PAUSED:e.next&&gy(e.next.bind(e,this.snapshot))();break;case hd.SUCCESS:e.complete&&gy(e.complete.bind(e))();break;default:e.error&&gy(e.error.bind(e,this._error))()}}resume(){const e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}pause(){const e="running"===this._state;return e&&this._transition("pausing"),e}cancel(){const e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}class nv{constructor(e,n){this._service=e,this._location=n instanceof Nc?n:Nc.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new nv(e,n)}get root(){const e=new Nc(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return O7(this._location.path)}get storage(){return this._service}get parent(){const e=function ype(t){if(0===t.length)return null;const e=t.lastIndexOf("/");return-1===e?"":t.slice(0,e)}(this._location.path);if(null===e)return null;const n=new Nc(this._location.bucket,e);return new nv(this._service,n)}_throwIfRoot(e){if(""===this._location.path)throw F7(e)}}function Y7(t,e,n){return mF.apply(this,arguments)}function mF(){return mF=(0,V.A)(function*(t,e,n){const i=yield X7(t,{pageToken:n});e.prefixes.push(...i.prefixes),e.items.push(...i.items),null!=i.nextPageToken&&(yield Y7(t,e,i.nextPageToken))}),mF.apply(this,arguments)}function X7(t,e){null!=e&&"number"==typeof e.maxResults&&cF("options.maxResults",1,1e3,e.maxResults);const n=e||{},r=xpe(t.storage,t._location,"/",n.pageToken,n.maxResults);return t.storage.makeRequestWithTokens(r,qh)}function Zpe(t){t._throwIfRoot("getDownloadURL");const e=function Fpe(t,e,n){const i=Rp(e.fullServerUrl(),t.host,t._protocol),s=t.maxOperationRetryTime,a=new Wf(i,"GET",function Dpe(t,e){return function n(r,i){const o=U7(t,i,e);return Kf(null!==o),function Epe(t,e,n,r){const i=hF(e);if(null===i||!gE(i.downloadTokens))return null;const o=i.downloadTokens;if(0===o.length)return null;const s=encodeURIComponent;return o.split(",").map(u=>{const I=t.fullPath;return Rp("/b/"+s(t.bucket)+"/o/"+s(I),n,r)+R7({alt:"media",token:u})})[0]}(o,i,t.host,t._protocol)}}(t,n),s);return a.errorHandler=fw(e),a}(t.storage,t._location,hw());return t.storage.makeRequestWithTokens(e,qh).then(n=>{if(null===n)throw function Xfe(){return new ka(Ia.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}();return n})}function J7(t,e){const n=function _pe(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return 0===t.length?n:t+"/"+n}(t._location.path,e),r=new Nc(t._location.bucket,n);return new nv(t.storage,r)}function Z7(t,e){if(t instanceof vF){const n=t;if(null==n._bucket)throw function qfe(){return new ka(Ia.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+S7+"' property when initializing the app?")}();const r=new nv(n,n._bucket);return null!=e?Z7(r,e):r}return void 0!==e?J7(t,e):t}function rge(t,e){if(e&&function tge(t){return/^[A-Za-z]+:\/\//.test(t)}(e)){if(t instanceof vF)return function nge(t,e){return new nv(t,e)}(t,e);throw hy("To use ref(service, url), the first argument must be a Storage instance.")}return Z7(t,e)}function e9(t,e){const n=null==e?void 0:e[S7];return null==n?null:Nc.makeFromBucketSpec(n,t)}class vF{constructor(e,n,r,i,o){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=o,this._bucket=null,this._host=E7,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?Nc.makeFromBucketSpec(i,this._host):e9(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._bucket=null!=this._url?Nc.makeFromBucketSpec(this._url,e):e9(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){cF("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){cF("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){var e=this;return(0,V.A)(function*(){if(e._overrideAuthToken)return e._overrideAuthToken;const n=e._authProvider.getImmediate({optional:!0});if(n){const r=yield n.getToken();if(null!==r)return r.accessToken}return null})()}_getAppCheckToken(){var e=this;return(0,V.A)(function*(){const n=e._appCheckProvider.getImmediate({optional:!0});return n?(yield n.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new nv(this,e)}_makeRequest(e,n,r,i,o=!0){if(this._deleted)return new Zfe(x7());{const s=function cpe(t,e,n,r,i,o,s=!0){const a=R7(t.urlParams),l=t.url+a,u=Object.assign({},t.headers);return function lpe(t,e){e&&(t["X-Firebase-GMPID"]=e)}(u,e),function spe(t,e){null!==e&&e.length>0&&(t.Authorization="Firebase "+e)}(u,n),function ape(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(null!=e?e:"AppManager")}(u,o),function upe(t,e){null!==e&&(t["X-Firebase-AppCheck"]=e)}(u,r),new ope(l,t.method,u,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,s)}(e,this._appId,r,i,n,this._firebaseVersion,o);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}makeRequestWithTokens(e,n){var r=this;return(0,V.A)(function*(){const[i,o]=yield Promise.all([r._getAuthToken(),r._getAppCheckToken()]);return r._makeRequest(e,n,i,o).getPromise()})()}}const t9="@firebase/storage";function i9(t,e){return rge(t=(0,_e.Ku)(t),e)}function hge(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new vF(n,r,i,e,Dc.SDK_VERSION)}!function fge(){(0,Dc._registerComponent)(new Gh.uA("storage",hge,"PUBLIC").setMultipleInstances(!0)),(0,Dc.registerVersion)(t9,"0.12.3",""),(0,Dc.registerVersion)(t9,"0.12.3","esm2017")}();class wE{constructor(e,n,r){this._delegate=e,this.task=n,this.ref=r}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class s9{constructor(e,n){this._delegate=e,this._ref=n,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new wE(this._delegate.snapshot,this,this._ref)}then(e,n){return this._delegate.then(r=>{if(e)return e(new wE(r,this,this._ref))},n)}on(e,n,r,i){let o;return n&&(o="function"==typeof n?s=>n(new wE(s,this,this._ref)):{next:n.next?s=>n.next(new wE(s,this,this._ref)):void 0,complete:n.complete||void 0,error:n.error||void 0}),this._delegate.on(e,o,r||void 0,i||void 0)}}class a9{constructor(e,n){this._delegate=e,this._service=n}get prefixes(){return this._delegate.prefixes.map(e=>new Pp(e,this._service))}get items(){return this._delegate.items.map(e=>new Pp(e,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class Pp{constructor(e,n){this._delegate=e,this.storage=n}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(e){const n=function Age(t,e){return J7(t,e)}(this._delegate,e);return new Pp(n,this.storage)}get root(){return new Pp(this._delegate.root,this.storage)}get parent(){const e=this._delegate.parent;return null==e?null:new Pp(e,this.storage)}put(e,n){return this._throwIfRoot("put"),new s9(function oge(t,e,n){return function Kpe(t,e,n){return t._throwIfRoot("uploadBytesResumable"),new K7(t,new Gf(e),n)}(t=(0,_e.Ku)(t),e,n)}(this._delegate,e,n),this)}putString(e,n=kA.RAW,r){this._throwIfRoot("putString");const i=AF(n,e),o=Object.assign({},r);return null==o.contentType&&null!=i.contentType&&(o.contentType=i.contentType),new s9(new K7(this._delegate,new Gf(i.data,!0),o),this)}listAll(){return function uge(t){return function Ype(t){const e={prefixes:[],items:[]};return Y7(t,e).then(()=>e)}(t=(0,_e.Ku)(t))}(this._delegate).then(e=>new a9(e,this.storage))}list(e){return function lge(t,e){return X7(t=(0,_e.Ku)(t),e)}(this._delegate,e||void 0).then(n=>new a9(n,this.storage))}getMetadata(){return function sge(t){return function Xpe(t){t._throwIfRoot("getMetadata");const e=H7(t.storage,t._location,hw());return t.storage.makeRequestWithTokens(e,qh)}(t=(0,_e.Ku)(t))}(this._delegate)}updateMetadata(e){return function age(t,e){return function Jpe(t,e){t._throwIfRoot("updateMetadata");const n=function kpe(t,e,n,r){const o=Rp(e.fullServerUrl(),t.host,t._protocol),a=fF(n,r),u=t.maxOperationRetryTime,m=new Wf(o,"PATCH",yE(t,r),u);return m.headers={"Content-Type":"application/json; charset=utf-8"},m.body=a,m.errorHandler=fw(e),m}(t.storage,t._location,e,hw());return t.storage.makeRequestWithTokens(n,qh)}(t=(0,_e.Ku)(t),e)}(this._delegate,e)}getDownloadURL(){return function cge(t){return Zpe(t=(0,_e.Ku)(t))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function dge(t){return function ege(t){t._throwIfRoot("deleteObject");const e=function Rpe(t,e){const r=Rp(e.fullServerUrl(),t.host,t._protocol),a=new Wf(r,"DELETE",function s(l,u){},t.maxOperationRetryTime);return a.successCodes=[200,204],a.errorHandler=fw(e),a}(t.storage,t._location);return t.storage.makeRequestWithTokens(e,qh)}(t=(0,_e.Ku)(t))}(this._delegate)}_throwIfRoot(e){if(""===this._delegate._location.path)throw F7(e)}}class l9{constructor(e,n){this.app=e,this._delegate=n}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(e){if(u9(e))throw hy("ref() expected a child path but got a URL, use refFromURL instead.");return new Pp(i9(this._delegate,e),this)}refFromURL(e){if(!u9(e))throw hy("refFromURL() expected a full URL but got a child path, use ref() instead.");try{Nc.makeFromUrl(e,this._delegate.host)}catch{throw hy("refFromUrl() expected a valid full URL but got an invalid one.")}return new Pp(i9(this._delegate,e),this)}setMaxUploadRetryTime(e){this._delegate.maxUploadRetryTime=e}setMaxOperationRetryTime(e){this._delegate.maxOperationRetryTime=e}useEmulator(e,n,r={}){!function o9(t,e,n,r={}){!function ige(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken="string"==typeof i?i:(0,_e.Fy)(i,t.app.options.projectId))}(t,e,n,r)}(this._delegate,e,n,r)}}function u9(t){return/^[A-Za-z]+:\/\//.test(t)}function vge(t,{instanceIdentifier:e}){const n=t.getProvider("app-compat").getImmediate(),r=t.getProvider("storage").getImmediate({identifier:e});return new l9(n,r)}!function yge(t){const e={TaskState:hd,TaskEvent:Ope,StringFormat:kA,Storage:l9,Reference:Pp};t.INTERNAL.registerComponent(new Gh.uA("storage-compat",vge,"PUBLIC").setServiceProps(e).setMultipleInstances(!0)),t.registerVersion("@firebase/storage-compat","0.3.6")}(bn.A);const c9="@firebase/database";let yF="";function _F(t){yF=t}class _ge{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){null==n?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),(0,_e.As)(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return null==n?null:(0,_e.$L)(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}class wge{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){null==n?delete this.cache_[e]:this.cache_[e]=n}get(e){return(0,_e.gR)(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}const A9=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new _ge(e)}}catch{}return new wge},rv=A9("localStorage"),wF=A9("sessionStorage"),my=new BA.Vy("@firebase/database"),h9=function(){let t=1;return function(){return t++}}(),f9=function(t){const e=(0,_e.kj)(t),n=new _e.gz;n.update(e);const r=n.digest();return _e.K3.encodeByteArray(r)},pw=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&"object"==typeof r&&"number"==typeof r.length?e+=pw.apply(null,r):e+="object"==typeof r?(0,_e.As)(r):r,e+=" "}return e};let iv=null,p9=!0;const g9=function(t,e){(0,_e.vA)(!e||!0===t||!1===t,"Can't turn on custom loggers persistently."),!0===t?(my.logLevel=BA.$b.VERBOSE,iv=my.log.bind(my),e&&wF.set("logging_enabled",!0)):"function"==typeof t?iv=t:(iv=null,wF.remove("logging_enabled"))},Fu=function(...t){if(!0===p9&&(p9=!1,null===iv&&!0===wF.get("logging_enabled")&&g9(!0)),iv){const e=pw.apply(null,t);iv(e)}},gw=function(t){return function(...e){Fu(t,...e)}},CF=function(...t){const e="FIREBASE INTERNAL ERROR: "+pw(...t);my.error(e)},qf=function(...t){const e=`FIREBASE FATAL ERROR: ${pw(...t)}`;throw my.error(e),new Error(e)},Mc=function(...t){const e="FIREBASE WARNING: "+pw(...t);my.warn(e)},CE=function(t){return"number"==typeof t&&(t!=t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},jg="[MIN_NAME]",Np="[MAX_NAME]",ov=function(t,e){if(t===e)return 0;if(t===jg||e===Np)return-1;if(e===jg||t===Np)return 1;{const n=y9(t),r=y9(e);return null!==n?null!==r?n-r==0?t.length-e.length:n-r:-1:null!==r?1:t<e?-1:1}},Ige=function(t,e){return t===e?0:t<e?-1:1},mw=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+(0,_e.As)(e))},bF=function(t){if("object"!=typeof t||null===t)return(0,_e.As)(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)0!==r&&(n+=","),n+=(0,_e.As)(e[r]),n+=":",n+=bF(t[e[r]]);return n+="}",n},m9=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let i=0;i<n;i+=e)r.push(t.substring(i,i+e>n?n:i+e));return r};function ku(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const v9=function(t){(0,_e.vA)(!CE(t),"Invalid JSON number");const r=1023;let i,o,s,a,l;0===t?(o=0,s=0,i=1/t==-1/0?1:0):(i=t<0,(t=Math.abs(t))>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),r),o=a+r,s=Math.round(t*Math.pow(2,52-a)-Math.pow(2,52))):(o=0,s=Math.round(t/Math.pow(2,-1074))));const u=[];for(l=52;l;l-=1)u.push(s%2?1:0),s=Math.floor(s/2);for(l=11;l;l-=1)u.push(o%2?1:0),o=Math.floor(o/2);u.push(i?1:0),u.reverse();const m=u.join("");let I="";for(l=0;l<64;l+=8){let k=parseInt(m.substr(l,8),2).toString(16);1===k.length&&(k="0"+k),I+=k}return I.toLowerCase()},Bge=new RegExp("^-?(0*)\\d{1,10}$"),y9=function(t){if(Bge.test(t)){const e=Number(t);if(e>=-2147483648&&e<=2147483647)return e}return null},vy=function(t){try{t()}catch(e){setTimeout(()=>{throw Mc("Exception was thrown by user callback.",e.stack||""),e},Math.floor(0))}},vw=function(t,e){const n=setTimeout(t,e);return"number"==typeof n&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):"object"==typeof n&&n.unref&&n.unref(),n};class kge{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=null==n?void 0:n.getImmediate({optional:!0}),this.appCheck||null==n||n.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;null===(n=this.appCheckProvider)||void 0===n||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){Mc(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class Rge{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&"auth/token-not-initialized"===n.code?(Fu("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';e+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Mc(e)}}let yw=(()=>{class t{constructor(n){this.accessToken=n}getToken(n){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(n){n(this.accessToken)}removeTokenChangeListener(n){}notifyForInvalidToken(){}}return t.OWNER="owner",t})();const I9=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,T9="websocket",B9="long_polling";class EF{constructor(e,n,r,i,o=!1,s="",a=!1,l=!1){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=o,this.persistenceKey=s,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=l,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=rv.get("host:"+e)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&rv.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function D9(t,e,n){let r;if((0,_e.vA)("string"==typeof e,"typeof type must == string"),(0,_e.vA)("object"==typeof n,"typeof params must == object"),e===T9)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else{if(e!==B9)throw new Error("Unknown connection type: "+e);r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?"}(function Pge(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams})(t)&&(n.ns=t.namespace);const i=[];return ku(n,(o,s)=>{i.push(o+"="+s)}),r+i.join("&")}class Nge{constructor(){this.counters_={}}incrementCounter(e,n=1){(0,_e.gR)(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return(0,_e.A4)(this.counters_)}}const SF={},TF={};function BF(t){const e=t.toString();return SF[e]||(SF[e]=new Nge),SF[e]}class Lge{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&vy(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class zg{constructor(e,n,r,i,o,s,a){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=o,this.transportSessionId=s,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=gw(e),this.stats_=BF(n),this.urlFn=l=>(this.appCheckToken&&(l.ac=this.appCheckToken),D9(n,B9,l))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new Lge(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(t){if((0,_e.$g)()||"complete"===document.readyState)t();else{let e=!1;const n=function(){document.body?e||(e=!0,t()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&n()}),window.attachEvent("onload",n))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new DF((...o)=>{const[s,a,l,u,m]=o;if(this.incrementIncomingBytes_(o),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===s)this.id=a,this.password=l;else{if("close"!==s)throw new Error("Unrecognized command received: "+s);a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_()}},(...o)=>{const[s,a]=o;this.incrementIncomingBytes_(o),this.myPacketOrderer.handleResponse(s,a)},()=>{this.onClosed_()},this.urlFn);const r={start:"t"};r.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(r.cb=this.scriptTagHolder.uniqueCallbackIdentifier),r.v="5",this.transportSessionId&&(r.s=this.transportSessionId),this.lastSessionId&&(r.ls=this.lastSessionId),this.applicationId&&(r.p=this.applicationId),this.appCheckToken&&(r.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&I9.test(location.hostname)&&(r.r="f");const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){zg.forceAllow_=!0}static forceDisallow(){zg.forceDisallow_=!0}static isAvailable(){return!((0,_e.$g)()||!zg.forceAllow_&&(zg.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=(0,_e.As)(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=(0,_e.KA)(n),i=m9(r,1840);for(let o=0;o<i.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[o]),this.curSegmentNum++}addDisconnectPingFrame(e,n){if((0,_e.$g)())return;this.myDisconnFrame=document.createElement("iframe");const r={dframe:"t"};r.id=e,r.pw=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=(0,_e.As)(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class DF{constructor(e,n,r,i){if(this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,_e.$g)())this.commandCB=e,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=h9(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=n,this.myIFrame=DF.createIFrame_();let o="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(o='<script>document.domain="'+document.domain+'";<\/script>');const s="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(s),this.myIFrame.doc.close()}catch(a){Fu("frame writing exception"),a.stack&&Fu(a.stack),Fu(a)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||Fu("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;let n=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+r.length<=1870;){const s=this.pendingSegs.shift();r=r+"&seg"+i+"="+s.seg+"&ts"+i+"="+s.ts+"&d"+i+"="+s.d,i++}return n+=r,this.addLongPollTag_(n,this.currentSerial),!0}return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(e,()=>{clearTimeout(i),r()})}addTag(e,n){(0,_e.$g)()?this.doNodeLongPoll(e,n):setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||"loaded"===i||"complete"===i)&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{Fu("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}let IE=null;typeof MozWebSocket<"u"?IE=MozWebSocket:typeof WebSocket<"u"&&(IE=WebSocket);let yy=(()=>{class t{constructor(n,r,i,o,s,a,l){this.connId=n,this.applicationId=i,this.appCheckToken=o,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=gw(this.connId),this.stats_=BF(r),this.connURL=t.connectionURL_(r,a,l,o,i),this.nodeAdmin=r.nodeAdmin}static connectionURL_(n,r,i,o,s){const a={v:"5"};return!(0,_e.$g)()&&typeof location<"u"&&location.hostname&&I9.test(location.hostname)&&(a.r="f"),r&&(a.s=r),i&&(a.ls=i),o&&(a.ac=o),s&&(a.p=s),D9(n,T9,a)}open(n,r){this.onDisconnect=r,this.onMessage=n,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,rv.set("previous_websocket_failure",!0);try{let i;if((0,_e.$g)()){i={headers:{"User-Agent":`Firebase/5/${yF}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(i.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(i.headers["X-Firebase-AppCheck"]=this.appCheckToken);const s=process.env,a=0===this.connURL.indexOf("wss://")?s.HTTPS_PROXY||s.https_proxy:s.HTTP_PROXY||s.http_proxy;a&&(i.proxy={origin:a})}this.mySock=new IE(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");const o=i.message||i.data;return o&&this.log_(o),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");const o=i.message||i.data;o&&this.log_(o),this.onClosed_()}}start(){}static forceDisallow(){t.forceDisallow_=!0}static isAvailable(){let n=!1;if(typeof navigator<"u"&&navigator.userAgent){const i=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);i&&i.length>1&&parseFloat(i[1])<4.4&&(n=!0)}return!n&&null!==IE&&!t.forceDisallow_}static previouslyFailed(){return rv.isInMemoryStorage||!0===rv.get("previous_websocket_failure")}markConnectionHealthy(){rv.remove("previous_websocket_failure")}appendFrame_(n){if(this.frames.push(n),this.frames.length===this.totalFrames){const r=this.frames.join("");this.frames=null;const i=(0,_e.$L)(r);this.onMessage(i)}}handleNewFrameCount_(n){this.totalFrames=n,this.frames=[]}extractFrameCount_(n){if((0,_e.vA)(null===this.frames,"We already have a frame buffer"),n.length<=6){const r=Number(n);if(!isNaN(r))return this.handleNewFrameCount_(r),null}return this.handleNewFrameCount_(1),n}handleIncomingFrame(n){if(null===this.mySock)return;const r=n.data;if(this.bytesReceived+=r.length,this.stats_.incrementCounter("bytes_received",r.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(r);else{const i=this.extractFrameCount_(r);null!==i&&this.appendFrame_(i)}}send(n){this.resetKeepAlive();const r=(0,_e.As)(n);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);const i=m9(r,16384);i.length>1&&this.sendString_(String(i.length));for(let o=0;o<i.length;o++)this.sendString_(i[o])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(n){try{this.mySock.send(n)}catch(r){this.log_("Exception thrown from WebSocket.send():",r.message||r.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return t.responsesRequiredToBeHealthy=2,t.healthyTimeout=3e4,t})(),M9=(()=>{class t{constructor(n){this.initTransports_(n)}static get ALL_TRANSPORTS(){return[zg,yy]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(n){const r=yy&&yy.isAvailable();let i=r&&!yy.previouslyFailed();if(n.webSocketOnly&&(r||Mc("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[yy];else{const o=this.transports_=[];for(const s of t.ALL_TRANSPORTS)s&&s.isAvailable()&&o.push(s);t.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return t.globalTransportInitialized_=!1,t})();class j9{constructor(e,n,r,i,o,s,a,l,u,m){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=o,this.onMessage_=s,this.onReady_=a,this.onDisconnect_=l,this.onKill_=u,this.lastSessionId=m,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=gw("c:"+this.id+":"),this.transportManager_=new M9(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=vw(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{2!==this.state_&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){this.sendData_({t:"d",d:e})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if("t"in e){const n=e.t;"a"===n?this.upgradeIfSecondaryHealthy_():"r"===n?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===n&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=mw("t",e),r=mw("d",e);if("c"===n)this.onSecondaryControl_(r);else{if("d"!==n)throw new Error("Unknown protocol layer: "+n);this.pendingDataMessages.push(r)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=mw("t",e),r=mw("d",e);"c"===n?this.onControl_(r):"d"===n&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=mw("t",e);if("d"in e){const r=e.d;if("h"===n){const i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if("n"===n){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===n?this.onConnectionShutdown_(r):"r"===n?this.onReset_(r):"e"===n?CF("Server Error: "+r):"o"===n?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):CF("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),"5"!==r&&Mc("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),vw(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):vw(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(rv.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class z9{put(e,n,r,i){}merge(e,n,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}class $9{constructor(e){this.allowedEvents_=e,this.listeners_={},(0,_e.vA)(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const i=this.getInitialEvent(e);i&&n.apply(r,i)}off(e,n,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let o=0;o<i.length;o++)if(i[o].callback===n&&(!r||r===i[o].context))return void i.splice(o,1)}validateEventType_(e){(0,_e.vA)(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}class EE extends $9{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!(0,_e.jZ)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new EE}getInitialEvent(e){return(0,_e.vA)("online"===e,"Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}class bs{constructor(e,n){if(void 0===n){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)""!==this.pieces_[n]&&(e+="/"+this.pieces_[n]);return e||"/"}}function ls(){return new bs("")}function fo(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function $g(t){return t.pieces_.length-t.pieceNum_}function js(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new bs(t.pieces_,e)}function FF(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function _w(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function K9(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new bs(e,0)}function Ea(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof bs)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new bs(n,0)}function po(t){return t.pieceNum_>=t.pieces_.length}function fd(t,e){const n=fo(t),r=fo(e);if(null===n)return e;if(n===r)return fd(js(t),js(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function ome(t,e){const n=_w(t,0),r=_w(e,0);for(let i=0;i<n.length&&i<r.length;i++){const o=ov(n[i],r[i]);if(0!==o)return o}return n.length===r.length?0:n.length<r.length?-1:1}function kF(t,e){if($g(t)!==$g(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function Ah(t,e){let n=t.pieceNum_,r=e.pieceNum_;if($g(t)>$g(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class sme{constructor(e,n){this.errorPrefix_=n,this.parts_=_w(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=(0,_e.OE)(this.parts_[r]);q9(this)}}function q9(t){if(t.byteLength_>768)throw new Error(t.errorPrefix_+"has a key path longer than 768 bytes ("+t.byteLength_+").");if(t.parts_.length>32)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+sv(t))}function sv(t){return 0===t.parts_.length?"":"in property '"+t.parts_.join(".")+"'"}class RF extends $9{constructor(){let e,n;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new RF}getInitialEvent(e){return(0,_e.vA)("visible"===e,"Unknown event type: "+e),[this.visible_]}}const ww=1e3;let TE,av=(()=>{class t extends z9{constructor(n,r,i,o,s,a,l,u){if(super(),this.repoInfo_=n,this.applicationId_=r,this.onDataUpdate_=i,this.onConnectStatus_=o,this.onServerInfoUpdate_=s,this.authTokenProvider_=a,this.appCheckTokenProvider_=l,this.authOverride_=u,this.id=t.nextPersistentConnectionId_++,this.log_=gw("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=ww,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,u&&!(0,_e.$g)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");RF.getInstance().on("visible",this.onVisible_,this),-1===n.host.indexOf("fblocal")&&EE.getInstance().on("online",this.onOnline_,this)}sendRequest(n,r,i){const o=++this.requestNumber_,s={r:o,a:n,b:r};this.log_((0,_e.As)(s)),(0,_e.vA)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),i&&(this.requestCBHash_[o]=i)}get(n){this.initConnection_();const r=new _e.cY,o={action:"g",request:{p:n._path.toString(),q:n._queryObject},onComplete:a=>{const l=a.d;"ok"===a.s?r.resolve(l):r.reject(l)}};return this.outstandingGets_.push(o),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),r.promise}listen(n,r,i,o){this.initConnection_();const s=n._queryIdentifier,a=n._path.toString();this.log_("Listen called for "+a+" "+s),this.listens.has(a)||this.listens.set(a,new Map),(0,_e.vA)(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,_e.vA)(!this.listens.get(a).has(s),"listen() called twice for same path/queryId.");const l={onComplete:o,hashFn:r,query:n,tag:i};this.listens.get(a).set(s,l),this.connected_&&this.sendListen_(l)}sendGet_(n){const r=this.outstandingGets_[n];this.sendRequest("g",r.request,i=>{delete this.outstandingGets_[n],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),r.onComplete&&r.onComplete(i)})}sendListen_(n){const r=n.query,i=r._path.toString(),o=r._queryIdentifier;this.log_("Listen on "+i+" for "+o);const s={p:i};n.tag&&(s.q=r._queryObject,s.t=n.tag),s.h=n.hashFn(),this.sendRequest("q",s,l=>{const u=l.d,m=l.s;t.warnOnListenWarnings_(u,r),(this.listens.get(i)&&this.listens.get(i).get(o))===n&&(this.log_("listen response",l),"ok"!==m&&this.removeListen_(i,o),n.onComplete&&n.onComplete(m,u))})}static warnOnListenWarnings_(n,r){if(n&&"object"==typeof n&&(0,_e.gR)(n,"w")){const i=(0,_e.yw)(n,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){const o='".indexOn": "'+r._queryParams.getIndex().toString()+'"',s=r._path.toString();Mc(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${o} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(n){this.authToken_=n,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(n)}reduceReconnectDelayIfAdminCredential_(n){(n&&40===n.length||(0,_e.qc)(n))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(n){this.appCheckToken_=n,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const n=this.authToken_,r=(0,_e.Cv)(n)?"auth":"gauth",i={cred:n};null===this.authOverride_?i.noauth=!0:"object"==typeof this.authOverride_&&(i.authvar=this.authOverride_),this.sendRequest(r,i,o=>{const s=o.s,a=o.d||"error";this.authToken_===n&&("ok"===s?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,a))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},n=>{const r=n.s,i=n.d||"error";"ok"===r?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(r,i)})}unlisten(n,r){const i=n._path.toString(),o=n._queryIdentifier;this.log_("Unlisten called for "+i+" "+o),(0,_e.vA)(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,o)&&this.connected_&&this.sendUnlisten_(i,o,n._queryObject,r)}sendUnlisten_(n,r,i,o){this.log_("Unlisten on "+n+" for "+r);const s={p:n};o&&(s.q=i,s.t=o),this.sendRequest("n",s)}onDisconnectPut(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"o",data:r,onComplete:i})}onDisconnectMerge(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"om",data:r,onComplete:i})}onDisconnectCancel(n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",n,null,r):this.onDisconnectRequestQueue_.push({pathString:n,action:"oc",data:null,onComplete:r})}sendOnDisconnect_(n,r,i,o){const s={p:r,d:i};this.log_("onDisconnect "+n,s),this.sendRequest(n,s,a=>{o&&setTimeout(()=>{o(a.s,a.d)},Math.floor(0))})}put(n,r,i,o){this.putInternal("p",n,r,i,o)}merge(n,r,i,o){this.putInternal("m",n,r,i,o)}putInternal(n,r,i,o,s){this.initConnection_();const a={p:r,d:i};void 0!==s&&(a.h=s),this.outstandingPuts_.push({action:n,request:a,onComplete:o}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+r)}sendPut_(n){const r=this.outstandingPuts_[n].action,i=this.outstandingPuts_[n].request,o=this.outstandingPuts_[n].onComplete;this.outstandingPuts_[n].queued=this.connected_,this.sendRequest(r,i,s=>{this.log_(r+" response",s),delete this.outstandingPuts_[n],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),o&&o(s.s,s.d)})}reportStats(n){if(this.connected_){const r={c:n};this.log_("reportStats",r),this.sendRequest("s",r,i=>{"ok"!==i.s&&this.log_("reportStats","Error sending stats: "+i.d)})}}onDataMessage_(n){if("r"in n){this.log_("from server: "+(0,_e.As)(n));const r=n.r,i=this.requestCBHash_[r];i&&(delete this.requestCBHash_[r],i(n.b))}else{if("error"in n)throw"A server-side error has occurred: "+n.error;"a"in n&&this.onDataPush_(n.a,n.b)}}onDataPush_(n,r){this.log_("handleServerMessage",n,r),"d"===n?this.onDataUpdate_(r.p,r.d,!1,r.t):"m"===n?this.onDataUpdate_(r.p,r.d,!0,r.t):"c"===n?this.onListenRevoked_(r.p,r.q):"ac"===n?this.onAuthRevoked_(r.s,r.d):"apc"===n?this.onAppCheckRevoked_(r.s,r.d):"sd"===n?this.onSecurityDebugPacket_(r):CF("Unrecognized action received from server: "+(0,_e.As)(n)+"\nAre you using the latest client?")}onReady_(n,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(n),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(n){(0,_e.vA)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(n))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(n){n&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=ww,this.realtime_||this.scheduleConnect_(0)),this.visible_=n}onOnline_(n){n?(this.log_("Browser went online."),this.reconnectDelay_=ww,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=ww),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const n=(new Date).getTime()-this.lastConnectionAttemptTime_;let r=Math.max(0,this.reconnectDelay_-n);r=Math.random()*r,this.log_("Trying to reconnect in "+r+"ms"),this.scheduleConnect_(r),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var n=this;return(0,V.A)(function*(){if(n.shouldReconnect_()){n.log_("Making a connection attempt"),n.lastConnectionAttemptTime_=(new Date).getTime(),n.lastConnectionEstablishedTime_=null;const r=n.onDataMessage_.bind(n),i=n.onReady_.bind(n),o=n.onRealtimeDisconnect_.bind(n),s=n.id+":"+t.nextConnectionId_++,a=n.lastSessionId;let l=!1,u=null;const m=function(){u?u.close():(l=!0,o())};n.realtime_={close:m,sendRequest:function(U){(0,_e.vA)(u,"sendRequest call when we're not connected not allowed."),u.sendRequest(U)}};const k=n.forceTokenRefresh_;n.forceTokenRefresh_=!1;try{const[U,Y]=yield Promise.all([n.authTokenProvider_.getToken(k),n.appCheckTokenProvider_.getToken(k)]);l?Fu("getToken() completed but was canceled"):(Fu("getToken() completed. Creating connection."),n.authToken_=U&&U.accessToken,n.appCheckToken_=Y&&Y.token,u=new j9(s,n.repoInfo_,n.applicationId_,n.appCheckToken_,n.authToken_,r,i,o,ve=>{Mc(ve+" ("+n.repoInfo_.toString()+")"),n.interrupt("server_kill")},a))}catch(U){n.log_("Failed to get token: "+U),l||(n.repoInfo_.nodeAdmin&&Mc(U),m())}}})()}interrupt(n){Fu("Interrupting connection for reason: "+n),this.interruptReasons_[n]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(n){Fu("Resuming connection for reason: "+n),delete this.interruptReasons_[n],(0,_e.Im)(this.interruptReasons_)&&(this.reconnectDelay_=ww,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(n){const r=n-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:r})}cancelSentTransactions_(){for(let n=0;n<this.outstandingPuts_.length;n++){const r=this.outstandingPuts_[n];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[n],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(n,r){let i;i=r?r.map(s=>bF(s)).join("$"):"default";const o=this.removeListen_(n,i);o&&o.onComplete&&o.onComplete("permission_denied")}removeListen_(n,r){const i=new bs(n).toString();let o;if(this.listens.has(i)){const s=this.listens.get(i);o=s.get(r),s.delete(r),0===s.size&&this.listens.delete(i)}else o=void 0;return o}onAuthRevoked_(n,r){Fu("Auth token revoked: "+n+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===n||"permission_denied"===n)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(n,r){Fu("App check token revoked: "+n+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===n||"permission_denied"===n)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(n){this.securityDebugCallback_?this.securityDebugCallback_(n):"msg"in n&&console.log("FIREBASE: "+n.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const n of this.listens.values())for(const r of n.values())this.sendListen_(r);for(let n=0;n<this.outstandingPuts_.length;n++)this.outstandingPuts_[n]&&this.sendPut_(n);for(;this.onDisconnectRequestQueue_.length;){const n=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(n.action,n.pathString,n.data,n.onComplete)}for(let n=0;n<this.outstandingGets_.length;n++)this.outstandingGets_[n]&&this.sendGet_(n)}sendConnectStats_(){const n={};let r="js";(0,_e.$g)()&&(r=this.repoInfo_.nodeAdmin?"admin_node":"node"),n["sdk."+r+"."+yF.replace(/\./g,"-")]=1,(0,_e.jZ)()?n["framework.cordova"]=1:(0,_e.lV)()&&(n["framework.reactnative"]=1),this.reportStats(n)}shouldReconnect_(){const n=EE.getInstance().currentlyOnline();return(0,_e.Im)(this.interruptReasons_)&&n}}return t.nextPersistentConnectionId_=0,t.nextConnectionId_=0,t})();class wo{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new wo(e,n)}}class SE{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new wo(jg,e),i=new wo(jg,n);return 0!==this.compare(r,i)}minPost(){return wo.MIN}}class J9 extends SE{static get __EMPTY_NODE(){return TE}static set __EMPTY_NODE(e){TE=e}compare(e,n){return ov(e.name,n.name)}isDefinedOn(e){throw(0,_e.Hk)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return wo.MIN}maxPost(){return new wo(Np,TE)}makePost(e,n){return(0,_e.vA)("string"==typeof e,"KeyIndex indexValue must always be a string."),new wo(e,TE)}toString(){return".key"}}const Yf=new J9;class BE{constructor(e,n,r,i,o=null){this.isReverse_=i,this.resultGenerator_=o,this.nodeStack_=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,i&&(s*=-1),s<0)e=this.isReverse_?e.left:e.right;else{if(0===s){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}getNext(){if(0===this.nodeStack_.length)return null;let n,e=this.nodeStack_.pop();if(n=this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}let NF,Yh=(()=>{class t{constructor(n,r,i,o,s){this.key=n,this.value=r,this.color=null!=i?i:t.RED,this.left=null!=o?o:$d.EMPTY_NODE,this.right=null!=s?s:$d.EMPTY_NODE}copy(n,r,i,o,s){return new t(null!=n?n:this.key,null!=r?r:this.value,null!=i?i:this.color,null!=o?o:this.left,null!=s?s:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(n){return this.left.inorderTraversal(n)||!!n(this.key,this.value)||this.right.inorderTraversal(n)}reverseTraversal(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(n,r,i){let o=this;const s=i(n,o.key);return o=s<0?o.copy(null,null,null,o.left.insert(n,r,i),null):0===s?o.copy(null,r,null,null,null):o.copy(null,null,null,null,o.right.insert(n,r,i)),o.fixUp_()}removeMin_(){if(this.left.isEmpty())return $d.EMPTY_NODE;let n=this;return!n.left.isRed_()&&!n.left.left.isRed_()&&(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.removeMin_(),null),n.fixUp_()}remove(n,r){let i,o;if(i=this,r(n,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(n,r),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),0===r(n,i.key)){if(i.right.isEmpty())return $d.EMPTY_NODE;o=i.right.min_(),i=i.copy(o.key,o.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(n,r))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let n=this;return n.right.isRed_()&&!n.left.isRed_()&&(n=n.rotateLeft_()),n.left.isRed_()&&n.left.left.isRed_()&&(n=n.rotateRight_()),n.left.isRed_()&&n.right.isRed_()&&(n=n.colorFlip_()),n}moveRedLeft_(){let n=this.colorFlip_();return n.right.left.isRed_()&&(n=n.copy(null,null,null,null,n.right.rotateRight_()),n=n.rotateLeft_(),n=n.colorFlip_()),n}moveRedRight_(){let n=this.colorFlip_();return n.left.left.isRed_()&&(n=n.rotateRight_(),n=n.colorFlip_()),n}rotateLeft_(){const n=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)}rotateRight_(){const n=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)}colorFlip_(){const n=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,r)}checkMaxDepth_(){const n=this.check_();return Math.pow(2,n)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const n=this.left.check_();if(n!==this.right.check_())throw new Error("Black depths differ");return n+(this.isRed_()?0:1)}}return t.RED=!0,t.BLACK=!1,t})();class $d{constructor(e,n=$d.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new $d(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Yh.BLACK,null,null))}remove(e){return new $d(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Yh.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),0===n)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,i=null;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),0===n){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}n<0?r=r.left:n>0&&(i=r,r=r.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new BE(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new BE(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new BE(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new BE(this.root_,null,this.comparator_,!0,e)}}function fme(t,e){return ov(t.name,e.name)}function PF(t,e){return ov(t,e)}$d.EMPTY_NODE=new class hme{copy(e,n,r,i,o){return this}insert(e,n,r){return new Yh(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const Z9=function(t){return"number"==typeof t?"number:"+v9(t):"string:"+t},ej=function(t){if(t.isLeafNode()){const e=t.val();(0,_e.vA)("string"==typeof e||"number"==typeof e||"object"==typeof e&&(0,_e.gR)(e,".sv"),"Priority must be a string or number.")}else(0,_e.vA)(t===NF||t.isEmpty(),"priority of unexpected type.");(0,_e.vA)(t===NF||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let tj,nj,rj,_y=(()=>{class t{constructor(n,r=t.__childrenNodeConstructor.EMPTY_NODE){this.value_=n,this.priorityNode_=r,this.lazyHash_=null,(0,_e.vA)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),ej(this.priorityNode_)}static set __childrenNodeConstructor(n){tj=n}static get __childrenNodeConstructor(){return tj}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(n){return new t(this.value_,n)}getImmediateChild(n){return".priority"===n?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE}getChild(n){return po(n)?this:".priority"===fo(n)?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(n,r){return null}updateImmediateChild(n,r){return".priority"===n?this.updatePriority(r):r.isEmpty()&&".priority"!==n?this:t.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(n,r).updatePriority(this.priorityNode_)}updateChild(n,r){const i=fo(n);return null===i?r:r.isEmpty()&&".priority"!==i?this:((0,_e.vA)(".priority"!==i||1===$g(n),".priority must be the last token in a path"),this.updateImmediateChild(i,t.__childrenNodeConstructor.EMPTY_NODE.updateChild(js(n),r)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(n,r){return!1}val(n){return n&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let n="";this.priorityNode_.isEmpty()||(n+="priority:"+Z9(this.priorityNode_.val())+":");const r=typeof this.value_;n+=r+":",n+="number"===r?v9(this.value_):this.value_,this.lazyHash_=f9(n)}return this.lazyHash_}getValue(){return this.value_}compareTo(n){return n===t.__childrenNodeConstructor.EMPTY_NODE?1:n instanceof t.__childrenNodeConstructor?-1:((0,_e.vA)(n.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(n))}compareToLeafNode_(n){const r=typeof n.value_,i=typeof this.value_,o=t.VALUE_TYPE_ORDER.indexOf(r),s=t.VALUE_TYPE_ORDER.indexOf(i);return(0,_e.vA)(o>=0,"Unknown leaf type: "+r),(0,_e.vA)(s>=0,"Unknown leaf type: "+i),o===s?"object"===i?0:this.value_<n.value_?-1:this.value_===n.value_?0:1:s-o}withIndex(){return this}isIndexed(){return!0}equals(n){return n===this||!!n.isLeafNode()&&(this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_))}}return t.VALUE_TYPE_ORDER=["object","boolean","number","string"],t})();const Js=new class vme extends SE{compare(e,n){const r=e.node.getPriority(),i=n.node.getPriority(),o=r.compareTo(i);return 0===o?ov(e.name,n.name):o}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return wo.MIN}maxPost(){return new wo(Np,new _y("[PRIORITY-POST]",rj))}makePost(e,n){const r=nj(e);return new wo(n,new _y("[PRIORITY-POST]",r))}toString(){return".priority"}},yme=Math.log(2);class _me{constructor(e){this.count=parseInt(Math.log(e+1)/yme,10),this.current_=this.count-1;const i=(o=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const DE=function(t,e,n,r){t.sort(e);const i=function(l,u){const m=u-l;let I,k;if(0===m)return null;if(1===m)return I=t[l],k=n?n(I):I,new Yh(k,I.node,Yh.BLACK,null,null);{const U=parseInt(m/2,10)+l,Y=i(l,U),ve=i(U+1,u);return I=t[U],k=n?n(I):I,new Yh(k,I.node,Yh.BLACK,Y,ve)}},a=function(l){let u=null,m=null,I=t.length;const k=function(Y,ve){const xe=I-Y,st=I;I-=Y;const at=i(xe+1,st),Lt=t[xe],Yt=n?n(Lt):Lt;U(new Yh(Yt,Lt.node,ve,null,at))},U=function(Y){u?(u.left=Y,u=Y):(m=Y,u=Y)};for(let Y=0;Y<l.count;++Y){const ve=l.nextBitIsOne(),xe=Math.pow(2,l.count-(Y+1));ve?k(xe,Yh.BLACK):(k(xe,Yh.BLACK),k(xe,Yh.RED))}return m}(new _me(t.length));return new $d(r||e,a)};let MF;const wy={};class Mp{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return(0,_e.vA)(wy&&Js,"ChildrenNode.ts has not been loaded"),MF=MF||new Mp({".priority":wy},{".priority":Js}),MF}get(e){const n=(0,_e.yw)(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof $d?n:null}hasIndex(e){return(0,_e.gR)(this.indexSet_,e.toString())}addIndex(e,n){(0,_e.vA)(e!==Yf,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const o=n.getIterator(wo.Wrap);let a,s=o.getNext();for(;s;)i=i||e.isDefinedOn(s.node),r.push(s),s=o.getNext();a=i?DE(r,e.getCompare()):wy;const l=e.toString(),u=Object.assign({},this.indexSet_);u[l]=e;const m=Object.assign({},this.indexes_);return m[l]=a,new Mp(m,u)}addToIndexes(e,n){const r=(0,_e.kH)(this.indexes_,(i,o)=>{const s=(0,_e.yw)(this.indexSet_,o);if((0,_e.vA)(s,"Missing index implementation for "+o),i===wy){if(s.isDefinedOn(e.node)){const a=[],l=n.getIterator(wo.Wrap);let u=l.getNext();for(;u;)u.name!==e.name&&a.push(u),u=l.getNext();return a.push(e),DE(a,s.getCompare())}return wy}{const a=n.get(e.name);let l=i;return a&&(l=l.remove(new wo(e.name,a))),l.insert(e,e.node)}});return new Mp(r,this.indexSet_)}removeFromIndexes(e,n){const r=(0,_e.kH)(this.indexes_,i=>{if(i===wy)return i;{const o=n.get(e.name);return o?i.remove(new wo(e.name,o)):i}});return new Mp(r,this.indexSet_)}}let Cw,Ki=(()=>{class t{constructor(n,r,i){this.children_=n,this.priorityNode_=r,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&ej(this.priorityNode_),this.children_.isEmpty()&&(0,_e.vA)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Cw||(Cw=new t(new $d(PF),null,Mp.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Cw}updatePriority(n){return this.children_.isEmpty()?this:new t(this.children_,n,this.indexMap_)}getImmediateChild(n){if(".priority"===n)return this.getPriority();{const r=this.children_.get(n);return null===r?Cw:r}}getChild(n){const r=fo(n);return null===r?this:this.getImmediateChild(r).getChild(js(n))}hasChild(n){return null!==this.children_.get(n)}updateImmediateChild(n,r){if((0,_e.vA)(r,"We should always be passing snapshot nodes"),".priority"===n)return this.updatePriority(r);{const i=new wo(n,r);let o,s;r.isEmpty()?(o=this.children_.remove(n),s=this.indexMap_.removeFromIndexes(i,this.children_)):(o=this.children_.insert(n,r),s=this.indexMap_.addToIndexes(i,this.children_));const a=o.isEmpty()?Cw:this.priorityNode_;return new t(o,a,s)}}updateChild(n,r){const i=fo(n);if(null===i)return r;{(0,_e.vA)(".priority"!==fo(n)||1===$g(n),".priority must be the last token in a path");const o=this.getImmediateChild(i).updateChild(js(n),r);return this.updateImmediateChild(i,o)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(n){if(this.isEmpty())return null;const r={};let i=0,o=0,s=!0;if(this.forEachChild(Js,(a,l)=>{r[a]=l.val(n),i++,s&&t.INTEGER_REGEXP_.test(a)?o=Math.max(o,Number(a)):s=!1}),!n&&s&&o<2*i){const a=[];for(const l in r)a[l]=r[l];return a}return n&&!this.getPriority().isEmpty()&&(r[".priority"]=this.getPriority().val()),r}hash(){if(null===this.lazyHash_){let n="";this.getPriority().isEmpty()||(n+="priority:"+Z9(this.getPriority().val())+":"),this.forEachChild(Js,(r,i)=>{const o=i.hash();""!==o&&(n+=":"+r+":"+o)}),this.lazyHash_=""===n?"":f9(n)}return this.lazyHash_}getPredecessorChildName(n,r,i){const o=this.resolveIndex_(i);if(o){const s=o.getPredecessorKey(new wo(n,r));return s?s.name:null}return this.children_.getPredecessorKey(n)}getFirstChildName(n){const r=this.resolveIndex_(n);if(r){const i=r.minKey();return i&&i.name}return this.children_.minKey()}getFirstChild(n){const r=this.getFirstChildName(n);return r?new wo(r,this.children_.get(r)):null}getLastChildName(n){const r=this.resolveIndex_(n);if(r){const i=r.maxKey();return i&&i.name}return this.children_.maxKey()}getLastChild(n){const r=this.getLastChildName(n);return r?new wo(r,this.children_.get(r)):null}forEachChild(n,r){const i=this.resolveIndex_(n);return i?i.inorderTraversal(o=>r(o.name,o.node)):this.children_.inorderTraversal(r)}getIterator(n){return this.getIteratorFrom(n.minPost(),n)}getIteratorFrom(n,r){const i=this.resolveIndex_(r);if(i)return i.getIteratorFrom(n,o=>o);{const o=this.children_.getIteratorFrom(n.name,wo.Wrap);let s=o.peek();for(;null!=s&&r.compare(s,n)<0;)o.getNext(),s=o.peek();return o}}getReverseIterator(n){return this.getReverseIteratorFrom(n.maxPost(),n)}getReverseIteratorFrom(n,r){const i=this.resolveIndex_(r);if(i)return i.getReverseIteratorFrom(n,o=>o);{const o=this.children_.getReverseIteratorFrom(n.name,wo.Wrap);let s=o.peek();for(;null!=s&&r.compare(s,n)>0;)o.getNext(),s=o.peek();return o}}compareTo(n){return this.isEmpty()?n.isEmpty()?0:-1:n.isLeafNode()||n.isEmpty()?1:n===bw?-1:0}withIndex(n){if(n===Yf||this.indexMap_.hasIndex(n))return this;{const r=this.indexMap_.addIndex(n,this.children_);return new t(this.children_,this.priorityNode_,r)}}isIndexed(n){return n===Yf||this.indexMap_.hasIndex(n)}equals(n){if(n===this)return!0;if(n.isLeafNode())return!1;{const r=n;if(this.getPriority().equals(r.getPriority())){if(this.children_.count()===r.children_.count()){const i=this.getIterator(Js),o=r.getIterator(Js);let s=i.getNext(),a=o.getNext();for(;s&&a;){if(s.name!==a.name||!s.node.equals(a.node))return!1;s=i.getNext(),a=o.getNext()}return null===s&&null===a}return!1}return!1}}resolveIndex_(n){return n===Yf?null:this.indexMap_.get(n.toString())}}return t.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,t})();const bw=new class wme extends Ki{constructor(){super(new $d(PF),Ki.EMPTY_NODE,Mp.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return Ki.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(wo,{MIN:{value:new wo(jg,Ki.EMPTY_NODE)},MAX:{value:new wo(Np,bw)}}),J9.__EMPTY_NODE=Ki.EMPTY_NODE,_y.__childrenNodeConstructor=Ki,function pme(t){NF=t}(bw),function mme(t){rj=t}(bw);const Cme=!0;function Ra(t,e=null){if(null===t)return Ki.EMPTY_NODE;if("object"==typeof t&&".priority"in t&&(e=t[".priority"]),(0,_e.vA)(null===e||"string"==typeof e||"number"==typeof e||"object"==typeof e&&".sv"in e,"Invalid priority type found: "+typeof e),"object"==typeof t&&".value"in t&&null!==t[".value"]&&(t=t[".value"]),"object"!=typeof t||".sv"in t)return new _y(t,Ra(e));if(t instanceof Array||!Cme){let n=Ki.EMPTY_NODE;return ku(t,(r,i)=>{if((0,_e.gR)(t,r)&&"."!==r.substring(0,1)){const o=Ra(i);(o.isLeafNode()||!o.isEmpty())&&(n=n.updateImmediateChild(r,o))}}),n.updatePriority(Ra(e))}{const n=[];let r=!1;if(ku(t,(s,a)=>{if("."!==s.substring(0,1)){const l=Ra(a);l.isEmpty()||(r=r||!l.getPriority().isEmpty(),n.push(new wo(s,l)))}}),0===n.length)return Ki.EMPTY_NODE;const o=DE(n,fme,s=>s.name,PF);if(r){const s=DE(n,Js.getCompare());return new Ki(o,Ra(e),new Mp({".priority":s},{".priority":Js}))}return new Ki(o,Ra(e),Mp.Default)}}!function gme(t){nj=t}(Ra);class LF extends SE{constructor(e){super(),this.indexPath_=e,(0,_e.vA)(!po(e)&&".priority"!==fo(e),"Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),i=this.extractChild(n.node),o=r.compareTo(i);return 0===o?ov(e.name,n.name):o}makePost(e,n){const r=Ra(e),i=Ki.EMPTY_NODE.updateChild(this.indexPath_,r);return new wo(n,i)}maxPost(){const e=Ki.EMPTY_NODE.updateChild(this.indexPath_,bw);return new wo(Np,e)}toString(){return _w(this.indexPath_,0).join("/")}}const OF=new class bme extends SE{compare(e,n){const r=e.node.compareTo(n.node);return 0===r?ov(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return wo.MIN}maxPost(){return wo.MAX}makePost(e,n){const r=Ra(e);return new wo(n,r)}toString(){return".value"}};function ij(t){return{type:"value",snapshotNode:t}}function Cy(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function Iw(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function Ew(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}class UF{constructor(e){this.index_=e}updateChild(e,n,r,i,o,s){(0,_e.vA)(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const a=e.getImmediateChild(n);return a.getChild(i).equals(r.getChild(i))&&a.isEmpty()===r.isEmpty()||(null!=s&&(r.isEmpty()?e.hasChild(n)?s.trackChildChange(Iw(n,a)):(0,_e.vA)(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?s.trackChildChange(Cy(n,r)):s.trackChildChange(Ew(n,r,a))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(e,n,r){return null!=r&&(e.isLeafNode()||e.forEachChild(Js,(i,o)=>{n.hasChild(i)||r.trackChildChange(Iw(i,o))}),n.isLeafNode()||n.forEachChild(Js,(i,o)=>{if(e.hasChild(i)){const s=e.getImmediateChild(i);s.equals(o)||r.trackChildChange(Ew(i,o,s))}else r.trackChildChange(Cy(i,o))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?Ki.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class Sw{constructor(e){this.indexedFilter_=new UF(e.getIndex()),this.index_=e.getIndex(),this.startPost_=Sw.getStartPost_(e),this.endPost_=Sw.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&r}updateChild(e,n,r,i,o,s){return this.matches(new wo(n,r))||(r=Ki.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,r,i,o,s)}updateFullNode(e,n,r){n.isLeafNode()&&(n=Ki.EMPTY_NODE);let i=n.withIndex(this.index_);i=i.updatePriority(Ki.EMPTY_NODE);const o=this;return n.forEachChild(Js,(s,a)=>{o.matches(new wo(s,a))||(i=i.updateImmediateChild(s,Ki.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}return e.getIndex().maxPost()}}class Eme{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{const r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new Sw(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,r,i,o,s){return this.rangedFilter_.matches(new wo(n,r))||(r=Ki.EMPTY_NODE),e.getImmediateChild(n).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,r,i,o,s):this.fullLimitUpdateChild_(e,n,r,o,s)}updateFullNode(e,n,r){let i;if(n.isLeafNode()||n.isEmpty())i=Ki.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<n.numChildren()&&n.isIndexed(this.index_)){let o;i=Ki.EMPTY_NODE.withIndex(this.index_),o=this.reverse_?n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let s=0;for(;o.hasNext()&&s<this.limit_;){const a=o.getNext();if(this.withinDirectionalStart(a)){if(!this.withinDirectionalEnd(a))break;i=i.updateImmediateChild(a.name,a.node),s++}}}else{let o;i=n.withIndex(this.index_),i=i.updatePriority(Ki.EMPTY_NODE),o=this.reverse_?i.getReverseIterator(this.index_):i.getIterator(this.index_);let s=0;for(;o.hasNext();){const a=o.getNext();s<this.limit_&&this.withinDirectionalStart(a)&&this.withinDirectionalEnd(a)?s++:i=i.updateImmediateChild(a.name,Ki.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,r,i,o){let s;if(this.reverse_){const I=this.index_.getCompare();s=(k,U)=>I(U,k)}else s=this.index_.getCompare();const a=e;(0,_e.vA)(a.numChildren()===this.limit_,"");const l=new wo(n,r),u=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),m=this.rangedFilter_.matches(l);if(a.hasChild(n)){const I=a.getImmediateChild(n);let k=i.getChildAfterChild(this.index_,u,this.reverse_);for(;null!=k&&(k.name===n||a.hasChild(k.name));)k=i.getChildAfterChild(this.index_,k,this.reverse_);const U=null==k?1:s(k,l);if(m&&!r.isEmpty()&&U>=0)return null!=o&&o.trackChildChange(Ew(n,r,I)),a.updateImmediateChild(n,r);{null!=o&&o.trackChildChange(Iw(n,I));const ve=a.updateImmediateChild(n,Ki.EMPTY_NODE);return null!=k&&this.rangedFilter_.matches(k)?(null!=o&&o.trackChildChange(Cy(k.name,k.node)),ve.updateImmediateChild(k.name,k.node)):ve}}return r.isEmpty()?e:m&&s(u,l)>=0?(null!=o&&(o.trackChildChange(Iw(u.name,u.node)),o.trackChildChange(Cy(n,r))),a.updateImmediateChild(n,r).updateImmediateChild(u.name,Ki.EMPTY_NODE)):e}}class xE{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Js}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,_e.vA)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,_e.vA)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:jg}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,_e.vA)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,_e.vA)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Np}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,_e.vA)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Js}copy(){const e=new xE;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function VF(t,e,n){const r=t.copy();return r.startSet_=!0,void 0===e&&(e=null),r.indexStartValue_=e,null!=n?(r.startNameSet_=!0,r.indexStartName_=n):(r.startNameSet_=!1,r.indexStartName_=""),r}function QF(t,e,n){const r=t.copy();return r.endSet_=!0,void 0===e&&(e=null),r.indexEndValue_=e,void 0!==n?(r.endNameSet_=!0,r.indexEndName_=n):(r.endNameSet_=!1,r.indexEndName_=""),r}function FE(t,e){const n=t.copy();return n.index_=e,n}function oj(t){const e={};if(t.isDefault())return e;let n;if(t.index_===Js?n="$priority":t.index_===OF?n="$value":t.index_===Yf?n="$key":((0,_e.vA)(t.index_ instanceof LF,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=(0,_e.As)(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=(0,_e.As)(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+(0,_e.As)(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=(0,_e.As)(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+(0,_e.As)(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function sj(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;""===n&&(n=t.isViewFromLeft()?"l":"r"),e.vf=n}return t.index_!==Js&&(e.i=t.index_.toString()),e}class kE extends z9{constructor(e,n,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=gw("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return void 0!==n?"tag$"+n:((0,_e.vA)(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,r,i){const o=e._path.toString();this.log_("Listen called for "+o+" "+e._queryIdentifier);const s=kE.getListenId_(e,r),a={};this.listens_[s]=a;const l=oj(e._queryParams);this.restRequest_(o+".json",l,(u,m)=>{let I=m;if(404===u&&(I=null,u=null),null===u&&this.onDataUpdate_(o,I,!1,r),(0,_e.yw)(this.listens_,s)===a){let k;k=u?401===u?"permission_denied":"rest_error:"+u:"ok",i(k,null)}})}unlisten(e,n){const r=kE.getListenId_(e,n);delete this.listens_[r]}get(e){const n=oj(e._queryParams),r=e._path.toString(),i=new _e.cY;return this.restRequest_(r+".json",n,(o,s)=>{let a=s;404===o&&(a=null,o=null),null===o?(this.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,o])=>{i&&i.accessToken&&(n.auth=i.accessToken),o&&o.token&&(n.ac=o.token);const s=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+(0,_e.Am)(n);this.log_("Sending REST request for "+s);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&4===a.readyState){this.log_("REST Response for "+s+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=(0,_e.$L)(a.responseText)}catch{Mc("Failed to parse JSON response for "+s+": "+a.responseText)}r(null,l)}else 401!==a.status&&404!==a.status&&Mc("Got unsuccessful REST response for "+s+" Status: "+a.status),r(a.status);r=null}},a.open("GET",s,!0),a.send()})}}class Fme{constructor(){this.rootNode_=Ki.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}function RE(){return{value:null,children:new Map}}function by(t,e,n){if(po(e))t.value=n,t.children.clear();else if(null!==t.value)t.value=t.value.updateChild(e,n);else{const r=fo(e);t.children.has(r)||t.children.set(r,RE()),by(t.children.get(r),e=js(e),n)}}function HF(t,e){if(po(e))return t.value=null,t.children.clear(),!0;if(null!==t.value){if(t.value.isLeafNode())return!1;{const n=t.value;return t.value=null,n.forEachChild(Js,(r,i)=>{by(t,new bs(r),i)}),HF(t,e)}}if(t.children.size>0){const n=fo(e);return e=js(e),t.children.has(n)&&HF(t.children.get(n),e)&&t.children.delete(n),0===t.children.size}return!0}function jF(t,e,n){null!==t.value?n(e,t.value):function kme(t,e){t.children.forEach((n,r)=>{e(r,n)})}(t,(r,i)=>{jF(i,new bs(e.toString()+"/"+r),n)})}class Rme{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&ku(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=e,n}}class Mme{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new Rme(e);const r=1e4+2e4*Math.random();vw(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;ku(e,(i,o)=>{o>0&&(0,_e.gR)(this.statsToReport_,i)&&(n[i]=o,r=!0)}),r&&this.server_.reportStats(n),vw(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var Xf=function(t){return t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",t}(Xf||{});function GF(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}class PE{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=Xf.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(e){if(po(this.path)){if(null!=this.affectedTree.value)return(0,_e.vA)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new bs(e));return new PE(ls(),n,this.revert)}}return(0,_e.vA)(fo(this.path)===e,"operationForChild called for unrelated child."),new PE(js(this.path),this.affectedTree,this.revert)}}class Tw{constructor(e,n){this.source=e,this.path=n,this.type=Xf.LISTEN_COMPLETE}operationForChild(e){return po(this.path)?new Tw(this.source,ls()):new Tw(this.source,js(this.path))}}class lv{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=Xf.OVERWRITE}operationForChild(e){return po(this.path)?new lv(this.source,ls(),this.snap.getImmediateChild(e)):new lv(this.source,js(this.path),this.snap)}}class Iy{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=Xf.MERGE}operationForChild(e){if(po(this.path)){const n=this.children.subtree(new bs(e));return n.isEmpty()?null:n.value?new lv(this.source,ls(),n.value):new Iy(this.source,ls(),n)}return(0,_e.vA)(fo(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Iy(this.source,js(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class Gg{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(po(e))return this.isFullyInitialized()&&!this.filtered_;const n=fo(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}class Lme{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function Bw(t,e,n,r,i,o){const s=r.filter(a=>a.type===n);s.sort((a,l)=>function Vme(t,e,n){if(null==e.childName||null==n.childName)throw(0,_e.Hk)("Should only compare child_ events.");const r=new wo(e.childName,e.snapshotNode),i=new wo(n.childName,n.snapshotNode);return t.index_.compare(r,i)}(t,a,l)),s.forEach(a=>{const l=function Ume(t,e,n){return"value"===e.type||"child_removed"===e.type||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}(t,a,o);i.forEach(u=>{u.respondsTo(a.type)&&e.push(u.createEvent(l,t.query_))})})}function NE(t,e){return{eventCache:t,serverCache:e}}function Dw(t,e,n,r){return NE(new Gg(e,n,r),t.serverCache)}function lj(t,e,n,r){return NE(t.eventCache,new Gg(e,n,r))}function ME(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function uv(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}let WF;class Zs{constructor(e,n=(()=>(WF||(WF=new $d(Ige)),WF))()){this.value=e,this.children=n}static fromObject(e){let n=new Zs(null);return ku(e,(r,i)=>{n=n.set(new bs(r),i)}),n}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(null!=this.value&&n(this.value))return{path:ls(),value:this.value};if(po(e))return null;{const r=fo(e),i=this.children.get(r);if(null!==i){const o=i.findRootMostMatchingPathAndValue(js(e),n);return null!=o?{path:Ea(new bs(r),o.path),value:o.value}:null}return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(po(e))return this;{const n=fo(e),r=this.children.get(n);return null!==r?r.subtree(js(e)):new Zs(null)}}set(e,n){if(po(e))return new Zs(n,this.children);{const r=fo(e),o=(this.children.get(r)||new Zs(null)).set(js(e),n),s=this.children.insert(r,o);return new Zs(this.value,s)}}remove(e){if(po(e))return this.children.isEmpty()?new Zs(null):new Zs(null,this.children);{const n=fo(e),r=this.children.get(n);if(r){const i=r.remove(js(e));let o;return o=i.isEmpty()?this.children.remove(n):this.children.insert(n,i),null===this.value&&o.isEmpty()?new Zs(null):new Zs(this.value,o)}return this}}get(e){if(po(e))return this.value;{const n=fo(e),r=this.children.get(n);return r?r.get(js(e)):null}}setTree(e,n){if(po(e))return n;{const r=fo(e),o=(this.children.get(r)||new Zs(null)).setTree(js(e),n);let s;return s=o.isEmpty()?this.children.remove(r):this.children.insert(r,o),new Zs(this.value,s)}}fold(e){return this.fold_(ls(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((i,o)=>{r[i]=o.fold_(Ea(e,i),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,ls(),n)}findOnPath_(e,n,r){const i=!!this.value&&r(n,this.value);if(i)return i;if(po(e))return null;{const o=fo(e),s=this.children.get(o);return s?s.findOnPath_(js(e),Ea(n,o),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,ls(),n)}foreachOnPath_(e,n,r){if(po(e))return this;{this.value&&r(n,this.value);const i=fo(e),o=this.children.get(i);return o?o.foreachOnPath_(js(e),Ea(n,i),r):new Zs(null)}}foreach(e){this.foreach_(ls(),e)}foreach_(e,n){this.children.inorderTraversal((r,i)=>{i.foreach_(Ea(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}class Xh{constructor(e){this.writeTree_=e}static empty(){return new Xh(new Zs(null))}}function xw(t,e,n){if(po(e))return new Xh(new Zs(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(null!=r){const i=r.path;let o=r.value;const s=fd(i,e);return o=o.updateChild(s,n),new Xh(t.writeTree_.set(i,o))}{const i=new Zs(n),o=t.writeTree_.setTree(e,i);return new Xh(o)}}}function KF(t,e,n){let r=t;return ku(n,(i,o)=>{r=xw(r,Ea(e,i),o)}),r}function uj(t,e){if(po(e))return Xh.empty();{const n=t.writeTree_.setTree(e,new Zs(null));return new Xh(n)}}function qF(t,e){return null!=cv(t,e)}function cv(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return null!=n?t.writeTree_.get(n.path).getChild(fd(n.path,e)):null}function cj(t){const e=[],n=t.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(Js,(r,i)=>{e.push(new wo(r,i))}):t.writeTree_.children.inorderTraversal((r,i)=>{null!=i.value&&e.push(new wo(r,i.value))}),e}function Wg(t,e){if(po(e))return t;{const n=cv(t,e);return new Xh(null!=n?new Zs(n):t.writeTree_.subtree(e))}}function YF(t){return t.writeTree_.isEmpty()}function Ey(t,e){return dj(ls(),t.writeTree_,e)}function dj(t,e,n){if(null!=e.value)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((i,o)=>{".priority"===i?((0,_e.vA)(null!==o.value,"Priority writes must always be leaf nodes"),r=o.value):n=dj(Ea(t,i),o,n)}),!n.getChild(t).isEmpty()&&null!==r&&(n=n.updateChild(Ea(t,".priority"),r)),n}}function LE(t,e){return gj(e,t)}function Gme(t,e){if(t.snap)return Ah(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&Ah(Ea(t.path,n),e))return!0;return!1}function Kme(t){return t.visible}function Aj(t,e,n){let r=Xh.empty();for(let i=0;i<t.length;++i){const o=t[i];if(e(o)){const s=o.path;let a;if(o.snap)Ah(n,s)?(a=fd(n,s),r=xw(r,a,o.snap)):Ah(s,n)&&(a=fd(s,n),r=xw(r,ls(),o.snap.getChild(a)));else{if(!o.children)throw(0,_e.Hk)("WriteRecord should have .snap or .children");if(Ah(n,s))a=fd(n,s),r=KF(r,a,o.children);else if(Ah(s,n))if(a=fd(s,n),po(a))r=KF(r,ls(),o.children);else{const l=(0,_e.yw)(o.children,fo(a));if(l){const u=l.getChild(js(a));r=xw(r,ls(),u)}}}}}return r}function hj(t,e,n,r,i){if(r||i){const o=Wg(t.visibleWrites,e);return!i&&YF(o)?n:i||null!=n||qF(o,ls())?Ey(Aj(t.allWrites,function(u){return(u.visible||i)&&(!r||!~r.indexOf(u.writeId))&&(Ah(u.path,e)||Ah(e,u.path))},e),n||Ki.EMPTY_NODE):null}{const o=cv(t.visibleWrites,e);if(null!=o)return o;{const s=Wg(t.visibleWrites,e);return YF(s)?n:null!=n||qF(s,ls())?Ey(s,n||Ki.EMPTY_NODE):null}}}function OE(t,e,n,r){return hj(t.writeTree,t.treePath,e,n,r)}function XF(t,e){return function qme(t,e,n){let r=Ki.EMPTY_NODE;const i=cv(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(Js,(o,s)=>{r=r.updateImmediateChild(o,s)}),r;if(n){const o=Wg(t.visibleWrites,e);return n.forEachChild(Js,(s,a)=>{const l=Ey(Wg(o,new bs(s)),a);r=r.updateImmediateChild(s,l)}),cj(o).forEach(s=>{r=r.updateImmediateChild(s.name,s.node)}),r}return cj(Wg(t.visibleWrites,e)).forEach(s=>{r=r.updateImmediateChild(s.name,s.node)}),r}(t.writeTree,t.treePath,e)}function fj(t,e,n,r){return function Yme(t,e,n,r,i){(0,_e.vA)(r||i,"Either existingEventSnap or existingServerSnap must exist");const o=Ea(e,n);if(qF(t.visibleWrites,o))return null;{const s=Wg(t.visibleWrites,o);return YF(s)?i.getChild(n):Ey(s,i.getChild(n))}}(t.writeTree,t.treePath,e,n,r)}function UE(t,e){return function Jme(t,e){return cv(t.visibleWrites,e)}(t.writeTree,Ea(t.treePath,e))}function JF(t,e,n){return function Xme(t,e,n,r){const i=Ea(e,n),o=cv(t.visibleWrites,i);return null!=o?o:r.isCompleteForChild(n)?Ey(Wg(t.visibleWrites,i),r.getNode().getImmediateChild(n)):null}(t.writeTree,t.treePath,e,n)}function pj(t,e){return gj(Ea(t.treePath,e),t.writeTree)}function gj(t,e){return{treePath:t,writeTree:e}}class nve{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;(0,_e.vA)("child_added"===n||"child_changed"===n||"child_removed"===n,"Only child changes supported for tracking"),(0,_e.vA)(".priority"!==r,"Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const o=i.type;if("child_added"===n&&"child_removed"===o)this.changeMap.set(r,Ew(r,e.snapshotNode,i.snapshotNode));else if("child_removed"===n&&"child_added"===o)this.changeMap.delete(r);else if("child_removed"===n&&"child_changed"===o)this.changeMap.set(r,Iw(r,i.oldSnap));else if("child_changed"===n&&"child_added"===o)this.changeMap.set(r,Cy(r,e.snapshotNode));else{if("child_changed"!==n||"child_changed"!==o)throw(0,_e.Hk)("Illegal combination of changes: "+e+" occurred after "+i);this.changeMap.set(r,Ew(r,e.snapshotNode,i.oldSnap))}}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}const mj=new class rve{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}};class ZF{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=null!=this.optCompleteServerCache_?new Gg(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return JF(this.writes_,e,r)}}getChildAfterChild(e,n,r){const i=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:uv(this.viewCache_),o=function tve(t,e,n,r,i,o){return function Zme(t,e,n,r,i,o,s){let a;const l=Wg(t.visibleWrites,e),u=cv(l,ls());if(null!=u)a=u;else{if(null==n)return[];a=Ey(l,n)}if(a=a.withIndex(s),a.isEmpty()||a.isLeafNode())return[];{const m=[],I=s.getCompare(),k=o?a.getReverseIteratorFrom(r,s):a.getIteratorFrom(r,s);let U=k.getNext();for(;U&&m.length<i;)0!==I(U,r)&&m.push(U),U=k.getNext();return m}}(t.writeTree,t.treePath,e,n,r,i,o)}(this.writes_,i,n,1,r,e);return 0===o.length?null:o[0]}}function vj(t,e,n,r,i,o){const s=e.eventCache;if(null!=UE(r,n))return e;{let a,l;if(po(n))if((0,_e.vA)(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const u=uv(e),I=XF(r,u instanceof Ki?u:Ki.EMPTY_NODE);a=t.filter.updateFullNode(e.eventCache.getNode(),I,o)}else{const u=OE(r,uv(e));a=t.filter.updateFullNode(e.eventCache.getNode(),u,o)}else{const u=fo(n);if(".priority"===u){(0,_e.vA)(1===$g(n),"Can't have a priority with additional path components");const m=s.getNode();l=e.serverCache.getNode();const I=fj(r,n,m,l);a=null!=I?t.filter.updatePriority(m,I):s.getNode()}else{const m=js(n);let I;if(s.isCompleteForChild(u)){l=e.serverCache.getNode();const k=fj(r,n,s.getNode(),l);I=null!=k?s.getNode().getImmediateChild(u).updateChild(m,k):s.getNode().getImmediateChild(u)}else I=JF(r,u,e.serverCache);a=null!=I?t.filter.updateChild(s.getNode(),u,I,m,i,o):s.getNode()}}return Dw(e,a,s.isFullyInitialized()||po(n),t.filter.filtersNodes())}}function VE(t,e,n,r,i,o,s,a){const l=e.serverCache;let u;const m=s?t.filter:t.filter.getIndexedFilter();if(po(n))u=m.updateFullNode(l.getNode(),r,null);else if(m.filtersNodes()&&!l.isFiltered()){const U=l.getNode().updateChild(n,r);u=m.updateFullNode(l.getNode(),U,null)}else{const U=fo(n);if(!l.isCompleteForPath(n)&&$g(n)>1)return e;const Y=js(n),xe=l.getNode().getImmediateChild(U).updateChild(Y,r);u=".priority"===U?m.updatePriority(l.getNode(),xe):m.updateChild(l.getNode(),U,xe,Y,mj,null)}const I=lj(e,u,l.isFullyInitialized()||po(n),m.filtersNodes());return vj(t,I,n,i,new ZF(i,I,o),a)}function ek(t,e,n,r,i,o,s){const a=e.eventCache;let l,u;const m=new ZF(i,e,o);if(po(n))u=t.filter.updateFullNode(e.eventCache.getNode(),r,s),l=Dw(e,u,!0,t.filter.filtersNodes());else{const I=fo(n);if(".priority"===I)u=t.filter.updatePriority(e.eventCache.getNode(),r),l=Dw(e,u,a.isFullyInitialized(),a.isFiltered());else{const k=js(n),U=a.getNode().getImmediateChild(I);let Y;if(po(k))Y=r;else{const ve=m.getCompleteChild(I);Y=null!=ve?".priority"===FF(k)&&ve.getChild(K9(k)).isEmpty()?ve:ve.updateChild(k,r):Ki.EMPTY_NODE}l=U.equals(Y)?e:Dw(e,t.filter.updateChild(a.getNode(),I,Y,k,m,s),a.isFullyInitialized(),t.filter.filtersNodes())}}return l}function yj(t,e){return t.eventCache.isCompleteForChild(e)}function _j(t,e,n){return n.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function tk(t,e,n,r,i,o,s,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let u,l=e;u=po(n)?r:new Zs(null).setTree(n,r);const m=e.serverCache.getNode();return u.children.inorderTraversal((I,k)=>{if(m.hasChild(I)){const Y=_j(0,e.serverCache.getNode().getImmediateChild(I),k);l=VE(t,l,new bs(I),Y,i,o,s,a)}}),u.children.inorderTraversal((I,k)=>{const U=!e.serverCache.isCompleteForChild(I)&&null===k.value;if(!m.hasChild(I)&&!U){const ve=_j(0,e.serverCache.getNode().getImmediateChild(I),k);l=VE(t,l,new bs(I),ve,i,o,s,a)}}),l}class Ave{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const r=this.query_._queryParams,i=new UF(r.getIndex()),o=function Sme(t){return t.loadsAllData()?new UF(t.getIndex()):t.hasLimit()?new Eme(t):new Sw(t)}(r);this.processor_=function ive(t){return{filter:t}}(o);const s=n.serverCache,a=n.eventCache,l=i.updateFullNode(Ki.EMPTY_NODE,s.getNode(),null),u=o.updateFullNode(Ki.EMPTY_NODE,a.getNode(),null),m=new Gg(l,s.isFullyInitialized(),i.filtersNodes()),I=new Gg(u,a.isFullyInitialized(),o.filtersNodes());this.viewCache_=NE(I,m),this.eventGenerator_=new Lme(this.query_)}get query(){return this.query_}}function pve(t,e){const n=uv(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!po(e)&&!n.getImmediateChild(fo(e)).isEmpty())?n.getChild(e):null}function wj(t){return 0===t.eventRegistrations_.length}function Cj(t,e,n){const r=[];if(n){(0,_e.vA)(null==e,"A cancel should cancel all event registrations.");const i=t.query._path;t.eventRegistrations_.forEach(o=>{const s=o.createCancelEvent(n,i);s&&r.push(s)})}if(e){let i=[];for(let o=0;o<t.eventRegistrations_.length;++o){const s=t.eventRegistrations_[o];if(s.matches(e)){if(e.hasAnyCallback()){i=i.concat(t.eventRegistrations_.slice(o+1));break}}else i.push(s)}t.eventRegistrations_=i}else t.eventRegistrations_=[];return r}function bj(t,e,n,r){e.type===Xf.MERGE&&null!==e.source.queryId&&((0,_e.vA)(uv(t.viewCache_),"We should always have a full cache before handling merges"),(0,_e.vA)(ME(t.viewCache_),"Missing event cache, even though we have a server cache"));const i=t.viewCache_,o=function sve(t,e,n,r,i){const o=new nve;let s,a;if(n.type===Xf.OVERWRITE){const u=n;u.source.fromUser?s=ek(t,e,u.path,u.snap,r,i,o):((0,_e.vA)(u.source.fromServer,"Unknown source."),a=u.source.tagged||e.serverCache.isFiltered()&&!po(u.path),s=VE(t,e,u.path,u.snap,r,i,a,o))}else if(n.type===Xf.MERGE){const u=n;u.source.fromUser?s=function lve(t,e,n,r,i,o,s){let a=e;return r.foreach((l,u)=>{const m=Ea(n,l);yj(e,fo(m))&&(a=ek(t,a,m,u,i,o,s))}),r.foreach((l,u)=>{const m=Ea(n,l);yj(e,fo(m))||(a=ek(t,a,m,u,i,o,s))}),a}(t,e,u.path,u.children,r,i,o):((0,_e.vA)(u.source.fromServer,"Unknown source."),a=u.source.tagged||e.serverCache.isFiltered(),s=tk(t,e,u.path,u.children,r,i,a,o))}else if(n.type===Xf.ACK_USER_WRITE){const u=n;s=u.revert?function dve(t,e,n,r,i,o){let s;if(null!=UE(r,n))return e;{const a=new ZF(r,e,i),l=e.eventCache.getNode();let u;if(po(n)||".priority"===fo(n)){let m;if(e.serverCache.isFullyInitialized())m=OE(r,uv(e));else{const I=e.serverCache.getNode();(0,_e.vA)(I instanceof Ki,"serverChildren would be complete if leaf node"),m=XF(r,I)}u=t.filter.updateFullNode(l,m,o)}else{const m=fo(n);let I=JF(r,m,e.serverCache);null==I&&e.serverCache.isCompleteForChild(m)&&(I=l.getImmediateChild(m)),u=null!=I?t.filter.updateChild(l,m,I,js(n),a,o):e.eventCache.getNode().hasChild(m)?t.filter.updateChild(l,m,Ki.EMPTY_NODE,js(n),a,o):l,u.isEmpty()&&e.serverCache.isFullyInitialized()&&(s=OE(r,uv(e)),s.isLeafNode()&&(u=t.filter.updateFullNode(u,s,o)))}return s=e.serverCache.isFullyInitialized()||null!=UE(r,ls()),Dw(e,u,s,t.filter.filtersNodes())}}(t,e,u.path,r,i,o):function uve(t,e,n,r,i,o,s){if(null!=UE(i,n))return e;const a=e.serverCache.isFiltered(),l=e.serverCache;if(null!=r.value){if(po(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return VE(t,e,n,l.getNode().getChild(n),i,o,a,s);if(po(n)){let u=new Zs(null);return l.getNode().forEachChild(Yf,(m,I)=>{u=u.set(new bs(m),I)}),tk(t,e,n,u,i,o,a,s)}return e}{let u=new Zs(null);return r.foreach((m,I)=>{const k=Ea(n,m);l.isCompleteForPath(k)&&(u=u.set(m,l.getNode().getChild(k)))}),tk(t,e,n,u,i,o,a,s)}}(t,e,u.path,u.affectedTree,r,i,o)}else{if(n.type!==Xf.LISTEN_COMPLETE)throw(0,_e.Hk)("Unknown operation type: "+n.type);s=function cve(t,e,n,r,i){const o=e.serverCache;return vj(t,lj(e,o.getNode(),o.isFullyInitialized()||po(n),o.isFiltered()),n,r,mj,i)}(t,e,n.path,r,o)}const l=o.getChanges();return function ave(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=ME(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(ij(ME(e)))}}(e,s,l),{viewCache:s,changes:l}}(t.processor_,i,e,n,r);return function ove(t,e){(0,_e.vA)(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),(0,_e.vA)(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}(t.processor_,o.viewCache),(0,_e.vA)(o.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=o.viewCache,Ij(t,o.changes,o.viewCache.eventCache.getNode(),null)}function Ij(t,e,n,r){return function Ome(t,e,n,r){const i=[],o=[];return e.forEach(s=>{"child_changed"===s.type&&t.index_.indexedValueChanged(s.oldSnap,s.snapshotNode)&&o.push(function Ime(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}(s.childName,s.snapshotNode))}),Bw(t,i,"child_removed",e,r,n),Bw(t,i,"child_added",e,r,n),Bw(t,i,"child_moved",o,r,n),Bw(t,i,"child_changed",e,r,n),Bw(t,i,"value",e,r,n),i}(t.eventGenerator_,e,n,r?[r]:t.eventRegistrations_)}let QE,jE;class Ej{constructor(){this.views=new Map}}function nk(t,e,n,r){const i=e.source.queryId;if(null!==i){const o=t.views.get(i);return(0,_e.vA)(null!=o,"SyncTree gave us an op for an invalid query."),bj(o,e,n,r)}{let o=[];for(const s of t.views.values())o=o.concat(bj(s,e,n,r));return o}}function Sj(t,e,n,r,i){const s=t.views.get(e._queryIdentifier);if(!s){let a=OE(n,i?r:null),l=!1;a?l=!0:r instanceof Ki?(a=XF(n,r),l=!1):(a=Ki.EMPTY_NODE,l=!1);const u=NE(new Gg(a,l,!1),new Gg(r,i,!1));return new Ave(e,u)}return s}function Tj(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function Kg(t,e){let n=null;for(const r of t.views.values())n=n||pve(r,e);return n}function Bj(t,e){return e._queryParams.loadsAllData()?HE(t):t.views.get(e._queryIdentifier)}function Dj(t,e){return null!=Bj(t,e)}function qg(t){return null!=HE(t)}function HE(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}let Eve=1;class xj{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Zs(null),this.pendingWriteTree_=function eve(){return{visibleWrites:Xh.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function rk(t,e,n,r,i){return function Hme(t,e,n,r,i){(0,_e.vA)(r>t.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=xw(t.visibleWrites,e,n)),t.lastWriteId=r}(t.pendingWriteTree_,e,n,r,i),i?Sy(t,new lv({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,n)):[]}function Yg(t,e,n=!1){const r=function zme(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}(t.pendingWriteTree_,e);if(function $me(t,e){const n=t.allWrites.findIndex(a=>a.writeId===e);(0,_e.vA)(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let i=r.visible,o=!1,s=t.allWrites.length-1;for(;i&&s>=0;){const a=t.allWrites[s];a.visible&&(s>=n&&Gme(a,r.path)?i=!1:Ah(r.path,a.path)&&(o=!0)),s--}return!!i&&(o?(function Wme(t){t.visibleWrites=Aj(t.allWrites,Kme,ls()),t.lastWriteId=t.allWrites.length>0?t.allWrites[t.allWrites.length-1].writeId:-1}(t),!0):(r.snap?t.visibleWrites=uj(t.visibleWrites,r.path):ku(r.children,l=>{t.visibleWrites=uj(t.visibleWrites,Ea(r.path,l))}),!0))}(t.pendingWriteTree_,e)){let o=new Zs(null);return null!=r.snap?o=o.set(ls(),!0):ku(r.children,s=>{o=o.set(new bs(s),!0)}),Sy(t,new PE(r.path,o,n))}return[]}function Fw(t,e,n){return Sy(t,new lv({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,n))}function zE(t,e,n,r,i=!1){const o=e._path,s=t.syncPointTree_.get(o);let a=[];if(s&&("default"===e._queryIdentifier||Dj(s,e))){const l=function Cve(t,e,n,r){const i=e._queryIdentifier,o=[];let s=[];const a=qg(t);if("default"===i)for(const[l,u]of t.views.entries())s=s.concat(Cj(u,n,r)),wj(u)&&(t.views.delete(l),u.query._queryParams.loadsAllData()||o.push(u.query));else{const l=t.views.get(i);l&&(s=s.concat(Cj(l,n,r)),wj(l)&&(t.views.delete(i),l.query._queryParams.loadsAllData()||o.push(l.query)))}return a&&!qg(t)&&o.push(new(function yve(){return(0,_e.vA)(QE,"Reference.ts has not been loaded"),QE}())(e._repo,e._path)),{removed:o,events:s}}(s,e,n,r);(function _ve(t){return 0===t.views.size})(s)&&(t.syncPointTree_=t.syncPointTree_.remove(o));const u=l.removed;if(a=l.events,!i){const m=-1!==u.findIndex(k=>k._queryParams.loadsAllData()),I=t.syncPointTree_.findOnPath(o,(k,U)=>qg(U));if(m&&!I){const k=t.syncPointTree_.subtree(o);if(!k.isEmpty()){const U=function kve(t){return t.fold((e,n,r)=>{if(n&&qg(n))return[HE(n)];{let i=[];return n&&(i=Tj(n)),ku(r,(o,s)=>{i=i.concat(s)}),i}})}(k);for(let Y=0;Y<U.length;++Y){const ve=U[Y],xe=ve.query,st=Pj(t,ve);t.listenProvider_.startListening(Rw(xe),kw(t,xe),st.hashFn,st.onComplete)}}}!I&&u.length>0&&!r&&(m?t.listenProvider_.stopListening(Rw(e),null):u.forEach(k=>{const U=t.queryToTagMap.get(GE(k));t.listenProvider_.stopListening(Rw(k),U)}))}!function Rve(t,e){for(let n=0;n<e.length;++n){const r=e[n];if(!r._queryParams.loadsAllData()){const i=GE(r),o=t.queryToTagMap.get(i);t.queryToTagMap.delete(i),t.tagToQueryMap.delete(o)}}}(t,u)}return a}function Fj(t,e,n,r){const i=ok(t,r);if(null!=i){const o=sk(i),s=o.path,a=o.queryId,l=fd(s,e);return ak(t,s,new lv(GF(a),l,n))}return[]}function ik(t,e,n,r=!1){const i=e._path;let o=null,s=!1;t.syncPointTree_.foreachOnPath(i,(k,U)=>{const Y=fd(k,i);o=o||Kg(U,Y),s=s||qg(U)});let l,a=t.syncPointTree_.get(i);a?(s=s||qg(a),o=o||Kg(a,ls())):(a=new Ej,t.syncPointTree_=t.syncPointTree_.set(i,a)),null!=o?l=!0:(l=!1,o=Ki.EMPTY_NODE,t.syncPointTree_.subtree(i).foreachChild((U,Y)=>{const ve=Kg(Y,ls());ve&&(o=o.updateImmediateChild(U,ve))}));const u=Dj(a,e);if(!u&&!e._queryParams.loadsAllData()){const k=GE(e);(0,_e.vA)(!t.queryToTagMap.has(k),"View does not exist, but we have a tag");const U=function Pve(){return Eve++}();t.queryToTagMap.set(k,U),t.tagToQueryMap.set(U,k)}let I=function wve(t,e,n,r,i,o){const s=Sj(t,e,r,i,o);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,s),function gve(t,e){t.eventRegistrations_.push(e)}(s,n),function mve(t,e){const n=t.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(Js,(o,s)=>{r.push(Cy(o,s))}),n.isFullyInitialized()&&r.push(ij(n.getNode())),Ij(t,r,n.getNode(),e)}(s,n)}(a,e,n,LE(t.pendingWriteTree_,i),o,l);if(!u&&!s&&!r){const k=Bj(a,e);I=I.concat(function Nve(t,e,n){const r=e._path,i=kw(t,e),o=Pj(t,n),s=t.listenProvider_.startListening(Rw(e),i,o.hashFn,o.onComplete),a=t.syncPointTree_.subtree(r);if(i)(0,_e.vA)(!qg(a.value),"If we're adding a query, it shouldn't be shadowed");else{const l=a.fold((u,m,I)=>{if(!po(u)&&m&&qg(m))return[HE(m).query];{let k=[];return m&&(k=k.concat(Tj(m).map(U=>U.query))),ku(I,(U,Y)=>{k=k.concat(Y)}),k}});for(let u=0;u<l.length;++u){const m=l[u];t.listenProvider_.stopListening(Rw(m),kw(t,m))}}return s}(t,e,k))}return I}function $E(t,e,n){const i=t.pendingWriteTree_,o=t.syncPointTree_.findOnPath(e,(s,a)=>{const u=Kg(a,fd(s,e));if(u)return u});return hj(i,e,o,n,!0)}function Sy(t,e){return kj(e,t.syncPointTree_,null,LE(t.pendingWriteTree_,ls()))}function kj(t,e,n,r){if(po(t.path))return Rj(t,e,n,r);{const i=e.get(ls());null==n&&null!=i&&(n=Kg(i,ls()));let o=[];const s=fo(t.path),a=t.operationForChild(s),l=e.children.get(s);if(l&&a){const u=n?n.getImmediateChild(s):null,m=pj(r,s);o=o.concat(kj(a,l,u,m))}return i&&(o=o.concat(nk(i,t,r,n))),o}}function Rj(t,e,n,r){const i=e.get(ls());null==n&&null!=i&&(n=Kg(i,ls()));let o=[];return e.children.inorderTraversal((s,a)=>{const l=n?n.getImmediateChild(s):null,u=pj(r,s),m=t.operationForChild(s);m&&(o=o.concat(Rj(m,a,l,u)))}),i&&(o=o.concat(nk(i,t,r,n))),o}function Pj(t,e){const n=e.query,r=kw(t,n);return{hashFn:()=>(function hve(t){return t.viewCache_.serverCache.getNode()}(e)||Ki.EMPTY_NODE).hash(),onComplete:i=>{if("ok"===i)return r?function Dve(t,e,n){const r=ok(t,n);if(r){const i=sk(r),o=i.path,s=i.queryId,a=fd(o,e);return ak(t,o,new Tw(GF(s),a))}return[]}(t,n._path,r):function Bve(t,e){return Sy(t,new Tw({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e))}(t,n._path);{const o=function Tge(t,e){let n="Unknown Error";"too_big"===t?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===t?n="Client doesn't have permission to access the desired data.":"unavailable"===t&&(n="The service is unavailable");const r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}(i,n);return zE(t,n,null,o)}}}}function kw(t,e){const n=GE(e);return t.queryToTagMap.get(n)}function GE(t){return t._path.toString()+"$"+t._queryIdentifier}function ok(t,e){return t.tagToQueryMap.get(e)}function sk(t){const e=t.indexOf("$");return(0,_e.vA)(-1!==e&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new bs(t.substr(0,e))}}function ak(t,e,n){const r=t.syncPointTree_.get(e);return(0,_e.vA)(r,"Missing sync point for query tag that we're tracking"),nk(r,n,LE(t.pendingWriteTree_,e),null)}function Rw(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(function Ive(){return(0,_e.vA)(jE,"Reference.ts has not been loaded"),jE}())(t._repo,t._path):t}class lk{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new lk(n)}node(){return this.node_}}class uk{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=Ea(this.path_,e);return new uk(this.syncTree_,n)}node(){return $E(this.syncTree_,this.path_)}}const Mve=function(t){return(t=t||{}).timestamp=t.timestamp||(new Date).getTime(),t},Nj=function(t,e,n){return t&&"object"==typeof t?((0,_e.vA)(".sv"in t,"Unexpected leaf node or priority contents"),"string"==typeof t[".sv"]?Lve(t[".sv"],e,n):"object"==typeof t[".sv"]?Ove(t[".sv"],e):void(0,_e.vA)(!1,"Unexpected server value: "+JSON.stringify(t,null,2))):t},Lve=function(t,e,n){if("timestamp"===t)return n.timestamp;(0,_e.vA)(!1,"Unexpected server value: "+t)},Ove=function(t,e,n){t.hasOwnProperty("increment")||(0,_e.vA)(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;"number"!=typeof r&&(0,_e.vA)(!1,"Unexpected increment value: "+r);const i=e.node();if((0,_e.vA)(null!==i&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const s=i.getValue();return"number"!=typeof s?r:s+r},Mj=function(t,e,n,r){return dk(e,new uk(n,t),r)},ck=function(t,e,n){return dk(t,new lk(e),n)};function dk(t,e,n){const r=t.getPriority().val(),i=Nj(r,e.getImmediateChild(".priority"),n);let o;if(t.isLeafNode()){const s=t,a=Nj(s.getValue(),e,n);return a!==s.getValue()||i!==s.getPriority().val()?new _y(a,Ra(i)):t}{const s=t;return o=s,i!==s.getPriority().val()&&(o=o.updatePriority(new _y(i))),s.forEachChild(Js,(a,l)=>{const u=dk(l,e.getImmediateChild(a),n);u!==l&&(o=o.updateImmediateChild(a,u))}),o}}class Ak{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function WE(t,e){let n=e instanceof bs?e:new bs(e),r=t,i=fo(n);for(;null!==i;){const o=(0,_e.yw)(r.node.children,i)||{children:{},childCount:0};r=new Ak(i,r,o),n=js(n),i=fo(n)}return r}function dv(t){return t.node.value}function hk(t,e){t.node.value=e,fk(t)}function Lj(t){return t.node.childCount>0}function KE(t,e){ku(t.node.children,(n,r)=>{e(new Ak(n,t,r))})}function Oj(t,e,n,r){n&&!r&&e(t),KE(t,i=>{Oj(i,e,!0,r)}),n&&r&&e(t)}function Pw(t){return new bs(null===t.parent?t.name:Pw(t.parent)+"/"+t.name)}function fk(t){null!==t.parent&&function Qve(t,e,n){const r=function Uve(t){return void 0===dv(t)&&!Lj(t)}(n),i=(0,_e.gR)(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,fk(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,fk(t))}(t.parent,t.name,t)}const Hve=/[\[\].#$\/\u0000-\u001F\u007F]/,jve=/[\[\].#$\u0000-\u001F\u007F]/,pk=10485760,qE=function(t){return"string"==typeof t&&0!==t.length&&!Hve.test(t)},Uj=function(t){return"string"==typeof t&&0!==t.length&&!jve.test(t)},Nw=function(t){return null===t||"string"==typeof t||"number"==typeof t&&!CE(t)||t&&"object"==typeof t&&(0,_e.gR)(t,".sv")},Jf=function(t,e,n,r){r&&void 0===e||Mw((0,_e.dI)(t,"value"),e,n)},Mw=function(t,e,n){const r=n instanceof bs?new sme(n,t):n;if(void 0===e)throw new Error(t+"contains undefined "+sv(r));if("function"==typeof e)throw new Error(t+"contains a function "+sv(r)+" with contents = "+e.toString());if(CE(e))throw new Error(t+"contains "+e.toString()+" "+sv(r));if("string"==typeof e&&e.length>pk/3&&(0,_e.OE)(e)>pk)throw new Error(t+"contains a string greater than "+pk+" utf8 bytes "+sv(r)+" ('"+e.substring(0,50)+"...')");if(e&&"object"==typeof e){let i=!1,o=!1;if(ku(e,(s,a)=>{if(".value"===s)i=!0;else if(".priority"!==s&&".sv"!==s&&(o=!0,!qE(s)))throw new Error(t+" contains an invalid key ("+s+") "+sv(r)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function ame(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=(0,_e.OE)(e),q9(t)})(r,s),Mw(t,a,r),function lme(t){const e=t.parts_.pop();t.byteLength_-=(0,_e.OE)(e),t.parts_.length>0&&(t.byteLength_-=1)}(r)}),i&&o)throw new Error(t+' contains ".value" child '+sv(r)+" in addition to actual children.")}},Vj=function(t,e,n,r){if(r&&void 0===e)return;const i=(0,_e.dI)(t,"values");if(!e||"object"!=typeof e||Array.isArray(e))throw new Error(i+" must be an object containing the children to replace.");const o=[];ku(e,(s,a)=>{const l=new bs(s);if(Mw(i,a,Ea(n,l)),".priority"===FF(l)&&!Nw(a))throw new Error(i+"contains an invalid value for '"+l.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");o.push(l)}),function(t,e){let n,r;for(n=0;n<e.length;n++){r=e[n];const o=_w(r);for(let s=0;s<o.length;s++)if((".priority"!==o[s]||s!==o.length-1)&&!qE(o[s]))throw new Error(t+"contains an invalid key ("+o[s]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}e.sort(ome);let i=null;for(n=0;n<e.length;n++){if(r=e[n],null!==i&&Ah(i,r))throw new Error(t+"contains a path "+i.toString()+" that is ancestor of another path "+r.toString());i=r}}(i,o)},gk=function(t,e,n){if(!n||void 0!==e){if(CE(e))throw new Error((0,_e.dI)(t,"priority")+"is "+e.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!Nw(e))throw new Error((0,_e.dI)(t,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},Lw=function(t,e,n,r){if(!(r&&void 0===n||qE(n)))throw new Error((0,_e.dI)(t,e)+'was an invalid key = "'+n+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},Ow=function(t,e,n,r){if(!(r&&void 0===n||Uj(n)))throw new Error((0,_e.dI)(t,e)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},Gve=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),Ow(t,e,n,r)},hh=function(t,e){if(".info"===fo(e))throw new Error(t+" failed = Can't modify data under /.info/")},Qj=function(t,e){const n=e.path.toString();if("string"!=typeof e.repoInfo.host||0===e.repoInfo.host.length||!qE(e.repoInfo.namespace)&&"localhost"!==e.repoInfo.host.split(":")[0]||0!==n.length&&!function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),Uj(t)}(n))throw new Error((0,_e.dI)(t,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class Wve{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function YE(t,e){let n=null;for(let r=0;r<e.length;r++){const i=e[r],o=i.getPath();null!==n&&!kF(o,n.path)&&(t.eventLists_.push(n),n=null),null===n&&(n={events:[],path:o}),n.events.push(i)}n&&t.eventLists_.push(n)}function Hj(t,e,n){YE(t,n),jj(t,r=>kF(r,e))}function RA(t,e,n){YE(t,n),jj(t,r=>Ah(r,e)||Ah(e,r))}function jj(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const i=t.eventLists_[r];i&&(e(i.path)?(Kve(t.eventLists_[r]),t.eventLists_[r]=null):n=!1)}n&&(t.eventLists_=[]),t.recursionDepth_--}function Kve(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(null!==n){t.events[e]=null;const r=n.getEventRunner();iv&&Fu("event: "+n.toString()),vy(r)}}}const zj="repo_interrupt",qve=25;class Yve{constructor(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Wve,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=RE(),this.transactionQueueTree_=new Ak,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function $j(t){const n=t.infoData_.getNode(new bs(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+n}function Uw(t){return Mve({timestamp:$j(t)})}function Gj(t,e,n,r,i){t.dataUpdateCount++;const o=new bs(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let s=[];if(i)if(r){const l=(0,_e.kH)(n,u=>Ra(u));s=function xve(t,e,n,r){const i=ok(t,r);if(i){const o=sk(i),s=o.path,a=o.queryId,l=fd(s,e),u=Zs.fromObject(n);return ak(t,s,new Iy(GF(a),l,u))}return[]}(t.serverSyncTree_,o,l,i)}else{const l=Ra(n);s=Fj(t.serverSyncTree_,o,l,i)}else if(r){const l=(0,_e.kH)(n,u=>Ra(u));s=function Tve(t,e,n){const r=Zs.fromObject(n);return Sy(t,new Iy({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,r))}(t.serverSyncTree_,o,l)}else{const l=Ra(n);s=Fw(t.serverSyncTree_,o,l)}let a=o;s.length>0&&(a=By(t,o)),RA(t.eventQueue_,a,s)}function Wj(t,e){mk(t,"connected",e),!1===e&&function t0e(t){Ty(t,"onDisconnectEvents");const e=Uw(t),n=RE();jF(t.onDisconnect_,ls(),(i,o)=>{const s=Mj(i,o,t.serverSyncTree_,e);by(n,i,s)});let r=[];jF(n,ls(),(i,o)=>{r=r.concat(Fw(t.serverSyncTree_,i,o));const s=wk(t,i);By(t,s)}),t.onDisconnect_=RE(),RA(t.eventQueue_,ls(),r)}(t)}function mk(t,e,n){const r=new bs("/.info/"+e),i=Ra(n);t.infoData_.updateSnapshot(r,i);const o=Fw(t.infoSyncTree_,r,i);RA(t.eventQueue_,r,o)}function XE(t){return t.nextWriteId_++}function vk(t,e,n,r,i){Ty(t,"set",{path:e.toString(),value:n,priority:r});const o=Uw(t),s=Ra(n,r),a=$E(t.serverSyncTree_,e),l=ck(s,a,o),u=XE(t),m=rk(t.serverSyncTree_,e,l,u,!0);YE(t.eventQueue_,m),t.server_.put(e.toString(),s.val(!0),(k,U)=>{const Y="ok"===k;Y||Mc("set at "+e+" failed: "+k);const ve=Yg(t.serverSyncTree_,u,!Y);RA(t.eventQueue_,e,ve),Xg(0,i,k,U)});const I=wk(t,e);By(t,I),RA(t.eventQueue_,I,[])}function n0e(t,e,n){t.server_.onDisconnectCancel(e.toString(),(r,i)=>{"ok"===r&&HF(t.onDisconnect_,e),Xg(0,n,r,i)})}function Kj(t,e,n,r){const i=Ra(n);t.server_.onDisconnectPut(e.toString(),i.val(!0),(o,s)=>{"ok"===o&&by(t.onDisconnect_,e,i),Xg(0,r,o,s)})}function yk(t,e,n){let r;r=".info"===fo(e._path)?zE(t.infoSyncTree_,e,n):zE(t.serverSyncTree_,e,n),Hj(t.eventQueue_,e._path,r)}function qj(t){t.persistentConnection_&&t.persistentConnection_.interrupt(zj)}function Ty(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),Fu(n,...e)}function Xg(t,e,n,r){e&&vy(()=>{if("ok"===n)e(null);else{const i=(n||"error").toUpperCase();let o=i;r&&(o+=": "+r);const s=new Error(o);s.code=i,e(s)}})}function _k(t,e,n){return $E(t.serverSyncTree_,e,n)||Ki.EMPTY_NODE}function JE(t,e=t.transactionQueueTree_){if(e||ZE(t,e),dv(e)){const n=Xj(t,e);(0,_e.vA)(n.length>0,"Sending zero length transaction queue"),n.every(i=>0===i.status)&&function l0e(t,e,n){const r=n.map(u=>u.currentWriteId),i=_k(t,e,r);let o=i;const s=i.hash();for(let u=0;u<n.length;u++){const m=n[u];(0,_e.vA)(0===m.status,"tryToSendTransactionQueue_: items in queue should all be run."),m.status=1,m.retryCount++;const I=fd(e,m.path);o=o.updateChild(I,m.currentOutputSnapshotRaw)}const a=o.val(!0),l=e;t.server_.put(l.toString(),a,u=>{Ty(t,"transaction put response",{path:l.toString(),status:u});let m=[];if("ok"===u){const I=[];for(let k=0;k<n.length;k++)n[k].status=2,m=m.concat(Yg(t.serverSyncTree_,n[k].currentWriteId)),n[k].onComplete&&I.push(()=>n[k].onComplete(null,!0,n[k].currentOutputSnapshotResolved)),n[k].unwatcher();ZE(t,WE(t.transactionQueueTree_,e)),JE(t,t.transactionQueueTree_),RA(t.eventQueue_,e,m);for(let k=0;k<I.length;k++)vy(I[k])}else{if("datastale"===u)for(let I=0;I<n.length;I++)n[I].status=3===n[I].status?4:0;else{Mc("transaction at "+l.toString()+" failed: "+u);for(let I=0;I<n.length;I++)n[I].status=4,n[I].abortReason=u}By(t,e)}},s)}(t,Pw(e),n)}else Lj(e)&&KE(e,n=>{JE(t,n)})}function By(t,e){const n=Yj(t,e),r=Pw(n);return function u0e(t,e,n){if(0===e.length)return;const r=[];let i=[];const s=e.filter(a=>0===a.status).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){const l=e[a],u=fd(n,l.path);let I,m=!1;if((0,_e.vA)(null!==u,"rerunTransactionsUnderNode_: relativePath should not be null."),4===l.status)m=!0,I=l.abortReason,i=i.concat(Yg(t.serverSyncTree_,l.currentWriteId,!0));else if(0===l.status)if(l.retryCount>=qve)m=!0,I="maxretry",i=i.concat(Yg(t.serverSyncTree_,l.currentWriteId,!0));else{const k=_k(t,l.path,s);l.currentInputSnapshot=k;const U=e[a].update(k.val());if(void 0!==U){Mw("transaction failed: Data returned ",U,l.path);let Y=Ra(U);"object"==typeof U&&null!=U&&(0,_e.gR)(U,".priority")||(Y=Y.updatePriority(k.getPriority()));const xe=l.currentWriteId,st=Uw(t),at=ck(Y,k,st);l.currentOutputSnapshotRaw=Y,l.currentOutputSnapshotResolved=at,l.currentWriteId=XE(t),s.splice(s.indexOf(xe),1),i=i.concat(rk(t.serverSyncTree_,l.path,at,l.currentWriteId,l.applyLocally)),i=i.concat(Yg(t.serverSyncTree_,xe,!0))}else m=!0,I="nodata",i=i.concat(Yg(t.serverSyncTree_,l.currentWriteId,!0))}RA(t.eventQueue_,n,i),i=[],m&&(e[a].status=2,setTimeout(e[a].unwatcher,Math.floor(0)),e[a].onComplete&&r.push("nodata"===I?()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot):()=>e[a].onComplete(new Error(I),!1,null)))}ZE(t,t.transactionQueueTree_);for(let a=0;a<r.length;a++)vy(r[a]);JE(t,t.transactionQueueTree_)}(t,Xj(t,n),r),r}function Yj(t,e){let n,r=t.transactionQueueTree_;for(n=fo(e);null!==n&&void 0===dv(r);)r=WE(r,n),n=fo(e=js(e));return r}function Xj(t,e){const n=[];return Jj(t,e,n),n.sort((r,i)=>r.order-i.order),n}function Jj(t,e,n){const r=dv(e);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);KE(e,i=>{Jj(t,i,n)})}function ZE(t,e){const n=dv(e);if(n){let r=0;for(let i=0;i<n.length;i++)2!==n[i].status&&(n[r]=n[i],r++);n.length=r,hk(e,n.length>0?n:void 0)}KE(e,r=>{ZE(t,r)})}function wk(t,e){const n=Pw(Yj(t,e)),r=WE(t.transactionQueueTree_,e);return function Vve(t,e,n){let r=n?t:t.parent;for(;null!==r;){if(e(r))return!0;r=r.parent}}(r,i=>{Ck(t,i)}),Ck(t,r),Oj(r,i=>{Ck(t,i)}),n}function Ck(t,e){const n=dv(e);if(n){const r=[];let i=[],o=-1;for(let s=0;s<n.length;s++)3===n[s].status||(1===n[s].status?((0,_e.vA)(o===s-1,"All SENT items should be at beginning of queue."),o=s,n[s].status=3,n[s].abortReason="set"):((0,_e.vA)(0===n[s].status,"Unexpected transaction status in abort"),n[s].unwatcher(),i=i.concat(Yg(t.serverSyncTree_,n[s].currentWriteId,!0)),n[s].onComplete&&r.push(n[s].onComplete.bind(null,new Error("set"),!1,null))));-1===o?hk(e,void 0):n.length=o+1,RA(t.eventQueue_,Pw(e),i);for(let s=0;s<r.length;s++)vy(r[s])}}const bk=function(t,e){const n=A0e(t),r=n.namespace;return"firebase.com"===n.domain&&qf(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||"undefined"===r)&&"localhost"!==n.domain&&qf("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&Mc("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new EF(n.host,n.secure,r,"ws"===n.scheme||"wss"===n.scheme,e,"",r!==n.subdomain),path:new bs(n.pathString)}},A0e=function(t){let e="",n="",r="",i="",o="",s=!0,a="https",l=443;if("string"==typeof t){let u=t.indexOf("//");u>=0&&(a=t.substring(0,u-1),t=t.substring(u+2));let m=t.indexOf("/");-1===m&&(m=t.length);let I=t.indexOf("?");-1===I&&(I=t.length),e=t.substring(0,Math.min(m,I)),m<I&&(i=function c0e(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}(t.substring(m,I)));const k=function d0e(t){const e={};"?"===t.charAt(0)&&(t=t.substring(1));for(const n of t.split("&")){if(0===n.length)continue;const r=n.split("=");2===r.length?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):Mc(`Invalid query segment '${n}' in query '${t}'`)}return e}(t.substring(Math.min(t.length,I)));u=e.indexOf(":"),u>=0?(s="https"===a||"wss"===a,l=parseInt(e.substring(u+1),10)):u=e.length;const U=e.slice(0,u);if("localhost"===U.toLowerCase())n="localhost";else if(U.split(".").length<=2)n=U;else{const Y=e.indexOf(".");r=e.substring(0,Y).toLowerCase(),n=e.substring(Y+1),o=r}"ns"in k&&(o=k.ns)}return{host:e,port:l,domain:n,subdomain:r,secure:s,scheme:a,pathString:i,namespace:o}},Zj="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",h0e=function(){let t=0;const e=[];return function(n){const r=n===t;let i;t=n;const o=new Array(8);for(i=7;i>=0;i--)o[i]=Zj.charAt(n%64),n=Math.floor(n/64);(0,_e.vA)(0===n,"Cannot push at time == 0");let s=o.join("");if(r){for(i=11;i>=0&&63===e[i];i--)e[i]=0;e[i]++}else for(i=0;i<12;i++)e[i]=Math.floor(64*Math.random());for(i=0;i<12;i++)s+=Zj.charAt(e[i]);return(0,_e.vA)(20===s.length,"nextPushId: Length should be 20."),s}}();class ez{constructor(e,n,r,i){this.eventType=e,this.eventRegistration=n,this.snapshot=r,this.prevName=i}getPath(){const e=this.snapshot.ref;return"value"===this.eventType?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,_e.As)(this.snapshot.exportVal())}}class tz{constructor(e,n,r){this.eventRegistration=e,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class Ik{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return(0,_e.vA)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}class nz{constructor(e,n){this._repo=e,this._path=n}cancel(){const e=new _e.cY;return n0e(this._repo,this._path,e.wrapCallback(()=>{})),e.promise}remove(){hh("OnDisconnect.remove",this._path);const e=new _e.cY;return Kj(this._repo,this._path,null,e.wrapCallback(()=>{})),e.promise}set(e){hh("OnDisconnect.set",this._path),Jf("OnDisconnect.set",e,this._path,!1);const n=new _e.cY;return Kj(this._repo,this._path,e,n.wrapCallback(()=>{})),n.promise}setWithPriority(e,n){hh("OnDisconnect.setWithPriority",this._path),Jf("OnDisconnect.setWithPriority",e,this._path,!1),gk("OnDisconnect.setWithPriority",n,!1);const r=new _e.cY;return function r0e(t,e,n,r,i){const o=Ra(n,r);t.server_.onDisconnectPut(e.toString(),o.val(!0),(s,a)=>{"ok"===s&&by(t.onDisconnect_,e,o),Xg(0,i,s,a)})}(this._repo,this._path,e,n,r.wrapCallback(()=>{})),r.promise}update(e){hh("OnDisconnect.update",this._path),Vj("OnDisconnect.update",e,this._path,!1);const n=new _e.cY;return function i0e(t,e,n,r){if((0,_e.Im)(n))return Fu("onDisconnect().update() called with empty data.  Don't do anything."),void Xg(0,r,"ok",void 0);t.server_.onDisconnectMerge(e.toString(),n,(i,o)=>{"ok"===i&&ku(n,(s,a)=>{const l=Ra(a);by(t.onDisconnect_,Ea(e,s),l)}),Xg(0,r,i,o)})}(this._repo,this._path,e,n.wrapCallback(()=>{})),n.promise}}class Gd{constructor(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return po(this._path)?null:FF(this._path)}get ref(){return new fh(this._repo,this._path)}get _queryIdentifier(){const e=sj(this._queryParams),n=bF(e);return"{}"===n?"default":n}get _queryObject(){return sj(this._queryParams)}isEqual(e){if(!((e=(0,_e.Ku)(e))instanceof Gd))return!1;const n=this._repo===e._repo,r=kF(this._path,e._path);return n&&r&&this._queryIdentifier===e._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function ime(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)""!==t.pieces_[n]&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}(this._path)}}function e2(t,e){if(!0===t._orderByCalled)throw new Error(e+": You can't combine multiple orderBy calls.")}function Jg(t){let e=null,n=null;if(t.hasStart()&&(e=t.getIndexStartValue()),t.hasEnd()&&(n=t.getIndexEndValue()),t.getIndex()===Yf){const r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(t.hasStart()){if(t.getIndexStartName()!==jg)throw new Error(r);if("string"!=typeof e)throw new Error(i)}if(t.hasEnd()){if(t.getIndexEndName()!==Np)throw new Error(r);if("string"!=typeof n)throw new Error(i)}}else if(t.getIndex()===Js){if(null!=e&&!Nw(e)||null!=n&&!Nw(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,_e.vA)(t.getIndex()instanceof LF||t.getIndex()===OF,"unknown index type."),null!=e&&"object"==typeof e||null!=n&&"object"==typeof n)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function t2(t){if(t.hasStart()&&t.hasEnd()&&t.hasLimit()&&!t.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class fh extends Gd{constructor(e,n){super(e,n,new xE,!1)}get parent(){const e=K9(this._path);return null===e?null:new fh(this._repo,e)}get root(){let e=this;for(;null!==e.parent;)e=e.parent;return e}}class Av{constructor(e,n,r){this._node=e,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new bs(e),r=Lp(this.ref,e);return new Av(this._node.getChild(n),r,Js)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(r,i)=>e(new Av(i,Lp(this.ref,r),Js)))}hasChild(e){const n=new bs(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function rz(t,e){return(t=(0,_e.Ku)(t))._checkNotDeleted("ref"),void 0!==e?Lp(t._root,e):t._root}function iz(t,e){(t=(0,_e.Ku)(t))._checkNotDeleted("refFromURL");const n=bk(e,t._repo.repoInfo_.nodeAdmin);Qj("refFromURL",n);const r=n.repoInfo;return!t._repo.repoInfo_.isCustomHost()&&r.host!==t._repo.repoInfo_.host&&qf("refFromURL: Host name does not match the current database: (found "+r.host+" but expected "+t._repo.repoInfo_.host+")"),rz(t,n.path.toString())}function Lp(t,e){return null===fo((t=(0,_e.Ku)(t))._path)?Gve("child","path",e,!1):Ow("child","path",e,!1),new fh(t._repo,Ea(t._path,e))}function Ek(t,e){t=(0,_e.Ku)(t),hh("set",t._path),Jf("set",e,t._path,!1);const n=new _e.cY;return vk(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}function v0e(t,e){Vj("update",e,t._path,!1);const n=new _e.cY;return function e0e(t,e,n,r){Ty(t,"update",{path:e.toString(),value:n});let i=!0;const o=Uw(t),s={};if(ku(n,(a,l)=>{i=!1,s[a]=Mj(Ea(e,a),Ra(l),t.serverSyncTree_,o)}),i)Fu("update() called with empty data.  Don't do anything."),Xg(0,r,"ok",void 0);else{const a=XE(t),l=function Sve(t,e,n,r){!function jme(t,e,n,r){(0,_e.vA)(r>t.lastWriteId,"Stacking an older merge on top of newer ones"),t.allWrites.push({path:e,children:n,writeId:r,visible:!0}),t.visibleWrites=KF(t.visibleWrites,e,n),t.lastWriteId=r}(t.pendingWriteTree_,e,n,r);const i=Zs.fromObject(n);return Sy(t,new Iy({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,i))}(t.serverSyncTree_,e,s,a);YE(t.eventQueue_,l),t.server_.merge(e.toString(),n,(u,m)=>{const I="ok"===u;I||Mc("update at "+e+" failed: "+u);const k=Yg(t.serverSyncTree_,a,!I),U=k.length>0?By(t,e):e;RA(t.eventQueue_,U,k),Xg(0,r,u,m)}),ku(n,u=>{const m=wk(t,Ea(e,u));By(t,m)}),RA(t.eventQueue_,e,[])}}(t._repo,t._path,e,n.wrapCallback(()=>{})),n.promise}function Sk(t){t=(0,_e.Ku)(t);const e=new Ik(()=>{}),n=new Vw(e);return function Zve(t,e,n){const r=function Fve(t,e){const n=e._path;let r=null;t.syncPointTree_.foreachOnPath(n,(u,m)=>{const I=fd(u,n);r=r||Kg(m,I)});let i=t.syncPointTree_.get(n);i?r=r||Kg(i,ls()):(i=new Ej,t.syncPointTree_=t.syncPointTree_.set(n,i));const o=null!=r,s=o?new Gg(r,!0,!1):null;return function fve(t){return ME(t.viewCache_)}(Sj(i,e,LE(t.pendingWriteTree_,e._path),o?s.getNode():Ki.EMPTY_NODE,o))}(t.serverSyncTree_,e);return null!=r?Promise.resolve(r):t.server_.get(e).then(i=>{const o=Ra(i).withIndex(e._queryParams.getIndex());let s;if(ik(t.serverSyncTree_,e,n,!0),e._queryParams.loadsAllData())s=Fw(t.serverSyncTree_,e._path,o);else{const a=kw(t.serverSyncTree_,e);s=Fj(t.serverSyncTree_,e._path,o,a)}return RA(t.eventQueue_,e._path,s),zE(t.serverSyncTree_,e,n,null,!0),o},i=>(Ty(t,"get for query "+(0,_e.As)(e)+" failed: "+i),Promise.reject(new Error(i))))}(t._repo,t,n).then(r=>new Av(r,new fh(t._repo,t._path),t._queryParams.getIndex()))}class Vw{constructor(e){this.callbackContext=e}respondsTo(e){return"value"===e}createEvent(e,n){const r=n._queryParams.getIndex();return new ez("value",this,new Av(e.snapshotNode,new fh(n._repo,n._path),r))}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new tz(this,e,n):null}matches(e){return e instanceof Vw&&(!e.callbackContext||!this.callbackContext||e.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class n2{constructor(e,n){this.eventType=e,this.callbackContext=n}respondsTo(e){let n="children_added"===e?"child_added":e;return n="children_removed"===n?"child_removed":n,this.eventType===n}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new tz(this,e,n):null}createEvent(e,n){(0,_e.vA)(null!=e.childName,"Child events should have a childName.");const r=Lp(new fh(n._repo,n._path),e.childName),i=n._queryParams.getIndex();return new ez(e.type,this,new Av(e.snapshotNode,r,i),e.prevName)}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof n2&&this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function Qw(t,e,n,r,i){let o;if("object"==typeof r&&(o=void 0,i=r),"function"==typeof r&&(o=r),i&&i.onlyOnce){const l=n,u=(m,I)=>{yk(t._repo,t,a),l(m,I)};u.userCallback=n.userCallback,u.context=n.context,n=u}const s=new Ik(n,o||void 0),a="value"===e?new Vw(s):new n2(e,s);return function o0e(t,e,n){let r;r=".info"===fo(e._path)?ik(t.infoSyncTree_,e,n):ik(t.serverSyncTree_,e,n),Hj(t.eventQueue_,e._path,r)}(t._repo,t,a),()=>yk(t._repo,t,a)}function Tk(t,e,n,r){return Qw(t,"value",e,n,r)}function oz(t,e,n,r){return Qw(t,"child_added",e,n,r)}function sz(t,e,n,r){return Qw(t,"child_changed",e,n,r)}function az(t,e,n,r){return Qw(t,"child_moved",e,n,r)}function lz(t,e,n,r){return Qw(t,"child_removed",e,n,r)}function uz(t,e,n){let r=null;const i=n?new Ik(n):null;"value"===e?r=new Vw(i):e&&(r=new n2(e,i)),yk(t._repo,t,r)}class Jh{}class cz extends Jh{constructor(e,n){super(),this._value=e,this._key=n,this.type="endAt"}_apply(e){Jf("endAt",this._value,e._path,!0);const n=QF(e._queryParams,this._value,this._key);if(t2(n),Jg(n),e._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Gd(e._repo,e._path,n,e._orderByCalled)}}class _0e extends Jh{constructor(e,n){super(),this._value=e,this._key=n,this.type="endBefore"}_apply(e){Jf("endBefore",this._value,e._path,!1);const n=function xme(t,e,n){let r;return r=QF(t,e,t.index_===Yf||n?n:jg),r.endBeforeSet_=!0,r}(e._queryParams,this._value,this._key);if(t2(n),Jg(n),e._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Gd(e._repo,e._path,n,e._orderByCalled)}}class dz extends Jh{constructor(e,n){super(),this._value=e,this._key=n,this.type="startAt"}_apply(e){Jf("startAt",this._value,e._path,!0);const n=VF(e._queryParams,this._value,this._key);if(t2(n),Jg(n),e._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Gd(e._repo,e._path,n,e._orderByCalled)}}class b0e extends Jh{constructor(e,n){super(),this._value=e,this._key=n,this.type="startAfter"}_apply(e){Jf("startAfter",this._value,e._path,!1);const n=function Dme(t,e,n){let r;return r=VF(t,e,t.index_===Yf||n?n:Np),r.startAfterSet_=!0,r}(e._queryParams,this._value,this._key);if(t2(n),Jg(n),e._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new Gd(e._repo,e._path,n,e._orderByCalled)}}class E0e extends Jh{constructor(e){super(),this._limit=e,this.type="limitToFirst"}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new Gd(e._repo,e._path,function Tme(t,e){const n=t.copy();return n.limitSet_=!0,n.limit_=e,n.viewFrom_="l",n}(e._queryParams,this._limit),e._orderByCalled)}}class T0e extends Jh{constructor(e){super(),this._limit=e,this.type="limitToLast"}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new Gd(e._repo,e._path,function Bme(t,e){const n=t.copy();return n.limitSet_=!0,n.limit_=e,n.viewFrom_="r",n}(e._queryParams,this._limit),e._orderByCalled)}}class D0e extends Jh{constructor(e){super(),this._path=e,this.type="orderByChild"}_apply(e){e2(e,"orderByChild");const n=new bs(this._path);if(po(n))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const r=new LF(n),i=FE(e._queryParams,r);return Jg(i),new Gd(e._repo,e._path,i,!0)}}class F0e extends Jh{constructor(){super(...arguments),this.type="orderByKey"}_apply(e){e2(e,"orderByKey");const n=FE(e._queryParams,Yf);return Jg(n),new Gd(e._repo,e._path,n,!0)}}class R0e extends Jh{constructor(){super(...arguments),this.type="orderByPriority"}_apply(e){e2(e,"orderByPriority");const n=FE(e._queryParams,Js);return Jg(n),new Gd(e._repo,e._path,n,!0)}}class N0e extends Jh{constructor(){super(...arguments),this.type="orderByValue"}_apply(e){e2(e,"orderByValue");const n=FE(e._queryParams,OF);return Jg(n),new Gd(e._repo,e._path,n,!0)}}class L0e extends Jh{constructor(e,n){super(),this._value=e,this._key=n,this.type="equalTo"}_apply(e){if(Jf("equalTo",this._value,e._path,!1),e._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(e._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new cz(this._value,this._key)._apply(new dz(this._value,this._key)._apply(e))}}function Zh(t,...e){let n=(0,_e.Ku)(t);for(const r of e)n=r._apply(n);return n}(function vve(t){(0,_e.vA)(!QE,"__referenceConstructor has already been defined"),QE=t})(fh),function bve(t){(0,_e.vA)(!jE,"__referenceConstructor has already been defined"),jE=t}(fh);const Bk={};function Dk(t,e,n,r,i){let o=r||t.options.databaseURL;void 0===o&&(t.options.projectId||qf("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Fu("Using default host for project ",t.options.projectId),o=`${t.options.projectId}-default-rtdb.firebaseio.com`);let l,u,s=bk(o,i),a=s.repoInfo;typeof process<"u"&&process.env&&(u=process.env.FIREBASE_DATABASE_EMULATOR_HOST),u?(l=!0,o=`http://${u}?ns=${a.namespace}`,s=bk(o,i),a=s.repoInfo):l=!s.repoInfo.secure;const m=i&&l?new yw(yw.OWNER):new Rge(t.name,t.options,e);Qj("Invalid Firebase Database URL",s),po(s.path)||qf("Database URL must point to the root of a Firebase Database (not including a child path).");const I=function H0e(t,e,n,r){let i=Bk[e.name];i||(i={},Bk[e.name]=i);let o=i[t.toURLString()];return o&&qf("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new Yve(t,false,n,r),i[t.toURLString()]=o,o}(a,t,m,new kge(t.name,n));return new z0e(I,t)}class z0e{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function Xve(t,e,n){if(t.stats_=BF(t.repoInfo_),t.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)t.server_=new kE(t.repoInfo_,(r,i,o,s)=>{Gj(t,r,i,o,s)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>Wj(t,!0),0);else{if(typeof n<"u"&&null!==n){if("object"!=typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,_e.As)(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new av(t.repoInfo_,e,(r,i,o,s)=>{Gj(t,r,i,o,s)},r=>{Wj(t,r)},r=>{!function Jve(t,e){ku(e,(n,r)=>{mk(t,n,r)})}(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=function Mge(t,e){const n=t.toString();return TF[n]||(TF[n]=e()),TF[n]}(t.repoInfo_,()=>new Mme(t.stats_,t.server_)),t.infoData_=new Fme,t.infoSyncTree_=new xj({startListening:(r,i,o,s)=>{let a=[];const l=t.infoData_.getNode(r._path);return l.isEmpty()||(a=Fw(t.infoSyncTree_,r._path,l),setTimeout(()=>{s("ok")},0)),a},stopListening:()=>{}}),mk(t,"connected",!1),t.serverSyncTree_=new xj({startListening:(r,i,o,s)=>(t.server_.listen(r,o,i,(a,l)=>{const u=s(a,l);RA(t.eventQueue_,r._path,u)}),[]),stopListening:(r,i)=>{t.server_.unlisten(r,i)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new fh(this._repo,ls())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function Q0e(t,e){const n=Bk[e];(!n||n[t.key]!==t)&&qf(`Database ${e}(${t.repoInfo_}) has already been deleted.`),qj(t),delete n[t.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){null===this._rootInternal&&qf("Cannot call "+e+" on a deleted database.")}}function hz(){M9.IS_TRANSPORT_INITIALIZED&&Mc("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function $0e(){hz(),zg.forceDisallow()}function G0e(){hz(),yy.forceDisallow(),zg.forceAllow()}function q0e(t,e){g9(t,e)}const X0e={".sv":"timestamp"};class eye{constructor(e,n){this.committed=e,this.snapshot=n}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}av.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)},av.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)},function Y0e(t){_F(Dc.SDK_VERSION),(0,Dc._registerComponent)(new Gh.uA("database",(e,{instanceIdentifier:n})=>Dk(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),n),"PUBLIC").setMultipleInstances(!0)),(0,Dc.registerVersion)(c9,"1.0.4",t),(0,Dc.registerVersion)(c9,"1.0.4","esm2017")}();const iye=new BA.Vy("@firebase/database-compat"),pz=function(t){iye.warn("FIREBASE WARNING: "+t)};class aye{constructor(e){this._delegate=e}cancel(e){(0,_e.od)("OnDisconnect.cancel",0,1,arguments.length),(0,_e.oD)("OnDisconnect.cancel","onComplete",e,!0);const n=this._delegate.cancel();return e&&n.then(()=>e(null),r=>e(r)),n}remove(e){(0,_e.od)("OnDisconnect.remove",0,1,arguments.length),(0,_e.oD)("OnDisconnect.remove","onComplete",e,!0);const n=this._delegate.remove();return e&&n.then(()=>e(null),r=>e(r)),n}set(e,n){(0,_e.od)("OnDisconnect.set",1,2,arguments.length),(0,_e.oD)("OnDisconnect.set","onComplete",n,!0);const r=this._delegate.set(e);return n&&r.then(()=>n(null),i=>n(i)),r}setWithPriority(e,n,r){(0,_e.od)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,_e.oD)("OnDisconnect.setWithPriority","onComplete",r,!0);const i=this._delegate.setWithPriority(e,n);return r&&i.then(()=>r(null),o=>r(o)),i}update(e,n){if((0,_e.od)("OnDisconnect.update",1,2,arguments.length),Array.isArray(e)){const i={};for(let o=0;o<e.length;++o)i[""+o]=e[o];e=i,pz("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,_e.oD)("OnDisconnect.update","onComplete",n,!0);const r=this._delegate.update(e);return n&&r.then(()=>n(null),i=>n(i)),r}}class lye{constructor(e,n){this.committed=e,this.snapshot=n}toJSON(){return(0,_e.od)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class Zg{constructor(e,n){this._database=e,this._delegate=n}val(){return(0,_e.od)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,_e.od)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,_e.od)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,_e.od)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(e){return(0,_e.od)("DataSnapshot.child",0,1,arguments.length),e=String(e),Ow("DataSnapshot.child","path",e,!1),new Zg(this._database,this._delegate.child(e))}hasChild(e){return(0,_e.od)("DataSnapshot.hasChild",1,1,arguments.length),Ow("DataSnapshot.hasChild","path",e,!1),this._delegate.hasChild(e)}getPriority(){return(0,_e.od)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(e){return(0,_e.od)("DataSnapshot.forEach",1,1,arguments.length),(0,_e.oD)("DataSnapshot.forEach","action",e,!1),this._delegate.forEach(n=>e(new Zg(this._database,n)))}hasChildren(){return(0,_e.od)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,_e.od)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,_e.od)("DataSnapshot.ref",0,0,arguments.length),new PA(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class sc{constructor(e,n){this.database=e,this._delegate=n}on(e,n,r,i){var o;(0,_e.od)("Query.on",2,4,arguments.length),(0,_e.oD)("Query.on","callback",n,!1);const s=sc.getCancelAndContextArgs_("Query.on",r,i),a=(u,m)=>{n.call(s.context,new Zg(this.database,u),m)};a.userCallback=n,a.context=s.context;const l=null===(o=s.cancel)||void 0===o?void 0:o.bind(s.context);switch(e){case"value":return Tk(this._delegate,a,l),n;case"child_added":return oz(this._delegate,a,l),n;case"child_removed":return lz(this._delegate,a,l),n;case"child_changed":return sz(this._delegate,a,l),n;case"child_moved":return az(this._delegate,a,l),n;default:throw new Error((0,_e.dI)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(e,n,r){if((0,_e.od)("Query.off",0,3,arguments.length),function(t,e,n){if(void 0!==e)switch(e){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,_e.dI)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,e),(0,_e.oD)("Query.off","callback",n,!0),(0,_e.HN)("Query.off","context",r,!0),n){const i=()=>{};i.userCallback=n,i.context=r,uz(this._delegate,e,i)}else uz(this._delegate,e)}get(){return Sk(this._delegate).then(e=>new Zg(this.database,e))}once(e,n,r,i){(0,_e.od)("Query.once",1,4,arguments.length),(0,_e.oD)("Query.once","callback",n,!0);const o=sc.getCancelAndContextArgs_("Query.once",r,i),s=new _e.cY,a=(u,m)=>{const I=new Zg(this.database,u);n&&n.call(o.context,I,m),s.resolve(I)};a.userCallback=n,a.context=o.context;const l=u=>{o.cancel&&o.cancel.call(o.context,u),s.reject(u)};switch(e){case"value":Tk(this._delegate,a,l,{onlyOnce:!0});break;case"child_added":oz(this._delegate,a,l,{onlyOnce:!0});break;case"child_removed":lz(this._delegate,a,l,{onlyOnce:!0});break;case"child_changed":sz(this._delegate,a,l,{onlyOnce:!0});break;case"child_moved":az(this._delegate,a,l,{onlyOnce:!0});break;default:throw new Error((0,_e.dI)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return s.promise}limitToFirst(e){return(0,_e.od)("Query.limitToFirst",1,1,arguments.length),new sc(this.database,Zh(this._delegate,function S0e(t){if("number"!=typeof t||Math.floor(t)!==t||t<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new E0e(t)}(e)))}limitToLast(e){return(0,_e.od)("Query.limitToLast",1,1,arguments.length),new sc(this.database,Zh(this._delegate,function B0e(t){if("number"!=typeof t||Math.floor(t)!==t||t<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new T0e(t)}(e)))}orderByChild(e){return(0,_e.od)("Query.orderByChild",1,1,arguments.length),new sc(this.database,Zh(this._delegate,function x0e(t){if("$key"===t)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===t)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===t)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return Ow("orderByChild","path",t,!1),new D0e(t)}(e)))}orderByKey(){return(0,_e.od)("Query.orderByKey",0,0,arguments.length),new sc(this.database,Zh(this._delegate,function k0e(){return new F0e}()))}orderByPriority(){return(0,_e.od)("Query.orderByPriority",0,0,arguments.length),new sc(this.database,Zh(this._delegate,function P0e(){return new R0e}()))}orderByValue(){return(0,_e.od)("Query.orderByValue",0,0,arguments.length),new sc(this.database,Zh(this._delegate,function M0e(){return new N0e}()))}startAt(e=null,n){return(0,_e.od)("Query.startAt",0,2,arguments.length),new sc(this.database,Zh(this._delegate,function C0e(t=null,e){return Lw("startAt","key",e,!0),new dz(t,e)}(e,n)))}startAfter(e=null,n){return(0,_e.od)("Query.startAfter",0,2,arguments.length),new sc(this.database,Zh(this._delegate,function I0e(t,e){return Lw("startAfter","key",e,!0),new b0e(t,e)}(e,n)))}endAt(e=null,n){return(0,_e.od)("Query.endAt",0,2,arguments.length),new sc(this.database,Zh(this._delegate,function y0e(t,e){return Lw("endAt","key",e,!0),new cz(t,e)}(e,n)))}endBefore(e=null,n){return(0,_e.od)("Query.endBefore",0,2,arguments.length),new sc(this.database,Zh(this._delegate,function w0e(t,e){return Lw("endBefore","key",e,!0),new _0e(t,e)}(e,n)))}equalTo(e,n){return(0,_e.od)("Query.equalTo",1,2,arguments.length),new sc(this.database,Zh(this._delegate,function O0e(t,e){return Lw("equalTo","key",e,!0),new L0e(t,e)}(e,n)))}toString(){return(0,_e.od)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,_e.od)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(e){if((0,_e.od)("Query.isEqual",1,1,arguments.length),!(e instanceof sc))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(e._delegate)}static getCancelAndContextArgs_(e,n,r){const i={cancel:void 0,context:void 0};if(n&&r)i.cancel=n,(0,_e.oD)(e,"cancel",i.cancel,!0),i.context=r,(0,_e.HN)(e,"context",i.context,!0);else if(n)if("object"==typeof n&&null!==n)i.context=n;else{if("function"!=typeof n)throw new Error((0,_e.dI)(e,"cancelOrContext")+" must either be a cancel callback or a context object.");i.cancel=n}return i}get ref(){return new PA(this.database,new fh(this._delegate._repo,this._delegate._path))}}class PA extends sc{constructor(e,n){super(e,new Gd(n._repo,n._path,new xE,!1)),this.database=e,this._delegate=n}getKey(){return(0,_e.od)("Reference.key",0,0,arguments.length),this._delegate.key}child(e){return(0,_e.od)("Reference.child",1,1,arguments.length),"number"==typeof e&&(e=String(e)),new PA(this.database,Lp(this._delegate,e))}getParent(){(0,_e.od)("Reference.parent",0,0,arguments.length);const e=this._delegate.parent;return e?new PA(this.database,e):null}getRoot(){return(0,_e.od)("Reference.root",0,0,arguments.length),new PA(this.database,this._delegate.root)}set(e,n){(0,_e.od)("Reference.set",1,2,arguments.length),(0,_e.oD)("Reference.set","onComplete",n,!0);const r=Ek(this._delegate,e);return n&&r.then(()=>n(null),i=>n(i)),r}update(e,n){if((0,_e.od)("Reference.update",1,2,arguments.length),Array.isArray(e)){const i={};for(let o=0;o<e.length;++o)i[""+o]=e[o];e=i,pz("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}hh("Reference.update",this._delegate._path),(0,_e.oD)("Reference.update","onComplete",n,!0);const r=v0e(this._delegate,e);return n&&r.then(()=>n(null),i=>n(i)),r}setWithPriority(e,n,r){(0,_e.od)("Reference.setWithPriority",2,3,arguments.length),(0,_e.oD)("Reference.setWithPriority","onComplete",r,!0);const i=function m0e(t,e,n){if(hh("setWithPriority",t._path),Jf("setWithPriority",e,t._path,!1),gk("setWithPriority",n,!1),".length"===t.key||".keys"===t.key)throw"setWithPriority failed: "+t.key+" is a read-only object.";const r=new _e.cY;return vk(t._repo,t._path,e,n,r.wrapCallback(()=>{})),r.promise}(this._delegate,e,n);return r&&i.then(()=>r(null),o=>r(o)),i}remove(e){(0,_e.od)("Reference.remove",0,1,arguments.length),(0,_e.oD)("Reference.remove","onComplete",e,!0);const n=function p0e(t){return hh("remove",t._path),Ek(t,null)}(this._delegate);return e&&n.then(()=>e(null),r=>e(r)),n}transaction(e,n,r){(0,_e.od)("Reference.transaction",1,3,arguments.length),(0,_e.oD)("Reference.transaction","transactionUpdate",e,!1),(0,_e.oD)("Reference.transaction","onComplete",n,!0),function(t,e,n,r){if(void 0!==n&&"boolean"!=typeof n)throw new Error((0,_e.dI)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,r);const i=function tye(t,e,n){var r;if(t=(0,_e.Ku)(t),hh("Reference.transaction",t._path),".length"===t.key||".keys"===t.key)throw"Reference.transaction failed: "+t.key+" is a read-only object.";const i=null===(r=null==n?void 0:n.applyLocally)||void 0===r||r,o=new _e.cY,a=Tk(t,()=>{});return function a0e(t,e,n,r,i,o){Ty(t,"transaction on "+e);const s={path:e,update:n,onComplete:r,status:null,order:h9(),applyLocally:o,retryCount:0,unwatcher:i,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},a=_k(t,e,void 0);s.currentInputSnapshot=a;const l=s.update(a.val());if(void 0===l)s.unwatcher(),s.currentOutputSnapshotRaw=null,s.currentOutputSnapshotResolved=null,s.onComplete&&s.onComplete(null,!1,s.currentInputSnapshot);else{Mw("transaction failed: Data returned ",l,s.path),s.status=0;const u=WE(t.transactionQueueTree_,e),m=dv(u)||[];let I;m.push(s),hk(u,m),"object"==typeof l&&null!==l&&(0,_e.gR)(l,".priority")?(I=(0,_e.yw)(l,".priority"),(0,_e.vA)(Nw(I),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):I=($E(t.serverSyncTree_,e)||Ki.EMPTY_NODE).getPriority().val();const k=Uw(t),U=Ra(l,I),Y=ck(U,a,k);s.currentOutputSnapshotRaw=U,s.currentOutputSnapshotResolved=Y,s.currentWriteId=XE(t);const ve=rk(t.serverSyncTree_,e,Y,s.currentWriteId,s.applyLocally);RA(t.eventQueue_,e,ve),JE(t,t.transactionQueueTree_)}}(t._repo,t._path,e,(l,u,m)=>{let I=null;l?o.reject(l):(I=new Av(m,new fh(t._repo,t._path),Js),o.resolve(new eye(u,I)))},a,i),o.promise}(this._delegate,e,{applyLocally:r}).then(o=>new lye(o.committed,new Zg(this.database,o.snapshot)));return n&&i.then(o=>n(null,o.committed,o.snapshot),o=>n(o,!1,null)),i}setPriority(e,n){(0,_e.od)("Reference.setPriority",1,2,arguments.length),(0,_e.oD)("Reference.setPriority","onComplete",n,!0);const r=function g0e(t,e){t=(0,_e.Ku)(t),hh("setPriority",t._path),gk("setPriority",e,!1);const n=new _e.cY;return vk(t._repo,Ea(t._path,".priority"),e,null,n.wrapCallback(()=>{})),n.promise}(this._delegate,e);return n&&r.then(()=>n(null),i=>n(i)),r}push(e,n){(0,_e.od)("Reference.push",0,2,arguments.length),(0,_e.oD)("Reference.push","onComplete",n,!0);const r=function f0e(t,e){t=(0,_e.Ku)(t),hh("push",t._path),Jf("push",e,t._path,!0);const n=$j(t._repo),r=h0e(n),i=Lp(t,r),o=Lp(t,r);let s;return s=null!=e?Ek(o,e).then(()=>o):Promise.resolve(o),i.then=s.then.bind(s),i.catch=s.then.bind(s,void 0),i}(this._delegate,e),i=r.then(s=>new PA(this.database,s));n&&i.then(()=>n(null),s=>n(s));const o=new PA(this.database,r);return o.then=i.then.bind(i),o.catch=i.catch.bind(i,void 0),o}onDisconnect(){return hh("Reference.onDisconnect",this._delegate._path),new aye(new nz(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class Hw{constructor(e,n){this._delegate=e,this.app=n,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:$0e,forceLongPolling:G0e}}useEmulator(e,n,r={}){!function fz(t,e,n,r={}){(t=(0,_e.Ku)(t))._checkNotDeleted("useEmulator"),t._instanceStarted&&qf("Cannot call useEmulator() after instance has already been initialized.");const i=t._repoInternal;let o;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&qf('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new yw(yw.OWNER);else if(r.mockUserToken){const s="string"==typeof r.mockUserToken?r.mockUserToken:(0,_e.Fy)(r.mockUserToken,t.app.options.projectId);o=new yw(s)}!function V0e(t,e,n,r){t.repoInfo_=new EF(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),r&&(t.authTokenProvider_=r)}(i,e,n,o)}(this._delegate,e,n,r)}ref(e){if((0,_e.od)("database.ref",0,1,arguments.length),e instanceof PA){const n=iz(this._delegate,e.toString());return new PA(this,n)}{const n=rz(this._delegate,e);return new PA(this,n)}}refFromURL(e){(0,_e.od)("database.refFromURL",1,1,arguments.length);const r=iz(this._delegate,e);return new PA(this,r)}goOffline(){return(0,_e.od)("database.goOffline",0,0,arguments.length),function W0e(t){(t=(0,_e.Ku)(t))._checkNotDeleted("goOffline"),qj(t._repo)}(this._delegate)}goOnline(){return(0,_e.od)("database.goOnline",0,0,arguments.length),function K0e(t){(t=(0,_e.Ku)(t))._checkNotDeleted("goOnline"),function s0e(t){t.persistentConnection_&&t.persistentConnection_.resume(zj)}(t._repo)}(this._delegate)}}Hw.ServerValue={TIMESTAMP:function J0e(){return X0e}(),increment:t=>function Z0e(t){return{".sv":{increment:t}}}(t)};var cye=Object.freeze({__proto__:null,initStandalone:function uye({app:t,url:e,version:n,customAuthImpl:r,customAppCheckImpl:i,namespace:o,nodeAdmin:s=!1}){_F(n);const a=new Gh.h1("database-standalone"),l=new Gh.Kq("auth-internal",a);let u;return l.setComponent(new Gh.uA("auth-internal",()=>r,"PRIVATE")),i&&(u=new Gh.Kq("app-check-internal",a),u.setComponent(new Gh.uA("app-check-internal",()=>i,"PRIVATE"))),{instance:new Hw(Dk(t,l,u,e,s),t),namespace:o}}});const dye=Hw.ServerValue;!function Aye(t){t.INTERNAL.registerComponent(new Gh.uA("database-compat",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app-compat").getImmediate(),i=e.getProvider("database").getImmediate({identifier:n});return new Hw(i,r)},"PUBLIC").setServiceProps({Reference:PA,Query:sc,Database:Hw,DataSnapshot:Zg,enableLogging:q0e,INTERNAL:cye,ServerValue:dye}).setMultipleInstances(!0)),t.registerVersion("@firebase/database-compat","1.0.4")}(bn.A);let Ml=(()=>{var t;class e{constructor(r,i,o){this.toastController=r,this.router=i,this.afAuth=o,this.subscription=Qt,this.counters={}}logout(){confirm("Sei sicuro di voler eseguire il logout?")&&this.afAuth.signOut().then(()=>{this.router.navigate(["/splash"])}).catch(i=>{alert("Si \xe8 verificato un errore durante il logout: "+i.message)})}getCountersHome(){return(0,V.A)(function*(){const r=bn.A.database(),i=ew(),o=yield Cs(_o(as(i,"worksites"),Di("status","==","finished"))),s=yield Cs(_o(as(i,"worksites"),Di("status","==","doing"))),a=yield Cs(_o(as(i,"worksites"),Di("status","==","to-start")));document.getElementById("home-worksites-finished-count-display").innerText="Conclusi: "+o.data().count,document.getElementById("home-worksites-doing-count-display").innerText="In corso: "+s.data().count,document.getElementById("home-worksites-to-start-count-display").innerText="Da iniziare: "+a.data().count,document.getElementById("home-worksites-total-count-display").innerText="Totale cantieri: "+(o.data().count+s.data().count+a.data().count).toString();const l=yield Cs(_o(as(i,"works"),Di("status","==","finished"))),u=yield Cs(_o(as(i,"works"),Di("status","==","doing"))),m=yield Cs(_o(as(i,"works"),Di("status","==","to-start")));document.getElementById("home-works-finished-count-display").innerText="Conclusi: "+l.data().count,document.getElementById("home-works-doing-count-display").innerText="In corso: "+u.data().count,document.getElementById("home-works-to-start-count-display").innerText="Da iniziare: "+m.data().count,document.getElementById("home-works-total-count-display").innerText="Totale lavori: "+(l.data().count+u.data().count+m.data().count).toString();const I=yield Cs(_o(as(i,"tasks"),Di("status","==","todo")));document.getElementById("tasks-count-display").innerText=I.data().count.toString(),r.ref("users_data").once("value").then(Y=>{document.getElementById("emploee-count-display").innerText="Totale impiegati: "+Y.numChildren().toString()});var k=(new Date).getFullYear().toString();bn.A.database().ref("counters/worksites/"+k+"/total/").once("value",Y=>{const ve=Y.val();ve&&(document.getElementById("worksites-incasso-totale-display").value="Incasso totale: \u20ac"+ve.incasso,document.getElementById("worksites-fatturato-totale-display").value="Fatturato totale: \u20ac"+ve.fatturato,document.getElementById("worksites-costo-manodopera-display").value="Costo manodopera: \u20ac"+ve.spesa_personale,document.getElementById("worksites-costo-materiale-display").value="Costo materiale: \u20ac"+ve.spesa,document.getElementById("worksites-costo-totale-display").value="Spesa totale: \u20ac"+parseFloat(ve.spesa)+parseFloat(ve.spesa_personale))});const U=yield Cs(_o(as(i,"costs"),Di("group","==","worksite"),Di("status","==","to-order")));document.getElementById("worksites-to-order-count-display").innerText="Ordini da effettuare: "+U.data().count})()}getCountersWorksites(){return(0,V.A)(function*(){const r=ew(),i=yield Cs(_o(as(r,"worksites"),Di("status","==","finished"))),o=yield Cs(_o(as(r,"worksites"),Di("status","==","doing"))),s=yield Cs(_o(as(r,"worksites"),Di("status","==","to-start")));document.getElementById("worksites-finished-count-display").innerText="Conclusi: "+i.data().count,document.getElementById("worksites-doing-count-display").innerText="In corso: "+o.data().count,document.getElementById("worksites-to-start-count-display").innerText="Da iniziare: "+s.data().count,document.getElementById("worksites-total-count-display").innerText="Totale cantieri: "+(i.data().count+o.data().count+s.data().count).toString();const a=yield Cs(_o(as(r,"installments"),Di("group","==","worksite"),Di("fatturata","==","fatturata"))),l=yield Cs(_o(as(r,"installments"),Di("group","==","worksite"),Di("incassata","==","incassata"))),u=yield Cs(_o(as(r,"installments"),Di("group","==","worksite"),Di("fatturata","==","non_fatturata"))),m=yield Cs(_o(as(r,"installments"),Di("group","==","worksite"),Di("incassata","==","non_incassata")));document.getElementById("worksites-installments-fatturate-count-display").innerText="Rate fatturate: "+a.data().count,document.getElementById("worksites-installments-incassate-count-display").innerText="Rate incassate: "+l.data().count,document.getElementById("worksites-installments-da-fatturare-count-display").innerText="Rate da fatturare: "+u.data().count,document.getElementById("worksites-installments-da-incassare-count-display").innerText="Rate da incassare: "+m.data().count;var I=(new Date).getFullYear().toString();bn.A.database().ref("counters/worksites/"+I+"/total/").once("value",U=>{const Y=U.val();Y&&bn.A.database().ref("counters/works/"+I+"/total/").once("value",ve=>{const xe=ve.val();xe&&(document.getElementById("home-incasso-totale-display").value="Incasso totale: \u20ac"+Y.incasso+xe.incasso,document.getElementById("home-fatturato-totale-display").value="Fatturato totale: \u20ac"+Y.fatturato+xe.fatturato,document.getElementById("home-costo-manodopera-display").value="Costo manodopera: \u20ac"+Y.spesa_personale+xe.spesa_personale,document.getElementById("home-costo-materiale-display").value="Costo materiale: \u20ac"+Y.spesa+xe.spesa,document.getElementById("home-costo-totale-display").value="Spesa totale: \u20ac"+parseFloat(Y.spesa)+parseFloat(Y.spesa_personale)+parseFloat(xe.spesa)+parseFloat(xe.spesa_personale))})});const k=yield Cs(_o(as(r,"costs"),Di("status","==","to-order")));document.getElementById("home-to-order-count-display").innerText="Ordini da effettuare: "+k.data().count})()}getCountersWorks(){return(0,V.A)(function*(){const r=ew(),i=yield Cs(_o(as(r,"works"),Di("status","==","finished"))),o=yield Cs(_o(as(r,"works"),Di("status","==","doing"))),s=yield Cs(_o(as(r,"works"),Di("status","==","to-start")));document.getElementById("works-finished-count-display").innerText="Conclusi: "+i.data().count,document.getElementById("works-doing-count-display").innerText="In corso: "+o.data().count,document.getElementById("works-to-start-count-display").innerText="Da iniziare: "+s.data().count,document.getElementById("works-total-count-display").innerText="Totale lavori: "+(i.data().count+o.data().count+s.data().count).toString();const a=yield Cs(_o(as(r,"installments"),Di("group","==","work"),Di("fatturata","==","fatturata"))),l=yield Cs(_o(as(r,"installments"),Di("group","==","work"),Di("incassata","==","incassata"))),u=yield Cs(_o(as(r,"installments"),Di("group","==","work"),Di("fatturata","==","non_fatturata"))),m=yield Cs(_o(as(r,"installments"),Di("group","==","work"),Di("incassata","==","non_incassata")));document.getElementById("works-installments-fatturate-count-display").innerText="Rate fatturate: "+a.data().count,document.getElementById("works-installments-incassate-count-display").innerText="Rate incassate: "+l.data().count,document.getElementById("works-installments-da-fatturare-count-display").innerText="Rate da fatturare: "+u.data().count,document.getElementById("works-installments-da-incassare-count-display").innerText="Rate da incassare: "+m.data().count;var I=(new Date).getFullYear().toString();bn.A.database().ref("counters/works/"+I+"/total/").once("value",U=>{const Y=U.val();Y&&(document.getElementById("works-incasso-totale-display").value="Incasso totale: \u20ac"+Y.incasso,document.getElementById("works-fatturato-totale-display").value="Fatturato totale: \u20ac"+Y.fatturato,document.getElementById("works-costo-manodopera-display").value="Costo manodopera: \u20ac"+Y.spesa_personale,document.getElementById("works-costo-materiale-display").value="Costo materiale: \u20ac"+Y.spesa,document.getElementById("works-costo-totale-display").value="Spesa totale: \u20ac"+parseFloat(Y.spesa)+parseFloat(Y.spesa_personale))});const k=yield Cs(_o(as(r,"costs"),Di("group","==","work"),Di("status","==","to-order")));document.getElementById("works-to-order-count-display").innerText="Ordini da effettuare: "+k.data().count})()}presentToast(r){var i=this;return(0,V.A)(function*(){(yield i.toastController.create({message:r,duration:3e3})).present()})()}}return(t=e).\u0275fac=function(r){return new(r||t)(Ln(Rle),Ln(Jo),Ln($h))},t.\u0275prov=Cn({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),r2=(()=>{var t;class e{constructor(r,i,o,s){this.afAuth=r,this.firestore=i,this.router=o,this.generalService=s,this.subscription=Qt}initialize(){"false"!=sessionStorage.getItem("new-session")?this.afAuth.authState.subscribe(r=>{sessionStorage.setItem("new-session","false"),r?"retrieved"!=sessionStorage.getItem("user-datas-status")&&bn.A.database().ref("users_data/"+r.uid).get().then(o=>{o.exists()?(this.userData=o.val(),document.getElementById("sideabar-name-display").innerText=this.userData.name,document.getElementById("sideabar-mail-display").innerText=this.userData.mail,sessionStorage.setItem("user-datas-status","retrieved"),sessionStorage.setItem("user-real-name",this.userData.name),sessionStorage.setItem("user-mail",this.userData.mail)):(document.getElementById("sidebar").style.display="flex",this.router.navigate(["/log"]),this.generalService.presentToast("Utente non trovato"))}).catch(o=>{this.generalService.presentToast("Errore durante il recupero dei dati dell' utente: "+o.message)}):(document.getElementById("sidebar").style.display="none",document.getElementById("under-bar").style.display="none",document.getElementById("up-bar").style.display="none",document.getElementById("main-component").style.marginTop="0rem",document.getElementById("main-component").style.marginBottom="0rem",this.router.navigate(["/log"]))}):this.afAuth.authState.subscribe(r=>{r&&(document.getElementById("sideabar-name-display").innerText=sessionStorage.getItem("user-real-name"),document.getElementById("sideabar-mail-display").innerText=sessionStorage.getItem("user-mail"))})}}return(t=e).\u0275fac=function(r){return new(r||t)(Ln($h),Ln(oc),Ln(Jo),Ln(Ml))},t.\u0275prov=Cn({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),hye=(()=>{var t;class e{constructor(r,i,o,s){this.firebaseService=r,this.router=i,this.afAuth=o,this.generalService=s,r.initialize()}ngOnInit(){}logout(){this.generalService.logout()}}return(t=e).\u0275fac=function(r){return new(r||t)(q(r2),q(Jo),q($h),q(Ml))},t.\u0275cmp=J({type:t,selectors:[["app-sidebar"]],decls:33,vars:0,consts:[[2,"width","100%","height","100%","background","#eaf4f4","display","flex","flex-direction","column","padding-right","1rem"],["src","assets\\images\\trasparent-normal-allgreen-logo.png",2,"width","15rem","padding-top","1rem","padding-left","1rem"],["id","sideabar-name-display",1,"general-title1",2,"padding-left","1rem"],["id","sideabar-mail-display",1,"general-paragraph1",2,"padding-left","1rem","margin-top","0.2rem"],["routerLink","/home",1,"sidebar-button"],["name","home-outline",2,"font-size","1.7rem","color","#757575","padding-right","1.8rem","padding-left","0.2rem"],["routerLink","/worksites",1,"sidebar-button"],["name","business-outline",2,"font-size","1.7rem","color","#757575","padding-right","1.8rem","padding-left","0.2rem"],["routerLink","/works",1,"sidebar-button"],["name","hammer-outline",2,"font-size","1.7rem","color","#757575","padding-right","1.8rem","padding-left","0.2rem"],["routerLink","/preventives",1,"sidebar-button"],["name","wallet-outline",2,"font-size","1.7rem","color","#757575","padding-right","1.8rem","padding-left","0.2rem"],["routerLink","/people",1,"sidebar-button"],["name","people-outline",2,"font-size","1.7rem","color","#757575","padding-right","1.8rem","padding-left","0.2rem"],["routerLink","/add",1,"sidebar-button"],["name","add-outline",2,"font-size","1.7rem","color","#757575","padding-right","1.8rem","padding-left","0.2rem"],[2,"flex","1"],[1,"sidebar-button",2,"margin-bottom","0.5rem",3,"click"],["name","exit-outline",2,"font-size","1.7rem","color","#757575","padding-right","1.8rem","padding-left","0.2rem"]],template:function(r,i){1&r&&(d(0,"div",0),vt(1,"img",1)(2,"h3",2)(3,"p",3),d(4,"button",4),vt(5,"ion-icon",5),d(6,"ion-label"),b(7,"Home"),v()(),d(8,"button",6),vt(9,"ion-icon",7),d(10,"ion-label"),b(11,"Cantieri"),v()(),d(12,"button",8),vt(13,"ion-icon",9),d(14,"ion-label"),b(15,"Lavori"),v()(),d(16,"button",10),vt(17,"ion-icon",11),d(18,"ion-label"),b(19,"Preventivi"),v()(),d(20,"button",12),vt(21,"ion-icon",13),d(22,"ion-label"),b(23,"Personale"),v()(),d(24,"button",14),vt(25,"ion-icon",15),d(26,"ion-label"),b(27,"Aggiungi"),v()(),vt(28,"div",16),d(29,"button",17),Sn("click",function(){return i.logout()}),vt(30,"ion-icon",18),d(31,"ion-label"),b(32,"Disconnetti"),v()()())},dependencies:[ql,e6,SA,Zu]}),e})(),fye=(()=>{var t;class e{constructor(){}ngOnInit(){}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=J({type:t,selectors:[["app-footer"]],decls:6,vars:0,consts:[["id","under-bar"],["routerLink","/home","name","home-outline",2,"font-size","1.8rem"],["routerLink","/people","name","people-outline",2,"font-size","1.8rem"],["routerLink","/add","name","add-circle-outline",2,"font-size","1.8rem"],["routerLink","/worksites","name","business-outline",2,"font-size","1.8rem"],["routerLink","/works","name","hammer-outline",2,"font-size","1.8rem"]],template:function(r,i){1&r&&(d(0,"div",0),vt(1,"ion-icon",1)(2,"ion-icon",2)(3,"ion-icon",3)(4,"ion-icon",4)(5,"ion-icon",5),v())},dependencies:[ql,SA,Zu]}),e})(),pye=(()=>{var t;class e{constructor(r){this.generalService=r}ngOnInit(){}logout(){this.generalService.logout()}}return(t=e).\u0275fac=function(r){return new(r||t)(q(Ml))},t.\u0275cmp=J({type:t,selectors:[["app-header"]],decls:6,vars:0,consts:[["id","up-bar"],["routerLink","/preventives","name","wallet-outline",2,"font-size","1.8rem","margin-left","1rem"],[2,"flex","1"],["src","assets\\images\\trasparent_logo.png",2,"height","100%","scale","1.2"],["name","exit-outline",2,"font-size","1.8rem","margin-right","1rem",3,"click"]],template:function(r,i){1&r&&(d(0,"div",0),vt(1,"ion-icon",1)(2,"div",2)(3,"img",3)(4,"div",2),d(5,"ion-icon",4),Sn("click",function(){return i.logout()}),v()())},dependencies:[ql,SA,Zu]}),e})(),gye=(()=>{var t;class e{constructor(r,i,o){this.firebaseService=r,this.router=i,this.afAuth=o,r.initialize()}}return(t=e).\u0275fac=function(r){return new(r||t)(q(r2),q(Jo),q($h))},t.\u0275cmp=J({type:t,selectors:[["app-root"]],decls:8,vars:0,consts:[["contentId","main-content"],["id","sidebar",2,"border-right","1px solid rgba(0, 0, 0, 0.143)","overflow-y","auto","overflow-x","hidden"],["id","main-content"],[2,"width","100%","height","100%","position","absolute","z-index","9999","pointer-events","none","display","flex","flex-direction","column","border","1px solid transparent"],[2,"flex","1"]],template:function(r,i){1&r&&(d(0,"ion-app")(1,"ion-split-pane",0),vt(2,"app-sidebar",1)(3,"ion-router-outlet",2),d(4,"div",3),vt(5,"app-header")(6,"div",4)(7,"app-footer"),v()()())},dependencies:[ZU,t6,Z_,hye,fye,pye]}),e})(),mye=(()=>{var t;class e{constructor(r,i){this.afAuth=r,this.router=i,document.getElementById("sidebar").style.display="none",this.afAuth.authState.subscribe(o=>{this.router.navigate(o?["/home"]:["/log"])})}ngOnInit(){}}return(t=e).\u0275fac=function(r){return new(r||t)(q($h),q(Jo))},t.\u0275cmp=J({type:t,selectors:[["app-splash"]],decls:4,vars:0,consts:[[2,"height","100%","width","100%","display","flex","flex-direction","column","align-items","center","justify-content","center"],["src","assets\\images\\logo.jpg"],[1,"loader",2,"margin-top","3rem"]],template:function(r,i){1&r&&(d(0,"body")(1,"div",0),vt(2,"img",1)(3,"div",2),v()())}}),e})();function vye(t,e){1&t&&(d(0,"span"),b(1,"ALTA"),v())}function yye(t,e){1&t&&(d(0,"span"),b(1,"MEDIA"),v())}function _ye(t,e){1&t&&(d(0,"span"),b(1,"BASSA"),v())}function wye(t,e){if(1&t){const n=Fa();d(0,"tr")(1,"td",51),b(2),v(),d(3,"td",51),b(4),v(),d(5,"td",52),Xo(6,vye,2,0,"span",53)(7,yye,2,0,"span",53)(8,_ye,2,0,"span",53),v(),d(9,"td",52)(10,"div",54)(11,"button",55),Sn("click",function(){const i=vn(n).$implicit;return Dn(Wo().completeTask(i))}),d(12,"span",56),b(13,"done"),v()(),d(14,"button",55),Sn("click",function(){const i=vn(n).$implicit;return Dn(Wo().deleteTask(i))}),d(15,"span",56),b(16,"delete"),v()()()()()}if(2&t){const n=e.$implicit;gn(2),_r(n.activity),gn(2),_r(n.end_date),gn(2),eo("ngIf",3==n.priority),gn(),eo("ngIf",2==n.priority),gn(),eo("ngIf",1==n.priority)}}let Cye=(()=>{var t;class e{constructor(r,i,o,s){this.firestore=r,this.generalService=i,this.router=o,this.afAuth=s,this.documents=new rt([]),this.nextPageAvailable=!0,this.currentYear=(new Date).getFullYear().toString(),document.getElementById("sidebar").style.display="flex"}ngOnInit(){this.afAuth.authState.subscribe(r=>{r&&(window.outerWidth>=999?document.getElementById("sidebar").style.display="flex":document.getElementById("under-bar").style.display="flex",this.generalService.getCountersHome(),this.getTasks())})}getTasks(){this.currentFetchingEventType="all",this.firestore.collection("tasks",r=>r.where("status","==","todo").orderBy("priority","desc")).valueChanges({idField:"id"}).subscribe(r=>{4===r.length?this.lastVisible=r[r.length-1]:this.nextPageAvailable=!1,this.documents.next(r)})}getMoreTasks(){this.lastVisible&&this.firestore.collection("tasks",r=>r.limit(4).where("status","==","todo").orderBy("priority","desc").startAfter(this.lastVisible)).valueChanges({idField:"id"}).subscribe(r=>{if(r.length>0){const o=[...this.documents.getValue(),...r];this.documents.next(o),4===r.length?this.lastVisible=r[r.length-1]:this.nextPageAvailable=!1}else this.nextPageAvailable=!1})}completeTask(r){window.confirm("Sei sicuro di voler contrassegnare questo task come completato?")&&bn.A.firestore().collection("tasks").doc(r.id).update({status:"done"}).then(()=>{this.generalService.presentToast("Task completato con successo")}).catch(i=>{this.generalService.presentToast("Errore durante il completamento del task: "+i.message)})}deleteTask(r){window.confirm("Sei sicuro di voler eliminare questo task?")&&bn.A.firestore().collection("tasks").doc(r.id).delete().then(()=>{this.generalService.presentToast("Task eliminato con successo")}).catch(i=>{this.generalService.presentToast("Errore durante l'eliminazione del task: "+i.message)})}addRow(){var r=document.getElementById("add-task-activity-input").value,i=document.getElementById("add-task-end-date-input").value,o=document.getElementById("add-task-priority-input").value;bn.A.firestore().collection("tasks").add({activity:r,end_date:i,priority:o,status:"todo",timestamp:bn.A.firestore.FieldValue.serverTimestamp()}).then(s=>{this.generalService.presentToast("Task aggiunto con successo")}).catch(s=>{this.generalService.presentToast("Si \xe8 verificato un errore durante l'aggiunta del task: "+s.message)})}}return(t=e).\u0275fac=function(r){return new(r||t)(q(oc),q(Ml),q(Jo),q($h))},t.\u0275cmp=J({type:t,selectors:[["app-home"]],decls:102,vars:4,consts:[[2,"width","100%","height","100%","display","flex","flex-direction","column","overflow-x","hidden","overflow-y","auto"],[2,"width","100%","display","flex","flex-direction","row","flex-wrap","wrap","gap","1rem","padding-top","1rem","margin-bottom","1rem","padding-left","1rem","padding-right","1rem"],[2,"width","18rem","min-height","20rem","border-radius","1rem","border","1px solid rgba(0, 0, 0, 0.155)","display","flex","flex-direction","column","align-items","center","padding-top","1rem","padding-bottom","1rem","background","rgba(120, 116, 116, 0.084)","padding-left","1rem"],[2,"width","100%","display","flex","flex-direction","row","align-items","center","justify-content","space-between","padding-right","1rem"],[2,"font-size","1.2rem"],["name","business-outline",2,"font-size","1.8rem"],[2,"width","95%","height","1px","background","rgba(0, 0, 0, 0.202)","margin-top","0.5rem","margin-bottom","0.5rem","margin-left","-1rem"],["id","home-worksites-doing-count-display",2,"font-size","1.2rem","width","100%","margin-top","0.2rem","margin-bottom","0.2rem"],["id","home-worksites-finished-count-display",2,"font-size","1.2rem","width","100%","margin-top","0.2rem","margin-bottom","0.2rem"],["id","home-worksites-to-start-count-display",2,"font-size","1.2rem","width","100%","margin-top","0.2rem","margin-bottom","0.2rem"],["id","home-worksites-total-count-display",2,"font-size","1.2rem","width","100%","margin-top","0.2rem","margin-bottom","0.2rem"],[2,"width","18rem","min-height","20rem","border-radius","1rem","border","1px solid rgba(0, 0, 0, 0.155)","display","flex","flex-direction","column","align-items","center","padding-top","1rem","padding-bottom","1rem","background","rgba(84, 100, 83, 0.084)","padding-left","1rem"],["name","hammer-outline",2,"font-size","1.8rem"],["id","home-works-doing-count-display",2,"font-size","1.2rem","width","100%","margin-top","0.2rem","margin-bottom","0.2rem"],["id","home-works-finished-count-display",2,"font-size","1.2rem","width","100%","margin-top","0.2rem","margin-bottom","0.2rem"],["id","home-works-to-start-count-display",2,"font-size","1.2rem","width","100%","margin-top","0.2rem","margin-bottom","0.2rem"],["id","home-works-total-count-display",2,"font-size","1.2rem","width","100%","margin-top","0.2rem","margin-bottom","0.2rem"],[2,"width","18rem","min-height","20rem","border-radius","1rem","border","1px solid rgba(0, 0, 0, 0.155)","display","flex","flex-direction","column","align-items","center","padding-top","1rem","padding-bottom","1rem","background","rgba(255, 0, 0, 0.084)","padding-left","1rem"],["name","pie-chart-outline",2,"font-size","1.8rem"],["id","home-incasso-totale-display",2,"font-size","1.2rem","width","100%","margin-top","0.2rem","margin-bottom","0.2rem"],["id","home-fatturato-totale-display",2,"font-size","1.2rem","width","100%","margin-top","0.2rem","margin-bottom","0.2rem"],["id","home-costo-manodopera-display",2,"font-size","1.2rem","width","100%","margin-top","0.2rem","margin-bottom","0.2rem"],["id","home-costo-materiale-display",2,"font-size","1.2rem","width","100%","margin-top","0.2rem","margin-bottom","0.2rem"],["id","home-costo-totale-display",2,"font-size","1.2rem","width","100%","margin-top","0.2rem","margin-bottom","0.2rem"],[2,"width","18rem","min-height","20rem","border-radius","1rem","border","1px solid rgba(0, 0, 0, 0.155)","display","flex","flex-direction","column","align-items","center","padding-top","1rem","padding-bottom","1rem","background","rgba(81, 0, 255, 0.084)","padding-left","1rem"],["name","people-outline",2,"font-size","1.8rem"],["id","emploee-count-display",2,"font-size","1.2rem","width","100%","margin-top","0.2rem","margin-bottom","0.2rem"],[2,"width","100%","display","flex","flex-direction","row","align-items","center","justify-content","space-between","padding-right","1rem","padding-top","1rem"],["name","albums-outline",2,"font-size","1.8rem"],["id","home-to-order-count-display",2,"font-size","1.2rem","width","100%","margin-top","0.2rem","margin-bottom","0.2rem"],[2,"width","100%","display","flex","flex-direction","row","align-items","center","gap","1rem","padding-left","1rem","flex-wrap","wrap"],[1,"inputGroup"],["id","add-task-activity-input","type","text",1,"input-field3"],["for","add-task-activity-input"],["id","add-task-end-date-input","type","date",1,"input-field3"],["for","add-task-end-date-input"],[2,"display","flex","flex-direction","column","margin-top","0.4rem"],[2,"margin-bottom","-1.5rem","z-index","2","background","white","margin-left","1.5rem","font-size","14px","color","rgb(100, 100, 100)","width","6rem","text-align","center"],["id","add-task-priority-input",1,"selector1",2,"width","100%"],["value","3"],["value","2"],["value","1"],[1,"button5",2,"height","2rem","padding-left","0.5rem","padding-right","0.5rem","margin-top","1rem","margin-bottom","1rem","width","8rem","height","3rem",3,"click"],[2,"width","100%","display","flex","flex-direction","column","padding-left","1rem","padding-right","1rem","height","auto","padding-bottom","2rem"],[2,"width","100%","height","auto","display","flex","flex-direction","column","width","100%","overflow-x","auto"],[2,"margin-bottom","1rem"],["id","tasks-count-display"],[1,"table"],[2,"height","2.5rem"],[1,"table-th"],[4,"ngFor","ngForOf"],[1,"table-td",2,"width","20rem"],[1,"table-td",2,"width","8rem"],[4,"ngIf"],[2,"width","100%","height","100%","display","flex","flex-direction","row","align-items","center","gap","1rem"],[1,"btn","btn-danger",2,"border-radius","50%","width","2.5rem","height","2.5rem","display","flex","align-items","center","justify-content","center",3,"click"],[1,"material-symbols-outlined","notranslate"]],template:function(r,i){1&r&&(d(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"strong",4),b(5,"Situazione Cantieri:"),v(),vt(6,"ion-icon",5),v(),vt(7,"div",6),d(8,"p",7),b(9,"In corso: "),v(),d(10,"p",8),b(11,"Conclusi: "),v(),d(12,"p",9),b(13,"Da iniziare: "),v(),d(14,"p",10),b(15,"Totale cantieri: "),v()(),d(16,"div",11)(17,"div",3)(18,"strong",4),b(19,"Situazione lavori:"),v(),vt(20,"ion-icon",12),v(),vt(21,"div",6),d(22,"p",13),b(23,"In corso: "),v(),d(24,"p",14),b(25,"Conclusi: "),v(),d(26,"p",15),b(27,"Da iniziare: "),v(),d(28,"p",16),b(29,"Totale lavori: "),v()(),d(30,"div",17)(31,"div",3)(32,"strong",4),b(33),v(),vt(34,"ion-icon",18),v(),vt(35,"div",6),d(36,"p",19),b(37,"Incasso totale: 0"),v(),d(38,"p",20),b(39,"Fatturato totale: 0"),v(),d(40,"p",21),b(41,"Spesa personale: 0"),v(),d(42,"p",22),b(43,"Spesa materiale: 0"),v(),d(44,"p",23),b(45,"Spesa totale: 0"),v()(),d(46,"div",24)(47,"div",3)(48,"strong",4),b(49,"Dipendenti:"),v(),vt(50,"ion-icon",25),v(),vt(51,"div",6),d(52,"p",26),b(53,"Totale impiegati: "),v(),d(54,"div",27)(55,"strong",4),b(56,"Generali:"),v(),vt(57,"ion-icon",28),v(),vt(58,"div",6),d(59,"p",29),b(60,"Ordini da effettuare: 0"),v()()(),d(61,"div",30)(62,"div",31),vt(63,"input",32),d(64,"label",33),b(65,"Attivit\xe0"),v()(),d(66,"div",31),vt(67,"input",34),d(68,"label",35),b(69,"Data scadenza"),v()(),d(70,"div",36)(71,"label",37),b(72,"Priorit\xe0"),v(),d(73,"div",31)(74,"select",38)(75,"option",39),b(76,"Alta"),v(),d(77,"option",40),b(78,"Media"),v(),d(79,"option",41),b(80,"Bassa"),v()()()(),d(81,"button",42),Sn("click",function(){return i.addRow()}),b(82,"Aggiungi task"),v()(),d(83,"div",43)(84,"div",44)(85,"p",45),b(86,"Numero task da fare: "),vt(87,"strong",46),v(),d(88,"table",47)(89,"thead",48)(90,"tr")(91,"th",49),b(92,"Attivit\xe0"),v(),d(93,"th",49),b(94,"Data scadenza"),v(),d(95,"th",49),b(96,"Priorit\xe0"),v(),d(97,"th",49),b(98,"Azioni"),v()()(),d(99,"tbody"),Xo(100,wye,17,5,"tr",50),wA(101,"async"),v()()()()()),2&r&&(gn(33),Gv("Analitica (",i.currentYear,")"),gn(67),eo("ngForOf",Uh(101,2,i.documents)))},dependencies:[bA,gg,ql,xf,Ff,_m]}),e})();function bye(t,e){if(1&t){const n=Fa();d(0,"tr",41)(1,"td",42),b(2),v(),d(3,"td",42),b(4),v(),d(5,"td",42),b(6),v(),d(7,"td",42),b(8),v(),d(9,"td",43)(10,"button",44),Sn("click",function(){const i=vn(n).$implicit;return Dn(Wo().editWorksite(i))}),d(11,"span",45),b(12,"edit"),v()(),d(13,"button",44),Sn("click",function(){const i=vn(n),o=i.$implicit,s=i.index;return Dn(Wo().deleteWorksite(o,s))}),d(14,"span",45),b(15,"delete"),v()()()()}if(2&t){const n=e.$implicit;gn(2),_r(n.name),gn(2),_r(n.partita_iva),gn(2),_r(n.end_date),gn(2),_r(n.code)}}let Iye=(()=>{var t;class e{constructor(r,i,o){this.firestore=r,this.generalService=i,this.router=o,this.documents=new rt([]),this.nextPageAvailable=!0}ngOnInit(){this.generalService.getCountersWorksites(),this.getWorksites()}getWorksites(){this.firestore.collection("worksites",r=>r.orderBy("timestamp","desc").limit(4)).get().subscribe(r=>{const i=r.docs.map(o=>({id:o.id,...o.data()}));4===i.length?this.lastVisible=r.docs[r.docs.length-1]:this.nextPageAvailable=!1,this.documents.next(i)})}getMoreWorksites(){!this.lastVisible||!this.nextPageAvailable||this.firestore.collection("worksites").ref.orderBy("timestamp","desc").limit(4).startAfter(this.lastVisible).get().then(r=>{const i=r.docs.map(o=>({id:o.id,...o.data()}));if(i.length>0){const s=[...this.documents.getValue(),...i];this.documents.next(s),4===i.length?this.lastVisible=r.docs[r.docs.length-1]:this.nextPageAvailable=!1}else this.nextPageAvailable=!1}).catch(r=>{this.generalService.presentToast("Si \xe8 verificato un errore durante il recupero di altri cantieri: "+r.message),this.nextPageAvailable=!1})}deleteWorksite(r,i){confirm("Sei sicuro di voler eliminare questo cantiere?")&&this.firestore.collection("worksites").doc(r.id).delete().then(()=>{const s=this.documents.getValue(),a=[...s.slice(0,i),...s.slice(i+1)];this.documents.next(a),this.generalService.presentToast("Cantiere eliminato con successo")}).catch(s=>{this.generalService.presentToast("Si \xe8 verificato un errore durante l'eliminazione del cantiere: "+s.message)})}editWorksite(r){this.generalService.currentWorksite=r,this.router.navigate(["/change-worksite"])}}return(t=e).\u0275fac=function(r){return new(r||t)(q(oc),q(Ml),q(Jo))},t.\u0275cmp=J({type:t,selectors:[["app-worksites"]],decls:87,vars:3,consts:[[2,"width","100%","height","100%","overflow-y","auto","overflow-x","hidden"],[2,"width","100%","display","flex","flex-direction","row","flex-wrap","wrap","gap","1rem","justify-content","start","align-items","center","justify-content","start","min-height","15rem","padding-top","1rem","padding-bottom","1rem","padding-left","1rem","padding-right","1rem"],[2,"width","18rem","min-height","20rem","border-radius","1rem","border","1px solid rgba(0, 0, 0, 0.155)","display","flex","flex-direction","column","align-items","center","padding-top","1rem","padding-bottom","1rem","background","rgba(120, 116, 116, 0.084)","padding-left","1rem"],[2,"width","100%","display","flex","flex-direction","row","align-items","center","justify-content","space-between","padding-right","1rem"],[2,"font-size","1.2rem"],["name","business-outline",2,"font-size","1.8rem"],[2,"width","95%","height","1px","background","rgba(0, 0, 0, 0.202)","margin-top","0.5rem","margin-bottom","0.5rem","margin-left","-1rem"],["id","worksites-doing-count-display",2,"font-size","1.2rem","width","100%","margin-top","0.2rem","margin-bottom","0.2rem"],["id","worksites-finished-count-display",2,"font-size","1.2rem","width","100%","margin-top","0.2rem","margin-bottom","0.2rem"],["id","worksites-to-start-count-display",2,"font-size","1.2rem","width","100%","margin-top","0.2rem","margin-bottom","0.2rem"],["id","worksites-total-count-display",2,"font-size","1.2rem","width","100%","margin-top","0.2rem","margin-bottom","0.2rem"],[2,"width","18rem","min-height","20rem","border-radius","1rem","border","1px solid rgba(0, 0, 0, 0.155)","display","flex","flex-direction","column","align-items","center","padding-top","1rem","padding-bottom","1rem","background","rgba(0, 255, 8, 0.084)","padding-left","1rem"],["name","card-outline",2,"font-size","1.8rem"],["id","worksites-installments-fatturate-count-display",2,"font-size","1.2rem","width","100%","margin-top","0.2rem","margin-bottom","0.2rem"],["id","worksites-installments-incassate-count-display",2,"font-size","1.2rem","width","100%","margin-top","0.2rem","margin-bottom","0.2rem"],["id","worksites-installments-da-fatturare-count-display",2,"font-size","1.2rem","width","100%","margin-top","0.2rem","margin-bottom","0.2rem"],["id","worksites-installments-da-incassare-count-display",2,"font-size","1.2rem","width","100%","margin-top","0.2rem","margin-bottom","0.2rem"],[2,"width","18rem","min-height","20rem","border-radius","1rem","border","1px solid rgba(0, 0, 0, 0.155)","display","flex","flex-direction","column","align-items","center","padding-top","1rem","padding-bottom","1rem","background","rgba(0, 0, 255, 0.084)","padding-left","1rem"],["name","pie-chart-outline",2,"font-size","1.8rem"],["id","worksites-incasso-totale-display",2,"font-size","1.2rem","width","100%","margin-top","0.2rem","margin-bottom","0.2rem"],["id","worksites-fatturato-totale-display",2,"font-size","1.2rem","width","100%","margin-top","0.2rem","margin-bottom","0.2rem"],["id","worksites-costo-materiale-display",2,"font-size","1.2rem","width","100%","margin-top","0.2rem","margin-bottom","0.2rem"],["id","worksites-costo-manodopera-display",2,"font-size","1.2rem","width","100%","margin-top","0.2rem","margin-bottom","0.2rem"],["id","worksites-costo-totale-display",2,"font-size","1.2rem","width","100%","margin-top","0.2rem","margin-bottom","0.2rem"],[2,"width","18rem","min-height","20rem","border-radius","1rem","border","1px solid rgba(0, 0, 0, 0.155)","display","flex","flex-direction","column","align-items","center","padding-top","1rem","padding-bottom","1rem","background","rgba(255, 0, 0, 0.084)","padding-left","1rem"],["name","calendar-outline",2,"font-size","1.8rem"],[2,"font-size","1.2rem","width","100%","margin-top","0.2rem","margin-bottom","0.2rem"],[2,"width","100%","display","flex","flex-direction","row","align-items","center","justify-content","space-between","padding-right","1rem","padding-top","1rem"],["name","albums-outline",2,"font-size","1.8rem"],["id","worksites-to-order-count-display",2,"font-size","1.2rem","width","100%","margin-top","0.2rem","margin-bottom","0.2rem"],[2,"width","100%","padding-left","1rem","padding-right","1rem","display","flex","align-items","center","justify-content","center","overflow","hidden","margin-bottom","1rem"],[1,"input1",2,"margin-top","1rem","width","100%","height","3rem"],["type","text","id","login-password","placeholder","Nome cantiere",1,"field1"],["name","search-outline",2,"font-size","1.5rem","color","#343a40","padding-left","0.5rem","padding-right","0.5rem"],[1,"table-container",2,"width","100%","overflow-x","auto","padding-left","1rem","padding-right","1rem"],[1,"table",2,"width","100%"],[2,"width","100%"],[1,"table-th"],["class","table-tr",4,"ngFor","ngForOf"],[2,"width","100%","display","flex","flex-direction","column","align-items","center"],[2,"width","95%","height","2.5rem","border-radius","0.5rem","margin-top","1rem","margin-bottom","1rem","flex-shrink","0",3,"click"],[1,"table-tr"],[1,"table-td"],[1,"table-td-actions",2,"display","flex","flex-direction","row","align-items","center","gap","0.5rem","overflow-x","hidden !important","overflow-y","hidden !important"],[1,"table-button1",2,"border-radius","50%","width","2rem","height","2rem","display","flex","align-items","center","justify-content","center",3,"click"],[1,"material-symbols-outlined","notranslate"]],template:function(r,i){1&r&&(d(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"strong",4),b(5,"Situazione Cantieri:"),v(),vt(6,"ion-icon",5),v(),vt(7,"div",6),d(8,"p",7),b(9,"In corso: 0"),v(),d(10,"p",8),b(11,"Conclusi: 0"),v(),d(12,"p",9),b(13,"Da iniziare: 0"),v(),d(14,"p",10),b(15,"Totale cantieri: 0"),v()(),d(16,"div",11)(17,"div",3)(18,"strong",4),b(19,"Fatturazione cantieri:"),v(),vt(20,"ion-icon",12),v(),vt(21,"div",6),d(22,"p",13),b(23,"Rate fatturate: "),v(),d(24,"p",14),b(25,"Rate incassate: "),v(),d(26,"p",15),b(27,"Rate da fatturare: "),v(),d(28,"p",16),b(29,"Rate da incassare: "),v()(),d(30,"div",17)(31,"div",3)(32,"strong",4),b(33,"Analitica:"),v(),vt(34,"ion-icon",18),v(),vt(35,"div",6),d(36,"p",19),b(37,"Incasso totale: 0"),v(),d(38,"p",20),b(39,"Fatturato totale: 0"),v(),d(40,"p",21),b(41,"Costo materiale: 0"),v(),d(42,"p",22),b(43,"Costo manodopera: 0"),v(),d(44,"p",23),b(45,"Costo totale: 0"),v()(),d(46,"div",24)(47,"div",3)(48,"strong",4),b(49,"Scadenze:"),v(),vt(50,"ion-icon",25),v(),vt(51,"div",6),d(52,"p",26),b(53,"Pi\xf9 vicina: 0"),v(),d(54,"p",26),b(55,"Pi\xf9 lontana: 0"),v(),d(56,"div",27)(57,"strong",4),b(58,"Generali:"),v(),vt(59,"ion-icon",28),v(),vt(60,"div",6),d(61,"p",29),b(62,"Ordini da effettuare: 0"),v()()(),d(63,"div",30)(64,"div",31),vt(65,"input",32)(66,"ion-icon",33),v()(),d(67,"div",34)(68,"table",35)(69,"thead")(70,"tr",36)(71,"th",37),b(72,"Nome"),v(),d(73,"th",37),b(74,"Partita Iva"),v(),d(75,"th",37),b(76,"Data scadenza"),v(),d(77,"th",37),b(78,"Codice cantiere"),v(),d(79,"th",37),b(80,"Azioni"),v()()(),d(81,"tbody",36),Xo(82,bye,16,4,"tr",38),wA(83,"async"),v()()(),d(84,"div",39)(85,"button",40),Sn("click",function(){return i.getMoreWorksites()}),b(86,"Carica altri"),v()()()),2&r&&(gn(82),eo("ngForOf",Uh(83,1,i.documents)))},dependencies:[bA,ql,_m]}),e})();function Eye(t,e){if(1&t){const n=Fa();d(0,"tr",41)(1,"td",42),b(2),v(),d(3,"td",42),b(4),v(),d(5,"td",42),b(6),v(),d(7,"td",42),b(8),v(),d(9,"td",43)(10,"button",44),Sn("click",function(){const i=vn(n).$implicit;return Dn(Wo().editWork(i))}),d(11,"span",45),b(12,"edit"),v()(),d(13,"button",44),Sn("click",function(){const i=vn(n),o=i.$implicit,s=i.index;return Dn(Wo().deleteWork(o,s))}),d(14,"span",45),b(15,"delete"),v()()()()}if(2&t){const n=e.$implicit;gn(2),_r(n.name),gn(2),_r(n.partita_iva),gn(2),_r(n.end_date),gn(2),_r(n.code)}}let Sye=(()=>{var t;class e{constructor(r,i,o){this.firestore=r,this.generalService=i,this.router=o,this.documents=new rt([]),this.nextPageAvailable=!0}ngOnInit(){this.getWorks(),this.generalService.getCountersWorks()}getWorks(){this.firestore.collection("works",r=>r.orderBy("timestamp","desc").limit(4)).get().subscribe(r=>{const i=r.docs.map(o=>({id:o.id,...o.data()}));4===i.length?this.lastVisible=r.docs[r.docs.length-1]:this.nextPageAvailable=!1,this.documents.next(i)})}getMoreWorks(){!this.lastVisible||!this.nextPageAvailable||this.firestore.collection("works").ref.orderBy("timestamp","desc").limit(4).startAfter(this.lastVisible).get().then(r=>{const i=r.docs.map(o=>({id:o.id,...o.data()}));if(i.length>0){const s=[...this.documents.getValue(),...i];this.documents.next(s),4===i.length?this.lastVisible=r.docs[r.docs.length-1]:this.nextPageAvailable=!1}else this.nextPageAvailable=!1}).catch(r=>{this.generalService.presentToast("Si \xe8 verificato un errore durante il recupero di altri lavori: "+r.message),this.nextPageAvailable=!1})}deleteWork(r,i){console.log(i),confirm("Sei sicuro di voler eliminare questo cantiere?")&&this.firestore.collection("works").doc(r.id).delete().then(()=>{const s=this.documents.getValue(),a=[...s.slice(0,i),...s.slice(i+1)];this.documents.next(a),this.generalService.presentToast("Cantiere eliminato con successo")}).catch(s=>{this.generalService.presentToast("Si \xe8 verificato un errore durante l'eliminazione del cantiere: "+s.message)})}editWork(r){this.generalService.currentWork=r,this.router.navigate(["/change-work"])}}return(t=e).\u0275fac=function(r){return new(r||t)(q(oc),q(Ml),q(Jo))},t.\u0275cmp=J({type:t,selectors:[["app-works"]],decls:87,vars:3,consts:[[2,"width","100%","height","100%","overflow-y","auto","overflow-x","hidden"],[2,"width","100%","display","flex","flex-direction","row","flex-wrap","wrap","gap","1rem","justify-content","start","align-items","center","justify-content","start","min-height","15rem","padding-top","1rem","padding-bottom","1rem","padding-left","1rem","padding-right","1rem"],[2,"width","18rem","min-height","20rem","border-radius","1rem","border","1px solid rgba(0, 0, 0, 0.155)","display","flex","flex-direction","column","align-items","center","padding-top","1rem","padding-bottom","1rem","background","rgba(120, 116, 116, 0.084)","padding-left","1rem"],[2,"width","100%","display","flex","flex-direction","row","align-items","center","justify-content","space-between","padding-right","1rem"],[2,"font-size","1.2rem"],["name","business-outline",2,"font-size","1.8rem"],[2,"width","95%","height","1px","background","rgba(0, 0, 0, 0.202)","margin-top","0.5rem","margin-bottom","0.5rem","margin-left","-1rem"],["id","works-doing-count-display",2,"font-size","1.2rem","width","100%","margin-top","0.2rem","margin-bottom","0.2rem"],["id","works-finished-count-display",2,"font-size","1.2rem","width","100%","margin-top","0.2rem","margin-bottom","0.2rem"],["id","works-to-start-count-display",2,"font-size","1.2rem","width","100%","margin-top","0.2rem","margin-bottom","0.2rem"],["id","works-total-count-display",2,"font-size","1.2rem","width","100%","margin-top","0.2rem","margin-bottom","0.2rem"],[2,"width","18rem","min-height","20rem","border-radius","1rem","border","1px solid rgba(0, 0, 0, 0.155)","display","flex","flex-direction","column","align-items","center","padding-top","1rem","padding-bottom","1rem","background","rgba(0, 255, 8, 0.084)","padding-left","1rem"],["name","card-outline",2,"font-size","1.8rem"],["id","works-installments-fatturate-count-display",2,"font-size","1.2rem","width","100%","margin-top","0.2rem","margin-bottom","0.2rem"],["id","works-installments-incassate-count-display",2,"font-size","1.2rem","width","100%","margin-top","0.2rem","margin-bottom","0.2rem"],["id","works-installments-da-fatturare-count-display",2,"font-size","1.2rem","width","100%","margin-top","0.2rem","margin-bottom","0.2rem"],["id","works-installments-da-incassare-count-display",2,"font-size","1.2rem","width","100%","margin-top","0.2rem","margin-bottom","0.2rem"],[2,"width","18rem","min-height","20rem","border-radius","1rem","border","1px solid rgba(0, 0, 0, 0.155)","display","flex","flex-direction","column","align-items","center","padding-top","1rem","padding-bottom","1rem","background","rgba(0, 0, 255, 0.084)","padding-left","1rem"],["name","pie-chart-outline",2,"font-size","1.8rem"],["id","works-incasso-totale-display",2,"font-size","1.2rem","width","100%","margin-top","0.2rem","margin-bottom","0.2rem"],["id","works-fatturato-totale-display",2,"font-size","1.2rem","width","100%","margin-top","0.2rem","margin-bottom","0.2rem"],["id","works-costo-materiale-display",2,"font-size","1.2rem","width","100%","margin-top","0.2rem","margin-bottom","0.2rem"],["id","works-costo-manodopera-display",2,"font-size","1.2rem","width","100%","margin-top","0.2rem","margin-bottom","0.2rem"],["id","works-costo-totale-display",2,"font-size","1.2rem","width","100%","margin-top","0.2rem","margin-bottom","0.2rem"],[2,"width","18rem","min-height","20rem","border-radius","1rem","border","1px solid rgba(0, 0, 0, 0.155)","display","flex","flex-direction","column","align-items","center","padding-top","1rem","padding-bottom","1rem","background","rgba(255, 0, 0, 0.084)","padding-left","1rem"],["name","calendar-outline",2,"font-size","1.8rem"],[2,"font-size","1.2rem","width","100%","margin-top","0.2rem","margin-bottom","0.2rem"],[2,"width","100%","display","flex","flex-direction","row","align-items","center","justify-content","space-between","padding-right","1rem","padding-top","1rem"],["name","albums-outline",2,"font-size","1.8rem"],["id","works-to-order-count-display",2,"font-size","1.2rem","width","100%","margin-top","0.2rem","margin-bottom","0.2rem"],[2,"width","100%","padding-left","1rem","padding-right","1rem","display","flex","align-items","center","justify-content","center","overflow","hidden","margin-bottom","1rem"],[1,"input1",2,"margin-top","1rem","width","100%","height","3rem"],["type","text","id","login-password","placeholder","Nome lavoro",1,"field1"],["name","search-outline",2,"font-size","1.5rem","color","#343a40","padding-left","0.5rem","padding-right","0.5rem"],[1,"table-container",2,"width","100%","overflow-x","auto","padding-left","1rem","padding-right","1rem"],[1,"table",2,"width","100%"],[2,"width","100%"],[1,"table-th"],["class","table-tr",4,"ngFor","ngForOf"],[2,"width","100%","display","flex","flex-direction","column","align-items","center"],[2,"width","95%","height","2.5rem","border-radius","0.5rem","margin-top","1rem","margin-bottom","1rem","flex-shrink","0",3,"click"],[1,"table-tr"],[1,"table-td"],[1,"table-td-actions",2,"display","flex","flex-direction","row","align-items","center","gap","0.5rem","overflow-x","hidden !important","overflow-y","hidden !important"],[1,"table-button1",2,"border-radius","50%","width","2rem","height","2rem","display","flex","align-items","center","justify-content","center",3,"click"],[1,"material-symbols-outlined","notranslate"]],template:function(r,i){1&r&&(d(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"strong",4),b(5,"Situazione lavori:"),v(),vt(6,"ion-icon",5),v(),vt(7,"div",6),d(8,"p",7),b(9,"In corso: 0"),v(),d(10,"p",8),b(11,"Conclusi: 0"),v(),d(12,"p",9),b(13,"Da iniziare: 0"),v(),d(14,"p",10),b(15,"Totale lavori: 0"),v()(),d(16,"div",11)(17,"div",3)(18,"strong",4),b(19,"Fatturazione lavori:"),v(),vt(20,"ion-icon",12),v(),vt(21,"div",6),d(22,"p",13),b(23,"Rate fatturate: "),v(),d(24,"p",14),b(25,"Rate incassate: "),v(),d(26,"p",15),b(27,"Rate da fatturare: "),v(),d(28,"p",16),b(29,"Rate da incassare: "),v()(),d(30,"div",17)(31,"div",3)(32,"strong",4),b(33,"Analitica:"),v(),vt(34,"ion-icon",18),v(),vt(35,"div",6),d(36,"p",19),b(37,"Incasso totale: 0"),v(),d(38,"p",20),b(39,"Fatturato totale: 0"),v(),d(40,"p",21),b(41,"Costo materiale: 0"),v(),d(42,"p",22),b(43,"Costo manodopera: 0"),v(),d(44,"p",23),b(45,"Costo totale: 0"),v()(),d(46,"div",24)(47,"div",3)(48,"strong",4),b(49,"Scadenze:"),v(),vt(50,"ion-icon",25),v(),vt(51,"div",6),d(52,"p",26),b(53,"Pi\xf9 vicina: 0"),v(),d(54,"p",26),b(55,"Pi\xf9 lontana: 0"),v(),d(56,"div",27)(57,"strong",4),b(58,"Generali:"),v(),vt(59,"ion-icon",28),v(),vt(60,"div",6),d(61,"p",29),b(62,"Ordini da effettuare: 0"),v()()(),d(63,"div",30)(64,"div",31),vt(65,"input",32)(66,"ion-icon",33),v()(),d(67,"div",34)(68,"table",35)(69,"thead")(70,"tr",36)(71,"th",37),b(72,"Nome"),v(),d(73,"th",37),b(74,"Partita Iva"),v(),d(75,"th",37),b(76,"Data scadenza"),v(),d(77,"th",37),b(78,"Codice lavoro"),v(),d(79,"th",37),b(80,"Azioni"),v()()(),d(81,"tbody",36),Xo(82,Eye,16,4,"tr",38),wA(83,"async"),v()()(),d(84,"div",39)(85,"button",40),Sn("click",function(){return i.getMoreWorks()}),b(86,"Carica altri"),v()()()),2&r&&(gn(82),eo("ngForOf",Uh(83,1,i.documents)))},dependencies:[bA,ql,_m]}),e})(),Tye=(()=>{var t;class e{constructor(){}ngOnInit(){}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=J({type:t,selectors:[["app-add"]],decls:13,vars:0,consts:[[2,"width","100%","height","100%","display","flex","flex-direction","column"],["id","add-selection",2,"width","100%","height","100%","padding-left","1rem","display","flex","flex-direction","column"],[1,"general-text1"],["routerLink","/add-preventive",1,"selection-button1"],["routerLink","/add-work",1,"selection-button1"],["routerLink","/add-worksite",1,"selection-button1"],["routerLink","/add-corretta-posa",1,"selection-button1"]],template:function(r,i){1&r&&(d(0,"body")(1,"div",0)(2,"div",1)(3,"h3",2),b(4,"Cosa vuoi creare?"),v(),d(5,"button",3),b(6,"Preventivo"),v(),d(7,"button",4),b(8,"Lavoro"),v(),d(9,"button",5),b(10,"Cantiere"),v(),d(11,"button",6),b(12,"Corretta posa"),v()()()())},dependencies:[SA,Zu]}),e})();var xk=wt(9107);function Bye(t,e){if(1&t){const n=Fa();d(0,"tr")(1,"td",37)(2,"input",38),Tc("ngModelChange",function(i){const o=vn(n).$implicit;return rd(o.column1,i)||(o.column1=i),Dn(i)}),v()(),d(3,"td",37)(4,"input",38),Tc("ngModelChange",function(i){const o=vn(n).$implicit;return rd(o.column2,i)||(o.column2=i),Dn(i)}),v()(),d(5,"td",37)(6,"input",38),Tc("ngModelChange",function(i){const o=vn(n).$implicit;return rd(o.column3,i)||(o.column3=i),Dn(i)}),v()(),d(7,"td",37),vt(8,"input",39),wA(9,"number"),v(),d(10,"td",37)(11,"button",40),Sn("click",function(){const i=vn(n).index;return Dn(Wo().rimuoviRiga(i))}),d(12,"span",41),b(13,"delete"),v()()()()}if(2&t){const n=e.$implicit;kl("data-index",e.index),gn(2),Sc("ngModel",n.column1),gn(2),Sc("ngModel",n.column2),gn(2),Sc("ngModel",n.column3),gn(2),p_("value","",QS(9,6,n.column2*n.column3,"1.2-2")," \u20ac")}}wt(4941);let Dye=(()=>{var t;class e{constructor(r,i){this.firestore=r,this.generalService=i,this.rows=[{column1:"Fornitura e posa in opera di impianto di irrigazione automatico a batteria per l'irrigazione delle aiuole con il corten e per l' irrigazione delle aiuole della scuola;",column2:12.2,column3:3},{column1:"centraline a batteria",column2:0,column3:2},{column1:"elettrovalvole",column2:0,column3:4},{column1:"pozetti verdi ",column2:0,column3:4},{column1:"tubazioni sia di portata, tubazioni gocciolanti",column2:0,column3:0},{column1:"telo pacciamante in plastica verde",column2:0,column3:0},{column1:"fornitura di una gomma per l' irrigazione di altre essenze all'interno del parco",column2:0,column3:0},{column1:"raccordi vari ",column2:0,column3:0}]}ngOnInit(){var r=new Date,i=r.getDate(),o=r.getMonth()+1,a=r.getFullYear()+"-"+(o<10?"0"+o:o)+"-"+(i<10?"0"+i:i);document.getElementById("preventive-date-input").value=a}aggiungiRiga(){this.rows.push({column1:"",column2:0,column3:0})}rimuoviRiga(r){this.rows.splice(r,1)}calcolaColumn4(r){return r.column2*r.column3}calcolaTotaleColumn4(){let r=0;return this.rows.forEach(i=>{r+=this.calcolaColumn4(i)}),+r.toFixed(2)}addPreventive(){var r=document.getElementById("preventive-place-input"),i=document.getElementById("preventive-date-input"),o=document.getElementById("preventive-number-input1"),s=document.getElementById("preventive-number-year-input1"),a=document.getElementById("preventive-recipient-input"),l=document.getElementById("preventive-p-iva-input"),u=document.getElementById("preventive-registered-office-input"),m=document.getElementById("preventive-object-input"),I=document.getElementById("preventive-description-input");this.firestore.collection("preventives").add({rows:this.rows,place:r.value,date:i.value,number:o.value,number_year:s.value,recipient:a.value,p_iva:l.value,registered_office:u.value,object:m.value,description:I.value,timestamp:bn.A.firestore.FieldValue.serverTimestamp()}).then(k=>{this.generalService.presentToast("Preventivo creato con successo")}).catch(k=>{this.generalService.presentToast("Errore durante la creazione del preventivo: "+k.message)})}exportPreventivePdf(){var r=document.getElementById("preventive-place-input"),i=document.getElementById("preventive-date-input"),o=document.getElementById("preventive-recipient-input"),s=document.getElementById("preventive-p-iva-input"),a=document.getElementById("preventive-registered-office-input"),l=document.getElementById("preventive-object-input"),u=document.getElementById("preventive-description-input");const m=new xk.default;m.setFontSize(10),m.addImage("assets/images/logo.png","PNG",10,10,80,40);const I=m.internal.pageSize.height;let k=60;m.text(r.value+"  "+i.value,m.internal.pageSize.width-10,k,{align:"right"}),k+=10,m.text("Spett.le: "+o.value,m.internal.pageSize.width-10,k,{align:"right"}),k+=10,m.text("P.Iva: "+s.value,m.internal.pageSize.width-10,k,{align:"right"}),k+=10,m.text("Indirizzo sede legale: "+a.value,m.internal.pageSize.width-10,k,{align:"right"}),k+=20,m.text("Oggetto: "+l.value,10,k,{maxWidth:m.internal.pageSize.width-10}),k+=10,m.text("Descrizione: "+u.value,10,k,{maxWidth:m.internal.pageSize.width-10}),k+=20;const U=this.rows.map(Lt=>[Lt.column1,Lt.column2.toString(),Lt.column3.toString()]);m.autoTable({head:[["Descrizione","Prezzo","Quantit\xe0"]],body:U,startY:k,margin:{top:20}});const ve=this.calcolaTotaleColumn4();k=I-50,m.text("TOTALE PREVENTIVO: "+ve+"\u20ac",m.internal.pageSize.width-60,k),k-=10,m.text("I prezzi sono da considerarsi IVA esclusa (22%)",10,k),k-=-30;const xe=m.internal.pageSize.width-60;m.text("Firma per accettazione",xe,k);const at=12*m.getStringUnitWidth("Firma per accettazione");m.setLineWidth(.5),m.line(xe,k+3,xe+at,k+3),m.save("AllGreen-Preventivo.pdf")}}return(t=e).\u0275fac=function(r){return new(r||t)(q(oc),q(Ml))},t.\u0275cmp=J({type:t,selectors:[["app-add-preventive"]],decls:66,vars:2,consts:[["id","add-preventive",2,"height","100%","width","100%","display","flex","flex-direction","column","padding-left","1rem","overflow-y","auto","overflow-x","hidden","padding-bottom","7rem"],[2,"display","flex","flex-direction","row","align-items","center"],["routerLink","/add","name","chevron-back",2,"cursor","pointer","font-size","1.8rem"],["src","assets\\images\\logo.jpg","alt","",2,"width","18rem","margin-left","2rem","margin-top","2rem"],[2,"display","flex","flex-direction","column","justify-content","end","width","100%","padding-top","2rem","padding-right","2rem"],[2,"display","flex","flex-direction","row","justify-content","end","width","100%","gap","1rem","height","3rem"],["id","preventive-place-input","value","Trieste","type","text",1,"input-field1",2,"width","8rem"],["id","preventive-date-input","type","date",1,"input-field1"],[2,"display","flex","flex-direction","row","justify-content","end","align-items","center","gap","1rem","height","3rem","padding-bottom","2rem"],["for","preventive-number-input1",2,"margin-top","0.5rem","margin-bottom","0.2rem","margin-right","0.5rem"],["id","preventive-number-input1","value","0","type","number",1,"input-field1",2,"width","5rem"],[2,"font-weight","bold","font-size","2rem"],["id","preventive-number-year-input1","value","0","type","number",1,"input-field1",2,"width","5rem"],[2,"display","flex","flex-direction","row","justify-content","end","align-items","center","gap","1rem","height","3rem"],["for","preventive-recipient-input",2,"margin-top","0.5rem","margin-bottom","0.2rem","margin-right","0.5rem"],["id","preventive-recipient-input","value","Comune di Spilimbergo","type","text",1,"input-field1"],["for","preventive-p-iva-input",2,"margin-top","0.5rem","margin-bottom","0.2rem","margin-right","0.5rem"],["id","preventive-p-iva-input","type","text",1,"input-field1"],["for","preventive-registered-office-input",2,"margin-top","0.5rem","margin-bottom","0.2rem","margin-right","0.5rem"],["id","preventive-registered-office-input","value","Piazzetta Tiepolo , 1 33097","type","text",1,"input-field1"],[2,"display","flex","flex-direction","start","justify-content","end","align-items","center","gap","1rem","height","3rem","margin-top","3rem"],["for","preventive-object-input",2,"margin-top","0.5rem","margin-bottom","0.2rem","margin-right","0.5rem","font-weight","bold"],["id","preventive-object-input","value","FORNITURA E POSA IMPIANTO DI IRRIGAZIONE","type","text",1,"input-field1",2,"width","100%"],["id","preventive-description-input","value","Come da Vostra richiesta, inviamo la nostra migliore offerta per le seguenti lavorazioni.","type","text",1,"input-field1",2,"width","100%"],[1,"table-container"],[1,"button5",2,"height","2rem","padding-left","0.5rem","padding-right","0.5rem","margin-top","1rem","margin-bottom","1rem",3,"click"],[1,"table"],[1,"table-th",2,"width","40rem"],[1,"table-th"],[4,"ngFor","ngForOf"],["id","totale-column4",2,"font-weight","bold","width","100%","text-align","end"],[2,"margin-top","1rem","margin-bottom","1rem"],[2,"width","100%","text-align","end","text-decoration","underline"],[2,"display","flex","flex-direction","column-reverse","width","100%","position","absolute","z-index","2","pointer-events","none","height","100%"],[2,"width","calc( 100% - 2rem )","display","grid","grid-template-columns","repeat(auto-fit, minmax(200px, 1fr))","gap","1rem","background","white","padding-bottom","1rem","padding-top","1rem","pointer-events","all"],[1,"button1",3,"click"],["routerLink","/add",1,"button1",2,"margin-right","1rem"],[1,"table-td"],["type","text",1,"form-control",3,"ngModelChange","ngModel"],["type","text",1,"form-control",3,"value"],[1,"btn","btn-danger",2,"border-radius","50%","width","2rem","height","2rem","display","flex","align-items","center","justify-content","center",3,"click"],[1,"material-symbols-outlined","notranslate"]],template:function(r,i){1&r&&(d(0,"div",0)(1,"div",1),vt(2,"ion-icon",2),d(3,"h3"),b(4,"Crea preventivo"),v()(),vt(5,"img",3),d(6,"div",4)(7,"div",5),vt(8,"input",6)(9,"input",7),v(),d(10,"div",8)(11,"label",9),b(12,"Preventivo N."),v(),vt(13,"input",10),d(14,"p",11),b(15,"/"),v(),vt(16,"input",12),v(),d(17,"div",13)(18,"label",14),b(19,"Spett.le"),v(),vt(20,"input",15),v(),d(21,"div",13)(22,"label",16),b(23,"P.iva"),v(),vt(24,"input",17),v(),d(25,"div",13)(26,"label",18),b(27,"Indirizzo sede legale"),v(),vt(28,"input",19),v(),d(29,"div",20)(30,"label",21),b(31,"Oggetto:"),v(),vt(32,"input",22),v(),vt(33,"input",23),d(34,"div",24)(35,"button",25),Sn("click",function(){return i.aggiungiRiga()}),b(36,"Aggiungi Riga"),v(),d(37,"table",26)(38,"thead")(39,"tr")(40,"th",27),b(41,"Lavorazione"),v(),d(42,"th",28),b(43,"Prezzo Unitario"),v(),d(44,"th",28),b(45,"Q.ta"),v(),d(46,"th",28),b(47,"Importo"),v(),d(48,"th",28),b(49,"Azioni"),v()()(),d(50,"tbody"),Xo(51,Bye,14,9,"tr",29),v()()(),d(52,"p",30),b(53),v(),d(54,"strong",31),b(55,"I prezzi sono da considerarsi IVA esclusa (22%)"),v(),d(56,"p",32),b(57,"Firma per accettazione"),v()(),d(58,"div",33)(59,"div",34)(60,"button",35),Sn("click",function(){return i.addPreventive()}),b(61,"Salva"),v(),d(62,"button",35),Sn("click",function(){return i.exportPreventivePdf()}),b(63,"Esporta"),v(),d(64,"button",36),b(65,"Annulla"),v()()()()),2&r&&(gn(51),eo("ngForOf",i.rows),gn(2),Gv("TOTALE PREVENTIVO: ",i.calcolaTotaleColumn4()," \u20ac"))},dependencies:[bA,ql,SA,Zu,e0,cb,N_,ET]}),e})();function xye(t,e){if(1&t){const n=Fa();d(0,"tr")(1,"td",239),b(2),v(),d(3,"td",239),b(4),v(),d(5,"td",239),b(6),v(),d(7,"td",239),b(8),v(),d(9,"td",239),b(10),v(),d(11,"td",239),b(12),v(),d(13,"td",239)(14,"button",240),Sn("click",function(){const i=vn(n).index;return Dn(Wo().removeInstallment(i))}),d(15,"span",151),b(16,"delete"),v()()()()}if(2&t){const n=e.$implicit;kl("data-index",e.index),gn(2),_r(n.name),gn(2),_r(n.amount),gn(2),_r(n.fatturata),gn(2),_r(n.data_fattura),gn(2),_r(n.incassata),gn(2),_r(n.data_incasso)}}function Fye(t,e){1&t&&(d(0,"span"),b(1,"Bassa"),v())}function kye(t,e){1&t&&(d(0,"span"),b(1,"Media"),v())}function Rye(t,e){1&t&&(d(0,"span"),b(1,"Alta"),v())}function Pye(t,e){if(1&t){const n=Fa();d(0,"tr")(1,"td",239),b(2),v(),d(3,"td",239),b(4),v(),d(5,"td",239),Xo(6,Fye,2,0,"span",241)(7,kye,2,0,"span",241)(8,Rye,2,0,"span",241),v(),d(9,"td")(10,"button",240),Sn("click",function(){const i=vn(n).index;return Dn(Wo().removeWorksiteActivity(i))}),d(11,"span",151),b(12,"delete"),v()()()()}if(2&t){const n=e.$implicit;kl("data-index",e.index),gn(2),_r(n.activity),gn(2),_r(n.status),gn(2),eo("ngIf","1"===n.priority),gn(),eo("ngIf","2"===n.priority),gn(),eo("ngIf","3"===n.priority)}}function Nye(t,e){if(1&t){const n=Fa();d(0,"tr")(1,"td",239),b(2),v(),d(3,"td",239),b(4),v(),d(5,"td",239),b(6),v(),d(7,"td",239),b(8),v(),d(9,"td",239),b(10),v(),d(11,"td")(12,"button",240),Sn("click",function(){const i=vn(n).index;return Dn(Wo().removeCost(i))}),d(13,"span",151),b(14,"delete"),v()()()()}if(2&t){const n=e.$implicit;kl("data-index",e.index),gn(2),_r(n.articles_number),gn(2),_r(n.description),gn(2),_r(n.cost),gn(2),_r(n.cost*n.articles_number),gn(2),_r(n.status)}}let Mye=(()=>{var t;class e{constructor(r,i){this.firestore=r,this.generalService=i,this.installments=new rt([]),this.nextPageAvailable=!0,this.installmentsRows=[],this.worksiteCostsRows=[],this.worksiteActivitiesRows=[]}ngOnInit(){const r=document.getElementById("worksite-boss-input");bn.A.database().ref("users_data").on("value",i=>{r.innerHTML='<option value="">Seleziona un\'opzione</option>',i.forEach(o=>{const s=o.key,a=o.val(),l=document.createElement("option");l.value=s,l.innerText=a.name,r.appendChild(l)})})}openOrClosePopup1(){const r=document.getElementById("worksite-money-status-input");console.log(r.value),"da-saldare"==r.value&&(document.getElementById("popup-stato-amministrativo").style.display="flex"),(r.value="saldato")&&(document.getElementById("popup-stato-amministrativo").style.display="none")}addWorksite(){var r=document.getElementById("worksite-name-input"),i=document.getElementById("worksite-partita-iva-input"),o=document.getElementById("worksite-code-input"),s=document.getElementById("worksite-address-input"),a=document.getElementById("worksite-provincia-input"),l=document.getElementById("worksite-customer-type-input"),u=document.getElementById("worksite-end-date-input"),m=document.getElementById("worksite-status-input"),I=document.getElementById("worksite-money-status-input"),k=document.getElementById("worksite-boss-input"),U=document.getElementById("worksite-delay-input"),Y=document.getElementById("worksite-hourly-cost-input"),ve=document.getElementById("worksite-employed-workers-input"),xe=document.getElementById("worksite-labor-hours-input"),st=document.getElementById("worksite-collection-input"),at=document.getElementById("worksite-pavimentazione-antitraoma-input");this.pavimentazioneAntitraoma=at.checked?"true":"false";var Lt=document.getElementById("worksite-pavimentazione-drenante-input");this.pavimentazioneDrenante=Lt.checked?"true":"false";var Yt=document.getElementById("worksite-verde-input");this.verde=Yt.checked?"true":"false";var kn=document.getElementById("worksite-giochi-input");this.giochi=kn.checked?"true":"false",this.firestore.collection("worksites").add({name:r.value,partita_iva:i.value,code:o.value,address:s.value,province:a.value,customer_type:l.value,end_date:u.value,money_status:I.value,status:m.value,boss_uid:k.value,boss_name:k.innerText,delay:U.value,hourly_cost:Y.value,employed_workers:ve.value,labor_hours:xe.value,collection:st.value,timestamp:bn.A.firestore.FieldValue.serverTimestamp(),pavimentazione_antitraoma:this.pavimentazioneAntitraoma,pavimentazione_drenante:this.pavimentazioneDrenante,verde:this.verde,giochi:this.giochi}).then(jn=>{this.addInstallments(jn.id),this.addCosts(jn.id),this.addWorksiteActivities(jn.id),this.addWorksiteCounts(jn.id),this.generalService.presentToast("Cantiere creato con successo")}).catch(jn=>{this.generalService.presentToast("Errore durante l'aggiunta del cantiere: "+jn.message)})}calcLaborCost(){var r=document.getElementById("worksite-hourly-cost-input"),i=document.getElementById("worksite-employed-workers-input"),o=document.getElementById("worksite-labor-hours-input"),s=parseFloat(r.value)||1,a=parseFloat(i.value)||1,l=parseFloat(o.value)||1;document.getElementById("worksite-total-labor-cost-input").value=(s*a*l).toString()}addWorksiteCounts(r){var i=(new Date).getFullYear().toString();bn.A.database().ref("/counters/worksites/"+i+"/general/total/").transaction(o=>null===o?{fatturato:this.countFatturato(),incasso:this.countIncasso(),spesa:this.countSpesa(),spesa_personale:this.countSpesaPersonale()}:{fatturato:(o.fatturato||0)+this.countFatturato(),incasso:(o.incasso||0)+this.countIncasso(),spesa:(o.spesa||0)+this.countSpesa(),spesa_personale:(o.spesa_personale||0)+Number(this.countSpesaPersonale())}).catch(o=>{this.generalService.presentToast("Errore durante l'incremento dei contatori del cantiere: "+o.message)}),bn.A.database().ref("/counters/worksites/"+i+"/general/"+parseFloat(((new Date).getMonth()+1).toString())+"/").transaction(o=>null===o?{fatturato:this.countFatturato(),incasso:this.countIncasso(),spesa:this.countSpesa(),spesa_personale:this.countSpesaPersonale()}:{fatturato:(o.fatturato||0)+this.countFatturato(),incasso:(o.incasso||0)+this.countIncasso(),spesa:(o.spesa||0)+this.countSpesa(),spesa_personale:(o.spesa_personale||0)+Number(this.countSpesaPersonale())}).catch(o=>{this.generalService.presentToast("Errore durante l'incremento dei contatori del cantiere: "+o.message)}),bn.A.database().ref("/counters/worksites/"+i+"/"+r+"/total/").transaction(o=>null===o?{fatturato:this.countFatturato(),incasso:this.countIncasso(),spesa:this.countSpesa(),spesa_personale:this.countSpesaPersonale()}:{fatturato:(o.fatturato||0)+this.countFatturato(),incasso:(o.incasso||0)+this.countIncasso(),spesa:(o.spesa||0)+this.countSpesa(),spesa_personale:(o.spesa_personale||0)+Number(this.countSpesaPersonale())}).catch(o=>{this.generalService.presentToast("Errore durante l'incremento dei contatori del cantiere: "+o.message)}),bn.A.database().ref("/counters/worksites/"+i+"/"+r+"/"+parseFloat(((new Date).getMonth()+1).toString())+"/").transaction(o=>null===o?{fatturato:this.countFatturato(),incasso:this.countIncasso(),spesa:this.countSpesa(),spesa_personale:this.countSpesaPersonale()}:{fatturato:(o.fatturato||0)+this.countFatturato(),incasso:(o.incasso||0)+this.countIncasso(),spesa:(o.spesa||0)+this.countSpesa(),spesa_personale:(o.spesa_personale||0)+Number(this.countSpesaPersonale())}).catch(o=>{this.generalService.presentToast("Errore durante l'incremento dei contatori del cantiere: "+o.message)})}countFatturato(){return this.installmentsRows.reduce((i,o)=>"fatturata"===o.fatturata?i+parseFloat(o.amount):i,0)}countIncasso(){return this.installmentsRows.reduce((i,o)=>"incassata"===o.incassata?i+parseFloat(o.amount):i,0)}countSpesa(){return this.worksiteCostsRows.reduce((i,o)=>null!=o.cost?i+parseFloat(o.cost)*parseFloat(o.articles_number):i,0)}countSpesaPersonale(){return document.getElementById("worksite-total-labor-cost-input").value}addInstallments(r){var i=this;return(0,V.A)(function*(){try{for(let o=0;o<i.installmentsRows.length;o++){const s=i.installmentsRows[o];s.worksite_id=r,s.timestamp=bn.A.firestore.FieldValue.serverTimestamp(),s.group="worksite",yield i.firestore.collection("installments").add(s)}}catch(o){i.generalService.presentToast("Errore durante l'aggiunta delle rate al cantiere: "+o.message)}})()}addInstallment(){this.installmentsRows.push({name:document.getElementById("installment-name-input").value,amount:document.getElementById("installment-amount-input").value,fatturata:document.getElementById("installment-fatturata-input").value,data_fattura:document.getElementById("installment-data-fattura-input").value,incassata:document.getElementById("installment-incassata-input").value,data_incasso:document.getElementById("installment-data-incasso-input").value,worksite_id:void 0,timestamp:void 0,group:void 0})}removeInstallment(r){this.installmentsRows.splice(r,1)}addCosts(r){var i=this;return(0,V.A)(function*(){try{for(let o=0;o<i.worksiteCostsRows.length;o++){const s=i.worksiteCostsRows[o];s.worksite_id=r,i.currentWorksiteId=r,s.timestamp=bn.A.firestore.FieldValue.serverTimestamp(),s.group="worksite",yield i.firestore.collection("costs").add(s);const l=s.articles_number,u=parseFloat(s.cost.value),m=parseFloat(l.value);if(isNaN(u)||isNaN(m))return void i.generalService.presentToast("Alcuni numeri non sono validi");const I=u*m;if(isNaN(I))return void i.generalService.presentToast("Il calcolo ha come risultato un numero non valido");i.updateCostCounterAnnuale(I),i.updateCostCounterMensile(I)}}catch(o){i.generalService.presentToast("Errore durante l'aggiunta delle spese al cantiere: "+o.message)}})()}updateCostCounterAnnuale(r){var i=(new Date).getFullYear().toString();bn.A.database().ref("/counters/worksites/"+i+"/general/total/").child("spesa").transaction(s=>null===s?r:s+r).catch(s=>{this.generalService.presentToast("Errore durante l'incremento del costo annuale: "+s.message)}),bn.A.database().ref("/counters/worksites/"+i+"/"+this.currentWorksiteId+"/total/").child("spesa").transaction(s=>null===s?r:s+r).catch(s=>{this.generalService.presentToast("Errore durante l'incremento del costo annuale: "+s.message)})}updateCostCounterMensile(r){var i=(new Date).getFullYear().toString(),o=((new Date).getMonth()+1).toString();bn.A.database().ref("/counters/worksites/"+i+"/general/"+parseFloat(((new Date).getMonth()+1).toString())+"/").child("spesa").transaction(a=>null===a?r:a+r).catch(a=>{this.generalService.presentToast("Errore durante l'incremento del fatturato mensile: "+a.message)}),bn.A.database().ref("/counters/worksites/"+i+"/"+this.currentWorksiteId+"/"+o+"/").child("spesa").transaction(a=>null===a?r:a+r).catch(a=>{this.generalService.presentToast("Errore durante l'incremento del fatturato annuale: "+a.message)})}addCost(){this.worksiteCostsRows.push({articles_number:document.getElementById("cost-articles-number-input").value,description:document.getElementById("cost-description-input").value,cost:document.getElementById("cost-cost-input").value,status:document.getElementById("cost-status-input").value,worksite_id:void 0,timestamp:void 0,group:void 0})}removeCost(r){this.worksiteCostsRows.splice(r,1)}addWorksiteActivities(r){var i=this;return(0,V.A)(function*(){try{for(let o=0;o<i.worksiteActivitiesRows.length;o++){const s=i.worksiteActivitiesRows[o];s.worksite_id=r,s.timestamp=bn.A.firestore.FieldValue.serverTimestamp(),s.group="worksite",yield i.firestore.collection("activities").add(s)}}catch(o){i.generalService.presentToast("Errore durante l'aggiunta delle attivit\xe0 al cantiere: "+o.message)}})()}addWorksiteActivity(){this.worksiteActivitiesRows.push({activity:document.getElementById("activity-name-input").value,status:document.getElementById("activity-status-input").value,priority:document.getElementById("activity-priority-input").value,worksite_id:void 0,timestamp:void 0,group:void 0})}removeWorksiteActivity(r){this.worksiteActivitiesRows.splice(r,1)}}return(t=e).\u0275fac=function(r){return new(r||t)(q(oc),q(Ml))},t.\u0275cmp=J({type:t,selectors:[["app-add-worksite"]],decls:516,vars:3,consts:[["id","add-worksite",2,"height","100%","width","100%","display","flex","flex-direction","column","padding-left","1rem","padding-right","1rem","overflow-y","auto","overflow-x","hidden","padding-bottom","7rem"],[2,"width","100%","display","grid","grid-template-columns","repeat(auto-fit, minmax(200px, 1fr))","grid-gap","10px","margin-top","4rem"],[1,"inputGroup",2,"width","100%"],["id","worksite-name-input","type","text","value","Palazzo economo e magazzino 20",1,"input-field3"],["for","worksite-name-input"],[1,"inputGroup",2,"display","inline-grid"],["id","worksite-partita-iva-input","type","text",1,"input-field3"],["for","worksite-partita-iva-input"],["id","worksite-code-input","type","text",1,"input-field3"],["for","worksite-code-input"],[2,"width","100%","display","grid","grid-template-columns","repeat(auto-fit, minmax(200px, 1fr))","grid-gap","10px"],[1,"inputGroup",2,"display","inline-grid","width","calc(100% -10rem)"],["id","worksite-address-input","type","text",1,"input-field3"],["for","worksite-address-input"],[2,"display","inline-grid","flex-direction","column"],[2,"margin-bottom","-1.5rem","z-index","2","background","white","margin-left","1.5rem","font-size","14px","color","rgb(100, 100, 100)","width","6rem","text-align","center"],[1,"inputGroup"],["id","worksite-provincia-input",1,"selector1",2,"width","100%"],["value","Alessandria"],["value","Ancona"],["value","Arezzo"],["value","Ascoli Piceno"],["value","Asti"],["value","Avellino"],["value","Bari"],["value","Barletta-Andria-Trani"],["value","Belluno"],["value","Benevento"],["value","Bergamo"],["value","Biella"],["value","Bologna"],["value","Bolzano"],["value","Brescia"],["value","Brindisi"],["value","Cagliari"],["value","Caltanissetta"],["value","Campobasso"],["value","Caserta"],["value","Catania"],["value","Catanzaro"],["value","Chieti"],["value","Como"],["value","Cosenza"],["value","Cremona"],["value","Crotone"],["value","Cuneo"],["value","Enna"],["value","Fermo"],["value","Ferrara"],["value","Firenze"],["value","Foggia"],["value","Forl\xec"],["value","Frosinone"],["value","Genova"],["value","Gorizia"],["value","Grosseto"],["value","Imperia"],["value","Isernia"],["value","La Spezia"],["value","L'Aquila"],["value","Latina"],["value","Lecce"],["value","Lecco"],["value","Livorno"],["value","Lodi"],["value","Lucca"],["value","Macerata"],["value","Mantova"],["value","Massa-Carrara"],["value","Matera"],["value","Messina"],["value","Milano"],["value","Modena"],["value","Monza e della Brianza"],["value","Napoli"],["value","Novara"],["value","Nuoro"],["value","Ogliastra"],["value","Oristano"],["value","Padova"],["value","Palermo"],["value","Parma"],["value","Pavia"],["value","Perugia"],["value","Pesaro e Urbino"],["value","Pescara"],["value","Piacenza"],["value","Pisa"],["value","Pistoia"],["value","Pordenone"],["value","Potenza"],["value","Prato"],["value","Ragusa"],["value","Ravenna"],["value","Reggio Calabria"],["value","Reggio nell'Emilia"],["value","Rieti"],["value","Rimini"],["value","Roma"],["value","Rovigo"],["value","Salerno"],["value","Sassari"],["value","Savona"],["value","Siena"],["value","Siracusa"],["value","Sondrio"],["value","Sud Sardegna"],["value","Taranto"],["value","Teramo"],["value","Terni"],["value","Torino"],["value","Trapani"],["value","Trento"],["value","Treviso"],["value","Trieste"],["value","Udine"],["value","Valle d'Aosta"],["value","Varese"],["value","Venezia"],["value","Verbano-Cusio-Ossola"],["value","Vercelli"],["value","Verona"],["value","Vibo Valentia"],["value","Vicenza"],["value","Viterbo"],[2,"width","100%","display","grid","grid-template-columns","repeat(auto-fit, minmax(200px, 1fr))","grid-gap","10px","align-items","center"],[2,"display","flex","flex-direction","column","overflow","hidden"],["id","worksite-customer-type-input",1,"selector1",2,"width","100%"],["value","public-administration"],["value","private"],[2,"display","flex","flex-direction","row","overflow-x","auto","align-items","center","border","2px solid #19212d !important","border-radius","20px","height","3.4rem","gap","1rem"],[2,"display","flex","flex-direction","row","align-items","center","gap","0.5rem"],["id","worksite-pavimentazione-antitraoma-input","type","checkbox",1,"input-field3",2,"width","1rem","height","1rem"],[2,"margin-top","0.2rem","margin-bottom","0.2rem","width","8rem"],["id","worksite-pavimentazione-drenante-input","type","checkbox",1,"input-field3",2,"width","1rem","height","1rem"],["id","worksite-verde-input","type","checkbox",1,"input-field3",2,"width","1rem","height","1rem"],[2,"margin-top","0.2rem","margin-bottom","0.2rem"],["id","worksite-giochi-input","type","checkbox",1,"input-field3",2,"width","1rem","height","1rem"],["id","worksite-end-date-input","type","date",1,"input-field3"],["for","worksite-end-date-input"],[2,"display","flex","flex-direction","column","margin-top","0.4rem"],["id","worksite-status-input",1,"selector1",2,"width","100%"],["value","to-start"],["value","doing"],["value","finished"],[2,"margin-bottom","-1.5rem","z-index","2","background","white","margin-left","1.5rem","font-size","14px","color","rgb(100, 100, 100)","width","10rem","text-align","center"],["id","worksite-money-status-input",1,"selector1",2,"width","100%"],["value","da-saldare"],["value","saldato"],["onclick","if(document.getElementById('popup-stato-amministrativo').style.display == 'none' ){document.getElementById('popup-stato-amministrativo').style.display = 'flex'; }else{document.getElementById('popup-stato-amministrativo').style.display = 'none'; }",2,"width","100%","display","flex","flex-direction","row","align-items","center","padding-top","1rem","padding-bottom","1rem","cursor","pointer"],[2,"margin-top","0rem","margin-bottom","0rem"],[1,"material-symbols-outlined","notranslate"],["id","popup-stato-amministrativo",1,"table-container",2,"width","100%","display","none","flex-direction","column","padding-bottom","3rem","border","1px solid rgba(0, 0, 0, 0.091)","border-end-start-radius","1rem","border-end-end-radius","1rem"],[2,"width","100%","display","flex","flex-direction","row","align-items","center","gap","1rem","padding-left","1rem","flex-wrap","wrap","padding-bottom","2rem"],["id","installment-name-input","type","text",1,"input-field3"],["for","installment-name-input"],[1,"inputGroup",2,"width","8rem"],["id","installment-amount-input","type","number",1,"input-field3"],["for","installment-amount-input"],[2,"margin-bottom","-1.5rem","z-index","2","background","white","margin-left","1.5rem","font-size","14px","color","rgb(100, 100, 100)","width","8rem","text-align","center"],["id","installment-fatturata-input",1,"selector1",2,"width","100%"],["value","non_fatturata"],["value","fatturata"],["id","installment-data-fattura-input","type","date",1,"input-field3"],["for","installment-data-fattura-input"],[2,"display","flex","flex-direction","column","margin-top","0.4rem","width","8rem"],[2,"margin-bottom","-1.5rem","z-index","2","background","white","margin-left","1.5rem","font-size","14px","color","rgb(100, 100, 100)","width","auto"],["id","installment-incassata-input",1,"selector1",2,"width","100%"],["value","non_incassata"],["value","incassata"],["id","installment-data-incasso-input","type","date",1,"input-field3"],["for","installment-data-incasso-input"],[1,"button5",2,"height","3rem","padding-left","0.5rem","padding-right","0.5rem","margin-top","1rem","margin-bottom","1rem","width","8rem","height","3rem",3,"click"],[2,"width","100%","overflow-x","auto"],[1,"table",2,"width","100%"],[2,"height","2.5rem"],[1,"table-th",2,"width","10rem"],[1,"table-th",2,"width","3rem"],[4,"ngFor","ngForOf"],["id","worksite-boss-input",1,"selector1",2,"width","100%"],["id","worksite-remaining-days-input","type","number",1,"input-field3"],["for","worksite-remaining-days-input"],["id","worksite-delay-input","type","number",1,"input-field3"],["for","worksite-delay-input"],["id","worksite-hourly-cost-input","type","number",1,"input-field3",3,"input"],["for","worksite-hourly-cost-input"],["id","worksite-employed-workers-input","type","number",1,"input-field3",3,"input"],["id","worksite-employed-workers-input"],["id","worksite-labor-hours-input","type","number",1,"input-field3",3,"input"],["for","worksite-labor-hours-input"],["id","worksite-total-labor-cost-input","readonly","","type","number",1,"input-field3"],["for","worksite-total-labor-cost-input"],["id","worksite-total-costs-input","type","number",1,"input-field3"],["for","worksite-total-costs-input"],["id","worksite-collection-input","type","number",1,"input-field3"],["for","worksite-collection-input"],[1,"inputGroup",2,"display","inline-grid","width","100%"],["id","worksite-productivity-input","type","text",1,"input-field3"],["for","worksite-productivity-input"],[2,"width","100%"],["onclick","if(document.getElementById('stato-cantiere-table-containter').style.display =='none' ){document.getElementById('stato-cantiere-table-containter').style.display = 'flex'; }else{document.getElementById('stato-cantiere-table-containter').style.display = 'none'; }",2,"width","100%","display","flex","flex-direction","row","align-items","center","padding-top","1rem","padding-bottom","1rem","cursor","pointer"],["id","stato-cantiere-table-containter",2,"display","none","flex-direction","column","width","100%"],[2,"width","100%","display","flex","flex-direction","row","align-items","center","gap","1rem","padding-left","1rem","flex-wrap","wrap","padding-bottom","1rem"],["id","activity-name-input","type","text",1,"input-field3"],["for","activity-name-input"],["id","activity-status-input",1,"selector1",2,"width","100%"],["value","to-do"],["value","completed"],["value","not_started"],["value","pending"],["value","timed_out"],["id","activity-priority-input",1,"selector1",2,"width","100%"],["value","3"],["value","2"],["value","1"],[1,"table-th",2,"width","5rem"],[1,"table-th",2,"width","2rem !important"],["onclick","if(document.getElementById('spesa-cantiere-table-containter').style.display =='none' ){document.getElementById('spesa-cantiere-table-containter').style.display = 'flex'; }else{document.getElementById('spesa-cantiere-table-containter').style.display = 'none'; }",2,"width","100%","display","flex","flex-direction","row","align-items","center","padding-top","1rem","padding-bottom","1rem","cursor","pointer"],["id","spesa-cantiere-table-containter",2,"display","none","flex-direction","column","width","100%"],["id","popup-stato-amministrativo",1,"table-container",2,"width","100%","display","flex","flex-direction","column","padding-bottom","1rem"],["id","cost-articles-number-input","type","number",1,"input-field3"],["for","cost-articles-number-input"],[1,"inputGroup",2,"width","15rem"],["id","cost-description-input","type","text",1,"input-field3"],["for","cost-description-input"],[1,"inputGroup",2,"width","12rem"],["id","cost-cost-input","type","number",1,"input-field3"],["for","cost-cost-input"],["id","cost-status-input",1,"selector1",2,"width","100%"],["value","to-order"],["value","arriving"],["value","arrived"],[2,"display","flex","flex-direction","column-reverse","width","100%","position","absolute","z-index","2","pointer-events","none","height","100%"],[2,"width","calc( 100% - 2rem )","display","grid","grid-template-columns","repeat(auto-fit, minmax(200px, 1fr))","gap","1rem","background","white","padding-bottom","1rem","padding-top","1rem","pointer-events","all"],[1,"button5",2,"height","2.5rem","padding-left","0.5rem","padding-right","0.5rem","margin-top","0.5rem","margin-bottom","0.5rem","border-radius","2rem","font-weight","bold","font-size","1rem",3,"click"],["routerLink","/add",1,"button5",2,"height","2.5rem","padding-left","0.5rem","padding-right","0.5rem","margin-top","0.5rem","margin-bottom","0.5rem","border-radius","2rem","font-weight","bold","font-size","1rem"],[2,"flex","1"],[2,"width","100%","display","flex","flex-direction","row","align-items","center","padding-bottom","1rem","background","white","flex-shrink","0","pointer-events","all"],["routerLink","/add","name","chevron-back",2,"cursor","pointer","font-size","1.8rem"],[1,"table-td"],[1,"btn","btn-danger",2,"border-radius","50%","width","2rem","height","2rem","display","flex","align-items","center","justify-content","center",3,"click"],[4,"ngIf"]],template:function(r,i){1&r&&(d(0,"div",0)(1,"div",1)(2,"div",2),vt(3,"input",3),d(4,"label",4),b(5,"Nome cantiere"),v()(),d(6,"div",5),vt(7,"input",6),d(8,"label",7),b(9,"Partita Iva"),v()(),d(10,"div",5),vt(11,"input",8),d(12,"label",9),b(13,"Codice cantiere"),v()()(),d(14,"div",10)(15,"div",11),vt(16,"input",12),d(17,"label",13),b(18,"Indirizzo"),v()(),d(19,"div",14)(20,"label",15),b(21,"Provincia"),v(),d(22,"div",16)(23,"select",17)(24,"option",18),b(25,"Alessandria"),v(),d(26,"option",19),b(27,"Ancona"),v(),d(28,"option",20),b(29,"Arezzo"),v(),d(30,"option",21),b(31,"Ascoli Piceno"),v(),d(32,"option",22),b(33,"Asti"),v(),d(34,"option",23),b(35,"Avellino"),v(),d(36,"option",24),b(37,"Bari"),v(),d(38,"option",25),b(39,"Barletta-Andria-Trani"),v(),d(40,"option",26),b(41,"Belluno"),v(),d(42,"option",27),b(43,"Benevento"),v(),d(44,"option",28),b(45,"Bergamo"),v(),d(46,"option",29),b(47,"Biella"),v(),d(48,"option",30),b(49,"Bologna"),v(),d(50,"option",31),b(51,"Bolzano"),v(),d(52,"option",32),b(53,"Brescia"),v(),d(54,"option",33),b(55,"Brindisi"),v(),d(56,"option",34),b(57,"Cagliari"),v(),d(58,"option",35),b(59,"Caltanissetta"),v(),d(60,"option",36),b(61,"Campobasso"),v(),d(62,"option",37),b(63,"Caserta"),v(),d(64,"option",38),b(65,"Catania"),v(),d(66,"option",39),b(67,"Catanzaro"),v(),d(68,"option",40),b(69,"Chieti"),v(),d(70,"option",41),b(71,"Como"),v(),d(72,"option",42),b(73,"Cosenza"),v(),d(74,"option",43),b(75,"Cremona"),v(),d(76,"option",44),b(77,"Crotone"),v(),d(78,"option",45),b(79,"Cuneo"),v(),d(80,"option",46),b(81,"Enna"),v(),d(82,"option",47),b(83,"Fermo"),v(),d(84,"option",48),b(85,"Ferrara"),v(),d(86,"option",49),b(87,"Firenze"),v(),d(88,"option",50),b(89,"Foggia"),v(),d(90,"option",51),b(91,"Forl\xec-Cesena"),v(),d(92,"option",52),b(93,"Frosinone"),v(),d(94,"option",53),b(95,"Genova"),v(),d(96,"option",54),b(97,"Gorizia"),v(),d(98,"option",55),b(99,"Grosseto"),v(),d(100,"option",56),b(101,"Imperia"),v(),d(102,"option",57),b(103,"Isernia"),v(),d(104,"option",58),b(105,"La Spezia"),v(),d(106,"option",59),b(107,"L'Aquila"),v(),d(108,"option",60),b(109,"Latina"),v(),d(110,"option",61),b(111,"Lecce"),v(),d(112,"option",62),b(113,"Lecco"),v(),d(114,"option",63),b(115,"Livorno"),v(),d(116,"option",64),b(117,"Lodi"),v(),d(118,"option",65),b(119,"Lucca"),v(),d(120,"option",66),b(121,"Macerata"),v(),d(122,"option",67),b(123,"Mantova"),v(),d(124,"option",68),b(125,"Massa-Carrara"),v(),d(126,"option",69),b(127,"Matera"),v(),d(128,"option",70),b(129,"Messina"),v(),d(130,"option",71),b(131,"Milano"),v(),d(132,"option",72),b(133,"Modena"),v(),d(134,"option",73),b(135,"Monza e della Brianza"),v(),d(136,"option",74),b(137,"Napoli"),v(),d(138,"option",75),b(139,"Novara"),v(),d(140,"option",76),b(141,"Nuoro"),v(),d(142,"option",77),b(143,"Ogliastra"),v(),d(144,"option",78),b(145,"Oristano"),v(),d(146,"option",79),b(147,"Padova"),v(),d(148,"option",80),b(149,"Palermo"),v(),d(150,"option",81),b(151,"Parma"),v(),d(152,"option",82),b(153,"Pavia"),v(),d(154,"option",83),b(155,"Perugia"),v(),d(156,"option",84),b(157,"Pesaro e Urbino"),v(),d(158,"option",85),b(159,"Pescara"),v(),d(160,"option",86),b(161,"Piacenza"),v(),d(162,"option",87),b(163,"Pisa"),v(),d(164,"option",88),b(165,"Pistoia"),v(),d(166,"option",89),b(167,"Pordenone"),v(),d(168,"option",90),b(169,"Potenza"),v(),d(170,"option",91),b(171,"Prato"),v(),d(172,"option",92),b(173,"Ragusa"),v(),d(174,"option",93),b(175,"Ravenna"),v(),d(176,"option",94),b(177,"Reggio Calabria"),v(),d(178,"option",95),b(179,"Reggio nell'Emilia"),v(),d(180,"option",96),b(181,"Rieti"),v(),d(182,"option",97),b(183,"Rimini"),v(),d(184,"option",98),b(185,"Roma"),v(),d(186,"option",99),b(187,"Rovigo"),v(),d(188,"option",100),b(189,"Salerno"),v(),d(190,"option",101),b(191,"Sassari"),v(),d(192,"option",102),b(193,"Savona"),v(),d(194,"option",103),b(195,"Siena"),v(),d(196,"option",104),b(197,"Siracusa"),v(),d(198,"option",105),b(199,"Sondrio"),v(),d(200,"option",106),b(201,"Sud Sardegna"),v(),d(202,"option",107),b(203,"Taranto"),v(),d(204,"option",108),b(205,"Teramo"),v(),d(206,"option",109),b(207,"Terni"),v(),d(208,"option",110),b(209,"Torino"),v(),d(210,"option",111),b(211,"Trapani"),v(),d(212,"option",112),b(213,"Trento"),v(),d(214,"option",113),b(215,"Treviso"),v(),d(216,"option",114),b(217,"Trieste"),v(),d(218,"option",115),b(219,"Udine"),v(),d(220,"option",116),b(221,"Valle d'Aosta"),v(),d(222,"option",117),b(223,"Varese"),v(),d(224,"option",118),b(225,"Venezia"),v(),d(226,"option",119),b(227,"Verbano-Cusio-Ossola"),v(),d(228,"option",120),b(229,"Vercelli"),v(),d(230,"option",121),b(231,"Verona"),v(),d(232,"option",122),b(233,"Vibo Valentia"),v(),d(234,"option",123),b(235,"Vicenza"),v(),d(236,"option",124),b(237,"Viterbo"),v()()()()(),d(238,"div",125)(239,"div",126)(240,"label",15),b(241,"Tipo cliente"),v(),d(242,"div",16)(243,"select",127)(244,"option",128),b(245,"Pubblica Amministrazione"),v(),d(246,"option",129),b(247,"Privato"),v()()()(),d(248,"div",130)(249,"div",131),vt(250,"input",132),d(251,"p",133),b(252,"Pavimentazione antitraoma"),v()(),d(253,"div",131),vt(254,"input",134),d(255,"p",133),b(256,"Pavimentazione drenante"),v()(),d(257,"div",131),vt(258,"input",135),d(259,"p",136),b(260,"Verde"),v()(),d(261,"div",131),vt(262,"input",137),d(263,"p",136),b(264,"Giochi"),v()()()(),d(265,"div",10)(266,"div",16),vt(267,"input",138),d(268,"label",139),b(269,"Data scadenza"),v()(),d(270,"div",140)(271,"label",15),b(272,"Stato cantiere"),v(),d(273,"div",16)(274,"select",141)(275,"option",142),b(276,"Da iniziare"),v(),d(277,"option",143),b(278,"In corso"),v(),d(279,"option",144),b(280,"Concluso"),v()()()(),d(281,"div",140)(282,"label",145),b(283,"Stato amministrativo"),v(),d(284,"div",16)(285,"select",146)(286,"option",147),b(287,"Da saldare"),v(),d(288,"option",148),b(289,"Saldato"),v()()()()(),d(290,"div",149)(291,"h3",150),b(292,"Sezione Rate"),v(),d(293,"span",151),b(294,"expand_more"),v()(),d(295,"div",152)(296,"div",153)(297,"div",16),vt(298,"input",154),d(299,"label",155),b(300,"Nome"),v()(),d(301,"div",156),vt(302,"input",157),d(303,"label",158),b(304,"Importo (\u20ac)"),v()(),d(305,"div",140)(306,"label",159),b(307,"Stato fatturazione"),v(),d(308,"div",16)(309,"select",160)(310,"option",161),b(311,"Non fatturata"),v(),d(312,"option",162),b(313,"Fatturata"),v()()()(),d(314,"div",16),vt(315,"input",163),d(316,"label",164),b(317,"Data fattura"),v()(),d(318,"div",165)(319,"label",166),b(320,"Stato incasso"),v(),d(321,"div",16)(322,"select",167)(323,"option",168),b(324,"Non incassata"),v(),d(325,"option",169),b(326,"Incassata"),v()()()(),d(327,"div",16),vt(328,"input",170),d(329,"label",171),b(330,"Data incasso"),v()(),d(331,"button",172),Sn("click",function(){return i.addInstallment()}),b(332,"Aggiungi rata"),v()(),d(333,"div",173)(334,"table",174)(335,"thead",175)(336,"tr")(337,"th",176),b(338,"Nome"),v(),d(339,"th",176),b(340,"Importo"),v(),d(341,"th",177),b(342,"Fatturata"),v(),d(343,"th",177),b(344,"Data fatturata"),v(),d(345,"th",177),b(346,"Incassata"),v(),d(347,"th",177),b(348,"Data incasso"),v(),d(349,"th",176),b(350,"Azioni"),v()()(),d(351,"tbody"),Xo(352,xye,17,7,"tr",178),v()()()(),d(353,"div",140)(354,"label",15),b(355,"Capo cantiere"),v(),d(356,"div",16),vt(357,"select",179),v()(),d(358,"div",10)(359,"div",16),vt(360,"input",180),d(361,"label",181),b(362,"Giorni rimanenti"),v()(),d(363,"div",16),vt(364,"input",182),d(365,"label",183),b(366,"Giorni concessi di ritardo"),v()()(),d(367,"div",10)(368,"div",16)(369,"input",184),Sn("input",function(){return i.calcLaborCost()}),v(),d(370,"label",185),b(371,"Costo orario manodopera"),v()(),d(372,"div",16)(373,"input",186),Sn("input",function(){return i.calcLaborCost()}),v(),d(374,"label",187),b(375,"Lavoratori impiegati"),v()(),d(376,"div",16)(377,"input",188),Sn("input",function(){return i.calcLaborCost()}),v(),d(378,"label",189),b(379,"N. Ore manodopera"),v()()(),d(380,"div",10)(381,"div",16),vt(382,"input",190),d(383,"label",191),b(384,"Totale costo manodopera"),v()(),d(385,"div",16),vt(386,"input",192),d(387,"label",193),b(388,"Costi totali sostenuti"),v()(),d(389,"div",16),vt(390,"input",194),d(391,"label",195),b(392,"Incasso cantiere"),v()()(),d(393,"div",196),vt(394,"input",197),d(395,"label",198),b(396,"Produttivit\xe0"),v()(),d(397,"div",199)(398,"div",200)(399,"h3",150),b(400,"Stato lavori"),v(),d(401,"span",151),b(402,"expand_more"),v()(),d(403,"div",201)(404,"div",202)(405,"div",16),vt(406,"input",203),d(407,"label",204),b(408,"Attivit\xe0"),v()(),d(409,"div",140)(410,"label",159),b(411,"Stato"),v(),d(412,"div",16)(413,"select",205)(414,"option",206),b(415,"Da completare"),v(),d(416,"option",207),b(417,"Completato"),v(),d(418,"option",143),b(419,"In corso"),v(),d(420,"option",208),b(421,"Non iniziato"),v(),d(422,"option",209),b(423,"In attesa"),v(),d(424,"option",210),b(425,"Scaduto"),v()()()(),d(426,"div",140)(427,"label",159),b(428,"Priorit\xe0"),v(),d(429,"div",16)(430,"select",211)(431,"option",212),b(432,"Alta"),v(),d(433,"option",213),b(434,"Media"),v(),d(435,"option",214),b(436,"Bassa"),v()()()(),d(437,"button",172),Sn("click",function(){return i.addWorksiteActivity()}),b(438,"Aggiungi attivit\xe0"),v()(),d(439,"div",173)(440,"table",174)(441,"thead",175)(442,"tr")(443,"th",215),b(444,"Attivit\xe0"),v(),d(445,"th",216),b(446,"Stato"),v(),d(447,"th",216),b(448,"Priorit\xe0"),v(),d(449,"th",216),b(450,"Azioni"),v()()(),d(451,"tbody"),Xo(452,Pye,13,6,"tr",178),v()()()(),d(453,"div",217)(454,"h3",150),b(455,"Spesa cantiere"),v(),d(456,"span",151),b(457,"expand_more"),v()(),d(458,"div",218)(459,"div",219)(460,"div",153)(461,"div",156),vt(462,"input",220),d(463,"label",221),b(464,"N.Articoli"),v()(),d(465,"div",222),vt(466,"input",223),d(467,"label",224),b(468,"Descrizione"),v()(),d(469,"div",225),vt(470,"input",226),d(471,"label",227),b(472,"Costo unitario (\u20ac)"),v()(),d(473,"div",140)(474,"label",159),b(475,"Stato"),v(),d(476,"div",16)(477,"select",228)(478,"option",229),b(479,"Da ordinare"),v(),d(480,"option",230),b(481,"In arrivo"),v(),d(482,"option",231),b(483,"Arrivato"),v()()()(),d(484,"button",172),Sn("click",function(){return i.addCost()}),b(485,"Aggiungi spesa"),v()(),b(486,"a "),d(487,"div",173)(488,"table",174)(489,"thead",175)(490,"tr")(491,"th",176),b(492,"N.Articoli"),v(),d(493,"th",176),b(494,"Descrizione"),v(),d(495,"th",177),b(496,"Costo unitario"),v(),d(497,"th",177),b(498,"Costo totale"),v(),d(499,"th",177),b(500,"Stato"),v(),d(501,"th",177),b(502,"Azioni"),v()()(),d(503,"tbody"),Xo(504,Nye,15,6,"tr",178),v()()()()()(),d(505,"div",232)(506,"div",233)(507,"button",234),Sn("click",function(){return i.addWorksite()}),b(508,"Salva cantiere"),v(),d(509,"button",235),b(510,"Annulla cantiere"),v()(),vt(511,"div",236),d(512,"div",237),vt(513,"ion-icon",238),d(514,"h3"),b(515,"Crea cantiere"),v()()()()),2&r&&(gn(352),eo("ngForOf",i.installmentsRows),gn(100),eo("ngForOf",i.worksiteActivitiesRows),gn(52),eo("ngForOf",i.worksiteCostsRows))},dependencies:[bA,gg,ql,SA,Zu,xf,Ff]}),e})();var Lye=wt(7239),Oye=wt.n(Lye);function Uye(t,e){if(1&t){const n=Fa();d(0,"tr")(1,"td",69),b(2),v(),d(3,"td",69),b(4),v(),d(5,"td",69),b(6),v(),d(7,"td",70)(8,"button",71),Sn("click",function(){const i=vn(n).index;return Dn(Wo().removeRow(i))}),d(9,"span",72),b(10," delete_forever "),v()()()()}if(2&t){const n=e.$implicit;gn(2),_r(n.col1),gn(2),_r(n.col2),gn(2),_r(n.col3)}}function Vye(t,e){if(1&t&&(d(0,"tr")(1,"td",69),b(2),v(),d(3,"td",69),b(4),v(),d(5,"td",69),b(6),v()()),2&t){const n=e.$implicit;gn(2),_r(n.col1),gn(2),_r(n.col2),gn(2),_r(n.col3)}}let Qye=(()=>{var t;class e{constructor(){this.inputValue="",this.inputValue2="",this.inputValue3="",this.inputValue4="",this.inputValue5="",this.tableData=[{col1:"Pavimentaizone antitrauma alveolare",col2:"Precosistem",col3:"104 mq"},{col1:"Tavolo panca medium",col2:"Precosistem",col3:"3"},{col1:"Gioco torre grande",col2:"Precosistem",col3:"1"},{col1:"Altalena 1 piano + 1 canestro",col2:"Precosistem",col3:"1"},{col1:"Casetta peter-pan",col2:"Precosistem",col3:"1"},{col1:"Gioco a molla",col2:"Precosistem",col3:"2"},{col1:"Gioco bilico",col2:"Precosistem",col3:"1"},{col1:"Gioco tris",col2:"Precosistem",col3:"1"}],this.newRowData={col1:"",col2:"",col3:""},this.larghezzaPagina=window.innerWidth,this.altezzaPagina=window.innerHeight,console.log("Larghezza della pagina:",this.larghezzaPagina),console.log("Altezza della pagina:",this.altezzaPagina)}ngOnInit(){setTimeout(()=>{this.update()},1e3)}onInputChange(r){document.getElementById("client-name").innerText="Spett.le: "+r}onInputChange2(r){document.getElementById("piva-codicefiscale").innerText="CF./P.IVA: "+r}onInputChange3(r){document.getElementById("address").innerText="Indirizzo: "+r}onInputChange4(r){document.getElementById("object").innerText="Oggetto: "+r}onInputChange5(r){document.getElementById("where").innerText="Luogo lavori: "+r}onInputChange6(r){document.getElementById("text").innerText="Descrizione: "+r}update(){var r=document.getElementById("text-input");document.getElementById("text").innerText="Descrizione: "+r.value}addDescriptionPhase(){var r=document.getElementById("text-input"),i=document.getElementById("add-description-phase-selector");r.value=r.value+"\n"+i.value,this.update()}generatePDF(){return(0,V.A)(function*(){const r=new xk.jsPDF("p","pt","letter"),i=document.getElementById("pdf-preview"),a=r.internal.pageSize.getWidth()-80,l=r.internal.pageSize.getHeight()-30-60,u=yield Oye()(i),m=Math.min(a/u.width,l/u.height),I=u.width*m,k=u.height*m;r.addImage(u.toDataURL("image/png"),"PNG",40,30,I,k),r.save("allgreen.pdf")})()}addRow(){this.tableData.push({col1:this.newRowData.col1,col2:this.newRowData.col2,col3:this.newRowData.col3}),this.newRowData={col1:"",col2:"",col3:""}}removeRow(r){this.tableData.splice(r,1)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=J({type:t,selectors:[["app-add-corretta-posa"]],decls:162,vars:10,consts:[["pdfPreview",""],["id","master-container",2,"width","100%","height","100%","display","flex","flex-direction","column","padding-left","2rem","padding-right","3rem","padding-top","5rem","overflow-x","hidden","overflow-y","auto","position","fixed"],[2,"width","100%","display","flex","flex-direction","row","flex-wrap","wrap"],[2,"display","flex","flex-direction","row","flex-wrap","wrap","padding-top","1rem","padding-bottom","1rem","gap","1rem"],[2,"display","inline-grid","flex-direction","column"],[2,"margin-bottom","-1.5rem","z-index","2","background","white","margin-left","1.5rem","font-size","14px","color","rgb(100, 100, 100)","width","6rem","text-align","center"],[1,"inputGroup"],[1,"selector1",2,"width","100%",3,"ngModelChange","ngModel"],["value","Fornitura e posa"],["value","Posa"],["value","Manutenzione"],["type","text",1,"input-field3",3,"ngModelChange","ngModel"],[2,"display","flex","flex-direction","row","flex-wrap","wrap","width","100%","gap","1rem","align-items","center"],["expand","block",1,"button5",2,"height","3rem","padding-left","0.5rem","padding-right","0.5rem",3,"click"],[1,"general-paragraph1",2,"margin-bottom","1rem","margin-top","2rem"],[2,"width","100%","margin-bottom","2rem"],[1,"table",2,"width","100%","height","100%","overflow","hidden"],[2,"height","5rem"],[1,"table-th"],[4,"ngFor","ngForOf"],[2,"width","100%","display","flex","flex-direction","row","flex-wrap","wrap","gap","1rem","align-items","center"],[2,"display","flex","flex-direction","column","margin-top","0.4rem","width","calc(100% - 9rem)"],[1,"inputGroup",2,"width","100%"],["id","add-description-phase-selector",1,"selector1",2,"width","100%"],["value",""],["value","POSA SU GHIAIA O VASCA IN SABBIA O CORTECCIA:"],["value","Tracciamento della vasca"],["value","Scavo di sbancamento"],["value","Montaggio dei giochi "],["value","Cementificazione"],["value","Creazione del perimetro della vasca in pali di legno o plastica riciclata"],["value","Stesa del tessuto non tessuto"],["value","Riempimento della vasca con ghiaia sabbia corteccia"],["value","POSA SU PRATO:"],["value","Tracciamento delle aree"],["value","Scavi per assemblaggio giochi"],["value","Assemblaggio giochi"],["value","Sistemazione dell area"],["value","Eventuale posa di gomma alveolare"],["value","Posa su platea in cemento"],["value","TRACCIAMENTO DELL'AREA:"],["value","Scavo di sbancamento della platea"],["value","Armatura della platea"],["value","Posa della rete di ferro"],["value","Gettata della platea"],["value","Assemblaggio dei giochi"],["value","Tassellamento dei giochi"],["value","Posa di eventuale gomma a piastre"],["value","Colata"],[1,"button5",2,"height","2rem","padding-left","0.5rem","padding-right","0.5rem","margin-top","1rem","margin-bottom","1rem","width","8rem","height","3rem",3,"click"],["id","text-input",1,"selector1",2,"width","100%","padding-right","1rem","resize","vertical","min-height","20rem","overflow-y","auto","overflow-x","hidden"],[1,"general-paragraph1",2,"width","100%","text-align","center","margin-top","5rem","margin-bottom","3rem"],["id","pdf-preview",2,"width","100%","display","flex","flex-direction","column"],["src","assets\\images\\logo.jpg",2,"width","20rem","margin-left","10px","margin-bottom","10px"],["id","client-name",2,"margin-left","10px"],["id","piva-codicefiscale",2,"margin-top","2px","margin-left","10px"],["id","address",2,"margin-top","2px","margin-left","10px"],["id","object",2,"margin-top","2px","margin-left","10px"],["id","where",2,"margin-top","2px","margin-left","10px"],[1,"table",2,"width","100%","height","100%"],["id","text",2,"margin-top","2px","margin-left","10px","margin-top","10px","margin-bottom","15rem"],[2,"display","flex","flex-direction","column","width","calc(100% - 2rem)","position","absolute","z-index","2","pointer-events","none","height","100%"],[2,"width","100%","display","flex","flex-direction","row","align-items","center","padding-bottom","1rem","background","white","flex-shrink","0","pointer-events","all","padding-left","1rem"],["routerLink","/add","name","chevron-back",2,"cursor","pointer","font-size","1.8rem"],[2,"flex","1"],[2,"width","100%","height","4rem","; display","flex","flex-direction","row","align-items","center","justify-content","center","padding-bottom","1rem","background","white","flex-shrink","0","pointer-events","all","padding-left","1rem"],[1,"button5",2,"height","3.5rem","margin-bottom","2rem","margin-top","2rem","width","80%","padding","1rem","display","flex","flex-direction","row","align-items","center","justify-content","center","gap","0.5rem",3,"click"],[1,"material-symbols-outlined","notranslate"],[2,"font-size","1.2rem"],[1,"table-td"],[1,"table-td-actions"],[1,"button2",2,"width","2.8rem","height","2.8rem","border-radius","50%","display","flex","align-items","center","justify-content","center",3,"click"],[1,"material-symbols-outlined"]],template:function(r,i){if(1&r){const o=Fa();d(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"label",5),b(5,"OGGETTO:"),v(),d(6,"div",6)(7,"select",7),Tc("ngModelChange",function(a){return vn(o),rd(i.inputValue4,a)||(i.inputValue4=a),Dn(a)}),Sn("ngModelChange",function(a){return vn(o),Dn(i.onInputChange4(a))}),d(8,"option",8),b(9,"Fornitura e posa"),v(),d(10,"option",9),b(11,"Posa"),v(),d(12,"option",10),b(13,"Manutenzione"),v()()()(),d(14,"div",6)(15,"input",11),Tc("ngModelChange",function(a){return vn(o),rd(i.inputValue,a)||(i.inputValue=a),Dn(a)}),Sn("ngModelChange",function(a){return vn(o),Dn(i.onInputChange(a))}),v(),d(16,"label"),b(17,"Spett.le:"),v()(),d(18,"div",6)(19,"input",11),Tc("ngModelChange",function(a){return vn(o),rd(i.inputValue3,a)||(i.inputValue3=a),Dn(a)}),Sn("ngModelChange",function(a){return vn(o),Dn(i.onInputChange3(a))}),v(),d(20,"label"),b(21,"Indirizzo:"),v()(),d(22,"div",6)(23,"input",11),Tc("ngModelChange",function(a){return vn(o),rd(i.inputValue2,a)||(i.inputValue2=a),Dn(a)}),Sn("ngModelChange",function(a){return vn(o),Dn(i.onInputChange2(a))}),v(),d(24,"label"),b(25,"CF./P.IVA:"),v()(),d(26,"div",6)(27,"input",11),Tc("ngModelChange",function(a){return vn(o),rd(i.inputValue5,a)||(i.inputValue5=a),Dn(a)}),Sn("ngModelChange",function(a){return vn(o),Dn(i.onInputChange5(a))}),v(),d(28,"label"),b(29,"Luogo lavori:"),v()()()(),d(30,"div",12)(31,"div",6)(32,"input",11),Tc("ngModelChange",function(a){return vn(o),rd(i.newRowData.col1,a)||(i.newRowData.col1=a),Dn(a)}),v(),d(33,"label"),b(34,"Attrezzatura"),v()(),d(35,"div",6)(36,"input",11),Tc("ngModelChange",function(a){return vn(o),rd(i.newRowData.col2,a)||(i.newRowData.col2=a),Dn(a)}),v(),d(37,"label"),b(38,"Marca"),v()(),d(39,"div",6)(40,"input",11),Tc("ngModelChange",function(a){return vn(o),rd(i.newRowData.col3,a)||(i.newRowData.col3=a),Dn(a)}),v(),d(41,"label"),b(42,"Q.t\xe0/Dimensioni"),v()(),d(43,"button",13),Sn("click",function(){return vn(o),Dn(i.addRow())}),b(44,"Aggiungi riga"),v()(),d(45,"strong",14),b(46,"Posa delle attrezzature:"),v(),d(47,"div",15)(48,"table",16)(49,"thead",17)(50,"tr")(51,"th",18),b(52,"Attrezzature"),v(),d(53,"th",18),b(54,"Marca"),v(),d(55,"th",18),b(56,"Q.t\xe0/Dimensioni"),v(),d(57,"th",18),b(58,"Azioni"),v()()(),d(59,"tbody"),Xo(60,Uye,11,3,"tr",19),v()()(),d(61,"div",20)(62,"div",21)(63,"label",5),b(64,"Priorit\xe0"),v(),d(65,"div",22)(66,"select",23)(67,"option",24),b(68,"Seleziona"),v(),d(69,"option",25),b(70,"---------------------------POSA SU GHIAIA O VASCA IN SABBIA O CORTECCIA:---------------------------"),v(),d(71,"option",26),b(72,"Tracciamento della vasca"),v(),d(73,"option",27),b(74,"Scavo di sbancamento"),v(),d(75,"option",28),b(76,"Montaggio dei giochi "),v(),d(77,"option",29),b(78,"Cementificazione"),v(),d(79,"option",30),b(80,"Creazione del perimetro della vasca in pali di legno o plastica riciclata"),v(),d(81,"option",31),b(82,"Stesa del tessuto non tessuto"),v(),d(83,"option",32),b(84,"Riempimento della vasca con ghiaia sabbia corteccia"),v(),d(85,"option",33),b(86,"---------------------------POSA SU PRATO:---------------------------"),v(),d(87,"option",34),b(88,"Tracciamento delle aree"),v(),d(89,"option",35),b(90,"Scavi per assemblaggio giochi"),v(),d(91,"option",36),b(92,"Assemblaggio giochi"),v(),d(93,"option",29),b(94,"Cementificazione"),v(),d(95,"option",37),b(96,"Sistemazione dell area"),v(),d(97,"option",38),b(98,"Eventuale posa di gomma alveolare"),v(),d(99,"option",39),b(100,"Posa su platea in cemento"),v(),d(101,"option",40),b(102,"---------------------------TRACCIAMENTO DELL'AREA:---------------------------"),v(),d(103,"option",41),b(104,"Scavo di sbancamento della platea"),v(),d(105,"option",42),b(106,"Armatura della platea"),v(),d(107,"option",43),b(108,"Posa della rete di ferro"),v(),d(109,"option",44),b(110,"Gettata della platea"),v(),d(111,"option",45),b(112,"Assemblaggio dei giochi"),v(),d(113,"option",46),b(114,"Tassellamento dei giochi"),v(),d(115,"option",47),b(116,"Posa di eventuale gomma a piastre"),v(),d(117,"option",48),b(118,"Colata"),v()()()(),d(119,"button",49),Sn("click",function(){return vn(o),Dn(i.addDescriptionPhase())}),b(120,"Aggiungi voce"),v()(),vt(121,"textarea",50),d(122,"h1",51),b(123,"PREVIEW DOCUMENTO"),v(),d(124,"div",52,0),vt(126,"img",53),d(127,"p",54),b(128,"Spett.le"),v(),d(129,"p",55),b(130,"CF./P.IVA"),v(),d(131,"p",56),b(132,"Indirizzo: "),v(),d(133,"p",57),b(134,"Oggetto: "),v(),d(135,"p",58),b(136,"Luogo lavori: "),v(),d(137,"table",59)(138,"thead",17)(139,"tr")(140,"th",18),b(141,"Attrezzature"),v(),d(142,"th",18),b(143,"Marca"),v(),d(144,"th",18),b(145,"Q.t\xe0/Dimensioni"),v()()(),d(146,"tbody"),Xo(147,Vye,7,3,"tr",19),v()(),d(148,"p",60),b(149,"Descrizione: "),v()()(),d(150,"div",61)(151,"div",62),vt(152,"ion-icon",63),d(153,"h3"),b(154,"Crea Corretta Posa"),v()(),vt(155,"div",64),d(156,"div",65)(157,"button",66),Sn("click",function(){return vn(o),Dn(i.generatePDF())}),d(158,"span",67),b(159,"download"),v(),d(160,"strong",68),b(161,"Scarica"),v()()()()}2&r&&(gn(7),Sc("ngModel",i.inputValue4),gn(8),Sc("ngModel",i.inputValue),gn(4),Sc("ngModel",i.inputValue3),gn(4),Sc("ngModel",i.inputValue2),gn(4),Sc("ngModel",i.inputValue5),gn(5),Sc("ngModel",i.newRowData.col1),gn(4),Sc("ngModel",i.newRowData.col2),gn(4),Sc("ngModel",i.newRowData.col3),gn(20),eo("ngForOf",i.tableData),gn(87),eo("ngForOf",i.tableData))},dependencies:[bA,ql,SA,Zu,xf,Ff,e0,yb,cb,N_],styles:[".card1[_ngcontent-%COMP%]{border-radius:2rem;border:1px solid rgba(0,0,0,.393)}.general-paragraph[_ngcontent-%COMP%]{color:#000;font-family:Lato}.selector1[_ngcontent-%COMP%], .input1[_ngcontent-%COMP%]{background:#fff;border:1px solid rgba(0,0,0,.393);border-radius:1rem;color:#000;font-family:Lato}.button1[_ngcontent-%COMP%]{cursor:pointer;background:#fff;border:1px solid rgba(0,0,0,.393);border-radius:1rem;color:#000;font-family:Lato}.button2[_ngcontent-%COMP%]{cursor:pointer;background:#fff;border:1px solid rgba(0,0,0,.393);border-radius:1rem;font-weight:200;color:#0000009f;font-family:Lato}.button3[_ngcontent-%COMP%]{cursor:pointer;background:#fff;border:1px solid rgba(0,0,0,.393);border-radius:50%;font-weight:200;color:#000000b3;font-size:2rem;height:3rem;width:3rem;text-align:center;display:flex;align-items:center;justify-content:center}.button3[_ngcontent-%COMP%]:hover{color:#000}.button2[_ngcontent-%COMP%]:hover{font-weight:700;color:#000}.button2[_ngcontent-%COMP%]:hover{font-weight:700}.table1[_ngcontent-%COMP%]{border-collapse:collapse;font-family:Lato}.table1[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#f2f2f2;padding:8px;border:1px solid #ddd}.table1[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:8px;border:1px solid #ddd}.table1[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f9f9f9}.table1[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#f2f2f2}@media screen and (max-width: 1000px){#master-container[_ngcontent-%COMP%]{overflow-x:auto!important}}"]}),e})();function Hye(t,e){if(1&t){const n=Fa();d(0,"tr")(1,"td",239),b(2),v(),d(3,"td",239),b(4),v(),d(5,"td",239),b(6),v(),d(7,"td",239),b(8),v(),d(9,"td",239),b(10),v(),d(11,"td",239),b(12),v(),d(13,"td",239)(14,"button",240),Sn("click",function(){const i=vn(n).index;return Dn(Wo().removeInstallment(i))}),d(15,"span",151),b(16,"delete"),v()()()()}if(2&t){const n=e.$implicit;kl("data-index",e.index),gn(2),_r(n.name),gn(2),_r(n.amount),gn(2),_r(n.fatturata),gn(2),_r(n.data_fattura),gn(2),_r(n.incassata),gn(2),_r(n.data_incasso)}}function jye(t,e){1&t&&(d(0,"span"),b(1,"Bassa"),v())}function zye(t,e){1&t&&(d(0,"span"),b(1,"Media"),v())}function $ye(t,e){1&t&&(d(0,"span"),b(1,"Alta"),v())}function Gye(t,e){if(1&t){const n=Fa();d(0,"tr")(1,"td",239),b(2),v(),d(3,"td",239),b(4),v(),d(5,"td",239),Xo(6,jye,2,0,"span",241)(7,zye,2,0,"span",241)(8,$ye,2,0,"span",241),v(),d(9,"td")(10,"button",240),Sn("click",function(){const i=vn(n).index;return Dn(Wo().removeWorkActivity(i))}),d(11,"span",151),b(12,"delete"),v()()()()}if(2&t){const n=e.$implicit;kl("data-index",e.index),gn(2),_r(n.activity),gn(2),_r(n.status),gn(2),eo("ngIf","1"===n.priority),gn(),eo("ngIf","2"===n.priority),gn(),eo("ngIf","3"===n.priority)}}function Wye(t,e){if(1&t){const n=Fa();d(0,"tr")(1,"td",239),b(2),v(),d(3,"td",239),b(4),v(),d(5,"td",239),b(6),v(),d(7,"td",239),b(8),v(),d(9,"td",239),b(10),v(),d(11,"td")(12,"button",240),Sn("click",function(){const i=vn(n).index;return Dn(Wo().removeCost(i))}),d(13,"span",151),b(14,"delete"),v()()()()}if(2&t){const n=e.$implicit;kl("data-index",e.index),gn(2),_r(n.articles_number),gn(2),_r(n.description),gn(2),_r(n.cost),gn(2),_r(n.cost*n.articles_number),gn(2),_r(n.status)}}let Kye=(()=>{var t;class e{constructor(r,i){this.firestore=r,this.generalService=i,this.installments=new rt([]),this.nextPageAvailable=!0,this.installmentsRows=[],this.workCostsRows=[],this.workActivitiesRows=[]}ngOnInit(){const r=document.getElementById("work-boss-input");bn.A.database().ref("users_data").on("value",i=>{r.innerHTML='<option value="">Seleziona un\'opzione</option>',i.forEach(o=>{const s=o.key,a=o.val(),l=document.createElement("option");l.value=s,l.innerText=a.name,r.appendChild(l)})})}openOrClosePopup1(){const r=document.getElementById("work-money-status-input");console.log(r.value),"da-saldare"==r.value&&(document.getElementById("popup-stato-amministrativo").style.display="flex"),(r.value="saldato")&&(document.getElementById("popup-stato-amministrativo").style.display="none")}addWork(){var r=document.getElementById("work-name-input"),i=document.getElementById("work-partita-iva-input"),o=document.getElementById("work-code-input"),s=document.getElementById("work-address-input"),a=document.getElementById("work-provincia-input"),l=document.getElementById("work-customer-type-input"),u=document.getElementById("work-end-date-input"),m=document.getElementById("work-status-input"),I=document.getElementById("work-money-status-input"),k=document.getElementById("work-boss-input"),U=document.getElementById("work-delay-input"),Y=document.getElementById("work-hourly-cost-input"),ve=document.getElementById("work-employed-workers-input"),xe=document.getElementById("work-labor-hours-input"),st=document.getElementById("work-collection-input"),at=document.getElementById("work-pavimentazione-antitraoma-input");this.pavimentazioneAntitraoma=at.checked?"true":"false";var Lt=document.getElementById("work-pavimentazione-drenante-input");this.pavimentazioneDrenante=Lt.checked?"true":"false";var Yt=document.getElementById("work-verde-input");this.verde=Yt.checked?"true":"false";var kn=document.getElementById("work-giochi-input");this.giochi=kn.checked?"true":"false",this.firestore.collection("works").add({name:r.value,partita_iva:i.value,code:o.value,address:s.value,province:a.value,customer_type:l.value,end_date:u.value,money_status:I.value,status:m.value,boss_uid:k.value,boss_name:k.innerText,delay:U.value,hourly_cost:Y.value,employed_workers:ve.value,labor_hours:xe.value,collection:st.value,timestamp:bn.A.firestore.FieldValue.serverTimestamp(),pavimentazione_antitraoma:this.pavimentazioneAntitraoma,pavimentazione_drenante:this.pavimentazioneDrenante,verde:this.verde,giochi:this.giochi}).then(jn=>{this.addInstallments(jn.id),this.addCosts(jn.id),this.addWorkActivities(jn.id),this.addWorkCounts(jn.id),this.generalService.presentToast("Lavoro creato con successo")}).catch(jn=>{this.generalService.presentToast("Errore durante l'aggiunta del lavoro: "+jn.message)})}calcLaborCost(){var r=document.getElementById("work-hourly-cost-input"),i=document.getElementById("work-employed-workers-input"),o=document.getElementById("work-labor-hours-input"),s=parseFloat(r.value)||1,a=parseFloat(i.value)||1,l=parseFloat(o.value)||1;document.getElementById("work-total-labor-cost-input").value=(s*a*l).toString()}addWorkCounts(r){var i=(new Date).getFullYear().toString();bn.A.database().ref("/counters/works/"+i+"/general/total/").transaction(o=>null===o?{fatturato:this.countFatturato(),incasso:this.countIncasso(),spesa:this.countSpesa(),spesa_personale:this.countSpesaPersonale()}:{fatturato:(o.fatturato||0)+this.countFatturato(),incasso:(o.incasso||0)+this.countIncasso(),spesa:(o.spesa||0)+this.countSpesa(),spesa_personale:(o.spesa_personale||0)+Number(this.countSpesaPersonale())}).catch(o=>{this.generalService.presentToast("Errore durante l'incremento dei contatori del lavoro: "+o.message)}),bn.A.database().ref("/counters/works/"+i+"/general/"+parseFloat(((new Date).getMonth()+1).toString())+"/").transaction(o=>null===o?{fatturato:this.countFatturato(),incasso:this.countIncasso(),spesa:this.countSpesa(),spesa_personale:this.countSpesaPersonale()}:{fatturato:(o.fatturato||0)+this.countFatturato(),incasso:(o.incasso||0)+this.countIncasso(),spesa:(o.spesa||0)+this.countSpesa(),spesa_personale:(o.spesa_personale||0)+Number(this.countSpesaPersonale())}).catch(o=>{this.generalService.presentToast("Errore durante l'incremento dei contatori del lavoro: "+o.message)}),bn.A.database().ref("/counters/works/"+i+"/"+r+"/total/").transaction(o=>null===o?{fatturato:this.countFatturato(),incasso:this.countIncasso(),spesa:this.countSpesa(),spesa_personale:this.countSpesaPersonale()}:{fatturato:(o.fatturato||0)+this.countFatturato(),incasso:(o.incasso||0)+this.countIncasso(),spesa:(o.spesa||0)+this.countSpesa(),spesa_personale:(o.spesa_personale||0)+Number(this.countSpesaPersonale())}).catch(o=>{this.generalService.presentToast("Errore durante l'incremento dei contatori del lavoro: "+o.message)}),bn.A.database().ref("/counters/works/"+i+"/"+r+"/"+parseFloat(((new Date).getMonth()+1).toString())+"/").transaction(o=>null===o?{fatturato:this.countFatturato(),incasso:this.countIncasso(),spesa:this.countSpesa(),spesa_personale:this.countSpesaPersonale()}:{fatturato:(o.fatturato||0)+this.countFatturato(),incasso:(o.incasso||0)+this.countIncasso(),spesa:(o.spesa||0)+this.countSpesa(),spesa_personale:(o.spesa_personale||0)+Number(this.countSpesaPersonale())}).catch(o=>{this.generalService.presentToast("Errore durante l'incremento dei contatori del lavoro: "+o.message)})}countFatturato(){return this.installmentsRows.reduce((i,o)=>"fatturata"===o.fatturata?i+parseFloat(o.amount):i,0)}countIncasso(){return this.installmentsRows.reduce((i,o)=>"incassata"===o.incassata?i+parseFloat(o.amount):i,0)}countSpesa(){return this.workCostsRows.reduce((i,o)=>null!=o.cost?i+parseFloat(o.cost)*parseFloat(o.articles_number):i,0)}countSpesaPersonale(){return document.getElementById("work-total-labor-cost-input").value}addInstallments(r){var i=this;return(0,V.A)(function*(){try{for(let o=0;o<i.installmentsRows.length;o++){const s=i.installmentsRows[o];s.work_id=r,s.timestamp=bn.A.firestore.FieldValue.serverTimestamp(),s.group="work",yield i.firestore.collection("installments").add(s)}}catch(o){i.generalService.presentToast("Errore durante l'aggiunta delle rate al lavoro: "+o.message)}})()}addInstallment(){this.installmentsRows.push({name:document.getElementById("installment-name-input").value,amount:document.getElementById("installment-amount-input").value,fatturata:document.getElementById("installment-fatturata-input").value,data_fattura:document.getElementById("installment-data-fattura-input").value,incassata:document.getElementById("installment-incassata-input").value,data_incasso:document.getElementById("installment-data-incasso-input").value,work_id:void 0,timestamp:void 0,group:void 0})}removeInstallment(r){this.installmentsRows.splice(r,1)}addCosts(r){var i=this;return(0,V.A)(function*(){try{for(let o=0;o<i.workCostsRows.length;o++){const s=i.workCostsRows[o];s.work_id=r,i.currentWorkId=r,s.timestamp=bn.A.firestore.FieldValue.serverTimestamp(),s.group="work",yield i.firestore.collection("costs").add(s);const l=s.articles_number,u=parseFloat(s.cost.value),m=parseFloat(l.value);if(isNaN(u)||isNaN(m))return void i.generalService.presentToast("Alcuni numeri non sono validi");const I=u*m;if(isNaN(I))return void i.generalService.presentToast("Il calcolo ha come risultato un numero non valido");i.updateCostCounterAnnuale(I),i.updateCostCounterMensile(I)}}catch(o){i.generalService.presentToast("Errore durante l'aggiunta delle spese al lavoro: "+o.message)}})()}updateCostCounterAnnuale(r){var i=(new Date).getFullYear().toString();bn.A.database().ref("/counters/works/"+i+"/general/total/").child("spesa").transaction(s=>null===s?r:s+r).catch(s=>{this.generalService.presentToast("Errore durante l'incremento del costo annuale: "+s.message)}),bn.A.database().ref("/counters/works/"+i+"/"+this.currentWorkId+"/total/").child("spesa").transaction(s=>null===s?r:s+r).catch(s=>{this.generalService.presentToast("Errore durante l'incremento del costo annuale: "+s.message)})}updateCostCounterMensile(r){var i=(new Date).getFullYear().toString(),o=((new Date).getMonth()+1).toString();bn.A.database().ref("/counters/works/"+i+"/general/"+parseFloat(((new Date).getMonth()+1).toString())+"/").child("spesa").transaction(a=>null===a?r:a+r).catch(a=>{this.generalService.presentToast("Errore durante l'incremento del fatturato mensile: "+a.message)}),bn.A.database().ref("/counters/works/"+i+"/"+this.currentWorkId+"/"+o+"/").child("spesa").transaction(a=>null===a?r:a+r).catch(a=>{this.generalService.presentToast("Errore durante l'incremento del fatturato annuale: "+a.message)})}addCost(){this.workCostsRows.push({articles_number:document.getElementById("cost-articles-number-input").value,description:document.getElementById("cost-description-input").value,cost:document.getElementById("cost-cost-input").value,status:document.getElementById("cost-status-input").value,work_id:void 0,timestamp:void 0,group:void 0})}removeCost(r){this.workCostsRows.splice(r,1)}addWorkActivities(r){var i=this;return(0,V.A)(function*(){try{for(let o=0;o<i.workActivitiesRows.length;o++){const s=i.workActivitiesRows[o];s.work_id=r,s.timestamp=bn.A.firestore.FieldValue.serverTimestamp(),s.group="work",yield i.firestore.collection("activities").add(s)}}catch(o){i.generalService.presentToast("Errore durante l'aggiunta delle attivit\xe0 al lavoro: "+o.message)}})()}addWorkActivity(){this.workActivitiesRows.push({activity:document.getElementById("activity-name-input").value,status:document.getElementById("activity-status-input").value,priority:document.getElementById("activity-priority-input").value,work_id:void 0,timestamp:void 0,group:void 0})}removeWorkActivity(r){this.workActivitiesRows.splice(r,1)}}return(t=e).\u0275fac=function(r){return new(r||t)(q(oc),q(Ml))},t.\u0275cmp=J({type:t,selectors:[["app-add-work"]],decls:516,vars:3,consts:[["id","add-work",2,"height","100%","width","100%","display","flex","flex-direction","column","padding-left","1rem","padding-right","1rem","overflow-y","auto","overflow-x","hidden","padding-bottom","7rem"],[2,"width","100%","display","grid","grid-template-columns","repeat(auto-fit, minmax(200px, 1fr))","grid-gap","10px","margin-top","4rem"],[1,"inputGroup",2,"width","100%"],["id","work-name-input","type","text","value","Palazzo economo e magazzino 20",1,"input-field3"],["for","work-name-input"],[1,"inputGroup",2,"display","inline-grid"],["id","work-partita-iva-input","type","text",1,"input-field3"],["for","work-partita-iva-input"],["id","work-code-input","type","text",1,"input-field3"],["for","work-code-input"],[2,"width","100%","display","grid","grid-template-columns","repeat(auto-fit, minmax(200px, 1fr))","grid-gap","10px"],[1,"inputGroup",2,"display","inline-grid","width","calc(100% -10rem)"],["id","work-address-input","type","text",1,"input-field3"],["for","work-address-input"],[2,"display","inline-grid","flex-direction","column"],[2,"margin-bottom","-1.5rem","z-index","2","background","white","margin-left","1.5rem","font-size","14px","color","rgb(100, 100, 100)","width","6rem","text-align","center"],[1,"inputGroup"],["id","work-provincia-input",1,"selector1",2,"width","100%"],["value","Alessandria"],["value","Ancona"],["value","Arezzo"],["value","Ascoli Piceno"],["value","Asti"],["value","Avellino"],["value","Bari"],["value","Barletta-Andria-Trani"],["value","Belluno"],["value","Benevento"],["value","Bergamo"],["value","Biella"],["value","Bologna"],["value","Bolzano"],["value","Brescia"],["value","Brindisi"],["value","Cagliari"],["value","Caltanissetta"],["value","Campobasso"],["value","Caserta"],["value","Catania"],["value","Catanzaro"],["value","Chieti"],["value","Como"],["value","Cosenza"],["value","Cremona"],["value","Crotone"],["value","Cuneo"],["value","Enna"],["value","Fermo"],["value","Ferrara"],["value","Firenze"],["value","Foggia"],["value","Forl\xec"],["value","Frosinone"],["value","Genova"],["value","Gorizia"],["value","Grosseto"],["value","Imperia"],["value","Isernia"],["value","La Spezia"],["value","L'Aquila"],["value","Latina"],["value","Lecce"],["value","Lecco"],["value","Livorno"],["value","Lodi"],["value","Lucca"],["value","Macerata"],["value","Mantova"],["value","Massa-Carrara"],["value","Matera"],["value","Messina"],["value","Milano"],["value","Modena"],["value","Monza e della Brianza"],["value","Napoli"],["value","Novara"],["value","Nuoro"],["value","Ogliastra"],["value","Oristano"],["value","Padova"],["value","Palermo"],["value","Parma"],["value","Pavia"],["value","Perugia"],["value","Pesaro e Urbino"],["value","Pescara"],["value","Piacenza"],["value","Pisa"],["value","Pistoia"],["value","Pordenone"],["value","Potenza"],["value","Prato"],["value","Ragusa"],["value","Ravenna"],["value","Reggio Calabria"],["value","Reggio nell'Emilia"],["value","Rieti"],["value","Rimini"],["value","Roma"],["value","Rovigo"],["value","Salerno"],["value","Sassari"],["value","Savona"],["value","Siena"],["value","Siracusa"],["value","Sondrio"],["value","Sud Sardegna"],["value","Taranto"],["value","Teramo"],["value","Terni"],["value","Torino"],["value","Trapani"],["value","Trento"],["value","Treviso"],["value","Trieste"],["value","Udine"],["value","Valle d'Aosta"],["value","Varese"],["value","Venezia"],["value","Verbano-Cusio-Ossola"],["value","Vercelli"],["value","Verona"],["value","Vibo Valentia"],["value","Vicenza"],["value","Viterbo"],[2,"width","100%","display","grid","grid-template-columns","repeat(auto-fit, minmax(200px, 1fr))","grid-gap","10px","align-items","center"],[2,"display","flex","flex-direction","column","overflow","hidden"],["id","work-customer-type-input",1,"selector1",2,"width","100%"],["value","public-administration"],["value","private"],[2,"display","flex","flex-direction","row","overflow-x","auto","align-items","center","border","2px solid #19212d !important","border-radius","20px","height","3.4rem","gap","1rem"],[2,"display","flex","flex-direction","row","align-items","center","gap","0.5rem"],["id","work-pavimentazione-antitraoma-input","type","checkbox",1,"input-field3",2,"width","1rem","height","1rem"],[2,"margin-top","0.2rem","margin-bottom","0.2rem","width","8rem"],["id","work-pavimentazione-drenante-input","type","checkbox",1,"input-field3",2,"width","1rem","height","1rem"],["id","work-verde-input","type","checkbox",1,"input-field3",2,"width","1rem","height","1rem"],[2,"margin-top","0.2rem","margin-bottom","0.2rem"],["id","work-giochi-input","type","checkbox",1,"input-field3",2,"width","1rem","height","1rem"],["id","work-end-date-input","type","date",1,"input-field3"],["for","work-end-date-input"],[2,"display","flex","flex-direction","column","margin-top","0.4rem"],["id","work-status-input",1,"selector1",2,"width","100%"],["value","to-start"],["value","doing"],["value","finished"],[2,"margin-bottom","-1.5rem","z-index","2","background","white","margin-left","1.5rem","font-size","14px","color","rgb(100, 100, 100)","width","10rem","text-align","center"],["id","work-money-status-input",1,"selector1",2,"width","100%"],["value","da-saldare"],["value","saldato"],["onclick","if(document.getElementById('popup-stato-amministrativo').style.display == 'none' ){document.getElementById('popup-stato-amministrativo').style.display = 'flex'; }else{document.getElementById('popup-stato-amministrativo').style.display = 'none'; }",2,"width","100%","display","flex","flex-direction","row","align-items","center","padding-top","1rem","padding-bottom","1rem","cursor","pointer"],[2,"margin-top","0rem","margin-bottom","0rem"],[1,"material-symbols-outlined","notranslate"],["id","popup-stato-amministrativo",1,"table-container",2,"width","100%","display","none","flex-direction","column","padding-bottom","3rem","border","1px solid rgba(0, 0, 0, 0.091)","border-end-start-radius","1rem","border-end-end-radius","1rem"],[2,"width","100%","display","flex","flex-direction","row","align-items","center","gap","1rem","padding-left","1rem","flex-wrap","wrap","padding-bottom","2rem"],["id","installment-name-input","type","text",1,"input-field3"],["for","installment-name-input"],[1,"inputGroup",2,"width","8rem"],["id","installment-amount-input","type","number",1,"input-field3"],["for","installment-amount-input"],[2,"margin-bottom","-1.5rem","z-index","2","background","white","margin-left","1.5rem","font-size","14px","color","rgb(100, 100, 100)","width","8rem","text-align","center"],["id","installment-fatturata-input",1,"selector1",2,"width","100%"],["value","non_fatturata"],["value","fatturata"],["id","installment-data-fattura-input","type","date",1,"input-field3"],["for","installment-data-fattura-input"],[2,"display","flex","flex-direction","column","margin-top","0.4rem","width","8rem"],[2,"margin-bottom","-1.5rem","z-index","2","background","white","margin-left","1.5rem","font-size","14px","color","rgb(100, 100, 100)","width","auto"],["id","installment-incassata-input",1,"selector1",2,"width","100%"],["value","non_incassata"],["value","incassata"],["id","installment-data-incasso-input","type","date",1,"input-field3"],["for","installment-data-incasso-input"],[1,"button5",2,"height","3rem","padding-left","0.5rem","padding-right","0.5rem","margin-top","1rem","margin-bottom","1rem","width","8rem","height","3rem",3,"click"],[2,"width","100%","overflow-x","auto"],[1,"table",2,"width","100%"],[2,"height","2.5rem"],[1,"table-th",2,"width","10rem"],[1,"table-th",2,"width","3rem"],[4,"ngFor","ngForOf"],["id","work-boss-input",1,"selector1",2,"width","100%"],["id","work-remaining-days-input","type","number",1,"input-field3"],["for","work-remaining-days-input"],["id","work-delay-input","type","number",1,"input-field3"],["for","work-delay-input"],["id","work-hourly-cost-input","type","number",1,"input-field3",3,"input"],["for","work-hourly-cost-input"],["id","work-employed-workers-input","type","number",1,"input-field3",3,"input"],["id","work-employed-workers-input"],["id","work-labor-hours-input","type","number",1,"input-field3",3,"input"],["for","work-labor-hours-input"],["id","work-total-labor-cost-input","readonly","","type","number",1,"input-field3"],["for","work-total-labor-cost-input"],["id","work-total-costs-input","type","number",1,"input-field3"],["for","work-total-costs-input"],["id","work-collection-input","type","number",1,"input-field3"],["for","work-collection-input"],[1,"inputGroup",2,"display","inline-grid","width","100%"],["id","work-productivity-input","type","text",1,"input-field3"],["for","work-productivity-input"],[2,"width","100%"],["onclick","if(document.getElementById('stato-lavoro-table-containter').style.display =='none' ){document.getElementById('stato-lavoro-table-containter').style.display = 'flex'; }else{document.getElementById('stato-lavoro-table-containter').style.display = 'none'; }",2,"width","100%","display","flex","flex-direction","row","align-items","center","padding-top","1rem","padding-bottom","1rem","cursor","pointer"],["id","stato-lavoro-table-containter",2,"display","none","flex-direction","column","width","100%"],[2,"width","100%","display","flex","flex-direction","row","align-items","center","gap","1rem","padding-left","1rem","flex-wrap","wrap","padding-bottom","1rem"],["id","activity-name-input","type","text",1,"input-field3"],["for","activity-name-input"],["id","activity-status-input",1,"selector1",2,"width","100%"],["value","to-do"],["value","completed"],["value","not_started"],["value","pending"],["value","timed_out"],["id","activity-priority-input",1,"selector1",2,"width","100%"],["value","3"],["value","2"],["value","1"],[1,"table-th",2,"width","5rem"],[1,"table-th",2,"width","2rem !important"],["onclick","if(document.getElementById('spesa-lavoro-table-containter').style.display =='none' ){document.getElementById('spesa-lavoro-table-containter').style.display = 'flex'; }else{document.getElementById('spesa-lavoro-table-containter').style.display = 'none'; }",2,"width","100%","display","flex","flex-direction","row","align-items","center","padding-top","1rem","padding-bottom","1rem","cursor","pointer"],["id","spesa-lavoro-table-containter",2,"display","none","flex-direction","column","width","100%"],["id","popup-stato-amministrativo",1,"table-container",2,"width","100%","display","flex","flex-direction","column","padding-bottom","1rem"],["id","cost-articles-number-input","type","number",1,"input-field3"],["for","cost-articles-number-input"],[1,"inputGroup",2,"width","15rem"],["id","cost-description-input","type","text",1,"input-field3"],["for","cost-description-input"],[1,"inputGroup",2,"width","12rem"],["id","cost-cost-input","type","number",1,"input-field3"],["for","cost-cost-input"],["id","cost-status-input",1,"selector1",2,"width","100%"],["value","to-order"],["value","arriving"],["value","arrived"],[2,"display","flex","flex-direction","column-reverse","width","100%","position","absolute","z-index","2","pointer-events","none","height","100%"],[2,"width","calc( 100% - 2rem )","display","grid","grid-template-columns","repeat(auto-fit, minmax(200px, 1fr))","gap","1rem","background","white","padding-bottom","1rem","padding-top","1rem","pointer-events","all"],[1,"button5",2,"height","2.5rem","padding-left","0.5rem","padding-right","0.5rem","margin-top","0.5rem","margin-bottom","0.5rem","border-radius","2rem","font-weight","bold","font-size","1rem",3,"click"],["routerLink","/add",1,"button5",2,"height","2.5rem","padding-left","0.5rem","padding-right","0.5rem","margin-top","0.5rem","margin-bottom","0.5rem","border-radius","2rem","font-weight","bold","font-size","1rem"],[2,"flex","1"],[2,"width","100%","display","flex","flex-direction","row","align-items","center","padding-bottom","1rem","background","white","flex-shrink","0","pointer-events","all"],["routerLink","/add","name","chevron-back",2,"cursor","pointer","font-size","1.8rem"],[1,"table-td"],[1,"btn","btn-danger",2,"border-radius","50%","width","2rem","height","2rem","display","flex","align-items","center","justify-content","center",3,"click"],[4,"ngIf"]],template:function(r,i){1&r&&(d(0,"div",0)(1,"div",1)(2,"div",2),vt(3,"input",3),d(4,"label",4),b(5,"Nome lavoro"),v()(),d(6,"div",5),vt(7,"input",6),d(8,"label",7),b(9,"Partita Iva"),v()(),d(10,"div",5),vt(11,"input",8),d(12,"label",9),b(13,"Codice lavoro"),v()()(),d(14,"div",10)(15,"div",11),vt(16,"input",12),d(17,"label",13),b(18,"Indirizzo"),v()(),d(19,"div",14)(20,"label",15),b(21,"Provincia"),v(),d(22,"div",16)(23,"select",17)(24,"option",18),b(25,"Alessandria"),v(),d(26,"option",19),b(27,"Ancona"),v(),d(28,"option",20),b(29,"Arezzo"),v(),d(30,"option",21),b(31,"Ascoli Piceno"),v(),d(32,"option",22),b(33,"Asti"),v(),d(34,"option",23),b(35,"Avellino"),v(),d(36,"option",24),b(37,"Bari"),v(),d(38,"option",25),b(39,"Barletta-Andria-Trani"),v(),d(40,"option",26),b(41,"Belluno"),v(),d(42,"option",27),b(43,"Benevento"),v(),d(44,"option",28),b(45,"Bergamo"),v(),d(46,"option",29),b(47,"Biella"),v(),d(48,"option",30),b(49,"Bologna"),v(),d(50,"option",31),b(51,"Bolzano"),v(),d(52,"option",32),b(53,"Brescia"),v(),d(54,"option",33),b(55,"Brindisi"),v(),d(56,"option",34),b(57,"Cagliari"),v(),d(58,"option",35),b(59,"Caltanissetta"),v(),d(60,"option",36),b(61,"Campobasso"),v(),d(62,"option",37),b(63,"Caserta"),v(),d(64,"option",38),b(65,"Catania"),v(),d(66,"option",39),b(67,"Catanzaro"),v(),d(68,"option",40),b(69,"Chieti"),v(),d(70,"option",41),b(71,"Como"),v(),d(72,"option",42),b(73,"Cosenza"),v(),d(74,"option",43),b(75,"Cremona"),v(),d(76,"option",44),b(77,"Crotone"),v(),d(78,"option",45),b(79,"Cuneo"),v(),d(80,"option",46),b(81,"Enna"),v(),d(82,"option",47),b(83,"Fermo"),v(),d(84,"option",48),b(85,"Ferrara"),v(),d(86,"option",49),b(87,"Firenze"),v(),d(88,"option",50),b(89,"Foggia"),v(),d(90,"option",51),b(91,"Forl\xec-Cesena"),v(),d(92,"option",52),b(93,"Frosinone"),v(),d(94,"option",53),b(95,"Genova"),v(),d(96,"option",54),b(97,"Gorizia"),v(),d(98,"option",55),b(99,"Grosseto"),v(),d(100,"option",56),b(101,"Imperia"),v(),d(102,"option",57),b(103,"Isernia"),v(),d(104,"option",58),b(105,"La Spezia"),v(),d(106,"option",59),b(107,"L'Aquila"),v(),d(108,"option",60),b(109,"Latina"),v(),d(110,"option",61),b(111,"Lecce"),v(),d(112,"option",62),b(113,"Lecco"),v(),d(114,"option",63),b(115,"Livorno"),v(),d(116,"option",64),b(117,"Lodi"),v(),d(118,"option",65),b(119,"Lucca"),v(),d(120,"option",66),b(121,"Macerata"),v(),d(122,"option",67),b(123,"Mantova"),v(),d(124,"option",68),b(125,"Massa-Carrara"),v(),d(126,"option",69),b(127,"Matera"),v(),d(128,"option",70),b(129,"Messina"),v(),d(130,"option",71),b(131,"Milano"),v(),d(132,"option",72),b(133,"Modena"),v(),d(134,"option",73),b(135,"Monza e della Brianza"),v(),d(136,"option",74),b(137,"Napoli"),v(),d(138,"option",75),b(139,"Novara"),v(),d(140,"option",76),b(141,"Nuoro"),v(),d(142,"option",77),b(143,"Ogliastra"),v(),d(144,"option",78),b(145,"Oristano"),v(),d(146,"option",79),b(147,"Padova"),v(),d(148,"option",80),b(149,"Palermo"),v(),d(150,"option",81),b(151,"Parma"),v(),d(152,"option",82),b(153,"Pavia"),v(),d(154,"option",83),b(155,"Perugia"),v(),d(156,"option",84),b(157,"Pesaro e Urbino"),v(),d(158,"option",85),b(159,"Pescara"),v(),d(160,"option",86),b(161,"Piacenza"),v(),d(162,"option",87),b(163,"Pisa"),v(),d(164,"option",88),b(165,"Pistoia"),v(),d(166,"option",89),b(167,"Pordenone"),v(),d(168,"option",90),b(169,"Potenza"),v(),d(170,"option",91),b(171,"Prato"),v(),d(172,"option",92),b(173,"Ragusa"),v(),d(174,"option",93),b(175,"Ravenna"),v(),d(176,"option",94),b(177,"Reggio Calabria"),v(),d(178,"option",95),b(179,"Reggio nell'Emilia"),v(),d(180,"option",96),b(181,"Rieti"),v(),d(182,"option",97),b(183,"Rimini"),v(),d(184,"option",98),b(185,"Roma"),v(),d(186,"option",99),b(187,"Rovigo"),v(),d(188,"option",100),b(189,"Salerno"),v(),d(190,"option",101),b(191,"Sassari"),v(),d(192,"option",102),b(193,"Savona"),v(),d(194,"option",103),b(195,"Siena"),v(),d(196,"option",104),b(197,"Siracusa"),v(),d(198,"option",105),b(199,"Sondrio"),v(),d(200,"option",106),b(201,"Sud Sardegna"),v(),d(202,"option",107),b(203,"Taranto"),v(),d(204,"option",108),b(205,"Teramo"),v(),d(206,"option",109),b(207,"Terni"),v(),d(208,"option",110),b(209,"Torino"),v(),d(210,"option",111),b(211,"Trapani"),v(),d(212,"option",112),b(213,"Trento"),v(),d(214,"option",113),b(215,"Treviso"),v(),d(216,"option",114),b(217,"Trieste"),v(),d(218,"option",115),b(219,"Udine"),v(),d(220,"option",116),b(221,"Valle d'Aosta"),v(),d(222,"option",117),b(223,"Varese"),v(),d(224,"option",118),b(225,"Venezia"),v(),d(226,"option",119),b(227,"Verbano-Cusio-Ossola"),v(),d(228,"option",120),b(229,"Vercelli"),v(),d(230,"option",121),b(231,"Verona"),v(),d(232,"option",122),b(233,"Vibo Valentia"),v(),d(234,"option",123),b(235,"Vicenza"),v(),d(236,"option",124),b(237,"Viterbo"),v()()()()(),d(238,"div",125)(239,"div",126)(240,"label",15),b(241,"Tipo cliente"),v(),d(242,"div",16)(243,"select",127)(244,"option",128),b(245,"Pubblica Amministrazione"),v(),d(246,"option",129),b(247,"Privato"),v()()()(),d(248,"div",130)(249,"div",131),vt(250,"input",132),d(251,"p",133),b(252,"Pavimentazione antitraoma"),v()(),d(253,"div",131),vt(254,"input",134),d(255,"p",133),b(256,"Pavimentazione drenante"),v()(),d(257,"div",131),vt(258,"input",135),d(259,"p",136),b(260,"Verde"),v()(),d(261,"div",131),vt(262,"input",137),d(263,"p",136),b(264,"Giochi"),v()()()(),d(265,"div",10)(266,"div",16),vt(267,"input",138),d(268,"label",139),b(269,"Data scadenza"),v()(),d(270,"div",140)(271,"label",15),b(272,"Stato lavoro"),v(),d(273,"div",16)(274,"select",141)(275,"option",142),b(276,"Da iniziare"),v(),d(277,"option",143),b(278,"In corso"),v(),d(279,"option",144),b(280,"Concluso"),v()()()(),d(281,"div",140)(282,"label",145),b(283,"Stato amministrativo"),v(),d(284,"div",16)(285,"select",146)(286,"option",147),b(287,"Da saldare"),v(),d(288,"option",148),b(289,"Saldato"),v()()()()(),d(290,"div",149)(291,"h3",150),b(292,"Sezione Rate"),v(),d(293,"span",151),b(294,"expand_more"),v()(),d(295,"div",152)(296,"div",153)(297,"div",16),vt(298,"input",154),d(299,"label",155),b(300,"Nome"),v()(),d(301,"div",156),vt(302,"input",157),d(303,"label",158),b(304,"Importo (\u20ac)"),v()(),d(305,"div",140)(306,"label",159),b(307,"Stato fatturazione"),v(),d(308,"div",16)(309,"select",160)(310,"option",161),b(311,"Non fatturata"),v(),d(312,"option",162),b(313,"Fatturata"),v()()()(),d(314,"div",16),vt(315,"input",163),d(316,"label",164),b(317,"Data fattura"),v()(),d(318,"div",165)(319,"label",166),b(320,"Stato incasso"),v(),d(321,"div",16)(322,"select",167)(323,"option",168),b(324,"Non incassata"),v(),d(325,"option",169),b(326,"Incassata"),v()()()(),d(327,"div",16),vt(328,"input",170),d(329,"label",171),b(330,"Data incasso"),v()(),d(331,"button",172),Sn("click",function(){return i.addInstallment()}),b(332,"Aggiungi rata"),v()(),d(333,"div",173)(334,"table",174)(335,"thead",175)(336,"tr")(337,"th",176),b(338,"Nome"),v(),d(339,"th",176),b(340,"Importo"),v(),d(341,"th",177),b(342,"Fatturata"),v(),d(343,"th",177),b(344,"Data fatturata"),v(),d(345,"th",177),b(346,"Incassata"),v(),d(347,"th",177),b(348,"Data incasso"),v(),d(349,"th",176),b(350,"Azioni"),v()()(),d(351,"tbody"),Xo(352,Hye,17,7,"tr",178),v()()()(),d(353,"div",140)(354,"label",15),b(355,"Capo lavoro"),v(),d(356,"div",16),vt(357,"select",179),v()(),d(358,"div",10)(359,"div",16),vt(360,"input",180),d(361,"label",181),b(362,"Giorni rimanenti"),v()(),d(363,"div",16),vt(364,"input",182),d(365,"label",183),b(366,"Giorni concessi di ritardo"),v()()(),d(367,"div",10)(368,"div",16)(369,"input",184),Sn("input",function(){return i.calcLaborCost()}),v(),d(370,"label",185),b(371,"Costo orario manodopera"),v()(),d(372,"div",16)(373,"input",186),Sn("input",function(){return i.calcLaborCost()}),v(),d(374,"label",187),b(375,"Lavoratori impiegati"),v()(),d(376,"div",16)(377,"input",188),Sn("input",function(){return i.calcLaborCost()}),v(),d(378,"label",189),b(379,"N. Ore manodopera"),v()()(),d(380,"div",10)(381,"div",16),vt(382,"input",190),d(383,"label",191),b(384,"Totale costo manodopera"),v()(),d(385,"div",16),vt(386,"input",192),d(387,"label",193),b(388,"Costi totali sostenuti"),v()(),d(389,"div",16),vt(390,"input",194),d(391,"label",195),b(392,"Incasso lavoro"),v()()(),d(393,"div",196),vt(394,"input",197),d(395,"label",198),b(396,"Produttivit\xe0"),v()(),d(397,"div",199)(398,"div",200)(399,"h3",150),b(400,"Stato lavori"),v(),d(401,"span",151),b(402,"expand_more"),v()(),d(403,"div",201)(404,"div",202)(405,"div",16),vt(406,"input",203),d(407,"label",204),b(408,"Attivit\xe0"),v()(),d(409,"div",140)(410,"label",159),b(411,"Stato"),v(),d(412,"div",16)(413,"select",205)(414,"option",206),b(415,"Da completare"),v(),d(416,"option",207),b(417,"Completato"),v(),d(418,"option",143),b(419,"In corso"),v(),d(420,"option",208),b(421,"Non iniziato"),v(),d(422,"option",209),b(423,"In attesa"),v(),d(424,"option",210),b(425,"Scaduto"),v()()()(),d(426,"div",140)(427,"label",159),b(428,"Priorit\xe0"),v(),d(429,"div",16)(430,"select",211)(431,"option",212),b(432,"Alta"),v(),d(433,"option",213),b(434,"Media"),v(),d(435,"option",214),b(436,"Bassa"),v()()()(),d(437,"button",172),Sn("click",function(){return i.addWorkActivity()}),b(438,"Aggiungi attivit\xe0"),v()(),d(439,"div",173)(440,"table",174)(441,"thead",175)(442,"tr")(443,"th",215),b(444,"Attivit\xe0"),v(),d(445,"th",216),b(446,"Stato"),v(),d(447,"th",216),b(448,"Priorit\xe0"),v(),d(449,"th",216),b(450,"Azioni"),v()()(),d(451,"tbody"),Xo(452,Gye,13,6,"tr",178),v()()()(),d(453,"div",217)(454,"h3",150),b(455,"Spesa lavoro"),v(),d(456,"span",151),b(457,"expand_more"),v()(),d(458,"div",218)(459,"div",219)(460,"div",153)(461,"div",156),vt(462,"input",220),d(463,"label",221),b(464,"N.Articoli"),v()(),d(465,"div",222),vt(466,"input",223),d(467,"label",224),b(468,"Descrizione"),v()(),d(469,"div",225),vt(470,"input",226),d(471,"label",227),b(472,"Costo unitario (\u20ac)"),v()(),d(473,"div",140)(474,"label",159),b(475,"Stato"),v(),d(476,"div",16)(477,"select",228)(478,"option",229),b(479,"Da ordinare"),v(),d(480,"option",230),b(481,"In arrivo"),v(),d(482,"option",231),b(483,"Arrivato"),v()()()(),d(484,"button",172),Sn("click",function(){return i.addCost()}),b(485,"Aggiungi spesa"),v()(),b(486,"a "),d(487,"div",173)(488,"table",174)(489,"thead",175)(490,"tr")(491,"th",176),b(492,"N.Articoli"),v(),d(493,"th",176),b(494,"Descrizione"),v(),d(495,"th",177),b(496,"Costo unitario"),v(),d(497,"th",177),b(498,"Costo totale"),v(),d(499,"th",177),b(500,"Stato"),v(),d(501,"th",177),b(502,"Azioni"),v()()(),d(503,"tbody"),Xo(504,Wye,15,6,"tr",178),v()()()()()(),d(505,"div",232)(506,"div",233)(507,"button",234),Sn("click",function(){return i.addWork()}),b(508,"Salva lavoro"),v(),d(509,"button",235),b(510,"Annulla lavoro"),v()(),vt(511,"div",236),d(512,"div",237),vt(513,"ion-icon",238),d(514,"h3"),b(515,"Crea lavoro"),v()()()()),2&r&&(gn(352),eo("ngForOf",i.installmentsRows),gn(100),eo("ngForOf",i.workActivitiesRows),gn(52),eo("ngForOf",i.workCostsRows))},dependencies:[bA,gg,ql,SA,Zu,xf,Ff]}),e})(),qye=(()=>{var t;class e{constructor(r){this.router=r,document.getElementById("sidebar").style.display="none"}ngOnInit(){}toLogin(){this.router.navigate(["/login"])}toRegister(){this.router.navigate(["/register"])}}return(t=e).\u0275fac=function(r){return new(r||t)(q(Jo))},t.\u0275cmp=J({type:t,selectors:[["app-log"]],decls:12,vars:0,consts:[[1,"responsive-row-div",2,"height","100%","width","100%","display","flex","flex-direction","column","position","fixed","overflow-x","hidden","overflow-y","auto","align-items","center"],[1,"responsive-row-div","responsive-card1"],[1,"spacer1"],["src","assets\\svg\\undraw_shared_workspace_re_3gsu.svg",2,"width","18rem","margin-top","2rem","object-fit","contain"],[1,"responsive-50-percent-width-div",2,"width","100%","border-top-left-radius","1rem","border-top-right-radius","1rem","display","flex","flex-direction","column","align-items","center"],[2,"font-weight","bold","width","90%","font-size","2rem","margin-top","2rem"],[1,"button1",2,"width","90%","margin-top","1rem","border","1px solid rgba(0, 0, 0, 0.1)","border-radius","0.5rem",3,"click"],[1,"button1",2,"width","90%","margin-top","1rem","margin-bottom","1rem","border-radius","0.5rem","background","#00B0FF","color","white","border","1px solid rgba(0, 0, 0, 0.1)",3,"click"]],template:function(r,i){1&r&&(d(0,"body")(1,"div",0)(2,"div",1),vt(3,"div",2)(4,"img",3),d(5,"div",4)(6,"h1",5),b(7,"Gestionale AllGreen"),v(),d(8,"button",6),Sn("click",function(){return i.toLogin()}),b(9,"Accedi"),v(),d(10,"button",7),Sn("click",function(){return i.toRegister()}),b(11,"Registrati"),v()()()()())}}),e})(),Yye=(()=>{var t;class e{constructor(r,i,o,s,a,l){this.afAuth=r,this.router=i,this.menuCtrl=o,this.navCtrl=s,this.generalService=a,this.firebaseService=l,this.isUserLoggedIn=!1,document.getElementById("sidebar").style.display="none"}ngOnInit(){}login(){const i=document.getElementById("login-email").value,s=document.getElementById("login-password").value;return this.afAuth.signInWithEmailAndPassword(i,s).then(()=>{this.router.navigate(["/home"]),this.generalService.presentToast("Login effettuato con successo")}).catch(a=>{this.generalService.presentToast("Errore durante il login: "+a.message)})}toRegister(){this.router.navigate(["/register"])}}return(t=e).\u0275fac=function(r){return new(r||t)(q($h),q(Jo),q(xle),q(Dm),q(Ml),q(r2))},t.\u0275cmp=J({type:t,selectors:[["app-login"]],decls:21,vars:0,consts:[[1,"responsive-row-div",2,"width","100%","height","100%","display","flex","flex-direction","column","align-items","center","overflow-x","hidden","overflow-y","auto"],["src","assets\\svg\\undraw_co_workers_re_1i6i.svg",1,"responsive-img-width1",2,"width","12rem","margin-top","2rem","margin-bottom","2rem"],[1,"row-spacer1"],[1,"responsive-40-percent-width-div",2,"display","flex","flex-direction","column","width","100%","align-items","center"],[2,"width","92%","border-radius","1rem","border","1px solid rgba(0, 0, 0, 0.114)","display","flex","flex-direction","column","align-items","center"],[2,"font-weight","bold","width","90%","font-size","2rem","margin-top","1.5rem"],[1,"input1",2,"margin-top","1rem"],["name","mail-outline",2,"font-size","1.5rem","color","#343a40","padding-left","0.5rem","padding-right","0.5rem"],["type","email","id","login-email","placeholder","Email",1,"field1"],["name","key-outline",2,"font-size","1.5rem","color","#343a40","padding-left","0.5rem","padding-right","0.5rem"],["type","password","id","login-password","placeholder","Password",1,"field1"],[1,"button1",2,"width","90%","margin-top","1rem","margin-bottom","1rem","border-radius","0.5rem","background","#00B0FF","color","white","border","1px solid rgba(0, 0, 0, 0.1)",3,"click"],[1,"div1",2,"margin-left","0rem"],[1,"general_paragraph1",2,"margin-left","0.5rem"],[2,"width","100%","text-align","center"],[2,"cursor","pointer",3,"click"]],template:function(r,i){1&r&&(d(0,"div",0),vt(1,"img",1)(2,"div",2),d(3,"div",3)(4,"div",4)(5,"h1",5),b(6,"Accedi al tuo account"),v(),d(7,"div",6),vt(8,"ion-icon",7)(9,"input",8),v(),d(10,"div",6),vt(11,"ion-icon",9)(12,"input",10),v(),d(13,"button",11),Sn("click",function(){return i.login()}),d(14,"div",12)(15,"p",13),b(16,"Accedi"),v()()()(),d(17,"p",14),b(18,"Non possiedi un account?"),d(19,"strong",15),Sn("click",function(){return i.toRegister()}),b(20," Registrati"),v()()()())},dependencies:[ql]}),e})(),Xye=(()=>{var t;class e{constructor(r,i,o,s,a){this.afAuth=r,this.router=i,this.firestore=o,this.generalService=s,this.firebaseService=a,document.getElementById("sidebar").style.display="none"}ngOnInit(){}register(){var r=this;return(0,V.A)(function*(){const o=document.getElementById("register-email").value,a=document.getElementById("password1").value;if(a===document.getElementById("password2").value)try{const I=(yield r.afAuth.createUserWithEmailAndPassword(o,a)).user;if(I){const k=I.uid,Y=document.getElementById("name_input1").value,xe=document.getElementById("username_input1").value,Yt={uid:k,mail:o,name:Y,username:xe,phone:document.getElementById("phone_input1").value};r.generalService.presentToast("Account registrato con successo"),r.router.navigate(["/home"]),bn.A.database().ref("users_data/"+I.uid+"/").set(Yt).catch(jn=>{r.generalService.presentToast("Account registato parzialmente, contattare l'amministratore per segnalare il problema: "+jn.message)})}else r.generalService.presentToast("Errore durante la registrazione (l'utente corrisponde a null) ")}catch(m){r.generalService.presentToast("Errore durante la registrazione: "+m.message)}else r.generalService.presentToast("Le password non corrispondono")})()}toLogin(){this.router.navigate(["/login"])}}return(t=e).\u0275fac=function(r){return new(r||t)(q($h),q(Jo),q(oc),q(Ml),q(r2))},t.\u0275cmp=J({type:t,selectors:[["app-register"]],decls:34,vars:0,consts:[[1,"responsive-row-div",2,"width","100%","height","100%","overflow-y","auto","overflow-x","hidden","position","fixed","display","flex","flex-direction","column","align-items","center"],["src","assets\\svg\\undraw_qa_engineers_dg-5-p.svg",1,"responsive-img-width1",2,"width","12rem","margin-top","2rem","margin-bottom","2rem"],[1,"row-spacer1"],[1,"responsive-40-percent-width-div",2,"display","flex","flex-direction","column","width","100%","align-items","center"],[2,"width","92%","border-radius","1rem","border","1px solid rgba(0, 0, 0, 0.114)","display","flex","flex-direction","column","align-items","center"],[2,"font-weight","bold","width","90%","font-size","2rem","margin-top","1.5rem"],[1,"input1",2,"margin-top","1rem"],["name","person-circle-outline",2,"font-size","1.5rem","color","#343a40","padding-left","0.5rem","padding-right","0.5rem"],["id","name_input1","type","text","placeholder","Nome",1,"field1"],["id","username_input1","type","text","placeholder","Username",1,"field1"],["name","mail-outline",2,"font-size","1.5rem","color","#343a40","padding-left","0.5rem","padding-right","0.5rem"],["id","register-email","type","email","placeholder","Email",1,"field1"],["name","call-outline",2,"font-size","1.5rem","color","#343a40","padding-left","0.5rem","padding-right","0.5rem"],["id","phone_input1","type","number","placeholder","Cellulare",1,"field1"],["name","key-outline",2,"font-size","1.5rem","color","#343a40","padding-left","0.5rem","padding-right","0.5rem"],["id","password1","type","password","placeholder","Password",1,"field1"],["id","password2","type","password","placeholder","Conferma Password",1,"field1"],[1,"button1",2,"width","90%","margin-top","1rem","margin-bottom","1rem","border-radius","0.5rem","background","#00B0FF","color","white","border","1px solid rgba(0, 0, 0, 0.1)",3,"click"],[1,"div1",2,"margin-left","0rem"],[1,"general_paragraph1",2,"margin-left","0.5rem"],[2,"width","100%","text-align","center","margin-bottom","2rem"],[2,"cursor","pointer",3,"click"]],template:function(r,i){1&r&&(d(0,"body")(1,"div",0),vt(2,"img",1)(3,"div",2),d(4,"div",3)(5,"div",4)(6,"h1",5),b(7,"Il tuo nuovo account"),v(),d(8,"div",6),vt(9,"ion-icon",7)(10,"input",8),v(),d(11,"div",6),vt(12,"ion-icon",7)(13,"input",9),v(),d(14,"div",6),vt(15,"ion-icon",10)(16,"input",11),v(),d(17,"div",6),vt(18,"ion-icon",12)(19,"input",13),v(),d(20,"div",6),vt(21,"ion-icon",14)(22,"input",15),v(),d(23,"div",6),vt(24,"ion-icon",14)(25,"input",16),v(),d(26,"button",17),Sn("click",function(){return i.register()}),d(27,"div",18)(28,"p",19),b(29,"Registrati"),v()()()(),d(30,"p",20),b(31,"Hai gi\xe0 un account?"),d(32,"strong",21),Sn("click",function(){return i.toLogin()}),b(33," Accedi"),v()()()()())},dependencies:[ql]}),e})();function Jye(t,e){if(1&t){const n=Fa();d(0,"tr")(1,"td",243),b(2),v(),d(3,"td",243),b(4),v(),d(5,"td",243),b(6),v(),d(7,"td",243),b(8),v(),d(9,"td",243),b(10),v(),d(11,"td",243),b(12),v(),d(13,"td",244)(14,"button",245),Sn("click",function(){const i=vn(n).$implicit;return Dn(Wo().changeInstallment(i))}),d(15,"span",151),b(16,"edit"),v()(),d(17,"button",245),Sn("click",function(){const i=vn(n).$implicit;return Dn(Wo().removeInstallment(i))}),d(18,"span",151),b(19,"delete"),v()()()()}if(2&t){const n=e.$implicit;gn(2),_r(n.name),gn(2),_r(n.amount),gn(2),_r(n.fatturata),gn(2),_r(n.data_fattura),gn(2),_r(n.incassata),gn(2),_r(n.data_incasso)}}function Zye(t,e){1&t&&(d(0,"span"),b(1,"Bassa"),v())}function e_e(t,e){1&t&&(d(0,"span"),b(1,"Media"),v())}function t_e(t,e){1&t&&(d(0,"span"),b(1,"Alta"),v())}function n_e(t,e){if(1&t){const n=Fa();d(0,"tr")(1,"td",243),b(2),v(),d(3,"td",243),b(4),v(),d(5,"td",243),Xo(6,Zye,2,0,"span",246)(7,e_e,2,0,"span",246)(8,t_e,2,0,"span",246),v(),d(9,"td",244)(10,"button",245),Sn("click",function(){const i=vn(n).$implicit;return Dn(Wo().changeActivity(i))}),d(11,"span",151),b(12,"edit"),v()(),d(13,"button",245),Sn("click",function(){const i=vn(n).$implicit;return Dn(Wo().removeWorksiteActivity(i))}),d(14,"span",151),b(15,"delete"),v()()()()}if(2&t){const n=e.$implicit;gn(2),_r(n.activity),gn(2),_r(n.status),gn(2),eo("ngIf","1"===n.priority),gn(),eo("ngIf","2"===n.priority),gn(),eo("ngIf","3"===n.priority)}}function r_e(t,e){if(1&t){const n=Fa();d(0,"tr")(1,"td",243),b(2),v(),d(3,"td",243),b(4),v(),d(5,"td",243),b(6),v(),d(7,"td",243),b(8),v(),d(9,"td",243),b(10),v(),d(11,"td",244)(12,"button",245),Sn("click",function(){const i=vn(n).$implicit;return Dn(Wo().changeCost(i))}),d(13,"span",151),b(14,"edit"),v()(),d(15,"button",245),Sn("click",function(){const i=vn(n).$implicit;return Dn(Wo().removeCost(i))}),d(16,"span",151),b(17,"delete"),v()()()()}if(2&t){const n=e.$implicit;gn(2),_r(n.articles_number),gn(2),_r(n.description),gn(2),_r(n.cost),gn(2),_r(n.cost*n.articles_number),gn(2),_r(n.status)}}let i_e=(()=>{var t;class e{constructor(r,i,o){this.firestore=r,this.generalService=i,this.router=o,this.currentWorksite=this.generalService.currentWorksite,this.documentsActivities=new rt([]),this.nextPageAvailableActivities=!0,this.documentsCosts=new rt([]),this.nextPageAvailableCosts=!0,this.documentsInstallments=new rt([]),this.nextPageAvailableInstallments=!0,this.installmentsRows=[],this.worksiteCostsRows=[],this.worksiteActivitiesRows=[]}ngOnInit(){this.generalService.currentChangingElement="worksites";const r=document.getElementById("change-worksite-boss-input");bn.A.database().ref("users_data").on("value",no=>{r.innerHTML='<option value="">Seleziona un\'opzione</option>',no.forEach(Co=>{const ac=Co.key,Zf=Co.val(),Op=document.createElement("option");Op.value=ac,Op.innerText=Zf.name,r.appendChild(Op)})});var i=document.getElementById("change-worksite-name-input"),o=document.getElementById("change-worksite-partita-iva-input"),s=document.getElementById("change-worksite-code-input"),a=document.getElementById("change-worksite-address-input"),l=document.getElementById("change-worksite-provincia-input"),u=document.getElementById("change-worksite-customer-type-input"),m=document.getElementById("change-worksite-end-date-input"),I=document.getElementById("change-worksite-status-input"),k=document.getElementById("change-worksite-boss-input"),U=document.getElementById("change-worksite-remaining-days-input"),Y=document.getElementById("change-worksite-delay-input"),ve=document.getElementById("change-worksite-hourly-cost-input"),xe=document.getElementById("change-worksite-employed-workers-input"),st=document.getElementById("change-worksite-labor-hours-input");"true"==this.currentWorksite.giochi&&(document.getElementById("change-worksite-giochi-input").checked=!0),"true"==this.currentWorksite.verde&&(document.getElementById("change-worksite-verde-input").checked=!0),"true"==this.currentWorksite.pavimentazione_drenante&&(document.getElementById("change-worksite-pavimentazione-drenante-input").checked=!0),"true"==this.currentWorksite.pavimentazione_antitraoma&&(document.getElementById("change-worksite-pavimentazione-antitraoma-input").checked=!0),i.value=this.currentWorksite.name,o.value=this.currentWorksite.partita_iva,s.value=this.currentWorksite.code,a.value=this.currentWorksite.address,l.value=this.currentWorksite.province,u.value=this.currentWorksite.customer_type,m.value=this.currentWorksite.end_date,I.value=this.currentWorksite.status,k.value=this.currentWorksite.boss,U.value=this.currentWorksite.remaining_days,Y.value=this.currentWorksite.delay,ve.value=this.currentWorksite.hourly_cost,xe.value=this.currentWorksite.employed_workers,st.value=this.currentWorksite.labor_hours,this.getWorksiteActivities(),this.getWorksiteCosts(),this.getWorksiteInstallments(),this.getGeneralCounters(),this.calcLaborCost(),this.readCost();var at=new Date,kn=new Date(this.currentWorksite.end_date).getTime()-at.getTime(),jn=Math.ceil(kn/864e5);document.getElementById("change-worksite-remaining-days-input").value=jn.toString()}getGeneralCounters(){var r=this;return(0,V.A)(function*(){const i=ew();var o=(new Date).getFullYear().toString();const s=yield Cs(_o(as(i,"activities"),Di("worksite_id","==",r.currentWorksite.id),Di("status","==","completed")));document.getElementById("stato-cantiere-table-containter-change-worksite-total-done-activities").innerText="Numero attivit\xe0 completate: "+s.data().count.toString();const a=yield Cs(_o(as(i,"costs"),Di("worksite_id","==",r.currentWorksite.id),Di("status","==","to-order")));document.getElementById("change-worksite-to-order-articles-counter").innerText="Articoli da ordinare: "+a.data().count.toString();const l=yield Cs(_o(as(i,"installments"),Di("worksite_id","==",r.currentWorksite.id),Di("incassata","==","non_incassata")));document.getElementById("change-worksite-non-incassate-installments-input").innerText="Rate da incassare: "+l.data().count.toString(),l.data().count>0?document.getElementById("change-worksite-money-status-input").value="da-saldare":document.getElementById("change-worksite-money-status-input").value="saldato",bn.A.database().ref("counters/worksites/"+o+"/"+r.currentWorksite.id+"/total/").once("value",u=>{const m=u.val();document.getElementById("change-worksite-collection-input").value="\u20ac"+m.incasso})})()}calcLaborCost(){var r=document.getElementById("change-worksite-hourly-cost-input"),i=document.getElementById("change-worksite-employed-workers-input"),o=document.getElementById("change-worksite-labor-hours-input"),s=parseFloat(r.value)||1,a=parseFloat(i.value)||1,l=parseFloat(o.value)||1;document.getElementById("change-worksite-total-labor-cost-input").value="\u20ac"+(s*a*l).toString()}openOrClosePopup1(){const r=document.getElementById("change-worksite-money-status-input");console.log(r.value),"da-saldare"==r.value&&(document.getElementById("popup-stato-amministrativo").style.display="flex"),(r.value="saldato")&&(document.getElementById("popup-stato-amministrativo").style.display="none")}saveWorksite(){var r=document.getElementById("change-worksite-name-input"),i=document.getElementById("change-worksite-partita-iva-input"),o=document.getElementById("change-worksite-code-input"),s=document.getElementById("change-worksite-address-input"),a=document.getElementById("change-worksite-provincia-input"),l=document.getElementById("change-worksite-customer-type-input"),u=document.getElementById("change-worksite-end-date-input"),m=document.getElementById("change-worksite-status-input"),I=document.getElementById("change-worksite-money-status-input"),k=document.getElementById("change-worksite-boss-input"),U=document.getElementById("change-worksite-delay-input"),Y=document.getElementById("change-worksite-hourly-cost-input"),ve=document.getElementById("change-worksite-employed-workers-input"),xe=document.getElementById("change-worksite-labor-hours-input"),st=document.getElementById("change-worksite-collection-input"),at=document.getElementById("change-worksite-pavimentazione-antitraoma-input");this.pavimentazioneAntitraoma=at.checked?"true":"false";var Lt=document.getElementById("change-worksite-pavimentazione-drenante-input");this.pavimentazioneDrenante=Lt.checked?"true":"false";var Yt=document.getElementById("change-worksite-verde-input");this.verde=Yt.checked?"true":"false";var kn=document.getElementById("change-worksite-giochi-input");this.giochi=kn.checked?"true":"false",this.firestore.collection("worksites").doc(this.currentWorksite.id).set({name:r.value,partita_iva:i.value,code:o.value,address:s.value,province:a.value,customer_type:l.value,end_date:u.value,money_status:I.value,status:m.value,boss_uid:k.value,boss_name:k.innerText,delay:U.value,hourly_cost:Y.value,employed_workers:ve.value,labor_hours:xe.value,collection:st.value,timestamp:bn.A.firestore.FieldValue.serverTimestamp(),pavimentazione_antitraoma:this.pavimentazioneAntitraoma,pavimentazione_drenante:this.pavimentazioneDrenante,verde:this.verde,giochi:this.giochi}).then(()=>{this.generalService.presentToast("Cantiere modificato con successo")}).catch(jn=>{this.generalService.presentToast("Errore durante la modifica del cantiere: "+jn.message)})}countSpesa(){return this.worksiteCostsRows.reduce((i,o)=>null!=o.cost?i+parseFloat(o.cost)*parseFloat(o.articles_number):i,0)}getWorksiteActivities(){this.firestore.collection("activities",r=>r.where("worksite_id","==",this.currentWorksite.id).where("group","==","worksite")).valueChanges({idField:"id"}).subscribe(r=>{4===r.length?this.lastVisibleActivities=r[r.length-1]:this.nextPageAvailableActivities=!1,this.documentsActivities.next(r)})}getMoreWorksiteActivities(){this.lastVisibleActivities&&this.firestore.collection("activities",r=>r.limit(4).where("worksite_id","==",this.currentWorksite.id).where("group","==","worksite").startAfter(this.lastVisibleActivities)).valueChanges({idField:"id"}).subscribe(r=>{if(r.length>0){const o=[...this.documentsActivities.getValue(),...r];this.documentsActivities.next(o),4===r.length?this.lastVisibleActivities=r[r.length-1]:this.nextPageAvailableActivities=!1}else this.nextPageAvailableActivities=!1})}getWorksiteCosts(){this.firestore.collection("costs",r=>r.where("worksite_id","==",this.currentWorksite.id).where("group","==","worksite")).valueChanges({idField:"id"}).subscribe(r=>{4===r.length?this.lastVisibleCosts=r[r.length-1]:this.nextPageAvailableCosts=!1,this.documentsCosts.next(r)})}readCost(){var r=this;return(0,V.A)(function*(){try{const i=bn.A.database().ref("/counters/worksites/"+(new Date).getFullYear().toString()+"/"+r.currentWorksite.id+"/total/"),o=yield Sk(Lp(i,"cost"));o.exists()?document.getElementById("change-worksite-total-cost-counter").innerText="Spesa totale: \u20ac"+o.val():document.getElementById("change-worksite-total-cost-counter").innerText="Spesa totale: \u20ac0"}catch(i){r.generalService.presentToast("Errore durante la lettura del costo della spesa cantiere: "+i.message)}})()}getMoreWorksiteCosts(){this.lastVisibleCosts&&this.firestore.collection("costs",r=>r.limit(4).where("worksite_id","==",this.currentWorksite.id).where("group","==","worksite").startAfter(this.lastVisibleCosts)).valueChanges({idField:"id"}).subscribe(r=>{if(r.length>0){const o=[...this.documentsCosts.getValue(),...r];this.documentsCosts.next(o),4===r.length?this.lastVisibleCosts=r[r.length-1]:this.nextPageAvailableCosts=!1}else this.nextPageAvailableCosts=!1})}getWorksiteInstallments(){this.firestore.collection("installments",r=>r.where("worksite_id","==",this.currentWorksite.id).where("group","==","worksite")).valueChanges({idField:"id"}).subscribe(r=>{4===r.length?this.lastVisibleInstallments=r[r.length-1]:this.nextPageAvailableInstallments=!1,this.documentsInstallments.next(r)})}getMoreWorksiteInstallments(){this.lastVisibleInstallments&&this.firestore.collection("installments",r=>r.limit(4).where("worksite_id","==",this.currentWorksite.id).where("group","==","worksite").startAfter(this.lastVisibleInstallments)).valueChanges({idField:"id"}).subscribe(r=>{if(r.length>0){const o=[...this.documentsInstallments.getValue(),...r];this.documentsInstallments.next(o),4===r.length?this.lastVisibleInstallments=r[r.length-1]:this.nextPageAvailableInstallments=!1}else this.nextPageAvailableInstallments=!1})}addWorksiteCounts(r){var i=(new Date).getFullYear().toString();bn.A.database().ref("/counters/worksites/"+i+"/"+r+"/").transaction(o=>null===o?{fatturato:this.countFatturato(),incasso:this.countIncasso()}:{fatturato:(o.fatturato||0)+this.countFatturato(),incasso:(o.incasso||0)+this.countIncasso()}).catch(o=>{this.generalService.presentToast("Errore durante l'incremento dei contatori del cantiere: "+o.message)}),bn.A.database().ref("/counters/worksites/"+i+"/general/").transaction(o=>null===o?{fatturato:this.countFatturato(),incasso:this.countIncasso()}:{fatturato:(o.fatturato||0)+this.countFatturato(),incasso:(o.incasso||0)+this.countIncasso()}).catch(o=>{this.generalService.presentToast("Errore durante l'incremento dei contatori del cantiere: "+o.message)}),bn.A.database().ref("/counters/worksites/"+i+"/general/"+parseFloat(((new Date).getMonth()+1).toString())+"/").transaction(o=>null===o?{fatturato:this.countFatturato(),incasso:this.countIncasso()}:{fatturato:(o.fatturato||0)+this.countFatturato(),incasso:(o.incasso||0)+this.countIncasso()}).catch(o=>{this.generalService.presentToast("Errore durante l'incremento dei contatori del cantiere: "+o.message)})}countFatturato(){return this.installmentsRows.reduce((i,o)=>"fatturata"===o.fatturata?i+parseFloat(o.amount):i,0)}countIncasso(){return this.installmentsRows.reduce((i,o)=>"incassata"===o.incassata?i+parseFloat(o.amount):i,0)}addInstallment(){bn.A.firestore().collection("installments").doc().set({name:document.getElementById("change-worksite-installment-name-input").value,amount:document.getElementById("change-worksite-installment-amount-input").value,fatturata:document.getElementById("change-worksite-installment-fatturata-input").value,data_fattura:document.getElementById("change-worksite-installment-data-fattura-input").value,incassata:document.getElementById("change-worksite-installment-incassata-input").value,data_incasso:document.getElementById("change-worksite-installment-data-incasso-input").value,worksite_id:this.currentWorksite.id,worksite_name:this.currentWorksite.name,timestamp:bn.A.firestore.FieldValue.serverTimestamp(),group:"worksite"}).catch(o=>{this.generalService.presentToast("Errore durante l'aggiornamento dei contatori: "+o.message)});var i=parseFloat(document.getElementById("change-worksite-installment-amount-input").value);this.updateCounterAnnuale(i),this.updateCounterMensile(i)}updateCounterAnnuale(r){var i=(new Date).getFullYear().toString();const o=bn.A.database().ref("/counters/worksites/"+i+"/general/total/");"fatturata"==document.getElementById("change-worksite-installment-fatturata-input").value&&o.child("fatturato").transaction(s=>null===s?r:s+r).catch(s=>{this.generalService.presentToast("Errore durante l'incremento del fatturato annuale: "+s.message)}),"incassata"==document.getElementById("change-worksite-installment-incassata-input").value&&o.child("incasso").transaction(s=>null===s?r:s+r).catch(s=>{this.generalService.presentToast("Errore durante l'incremento dell'incasso annuale: "+s.message)}),"fatturata"==document.getElementById("change-worksite-installment-fatturata-input").value&&bn.A.database().ref("/counters/worksites/"+i+"/"+this.currentWorksite.id+"/total/").child("fatturato").transaction(s=>null===s?r:s+r).catch(s=>{this.generalService.presentToast("Errore durante l'incremento del fatturato annuale: "+s.message)}),"incassata"==document.getElementById("change-worksite-installment-incassata-input").value&&bn.A.database().ref("/counters/worksites/"+i+"/"+this.currentWorksite.id+"/total/").child("incasso").transaction(s=>null===s?r:s+r).catch(s=>{this.generalService.presentToast("Errore durante l'incremento dell'incasso annuale: "+s.message)})}updateCounterMensile(r){var i=(new Date).getFullYear().toString(),o=((new Date).getMonth()+1).toString();const s=bn.A.database().ref("/counters/worksites/"+i+"/general/"+parseFloat(((new Date).getMonth()+1).toString())+"/");"fatturata"==document.getElementById("change-worksite-installment-fatturata-input").value&&s.child("fatturato").transaction(a=>null===a?r:a+r).catch(a=>{this.generalService.presentToast("Errore durante l'incremento del fatturato mensile: "+a.message)}),"incassata"==document.getElementById("change-worksite-installment-incassata-input").value&&s.child("incasso").transaction(a=>null===a?r:a+r).catch(a=>{this.generalService.presentToast("Errore durante l'incremento dell'incasso mensile: "+a.message)}),"fatturata"==document.getElementById("change-worksite-installment-fatturata-input").value&&bn.A.database().ref("/counters/worksites/"+i+"/"+this.currentWorksite.id+"/"+o+"/").child("fatturato").transaction(a=>null===a?r:a+r).catch(a=>{this.generalService.presentToast("Errore durante l'incremento del fatturato annuale: "+a.message)}),"incassata"==document.getElementById("change-worksite-installment-incassata-input").value&&bn.A.database().ref("/counters/worksites/"+i+"/"+this.currentWorksite.id+"/"+o+"/").child("incasso").transaction(a=>null===a?r:a+r).catch(a=>{this.generalService.presentToast("Errore durante l'incremento dell'incasso annuale: "+a.message)})}removeInstallment(r){if(confirm("Sei sicuro di voler eliminare questa rata?")){this.firestore.collection("installments").doc(r.id).delete().then(()=>{this.generalService.presentToast("Rata eliminata con successo: ")}).catch(a=>{this.generalService.presentToast("Errore durante l'eliminazione della rata: "+a.message)});var i=(new Date).getFullYear().toString();const o=bn.A.database().ref("/counters/"+this.generalService.currentChangingElement+"/"+i+"/general/total/");"fatturata"==r.fatturata&&o.child("fatturato").transaction(a=>{const l=parseFloat(a)-parseFloat(r.amount);return isNaN(l)?0:l}).catch(a=>{this.generalService.presentToast("Errore durante l'eliminazione della rata (ERRORE TIPO COUNT): "+a.message)}),"incassata"==r.incassata&&o.child("incasso").transaction(a=>{const l=parseFloat(a)-parseFloat(r.amount);return isNaN(l)?0:l}).catch(a=>{this.generalService.presentToast("Errore durante l'eliminazione della rata (ERRORE TIPO COUNT): "+a.message)});const s=bn.A.database().ref("/counters/"+this.generalService.currentChangingElement+"/"+i+"/general/"+((new Date).getMonth()+1).toString()+"/");"fatturata"==r.fatturata&&s.child("fatturato").transaction(a=>{const l=parseFloat(a)-parseFloat(r.amount);return isNaN(l)?0:l}).catch(a=>{this.generalService.presentToast("Errore durante l'aggiornamento del fatturato annuale: "+a.message)}),"incassata"==r.incassata&&s.child("incasso").transaction(a=>{const l=parseFloat(a)-parseFloat(r.amount);return isNaN(l)?0:l}).catch(a=>{this.generalService.presentToast("Errore durante l'aggiornamento dell'incasso annuale: "+a.message)}),"fatturata"==r.fatturata&&bn.A.database().ref("/counters/"+this.generalService.currentChangingElement+"/"+i+"/"+this.currentWorksite.id+"/"+((new Date).getMonth()+1).toString()+"/").child("fatturato").transaction(a=>{const l=parseFloat(a)-parseFloat(r.amount);return isNaN(l)?0:l}).catch(a=>{this.generalService.presentToast("Errore durante l'aggiornamento del fatturato annuale: "+a.message)}),"incassata"==r.incassata&&bn.A.database().ref("/counters/"+this.generalService.currentChangingElement+"/"+i+"/"+this.currentWorksite.id+"/"+((new Date).getMonth()+1).toString()+"/").child("incasso").transaction(a=>{const l=parseFloat(a)-parseFloat(r.amount);return isNaN(l)?0:l}).catch(a=>{this.generalService.presentToast("Errore durante l'aggiornamento dell'incasso annuale: "+a.message)}),"fatturata"==r.fatturata&&bn.A.database().ref("/counters/"+this.generalService.currentChangingElement+"/"+i+"/"+this.currentWorksite.id+"/total/").child("fatturato").transaction(a=>{const l=parseFloat(a)-parseFloat(r.amount);return isNaN(l)?0:l}).catch(a=>{this.generalService.presentToast("Errore durante l'aggiornamento del fatturato annuale: "+a.message)}),"incassata"==r.incassata&&bn.A.database().ref("/counters/"+this.generalService.currentChangingElement+"/"+i+"/"+this.currentWorksite.id+"/total/").child("incasso").transaction(a=>{const l=parseFloat(a)-parseFloat(r.amount);return isNaN(l)?0:l}).catch(a=>{this.generalService.presentToast("Errore durante l'aggiornamento dell'incasso annuale: "+a.message)})}}changeInstallment(r){this.generalService.currentInstallment=r,this.router.navigate(["/change-installment"])}addCost(){this.firestore.collection("costs").doc().set({articles_number:document.getElementById("change-worksite-cost-articles-number-input").value,description:document.getElementById("change-worksite-cost-description-input").value,cost:document.getElementById("change-worksite-cost-cost-input").value,status:document.getElementById("change-worksite-cost-status-input").value,worksite_id:this.currentWorksite.id,worksite_name:this.currentWorksite.name,timestamp:bn.A.firestore.FieldValue.serverTimestamp(),group:"worksite"});const r=document.getElementById("change-worksite-cost-cost-input"),i=document.getElementById("change-worksite-cost-articles-number-input"),o=parseFloat(r.value),s=parseFloat(i.value);if(isNaN(o)||isNaN(s))return void this.generalService.presentToast("Alcuni numeri non sono validi");const a=o*s;isNaN(a)?this.generalService.presentToast("Il calcolo ha come risultato un numero non valido"):(this.updateCostCounterAnnuale(a),this.updateCostCounterMensile(a))}updateCostCounterAnnuale(r){var i=(new Date).getFullYear().toString();bn.A.database().ref("/counters/worksites/"+i+"/general/total/").child("spesa").transaction(s=>null===s?r:s+r).catch(s=>{this.generalService.presentToast("Errore durante l'incremento del costo annuale: "+s.message)}),bn.A.database().ref("/counters/worksites/"+i+"/"+this.currentWorksite.id+"/total/").child("spesa").transaction(s=>null===s?r:s+r).catch(s=>{this.generalService.presentToast("Errore durante l'incremento del costo annuale: "+s.message)})}updateCostCounterMensile(r){var i=(new Date).getFullYear().toString(),o=((new Date).getMonth()+1).toString();bn.A.database().ref("/counters/worksites/"+i+"/general/"+parseFloat(((new Date).getMonth()+1).toString())+"/").child("spesa").transaction(a=>null===a?r:a+r).catch(a=>{this.generalService.presentToast("Errore durante l'incremento del fatturato mensile: "+a.message)}),bn.A.database().ref("/counters/worksites/"+i+"/"+this.currentWorksite.id+"/"+o+"/").child("spesa").transaction(a=>null===a?r:a+r).catch(a=>{this.generalService.presentToast("Errore durante l'incremento del fatturato annuale: "+a.message)})}removeCost(r){confirm("Sei sicuro di voler eliminare questa spesa?")&&this.firestore.collection("costs").doc(r.id).delete().then(()=>{const s=parseFloat(r.cost)*parseFloat(r.articles_number);var a=(new Date).getFullYear().toString();bn.A.database().ref("/counters/"+this.generalService.currentChangingElement+"/"+a+"/general/total/").child("spesa").transaction(m=>{const I=parseFloat(m)-s;return isNaN(I)?0:I}).catch(m=>{this.generalService.presentToast("Errore durante l'eliminazione della rata (ERRORE TIPO COUNT): "+m.message)}),bn.A.database().ref("/counters/"+this.generalService.currentChangingElement+"/"+a+"/general/"+((new Date).getMonth()+1).toString()+"/").child("spesa").transaction(m=>{const I=parseFloat(m)-s;return isNaN(I)?0:I}).catch(m=>{this.generalService.presentToast("Errore durante l'aggiornamento del fatturato annuale: "+m.message)}),bn.A.database().ref("/counters/"+this.generalService.currentChangingElement+"/"+a+"/"+this.currentWorksite.id+"/"+((new Date).getMonth()+1).toString()+"/").child("spesa").transaction(m=>{const I=parseFloat(m)-s;return isNaN(I)?0:I}).catch(m=>{this.generalService.presentToast("Errore durante l'aggiornamento del fatturato annuale: "+m.message)}),bn.A.database().ref("/counters/"+this.generalService.currentChangingElement+"/"+a+"/"+this.currentWorksite.id+"/total/").child("spesa").transaction(m=>{const I=parseFloat(m)-s;return isNaN(I)?0:I}).catch(m=>{this.generalService.presentToast("Errore durante l'aggiornamento del fatturato annuale: "+m.message)}),this.generalService.presentToast("Spesa eliminata con successo: ")}).catch(i=>{this.generalService.presentToast("Errore durante l'eliminazione della spesa: "+i.message)})}changeCost(r){this.generalService.currentCost=r,this.router.navigate(["/change-cost"])}addWorksiteActivity(){this.firestore.collection("activities").doc().set({activity:document.getElementById("activity-name-input").value,status:document.getElementById("activity-status-input").value,priority:document.getElementById("activity-priority-input").value,worksite_id:this.currentWorksite.id,worksite_name:this.currentWorksite.name,timestamp:bn.A.firestore.FieldValue.serverTimestamp(),group:"worksite"})}removeWorksiteActivity(r){confirm("Sei sicuro di voler eliminare questa attivit\xe0?")&&this.firestore.collection("activities").doc(r.id).delete().then(()=>{this.generalService.presentToast("Attivit\xe0 eliminata con successo: ")}).catch(i=>{this.generalService.presentToast("Errore durante l'eliminazione dell'attivit\xe0: "+i.message)})}changeActivity(r){this.generalService.currentActivity=r,this.router.navigate(["/change-activity"])}}return(t=e).\u0275fac=function(r){return new(r||t)(q(oc),q(Ml),q(Jo))},t.\u0275cmp=J({type:t,selectors:[["app-change-worksite"]],decls:530,vars:9,consts:[["id","add-worksite",2,"height","100%","width","100%","display","flex","flex-direction","column","padding-left","1rem","padding-right","1rem","overflow-y","auto","overflow-x","hidden","padding-bottom","7rem"],[2,"width","100%","display","grid","grid-template-columns","repeat(auto-fit, minmax(200px, 1fr))","grid-gap","10px","margin-top","4rem"],[1,"inputGroup",2,"width","100%"],["id","change-worksite-name-input","type","text","value","Palazzo economo e magazzino 20",1,"input-field3"],["for","change-worksite-name-input"],[1,"inputGroup",2,"display","inline-grid"],["id","change-worksite-partita-iva-input","type","text",1,"input-field3"],["for","change-worksite-partita-iva-input"],["id","change-worksite-code-input","type","text",1,"input-field3"],["for","change-worksite-code-input"],[2,"width","100%","display","grid","grid-template-columns","repeat(auto-fit, minmax(200px, 1fr))","grid-gap","10px"],[1,"inputGroup",2,"display","inline-grid","width","calc(100% -10rem)"],["id","change-worksite-address-input","type","text",1,"input-field3"],["for","change-worksite-address-input"],[2,"display","inline-grid","flex-direction","column"],[2,"margin-bottom","-1.5rem","z-index","2","background","white","margin-left","1.5rem","font-size","14px","color","rgb(100, 100, 100)","width","6rem","text-align","center"],[1,"inputGroup"],["id","change-worksite-provincia-input",1,"selector1",2,"width","100%"],["value","Alessandria"],["value","Ancona"],["value","Arezzo"],["value","Ascoli Piceno"],["value","Asti"],["value","Avellino"],["value","Bari"],["value","Barletta-Andria-Trani"],["value","Belluno"],["value","Benevento"],["value","Bergamo"],["value","Biella"],["value","Bologna"],["value","Bolzano"],["value","Brescia"],["value","Brindisi"],["value","Cagliari"],["value","Caltanissetta"],["value","Campobasso"],["value","Caserta"],["value","Catania"],["value","Catanzaro"],["value","Chieti"],["value","Como"],["value","Cosenza"],["value","Cremona"],["value","Crotone"],["value","Cuneo"],["value","Enna"],["value","Fermo"],["value","Ferrara"],["value","Firenze"],["value","Foggia"],["value","Forl\xec"],["value","Frosinone"],["value","Genova"],["value","Gorizia"],["value","Grosseto"],["value","Imperia"],["value","Isernia"],["value","La Spezia"],["value","L'Aquila"],["value","Latina"],["value","Lecce"],["value","Lecco"],["value","Livorno"],["value","Lodi"],["value","Lucca"],["value","Macerata"],["value","Mantova"],["value","Massa-Carrara"],["value","Matera"],["value","Messina"],["value","Milano"],["value","Modena"],["value","Monza e della Brianza"],["value","Napoli"],["value","Novara"],["value","Nuoro"],["value","Ogliastra"],["value","Oristano"],["value","Padova"],["value","Palermo"],["value","Parma"],["value","Pavia"],["value","Perugia"],["value","Pesaro e Urbino"],["value","Pescara"],["value","Piacenza"],["value","Pisa"],["value","Pistoia"],["value","Pordenone"],["value","Potenza"],["value","Prato"],["value","Ragusa"],["value","Ravenna"],["value","Reggio Calabria"],["value","Reggio nell'Emilia"],["value","Rieti"],["value","Rimini"],["value","Roma"],["value","Rovigo"],["value","Salerno"],["value","Sassari"],["value","Savona"],["value","Siena"],["value","Siracusa"],["value","Sondrio"],["value","Sud Sardegna"],["value","Taranto"],["value","Teramo"],["value","Terni"],["value","Torino"],["value","Trapani"],["value","Trento"],["value","Treviso"],["value","Trieste"],["value","Udine"],["value","Valle d'Aosta"],["value","Varese"],["value","Venezia"],["value","Verbano-Cusio-Ossola"],["value","Vercelli"],["value","Verona"],["value","Vibo Valentia"],["value","Vicenza"],["value","Viterbo"],[2,"width","100%","display","grid","grid-template-columns","repeat(auto-fit, minmax(200px, 1fr))","grid-gap","10px","align-items","center"],[2,"display","flex","flex-direction","column","overflow","hidden"],["id","change-worksite-customer-type-input",1,"selector1",2,"width","100%"],["value","public-administration"],["value","private"],[2,"display","flex","flex-direction","row","overflow-x","auto","align-items","center","border","2px solid #19212d !important","border-radius","20px","height","3.4rem","gap","1rem"],[2,"display","flex","flex-direction","row","align-items","center","gap","0.5rem"],["id","change-worksite-pavimentazione-antitraoma-input","type","checkbox",1,"input-field3",2,"width","1rem","height","1rem"],[2,"margin-top","0.2rem","margin-bottom","0.2rem","width","8rem"],["id","change-worksite-pavimentazione-drenante-input","type","checkbox",1,"input-field3",2,"width","1rem","height","1rem"],["id","change-worksite-verde-input","type","checkbox",1,"input-field3",2,"width","1rem","height","1rem"],[2,"margin-top","0.2rem","margin-bottom","0.2rem"],["id","change-worksite-giochi-input","type","checkbox",1,"input-field3",2,"width","1rem","height","1rem"],["id","change-worksite-end-date-input","type","date",1,"input-field3"],["for","change-worksite-end-date-input"],[2,"display","flex","flex-direction","column","margin-top","0.4rem"],["id","change-worksite-status-input",1,"selector1",2,"width","100%"],["value","to-start"],["value","doing"],["value","finished"],[2,"margin-bottom","-1.5rem","z-index","2","background","white","margin-left","1.5rem","font-size","14px","color","rgb(100, 100, 100)","width","10rem","text-align","center"],["id","change-worksite-money-status-input",1,"selector1",2,"width","100%"],["value","da-saldare"],["value","saldato"],["onclick","if(document.getElementById('popup-stato-amministrativo').style.display == 'none' ){document.getElementById('popup-stato-amministrativo').style.display = 'flex'; }else{document.getElementById('popup-stato-amministrativo').style.display = 'none'; }",2,"width","100%","display","flex","flex-direction","row","align-items","center","padding-top","1rem","padding-bottom","1rem","cursor","pointer"],[2,"margin-top","0rem","margin-bottom","0rem"],[1,"material-symbols-outlined","notranslate"],["id","popup-stato-amministrativo",1,"table-container",2,"width","100%","display","none","flex-direction","column","padding-bottom","3rem","border","1px solid rgba(0, 0, 0, 0.091)","border-end-start-radius","1rem","border-end-end-radius","1rem"],[2,"width","100%","display","flex","flex-direction","row","align-items","center","gap","1rem","padding-left","1rem","flex-wrap","wrap","padding-bottom","2rem"],["id","change-worksite-installment-name-input","type","text",1,"input-field3"],["for","change-worksite-installment-name-input"],[1,"inputGroup",2,"width","8rem"],["id","change-worksite-installment-amount-input","type","number",1,"input-field3"],["for","change-worksite-installment-amount-input"],[2,"margin-bottom","-1.5rem","z-index","2","background","white","margin-left","1.5rem","font-size","14px","color","rgb(100, 100, 100)","width","8rem","text-align","center"],["id","change-worksite-installment-fatturata-input",1,"selector1",2,"width","100%"],["value","non_fatturata"],["value","fatturata"],["id","change-worksite-installment-data-fattura-input","type","date",1,"input-field3"],["for","change-worksite-installment-data-fattura-input"],[2,"display","flex","flex-direction","column","margin-top","0.4rem","width","8rem"],[2,"margin-bottom","-1.5rem","z-index","2","background","white","margin-left","1.5rem","font-size","14px","color","rgb(100, 100, 100)","width","auto"],["id","change-worksite-installment-incassata-input",1,"selector1",2,"width","100%"],["value","non_incassata"],["value","incassata"],["id","change-worksite-installment-data-incasso-input","type","date",1,"input-field3"],["for","change-worksite-installment-data-incasso-input"],[1,"button5",2,"height","3rem","padding-left","0.5rem","padding-right","0.5rem","margin-top","1rem","margin-bottom","1rem","width","8rem","height","3rem",3,"click"],["id","change-worksite-non-incassate-installments-input",2,"margin-top","0.5rem","margin-bottom","0.5rem"],[2,"width","100%","overflow-x","auto"],[1,"table",2,"width","100%"],[2,"height","2.5rem"],[1,"table-th",2,"width","10rem"],[1,"table-th",2,"width","3rem"],[4,"ngFor","ngForOf"],[2,"width","100%","display","flex","flex-direction","column","align-items","center"],[2,"width","95%","height","2.5rem","border-radius","0.5rem","margin-top","1rem","margin-bottom","1rem","flex-shrink","0",3,"click"],["id","change-worksite-boss-input",1,"selector1",2,"width","100%"],["id","change-worksite-remaining-days-input","type","number",1,"input-field3"],["for","change-worksite-remaining-days-input"],["id","change-worksite-delay-input","type","number",1,"input-field3"],["for","change-worksite-delay-input"],["id","change-worksite-hourly-cost-input","type","number",1,"input-field3",3,"input"],["for","change-worksite-hourly-cost-input"],["id","change-worksite-employed-workers-input","type","number",1,"input-field3",3,"input"],["id","change-worksite-employed-workers-input"],["id","change-worksite-labor-hours-input","type","number",1,"input-field3",3,"input"],["for","change-worksite-labor-hours-input"],["id","change-worksite-total-labor-cost-input","readonly","","type","text",1,"input-field3"],["for","change-worksite-total-labor-cost-input"],["id","change-worksite-collection-input","readonly","","type","text",1,"input-field3"],["for","change-worksite-collection-input"],[1,"inputGroup",2,"display","inline-grid","width","100%"],["id","change-worksite-productivity-input","readonly","","type","text",1,"input-field3"],["for","change-worksite-productivity-input"],[2,"width","100%"],["onclick","if(document.getElementById('stato-cantiere-table-containter-change-worksite').style.display =='none' ){document.getElementById('stato-cantiere-table-containter-change-worksite').style.display = 'flex';}else{document.getElementById('stato-cantiere-table-containter-change-worksite').style.display = 'none'; }",2,"width","100%","display","flex","flex-direction","row","align-items","center","padding-top","1rem","padding-bottom","1rem","cursor","pointer"],["id","stato-cantiere-table-containter-change-worksite",2,"display","none","flex-direction","column","width","100%"],["id","stato-cantiere-table-containter-change-worksite-total-done-activities"],[2,"width","100%","display","flex","flex-direction","row","align-items","center","gap","1rem","padding-left","1rem","flex-wrap","wrap","padding-bottom","1rem"],["id","activity-name-input","type","text",1,"input-field3"],["for","activity-name-input"],["id","activity-status-input",1,"selector1",2,"width","100%"],["value","to-do"],["value","completed"],["value","not_started"],["value","pending"],["value","timed_out"],["id","activity-priority-input",1,"selector1",2,"width","100%"],["value","3"],["value","2"],["value","1"],[1,"table-th",2,"width","5rem"],[1,"table-th",2,"width","2rem !important"],["onclick","if(document.getElementById('spesa-cantiere-table-containter-change-worksite').style.display =='none' ){document.getElementById('spesa-cantiere-table-containter-change-worksite').style.display = 'flex'; }else{document.getElementById('spesa-cantiere-table-containter-change-worksite').style.display = 'none'; }",2,"width","100%","display","flex","flex-direction","row","align-items","center","padding-top","1rem","padding-bottom","1rem","cursor","pointer"],["id","spesa-cantiere-table-containter-change-worksite",2,"display","none","flex-direction","column","width","100%"],["id","popup-stato-amministrativo",1,"table-container",2,"width","100%","display","flex","flex-direction","column","padding-bottom","1rem"],["id","change-worksite-cost-articles-number-input","type","number",1,"input-field3"],["for","change-worksite-cost-articles-number-input"],[1,"inputGroup",2,"width","15rem"],["id","change-worksite-cost-description-input","type","text",1,"input-field3"],["for","change-worksite-cost-description-input"],[1,"inputGroup",2,"width","12rem"],["id","change-worksite-cost-cost-input","type","number",1,"input-field3"],["for","change-worksite-cost-cost-input"],["id","change-worksite-cost-status-input",1,"selector1",2,"width","100%"],["value","to-order"],["value","arriving"],["value","arrived"],["id","change-worksite-total-cost-counter",2,"margin-bottom","0.5rem"],["id","change-worksite-to-order-articles-counter",2,"margin-top","0rem","margin-bottom","0.5rem"],[2,"display","flex","flex-direction","column-reverse","width","100%","position","absolute","z-index","2","pointer-events","none","height","100%"],[2,"width","calc( 100% - 2rem )","display","grid","grid-template-columns","repeat(auto-fit, minmax(200px, 1fr))","gap","1rem","background","white","padding-bottom","1rem","padding-top","1rem","pointer-events","all","border-top","1px solid rgba(0, 0, 0, 0.119)"],[1,"button5",2,"height","2.5rem","padding-left","0.5rem","padding-right","0.5rem","margin-top","1rem","margin-bottom","1rem","border-radius","2rem","font-weight","bold","font-size","1rem",3,"click"],["routerLink","/worksites",1,"button5",2,"height","2.5rem","padding-left","0.5rem","padding-right","0.5rem","margin-top","1rem","margin-bottom","1rem","border-radius","2rem","font-weight","bold","font-size","1rem"],[2,"flex","1"],[2,"width","calc(100% - 2rem)","display","flex","flex-direction","row","align-items","center","padding-bottom","1rem","background","white","flex-shrink","0","pointer-events","all","border-bottom","1px solid rgba(0, 0, 0, 0.119)"],[2,"margin-bottom","0rem"],[1,"table-td"],[1,"table-td",2,"display","flex","flex-direction","row","align-items","center","gap","0.5rem","overflow-y","hidden"],[1,"btn","btn-danger",2,"border-radius","50%","width","2rem","height","2rem","display","flex","align-items","center","justify-content","center",3,"click"],[4,"ngIf"]],template:function(r,i){1&r&&(d(0,"div",0)(1,"div",1)(2,"div",2),vt(3,"input",3),d(4,"label",4),b(5,"Nome cantiere"),v()(),d(6,"div",5),vt(7,"input",6),d(8,"label",7),b(9,"Partita Iva"),v()(),d(10,"div",5),vt(11,"input",8),d(12,"label",9),b(13,"Codice cantiere"),v()()(),d(14,"div",10)(15,"div",11),vt(16,"input",12),d(17,"label",13),b(18,"Indirizzo"),v()(),d(19,"div",14)(20,"label",15),b(21,"Provincia"),v(),d(22,"div",16)(23,"select",17)(24,"option",18),b(25,"Alessandria"),v(),d(26,"option",19),b(27,"Ancona"),v(),d(28,"option",20),b(29,"Arezzo"),v(),d(30,"option",21),b(31,"Ascoli Piceno"),v(),d(32,"option",22),b(33,"Asti"),v(),d(34,"option",23),b(35,"Avellino"),v(),d(36,"option",24),b(37,"Bari"),v(),d(38,"option",25),b(39,"Barletta-Andria-Trani"),v(),d(40,"option",26),b(41,"Belluno"),v(),d(42,"option",27),b(43,"Benevento"),v(),d(44,"option",28),b(45,"Bergamo"),v(),d(46,"option",29),b(47,"Biella"),v(),d(48,"option",30),b(49,"Bologna"),v(),d(50,"option",31),b(51,"Bolzano"),v(),d(52,"option",32),b(53,"Brescia"),v(),d(54,"option",33),b(55,"Brindisi"),v(),d(56,"option",34),b(57,"Cagliari"),v(),d(58,"option",35),b(59,"Caltanissetta"),v(),d(60,"option",36),b(61,"Campobasso"),v(),d(62,"option",37),b(63,"Caserta"),v(),d(64,"option",38),b(65,"Catania"),v(),d(66,"option",39),b(67,"Catanzaro"),v(),d(68,"option",40),b(69,"Chieti"),v(),d(70,"option",41),b(71,"Como"),v(),d(72,"option",42),b(73,"Cosenza"),v(),d(74,"option",43),b(75,"Cremona"),v(),d(76,"option",44),b(77,"Crotone"),v(),d(78,"option",45),b(79,"Cuneo"),v(),d(80,"option",46),b(81,"Enna"),v(),d(82,"option",47),b(83,"Fermo"),v(),d(84,"option",48),b(85,"Ferrara"),v(),d(86,"option",49),b(87,"Firenze"),v(),d(88,"option",50),b(89,"Foggia"),v(),d(90,"option",51),b(91,"Forl\xec-Cesena"),v(),d(92,"option",52),b(93,"Frosinone"),v(),d(94,"option",53),b(95,"Genova"),v(),d(96,"option",54),b(97,"Gorizia"),v(),d(98,"option",55),b(99,"Grosseto"),v(),d(100,"option",56),b(101,"Imperia"),v(),d(102,"option",57),b(103,"Isernia"),v(),d(104,"option",58),b(105,"La Spezia"),v(),d(106,"option",59),b(107,"L'Aquila"),v(),d(108,"option",60),b(109,"Latina"),v(),d(110,"option",61),b(111,"Lecce"),v(),d(112,"option",62),b(113,"Lecco"),v(),d(114,"option",63),b(115,"Livorno"),v(),d(116,"option",64),b(117,"Lodi"),v(),d(118,"option",65),b(119,"Lucca"),v(),d(120,"option",66),b(121,"Macerata"),v(),d(122,"option",67),b(123,"Mantova"),v(),d(124,"option",68),b(125,"Massa-Carrara"),v(),d(126,"option",69),b(127,"Matera"),v(),d(128,"option",70),b(129,"Messina"),v(),d(130,"option",71),b(131,"Milano"),v(),d(132,"option",72),b(133,"Modena"),v(),d(134,"option",73),b(135,"Monza e della Brianza"),v(),d(136,"option",74),b(137,"Napoli"),v(),d(138,"option",75),b(139,"Novara"),v(),d(140,"option",76),b(141,"Nuoro"),v(),d(142,"option",77),b(143,"Ogliastra"),v(),d(144,"option",78),b(145,"Oristano"),v(),d(146,"option",79),b(147,"Padova"),v(),d(148,"option",80),b(149,"Palermo"),v(),d(150,"option",81),b(151,"Parma"),v(),d(152,"option",82),b(153,"Pavia"),v(),d(154,"option",83),b(155,"Perugia"),v(),d(156,"option",84),b(157,"Pesaro e Urbino"),v(),d(158,"option",85),b(159,"Pescara"),v(),d(160,"option",86),b(161,"Piacenza"),v(),d(162,"option",87),b(163,"Pisa"),v(),d(164,"option",88),b(165,"Pistoia"),v(),d(166,"option",89),b(167,"Pordenone"),v(),d(168,"option",90),b(169,"Potenza"),v(),d(170,"option",91),b(171,"Prato"),v(),d(172,"option",92),b(173,"Ragusa"),v(),d(174,"option",93),b(175,"Ravenna"),v(),d(176,"option",94),b(177,"Reggio Calabria"),v(),d(178,"option",95),b(179,"Reggio nell'Emilia"),v(),d(180,"option",96),b(181,"Rieti"),v(),d(182,"option",97),b(183,"Rimini"),v(),d(184,"option",98),b(185,"Roma"),v(),d(186,"option",99),b(187,"Rovigo"),v(),d(188,"option",100),b(189,"Salerno"),v(),d(190,"option",101),b(191,"Sassari"),v(),d(192,"option",102),b(193,"Savona"),v(),d(194,"option",103),b(195,"Siena"),v(),d(196,"option",104),b(197,"Siracusa"),v(),d(198,"option",105),b(199,"Sondrio"),v(),d(200,"option",106),b(201,"Sud Sardegna"),v(),d(202,"option",107),b(203,"Taranto"),v(),d(204,"option",108),b(205,"Teramo"),v(),d(206,"option",109),b(207,"Terni"),v(),d(208,"option",110),b(209,"Torino"),v(),d(210,"option",111),b(211,"Trapani"),v(),d(212,"option",112),b(213,"Trento"),v(),d(214,"option",113),b(215,"Treviso"),v(),d(216,"option",114),b(217,"Trieste"),v(),d(218,"option",115),b(219,"Udine"),v(),d(220,"option",116),b(221,"Valle d'Aosta"),v(),d(222,"option",117),b(223,"Varese"),v(),d(224,"option",118),b(225,"Venezia"),v(),d(226,"option",119),b(227,"Verbano-Cusio-Ossola"),v(),d(228,"option",120),b(229,"Vercelli"),v(),d(230,"option",121),b(231,"Verona"),v(),d(232,"option",122),b(233,"Vibo Valentia"),v(),d(234,"option",123),b(235,"Vicenza"),v(),d(236,"option",124),b(237,"Viterbo"),v()()()()(),d(238,"div",125)(239,"div",126)(240,"label",15),b(241,"Tipo cliente"),v(),d(242,"div",16)(243,"select",127)(244,"option",128),b(245,"Pubblica Amministrazione"),v(),d(246,"option",129),b(247,"Privato"),v()()()(),d(248,"div",130)(249,"div",131),vt(250,"input",132),d(251,"p",133),b(252,"Pavimentazione antitraoma"),v()(),d(253,"div",131),vt(254,"input",134),d(255,"p",133),b(256,"Pavimentazione drenante"),v()(),d(257,"div",131),vt(258,"input",135),d(259,"p",136),b(260,"Verde"),v()(),d(261,"div",131),vt(262,"input",137),d(263,"p",136),b(264,"Giochi"),v()()()(),d(265,"div",10)(266,"div",16),vt(267,"input",138),d(268,"label",139),b(269,"Data scadenza"),v()(),d(270,"div",140)(271,"label",15),b(272,"Stato cantiere"),v(),d(273,"div",16)(274,"select",141)(275,"option",142),b(276,"Da iniziare"),v(),d(277,"option",143),b(278,"In corso"),v(),d(279,"option",144),b(280,"Concluso"),v()()()(),d(281,"div",140)(282,"label",145),b(283,"Stato amministrativo"),v(),d(284,"div",16)(285,"select",146)(286,"option",147),b(287,"Da saldare"),v(),d(288,"option",148),b(289,"Saldato"),v()()()()(),d(290,"div",149)(291,"h3",150),b(292,"Sezione Rate"),v(),d(293,"span",151),b(294,"expand_more"),v()(),d(295,"div",152)(296,"div",153)(297,"div",16),vt(298,"input",154),d(299,"label",155),b(300,"Nome"),v()(),d(301,"div",156),vt(302,"input",157),d(303,"label",158),b(304,"Importo (\u20ac)"),v()(),d(305,"div",140)(306,"label",159),b(307,"Stato fatturazione"),v(),d(308,"div",16)(309,"select",160)(310,"option",161),b(311,"Non fatturata"),v(),d(312,"option",162),b(313,"Fatturata"),v()()()(),d(314,"div",16),vt(315,"input",163),d(316,"label",164),b(317,"Data fattura"),v()(),d(318,"div",165)(319,"label",166),b(320,"Stato incasso"),v(),d(321,"div",16)(322,"select",167)(323,"option",168),b(324,"Non incassata"),v(),d(325,"option",169),b(326,"Incassata"),v()()()(),d(327,"div",16),vt(328,"input",170),d(329,"label",171),b(330,"Data incasso"),v()(),d(331,"button",172),Sn("click",function(){return i.addInstallment()}),b(332,"Aggiungi rata"),v()(),d(333,"strong",173),b(334,"Rate da incassare: "),v(),d(335,"div",174)(336,"table",175)(337,"thead",176)(338,"tr")(339,"th",177),b(340,"Nome"),v(),d(341,"th",177),b(342,"Importo"),v(),d(343,"th",178),b(344,"Fatturata"),v(),d(345,"th",178),b(346,"Data fatturata"),v(),d(347,"th",178),b(348,"Incassata"),v(),d(349,"th",178),b(350,"Data incasso"),v(),d(351,"th",177),b(352,"Azioni"),v()()(),d(353,"tbody"),Xo(354,Jye,20,6,"tr",179),wA(355,"async"),v()(),d(356,"div",180)(357,"button",181),Sn("click",function(){return i.getMoreWorksiteInstallments()}),b(358,"Carica altri"),v()()()(),d(359,"div",140)(360,"label",15),b(361,"Capo cantiere"),v(),d(362,"div",16),vt(363,"select",182),v()(),d(364,"div",10)(365,"div",16),vt(366,"input",183),d(367,"label",184),b(368,"Giorni rimanenti"),v()(),d(369,"div",16),vt(370,"input",185),d(371,"label",186),b(372,"Giorni concessi di ritardo"),v()()(),d(373,"div",10)(374,"div",16)(375,"input",187),Sn("input",function(){return i.calcLaborCost()}),v(),d(376,"label",188),b(377,"Costo orario manodopera"),v()(),d(378,"div",16)(379,"input",189),Sn("input",function(){return i.calcLaborCost()}),v(),d(380,"label",190),b(381,"Lavoratori impiegati"),v()(),d(382,"div",16)(383,"input",191),Sn("input",function(){return i.calcLaborCost()}),v(),d(384,"label",192),b(385,"N. Ore manodopera"),v()()(),d(386,"div",10)(387,"div",16),vt(388,"input",193),d(389,"label",194),b(390,"Totale costo manodopera"),v()(),d(391,"div",16),vt(392,"input",195),d(393,"label",196),b(394,"Incasso cantiere"),v()()(),d(395,"div",197),vt(396,"input",198),d(397,"label",199),b(398,"Produttivit\xe0"),v()(),d(399,"div",200)(400,"div",201)(401,"h3",150),b(402,"Stato lavori"),v(),d(403,"span",151),b(404,"expand_more"),v()(),d(405,"div",202)(406,"strong",203),b(407,"Numero attivit\xe0 completate: "),v(),d(408,"div",204)(409,"div",16),vt(410,"input",205),d(411,"label",206),b(412,"Attivit\xe0"),v()(),d(413,"div",140)(414,"label",159),b(415,"Stato"),v(),d(416,"div",16)(417,"select",207)(418,"option",208),b(419,"Da completare"),v(),d(420,"option",209),b(421,"Completato"),v(),d(422,"option",143),b(423,"In corso"),v(),d(424,"option",210),b(425,"Non iniziato"),v(),d(426,"option",211),b(427,"In attesa"),v(),d(428,"option",212),b(429,"Scaduto"),v()()()(),d(430,"div",140)(431,"label",159),b(432,"Priorit\xe0"),v(),d(433,"div",16)(434,"select",213)(435,"option",214),b(436,"Alta"),v(),d(437,"option",215),b(438,"Media"),v(),d(439,"option",216),b(440,"Bassa"),v()()()(),d(441,"button",172),Sn("click",function(){return i.addWorksiteActivity()}),b(442,"Aggiungi attivit\xe0"),v()(),d(443,"div",174)(444,"table",175)(445,"thead",176)(446,"tr")(447,"th",217),b(448,"Attivit\xe0"),v(),d(449,"th",218),b(450,"Stato"),v(),d(451,"th",218),b(452,"Priorit\xe0"),v(),d(453,"th",218),b(454,"Azioni"),v()()(),d(455,"tbody"),Xo(456,n_e,16,5,"tr",179),wA(457,"async"),v()()(),d(458,"div",180)(459,"button",181),Sn("click",function(){return i.getMoreWorksiteActivities()}),b(460,"Carica altri"),v()()(),d(461,"div",219)(462,"h3",150),b(463,"Spesa cantiere"),v(),d(464,"span",151),b(465,"expand_more"),v()(),d(466,"div",220)(467,"div",221)(468,"div",153)(469,"div",156),vt(470,"input",222),d(471,"label",223),b(472,"N.Articoli"),v()(),d(473,"div",224),vt(474,"input",225),d(475,"label",226),b(476,"Descrizione"),v()(),d(477,"div",227),vt(478,"input",228),d(479,"label",229),b(480,"Costo unitario (\u20ac)"),v()(),d(481,"div",140)(482,"label",159),b(483,"Stato"),v(),d(484,"div",16)(485,"select",230)(486,"option",231),b(487,"Da ordinare"),v(),d(488,"option",232),b(489,"In arrivo"),v(),d(490,"option",233),b(491,"Arrivato"),v()()()(),d(492,"button",172),Sn("click",function(){return i.addCost()}),b(493,"Aggiungi spesa"),v()(),d(494,"strong",234),b(495,"Spesa totale:"),v(),d(496,"strong",235),b(497,"Articoli da ordinare: "),v(),d(498,"div",174)(499,"table",175)(500,"thead",176)(501,"tr")(502,"th",177),b(503,"N.Articoli"),v(),d(504,"th",177),b(505,"Descrizione"),v(),d(506,"th",178),b(507,"Costo unitario"),v(),d(508,"th",178),b(509,"Costo totale"),v(),d(510,"th",178),b(511,"Stato"),v(),d(512,"th",178),b(513,"Azioni"),v()()(),d(514,"tbody"),Xo(515,r_e,18,5,"tr",179),wA(516,"async"),v()(),d(517,"div",180)(518,"button",181),Sn("click",function(){return i.getMoreWorksiteCosts()}),b(519,"Carica altri"),v()()()()()(),d(520,"div",236)(521,"div",237)(522,"button",238),Sn("click",function(){return i.saveWorksite()}),b(523,"Salva cantiere"),v(),d(524,"button",239),b(525,"Annulla cantiere"),v()(),vt(526,"div",240),d(527,"div",241)(528,"h3",242),b(529,"Modifica cantiere"),v()()()()),2&r&&(gn(354),eo("ngForOf",Uh(355,3,i.documentsInstallments)),gn(102),eo("ngForOf",Uh(457,5,i.documentsActivities)),gn(59),eo("ngForOf",Uh(516,7,i.documentsCosts)))},dependencies:[bA,gg,SA,Zu,xf,Ff,_m]}),e})();function o_e(t,e){if(1&t){const n=Fa();d(0,"tr",13)(1,"td",14),b(2),v(),d(3,"td",14),b(4),v(),d(5,"td",14),b(6),v(),d(7,"td",14),b(8),v(),d(9,"td",15)(10,"button",16),Sn("click",function(){const i=vn(n).$implicit;return Dn(Wo().editPreventive(i))}),d(11,"span",17),b(12,"edit"),v()(),d(13,"button",16),Sn("click",function(){const i=vn(n),o=i.$implicit,s=i.index;return Dn(Wo().deletePreventive(o,s))}),d(14,"span",17),b(15,"delete"),v()()()()}if(2&t){const n=e.$implicit;gn(2),_r(n.recipient),gn(2),_r(n.place),gn(2),_r(n.date),gn(2),_r(n.description)}}let s_e=(()=>{var t;class e{constructor(r,i,o){this.firestore=r,this.generalService=i,this.router=o,this.documents=new rt([]),this.nextPageAvailable=!0}ngOnInit(){this.getPreventives()}docInfo(r){console.log(r)}getPreventives(){this.firestore.collection("preventives",r=>r.orderBy("timestamp","desc").limit(4)).get().subscribe(r=>{const i=r.docs.map(o=>({id:o.id,...o.data()}));4===i.length?this.lastVisible=r.docs[r.docs.length-1]:this.nextPageAvailable=!1,this.documents.next(i)})}getMorePreventives(){!this.lastVisible||!this.nextPageAvailable||this.firestore.collection("preventives").ref.orderBy("timestamp","desc").limit(4).startAfter(this.lastVisible).get().then(r=>{const i=r.docs.map(o=>({id:o.id,...o.data()}));if(i.length>0){const s=[...this.documents.getValue(),...i];this.documents.next(s),4===i.length?this.lastVisible=r.docs[r.docs.length-1]:this.nextPageAvailable=!1}else this.nextPageAvailable=!1}).catch(r=>{this.generalService.presentToast("Si \xe8 verificato un errore durante il recupero di altri preventivi: "+r.message),this.nextPageAvailable=!1})}deletePreventive(r,i){console.log(i),confirm("Sei sicuro di voler eliminare questo preventivo?")&&this.firestore.collection("preventives").doc(r.id).delete().then(()=>{const s=this.documents.getValue(),a=[...s.slice(0,i),...s.slice(i+1)];this.documents.next(a),this.generalService.presentToast("Preventivo eliminato con successo")}).catch(s=>{this.generalService.presentToast("Si \xe8 verificato un errore durante l'eliminazione del preventivo: "+s.message)})}editPreventive(r){this.generalService.currentPreventive=r,this.router.navigate(["/change-preventive"])}}return(t=e).\u0275fac=function(r){return new(r||t)(q(oc),q(Ml),q(Jo))},t.\u0275cmp=J({type:t,selectors:[["app-preventives"]],decls:28,vars:3,consts:[[2,"width","100%","height","100%","overflow-y","auto","overflow-x","hidden"],[2,"width","100%","display","flex","flex-direction","row","align-items","center","padding-bottom","1rem","padding-left","1rem"],[2,"width","100%","padding-left","1rem","padding-right","1rem","display","flex","align-items","center","justify-content","center","overflow","hidden","margin-bottom","1rem"],[1,"input1",2,"margin-top","1rem","width","100%","height","3rem"],["type","text","id","login-password","placeholder","Nome preventivo",1,"field1"],["name","search-outline",2,"font-size","1.5rem","color","#343a40","padding-left","0.5rem","padding-right","0.5rem"],[1,"table-container",2,"width","100%","overflow-x","auto","padding-left","1rem","padding-right","1rem"],[1,"table",2,"width","100%"],[2,"width","100%"],[1,"table-th"],["class","table-tr",4,"ngFor","ngForOf"],[2,"width","100%","display","flex","flex-direction","column","align-items","center"],[2,"width","95%","height","2.5rem","border-radius","0.5rem","margin-top","1rem","margin-bottom","1rem","flex-shrink","0",3,"click"],[1,"table-tr"],[1,"table-td"],[1,"table-td-actions",2,"display","flex","flex-direction","row","align-items","center","gap","0.5rem","overflow-x","hidden !important","overflow-y","hidden !important"],[1,"table-button1",2,"border-radius","50%","width","2rem","height","2rem","display","flex","align-items","center","justify-content","center",3,"click"],[1,"material-symbols-outlined","notranslate"]],template:function(r,i){1&r&&(d(0,"div",0)(1,"div",1)(2,"h3"),b(3,"Preventivi"),v()(),d(4,"div",2)(5,"div",3),vt(6,"input",4)(7,"ion-icon",5),v()(),d(8,"div",6)(9,"table",7)(10,"thead")(11,"tr",8)(12,"th",9),b(13,"Nome"),v(),d(14,"th",9),b(15,"Luogo"),v(),d(16,"th",9),b(17,"Data"),v(),d(18,"th",9),b(19,"Descrizione"),v(),d(20,"th",9),b(21,"Azioni"),v()()(),d(22,"tbody",8),Xo(23,o_e,16,4,"tr",10),wA(24,"async"),v()()(),d(25,"div",11)(26,"button",12),Sn("click",function(){return i.getMorePreventives()}),b(27,"Carica altri"),v()()()),2&r&&(gn(23),eo("ngForOf",Uh(24,1,i.documents)))},dependencies:[bA,ql,_m]}),e})();function a_e(t,e){if(1&t){const n=Fa();d(0,"tr",7)(1,"td",8),b(2),v(),d(3,"td",8),b(4),v(),d(5,"td",8),b(6),v(),d(7,"td",8),b(8),v(),d(9,"td",8),b(10),v(),d(11,"td",9)(12,"button",10),Sn("click",function(){const i=vn(n).$implicit;return Dn(Wo().editUser(i))}),d(13,"span",11),b(14,"edit"),v()(),d(15,"button",10),Sn("click",function(){const i=vn(n),o=i.$implicit,s=i.index;return Dn(Wo().deleteUser(o,s))}),d(16,"span",11),b(17,"delete"),v()()()()}if(2&t){const n=e.$implicit;gn(2),_r(n.name),gn(2),_r(n.username),gn(2),_r(n.mail),gn(2),_r(n.phone),gn(2),_r(n.uid)}}let l_e=(()=>{var t;class e{constructor(r,i,o){this.firestore=r,this.generalService=i,this.router=o,this.usersData=[],bn.A.database().ref("users_data").once("value").then(s=>{const a=s.val();this.usersData=Object.values(a)}).catch(s=>{this.generalService.presentToast("Errore nel recuperare il personale: "+s.message)})}ngOnInit(){}deleteUser(r,i){confirm("Sei sicuro di voler eliminare questo utente?")&&bn.A.database().ref("users_data/"+r.uid+"/").remove().then(()=>{this.usersData.splice(i,1),this.generalService.presentToast("Utente eliminato con successo")}).catch(s=>{this.generalService.presentToast("Errore nell'eliminare l'utente: "+s.message)})}editUser(r){this.generalService.currentEditingUser=r,this.router.navigate(["/change-person"])}}return(t=e).\u0275fac=function(r){return new(r||t)(q(oc),q(Ml),q(Jo))},t.\u0275cmp=J({type:t,selectors:[["app-people"]],decls:22,vars:1,consts:[[2,"width","100%","height","100%","overflow-y","auto","overflow-x","hidden","padding-left","1rem"],[2,"display","flex","flex-direction","row","align-items","center"],[1,"table-container",2,"width","100%","overflow-x","auto"],[1,"table",2,"width","100%"],[2,"width","100%"],[1,"table-th"],["class","table-tr",4,"ngFor","ngForOf"],[1,"table-tr"],[1,"table-td"],[1,"table-td-actions",2,"display","flex","flex-direction","row","align-items","center","gap","0.5rem","overflow-x","hidden !important","overflow-y","hidden !important"],[1,"table-button1",2,"border-radius","50%","width","2rem","height","2rem","display","flex","align-items","center","justify-content","center",3,"click"],[1,"material-symbols-outlined","notranslate"]],template:function(r,i){1&r&&(d(0,"div",0)(1,"div",1)(2,"h3"),b(3,"Personale"),v()(),d(4,"div",2)(5,"table",3)(6,"thead")(7,"tr",4)(8,"th",5),b(9,"Nome"),v(),d(10,"th",5),b(11,"Username"),v(),d(12,"th",5),b(13,"Mail"),v(),d(14,"th",5),b(15,"Telefono"),v(),d(16,"th",5),b(17,"Uid"),v(),d(18,"th",5),b(19,"Azioni"),v()()(),d(20,"tbody",4),Xo(21,a_e,18,5,"tr",6),v()()()()),2&r&&(gn(21),eo("ngForOf",i.usersData))},dependencies:[bA]}),e})(),u_e=(()=>{var t;class e{constructor(r){this.generalService=r}ngOnInit(){var r=this.generalService.currentEditingUser;document.getElementById("change-person-name-input").value=r.name,document.getElementById("change-person-phone-number-input").value=r.phone,document.getElementById("change-person-username-input").value=r.username}saveUser(){var r={name:document.getElementById("change-person-name-input").value,phone:document.getElementById("change-person-phone-number-input").value,username:document.getElementById("change-person-username-input").value};bn.A.database().ref("users_data/"+this.generalService.currentEditingUser.uid).update(r).then(()=>{this.generalService.presentToast("Utente modificato con successo")}).catch(i=>{this.generalService.presentToast("Errore durante la modifica dell'utente: "+i.message)})}}return(t=e).\u0275fac=function(r){return new(r||t)(q(Ml))},t.\u0275cmp=J({type:t,selectors:[["app-change-person"]],decls:25,vars:0,consts:[["id","add-worksite",2,"height","100%","width","100%","display","flex","flex-direction","column","padding-left","1rem","padding-right","1rem","overflow-y","auto","overflow-x","hidden","padding-bottom","7rem"],[2,"display","flex","flex-direction","row","align-items","center"],["routerLink","/people","name","chevron-back",2,"cursor","pointer","font-size","1.8rem"],[2,"width","100%","display","grid","grid-template-columns","repeat(auto-fit, minmax(200px, 1fr))","grid-gap","10px"],[1,"inputGroup",2,"width","100%"],["id","change-person-name-input","type","text",1,"input-field3"],["for","change-person-name-input"],[1,"inputGroup",2,"display","inline-grid"],["id","change-person-phone-number-input","type","text",1,"input-field3"],["for","change-person-phone-number-input"],["id","change-person-username-input","type","text",1,"input-field3"],["for","change-person-username-input"],[2,"display","flex","flex-direction","column-reverse","width","100%","position","absolute","z-index","2","pointer-events","none","height","100%"],[2,"width","calc( 100% - 2rem )","display","grid","grid-template-columns","repeat(auto-fit, minmax(200px, 1fr))","gap","1rem","background","white","padding-bottom","1rem","padding-top","1rem","pointer-events","all"],[1,"button1",3,"click"],["routerLink","/people",1,"button1",2,"margin-right","1rem"]],template:function(r,i){1&r&&(d(0,"div",0)(1,"div",1),vt(2,"ion-icon",2),d(3,"h3"),b(4,"Modifica utente"),v()(),d(5,"div",3)(6,"div",4),vt(7,"input",5),d(8,"label",6),b(9,"Nome"),v()(),d(10,"div",7),vt(11,"input",8),d(12,"label",9),b(13,"Numero di telefono"),v()(),d(14,"div",7),vt(15,"input",10),d(16,"label",11),b(17,"Username"),v()()(),vt(18,"div",3),d(19,"div",12)(20,"div",13)(21,"button",14),Sn("click",function(){return i.saveUser()}),b(22,"Salva"),v(),d(23,"button",15),b(24,"Annulla"),v()()()())},dependencies:[ql,SA,Zu]}),e})();function c_e(t,e){if(1&t){const n=Fa();d(0,"tr")(1,"td",37)(2,"input",38),Tc("ngModelChange",function(i){const o=vn(n).$implicit;return rd(o.column1,i)||(o.column1=i),Dn(i)}),v()(),d(3,"td",37)(4,"input",38),Tc("ngModelChange",function(i){const o=vn(n).$implicit;return rd(o.column2,i)||(o.column2=i),Dn(i)}),v()(),d(5,"td",37)(6,"input",38),Tc("ngModelChange",function(i){const o=vn(n).$implicit;return rd(o.column3,i)||(o.column3=i),Dn(i)}),v()(),d(7,"td",37),vt(8,"input",39),wA(9,"number"),v(),d(10,"td",37)(11,"button",40),Sn("click",function(){const i=vn(n).index;return Dn(Wo().rimuoviRiga(i))}),d(12,"span",41),b(13,"delete"),v()()()()}if(2&t){const n=e.$implicit;kl("data-index",e.index),gn(2),Sc("ngModel",n.column1),gn(2),Sc("ngModel",n.column2),gn(2),Sc("ngModel",n.column3),gn(2),p_("value","",QS(9,6,n.column2*n.column3,"1.2-2")," \u20ac")}}let d_e=(()=>{var t;class e{constructor(r,i){this.firestore=r,this.generalService=i,this.preventive=this.generalService.currentPreventive,this.rows=this.preventive.rows}ngOnInit(){document.getElementById("preventive-place-input").value=this.preventive.place,document.getElementById("preventive-date-input").value=this.preventive.date,document.getElementById("preventive-number-input1").value=this.preventive.number,document.getElementById("preventive-number-year-input1").value=this.preventive.number_year,document.getElementById("preventive-recipient-input").value=this.preventive.recipient,document.getElementById("preventive-p-iva-input").value=this.preventive.p_iva,document.getElementById("preventive-registered-office-input").value=this.preventive.registered_office,document.getElementById("preventive-object-input").value=this.preventive.object,document.getElementById("preventive-description-input").value=this.preventive.description}aggiungiRiga(){this.rows.push({column1:"",column2:0,column3:0})}rimuoviRiga(r){this.rows.splice(r,1)}calcolaColumn4(r){return r.column2*r.column3}calcolaTotaleColumn4(){let r=0;return this.rows.forEach(i=>{r+=this.calcolaColumn4(i)}),+r.toFixed(2)}savePreventive(){var r=document.getElementById("preventive-place-input"),i=document.getElementById("preventive-date-input"),o=document.getElementById("preventive-number-input1"),s=document.getElementById("preventive-number-year-input1"),a=document.getElementById("preventive-recipient-input"),l=document.getElementById("preventive-p-iva-input"),u=document.getElementById("preventive-registered-office-input"),m=document.getElementById("preventive-object-input"),I=document.getElementById("preventive-description-input"),k={rows:this.rows,place:r.value,date:i.value,number:o.value,number_year:s.value,recipient:a.value,p_iva:l.value,registered_office:u.value,object:m.value,description:I.value,timestamp:bn.A.firestore.FieldValue.serverTimestamp()};this.firestore.collection("preventives").doc(this.preventive.id).set(k,{merge:!0}).then(()=>{this.generalService.presentToast("Preventivo salvato con successo")}).catch(Y=>{this.generalService.presentToast("Errore durante il salvataggio del preventivo: "+Y.message)})}exportPreventivePdf(){var r=document.getElementById("preventive-place-input"),i=document.getElementById("preventive-date-input"),o=document.getElementById("preventive-recipient-input"),s=document.getElementById("preventive-p-iva-input"),a=document.getElementById("preventive-registered-office-input"),l=document.getElementById("preventive-object-input"),u=document.getElementById("preventive-description-input");const m=new xk.default;m.setFontSize(10),m.addImage("assets/images/logo.png","PNG",10,10,80,40);const I=m.internal.pageSize.height;let k=60;m.text(r.value+"  "+i.value,m.internal.pageSize.width-10,k,{align:"right"}),k+=10,m.text("Spett.le: "+o.value,m.internal.pageSize.width-10,k,{align:"right"}),k+=10,m.text("P.Iva: "+s.value,m.internal.pageSize.width-10,k,{align:"right"}),k+=10,m.text("Indirizzo sede legale: "+a.value,m.internal.pageSize.width-10,k,{align:"right"}),k+=20,m.text("Oggetto: "+l.value,10,k,{maxWidth:m.internal.pageSize.width-10}),k+=10,m.text("Descrizione: "+u.value,10,k,{maxWidth:m.internal.pageSize.width-10}),k+=20;const U=this.rows.map(Lt=>[Lt.column1,Lt.column2.toString(),Lt.column3.toString()]);m.autoTable({head:[["Descrizione","Prezzo","Quantit\xe0"]],body:U,startY:k,margin:{top:20}});const ve=this.calcolaTotaleColumn4();k=I-50,m.text("TOTALE PREVENTIVO: "+ve+"\u20ac",m.internal.pageSize.width-60,k),k-=10,m.text("I prezzi sono da considerarsi IVA esclusa (22%)",10,k),k-=-30;const xe=m.internal.pageSize.width-60;m.text("Firma per accettazione",xe,k);const at=12*m.getStringUnitWidth("Firma per accettazione");m.setLineWidth(.5),m.line(xe,k+3,xe+at,k+3),m.save("AllGreen-Preventivo.pdf")}}return(t=e).\u0275fac=function(r){return new(r||t)(q(oc),q(Ml))},t.\u0275cmp=J({type:t,selectors:[["app-change-preventive"]],decls:66,vars:2,consts:[["id","add-preventive",2,"height","100%","width","100%","display","flex","flex-direction","column","padding-left","1rem","overflow-y","auto","overflow-x","hidden","padding-bottom","7rem"],[2,"display","flex","flex-direction","row","align-items","center"],["routerLink","/preventives","name","chevron-back",2,"cursor","pointer","font-size","1.8rem"],["src","assets\\images\\logo.jpg","alt","",2,"width","18rem","margin-left","2rem","margin-top","2rem"],[2,"display","flex","flex-direction","column","justify-content","end","width","100%","padding-top","2rem","padding-right","2rem"],[2,"display","flex","flex-direction","row","justify-content","end","width","100%","gap","1rem","height","3rem"],["id","preventive-place-input","value","Trieste","type","text",1,"input-field1",2,"width","8rem"],["id","preventive-date-input","type","date",1,"input-field1"],[2,"display","flex","flex-direction","row","justify-content","end","align-items","center","gap","1rem","height","3rem","padding-bottom","2rem"],["for","preventive-number-input1",2,"margin-top","0.5rem","margin-bottom","0.2rem","margin-right","0.5rem"],["id","preventive-number-input1","value","0","type","number",1,"input-field1",2,"width","5rem"],[2,"font-weight","bold","font-size","2rem"],["id","preventive-number-year-input1","value","0","type","number",1,"input-field1",2,"width","5rem"],[2,"display","flex","flex-direction","row","justify-content","end","align-items","center","gap","1rem","height","3rem"],["for","preventive-recipient-input",2,"margin-top","0.5rem","margin-bottom","0.2rem","margin-right","0.5rem"],["id","preventive-recipient-input","value","Comune di Spilimbergo","type","text",1,"input-field1"],["for","preventive-p-iva-input",2,"margin-top","0.5rem","margin-bottom","0.2rem","margin-right","0.5rem"],["id","preventive-p-iva-input","type","text",1,"input-field1"],["for","preventive-registered-office-input",2,"margin-top","0.5rem","margin-bottom","0.2rem","margin-right","0.5rem"],["id","preventive-registered-office-input","value","Piazzetta Tiepolo , 1 33097","type","text",1,"input-field1"],[2,"display","flex","flex-direction","start","justify-content","end","align-items","center","gap","1rem","height","3rem","margin-top","3rem"],["for","preventive-object-input",2,"margin-top","0.5rem","margin-bottom","0.2rem","margin-right","0.5rem","font-weight","bold"],["id","preventive-object-input","value","FORNITURA E POSA IMPIANTO DI IRRIGAZIONE","type","text",1,"input-field1",2,"width","100%"],["id","preventive-description-input","value","Come da Vostra richiesta, inviamo la nostra migliore offerta per le seguenti lavorazioni.","type","text",1,"input-field1",2,"width","100%"],[1,"table-container"],[1,"button5",2,"height","2rem","padding-left","0.5rem","padding-right","0.5rem","margin-top","1rem","margin-bottom","1rem",3,"click"],[1,"table"],[1,"table-th",2,"width","40rem"],[1,"table-th"],[4,"ngFor","ngForOf"],["id","totale-column4",2,"font-weight","bold","width","100%","text-align","end"],[2,"margin-top","1rem","margin-bottom","1rem"],[2,"width","100%","text-align","end","text-decoration","underline"],[2,"display","flex","flex-direction","column-reverse","width","100%","position","absolute","z-index","2","pointer-events","none","height","100%"],[2,"width","calc( 100% - 2rem )","display","grid","grid-template-columns","repeat(auto-fit, minmax(200px, 1fr))","gap","1rem","background","white","padding-bottom","1rem","padding-top","1rem","pointer-events","all"],[1,"button1",3,"click"],["routerLink","/preventives",1,"button1",2,"margin-right","1rem"],[1,"table-td"],["type","text",1,"form-control",3,"ngModelChange","ngModel"],["type","text",1,"form-control",3,"value"],[1,"btn","btn-danger",2,"border-radius","50%","width","2rem","height","2rem","display","flex","align-items","center","justify-content","center",3,"click"],[1,"material-symbols-outlined","notranslate"]],template:function(r,i){1&r&&(d(0,"div",0)(1,"div",1),vt(2,"ion-icon",2),d(3,"h3"),b(4,"Modifica preventivo"),v()(),vt(5,"img",3),d(6,"div",4)(7,"div",5),vt(8,"input",6)(9,"input",7),v(),d(10,"div",8)(11,"label",9),b(12,"Preventivo N."),v(),vt(13,"input",10),d(14,"p",11),b(15,"/"),v(),vt(16,"input",12),v(),d(17,"div",13)(18,"label",14),b(19,"Spett.le"),v(),vt(20,"input",15),v(),d(21,"div",13)(22,"label",16),b(23,"P.iva"),v(),vt(24,"input",17),v(),d(25,"div",13)(26,"label",18),b(27,"Indirizzo sede legale"),v(),vt(28,"input",19),v(),d(29,"div",20)(30,"label",21),b(31,"Oggetto:"),v(),vt(32,"input",22),v(),vt(33,"input",23),d(34,"div",24)(35,"button",25),Sn("click",function(){return i.aggiungiRiga()}),b(36,"Aggiungi Riga"),v(),d(37,"table",26)(38,"thead")(39,"tr")(40,"th",27),b(41,"Lavorazione"),v(),d(42,"th",28),b(43,"Prezzo Unitario"),v(),d(44,"th",28),b(45,"Q.ta"),v(),d(46,"th",28),b(47,"Importo"),v(),d(48,"th",28),b(49,"Azioni"),v()()(),d(50,"tbody"),Xo(51,c_e,14,9,"tr",29),v()()(),d(52,"p",30),b(53),v(),d(54,"strong",31),b(55,"I prezzi sono da considerarsi IVA esclusa (22%)"),v(),d(56,"p",32),b(57,"Firma per accettazione"),v()(),d(58,"div",33)(59,"div",34)(60,"button",35),Sn("click",function(){return i.savePreventive()}),b(61,"Salva"),v(),d(62,"button",35),Sn("click",function(){return i.exportPreventivePdf()}),b(63,"Esporta"),v(),d(64,"button",36),b(65,"Annulla"),v()()()()),2&r&&(gn(51),eo("ngForOf",i.rows),gn(2),Gv("TOTALE PREVENTIVO: ",i.calcolaTotaleColumn4()," \u20ac"))},dependencies:[bA,ql,SA,Zu,e0,cb,N_,ET]}),e})();function A_e(t,e){if(1&t){const n=Fa();d(0,"tr")(1,"td",243),b(2),v(),d(3,"td",243),b(4),v(),d(5,"td",243),b(6),v(),d(7,"td",243),b(8),v(),d(9,"td",243),b(10),v(),d(11,"td",243),b(12),v(),d(13,"td",244)(14,"button",245),Sn("click",function(){const i=vn(n).$implicit;return Dn(Wo().changeInstallment(i))}),d(15,"span",151),b(16,"edit"),v()(),d(17,"button",245),Sn("click",function(){const i=vn(n).$implicit;return Dn(Wo().removeInstallment(i))}),d(18,"span",151),b(19,"delete"),v()()()()}if(2&t){const n=e.$implicit;gn(2),_r(n.name),gn(2),_r(n.amount),gn(2),_r(n.fatturata),gn(2),_r(n.data_fattura),gn(2),_r(n.incassata),gn(2),_r(n.data_incasso)}}function h_e(t,e){1&t&&(d(0,"span"),b(1,"Bassa"),v())}function f_e(t,e){1&t&&(d(0,"span"),b(1,"Media"),v())}function p_e(t,e){1&t&&(d(0,"span"),b(1,"Alta"),v())}function g_e(t,e){if(1&t){const n=Fa();d(0,"tr")(1,"td",243),b(2),v(),d(3,"td",243),b(4),v(),d(5,"td",243),Xo(6,h_e,2,0,"span",246)(7,f_e,2,0,"span",246)(8,p_e,2,0,"span",246),v(),d(9,"td",244)(10,"button",245),Sn("click",function(){const i=vn(n).$implicit;return Dn(Wo().changeActivity(i))}),d(11,"span",151),b(12,"edit"),v()(),d(13,"button",245),Sn("click",function(){const i=vn(n).$implicit;return Dn(Wo().removeWorkActivity(i))}),d(14,"span",151),b(15,"delete"),v()()()()}if(2&t){const n=e.$implicit;gn(2),_r(n.activity),gn(2),_r(n.status),gn(2),eo("ngIf","1"===n.priority),gn(),eo("ngIf","2"===n.priority),gn(),eo("ngIf","3"===n.priority)}}function m_e(t,e){if(1&t){const n=Fa();d(0,"tr")(1,"td",243),b(2),v(),d(3,"td",243),b(4),v(),d(5,"td",243),b(6),v(),d(7,"td",243),b(8),v(),d(9,"td",243),b(10),v(),d(11,"td",244)(12,"button",245),Sn("click",function(){const i=vn(n).$implicit;return Dn(Wo().changeCost(i))}),d(13,"span",151),b(14,"edit"),v()(),d(15,"button",245),Sn("click",function(){const i=vn(n).$implicit;return Dn(Wo().removeCost(i))}),d(16,"span",151),b(17,"delete"),v()()()()}if(2&t){const n=e.$implicit;gn(2),_r(n.articles_number),gn(2),_r(n.description),gn(2),_r(n.cost),gn(2),_r(n.cost*n.articles_number),gn(2),_r(n.status)}}const v_e=[{path:"",redirectTo:"splash",pathMatch:"full"},{path:"splash",component:mye},{path:"log",component:qye},{path:"login",component:Yye},{path:"register",component:Xye},{path:"home",component:Cye},{path:"worksites",component:Iye},{path:"works",component:Sye},{path:"preventives",component:s_e},{path:"people",component:l_e},{path:"add",component:Tye},{path:"add-worksite",component:Mye},{path:"add-preventive",component:Dye},{path:"add-corretta-posa",component:Qye},{path:"add-work",component:Kye},{path:"change-worksite",component:i_e},{path:"change-work",component:(()=>{var t;class e{constructor(r,i,o){this.firestore=r,this.generalService=i,this.router=o,this.currentWork=this.generalService.currentWork,this.documentsActivities=new rt([]),this.nextPageAvailableActivities=!0,this.documentsCosts=new rt([]),this.nextPageAvailableCosts=!0,this.documentsInstallments=new rt([]),this.nextPageAvailableInstallments=!0,this.installmentsRows=[],this.workCostsRows=[],this.workActivitiesRows=[]}ngOnInit(){this.generalService.currentChangingElement="works";const r=document.getElementById("change-work-boss-input");bn.A.database().ref("users_data").on("value",no=>{r.innerHTML='<option value="">Seleziona un\'opzione</option>',no.forEach(Co=>{const ac=Co.key,Zf=Co.val(),Op=document.createElement("option");Op.value=ac,Op.innerText=Zf.name,r.appendChild(Op)})});var i=document.getElementById("change-work-name-input"),o=document.getElementById("change-work-partita-iva-input"),s=document.getElementById("change-work-code-input"),a=document.getElementById("change-work-address-input"),l=document.getElementById("change-work-provincia-input"),u=document.getElementById("change-work-customer-type-input"),m=document.getElementById("change-work-end-date-input"),I=document.getElementById("change-work-status-input"),k=document.getElementById("change-work-boss-input"),U=document.getElementById("change-work-remaining-days-input"),Y=document.getElementById("change-work-delay-input"),ve=document.getElementById("change-work-hourly-cost-input"),xe=document.getElementById("change-work-employed-workers-input"),st=document.getElementById("change-work-labor-hours-input");"true"==this.currentWork.giochi&&(document.getElementById("change-work-giochi-input").checked=!0),"true"==this.currentWork.verde&&(document.getElementById("change-work-verde-input").checked=!0),"true"==this.currentWork.pavimentazione_drenante&&(document.getElementById("change-work-pavimentazione-drenante-input").checked=!0),"true"==this.currentWork.pavimentazione_antitraoma&&(document.getElementById("change-work-pavimentazione-antitraoma-input").checked=!0),i.value=this.currentWork.name,o.value=this.currentWork.partita_iva,s.value=this.currentWork.code,a.value=this.currentWork.address,l.value=this.currentWork.province,u.value=this.currentWork.customer_type,m.value=this.currentWork.end_date,I.value=this.currentWork.status,k.value=this.currentWork.boss,U.value=this.currentWork.remaining_days,Y.value=this.currentWork.delay,ve.value=this.currentWork.hourly_cost,xe.value=this.currentWork.employed_workers,st.value=this.currentWork.labor_hours,this.getWorkActivities(),this.getWorkCosts(),this.getWorkInstallments(),this.getGeneralCounters(),this.calcLaborCost(),this.readCost();var at=new Date,kn=new Date(this.currentWork.end_date).getTime()-at.getTime(),jn=Math.ceil(kn/864e5);document.getElementById("change-work-remaining-days-input").value=jn.toString()}getGeneralCounters(){var r=this;return(0,V.A)(function*(){const i=ew();var o=(new Date).getFullYear().toString();const s=yield Cs(_o(as(i,"activities"),Di("work_id","==",r.currentWork.id),Di("status","==","completed")));document.getElementById("stato-lavoro-table-containter-change-work-total-done-activities").innerText="Numero attivit\xe0 completate: "+s.data().count.toString();const a=yield Cs(_o(as(i,"costs"),Di("work_id","==",r.currentWork.id),Di("status","==","to-order")));document.getElementById("change-work-to-order-articles-counter").innerText="Articoli da ordinare: "+a.data().count.toString();const l=yield Cs(_o(as(i,"installments"),Di("work_id","==",r.currentWork.id),Di("incassata","==","non_incassata")));document.getElementById("change-work-non-incassate-installments-input").innerText="Rate da incassare: "+l.data().count.toString(),l.data().count>0?document.getElementById("change-work-money-status-input").value="da-saldare":document.getElementById("change-work-money-status-input").value="saldato",bn.A.database().ref("counters/works/"+o+"/"+r.currentWork.id+"/total/").once("value",u=>{const m=u.val();document.getElementById("change-work-collection-input").value="\u20ac"+m.incasso})})()}calcLaborCost(){var r=document.getElementById("change-work-hourly-cost-input"),i=document.getElementById("change-work-employed-workers-input"),o=document.getElementById("change-work-labor-hours-input"),s=parseFloat(r.value)||1,a=parseFloat(i.value)||1,l=parseFloat(o.value)||1;document.getElementById("change-work-total-labor-cost-input").value="\u20ac"+(s*a*l).toString()}openOrClosePopup1(){const r=document.getElementById("change-work-money-status-input");console.log(r.value),"da-saldare"==r.value&&(document.getElementById("popup-stato-amministrativo").style.display="flex"),(r.value="saldato")&&(document.getElementById("popup-stato-amministrativo").style.display="none")}saveWork(){var r=document.getElementById("change-work-name-input"),i=document.getElementById("change-work-partita-iva-input"),o=document.getElementById("change-work-code-input"),s=document.getElementById("change-work-address-input"),a=document.getElementById("change-work-provincia-input"),l=document.getElementById("change-work-customer-type-input"),u=document.getElementById("change-work-end-date-input"),m=document.getElementById("change-work-status-input"),I=document.getElementById("change-work-money-status-input"),k=document.getElementById("change-work-boss-input"),U=document.getElementById("change-work-delay-input"),Y=document.getElementById("change-work-hourly-cost-input"),ve=document.getElementById("change-work-employed-workers-input"),xe=document.getElementById("change-work-labor-hours-input"),st=document.getElementById("change-work-collection-input"),at=document.getElementById("change-work-pavimentazione-antitraoma-input");this.pavimentazioneAntitraoma=at.checked?"true":"false";var Lt=document.getElementById("change-work-pavimentazione-drenante-input");this.pavimentazioneDrenante=Lt.checked?"true":"false";var Yt=document.getElementById("change-work-verde-input");this.verde=Yt.checked?"true":"false";var kn=document.getElementById("change-work-giochi-input");this.giochi=kn.checked?"true":"false",this.firestore.collection("works").doc(this.currentWork.id).set({name:r.value,partita_iva:i.value,code:o.value,address:s.value,province:a.value,customer_type:l.value,end_date:u.value,money_status:I.value,status:m.value,boss_uid:k.value,boss_name:k.innerText,delay:U.value,hourly_cost:Y.value,employed_workers:ve.value,labor_hours:xe.value,collection:st.value,timestamp:bn.A.firestore.FieldValue.serverTimestamp(),pavimentazione_antitraoma:this.pavimentazioneAntitraoma,pavimentazione_drenante:this.pavimentazioneDrenante,verde:this.verde,giochi:this.giochi}).then(()=>{this.generalService.presentToast("Lavoro modificato con successo")}).catch(jn=>{this.generalService.presentToast("Errore durante la modifica del lavoro: "+jn.message)})}countSpesa(){return this.workCostsRows.reduce((i,o)=>null!=o.cost?i+parseFloat(o.cost)*parseFloat(o.articles_number):i,0)}getWorkActivities(){this.firestore.collection("activities",r=>r.where("work_id","==",this.currentWork.id).where("group","==","work")).valueChanges({idField:"id"}).subscribe(r=>{4===r.length?this.lastVisibleActivities=r[r.length-1]:this.nextPageAvailableActivities=!1,this.documentsActivities.next(r)})}getMoreWorkActivities(){this.lastVisibleActivities&&this.firestore.collection("activities",r=>r.limit(4).where("work_id","==",this.currentWork.id).where("group","==","work").startAfter(this.lastVisibleActivities)).valueChanges({idField:"id"}).subscribe(r=>{if(r.length>0){const o=[...this.documentsActivities.getValue(),...r];this.documentsActivities.next(o),4===r.length?this.lastVisibleActivities=r[r.length-1]:this.nextPageAvailableActivities=!1}else this.nextPageAvailableActivities=!1})}getWorkCosts(){this.firestore.collection("costs",r=>r.where("work_id","==",this.currentWork.id).where("group","==","work")).valueChanges({idField:"id"}).subscribe(r=>{4===r.length?this.lastVisibleCosts=r[r.length-1]:this.nextPageAvailableCosts=!1,this.documentsCosts.next(r)})}readCost(){var r=this;return(0,V.A)(function*(){try{const i=bn.A.database().ref("/counters/works/"+(new Date).getFullYear().toString()+"/"+r.currentWork.id+"/total/"),o=yield Sk(Lp(i,"cost"));o.exists()?document.getElementById("change-work-total-cost-counter").innerText="Spesa totale: \u20ac"+o.val():document.getElementById("change-work-total-cost-counter").innerText="Spesa totale: \u20ac0"}catch(i){r.generalService.presentToast("Errore durante la lettura del costo della spesa lavoro: "+i.message)}})()}getMoreWorkCosts(){this.lastVisibleCosts&&this.firestore.collection("costs",r=>r.limit(4).where("work_id","==",this.currentWork.id).where("group","==","work").startAfter(this.lastVisibleCosts)).valueChanges({idField:"id"}).subscribe(r=>{if(r.length>0){const o=[...this.documentsCosts.getValue(),...r];this.documentsCosts.next(o),4===r.length?this.lastVisibleCosts=r[r.length-1]:this.nextPageAvailableCosts=!1}else this.nextPageAvailableCosts=!1})}getWorkInstallments(){this.firestore.collection("installments",r=>r.where("work_id","==",this.currentWork.id).where("group","==","work")).valueChanges({idField:"id"}).subscribe(r=>{4===r.length?this.lastVisibleInstallments=r[r.length-1]:this.nextPageAvailableInstallments=!1,this.documentsInstallments.next(r)})}getMoreWorkInstallments(){this.lastVisibleInstallments&&this.firestore.collection("installments",r=>r.limit(4).where("work_id","==",this.currentWork.id).where("group","==","work").startAfter(this.lastVisibleInstallments)).valueChanges({idField:"id"}).subscribe(r=>{if(r.length>0){const o=[...this.documentsInstallments.getValue(),...r];this.documentsInstallments.next(o),4===r.length?this.lastVisibleInstallments=r[r.length-1]:this.nextPageAvailableInstallments=!1}else this.nextPageAvailableInstallments=!1})}addWorkCounts(r){var i=(new Date).getFullYear().toString();bn.A.database().ref("/counters/works/"+i+"/"+r+"/").transaction(o=>null===o?{fatturato:this.countFatturato(),incasso:this.countIncasso()}:{fatturato:(o.fatturato||0)+this.countFatturato(),incasso:(o.incasso||0)+this.countIncasso()}).catch(o=>{this.generalService.presentToast("Errore durante l'incremento dei contatori del lavoro: "+o.message)}),bn.A.database().ref("/counters/works/"+i+"/general/").transaction(o=>null===o?{fatturato:this.countFatturato(),incasso:this.countIncasso()}:{fatturato:(o.fatturato||0)+this.countFatturato(),incasso:(o.incasso||0)+this.countIncasso()}).catch(o=>{this.generalService.presentToast("Errore durante l'incremento dei contatori del lavoro: "+o.message)}),bn.A.database().ref("/counters/works/"+i+"/general/"+parseFloat(((new Date).getMonth()+1).toString())+"/").transaction(o=>null===o?{fatturato:this.countFatturato(),incasso:this.countIncasso()}:{fatturato:(o.fatturato||0)+this.countFatturato(),incasso:(o.incasso||0)+this.countIncasso()}).catch(o=>{this.generalService.presentToast("Errore durante l'incremento dei contatori del lavoro: "+o.message)})}countFatturato(){return this.installmentsRows.reduce((i,o)=>"fatturata"===o.fatturata?i+parseFloat(o.amount):i,0)}countIncasso(){return this.installmentsRows.reduce((i,o)=>"incassata"===o.incassata?i+parseFloat(o.amount):i,0)}addInstallment(){bn.A.firestore().collection("installments").doc().set({name:document.getElementById("change-work-installment-name-input").value,amount:document.getElementById("change-work-installment-amount-input").value,fatturata:document.getElementById("change-work-installment-fatturata-input").value,data_fattura:document.getElementById("change-work-installment-data-fattura-input").value,incassata:document.getElementById("change-work-installment-incassata-input").value,data_incasso:document.getElementById("change-work-installment-data-incasso-input").value,work_id:this.currentWork.id,work_name:this.currentWork.name,timestamp:bn.A.firestore.FieldValue.serverTimestamp(),group:"work"}).catch(o=>{this.generalService.presentToast("Errore durante l'aggiornamento dei contatori: "+o.message)});var i=parseFloat(document.getElementById("change-work-installment-amount-input").value);this.updateCounterAnnuale(i),this.updateCounterMensile(i)}updateCounterAnnuale(r){var i=(new Date).getFullYear().toString();const o=bn.A.database().ref("/counters/works/"+i+"/general/total/");"fatturata"==document.getElementById("change-work-installment-fatturata-input").value&&o.child("fatturato").transaction(s=>null===s?r:s+r).catch(s=>{this.generalService.presentToast("Errore durante l'incremento del fatturato annuale: "+s.message)}),"incassata"==document.getElementById("change-work-installment-incassata-input").value&&o.child("incasso").transaction(s=>null===s?r:s+r).catch(s=>{this.generalService.presentToast("Errore durante l'incremento dell'incasso annuale: "+s.message)}),"fatturata"==document.getElementById("change-work-installment-fatturata-input").value&&bn.A.database().ref("/counters/works/"+i+"/"+this.currentWork.id+"/total/").child("fatturato").transaction(s=>null===s?r:s+r).catch(s=>{this.generalService.presentToast("Errore durante l'incremento del fatturato annuale: "+s.message)}),"incassata"==document.getElementById("change-work-installment-incassata-input").value&&bn.A.database().ref("/counters/works/"+i+"/"+this.currentWork.id+"/total/").child("incasso").transaction(s=>null===s?r:s+r).catch(s=>{this.generalService.presentToast("Errore durante l'incremento dell'incasso annuale: "+s.message)})}updateCounterMensile(r){var i=(new Date).getFullYear().toString(),o=((new Date).getMonth()+1).toString();const s=bn.A.database().ref("/counters/works/"+i+"/general/"+parseFloat(((new Date).getMonth()+1).toString())+"/");"fatturata"==document.getElementById("change-work-installment-fatturata-input").value&&s.child("fatturato").transaction(a=>null===a?r:a+r).catch(a=>{this.generalService.presentToast("Errore durante l'incremento del fatturato mensile: "+a.message)}),"incassata"==document.getElementById("change-work-installment-incassata-input").value&&s.child("incasso").transaction(a=>null===a?r:a+r).catch(a=>{this.generalService.presentToast("Errore durante l'incremento dell'incasso mensile: "+a.message)}),"fatturata"==document.getElementById("change-work-installment-fatturata-input").value&&bn.A.database().ref("/counters/works/"+i+"/"+this.currentWork.id+"/"+o+"/").child("fatturato").transaction(a=>null===a?r:a+r).catch(a=>{this.generalService.presentToast("Errore durante l'incremento del fatturato annuale: "+a.message)}),"incassata"==document.getElementById("change-work-installment-incassata-input").value&&bn.A.database().ref("/counters/works/"+i+"/"+this.currentWork.id+"/"+o+"/").child("incasso").transaction(a=>null===a?r:a+r).catch(a=>{this.generalService.presentToast("Errore durante l'incremento dell'incasso annuale: "+a.message)})}removeInstallment(r){if(confirm("Sei sicuro di voler eliminare questa rata?")){this.firestore.collection("installments").doc(r.id).delete().then(()=>{this.generalService.presentToast("Rata eliminata con successo: ")}).catch(a=>{this.generalService.presentToast("Errore durante l'eliminazione della rata: "+a.message)});var i=(new Date).getFullYear().toString();const o=bn.A.database().ref("/counters/"+this.generalService.currentChangingElement+"/"+i+"/general/total/");"fatturata"==r.fatturata&&o.child("fatturato").transaction(a=>{const l=parseFloat(a)-parseFloat(r.amount);return isNaN(l)?0:l}).catch(a=>{this.generalService.presentToast("Errore durante l'eliminazione della rata (ERRORE TIPO COUNT): "+a.message)}),"incassata"==r.incassata&&o.child("incasso").transaction(a=>{const l=parseFloat(a)-parseFloat(r.amount);return isNaN(l)?0:l}).catch(a=>{this.generalService.presentToast("Errore durante l'eliminazione della rata (ERRORE TIPO COUNT): "+a.message)});const s=bn.A.database().ref("/counters/"+this.generalService.currentChangingElement+"/"+i+"/general/"+((new Date).getMonth()+1).toString()+"/");"fatturata"==r.fatturata&&s.child("fatturato").transaction(a=>{const l=parseFloat(a)-parseFloat(r.amount);return isNaN(l)?0:l}).catch(a=>{this.generalService.presentToast("Errore durante l'aggiornamento del fatturato annuale: "+a.message)}),"incassata"==r.incassata&&s.child("incasso").transaction(a=>{const l=parseFloat(a)-parseFloat(r.amount);return isNaN(l)?0:l}).catch(a=>{this.generalService.presentToast("Errore durante l'aggiornamento dell'incasso annuale: "+a.message)}),"fatturata"==r.fatturata&&bn.A.database().ref("/counters/"+this.generalService.currentChangingElement+"/"+i+"/"+this.currentWork.id+"/"+((new Date).getMonth()+1).toString()+"/").child("fatturato").transaction(a=>{const l=parseFloat(a)-parseFloat(r.amount);return isNaN(l)?0:l}).catch(a=>{this.generalService.presentToast("Errore durante l'aggiornamento del fatturato annuale: "+a.message)}),"incassata"==r.incassata&&bn.A.database().ref("/counters/"+this.generalService.currentChangingElement+"/"+i+"/"+this.currentWork.id+"/"+((new Date).getMonth()+1).toString()+"/").child("incasso").transaction(a=>{const l=parseFloat(a)-parseFloat(r.amount);return isNaN(l)?0:l}).catch(a=>{this.generalService.presentToast("Errore durante l'aggiornamento dell'incasso annuale: "+a.message)}),"fatturata"==r.fatturata&&bn.A.database().ref("/counters/"+this.generalService.currentChangingElement+"/"+i+"/"+this.currentWork.id+"/total/").child("fatturato").transaction(a=>{const l=parseFloat(a)-parseFloat(r.amount);return isNaN(l)?0:l}).catch(a=>{this.generalService.presentToast("Errore durante l'aggiornamento del fatturato annuale: "+a.message)}),"incassata"==r.incassata&&bn.A.database().ref("/counters/"+this.generalService.currentChangingElement+"/"+i+"/"+this.currentWork.id+"/total/").child("incasso").transaction(a=>{const l=parseFloat(a)-parseFloat(r.amount);return isNaN(l)?0:l}).catch(a=>{this.generalService.presentToast("Errore durante l'aggiornamento dell'incasso annuale: "+a.message)})}}changeInstallment(r){this.generalService.currentInstallment=r,this.router.navigate(["/change-installment"])}addCost(){this.firestore.collection("costs").doc().set({articles_number:document.getElementById("change-work-cost-articles-number-input").value,description:document.getElementById("change-work-cost-description-input").value,cost:document.getElementById("change-work-cost-cost-input").value,status:document.getElementById("change-work-cost-status-input").value,work_id:this.currentWork.id,work_name:this.currentWork.name,timestamp:bn.A.firestore.FieldValue.serverTimestamp(),group:"work"});const r=document.getElementById("change-work-cost-cost-input"),i=document.getElementById("change-work-cost-articles-number-input"),o=parseFloat(r.value),s=parseFloat(i.value);if(isNaN(o)||isNaN(s))return void this.generalService.presentToast("Alcuni numeri non sono validi");const a=o*s;isNaN(a)?this.generalService.presentToast("Il calcolo ha come risultato un numero non valido"):(this.updateCostCounterAnnuale(a),this.updateCostCounterMensile(a))}updateCostCounterAnnuale(r){var i=(new Date).getFullYear().toString();bn.A.database().ref("/counters/works/"+i+"/general/total/").child("spesa").transaction(s=>null===s?r:s+r).catch(s=>{this.generalService.presentToast("Errore durante l'incremento del costo annuale: "+s.message)}),bn.A.database().ref("/counters/works/"+i+"/"+this.currentWork.id+"/total/").child("spesa").transaction(s=>null===s?r:s+r).catch(s=>{this.generalService.presentToast("Errore durante l'incremento del costo annuale: "+s.message)})}updateCostCounterMensile(r){var i=(new Date).getFullYear().toString(),o=((new Date).getMonth()+1).toString();bn.A.database().ref("/counters/works/"+i+"/general/"+parseFloat(((new Date).getMonth()+1).toString())+"/").child("spesa").transaction(a=>null===a?r:a+r).catch(a=>{this.generalService.presentToast("Errore durante l'incremento del fatturato mensile: "+a.message)}),bn.A.database().ref("/counters/works/"+i+"/"+this.currentWork.id+"/"+o+"/").child("spesa").transaction(a=>null===a?r:a+r).catch(a=>{this.generalService.presentToast("Errore durante l'incremento del fatturato annuale: "+a.message)})}removeCost(r){confirm("Sei sicuro di voler eliminare questa spesa?")&&this.firestore.collection("costs").doc(r.id).delete().then(()=>{const s=parseFloat(r.cost)*parseFloat(r.articles_number);var a=(new Date).getFullYear().toString();bn.A.database().ref("/counters/"+this.generalService.currentChangingElement+"/"+a+"/general/total/").child("spesa").transaction(m=>{const I=parseFloat(m)-s;return isNaN(I)?0:I}).catch(m=>{this.generalService.presentToast("Errore durante l'eliminazione della rata (ERRORE TIPO COUNT): "+m.message)}),bn.A.database().ref("/counters/"+this.generalService.currentChangingElement+"/"+a+"/general/"+((new Date).getMonth()+1).toString()+"/").child("spesa").transaction(m=>{const I=parseFloat(m)-s;return isNaN(I)?0:I}).catch(m=>{this.generalService.presentToast("Errore durante l'aggiornamento del fatturato annuale: "+m.message)}),bn.A.database().ref("/counters/"+this.generalService.currentChangingElement+"/"+a+"/"+this.currentWork.id+"/"+((new Date).getMonth()+1).toString()+"/").child("spesa").transaction(m=>{const I=parseFloat(m)-s;return isNaN(I)?0:I}).catch(m=>{this.generalService.presentToast("Errore durante l'aggiornamento del fatturato annuale: "+m.message)}),bn.A.database().ref("/counters/"+this.generalService.currentChangingElement+"/"+a+"/"+this.currentWork.id+"/total/").child("spesa").transaction(m=>{const I=parseFloat(m)-s;return isNaN(I)?0:I}).catch(m=>{this.generalService.presentToast("Errore durante l'aggiornamento del fatturato annuale: "+m.message)}),this.generalService.presentToast("Spesa eliminata con successo: ")}).catch(i=>{this.generalService.presentToast("Errore durante l'eliminazione della spesa: "+i.message)})}changeCost(r){this.generalService.currentCost=r,this.router.navigate(["/change-cost"])}addWorkActivity(){this.firestore.collection("activities").doc().set({activity:document.getElementById("activity-name-input").value,status:document.getElementById("activity-status-input").value,priority:document.getElementById("activity-priority-input").value,work_id:this.currentWork.id,work_name:this.currentWork.name,timestamp:bn.A.firestore.FieldValue.serverTimestamp(),group:"work"})}removeWorkActivity(r){confirm("Sei sicuro di voler eliminare questa attivit\xe0?")&&this.firestore.collection("activities").doc(r.id).delete().then(()=>{this.generalService.presentToast("Attivit\xe0 eliminata con successo: ")}).catch(i=>{this.generalService.presentToast("Errore durante l'eliminazione dell'attivit\xe0: "+i.message)})}changeActivity(r){this.generalService.currentActivity=r,this.router.navigate(["/change-activity"])}}return(t=e).\u0275fac=function(r){return new(r||t)(q(oc),q(Ml),q(Jo))},t.\u0275cmp=J({type:t,selectors:[["app-change-work"]],decls:530,vars:9,consts:[["id","add-work",2,"height","100%","width","100%","display","flex","flex-direction","column","padding-left","1rem","padding-right","1rem","overflow-y","auto","overflow-x","hidden","padding-bottom","7rem"],[2,"width","100%","display","grid","grid-template-columns","repeat(auto-fit, minmax(200px, 1fr))","grid-gap","10px","margin-top","4rem"],[1,"inputGroup",2,"width","100%"],["id","change-work-name-input","type","text","value","Palazzo economo e magazzino 20",1,"input-field3"],["for","change-work-name-input"],[1,"inputGroup",2,"display","inline-grid"],["id","change-work-partita-iva-input","type","text",1,"input-field3"],["for","change-work-partita-iva-input"],["id","change-work-code-input","type","text",1,"input-field3"],["for","change-work-code-input"],[2,"width","100%","display","grid","grid-template-columns","repeat(auto-fit, minmax(200px, 1fr))","grid-gap","10px"],[1,"inputGroup",2,"display","inline-grid","width","calc(100% -10rem)"],["id","change-work-address-input","type","text",1,"input-field3"],["for","change-work-address-input"],[2,"display","inline-grid","flex-direction","column"],[2,"margin-bottom","-1.5rem","z-index","2","background","white","margin-left","1.5rem","font-size","14px","color","rgb(100, 100, 100)","width","6rem","text-align","center"],[1,"inputGroup"],["id","change-work-provincia-input",1,"selector1",2,"width","100%"],["value","Alessandria"],["value","Ancona"],["value","Arezzo"],["value","Ascoli Piceno"],["value","Asti"],["value","Avellino"],["value","Bari"],["value","Barletta-Andria-Trani"],["value","Belluno"],["value","Benevento"],["value","Bergamo"],["value","Biella"],["value","Bologna"],["value","Bolzano"],["value","Brescia"],["value","Brindisi"],["value","Cagliari"],["value","Caltanissetta"],["value","Campobasso"],["value","Caserta"],["value","Catania"],["value","Catanzaro"],["value","Chieti"],["value","Como"],["value","Cosenza"],["value","Cremona"],["value","Crotone"],["value","Cuneo"],["value","Enna"],["value","Fermo"],["value","Ferrara"],["value","Firenze"],["value","Foggia"],["value","Forl\xec"],["value","Frosinone"],["value","Genova"],["value","Gorizia"],["value","Grosseto"],["value","Imperia"],["value","Isernia"],["value","La Spezia"],["value","L'Aquila"],["value","Latina"],["value","Lecce"],["value","Lecco"],["value","Livorno"],["value","Lodi"],["value","Lucca"],["value","Macerata"],["value","Mantova"],["value","Massa-Carrara"],["value","Matera"],["value","Messina"],["value","Milano"],["value","Modena"],["value","Monza e della Brianza"],["value","Napoli"],["value","Novara"],["value","Nuoro"],["value","Ogliastra"],["value","Oristano"],["value","Padova"],["value","Palermo"],["value","Parma"],["value","Pavia"],["value","Perugia"],["value","Pesaro e Urbino"],["value","Pescara"],["value","Piacenza"],["value","Pisa"],["value","Pistoia"],["value","Pordenone"],["value","Potenza"],["value","Prato"],["value","Ragusa"],["value","Ravenna"],["value","Reggio Calabria"],["value","Reggio nell'Emilia"],["value","Rieti"],["value","Rimini"],["value","Roma"],["value","Rovigo"],["value","Salerno"],["value","Sassari"],["value","Savona"],["value","Siena"],["value","Siracusa"],["value","Sondrio"],["value","Sud Sardegna"],["value","Taranto"],["value","Teramo"],["value","Terni"],["value","Torino"],["value","Trapani"],["value","Trento"],["value","Treviso"],["value","Trieste"],["value","Udine"],["value","Valle d'Aosta"],["value","Varese"],["value","Venezia"],["value","Verbano-Cusio-Ossola"],["value","Vercelli"],["value","Verona"],["value","Vibo Valentia"],["value","Vicenza"],["value","Viterbo"],[2,"width","100%","display","grid","grid-template-columns","repeat(auto-fit, minmax(200px, 1fr))","grid-gap","10px","align-items","center"],[2,"display","flex","flex-direction","column","overflow","hidden"],["id","change-work-customer-type-input",1,"selector1",2,"width","100%"],["value","public-administration"],["value","private"],[2,"display","flex","flex-direction","row","overflow-x","auto","align-items","center","border","2px solid #19212d !important","border-radius","20px","height","3.4rem","gap","1rem"],[2,"display","flex","flex-direction","row","align-items","center","gap","0.5rem"],["id","change-work-pavimentazione-antitraoma-input","type","checkbox",1,"input-field3",2,"width","1rem","height","1rem"],[2,"margin-top","0.2rem","margin-bottom","0.2rem","width","8rem"],["id","change-work-pavimentazione-drenante-input","type","checkbox",1,"input-field3",2,"width","1rem","height","1rem"],["id","change-work-verde-input","type","checkbox",1,"input-field3",2,"width","1rem","height","1rem"],[2,"margin-top","0.2rem","margin-bottom","0.2rem"],["id","change-work-giochi-input","type","checkbox",1,"input-field3",2,"width","1rem","height","1rem"],["id","change-work-end-date-input","type","date",1,"input-field3"],["for","change-work-end-date-input"],[2,"display","flex","flex-direction","column","margin-top","0.4rem"],["id","change-work-status-input",1,"selector1",2,"width","100%"],["value","to-start"],["value","doing"],["value","finished"],[2,"margin-bottom","-1.5rem","z-index","2","background","white","margin-left","1.5rem","font-size","14px","color","rgb(100, 100, 100)","width","10rem","text-align","center"],["id","change-work-money-status-input",1,"selector1",2,"width","100%"],["value","da-saldare"],["value","saldato"],["onclick","if(document.getElementById('popup-stato-amministrativo').style.display == 'none' ){document.getElementById('popup-stato-amministrativo').style.display = 'flex'; }else{document.getElementById('popup-stato-amministrativo').style.display = 'none'; }",2,"width","100%","display","flex","flex-direction","row","align-items","center","padding-top","1rem","padding-bottom","1rem","cursor","pointer"],[2,"margin-top","0rem","margin-bottom","0rem"],[1,"material-symbols-outlined","notranslate"],["id","popup-stato-amministrativo",1,"table-container",2,"width","100%","display","none","flex-direction","column","padding-bottom","3rem","border","1px solid rgba(0, 0, 0, 0.091)","border-end-start-radius","1rem","border-end-end-radius","1rem"],[2,"width","100%","display","flex","flex-direction","row","align-items","center","gap","1rem","padding-left","1rem","flex-wrap","wrap","padding-bottom","2rem"],["id","change-work-installment-name-input","type","text",1,"input-field3"],["for","change-work-installment-name-input"],[1,"inputGroup",2,"width","8rem"],["id","change-work-installment-amount-input","type","number",1,"input-field3"],["for","change-work-installment-amount-input"],[2,"margin-bottom","-1.5rem","z-index","2","background","white","margin-left","1.5rem","font-size","14px","color","rgb(100, 100, 100)","width","8rem","text-align","center"],["id","change-work-installment-fatturata-input",1,"selector1",2,"width","100%"],["value","non_fatturata"],["value","fatturata"],["id","change-work-installment-data-fattura-input","type","date",1,"input-field3"],["for","change-work-installment-data-fattura-input"],[2,"display","flex","flex-direction","column","margin-top","0.4rem","width","8rem"],[2,"margin-bottom","-1.5rem","z-index","2","background","white","margin-left","1.5rem","font-size","14px","color","rgb(100, 100, 100)","width","auto"],["id","change-work-installment-incassata-input",1,"selector1",2,"width","100%"],["value","non_incassata"],["value","incassata"],["id","change-work-installment-data-incasso-input","type","date",1,"input-field3"],["for","change-work-installment-data-incasso-input"],[1,"button5",2,"height","3rem","padding-left","0.5rem","padding-right","0.5rem","margin-top","1rem","margin-bottom","1rem","width","8rem","height","3rem",3,"click"],["id","change-work-non-incassate-installments-input",2,"margin-top","0.5rem","margin-bottom","0.5rem"],[2,"width","100%","overflow-x","auto"],[1,"table",2,"width","100%"],[2,"height","2.5rem"],[1,"table-th",2,"width","10rem"],[1,"table-th",2,"width","3rem"],[4,"ngFor","ngForOf"],[2,"width","100%","display","flex","flex-direction","column","align-items","center"],[2,"width","95%","height","2.5rem","border-radius","0.5rem","margin-top","1rem","margin-bottom","1rem","flex-shrink","0",3,"click"],["id","change-work-boss-input",1,"selector1",2,"width","100%"],["id","change-work-remaining-days-input","type","number",1,"input-field3"],["for","change-work-remaining-days-input"],["id","change-work-delay-input","type","number",1,"input-field3"],["for","change-work-delay-input"],["id","change-work-hourly-cost-input","type","number",1,"input-field3",3,"input"],["for","change-work-hourly-cost-input"],["id","change-work-employed-workers-input","type","number",1,"input-field3",3,"input"],["id","change-work-employed-workers-input"],["id","change-work-labor-hours-input","type","number",1,"input-field3",3,"input"],["for","change-work-labor-hours-input"],["id","change-work-total-labor-cost-input","readonly","","type","text",1,"input-field3"],["for","change-work-total-labor-cost-input"],["id","change-work-collection-input","readonly","","type","text",1,"input-field3"],["for","change-work-collection-input"],[1,"inputGroup",2,"display","inline-grid","width","100%"],["id","change-work-productivity-input","readonly","","type","text",1,"input-field3"],["for","change-work-productivity-input"],[2,"width","100%"],["onclick","if(document.getElementById('stato-lavoro-table-containter-change-work').style.display =='none' ){document.getElementById('stato-lavoro-table-containter-change-work').style.display = 'flex';}else{document.getElementById('stato-lavoro-table-containter-change-work').style.display = 'none'; }",2,"width","100%","display","flex","flex-direction","row","align-items","center","padding-top","1rem","padding-bottom","1rem","cursor","pointer"],["id","stato-lavoro-table-containter-change-work",2,"display","none","flex-direction","column","width","100%"],["id","stato-lavoro-table-containter-change-work-total-done-activities"],[2,"width","100%","display","flex","flex-direction","row","align-items","center","gap","1rem","padding-left","1rem","flex-wrap","wrap","padding-bottom","1rem"],["id","activity-name-input","type","text",1,"input-field3"],["for","activity-name-input"],["id","activity-status-input",1,"selector1",2,"width","100%"],["value","to-do"],["value","completed"],["value","not_started"],["value","pending"],["value","timed_out"],["id","activity-priority-input",1,"selector1",2,"width","100%"],["value","3"],["value","2"],["value","1"],[1,"table-th",2,"width","5rem"],[1,"table-th",2,"width","2rem !important"],["onclick","if(document.getElementById('spesa-lavoro-table-containter-change-work').style.display =='none' ){document.getElementById('spesa-lavoro-table-containter-change-work').style.display = 'flex'; }else{document.getElementById('spesa-lavoro-table-containter-change-work').style.display = 'none'; }",2,"width","100%","display","flex","flex-direction","row","align-items","center","padding-top","1rem","padding-bottom","1rem","cursor","pointer"],["id","spesa-lavoro-table-containter-change-work",2,"display","none","flex-direction","column","width","100%"],["id","popup-stato-amministrativo",1,"table-container",2,"width","100%","display","flex","flex-direction","column","padding-bottom","1rem"],["id","change-work-cost-articles-number-input","type","number",1,"input-field3"],["for","change-work-cost-articles-number-input"],[1,"inputGroup",2,"width","15rem"],["id","change-work-cost-description-input","type","text",1,"input-field3"],["for","change-work-cost-description-input"],[1,"inputGroup",2,"width","12rem"],["id","change-work-cost-cost-input","type","number",1,"input-field3"],["for","change-work-cost-cost-input"],["id","change-work-cost-status-input",1,"selector1",2,"width","100%"],["value","to-order"],["value","arriving"],["value","arrived"],["id","change-work-total-cost-counter",2,"margin-bottom","0.5rem"],["id","change-work-to-order-articles-counter",2,"margin-top","0rem","margin-bottom","0.5rem"],[2,"display","flex","flex-direction","column-reverse","width","100%","position","absolute","z-index","2","pointer-events","none","height","100%"],[2,"width","calc( 100% - 2rem )","display","grid","grid-template-columns","repeat(auto-fit, minmax(200px, 1fr))","gap","1rem","background","white","padding-bottom","1rem","padding-top","1rem","pointer-events","all","border-top","1px solid rgba(0, 0, 0, 0.119)"],[1,"button5",2,"height","2.5rem","padding-left","0.5rem","padding-right","0.5rem","margin-top","1rem","margin-bottom","1rem","border-radius","2rem","font-weight","bold","font-size","1rem",3,"click"],["routerLink","/works",1,"button5",2,"height","2.5rem","padding-left","0.5rem","padding-right","0.5rem","margin-top","1rem","margin-bottom","1rem","border-radius","2rem","font-weight","bold","font-size","1rem"],[2,"flex","1"],[2,"width","calc(100% - 2rem)","display","flex","flex-direction","row","align-items","center","padding-bottom","1rem","background","white","flex-shrink","0","pointer-events","all","border-bottom","1px solid rgba(0, 0, 0, 0.119)"],[2,"margin-bottom","0rem"],[1,"table-td"],[1,"table-td",2,"display","flex","flex-direction","row","align-items","center","gap","0.5rem","overflow-y","hidden"],[1,"btn","btn-danger",2,"border-radius","50%","width","2rem","height","2rem","display","flex","align-items","center","justify-content","center",3,"click"],[4,"ngIf"]],template:function(r,i){1&r&&(d(0,"div",0)(1,"div",1)(2,"div",2),vt(3,"input",3),d(4,"label",4),b(5,"Nome work"),v()(),d(6,"div",5),vt(7,"input",6),d(8,"label",7),b(9,"Partita Iva"),v()(),d(10,"div",5),vt(11,"input",8),d(12,"label",9),b(13,"Codice lavoro"),v()()(),d(14,"div",10)(15,"div",11),vt(16,"input",12),d(17,"label",13),b(18,"Indirizzo"),v()(),d(19,"div",14)(20,"label",15),b(21,"Provincia"),v(),d(22,"div",16)(23,"select",17)(24,"option",18),b(25,"Alessandria"),v(),d(26,"option",19),b(27,"Ancona"),v(),d(28,"option",20),b(29,"Arezzo"),v(),d(30,"option",21),b(31,"Ascoli Piceno"),v(),d(32,"option",22),b(33,"Asti"),v(),d(34,"option",23),b(35,"Avellino"),v(),d(36,"option",24),b(37,"Bari"),v(),d(38,"option",25),b(39,"Barletta-Andria-Trani"),v(),d(40,"option",26),b(41,"Belluno"),v(),d(42,"option",27),b(43,"Benevento"),v(),d(44,"option",28),b(45,"Bergamo"),v(),d(46,"option",29),b(47,"Biella"),v(),d(48,"option",30),b(49,"Bologna"),v(),d(50,"option",31),b(51,"Bolzano"),v(),d(52,"option",32),b(53,"Brescia"),v(),d(54,"option",33),b(55,"Brindisi"),v(),d(56,"option",34),b(57,"Cagliari"),v(),d(58,"option",35),b(59,"Caltanissetta"),v(),d(60,"option",36),b(61,"Campobasso"),v(),d(62,"option",37),b(63,"Caserta"),v(),d(64,"option",38),b(65,"Catania"),v(),d(66,"option",39),b(67,"Catanzaro"),v(),d(68,"option",40),b(69,"Chieti"),v(),d(70,"option",41),b(71,"Como"),v(),d(72,"option",42),b(73,"Cosenza"),v(),d(74,"option",43),b(75,"Cremona"),v(),d(76,"option",44),b(77,"Crotone"),v(),d(78,"option",45),b(79,"Cuneo"),v(),d(80,"option",46),b(81,"Enna"),v(),d(82,"option",47),b(83,"Fermo"),v(),d(84,"option",48),b(85,"Ferrara"),v(),d(86,"option",49),b(87,"Firenze"),v(),d(88,"option",50),b(89,"Foggia"),v(),d(90,"option",51),b(91,"Forl\xec-Cesena"),v(),d(92,"option",52),b(93,"Frosinone"),v(),d(94,"option",53),b(95,"Genova"),v(),d(96,"option",54),b(97,"Gorizia"),v(),d(98,"option",55),b(99,"Grosseto"),v(),d(100,"option",56),b(101,"Imperia"),v(),d(102,"option",57),b(103,"Isernia"),v(),d(104,"option",58),b(105,"La Spezia"),v(),d(106,"option",59),b(107,"L'Aquila"),v(),d(108,"option",60),b(109,"Latina"),v(),d(110,"option",61),b(111,"Lecce"),v(),d(112,"option",62),b(113,"Lecco"),v(),d(114,"option",63),b(115,"Livorno"),v(),d(116,"option",64),b(117,"Lodi"),v(),d(118,"option",65),b(119,"Lucca"),v(),d(120,"option",66),b(121,"Macerata"),v(),d(122,"option",67),b(123,"Mantova"),v(),d(124,"option",68),b(125,"Massa-Carrara"),v(),d(126,"option",69),b(127,"Matera"),v(),d(128,"option",70),b(129,"Messina"),v(),d(130,"option",71),b(131,"Milano"),v(),d(132,"option",72),b(133,"Modena"),v(),d(134,"option",73),b(135,"Monza e della Brianza"),v(),d(136,"option",74),b(137,"Napoli"),v(),d(138,"option",75),b(139,"Novara"),v(),d(140,"option",76),b(141,"Nuoro"),v(),d(142,"option",77),b(143,"Ogliastra"),v(),d(144,"option",78),b(145,"Oristano"),v(),d(146,"option",79),b(147,"Padova"),v(),d(148,"option",80),b(149,"Palermo"),v(),d(150,"option",81),b(151,"Parma"),v(),d(152,"option",82),b(153,"Pavia"),v(),d(154,"option",83),b(155,"Perugia"),v(),d(156,"option",84),b(157,"Pesaro e Urbino"),v(),d(158,"option",85),b(159,"Pescara"),v(),d(160,"option",86),b(161,"Piacenza"),v(),d(162,"option",87),b(163,"Pisa"),v(),d(164,"option",88),b(165,"Pistoia"),v(),d(166,"option",89),b(167,"Pordenone"),v(),d(168,"option",90),b(169,"Potenza"),v(),d(170,"option",91),b(171,"Prato"),v(),d(172,"option",92),b(173,"Ragusa"),v(),d(174,"option",93),b(175,"Ravenna"),v(),d(176,"option",94),b(177,"Reggio Calabria"),v(),d(178,"option",95),b(179,"Reggio nell'Emilia"),v(),d(180,"option",96),b(181,"Rieti"),v(),d(182,"option",97),b(183,"Rimini"),v(),d(184,"option",98),b(185,"Roma"),v(),d(186,"option",99),b(187,"Rovigo"),v(),d(188,"option",100),b(189,"Salerno"),v(),d(190,"option",101),b(191,"Sassari"),v(),d(192,"option",102),b(193,"Savona"),v(),d(194,"option",103),b(195,"Siena"),v(),d(196,"option",104),b(197,"Siracusa"),v(),d(198,"option",105),b(199,"Sondrio"),v(),d(200,"option",106),b(201,"Sud Sardegna"),v(),d(202,"option",107),b(203,"Taranto"),v(),d(204,"option",108),b(205,"Teramo"),v(),d(206,"option",109),b(207,"Terni"),v(),d(208,"option",110),b(209,"Torino"),v(),d(210,"option",111),b(211,"Trapani"),v(),d(212,"option",112),b(213,"Trento"),v(),d(214,"option",113),b(215,"Treviso"),v(),d(216,"option",114),b(217,"Trieste"),v(),d(218,"option",115),b(219,"Udine"),v(),d(220,"option",116),b(221,"Valle d'Aosta"),v(),d(222,"option",117),b(223,"Varese"),v(),d(224,"option",118),b(225,"Venezia"),v(),d(226,"option",119),b(227,"Verbano-Cusio-Ossola"),v(),d(228,"option",120),b(229,"Vercelli"),v(),d(230,"option",121),b(231,"Verona"),v(),d(232,"option",122),b(233,"Vibo Valentia"),v(),d(234,"option",123),b(235,"Vicenza"),v(),d(236,"option",124),b(237,"Viterbo"),v()()()()(),d(238,"div",125)(239,"div",126)(240,"label",15),b(241,"Tipo cliente"),v(),d(242,"div",16)(243,"select",127)(244,"option",128),b(245,"Pubblica Amministrazione"),v(),d(246,"option",129),b(247,"Privato"),v()()()(),d(248,"div",130)(249,"div",131),vt(250,"input",132),d(251,"p",133),b(252,"Pavimentazione antitraoma"),v()(),d(253,"div",131),vt(254,"input",134),d(255,"p",133),b(256,"Pavimentazione drenante"),v()(),d(257,"div",131),vt(258,"input",135),d(259,"p",136),b(260,"Verde"),v()(),d(261,"div",131),vt(262,"input",137),d(263,"p",136),b(264,"Giochi"),v()()()(),d(265,"div",10)(266,"div",16),vt(267,"input",138),d(268,"label",139),b(269,"Data scadenza"),v()(),d(270,"div",140)(271,"label",15),b(272,"Stato lavoro"),v(),d(273,"div",16)(274,"select",141)(275,"option",142),b(276,"Da iniziare"),v(),d(277,"option",143),b(278,"In corso"),v(),d(279,"option",144),b(280,"Concluso"),v()()()(),d(281,"div",140)(282,"label",145),b(283,"Stato amministrativo"),v(),d(284,"div",16)(285,"select",146)(286,"option",147),b(287,"Da saldare"),v(),d(288,"option",148),b(289,"Saldato"),v()()()()(),d(290,"div",149)(291,"h3",150),b(292,"Sezione Rate"),v(),d(293,"span",151),b(294,"expand_more"),v()(),d(295,"div",152)(296,"div",153)(297,"div",16),vt(298,"input",154),d(299,"label",155),b(300,"Nome"),v()(),d(301,"div",156),vt(302,"input",157),d(303,"label",158),b(304,"Importo (\u20ac)"),v()(),d(305,"div",140)(306,"label",159),b(307,"Stato fatturazione"),v(),d(308,"div",16)(309,"select",160)(310,"option",161),b(311,"Non fatturata"),v(),d(312,"option",162),b(313,"Fatturata"),v()()()(),d(314,"div",16),vt(315,"input",163),d(316,"label",164),b(317,"Data fattura"),v()(),d(318,"div",165)(319,"label",166),b(320,"Stato incasso"),v(),d(321,"div",16)(322,"select",167)(323,"option",168),b(324,"Non incassata"),v(),d(325,"option",169),b(326,"Incassata"),v()()()(),d(327,"div",16),vt(328,"input",170),d(329,"label",171),b(330,"Data incasso"),v()(),d(331,"button",172),Sn("click",function(){return i.addInstallment()}),b(332,"Aggiungi rata"),v()(),d(333,"strong",173),b(334,"Rate da incassare: "),v(),d(335,"div",174)(336,"table",175)(337,"thead",176)(338,"tr")(339,"th",177),b(340,"Nome"),v(),d(341,"th",177),b(342,"Importo"),v(),d(343,"th",178),b(344,"Fatturata"),v(),d(345,"th",178),b(346,"Data fatturata"),v(),d(347,"th",178),b(348,"Incassata"),v(),d(349,"th",178),b(350,"Data incasso"),v(),d(351,"th",177),b(352,"Azioni"),v()()(),d(353,"tbody"),Xo(354,A_e,20,6,"tr",179),wA(355,"async"),v()(),d(356,"div",180)(357,"button",181),Sn("click",function(){return i.getMoreWorkInstallments()}),b(358,"Carica altri"),v()()()(),d(359,"div",140)(360,"label",15),b(361,"Capo lavoro"),v(),d(362,"div",16),vt(363,"select",182),v()(),d(364,"div",10)(365,"div",16),vt(366,"input",183),d(367,"label",184),b(368,"Giorni rimanenti"),v()(),d(369,"div",16),vt(370,"input",185),d(371,"label",186),b(372,"Giorni concessi di ritardo"),v()()(),d(373,"div",10)(374,"div",16)(375,"input",187),Sn("input",function(){return i.calcLaborCost()}),v(),d(376,"label",188),b(377,"Costo orario manodopera"),v()(),d(378,"div",16)(379,"input",189),Sn("input",function(){return i.calcLaborCost()}),v(),d(380,"label",190),b(381,"Lavoratori impiegati"),v()(),d(382,"div",16)(383,"input",191),Sn("input",function(){return i.calcLaborCost()}),v(),d(384,"label",192),b(385,"N. Ore manodopera"),v()()(),d(386,"div",10)(387,"div",16),vt(388,"input",193),d(389,"label",194),b(390,"Totale costo manodopera"),v()(),d(391,"div",16),vt(392,"input",195),d(393,"label",196),b(394,"Incasso lavoro"),v()()(),d(395,"div",197),vt(396,"input",198),d(397,"label",199),b(398,"Produttivit\xe0"),v()(),d(399,"div",200)(400,"div",201)(401,"h3",150),b(402,"Stato lavori"),v(),d(403,"span",151),b(404,"expand_more"),v()(),d(405,"div",202)(406,"strong",203),b(407,"Numero attivit\xe0 completate: "),v(),d(408,"div",204)(409,"div",16),vt(410,"input",205),d(411,"label",206),b(412,"Attivit\xe0"),v()(),d(413,"div",140)(414,"label",159),b(415,"Stato"),v(),d(416,"div",16)(417,"select",207)(418,"option",208),b(419,"Da completare"),v(),d(420,"option",209),b(421,"Completato"),v(),d(422,"option",143),b(423,"In corso"),v(),d(424,"option",210),b(425,"Non iniziato"),v(),d(426,"option",211),b(427,"In attesa"),v(),d(428,"option",212),b(429,"Scaduto"),v()()()(),d(430,"div",140)(431,"label",159),b(432,"Priorit\xe0"),v(),d(433,"div",16)(434,"select",213)(435,"option",214),b(436,"Alta"),v(),d(437,"option",215),b(438,"Media"),v(),d(439,"option",216),b(440,"Bassa"),v()()()(),d(441,"button",172),Sn("click",function(){return i.addWorkActivity()}),b(442,"Aggiungi attivit\xe0"),v()(),d(443,"div",174)(444,"table",175)(445,"thead",176)(446,"tr")(447,"th",217),b(448,"Attivit\xe0"),v(),d(449,"th",218),b(450,"Stato"),v(),d(451,"th",218),b(452,"Priorit\xe0"),v(),d(453,"th",218),b(454,"Azioni"),v()()(),d(455,"tbody"),Xo(456,g_e,16,5,"tr",179),wA(457,"async"),v()()(),d(458,"div",180)(459,"button",181),Sn("click",function(){return i.getMoreWorkActivities()}),b(460,"Carica altri"),v()()(),d(461,"div",219)(462,"h3",150),b(463,"Spesa lavoro"),v(),d(464,"span",151),b(465,"expand_more"),v()(),d(466,"div",220)(467,"div",221)(468,"div",153)(469,"div",156),vt(470,"input",222),d(471,"label",223),b(472,"N.Articoli"),v()(),d(473,"div",224),vt(474,"input",225),d(475,"label",226),b(476,"Descrizione"),v()(),d(477,"div",227),vt(478,"input",228),d(479,"label",229),b(480,"Costo unitario (\u20ac)"),v()(),d(481,"div",140)(482,"label",159),b(483,"Stato"),v(),d(484,"div",16)(485,"select",230)(486,"option",231),b(487,"Da ordinare"),v(),d(488,"option",232),b(489,"In arrivo"),v(),d(490,"option",233),b(491,"Arrivato"),v()()()(),d(492,"button",172),Sn("click",function(){return i.addCost()}),b(493,"Aggiungi spesa"),v()(),d(494,"strong",234),b(495,"Spesa totale:"),v(),d(496,"strong",235),b(497,"Articoli da ordinare: "),v(),d(498,"div",174)(499,"table",175)(500,"thead",176)(501,"tr")(502,"th",177),b(503,"N.Articoli"),v(),d(504,"th",177),b(505,"Descrizione"),v(),d(506,"th",178),b(507,"Costo unitario"),v(),d(508,"th",178),b(509,"Costo totale"),v(),d(510,"th",178),b(511,"Stato"),v(),d(512,"th",178),b(513,"Azioni"),v()()(),d(514,"tbody"),Xo(515,m_e,18,5,"tr",179),wA(516,"async"),v()(),d(517,"div",180)(518,"button",181),Sn("click",function(){return i.getMoreWorkCosts()}),b(519,"Carica altri"),v()()()()()(),d(520,"div",236)(521,"div",237)(522,"button",238),Sn("click",function(){return i.saveWork()}),b(523,"Salva lavoro"),v(),d(524,"button",239),b(525,"Annulla lavoro"),v()(),vt(526,"div",240),d(527,"div",241)(528,"h3",242),b(529,"Modifica lavoro"),v()()()()),2&r&&(gn(354),eo("ngForOf",Uh(355,3,i.documentsInstallments)),gn(102),eo("ngForOf",Uh(457,5,i.documentsActivities)),gn(59),eo("ngForOf",Uh(516,7,i.documentsCosts)))},dependencies:[bA,gg,SA,Zu,xf,Ff,_m]}),e})()},{path:"change-person",component:u_e},{path:"change-preventive",component:d_e},{path:"change-installment",component:(()=>{var t;class e{constructor(r,i,o,s){this.firestore=r,this.generalService=i,this.location=o,this.router=s}ngOnInit(){this.generalService.currentInstallment||this.router.navigate(["/home"]),document.getElementById("change-installment-name-input").value=this.generalService.currentInstallment.name,document.getElementById("change-installment-amount-input").value=this.generalService.currentInstallment.amount,document.getElementById("change-installment-fatturata-input").value=this.generalService.currentInstallment.fatturata,document.getElementById("change-installment-data-fattura-input").value=this.generalService.currentInstallment.data_fattura,document.getElementById("change-installment-incassata-input").value=this.generalService.currentInstallment.incassata,document.getElementById("change-installment-data-incasso-input").value=this.generalService.currentInstallment.data_incasso}changeInstallment(){this.newInstallment={name:document.getElementById("change-installment-name-input").value,amount:document.getElementById("change-installment-amount-input").value,fatturata:document.getElementById("change-installment-fatturata-input").value,data_fattura:document.getElementById("change-installment-data-fattura-input").value,incassata:document.getElementById("change-installment-incassata-input").value,data_incasso:document.getElementById("change-installment-data-incasso-input").value},this.firestore.collection("installments").doc(this.generalService.currentInstallment.id).update(this.newInstallment).then(()=>{this.updateAnnualCounter(),this.updateMonthlyCounter(),this.updateSpecificAnnualCounter(),this.updateSpecificMonthlyCounter(),this.location.back(),this.generalService.presentToast("Rata salvata con successo")}).catch(r=>{this.generalService.presentToast("Errore durante il salvataggio della rata: "+r.message)})}goBack(){this.location.back()}updateAnnualCounter(){const r=this.generalService.currentInstallment,i=this.newInstallment,o=(new Date).getFullYear().toString(),s="/counters/"+this.generalService.currentChangingElement+"/"+o+"/general/total/",a=bn.A.database().ref(s);this.updateCounter(a,r,i)}updateMonthlyCounter(){const r=this.generalService.currentInstallment,i=this.newInstallment,o=(new Date).getFullYear().toString(),s=((new Date).getMonth()+1).toString(),a="/counters/"+this.generalService.currentChangingElement+"/"+o+"/general/"+s+"/",l=bn.A.database().ref(a);this.updateCounter(l,r,i)}updateSpecificMonthlyCounter(){const r=this.generalService.currentInstallment,i=this.newInstallment,o=(new Date).getFullYear().toString(),s=((new Date).getMonth()+1).toString();this.refPathSpecificCounter="worksites"==this.generalService.currentChangingElement?"/counters/"+this.generalService.currentChangingElement+"/"+o+"/"+this.generalService.currentWorksite.id+"/"+s+"/":"/counters/"+this.generalService.currentChangingElement+"/"+o+"/"+this.generalService.currentWork.id+"/"+s+"/";const a=bn.A.database().ref(this.refPathSpecificCounter);this.updateCounter(a,r,i)}updateSpecificAnnualCounter(){const r=this.generalService.currentInstallment,i=this.newInstallment,o=(new Date).getFullYear().toString();((new Date).getMonth()+1).toString(),this.refPathSpecificCounter="worksites"==this.generalService.currentChangingElement?"/counters/"+this.generalService.currentChangingElement+"/"+o+"/"+this.generalService.currentWorksite.id+"/total/":"/counters/"+this.generalService.currentChangingElement+"/"+o+"/"+this.generalService.currentWork.id+"/total/";const a=bn.A.database().ref(this.refPathSpecificCounter);this.updateCounter(a,r,i)}updateCounter(r,i,o){if("fatturata"===o.fatturata){const s=parseFloat(o.amount)-("fatturata"===i.fatturata?parseFloat(i.amount):0);r.child("fatturato").transaction(a=>(parseFloat(a)||0)+s)}else"fatturata"===i.fatturata&&r.child("fatturato").transaction(s=>(parseFloat(s)||0)-parseFloat(i.amount));if("incassata"===o.incassata){const s=parseFloat(o.amount)-("incassata"===i.incassata?parseFloat(i.amount):0);r.child("incasso").transaction(a=>(parseFloat(a)||0)+s)}else"incassata"===i.incassata&&r.child("incasso").transaction(s=>(parseFloat(s)||0)-parseFloat(i.amount))}}return(t=e).\u0275fac=function(r){return new(r||t)(q(oc),q(Ml),q(Vh),q(Jo))},t.\u0275cmp=J({type:t,selectors:[["app-change-installment"]],decls:42,vars:0,consts:[[2,"width","100%","height","100%","display","flex","flex-direction","column","overflow-y","auto","overflow-x","hidden","position","absolute","background","white","z-index","9999"],[2,"width","100%","display","flex","flex-direction","row","align-items","center","padding-bottom","1rem","flex-shrink","0","padding-left","1rem"],["name","chevron-back",2,"cursor","pointer","font-size","1.8rem",3,"click"],[2,"width","100%","display","flex","flex-direction","row","align-items","center","gap","1rem","padding-left","1rem","flex-wrap","wrap","padding-bottom","2rem"],[1,"inputGroup"],["id","change-installment-name-input","type","text",1,"input-field3"],["for","change-installment-name-input"],[1,"inputGroup",2,"width","8rem"],["id","change-installment-amount-input","type","number",1,"input-field3"],["for","change-installment-amount-input"],[2,"display","flex","flex-direction","column","margin-top","0.4rem"],[2,"margin-bottom","-1.5rem","z-index","2","background","white","margin-left","1.5rem","font-size","14px","color","rgb(100, 100, 100)","width","8rem","text-align","center"],["id","change-installment-fatturata-input",1,"selector1",2,"width","100%"],["value","non_fatturata"],["value","fatturata"],["id","change-installment-data-fattura-input","type","date",1,"input-field3"],["for","change-installment-data-fattura-input"],[2,"display","flex","flex-direction","column","margin-top","0.4rem","width","8rem"],[2,"margin-bottom","-1.5rem","z-index","2","background","white","margin-left","1.5rem","font-size","14px","color","rgb(100, 100, 100)","width","auto"],["id","change-installment-incassata-input",1,"selector1",2,"width","100%"],["value","non_incassata"],["value","incassata"],["id","change-installment-data-incasso-input","type","date",1,"input-field3"],["for","change-installment-data-incasso-input"],[1,"button5",2,"height","3rem","padding-left","0.5rem","padding-right","0.5rem","margin-top","1rem","margin-bottom","1rem","width","8rem","height","3rem",3,"click"]],template:function(r,i){1&r&&(d(0,"div",0)(1,"div",1)(2,"ion-icon",2),Sn("click",function(){return i.goBack()}),v(),d(3,"h3"),b(4,"Modifica rata"),v()(),d(5,"div",3)(6,"div",4),vt(7,"input",5),d(8,"label",6),b(9,"Nome"),v()(),d(10,"div",7),vt(11,"input",8),d(12,"label",9),b(13,"Importo (\u20ac)"),v()(),d(14,"div",10)(15,"label",11),b(16,"Stato fatturazione"),v(),d(17,"div",4)(18,"select",12)(19,"option",13),b(20,"Non fatturata"),v(),d(21,"option",14),b(22,"Fatturata"),v()()()(),d(23,"div",4),vt(24,"input",15),d(25,"label",16),b(26,"Data fattura"),v()(),d(27,"div",17)(28,"label",18),b(29,"Stato incasso"),v(),d(30,"div",4)(31,"select",19)(32,"option",20),b(33,"Non incassata"),v(),d(34,"option",21),b(35,"Incassata"),v()()()(),d(36,"div",4),vt(37,"input",22),d(38,"label",23),b(39,"Data incasso"),v()(),d(40,"button",24),Sn("click",function(){return i.changeInstallment()}),b(41,"Salva rata"),v()()())},dependencies:[ql,xf,Ff]}),e})()},{path:"change-cost",component:(()=>{var t;class e{constructor(r,i,o){this.firestore=r,this.generalService=i,this.location=o}ngOnInit(){document.getElementById("change-cost-articles-number-input").value=this.generalService.currentCost.articles_number,document.getElementById("change-cost-description-input").value=this.generalService.currentCost.description,document.getElementById("change-cost-cost-input").value=this.generalService.currentCost.cost,document.getElementById("change-cost-status-input").value=this.generalService.currentCost.status,this.cost=parseFloat(this.generalService.currentCost.cost)*parseFloat(this.generalService.currentCost.articles_number)}goBack(){this.location.back()}changeCost(){this.newCost=parseFloat(document.getElementById("change-cost-cost-input").value)*parseFloat(document.getElementById("change-cost-articles-number-input").value);const r=document.getElementById("change-cost-articles-number-input"),i=document.getElementById("change-cost-description-input"),o=document.getElementById("change-cost-cost-input"),s=document.getElementById("change-cost-status-input");if(!(r&&i&&o&&s))return void this.generalService.presentToast("Errore: uno o pi\xf9 campi di input non trovati.");const a=r.value,l=i.value,u=parseFloat(o.value),m=s.value;this.updateAnnualCounter(),this.updateMonthlyCounter(),this.updateSpecificAnnualCounter(),this.updateSpecificMonthlyCounter(),this.firestore.collection("costs").doc(this.generalService.currentCost.id).update({articles_number:a,description:l,cost:u,status:m}).then(()=>{this.location.back(),this.generalService.presentToast("Spesa salvata con successo")}).catch(I=>{this.generalService.presentToast("Errore durante il salvataggio della spesa: "+I.message)})}updateAnnualCounter(){const r=(new Date).getFullYear().toString(),i=`/counters/${this.generalService.currentChangingElement}/${r}/general/total/`,o=bn.A.database().ref(i);this.updateCounter(o,this.cost,this.newCost)}updateMonthlyCounter(){const r=(new Date).getFullYear().toString(),i=((new Date).getMonth()+1).toString(),o=`/counters/${this.generalService.currentChangingElement}/${r}/general/${i}/`,s=bn.A.database().ref(o);this.updateCounter(s,this.cost,this.newCost)}updateSpecificMonthlyCounter(){const r=(new Date).getFullYear().toString(),i=((new Date).getMonth()+1).toString();let o;o="worksites"===this.generalService.currentChangingElement?`/counters/${this.generalService.currentChangingElement}/${r}/${this.generalService.currentWorksite.id}/${i}/`:`/counters/${this.generalService.currentChangingElement}/${r}/${this.generalService.currentWork.id}/${i}/`;const s=bn.A.database().ref(o);this.updateCounter(s,this.cost,this.newCost)}updateSpecificAnnualCounter(){const r=(new Date).getFullYear().toString();let i;i="worksites"===this.generalService.currentChangingElement?`/counters/${this.generalService.currentChangingElement}/${r}/${this.generalService.currentWorksite.id}/total/`:`/counters/${this.generalService.currentChangingElement}/${r}/${this.generalService.currentWork.id}/total/`;const o=bn.A.database().ref(i);this.updateCounter(o,this.cost,this.newCost)}updateCounter(r,i,o){r.child("spesa").transaction(s=>{const a=parseFloat(s||0)-parseFloat(i)+parseFloat(o||0);return isNaN(a)?0:a})}}return(t=e).\u0275fac=function(r){return new(r||t)(q(oc),q(Ml),q(Vh))},t.\u0275cmp=J({type:t,selectors:[["app-change-cost"]],decls:31,vars:0,consts:[[2,"width","100%","height","100%","display","flex","flex-direction","column","overflow-y","auto"],[2,"display","flex","flex-direction","row","align-items","center"],["name","chevron-back",2,"cursor","pointer","font-size","1.8rem",3,"click"],[2,"width","100%","display","flex","flex-direction","row","align-items","center","gap","1rem","padding-left","1rem","flex-wrap","wrap","padding-bottom","2rem"],[1,"inputGroup",2,"width","8rem"],["id","change-cost-articles-number-input","type","number",1,"input-field3"],["for","change-cost-articles-number-input"],[1,"inputGroup",2,"width","15rem"],["id","change-cost-description-input","type","text",1,"input-field3"],["for","change-cost-description-input"],[1,"inputGroup",2,"width","12rem"],["id","change-cost-cost-input","type","number",1,"input-field3"],["for","change-cost-cost-input"],[2,"display","flex","flex-direction","column","margin-top","0.4rem"],[2,"margin-bottom","-1.5rem","z-index","2","background","white","margin-left","1.5rem","font-size","14px","color","rgb(100, 100, 100)","width","8rem","text-align","center"],[1,"inputGroup"],["id","change-cost-status-input",1,"selector1",2,"width","100%"],["value","to-order"],["value","arriving"],["value","arrived"],[1,"button5",2,"height","3rem","padding-left","0.5rem","padding-right","0.5rem","margin-top","1rem","margin-bottom","1rem","width","8rem","height","3rem",3,"click"]],template:function(r,i){1&r&&(d(0,"div",0)(1,"div",1)(2,"ion-icon",2),Sn("click",function(){return i.goBack()}),v(),d(3,"h3"),b(4,"Modifica spesa"),v()(),d(5,"div",3)(6,"div",4),vt(7,"input",5),d(8,"label",6),b(9,"N.Articoli"),v()(),d(10,"div",7),vt(11,"input",8),d(12,"label",9),b(13,"Descrizione"),v()(),d(14,"div",10),vt(15,"input",11),d(16,"label",12),b(17,"Costo unitario (\u20ac)"),v()(),d(18,"div",13)(19,"label",14),b(20,"Stato"),v(),d(21,"div",15)(22,"select",16)(23,"option",17),b(24,"Da ordinare"),v(),d(25,"option",18),b(26,"In arrivo"),v(),d(27,"option",19),b(28,"Arrivato"),v()()()(),d(29,"button",20),Sn("click",function(){return i.changeCost()}),b(30,"Salva spesa"),v()()())},dependencies:[ql,xf,Ff]}),e})()},{path:"change-activity",component:(()=>{var t;class e{constructor(r,i,o){this.firestore=r,this.generalService=i,this.location=o}ngOnInit(){document.getElementById("change-activity-name-input").value=this.generalService.currentActivity.activity,document.getElementById("change-activity-status-input").value=this.generalService.currentActivity.status,document.getElementById("change-activity-priority-input").value=this.generalService.currentActivity.priority}changeActivity(){this.firestore.collection("activities").doc(this.generalService.currentActivity.id).update({activity:document.getElementById("change-activity-name-input").value,status:document.getElementById("change-activity-status-input").value,priority:document.getElementById("change-activity-priority-input").value}).then(()=>{this.generalService.presentToast("Attivit\xe0 salvata con successo")}).catch(r=>{this.generalService.presentToast("Errore durante il salvataggio dell'attivit\xe0: "+r.message)})}goBack(){this.location.back()}}return(t=e).\u0275fac=function(r){return new(r||t)(q(oc),q(Ml),q(Vh))},t.\u0275cmp=J({type:t,selectors:[["app-change-activity"]],decls:40,vars:0,consts:[[2,"width","100%","height","100%","display","flex","flex-direction","column","overflow-y","auto","overflow-x","hidden","position","absolute","background","white","z-index","9999"],[2,"width","100%","display","flex","flex-direction","row","align-items","center","padding-bottom","1rem","flex-shrink","0","padding-left","1rem"],["name","chevron-back",2,"cursor","pointer","font-size","1.8rem",3,"click"],[2,"width","100%","display","flex","flex-direction","row","align-items","center","gap","1rem","padding-left","1rem","flex-wrap","wrap","padding-bottom","1rem"],[1,"inputGroup"],["id","change-activity-name-input","type","text",1,"input-field3"],["for","change-activity-name-input"],[2,"display","flex","flex-direction","column","margin-top","0.4rem"],[2,"margin-bottom","-1.5rem","z-index","2","background","white","margin-left","1.5rem","font-size","14px","color","rgb(100, 100, 100)","width","8rem","text-align","center"],["id","change-activity-status-input",1,"selector1",2,"width","100%"],["value","to-do"],["value","completed"],["value","doing"],["value","not_started"],["value","pending"],["value","timed_out"],["id","change-activity-priority-input",1,"selector1",2,"width","100%"],["value","3"],["value","2"],["value","1"],[1,"button5",2,"height","3rem","padding-left","0.5rem","padding-right","0.5rem","margin-top","1rem","margin-bottom","1rem","width","8rem","height","3rem",3,"click"]],template:function(r,i){1&r&&(d(0,"div",0)(1,"div",1)(2,"ion-icon",2),Sn("click",function(){return i.goBack()}),v(),d(3,"h3"),b(4,"Modifica attivit\xe0"),v()(),d(5,"div",3)(6,"div",4),vt(7,"input",5),d(8,"label",6),b(9,"Attivit\xe0"),v()(),d(10,"div",7)(11,"label",8),b(12,"Stato"),v(),d(13,"div",4)(14,"select",9)(15,"option",10),b(16,"Da completare"),v(),d(17,"option",11),b(18,"Completato"),v(),d(19,"option",12),b(20,"In corso"),v(),d(21,"option",13),b(22,"Non iniziato"),v(),d(23,"option",14),b(24,"In attesa"),v(),d(25,"option",15),b(26,"Scaduto"),v()()()(),d(27,"div",7)(28,"label",8),b(29,"Priorit\xe0"),v(),d(30,"div",4)(31,"select",16)(32,"option",17),b(33,"Alta"),v(),d(34,"option",18),b(35,"Media"),v(),d(36,"option",19),b(37,"Bassa"),v()()()(),d(38,"button",20),Sn("click",function(){return i.changeActivity()}),b(39,"Salva attivit\xe0"),v()()())},dependencies:[ql,xf,Ff]}),e})()}];let y_e=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=xt({type:t}),t.\u0275inj=Yi({imports:[EU.forRoot(v_e,{preloadingStrategy:goe}),EU]}),e})(),__e=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=xt({type:t,bootstrap:[gye]}),t.\u0275inj=Yi({providers:[{provide:Df,useClass:C3}],imports:[xte,Nle.forRoot(),y_e,Zne,BT,tue.initializeApp(wO_firebaseConfig),lue,Ofe]}),e})();Bte().bootstrapModule(__e).catch(t=>console.log(t))},7239:function(go){go.exports=function(){"use strict";var kr=function(A,h){return(kr=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(w,_){w.__proto__=_}||function(w,_){for(var F in _)Object.prototype.hasOwnProperty.call(_,F)&&(w[F]=_[F])})(A,h)};function wt(A,h){if("function"!=typeof h&&null!==h)throw new TypeError("Class extends value "+String(h)+" is not a constructor or null");function w(){this.constructor=A}kr(A,h),A.prototype=null===h?Object.create(h):(w.prototype=h.prototype,new w)}var V=function(){return V=Object.assign||function(h){for(var w,_=1,F=arguments.length;_<F;_++)for(var O in w=arguments[_])Object.prototype.hasOwnProperty.call(w,O)&&(h[O]=w[O]);return h},V.apply(this,arguments)};function ln(A,h,w,_){return new(w||(w=Promise))(function(O,z){function $(Se){try{ye(_.next(Se))}catch(ke){z(ke)}}function W(Se){try{ye(_.throw(Se))}catch(ke){z(ke)}}function ye(Se){Se.done?O(Se.value):function F(O){return O instanceof w?O:new w(function(z){z(O)})}(Se.value).then($,W)}ye((_=_.apply(A,h||[])).next())})}function Mt(A,h){var _,F,O,z,w={label:0,sent:function(){if(1&O[0])throw O[1];return O[1]},trys:[],ops:[]};return z={next:$(0),throw:$(1),return:$(2)},"function"==typeof Symbol&&(z[Symbol.iterator]=function(){return this}),z;function $(ye){return function(Se){return function W(ye){if(_)throw new TypeError("Generator is already executing.");for(;w;)try{if(_=1,F&&(O=2&ye[0]?F.return:ye[0]?F.throw||((O=F.return)&&O.call(F),0):F.next)&&!(O=O.call(F,ye[1])).done)return O;switch(F=0,O&&(ye=[2&ye[0],O.value]),ye[0]){case 0:case 1:O=ye;break;case 4:return w.label++,{value:ye[1],done:!1};case 5:w.label++,F=ye[1],ye=[0];continue;case 7:ye=w.ops.pop(),w.trys.pop();continue;default:if(!(O=(O=w.trys).length>0&&O[O.length-1])&&(6===ye[0]||2===ye[0])){w=0;continue}if(3===ye[0]&&(!O||ye[1]>O[0]&&ye[1]<O[3])){w.label=ye[1];break}if(6===ye[0]&&w.label<O[1]){w.label=O[1],O=ye;break}if(O&&w.label<O[2]){w.label=O[2],w.ops.push(ye);break}O[2]&&w.ops.pop(),w.trys.pop();continue}ye=h.call(A,w)}catch(Se){ye=[6,Se],F=0}finally{_=O=0}if(5&ye[0])throw ye[1];return{value:ye[0]?ye[1]:void 0,done:!0}}([ye,Se])}}}function tt(A,h,w){if(w||2===arguments.length)for(var O,_=0,F=h.length;_<F;_++)(O||!(_ in h))&&(O||(O=Array.prototype.slice.call(h,0,_)),O[_]=h[_]);return A.concat(O||h)}for(var Tn=function(){function A(h,w,_,F){this.left=h,this.top=w,this.width=_,this.height=F}return A.prototype.add=function(h,w,_,F){return new A(this.left+h,this.top+w,this.width+_,this.height+F)},A.fromClientRect=function(h,w){return new A(w.left+h.windowBounds.left,w.top+h.windowBounds.top,w.width,w.height)},A.fromDOMRectList=function(h,w){var _=Array.from(w).find(function(F){return 0!==F.width});return _?new A(_.left+h.windowBounds.left,_.top+h.windowBounds.top,_.width,_.height):A.EMPTY},A.EMPTY=new A(0,0,0,0),A}(),Ut=function(A,h){return Tn.fromClientRect(A,h.getBoundingClientRect())},Rt=function(A){for(var h=[],w=0,_=A.length;w<_;){var F=A.charCodeAt(w++);if(F>=55296&&F<=56319&&w<_){var O=A.charCodeAt(w++);56320==(64512&O)?h.push(((1023&F)<<10)+(1023&O)+65536):(h.push(F),w--)}else h.push(F)}return h},Ot=function(){for(var A=[],h=0;h<arguments.length;h++)A[h]=arguments[h];if(String.fromCodePoint)return String.fromCodePoint.apply(String,A);var w=A.length;if(!w)return"";for(var _=[],F=-1,O="";++F<w;){var z=A[F];z<=65535?_.push(z):_.push(55296+((z-=65536)>>10),z%1024+56320),(F+1===w||_.length>16384)&&(O+=String.fromCharCode.apply(String,_),_.length=0)}return O},He="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",De=typeof Uint8Array>"u"?[]:new Uint8Array(256),ot=0;ot<64;ot++)De[He.charCodeAt(ot)]=ot;for(var Ie="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",nt=typeof Uint8Array>"u"?[]:new Uint8Array(256),Ye=0;Ye<64;Ye++)nt[Ie.charCodeAt(Ye)]=Ye;for(var kt=function(A,h,w){return A.slice?A.slice(h,w):new Uint16Array(Array.prototype.slice.call(A,h,w))},fe=function(){function A(h,w,_,F,O,z){this.initialValue=h,this.errorValue=w,this.highStart=_,this.highValueIndex=F,this.index=O,this.data=z}return A.prototype.get=function(h){var w;if(h>=0){if(h<55296||h>56319&&h<=65535)return this.data[w=((w=this.index[h>>5])<<2)+(31&h)];if(h<=65535)return this.data[w=((w=this.index[2048+(h-55296>>5)])<<2)+(31&h)];if(h<this.highStart)return w=this.index[w=2080+(h>>11)],this.data[w=((w=this.index[w+=h>>5&63])<<2)+(31&h)];if(h<=1114111)return this.data[this.highValueIndex]}return this.errorValue},A}(),Te="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Ke=typeof Uint8Array>"u"?[]:new Uint8Array(256),Ct=0;Ct<64;Ct++)Ke[Te.charCodeAt(Ct)]=Ct;var w,_,F,z,$,en=10,tr=13,wi=15,xi=17,zr=18,ko=19,qi=20,ys=21,Bs=22,Vi=24,gi=25,ea=26,Ds=27,_s=28,Eo=30,us=32,gl=33,lc=34,Pa=35,ml=37,Ru=38,ro=39,Aa=40,ut=42,dt=[9001,65288],rt="\xd7",qn=(w=function(A){var _,O,z,$,W,h=.75*A.length,w=A.length,F=0;"="===A[A.length-1]&&(h--,"="===A[A.length-2]&&h--);var ye=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(h):new Array(h),Se=Array.isArray(ye)?ye:new Uint8Array(ye);for(_=0;_<w;_+=4)O=nt[A.charCodeAt(_)],z=nt[A.charCodeAt(_+1)],$=nt[A.charCodeAt(_+2)],W=nt[A.charCodeAt(_+3)],Se[F++]=O<<2|z>>4,Se[F++]=(15&z)<<4|$>>2,Se[F++]=(3&$)<<6|63&W;return ye}("KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA=="),_=Array.isArray(w)?function(A){for(var h=A.length,w=[],_=0;_<h;_+=4)w.push(A[_+3]<<24|A[_+2]<<16|A[_+1]<<8|A[_]);return w}(w):new Uint32Array(w),F=Array.isArray(w)?function(A){for(var h=A.length,w=[],_=0;_<h;_+=2)w.push(A[_+1]<<8|A[_]);return w}(w):new Uint16Array(w),z=kt(F,12,_[4]/2),$=2===_[5]?kt(F,(24+_[4])/2):function(A,h,w){return A.slice?A.slice(h,w):new Uint32Array(Array.prototype.slice.call(A,h,w))}(_,Math.ceil((24+_[4])/4)),new fe(_[0],_[1],_[2],_[3],z,$)),$r=[Eo,36],mo=[1,2,3,5],Nr=[en,8],Zo=[Ds,ea],Ci=mo.concat(Nr),hn=[Ru,ro,Aa,lc,Pa],ha=[wi,tr],Jl=function(A,h,w,_){var F=_[w];if(Array.isArray(A)?-1!==A.indexOf(F):A===F)for(var O=w;O<=_.length;){if((z=_[++O])===h)return!0;if(z!==en)break}if(F===en)for(O=w;O>0;){var $=_[--O];if(Array.isArray(A)?-1!==A.indexOf($):A===$)for(var W=w;W<=_.length;){var z;if((z=_[++W])===h)return!0;if(z!==en)break}if($!==en)break}return!1},pd=function(A,h){for(var w=A;w>=0;){var _=h[w];if(_!==en)return _;w--}return 0},NA=function(A,h,w,_,F){if(0===w[_])return rt;var O=_-1;if(Array.isArray(F)&&!0===F[O])return rt;var z=O-1,$=O+1,W=h[O],ye=z>=0?h[z]:0,Se=h[$];if(2===W&&3===Se)return rt;if(-1!==mo.indexOf(W))return"!";if(-1!==mo.indexOf(Se)||-1!==Nr.indexOf(Se))return rt;if(8===pd(O,h))return"\xf7";if(11===qn.get(A[O])||(W===us||W===gl)&&11===qn.get(A[$])||7===W||7===Se||9===W||-1===[en,tr,wi].indexOf(W)&&9===Se||-1!==[xi,zr,ko,Vi,_s].indexOf(Se)||pd(O,h)===Bs||Jl(23,Bs,O,h)||Jl([xi,zr],ys,O,h)||Jl(12,12,O,h))return rt;if(W===en)return"\xf7";if(23===W||23===Se)return rt;if(16===Se||16===W)return"\xf7";if(-1!==[tr,wi,ys].indexOf(Se)||14===W||36===ye&&-1!==ha.indexOf(W)||W===_s&&36===Se||Se===qi||-1!==$r.indexOf(Se)&&W===gi||-1!==$r.indexOf(W)&&Se===gi||W===Ds&&-1!==[ml,us,gl].indexOf(Se)||-1!==[ml,us,gl].indexOf(W)&&Se===ea||-1!==$r.indexOf(W)&&-1!==Zo.indexOf(Se)||-1!==Zo.indexOf(W)&&-1!==$r.indexOf(Se)||-1!==[Ds,ea].indexOf(W)&&(Se===gi||-1!==[Bs,wi].indexOf(Se)&&h[$+1]===gi)||-1!==[Bs,wi].indexOf(W)&&Se===gi||W===gi&&-1!==[gi,_s,Vi].indexOf(Se))return rt;if(-1!==[gi,_s,Vi,xi,zr].indexOf(Se))for(var ke=O;ke>=0;){if((_t=h[ke])===gi)return rt;if(-1===[_s,Vi].indexOf(_t))break;ke--}if(-1!==[Ds,ea].indexOf(Se))for(ke=-1!==[xi,zr].indexOf(W)?z:O;ke>=0;){var _t;if((_t=h[ke])===gi)return rt;if(-1===[_s,Vi].indexOf(_t))break;ke--}if(Ru===W&&-1!==[Ru,ro,lc,Pa].indexOf(Se)||-1!==[ro,lc].indexOf(W)&&-1!==[ro,Aa].indexOf(Se)||-1!==[Aa,Pa].indexOf(W)&&Se===Aa||-1!==hn.indexOf(W)&&-1!==[qi,ea].indexOf(Se)||-1!==hn.indexOf(Se)&&W===Ds||-1!==$r.indexOf(W)&&-1!==$r.indexOf(Se)||W===Vi&&-1!==$r.indexOf(Se)||-1!==$r.concat(gi).indexOf(W)&&Se===Bs&&-1===dt.indexOf(A[$])||-1!==$r.concat(gi).indexOf(Se)&&W===zr)return rt;if(41===W&&41===Se){for(var qt=w[O],an=1;qt>0&&41===h[--qt];)an++;if(an%2!=0)return rt}return W===us&&Se===gl?rt:"\xf7"},Pu=function(A,h){h||(h={lineBreak:"normal",wordBreak:"normal"});var w=function(A,h){void 0===h&&(h="strict");var w=[],_=[],F=[];return A.forEach(function(O,z){var $=qn.get(O);if($>50?(F.push(!0),$-=50):F.push(!1),-1!==["normal","auto","loose"].indexOf(h)&&-1!==[8208,8211,12316,12448].indexOf(O))return _.push(z),w.push(16);if(4===$||11===$){if(0===z)return _.push(z),w.push(Eo);var W=w[z-1];return-1===Ci.indexOf(W)?(_.push(_[z-1]),w.push(W)):(_.push(z),w.push(Eo))}return _.push(z),31===$?w.push("strict"===h?ys:ml):$===ut||29===$?w.push(Eo):43===$?w.push(O>=131072&&O<=196605||O>=196608&&O<=262141?ml:Eo):void w.push($)}),[_,w,F]}(A,h.lineBreak),_=w[0],F=w[1],O=w[2];return("break-all"===h.wordBreak||"break-word"===h.wordBreak)&&(F=F.map(function($){return-1!==[gi,Eo,ut].indexOf($)?ml:$})),[_,F,"keep-all"===h.wordBreak?O.map(function($,W){return $&&A[W]>=19968&&A[W]<=40959}):void 0]},fa=function(){function A(h,w,_,F){this.codePoints=h,this.required="!"===w,this.start=_,this.end=F}return A.prototype.slice=function(){return Ot.apply(void 0,this.codePoints.slice(this.start,this.end))},A}(),io=function(A){return A>=48&&A<=57},ph=function(A){return io(A)||A>=65&&A<=70||A>=97&&A<=102},_l=function(A){return 10===A||9===A||32===A},qd=function(A){return function(A){return function(A){return A>=97&&A<=122}(A)||function(A){return A>=65&&A<=90}(A)}(A)||function(A){return A>=128}(A)||95===A},cc=function(A){return qd(A)||io(A)||45===A},tl=function(A){return A>=0&&A<=8||11===A||A>=14&&A<=31||127===A},Lu=function(A,h){return 92===A&&10!==h},jr=function(A,h,w){return 45===A?qd(h)||Lu(h,w):!!qd(A)||!(92!==A||!Lu(A,h))},lo=function(A,h,w){return 43===A||45===A?!!io(h)||46===h&&io(w):io(46===A?h:A)},tp=function(A){var h=0,w=1;(43===A[h]||45===A[h])&&(45===A[h]&&(w=-1),h++);for(var _=[];io(A[h]);)_.push(A[h++]);var F=_.length?parseInt(Ot.apply(void 0,_),10):0;46===A[h]&&h++;for(var O=[];io(A[h]);)O.push(A[h++]);var z=O.length,$=z?parseInt(Ot.apply(void 0,O),10):0;(69===A[h]||101===A[h])&&h++;var W=1;(43===A[h]||45===A[h])&&(45===A[h]&&(W=-1),h++);for(var ye=[];io(A[h]);)ye.push(A[h++]);var Se=ye.length?parseInt(Ot.apply(void 0,ye),10):0;return w*(F+$*Math.pow(10,-z))*Math.pow(10,W*Se)},Ou={type:2},Lc={type:3},LA={type:4},Yd={type:13},Oc={type:8},Hr={type:21},Xd={type:9},md={type:10},Ls={type:11},mh={type:12},Uc={type:14},nl={type:23},fr={type:1},vd={type:25},vh={type:24},np={type:26},rp={type:27},Vp={type:28},Vc={type:29},Jd={type:31},OA={type:32},eu=function(){function A(){this._value=[]}return A.prototype.write=function(h){this._value=this._value.concat(Rt(h))},A.prototype.read=function(){for(var h=[],w=this.consumeToken();w!==OA;)h.push(w),w=this.consumeToken();return h},A.prototype.consumeToken=function(){var h=this.consumeCodePoint();switch(h){case 34:return this.consumeStringToken(34);case 35:var w=this.peekCodePoint(0),_=this.peekCodePoint(1),F=this.peekCodePoint(2);if(cc(w)||Lu(_,F)){var O=jr(w,_,F)?2:1;return{type:5,value:this.consumeName(),flags:O}}break;case 36:if(61===this.peekCodePoint(0))return this.consumeCodePoint(),Yd;break;case 39:return this.consumeStringToken(39);case 40:return Ou;case 41:return Lc;case 42:if(61===this.peekCodePoint(0))return this.consumeCodePoint(),Uc;break;case 43:if(lo(h,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(h),this.consumeNumericToken();break;case 44:return LA;case 45:var $=h,W=this.peekCodePoint(0),ye=this.peekCodePoint(1);if(lo($,W,ye))return this.reconsumeCodePoint(h),this.consumeNumericToken();if(jr($,W,ye))return this.reconsumeCodePoint(h),this.consumeIdentLikeToken();if(45===W&&62===ye)return this.consumeCodePoint(),this.consumeCodePoint(),vh;break;case 46:if(lo(h,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(h),this.consumeNumericToken();break;case 47:if(42===this.peekCodePoint(0))for(this.consumeCodePoint();;){var Se=this.consumeCodePoint();if(42===Se&&47===(Se=this.consumeCodePoint()))return this.consumeToken();if(-1===Se)return this.consumeToken()}break;case 58:return np;case 59:return rp;case 60:if(33===this.peekCodePoint(0)&&45===this.peekCodePoint(1)&&45===this.peekCodePoint(2))return this.consumeCodePoint(),this.consumeCodePoint(),vd;break;case 64:var ke=this.peekCodePoint(0),_t=this.peekCodePoint(1),qt=this.peekCodePoint(2);if(jr(ke,_t,qt))return{type:7,value:this.consumeName()};break;case 91:return Vp;case 92:if(Lu(h,this.peekCodePoint(0)))return this.reconsumeCodePoint(h),this.consumeIdentLikeToken();break;case 93:return Vc;case 61:if(61===this.peekCodePoint(0))return this.consumeCodePoint(),Oc;break;case 123:return Ls;case 125:return mh;case 117:case 85:var an=this.peekCodePoint(0),Kt=this.peekCodePoint(1);return 43===an&&(ph(Kt)||63===Kt)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(h),this.consumeIdentLikeToken();case 124:if(61===this.peekCodePoint(0))return this.consumeCodePoint(),Xd;if(124===this.peekCodePoint(0))return this.consumeCodePoint(),Hr;break;case 126:if(61===this.peekCodePoint(0))return this.consumeCodePoint(),md;break;case-1:return OA}return _l(h)?(this.consumeWhiteSpace(),Jd):io(h)?(this.reconsumeCodePoint(h),this.consumeNumericToken()):qd(h)?(this.reconsumeCodePoint(h),this.consumeIdentLikeToken()):{type:6,value:Ot(h)}},A.prototype.consumeCodePoint=function(){var h=this._value.shift();return typeof h>"u"?-1:h},A.prototype.reconsumeCodePoint=function(h){this._value.unshift(h)},A.prototype.peekCodePoint=function(h){return h>=this._value.length?-1:this._value[h]},A.prototype.consumeUnicodeRangeToken=function(){for(var h=[],w=this.consumeCodePoint();ph(w)&&h.length<6;)h.push(w),w=this.consumeCodePoint();for(var _=!1;63===w&&h.length<6;)h.push(w),w=this.consumeCodePoint(),_=!0;if(_)return{type:30,start:parseInt(Ot.apply(void 0,h.map(function(W){return 63===W?48:W})),16),end:parseInt(Ot.apply(void 0,h.map(function(W){return 63===W?70:W})),16)};var z=parseInt(Ot.apply(void 0,h),16);if(45===this.peekCodePoint(0)&&ph(this.peekCodePoint(1))){this.consumeCodePoint(),w=this.consumeCodePoint();for(var $=[];ph(w)&&$.length<6;)$.push(w),w=this.consumeCodePoint();return{type:30,start:z,end:parseInt(Ot.apply(void 0,$),16)}}return{type:30,start:z,end:z}},A.prototype.consumeIdentLikeToken=function(){var h=this.consumeName();return"url"===h.toLowerCase()&&40===this.peekCodePoint(0)?(this.consumeCodePoint(),this.consumeUrlToken()):40===this.peekCodePoint(0)?(this.consumeCodePoint(),{type:19,value:h}):{type:20,value:h}},A.prototype.consumeUrlToken=function(){var h=[];if(this.consumeWhiteSpace(),-1===this.peekCodePoint(0))return{type:22,value:""};var w=this.peekCodePoint(0);if(39===w||34===w){var _=this.consumeStringToken(this.consumeCodePoint());return 0===_.type&&(this.consumeWhiteSpace(),-1===this.peekCodePoint(0)||41===this.peekCodePoint(0))?(this.consumeCodePoint(),{type:22,value:_.value}):(this.consumeBadUrlRemnants(),nl)}for(;;){var F=this.consumeCodePoint();if(-1===F||41===F)return{type:22,value:Ot.apply(void 0,h)};if(_l(F))return this.consumeWhiteSpace(),-1===this.peekCodePoint(0)||41===this.peekCodePoint(0)?(this.consumeCodePoint(),{type:22,value:Ot.apply(void 0,h)}):(this.consumeBadUrlRemnants(),nl);if(34===F||39===F||40===F||tl(F))return this.consumeBadUrlRemnants(),nl;if(92===F){if(!Lu(F,this.peekCodePoint(0)))return this.consumeBadUrlRemnants(),nl;h.push(this.consumeEscapedCodePoint())}else h.push(F)}},A.prototype.consumeWhiteSpace=function(){for(;_l(this.peekCodePoint(0));)this.consumeCodePoint()},A.prototype.consumeBadUrlRemnants=function(){for(;;){var h=this.consumeCodePoint();if(41===h||-1===h)return;Lu(h,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},A.prototype.consumeStringSlice=function(h){for(var _="";h>0;){var F=Math.min(5e4,h);_+=Ot.apply(void 0,this._value.splice(0,F)),h-=F}return this._value.shift(),_},A.prototype.consumeStringToken=function(h){for(var w="",_=0;;){var F=this._value[_];if(-1===F||void 0===F||F===h)return{type:0,value:w+=this.consumeStringSlice(_)};if(10===F)return this._value.splice(0,_),fr;if(92===F){var O=this._value[_+1];-1!==O&&void 0!==O&&(10===O?(w+=this.consumeStringSlice(_),_=-1,this._value.shift()):Lu(F,O)&&(w+=this.consumeStringSlice(_),w+=Ot(this.consumeEscapedCodePoint()),_=-1))}_++}},A.prototype.consumeNumber=function(){var h=[],w=4,_=this.peekCodePoint(0);for((43===_||45===_)&&h.push(this.consumeCodePoint());io(this.peekCodePoint(0));)h.push(this.consumeCodePoint());_=this.peekCodePoint(0);var F=this.peekCodePoint(1);if(46===_&&io(F))for(h.push(this.consumeCodePoint(),this.consumeCodePoint()),w=8;io(this.peekCodePoint(0));)h.push(this.consumeCodePoint());_=this.peekCodePoint(0),F=this.peekCodePoint(1);var O=this.peekCodePoint(2);if((69===_||101===_)&&((43===F||45===F)&&io(O)||io(F)))for(h.push(this.consumeCodePoint(),this.consumeCodePoint()),w=8;io(this.peekCodePoint(0));)h.push(this.consumeCodePoint());return[tp(h),w]},A.prototype.consumeNumericToken=function(){var h=this.consumeNumber(),w=h[0],_=h[1],F=this.peekCodePoint(0),O=this.peekCodePoint(1),z=this.peekCodePoint(2);return jr(F,O,z)?{type:15,number:w,flags:_,unit:this.consumeName()}:37===F?(this.consumeCodePoint(),{type:16,number:w,flags:_}):{type:17,number:w,flags:_}},A.prototype.consumeEscapedCodePoint=function(){var h=this.consumeCodePoint();if(ph(h)){for(var w=Ot(h);ph(this.peekCodePoint(0))&&w.length<6;)w+=Ot(this.consumeCodePoint());_l(this.peekCodePoint(0))&&this.consumeCodePoint();var _=parseInt(w,16);return 0===_||function(A){return A>=55296&&A<=57343}(_)||_>1114111?65533:_}return-1===h?65533:h},A.prototype.consumeName=function(){for(var h="";;){var w=this.consumeCodePoint();if(cc(w))h+=Ot(w);else{if(!Lu(w,this.peekCodePoint(0)))return this.reconsumeCodePoint(w),h;h+=Ot(this.consumeEscapedCodePoint())}}},A}(),tf=function(){function A(h){this._tokens=h}return A.create=function(h){var w=new eu;return w.write(h),new A(w.read())},A.parseValue=function(h){return A.create(h).parseComponentValue()},A.parseValues=function(h){return A.create(h).parseComponentValues()},A.prototype.parseComponentValue=function(){for(var h=this.consumeToken();31===h.type;)h=this.consumeToken();if(32===h.type)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(h);var w=this.consumeComponentValue();do{h=this.consumeToken()}while(31===h.type);if(32===h.type)return w;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},A.prototype.parseComponentValues=function(){for(var h=[];;){var w=this.consumeComponentValue();if(32===w.type)return h;h.push(w),h.push()}},A.prototype.consumeComponentValue=function(){var h=this.consumeToken();switch(h.type){case 11:case 28:case 2:return this.consumeSimpleBlock(h.type);case 19:return this.consumeFunction(h)}return h},A.prototype.consumeSimpleBlock=function(h){for(var w={type:h,values:[]},_=this.consumeToken();;){if(32===_.type||Qp(_,h))return w;this.reconsumeToken(_),w.values.push(this.consumeComponentValue()),_=this.consumeToken()}},A.prototype.consumeFunction=function(h){for(var w={name:h.value,values:[],type:18};;){var _=this.consumeToken();if(32===_.type||3===_.type)return w;this.reconsumeToken(_),w.values.push(this.consumeComponentValue())}},A.prototype.consumeToken=function(){var h=this._tokens.shift();return typeof h>"u"?OA:h},A.prototype.reconsumeToken=function(h){this._tokens.unshift(h)},A}(),Ln=function(A){return 15===A.type},ta=function(A){return 17===A.type},sn=function(A){return 20===A.type},nf=function(A){return 0===A.type},yd=function(A,h){return sn(A)&&A.value===h},Qc=function(A){return 31!==A.type},Zd=function(A){return 31!==A.type&&4!==A.type},wl=function(A){var h=[],w=[];return A.forEach(function(_){if(4===_.type){if(0===w.length)throw new Error("Error parsing function args, zero tokens for arg");return h.push(w),void(w=[])}31!==_.type&&w.push(_)}),w.length&&h.push(w),h},Qp=function(A,h){return 11===h&&12===A.type||28===h&&29===A.type||2===h&&3===A.type},Uu=function(A){return 17===A.type||15===A.type},Uo=function(A){return 16===A.type||Uu(A)},Hc=function(A){return A.length>1?[A[0],A[1]]:[A[0]]},ts={type:17,number:0,flags:4},UA={type:16,number:50,flags:4},La={type:16,number:100,flags:4},_d=function(A,h,w){var _=A[0],F=A[1];return[ki(_,h),ki(typeof F<"u"?F:_,w)]},ki=function(A,h){if(16===A.type)return A.number/100*h;if(Ln(A))switch(A.unit){case"rem":case"em":return 16*A.number;default:return A.number}return A.number},$c_parse=function(A,h){if(15===h.type)switch(h.unit){case"deg":return Math.PI*h.number/180;case"grad":return Math.PI/200*h.number;case"rad":return h.number;case"turn":return 2*Math.PI*h.number}throw new Error("Unsupported angle type")},tu=function(A){return 15===A.type&&("deg"===A.unit||"grad"===A.unit||"rad"===A.unit||"turn"===A.unit)},nu=function(A){switch(A.filter(sn).map(function(w){return w.value}).join(" ")){case"to bottom right":case"to right bottom":case"left top":case"top left":return[ts,ts];case"to top":case"bottom":return Vu(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[ts,La];case"to right":case"left":return Vu(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[La,La];case"to bottom":case"top":return Vu(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[La,ts];case"to left":case"right":return Vu(270)}return 0},Vu=function(A){return Math.PI*A/180},ks_parse=function(A,h){if(18===h.type){var w=rf[h.name];if(typeof w>"u")throw new Error('Attempting to parse an unsupported color function "'+h.name+'"');return w(A,h.values)}if(5===h.type){if(3===h.value.length){var _=h.value.substring(0,1),F=h.value.substring(1,2),O=h.value.substring(2,3);return ru(parseInt(_+_,16),parseInt(F+F,16),parseInt(O+O,16),1)}if(4===h.value.length){_=h.value.substring(0,1),F=h.value.substring(1,2),O=h.value.substring(2,3);var z=h.value.substring(3,4);return ru(parseInt(_+_,16),parseInt(F+F,16),parseInt(O+O,16),parseInt(z+z,16)/255)}if(6===h.value.length)return _=h.value.substring(0,2),F=h.value.substring(2,4),O=h.value.substring(4,6),ru(parseInt(_,16),parseInt(F,16),parseInt(O,16),1);if(8===h.value.length)return _=h.value.substring(0,2),F=h.value.substring(2,4),O=h.value.substring(4,6),z=h.value.substring(6,8),ru(parseInt(_,16),parseInt(F,16),parseInt(O,16),parseInt(z,16)/255)}if(20===h.type){var $=Cl[h.value.toUpperCase()];if(typeof $<"u")return $}return Cl.TRANSPARENT},na=function(A){return!(255&A)},ds=function(A){var h=255&A,w=255&A>>8,_=255&A>>16,F=255&A>>24;return h<255?"rgba("+F+","+_+","+w+","+h/255+")":"rgb("+F+","+_+","+w+")"},ru=function(A,h,w,_){return(A<<24|h<<16|w<<8|Math.round(255*_))>>>0},VA=function(A,h){if(17===A.type)return A.number;if(16===A.type){var w=3===h?1:255;return 3===h?A.number/100*w:Math.round(A.number/100*w)}return 0},Ol=function(A,h){var w=h.filter(Zd);if(3===w.length){var _=w.map(VA);return ru(_[0],_[1],_[2],1)}if(4===w.length){var $=w.map(VA);return ru($[0],$[1],$[2],$[3])}return 0};function Qi(A,h,w){return w<0&&(w+=1),w>=1&&(w-=1),w<1/6?(h-A)*w*6+A:w<.5?h:w<2/3?6*(h-A)*(2/3-w)+A:A}var dc=function(A,h){var w=h.filter(Zd),_=w[0],F=w[1],O=w[2],z=w[3],$=(17===_.type?Vu(_.number):$c_parse(A,_))/(2*Math.PI),W=Uo(F)?F.number/100:0,ye=Uo(O)?O.number/100:0,Se=typeof z<"u"&&Uo(z)?ki(z,1):1;if(0===W)return ru(255*ye,255*ye,255*ye,1);var ke=ye<=.5?ye*(W+1):ye+W-ye*W,_t=2*ye-ke,qt=Qi(_t,ke,$+1/3),an=Qi(_t,ke,$),Kt=Qi(_t,ke,$-1/3);return ru(255*qt,255*an,255*Kt,Se)},rf={hsl:dc,hsla:dc,rgb:Ol,rgba:Ol},tA=function(A,h){return ks_parse(A,tf.create(h).parseComponentValue())},Cl={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},sf={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(A,h){return h.map(function(w){if(sn(w))switch(w.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},bl={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},Vo=function(A,h){var w=ks_parse(A,h[0]),_=h[1];return _&&Uo(_)?{color:w,stop:_}:{color:w,stop:null}},af=function(A,h){var w=A[0],_=A[A.length-1];null===w.stop&&(w.stop=ts),null===_.stop&&(_.stop=La);for(var F=[],O=0,z=0;z<A.length;z++){var $=A[z].stop;if(null!==$){var W=ki($,h);F.push(W>O?W:O),O=W}else F.push(null)}var ye=null;for(z=0;z<F.length;z++){var Se=F[z];if(null===Se)null===ye&&(ye=z);else if(null!==ye){for(var ke=z-ye,qt=(Se-F[ye-1])/(ke+1),an=1;an<=ke;an++)F[ye+an-1]=qt*an;ye=null}}return A.map(function(Kt,xr){return{color:Kt.color,stop:Math.max(Math.min(1,F[xr]/h),0)}})},uf=function(A,h,w){var _="number"==typeof A?A:function(A,h,w){var _=h/2,F=w/2,O=ki(A[0],h)-_,z=F-ki(A[1],w);return(Math.atan2(z,O)+2*Math.PI)%(2*Math.PI)}(A,h,w),F=Math.abs(h*Math.sin(_))+Math.abs(w*Math.cos(_)),O=h/2,z=w/2,$=F/2,W=Math.sin(_-Math.PI/2)*$,ye=Math.cos(_-Math.PI/2)*$;return[F,O-ye,O+ye,z-W,z+W]},iu=function(A,h){return Math.sqrt(A*A+h*h)},wd=function(A,h,w,_,F){return[[0,0],[0,h],[A,0],[A,h]].reduce(function(z,$){var Se=iu(w-$[0],_-$[1]);return(F?Se<z.optimumDistance:Se>z.optimumDistance)?{optimumCorner:$,optimumDistance:Se}:z},{optimumDistance:F?1/0:-1/0,optimumCorner:null}).optimumCorner},y=function(A,h){var w=Vu(180),_=[];return wl(h).forEach(function(F,O){if(0===O){var z=F[0];if(20===z.type&&-1!==["top","left","right","bottom"].indexOf(z.value))return void(w=nu(F));if(tu(z))return void(w=($c_parse(A,z)+Vu(270))%Vu(360))}var $=Vo(A,F);_.push($)}),{angle:w,stops:_,type:1}},x="closest-side",B="farthest-side",P="closest-corner",M="farthest-corner",L="circle",G="ellipse",ue="contain",j=function(A,h){var w=0,_=3,F=[],O=[];return wl(h).forEach(function(z,$){var W=!0;if(0===$?W=z.reduce(function(Se,ke){if(sn(ke))switch(ke.value){case"center":return O.push(UA),!1;case"top":case"left":return O.push(ts),!1;case"right":case"bottom":return O.push(La),!1}else if(Uo(ke)||Uu(ke))return O.push(ke),!1;return Se},W):1===$&&(W=z.reduce(function(Se,ke){if(sn(ke))switch(ke.value){case L:return w=0,!1;case G:return w=1,!1;case ue:case x:return _=0,!1;case B:return _=1,!1;case P:return _=2,!1;case"cover":case M:return _=3,!1}else if(Uu(ke)||Uo(ke))return Array.isArray(_)||(_=[]),_.push(ke),!1;return Se},W)),W){var ye=Vo(A,z);F.push(ye)}}),{size:_,shape:w,stops:F,position:O,type:2}},ze_parse=function(A,h){if(22===h.type){var w={url:h.value,type:0};return A.cache.addImage(h.value),w}if(18===h.type){var _=Le[h.name];if(typeof _>"u")throw new Error('Attempting to parse an unsupported image function "'+h.name+'"');return _(A,h.values)}throw new Error("Unsupported image type "+h.type)};for(var Le={"linear-gradient":function(A,h){var w=Vu(180),_=[];return wl(h).forEach(function(F,O){if(0===O){var z=F[0];if(20===z.type&&"to"===z.value)return void(w=nu(F));if(tu(z))return void(w=$c_parse(A,z))}var $=Vo(A,F);_.push($)}),{angle:w,stops:_,type:1}},"-moz-linear-gradient":y,"-ms-linear-gradient":y,"-o-linear-gradient":y,"-webkit-linear-gradient":y,"radial-gradient":function(A,h){var w=0,_=3,F=[],O=[];return wl(h).forEach(function(z,$){var W=!0;if(0===$){var ye=!1;W=z.reduce(function(ke,_t){if(ye)if(sn(_t))switch(_t.value){case"center":return O.push(UA),ke;case"top":case"left":return O.push(ts),ke;case"right":case"bottom":return O.push(La),ke}else(Uo(_t)||Uu(_t))&&O.push(_t);else if(sn(_t))switch(_t.value){case L:return w=0,!1;case G:return w=1,!1;case"at":return ye=!0,!1;case x:return _=0,!1;case"cover":case B:return _=1,!1;case ue:case P:return _=2,!1;case M:return _=3,!1}else if(Uu(_t)||Uo(_t))return Array.isArray(_)||(_=[]),_.push(_t),!1;return ke},W)}if(W){var Se=Vo(A,z);F.push(Se)}}),{size:_,shape:w,stops:F,position:O,type:2}},"-moz-radial-gradient":j,"-ms-radial-gradient":j,"-o-radial-gradient":j,"-webkit-radial-gradient":j,"-webkit-gradient":function(A,h){var w=Vu(180),_=[],F=1;return wl(h).forEach(function(W,ye){var Se=W[0];if(0===ye){if(sn(Se)&&"linear"===Se.value)return void(F=1);if(sn(Se)&&"radial"===Se.value)return void(F=2)}if(18===Se.type)if("from"===Se.name){var ke=ks_parse(A,Se.values[0]);_.push({stop:ts,color:ke})}else if("to"===Se.name)ke=ks_parse(A,Se.values[0]),_.push({stop:La,color:ke});else if("color-stop"===Se.name){var _t=Se.values.filter(Zd);if(2===_t.length){ke=ks_parse(A,_t[1]);var qt=_t[0];ta(qt)&&_.push({stop:{type:16,number:100*qt.number,flags:qt.flags},color:ke})}}}),1===F?{angle:(w+Vu(180))%Vu(360),stops:_,type:F}:{size:3,shape:0,stops:_,position:[],type:F}}},gt={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(A,h){if(0===h.length)return[];var w=h[0];return 20===w.type&&"none"===w.value?[]:h.filter(function(_){return Zd(_)&&function J(A){return!(20===A.type&&"none"===A.value||18===A.type&&!Le[A.name])}(_)}).map(function(_){return ze_parse(A,_)})}},xt={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(A,h){return h.map(function(w){if(sn(w))switch(w.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},un={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(A,h){return wl(h).map(function(w){return w.filter(Uo)}).map(Hc)}},St={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(A,h){return wl(h).map(function(w){return w.filter(sn).map(function(_){return _.value}).join(" ")}).map(Bt)}},Bt=function(A){switch(A){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;default:return 0}},Ne=function(A){return A.AUTO="auto",A.CONTAIN="contain",A.COVER="cover",A}(Ne||{}),Zt={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(A,h){return wl(h).map(function(w){return w.filter(on)})}},on=function(A){return sn(A)||Uo(A)},Be=function(A){return{name:"border-"+A+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},we=Be("top"),pt=Be("right"),ct=Be("bottom"),cn=Be("left"),Jt=function(A){return{name:"border-radius-"+A,initialValue:"0 0",prefix:!1,type:1,parse:function(h,w){return Hc(w.filter(Uo))}}},_n=Jt("top-left"),Ht=Jt("top-right"),wn=Jt("bottom-right"),yn=Jt("bottom-left"),lr=function(A){return{name:"border-"+A+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(h,w){switch(w){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},ae=lr("top"),Ve=lr("right"),Je=lr("bottom"),mt=lr("left"),Et=function(A){return{name:"border-"+A+"-width",initialValue:"0",type:0,prefix:!1,parse:function(h,w){return Ln(w)?w.number:0}}},zt=Et("top"),Wt=Et("right"),jt=Et("bottom"),Gn=Et("left"),Hn={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},pr={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(A,h){return"rtl"===h?1:0}},Tr={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(A,h){return h.filter(sn).reduce(function(w,_){return w|ai(_.value)},0)}},ai=function(A){switch(A){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},pn={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(A,h){switch(h){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},je={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(A,h){return 20===h.type&&"normal"===h.value?0:17===h.type||15===h.type?h.number:0}},ti=function(A){return A.NORMAL="normal",A.STRICT="strict",A}(ti||{}),Ur={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(A,h){return"strict"===h?ti.STRICT:ti.NORMAL}},Qn={name:"line-height",initialValue:"normal",prefix:!1,type:4},Xn=function(A,h){return sn(A)&&"normal"===A.value?1.2*h:17===A.type?h*A.number:Uo(A)?ki(A,h):h},gr={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(A,h){return 20===h.type&&"none"===h.value?null:ze_parse(A,h)}},ir={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(A,h){return"inside"===h?0:1}},Wr={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(A,h){switch(h){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;default:return-1}}},fi=function(A){return{name:"margin-"+A,initialValue:"0",prefix:!1,type:4}},Ri=fi("top"),Ei=fi("right"),Pi=fi("bottom"),Ji=fi("left"),li={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(A,h){return h.filter(sn).map(function(w){switch(w.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;default:return 0}})}},Ti={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(A,h){return"break-word"===h?"break-word":"normal"}},or=function(A){return{name:"padding-"+A,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},Ua=or("top"),Br=or("right"),ou=or("bottom"),No=or("left"),Qo={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(A,h){switch(h){case"right":return 2;case"center":case"justify":return 1;default:return 0}}},su={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(A,h){switch(h){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},To={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(A,h){return 1===h.length&&yd(h[0],"none")?[]:wl(h).map(function(w){for(var _={color:Cl.TRANSPARENT,offsetX:ts,offsetY:ts,blur:ts},F=0,O=0;O<w.length;O++){var z=w[O];Uu(z)?(0===F?_.offsetX=z:1===F?_.offsetY=z:_.blur=z,F++):_.color=ks_parse(A,z)}return _})}},nA={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(A,h){switch(h){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},Is={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(A,h){if(20===h.type&&"none"===h.value)return null;if(18===h.type){var w=As[h.name];if(typeof w>"u")throw new Error('Attempting to parse an unsupported transform function "'+h.name+'"');return w(h.values)}return null}},As={matrix:function(A){var h=A.filter(function(w){return 17===w.type}).map(function(w){return w.number});return 6===h.length?h:null},matrix3d:function(A){var h=A.filter(function(W){return 17===W.type}).map(function(W){return W.number});return 16===h.length?[h[0],h[1],h[4],h[5],h[12],h[13]]:null}},ni={type:16,number:50,flags:4},Yr=[ni,ni],Vn={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(A,h){var w=h.filter(Uo);return 2!==w.length?Yr:[w[0],w[1]]}},mr={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(A,h){switch(h){case"hidden":return 1;case"collapse":return 2;default:return 0}}},uo=function(A){return A.NORMAL="normal",A.BREAK_ALL="break-all",A.KEEP_ALL="keep-all",A}(uo||{}),Rs={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(A,h){switch(h){case"break-all":return uo.BREAK_ALL;case"keep-all":return uo.KEEP_ALL;default:return uo.NORMAL}}},Mr={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(A,h){if(20===h.type)return{auto:!0,order:0};if(ta(h))return{auto:!1,order:h.number};throw new Error("Invalid z-index number parsed")}},ns={name:"time",parse:function(A,h){if(15===h.type)switch(h.unit.toLowerCase()){case"s":return 1e3*h.number;case"ms":return h.number}throw new Error("Unsupported time type")}},Va={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(A,h){return ta(h)?h.number:1}},Li={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},oo={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(A,h){return h.filter(sn).map(function(w){switch(w.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(w){return 0!==w})}},Mo={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(A,h){var w=[],_=[];return h.forEach(function(F){switch(F.type){case 20:case 0:w.push(F.value);break;case 17:w.push(F.number.toString());break;case 4:_.push(w.join(" ")),w.length=0}}),w.length&&_.push(w.join(" ")),_.map(function(F){return-1===F.indexOf(" ")?F:"'"+F+"'"})}},Lr={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},Ac={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(A,h){return ta(h)?h.number:sn(h)&&"bold"===h.value?700:400}},hc={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(A,h){return h.filter(sn).map(function(w){return w.value})}},Qa={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(A,h){switch(h){case"oblique":return"oblique";case"italic":return"italic";default:return"normal"}}},si=function(A,h){return!!(A&h)},rl={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(A,h){if(0===h.length)return[];var w=h[0];return 20===w.type&&"none"===w.value?[]:h}},ga={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(A,h){if(0===h.length)return null;var w=h[0];if(20===w.type&&"none"===w.value)return null;for(var _=[],F=h.filter(Qc),O=0;O<F.length;O++){var z=F[O],$=F[O+1];if(20===z.type){var W=$&&ta($)?$.number:1;_.push({counter:z.value,increment:W})}}return _}},Os={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(A,h){if(0===h.length)return[];for(var w=[],_=h.filter(Qc),F=0;F<_.length;F++){var O=_[F],z=_[F+1];if(sn(O)&&"none"!==O.value){var $=z&&ta(z)?z.number:0;w.push({counter:O.value,reset:$})}}return w}},Il={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(A,h){return h.filter(Ln).map(function(w){return ns.parse(A,w)})}},Cd={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(A,h){if(0===h.length)return null;var w=h[0];if(20===w.type&&"none"===w.value)return null;var _=[],F=h.filter(nf);if(F.length%2!=0)return null;for(var O=0;O<F.length;O+=2)_.push({open:F[O].value,close:F[O+1].value});return _}},Ha=function(A,h,w){if(!A)return"";var _=A[Math.min(h,A.length-1)];return _?w?_.open:_.close:""},fc={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(A,h){return 1===h.length&&yd(h[0],"none")?[]:wl(h).map(function(w){for(var _={color:255,offsetX:ts,offsetY:ts,blur:ts,spread:ts,inset:!1},F=0,O=0;O<w.length;O++){var z=w[O];yd(z,"inset")?_.inset=!0:Uu(z)?(0===F?_.offsetX=z:1===F?_.offsetY=z:2===F?_.blur=z:_.spread=z,F++):_.color=ks_parse(A,z)}return _})}},lu={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(A,h){var _=[];return h.filter(sn).forEach(function(F){switch(F.value){case"stroke":_.push(1);break;case"fill":_.push(0);break;case"markers":_.push(2)}}),[0,1,2].forEach(function(F){-1===_.indexOf(F)&&_.push(F)}),_}},ui={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},QA={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(A,h){return Ln(h)?h.number:0}},bd=function(){function A(h,w){var _,F;this.animationDuration=ur(h,Il,w.animationDuration),this.backgroundClip=ur(h,sf,w.backgroundClip),this.backgroundColor=ur(h,bl,w.backgroundColor),this.backgroundImage=ur(h,gt,w.backgroundImage),this.backgroundOrigin=ur(h,xt,w.backgroundOrigin),this.backgroundPosition=ur(h,un,w.backgroundPosition),this.backgroundRepeat=ur(h,St,w.backgroundRepeat),this.backgroundSize=ur(h,Zt,w.backgroundSize),this.borderTopColor=ur(h,we,w.borderTopColor),this.borderRightColor=ur(h,pt,w.borderRightColor),this.borderBottomColor=ur(h,ct,w.borderBottomColor),this.borderLeftColor=ur(h,cn,w.borderLeftColor),this.borderTopLeftRadius=ur(h,_n,w.borderTopLeftRadius),this.borderTopRightRadius=ur(h,Ht,w.borderTopRightRadius),this.borderBottomRightRadius=ur(h,wn,w.borderBottomRightRadius),this.borderBottomLeftRadius=ur(h,yn,w.borderBottomLeftRadius),this.borderTopStyle=ur(h,ae,w.borderTopStyle),this.borderRightStyle=ur(h,Ve,w.borderRightStyle),this.borderBottomStyle=ur(h,Je,w.borderBottomStyle),this.borderLeftStyle=ur(h,mt,w.borderLeftStyle),this.borderTopWidth=ur(h,zt,w.borderTopWidth),this.borderRightWidth=ur(h,Wt,w.borderRightWidth),this.borderBottomWidth=ur(h,jt,w.borderBottomWidth),this.borderLeftWidth=ur(h,Gn,w.borderLeftWidth),this.boxShadow=ur(h,fc,w.boxShadow),this.color=ur(h,Hn,w.color),this.direction=ur(h,pr,w.direction),this.display=ur(h,Tr,w.display),this.float=ur(h,pn,w.cssFloat),this.fontFamily=ur(h,Mo,w.fontFamily),this.fontSize=ur(h,Lr,w.fontSize),this.fontStyle=ur(h,Qa,w.fontStyle),this.fontVariant=ur(h,hc,w.fontVariant),this.fontWeight=ur(h,Ac,w.fontWeight),this.letterSpacing=ur(h,je,w.letterSpacing),this.lineBreak=ur(h,Ur,w.lineBreak),this.lineHeight=ur(h,Qn,w.lineHeight),this.listStyleImage=ur(h,gr,w.listStyleImage),this.listStylePosition=ur(h,ir,w.listStylePosition),this.listStyleType=ur(h,Wr,w.listStyleType),this.marginTop=ur(h,Ri,w.marginTop),this.marginRight=ur(h,Ei,w.marginRight),this.marginBottom=ur(h,Pi,w.marginBottom),this.marginLeft=ur(h,Ji,w.marginLeft),this.opacity=ur(h,Va,w.opacity);var O=ur(h,li,w.overflow);this.overflowX=O[0],this.overflowY=O[O.length>1?1:0],this.overflowWrap=ur(h,Ti,w.overflowWrap),this.paddingTop=ur(h,Ua,w.paddingTop),this.paddingRight=ur(h,Br,w.paddingRight),this.paddingBottom=ur(h,ou,w.paddingBottom),this.paddingLeft=ur(h,No,w.paddingLeft),this.paintOrder=ur(h,lu,w.paintOrder),this.position=ur(h,su,w.position),this.textAlign=ur(h,Qo,w.textAlign),this.textDecorationColor=ur(h,Li,null!==(_=w.textDecorationColor)&&void 0!==_?_:w.color),this.textDecorationLine=ur(h,oo,null!==(F=w.textDecorationLine)&&void 0!==F?F:w.textDecoration),this.textShadow=ur(h,To,w.textShadow),this.textTransform=ur(h,nA,w.textTransform),this.transform=ur(h,Is,w.transform),this.transformOrigin=ur(h,Vn,w.transformOrigin),this.visibility=ur(h,mr,w.visibility),this.webkitTextStrokeColor=ur(h,ui,w.webkitTextStrokeColor),this.webkitTextStrokeWidth=ur(h,QA,w.webkitTextStrokeWidth),this.wordBreak=ur(h,Rs,w.wordBreak),this.zIndex=ur(h,Mr,w.zIndex)}return A.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&0===this.visibility},A.prototype.isTransparent=function(){return na(this.backgroundColor)},A.prototype.isTransformed=function(){return null!==this.transform},A.prototype.isPositioned=function(){return 0!==this.position},A.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},A.prototype.isFloating=function(){return 0!==this.float},A.prototype.isInlineLevel=function(){return si(this.display,4)||si(this.display,33554432)||si(this.display,268435456)||si(this.display,536870912)||si(this.display,67108864)||si(this.display,134217728)},A}(),uu=function(){return function A(h,w){this.content=ur(h,rl,w.content),this.quotes=ur(h,Cd,w.quotes)}}(),pc=function(){return function A(h,w){this.counterIncrement=ur(h,ga,w.counterIncrement),this.counterReset=ur(h,Os,w.counterReset)}}(),ur=function(A,h,w){var _=new eu,F=null!==w&&typeof w<"u"?w.toString():h.initialValue;_.write(F);var O=new tf(_.read());switch(h.type){case 2:var z=O.parseComponentValue();return h.parse(A,sn(z)?z.value:h.initialValue);case 0:return h.parse(A,O.parseComponentValue());case 1:return h.parse(A,O.parseComponentValues());case 4:return O.parseComponentValue();case 3:switch(h.format){case"angle":return $c_parse(A,O.parseComponentValue());case"color":return ks_parse(A,O.parseComponentValue());case"image":return ze_parse(A,O.parseComponentValue());case"length":var $=O.parseComponentValue();return Uu($)?$:ts;case"length-percentage":var W=O.parseComponentValue();return Uo(W)?W:ts;case"time":return ns.parse(A,O.parseComponentValue())}}},Ps=function(A,h){var w=function(A){switch(A.getAttribute("data-html2canvas-debug")){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}}(A);return 1===w||h===w},Ho=function(){return function A(h,w){this.context=h,this.textNodes=[],this.elements=[],this.flags=0,Ps(w,3),this.styles=new bd(h,window.getComputedStyle(w,null)),dA(w)&&(this.styles.animationDuration.some(function(_){return _>0})&&(w.style.animationDuration="0s"),null!==this.styles.transform&&(w.style.transform="none")),this.bounds=Ut(this.context,w),Ps(w,4)&&(this.flags|=16)}}(),Ul="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",cu=typeof Uint8Array>"u"?[]:new Uint8Array(256),$i=0;$i<64;$i++)cu[Ul.charCodeAt($i)]=$i;for(var _h=function(A,h,w){return A.slice?A.slice(h,w):new Uint16Array(Array.prototype.slice.call(A,h,w))},wh=function(){function A(h,w,_,F,O,z){this.initialValue=h,this.errorValue=w,this.highStart=_,this.highValueIndex=F,this.index=O,this.data=z}return A.prototype.get=function(h){var w;if(h>=0){if(h<55296||h>56319&&h<=65535)return this.data[w=((w=this.index[h>>5])<<2)+(31&h)];if(h<=65535)return this.data[w=((w=this.index[2048+(h-55296>>5)])<<2)+(31&h)];if(h<this.highStart)return w=this.index[w=2080+(h>>11)],this.data[w=((w=this.index[w+=h>>5&63])<<2)+(31&h)];if(h<=1114111)return this.data[this.highValueIndex]}return this.errorValue},A}(),hf="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Ta=typeof Uint8Array>"u"?[]:new Uint8Array(256),sA=0;sA<64;sA++)Ta[hf.charCodeAt(sA)]=sA;var GA=8,ju=9,WA=11,KA=12,Ch=function(){for(var A=[],h=0;h<arguments.length;h++)A[h]=arguments[h];if(String.fromCodePoint)return String.fromCodePoint.apply(String,A);var w=A.length;if(!w)return"";for(var _=[],F=-1,O="";++F<w;){var z=A[F];z<=65535?_.push(z):_.push(55296+((z-=65536)>>10),z%1024+56320),(F+1===w||_.length>16384)&&(O+=String.fromCharCode.apply(String,_),_.length=0)}return O},Wc=function(A,h){var w=function(A){var _,O,z,$,W,h=.75*A.length,w=A.length,F=0;"="===A[A.length-1]&&(h--,"="===A[A.length-2]&&h--);var ye=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(h):new Array(h),Se=Array.isArray(ye)?ye:new Uint8Array(ye);for(_=0;_<w;_+=4)O=cu[A.charCodeAt(_)],z=cu[A.charCodeAt(_+1)],$=cu[A.charCodeAt(_+2)],W=cu[A.charCodeAt(_+3)],Se[F++]=O<<2|z>>4,Se[F++]=(15&z)<<4|$>>2,Se[F++]=(3&$)<<6|63&W;return ye}(A),_=Array.isArray(w)?function(A){for(var h=A.length,w=[],_=0;_<h;_+=4)w.push(A[_+3]<<24|A[_+2]<<16|A[_+1]<<8|A[_]);return w}(w):new Uint32Array(w),F=Array.isArray(w)?function(A){for(var h=A.length,w=[],_=0;_<h;_+=2)w.push(A[_+1]<<8|A[_]);return w}(w):new Uint16Array(w),z=_h(F,12,_[4]/2),$=2===_[5]?_h(F,(24+_[4])/2):function(A,h,w){return A.slice?A.slice(h,w):new Uint32Array(Array.prototype.slice.call(A,h,w))}(_,Math.ceil((24+_[4])/4));return new wh(_[0],_[1],_[2],_[3],z,$)}("AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA="),mc=function(A){return Wc.get(A)},ma=function(A,h,w){var _=w-2,F=h[_],O=h[w-1],z=h[w];if(2===O&&3===z)return"\xd7";if(2===O||3===O||4===O||2===z||3===z||4===z)return"\xf7";if(O===GA&&-1!==[GA,ju,WA,KA].indexOf(z)||(O===WA||O===ju)&&(z===ju||10===z)||(O===KA||10===O)&&10===z||13===z||5===z||7===z||1===O)return"\xd7";if(13===O&&14===z){for(;5===F;)F=h[--_];if(14===F)return"\xd7"}if(15===O&&15===z){for(var $=0;15===F;)$++,F=h[--_];if($%2==0)return"\xd7"}return"\xf7"},bh=function(A){var h=function(A){for(var h=[],w=0,_=A.length;w<_;){var F=A.charCodeAt(w++);if(F>=55296&&F<=56319&&w<_){var O=A.charCodeAt(w++);56320==(64512&O)?h.push(((1023&F)<<10)+(1023&O)+65536):(h.push(F),w--)}else h.push(F)}return h}(A),w=h.length,_=0,F=0,O=h.map(mc);return{next:function(){if(_>=w)return{done:!0,value:null};for(var z="\xd7";_<w&&"\xd7"===(z=ma(0,O,++_)););if("\xd7"!==z||_===w){var $=Ch.apply(null,h.slice(F,_));return F=_,{value:$,done:!1}}return{done:!0,value:null}}}},sl=function(A){return 0===A[0]&&255===A[1]&&0===A[2]&&255===A[3]},uA=function(A,h,w,_,F){var O="http://www.w3.org/2000/svg",z=document.createElementNS(O,"svg"),$=document.createElementNS(O,"foreignObject");return z.setAttributeNS(null,"width",A.toString()),z.setAttributeNS(null,"height",h.toString()),$.setAttributeNS(null,"width","100%"),$.setAttributeNS(null,"height","100%"),$.setAttributeNS(null,"x",w.toString()),$.setAttributeNS(null,"y",_.toString()),$.setAttributeNS(null,"externalResourcesRequired","true"),z.appendChild($),$.appendChild(F),z},Td=function(A){return new Promise(function(h,w){var _=new Image;_.onload=function(){return h(_)},_.onerror=w,_.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent((new XMLSerializer).serializeToString(A))})},Us={get SUPPORT_RANGE_BOUNDS(){var A=function(A){if(A.createRange){var w=A.createRange();if(w.getBoundingClientRect){var _=A.createElement("boundtest");_.style.height="123px",_.style.display="block",A.body.appendChild(_),w.selectNode(_);var F=w.getBoundingClientRect(),O=Math.round(F.height);if(A.body.removeChild(_),123===O)return!0}}return!1}(document);return Object.defineProperty(Us,"SUPPORT_RANGE_BOUNDS",{value:A}),A},get SUPPORT_WORD_BREAKING(){var A=Us.SUPPORT_RANGE_BOUNDS&&function(A){var h=A.createElement("boundtest");h.style.width="50px",h.style.display="block",h.style.fontSize="12px",h.style.letterSpacing="0px",h.style.wordSpacing="0px",A.body.appendChild(h);var w=A.createRange();h.innerHTML="function"==typeof"".repeat?"&#128104;".repeat(10):"";var _=h.firstChild,F=Rt(_.data).map(function(W){return Ot(W)}),O=0,z={},$=F.every(function(W,ye){w.setStart(_,O),w.setEnd(_,O+W.length);var Se=w.getBoundingClientRect();O+=W.length;var ke=Se.x>z.x||Se.y>z.y;return z=Se,0===ye||ke});return A.body.removeChild(h),$}(document);return Object.defineProperty(Us,"SUPPORT_WORD_BREAKING",{value:A}),A},get SUPPORT_SVG_DRAWING(){var A=function(A){var h=new Image,w=A.createElement("canvas"),_=w.getContext("2d");if(!_)return!1;h.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{_.drawImage(h,0,0),w.toDataURL()}catch{return!1}return!0}(document);return Object.defineProperty(Us,"SUPPORT_SVG_DRAWING",{value:A}),A},get SUPPORT_FOREIGNOBJECT_DRAWING(){var A="function"==typeof Array.from&&"function"==typeof window.fetch?function(A){var h=A.createElement("canvas"),w=100;h.width=w,h.height=w;var _=h.getContext("2d");if(!_)return Promise.reject(!1);_.fillStyle="rgb(0, 255, 0)",_.fillRect(0,0,w,w);var F=new Image,O=h.toDataURL();F.src=O;var z=uA(w,w,0,0,F);return _.fillStyle="red",_.fillRect(0,0,w,w),Td(z).then(function($){_.drawImage($,0,0);var W=_.getImageData(0,0,w,w).data;_.fillStyle="red",_.fillRect(0,0,w,w);var ye=A.createElement("div");return ye.style.backgroundImage="url("+O+")",ye.style.height=w+"px",sl(W)?Td(uA(w,w,0,0,ye)):Promise.reject(!1)}).then(function($){return _.drawImage($,0,0),sl(_.getImageData(0,0,w,w).data)}).catch(function(){return!1})}(document):Promise.resolve(!1);return Object.defineProperty(Us,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:A}),A},get SUPPORT_CORS_IMAGES(){var A=typeof(new Image).crossOrigin<"u";return Object.defineProperty(Us,"SUPPORT_CORS_IMAGES",{value:A}),A},get SUPPORT_RESPONSE_TYPE(){var A="string"==typeof(new XMLHttpRequest).responseType;return Object.defineProperty(Us,"SUPPORT_RESPONSE_TYPE",{value:A}),A},get SUPPORT_CORS_XHR(){var A="withCredentials"in new XMLHttpRequest;return Object.defineProperty(Us,"SUPPORT_CORS_XHR",{value:A}),A},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var A=!!(typeof Intl<"u"&&Intl.Segmenter);return Object.defineProperty(Us,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:A}),A}},pu=function(){return function A(h,w){this.text=h,this.bounds=w}}(),vc=function(A,h){var w=h.ownerDocument;if(w){var _=w.createElement("html2canvaswrapper");_.appendChild(h.cloneNode(!0));var F=h.parentNode;if(F){F.replaceChild(_,h);var O=Ut(A,_);return _.firstChild&&F.replaceChild(_.firstChild,_),O}}return Tn.EMPTY},Yc=function(A,h,w){var _=A.ownerDocument;if(!_)throw new Error("Node has no owner document");var F=_.createRange();return F.setStart(A,h),F.setEnd(A,h+w),F},Ql=function(A){if(Us.SUPPORT_NATIVE_TEXT_SEGMENTATION){var h=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(h.segment(A)).map(function(w){return w.segment})}return function(A){for(var _,h=bh(A),w=[];!(_=h.next()).done;)_.value&&w.push(_.value.slice());return w}(A)},Ih=function(A,h){return 0!==h.letterSpacing?Ql(A):function(A,h){if(Us.SUPPORT_NATIVE_TEXT_SEGMENTATION){var w=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(w.segment(A)).map(function(_){return _.segment})}return qA(A,h)}(A,h)},$p=[32,160,4961,65792,65793,4153,4241],qA=function(A,h){for(var F,w=function(A,h){var w=Rt(A),_=Pu(w,h),F=_[0],O=_[1],z=_[2],$=w.length,W=0,ye=0;return{next:function(){if(ye>=$)return{done:!0,value:null};for(var Se=rt;ye<$&&(Se=NA(w,O,F,++ye,z))===rt;);if(Se!==rt||ye===$){var ke=new fa(w,Se,W,ye);return W=ye,{value:ke,done:!1}}return{done:!0,value:null}}}}(A,{lineBreak:h.lineBreak,wordBreak:"break-word"===h.overflowWrap?"break-word":h.wordBreak}),_=[],O=function(){if(F.value){var z=F.value.slice(),$=Rt(z),W="";$.forEach(function(ye){-1===$p.indexOf(ye)?W+=Ot(ye):(W.length&&_.push(W),_.push(Ot(ye)),W="")}),W.length&&_.push(W)}};!(F=w.next()).done;)O();return _},cA=function(){return function A(h,w,_){this.text=Eh(w.data,_.textTransform),this.textBounds=function(A,h,w,_){var F=Ih(h,w),O=[],z=0;return F.forEach(function($){if(w.textDecorationLine.length||$.trim().length>0)if(Us.SUPPORT_RANGE_BOUNDS){var W=Yc(_,z,$.length).getClientRects();if(W.length>1){var ye=Ql($),Se=0;ye.forEach(function(_t){O.push(new pu(_t,Tn.fromDOMRectList(A,Yc(_,Se+z,_t.length).getClientRects()))),Se+=_t.length})}else O.push(new pu($,Tn.fromDOMRectList(A,W)))}else{var ke=_.splitText($.length);O.push(new pu($,vc(A,_))),_=ke}else Us.SUPPORT_RANGE_BOUNDS||(_=_.splitText($.length));z+=$.length}),O}(h,this.text,_,w)}}(),Eh=function(A,h){switch(h){case 1:return A.toLowerCase();case 3:return A.replace(Gu,yc);case 2:return A.toUpperCase();default:return A}},Gu=/(^|\s|:|-|\(|\))([a-z])/g,yc=function(A,h,w){return A.length>0?h+w.toUpperCase():A},R=function(A){function h(w,_){var F=A.call(this,w,_)||this;return F.src=_.currentSrc||_.src,F.intrinsicWidth=_.naturalWidth,F.intrinsicHeight=_.naturalHeight,F.context.cache.addImage(F.src),F}return wt(h,A),h}(Ho),ee=function(A){function h(w,_){var F=A.call(this,w,_)||this;return F.canvas=_,F.intrinsicWidth=_.width,F.intrinsicHeight=_.height,F}return wt(h,A),h}(Ho),Oe=function(A){function h(w,_){var F=A.call(this,w,_)||this,O=new XMLSerializer,z=Ut(w,_);return _.setAttribute("width",z.width+"px"),_.setAttribute("height",z.height+"px"),F.svg="data:image/svg+xml,"+encodeURIComponent(O.serializeToString(_)),F.intrinsicWidth=_.width.baseVal.value,F.intrinsicHeight=_.height.baseVal.value,F.context.cache.addImage(F.svg),F}return wt(h,A),h}(Ho),At=function(A){function h(w,_){var F=A.call(this,w,_)||this;return F.value=_.value,F}return wt(h,A),h}(Ho),Tt=function(A){function h(w,_){var F=A.call(this,w,_)||this;return F.start=_.start,F.reversed="boolean"==typeof _.reversed&&!0===_.reversed,F}return wt(h,A),h}(Ho),Qe=[{type:15,flags:0,unit:"px",number:3}],An=[{type:16,flags:0,number:50}],vr="checkbox",mi="radio",Ni="password",ho=707406591,jo=function(A){function h(w,_){var F=A.call(this,w,_)||this;switch(F.type=_.type.toLowerCase(),F.checked=_.checked,F.value=function(A){var h=A.type===Ni?new Array(A.value.length+1).join("\u2022"):A.value;return 0===h.length?A.placeholder||"":h}(_),(F.type===vr||F.type===mi)&&(F.styles.backgroundColor=3739148031,F.styles.borderTopColor=F.styles.borderRightColor=F.styles.borderBottomColor=F.styles.borderLeftColor=2779096575,F.styles.borderTopWidth=F.styles.borderRightWidth=F.styles.borderBottomWidth=F.styles.borderLeftWidth=1,F.styles.borderTopStyle=F.styles.borderRightStyle=F.styles.borderBottomStyle=F.styles.borderLeftStyle=1,F.styles.backgroundClip=[0],F.styles.backgroundOrigin=[0],F.bounds=function(A){return A.width>A.height?new Tn(A.left+(A.width-A.height)/2,A.top,A.height,A.height):A.width<A.height?new Tn(A.left,A.top+(A.height-A.width)/2,A.width,A.width):A}(F.bounds)),F.type){case vr:F.styles.borderTopRightRadius=F.styles.borderTopLeftRadius=F.styles.borderBottomRightRadius=F.styles.borderBottomLeftRadius=Qe;break;case mi:F.styles.borderTopRightRadius=F.styles.borderTopLeftRadius=F.styles.borderBottomRightRadius=F.styles.borderBottomLeftRadius=An}return F}return wt(h,A),h}(Ho),Es=function(A){function h(w,_){var F=A.call(this,w,_)||this,O=_.options[_.selectedIndex||0];return F.value=O&&O.text||"",F}return wt(h,A),h}(Ho),va=function(A){function h(w,_){var F=A.call(this,w,_)||this;return F.value=_.value,F}return wt(h,A),h}(Ho),ra=function(A){function h(w,_){var F=A.call(this,w,_)||this;F.src=_.src,F.width=parseInt(_.width,10)||0,F.height=parseInt(_.height,10)||0,F.backgroundColor=F.styles.backgroundColor;try{if(_.contentWindow&&_.contentWindow.document&&_.contentWindow.document.documentElement){F.tree=Bd(w,_.contentWindow.document.documentElement);var O=_.contentWindow.document.documentElement?tA(w,getComputedStyle(_.contentWindow.document.documentElement).backgroundColor):Cl.TRANSPARENT,z=_.contentWindow.document.body?tA(w,getComputedStyle(_.contentWindow.document.body).backgroundColor):Cl.TRANSPARENT;F.backgroundColor=na(O)?na(z)?F.styles.backgroundColor:z:O}}catch{}return F}return wt(h,A),h}(Ho),Sl=["OL","UL","MENU"],Bo=function(A,h,w,_){for(var F=h.firstChild,O=void 0;F;F=O)if(O=F.nextSibling,Dd(F)&&F.data.trim().length>0)w.textNodes.push(new cA(A,F,w.styles));else if(gu(F))if(ia(F)&&F.assignedNodes)F.assignedNodes().forEach(function($){return Bo(A,$,w,_)});else{var z=Ba(A,F);z.styles.isVisible()&&(ja(F,z,_)?z.flags|=4:za(z.styles)&&(z.flags|=2),-1!==Sl.indexOf(F.tagName)&&(z.flags|=8),w.elements.push(z),F.shadowRoot?Bo(A,F.shadowRoot,z,_):!kd(F)&&!YA(F)&&!rs(F)&&Bo(A,F,z,_))}},Ba=function(A,h){return AA(h)?new R(A,h):XA(h)?new ee(A,h):YA(h)?new Oe(A,h):$a(h)?new At(A,h):xd(h)?new Tt(A,h):Fd(h)?new jo(A,h):rs(h)?new Es(A,h):kd(h)?new va(A,h):jl(h)?new ra(A,h):new Ho(A,h)},Bd=function(A,h){var w=Ba(A,h);return w.flags|=4,Bo(A,h,w,w),w},ja=function(A,h,w){return h.styles.isPositionedWithZIndex()||h.styles.opacity<1||h.styles.isTransformed()||Ga(A)&&w.styles.isTransparent()},za=function(A){return A.isPositioned()||A.isFloating()},Dd=function(A){return A.nodeType===Node.TEXT_NODE},gu=function(A){return A.nodeType===Node.ELEMENT_NODE},dA=function(A){return gu(A)&&typeof A.style<"u"&&!Xc(A)},Xc=function(A){return"object"==typeof A.className},$a=function(A){return"LI"===A.tagName},xd=function(A){return"OL"===A.tagName},Fd=function(A){return"INPUT"===A.tagName},YA=function(A){return"svg"===A.tagName},Ga=function(A){return"BODY"===A.tagName},XA=function(A){return"CANVAS"===A.tagName},Hl=function(A){return"VIDEO"===A.tagName},AA=function(A){return"IMG"===A.tagName},jl=function(A){return"IFRAME"===A.tagName},Jc=function(A){return"STYLE"===A.tagName},kd=function(A){return"TEXTAREA"===A.tagName},rs=function(A){return"SELECT"===A.tagName},ia=function(A){return"SLOT"===A.tagName},Oi=function(A){return A.tagName.indexOf("-")>0},Rd=function(){function A(){this.counters={}}return A.prototype.getCounterValue=function(h){var w=this.counters[h];return w&&w.length?w[w.length-1]:1},A.prototype.getCounterValues=function(h){return this.counters[h]||[]},A.prototype.pop=function(h){var w=this;h.forEach(function(_){return w.counters[_].pop()})},A.prototype.parse=function(h){var w=this,_=h.counterIncrement,F=h.counterReset,O=!0;null!==_&&_.forEach(function($){var W=w.counters[$.counter];W&&0!==$.increment&&(O=!1,W.length||W.push(1),W[Math.max(0,W.length-1)]+=$.increment)});var z=[];return O&&F.forEach(function($){var W=w.counters[$.counter];z.push($.counter),W||(W=w.counters[$.counter]=[]),W.push($.reset)}),z},A}(),Wu={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},mu={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["\u0554","\u0553","\u0552","\u0551","\u0550","\u054f","\u054e","\u054d","\u054c","\u054b","\u054a","\u0549","\u0548","\u0547","\u0546","\u0545","\u0544","\u0543","\u0542","\u0541","\u0540","\u053f","\u053e","\u053d","\u053c","\u053b","\u053a","\u0539","\u0538","\u0537","\u0536","\u0535","\u0534","\u0533","\u0532","\u0531"]},JA={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["\u05d9\u05f3","\u05d8\u05f3","\u05d7\u05f3","\u05d6\u05f3","\u05d5\u05f3","\u05d4\u05f3","\u05d3\u05f3","\u05d2\u05f3","\u05d1\u05f3","\u05d0\u05f3","\u05ea","\u05e9","\u05e8","\u05e7","\u05e6","\u05e4","\u05e2","\u05e1","\u05e0","\u05de","\u05dc","\u05db","\u05d9\u05d8","\u05d9\u05d7","\u05d9\u05d6","\u05d8\u05d6","\u05d8\u05d5","\u05d9","\u05d8","\u05d7","\u05d6","\u05d5","\u05d4","\u05d3","\u05d2","\u05d1","\u05d0"]},vu={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["\u10f5","\u10f0","\u10ef","\u10f4","\u10ee","\u10ed","\u10ec","\u10eb","\u10ea","\u10e9","\u10e8","\u10e7","\u10e6","\u10e5","\u10e4","\u10f3","\u10e2","\u10e1","\u10e0","\u10df","\u10de","\u10dd","\u10f2","\u10dc","\u10db","\u10da","\u10d9","\u10d8","\u10d7","\u10f1","\u10d6","\u10d5","\u10d4","\u10d3","\u10d2","\u10d1","\u10d0"]},yu=function(A,h,w,_,F,O){return A<h||A>w?Do(A,F,O.length>0):_.integers.reduce(function(z,$,W){for(;A>=$;)A-=$,z+=_.values[W];return z},"")+O},wc=function(A,h,w,_){var F="";do{w||A--,F=_(A)+F,A/=h}while(A*h>=h);return F},Gi=function(A,h,w,_,F){var O=w-h+1;return(A<0?"-":"")+(wc(Math.abs(A),O,_,function(z){return Ot(Math.floor(z%O)+h)})+F)},ya=function(A,h,w){void 0===w&&(w=". ");var _=h.length;return wc(Math.abs(A),_,!1,function(F){return h[Math.floor(F%_)]})+w},sa=function(A,h,w,_,F,O){if(A<-9999||A>9999)return Do(A,4,F.length>0);var z=Math.abs(A),$=F;if(0===z)return h[0]+$;for(var W=0;z>0&&W<=4;W++){var ye=z%10;0===ye&&si(O,1)&&""!==$?$=h[ye]+$:ye>1||1===ye&&0===W||1===ye&&1===W&&si(O,2)||1===ye&&1===W&&si(O,4)&&A>100||1===ye&&W>1&&si(O,8)?$=h[ye]+(W>0?w[W-1]:"")+$:1===ye&&W>0&&($=w[W-1]+$),z=Math.floor(z/10)}return(A<0?_:"")+$},yo="\ub9c8\uc774\ub108\uc2a4",Do=function(A,h,w){var _=w?". ":"",F=w?"\u3001":"",O=w?", ":"",z=w?" ":"";switch(h){case 0:return"\u2022"+z;case 1:return"\u25e6"+z;case 2:return"\u25fe"+z;case 5:var $=Gi(A,48,57,!0,_);return $.length<4?"0"+$:$;case 4:return ya(A,"\u3007\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d",F);case 6:return yu(A,1,3999,Wu,3,_).toLowerCase();case 7:return yu(A,1,3999,Wu,3,_);case 8:return Gi(A,945,969,!1,_);case 9:return Gi(A,97,122,!1,_);case 10:return Gi(A,65,90,!1,_);case 11:return Gi(A,1632,1641,!0,_);case 12:case 49:return yu(A,1,9999,mu,3,_);case 35:return yu(A,1,9999,mu,3,_).toLowerCase();case 13:return Gi(A,2534,2543,!0,_);case 14:case 30:return Gi(A,6112,6121,!0,_);case 15:return ya(A,"\u5b50\u4e11\u5bc5\u536f\u8fb0\u5df3\u5348\u672a\u7533\u9149\u620c\u4ea5",F);case 16:return ya(A,"\u7532\u4e59\u4e19\u4e01\u620a\u5df1\u5e9a\u8f9b\u58ec\u7678",F);case 17:case 48:return sa(A,"\u96f6\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d","\u5341\u767e\u5343\u842c","\u8ca0",F,14);case 47:return sa(A,"\u96f6\u58f9\u8cb3\u53c3\u8086\u4f0d\u9678\u67d2\u634c\u7396","\u62fe\u4f70\u4edf\u842c","\u8ca0",F,15);case 42:return sa(A,"\u96f6\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d","\u5341\u767e\u5343\u842c","\u8d1f",F,14);case 41:return sa(A,"\u96f6\u58f9\u8d30\u53c1\u8086\u4f0d\u9646\u67d2\u634c\u7396","\u62fe\u4f70\u4edf\u842c","\u8d1f",F,15);case 26:return sa(A,"\u3007\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d","\u5341\u767e\u5343\u4e07","\u30de\u30a4\u30ca\u30b9",F,0);case 25:return sa(A,"\u96f6\u58f1\u5f10\u53c2\u56db\u4f0d\u516d\u4e03\u516b\u4e5d","\u62fe\u767e\u5343\u4e07","\u30de\u30a4\u30ca\u30b9",F,7);case 31:return sa(A,"\uc601\uc77c\uc774\uc0bc\uc0ac\uc624\uc721\uce60\ud314\uad6c","\uc2ed\ubc31\ucc9c\ub9cc",yo,O,7);case 33:return sa(A,"\u96f6\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d","\u5341\u767e\u5343\u842c",yo,O,0);case 32:return sa(A,"\u96f6\u58f9\u8cb3\u53c3\u56db\u4e94\u516d\u4e03\u516b\u4e5d","\u62fe\u767e\u5343",yo,O,7);case 18:return Gi(A,2406,2415,!0,_);case 20:return yu(A,1,19999,vu,3,_);case 21:return Gi(A,2790,2799,!0,_);case 22:return Gi(A,2662,2671,!0,_);case 22:return yu(A,1,10999,JA,3,_);case 23:return ya(A,"\u3042\u3044\u3046\u3048\u304a\u304b\u304d\u304f\u3051\u3053\u3055\u3057\u3059\u305b\u305d\u305f\u3061\u3064\u3066\u3068\u306a\u306b\u306c\u306d\u306e\u306f\u3072\u3075\u3078\u307b\u307e\u307f\u3080\u3081\u3082\u3084\u3086\u3088\u3089\u308a\u308b\u308c\u308d\u308f\u3090\u3091\u3092\u3093");case 24:return ya(A,"\u3044\u308d\u306f\u306b\u307b\u3078\u3068\u3061\u308a\u306c\u308b\u3092\u308f\u304b\u3088\u305f\u308c\u305d\u3064\u306d\u306a\u3089\u3080\u3046\u3090\u306e\u304a\u304f\u3084\u307e\u3051\u3075\u3053\u3048\u3066\u3042\u3055\u304d\u3086\u3081\u307f\u3057\u3091\u3072\u3082\u305b\u3059");case 27:return Gi(A,3302,3311,!0,_);case 28:return ya(A,"\u30a2\u30a4\u30a6\u30a8\u30aa\u30ab\u30ad\u30af\u30b1\u30b3\u30b5\u30b7\u30b9\u30bb\u30bd\u30bf\u30c1\u30c4\u30c6\u30c8\u30ca\u30cb\u30cc\u30cd\u30ce\u30cf\u30d2\u30d5\u30d8\u30db\u30de\u30df\u30e0\u30e1\u30e2\u30e4\u30e6\u30e8\u30e9\u30ea\u30eb\u30ec\u30ed\u30ef\u30f0\u30f1\u30f2\u30f3",F);case 29:return ya(A,"\u30a4\u30ed\u30cf\u30cb\u30db\u30d8\u30c8\u30c1\u30ea\u30cc\u30eb\u30f2\u30ef\u30ab\u30e8\u30bf\u30ec\u30bd\u30c4\u30cd\u30ca\u30e9\u30e0\u30a6\u30f0\u30ce\u30aa\u30af\u30e4\u30de\u30b1\u30d5\u30b3\u30a8\u30c6\u30a2\u30b5\u30ad\u30e6\u30e1\u30df\u30b7\u30f1\u30d2\u30e2\u30bb\u30b9",F);case 34:return Gi(A,3792,3801,!0,_);case 37:return Gi(A,6160,6169,!0,_);case 38:return Gi(A,4160,4169,!0,_);case 39:return Gi(A,2918,2927,!0,_);case 40:return Gi(A,1776,1785,!0,_);case 43:return Gi(A,3046,3055,!0,_);case 44:return Gi(A,3174,3183,!0,_);case 45:return Gi(A,3664,3673,!0,_);case 46:return Gi(A,3872,3881,!0,_);default:return Gi(A,48,57,!0,_)}},ws="data-html2canvas-ignore",Vs=function(){function A(h,w,_){if(this.context=h,this.options=_,this.scrolledElements=[],this.referenceElement=w,this.counters=new Rd,this.quoteDepth=0,!w.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(w.ownerDocument.documentElement,!1)}return A.prototype.toIFrame=function(h,w){var _=this,F=Pd(h,w);if(!F.contentWindow)return Promise.reject("Unable to find iframe window");var O=h.defaultView.pageXOffset,z=h.defaultView.pageYOffset,$=F.contentWindow,W=$.document,ye=Nd(F).then(function(){return ln(_,void 0,void 0,function(){var Se,ke;return Mt(this,function(_t){switch(_t.label){case 0:return this.scrolledElements.forEach(Dh),$&&($.scrollTo(w.left,w.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&($.scrollY!==w.top||$.scrollX!==w.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add($.scrollX-w.left,$.scrollY-w.top,0,0))),Se=this.options.onclone,typeof(ke=this.clonedReferenceElement)>"u"?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:W.fonts&&W.fonts.ready?[4,W.fonts.ready]:[3,2];case 1:_t.sent(),_t.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,sp(W)]:[3,4];case 3:_t.sent(),_t.label=4;case 4:return"function"==typeof Se?[2,Promise.resolve().then(function(){return Se(W,ke)}).then(function(){return F})]:[2,F]}})})});return W.open(),W.write(eh(document.doctype)+"<html></html>"),gf(this.referenceElement.ownerDocument,O,z),W.replaceChild(W.adoptNode(this.documentElement),W.documentElement),W.close(),ye},A.prototype.createElementClone=function(h){if(Ps(h,2),XA(h))return this.createCanvasClone(h);if(Hl(h))return this.createVideoClone(h);if(Jc(h))return this.createStyleClone(h);var w=h.cloneNode(!1);return AA(w)&&(AA(h)&&h.currentSrc&&h.currentSrc!==h.src&&(w.src=h.currentSrc,w.srcset=""),"lazy"===w.loading&&(w.loading="eager")),Oi(w)?this.createCustomElementClone(w):w},A.prototype.createCustomElementClone=function(h){var w=document.createElement("html2canvascustomelement");return Bh(h.style,w),w},A.prototype.createStyleClone=function(h){try{var w=h.sheet;if(w&&w.cssRules){var _=[].slice.call(w.cssRules,0).reduce(function(O,z){return z&&"string"==typeof z.cssText?O+z.cssText:O},""),F=h.cloneNode(!1);return F.textContent=_,F}}catch(O){if(this.context.logger.error("Unable to access cssRules property",O),"SecurityError"!==O.name)throw O}return h.cloneNode(!1)},A.prototype.createCanvasClone=function(h){var w;if(this.options.inlineImages&&h.ownerDocument){var _=h.ownerDocument.createElement("img");try{return _.src=h.toDataURL(),_}catch{this.context.logger.info("Unable to inline canvas contents, canvas is tainted",h)}}var F=h.cloneNode(!1);try{F.width=h.width,F.height=h.height;var O=h.getContext("2d"),z=F.getContext("2d");if(z)if(!this.options.allowTaint&&O)z.putImageData(O.getImageData(0,0,h.width,h.height),0,0);else{var $=null!==(w=h.getContext("webgl2"))&&void 0!==w?w:h.getContext("webgl");if($){var W=$.getContextAttributes();!1===(null==W?void 0:W.preserveDrawingBuffer)&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",h)}z.drawImage(h,0,0)}return F}catch{this.context.logger.info("Unable to clone canvas as it is tainted",h)}return F},A.prototype.createVideoClone=function(h){var w=h.ownerDocument.createElement("canvas");w.width=h.offsetWidth,w.height=h.offsetHeight;var _=w.getContext("2d");try{return _&&(_.drawImage(h,0,0,w.width,w.height),this.options.allowTaint||_.getImageData(0,0,w.width,w.height)),w}catch{this.context.logger.info("Unable to clone video as it is tainted",h)}var F=h.ownerDocument.createElement("canvas");return F.width=h.offsetWidth,F.height=h.offsetHeight,F},A.prototype.appendChildNode=function(h,w,_){(!gu(w)||!function(A){return"SCRIPT"===A.tagName}(w)&&!w.hasAttribute(ws)&&("function"!=typeof this.options.ignoreElements||!this.options.ignoreElements(w)))&&(!this.options.copyStyles||!gu(w)||!Jc(w))&&h.appendChild(this.cloneNode(w,_))},A.prototype.cloneChildNodes=function(h,w,_){for(var F=this,O=h.shadowRoot?h.shadowRoot.firstChild:h.firstChild;O;O=O.nextSibling)if(gu(O)&&ia(O)&&"function"==typeof O.assignedNodes){var z=O.assignedNodes();z.length&&z.forEach(function($){return F.appendChildNode(w,$,_)})}else this.appendChildNode(w,O,_)},A.prototype.cloneNode=function(h,w){if(Dd(h))return document.createTextNode(h.data);if(!h.ownerDocument)return h.cloneNode(!1);var _=h.ownerDocument.defaultView;if(_&&gu(h)&&(dA(h)||Xc(h))){var F=this.createElementClone(h);F.style.transitionProperty="none";var O=_.getComputedStyle(h),z=_.getComputedStyle(h,":before"),$=_.getComputedStyle(h,":after");this.referenceElement===h&&dA(F)&&(this.clonedReferenceElement=F),Ga(F)&&mf(F);var W=this.counters.parse(new pc(this.context,O)),ye=this.resolvePseudoContent(h,F,z,_u.BEFORE);Oi(h)&&(w=!0),Hl(h)||this.cloneChildNodes(h,F,w),ye&&F.insertBefore(ye,F.firstChild);var Se=this.resolvePseudoContent(h,F,$,_u.AFTER);return Se&&F.appendChild(Se),this.counters.pop(W),(O&&(this.options.copyStyles||Xc(h))&&!jl(h)||w)&&Bh(O,F),(0!==h.scrollTop||0!==h.scrollLeft)&&this.scrolledElements.push([F,h.scrollLeft,h.scrollTop]),(kd(h)||rs(h))&&(kd(F)||rs(F))&&(F.value=h.value),F}return h.cloneNode(!1)},A.prototype.resolvePseudoContent=function(h,w,_,F){var O=this;if(_){var z=_.content,$=w.ownerDocument;if($&&z&&"none"!==z&&"-moz-alt-content"!==z&&"none"!==_.display){this.counters.parse(new pc(this.context,_));var W=new uu(this.context,_),ye=$.createElement("html2canvaspseudoelement");Bh(_,ye),W.content.forEach(function(ke){if(0===ke.type)ye.appendChild($.createTextNode(ke.value));else if(22===ke.type){var _t=$.createElement("img");_t.src=ke.value,_t.style.opacity="1",ye.appendChild(_t)}else if(18===ke.type){if("attr"===ke.name){var qt=ke.values.filter(sn);qt.length&&ye.appendChild($.createTextNode(h.getAttribute(qt[0].value)||""))}else if("counter"===ke.name){var an=ke.values.filter(Zd),xr=an[1];if((Kt=an[0])&&sn(Kt)){var Wn=O.counters.getCounterValue(Kt.value),On=xr&&sn(xr)?Wr.parse(O.context,xr.value):3;ye.appendChild($.createTextNode(Do(Wn,On,!1)))}}else if("counters"===ke.name){var Kt,Or=ke.values.filter(Zd),Pr=Or[1];if(xr=Or[2],(Kt=Or[0])&&sn(Kt)){var yr=O.counters.getCounterValues(Kt.value),En=xr&&sn(xr)?Wr.parse(O.context,xr.value):3,Zr=Pr&&0===Pr.type?Pr.value:"",Ai=yr.map(function(_i){return Do(_i,En,!1)}).join(Zr);ye.appendChild($.createTextNode(Ai))}}}else if(20===ke.type)switch(ke.value){case"open-quote":ye.appendChild($.createTextNode(Ha(W.quotes,O.quoteDepth++,!0)));break;case"close-quote":ye.appendChild($.createTextNode(Ha(W.quotes,--O.quoteDepth,!1)));break;default:ye.appendChild($.createTextNode(ke.value))}}),ye.className=wa+" "+Ka;var Se=F===_u.BEFORE?" "+wa:" "+Ka;return Xc(w)?w.className.baseValue+=Se:w.className+=Se,ye}}},A.destroy=function(h){return!!h.parentNode&&(h.parentNode.removeChild(h),!0)},A}(),_u=function(A){return A[A.BEFORE=0]="BEFORE",A[A.AFTER=1]="AFTER",A}(_u||{}),Pd=function(A,h){var w=A.createElement("iframe");return w.className="html2canvas-container",w.style.visibility="hidden",w.style.position="fixed",w.style.left="-10000px",w.style.top="0px",w.style.border="0",w.width=h.width.toString(),w.height=h.height.toString(),w.scrolling="no",w.setAttribute(ws,"true"),A.body.appendChild(w),w},Th=function(A){return new Promise(function(h){A.complete?h():A.src?(A.onload=h,A.onerror=h):h()})},sp=function(A){return Promise.all([].slice.call(A.images,0).map(Th))},Nd=function(A){return new Promise(function(h,w){var _=A.contentWindow;if(!_)return w("No window assigned for iframe");var F=_.document;_.onload=A.onload=function(){_.onload=A.onload=null;var O=setInterval(function(){F.body.childNodes.length>0&&"complete"===F.readyState&&(clearInterval(O),h(A))},50)}})},ZA=["all","d","content"],Bh=function(A,h){for(var w=A.length-1;w>=0;w--){var _=A.item(w);-1===ZA.indexOf(_)&&h.style.setProperty(_,A.getPropertyValue(_))}return h},eh=function(A){var h="";return A&&(h+="<!DOCTYPE ",A.name&&(h+=A.name),A.internalSubset&&(h+=A.internalSubset),A.publicId&&(h+='"'+A.publicId+'"'),A.systemId&&(h+='"'+A.systemId+'"'),h+=">"),h},gf=function(A,h,w){A&&A.defaultView&&(h!==A.defaultView.pageXOffset||w!==A.defaultView.pageYOffset)&&A.defaultView.scrollTo(h,w)},Dh=function(A){var h=A[0],_=A[2];h.scrollLeft=A[1],h.scrollTop=_},wa="___html2canvas___pseudoelement_before",Ka="___html2canvas___pseudoelement_after",ll='{\n    content: "" !important;\n    display: none !important;\n}',mf=function(A){fA(A,"."+wa+":before"+ll+"\n         ."+Ka+":after"+ll)},fA=function(A,h){var w=A.ownerDocument;if(w){var _=w.createElement("style");_.textContent=h,A.appendChild(_)}},pA=function(){function A(){}return A.getOrigin=function(h){var w=A._link;return w?(w.href=h,w.href=w.href,w.protocol+w.hostname+w.port):"about:blank"},A.isSameOrigin=function(h){return A.getOrigin(h)===A._origin},A.setContext=function(h){A._link=h.document.createElement("a"),A._origin=A.getOrigin(h.location.href)},A._origin="about:blank",A}(),xa=function(){function A(h,w){this.context=h,this._options=w,this._cache={}}return A.prototype.addImage=function(h){var w=Promise.resolve();return this.has(h)||(Fh(h)||nh(h))&&(this._cache[h]=this.loadImage(h)).catch(function(){}),w},A.prototype.match=function(h){return this._cache[h]},A.prototype.loadImage=function(h){return ln(this,void 0,void 0,function(){var w,_,F,O,z=this;return Mt(this,function($){switch($.label){case 0:return w=pA.isSameOrigin(h),_=!Zc(h)&&!0===this._options.useCORS&&Us.SUPPORT_CORS_IMAGES&&!w,F=!Zc(h)&&!w&&!Fh(h)&&"string"==typeof this._options.proxy&&Us.SUPPORT_CORS_XHR&&!_,w||!1!==this._options.allowTaint||Zc(h)||Fh(h)||F||_?(O=h,F?[4,this.proxy(O)]:[3,2]):[2];case 1:O=$.sent(),$.label=2;case 2:return this.context.logger.debug("Added image "+h.substring(0,256)),[4,new Promise(function(W,ye){var Se=new Image;Se.onload=function(){return W(Se)},Se.onerror=ye,(vf(O)||_)&&(Se.crossOrigin="anonymous"),Se.src=O,!0===Se.complete&&setTimeout(function(){return W(Se)},500),z._options.imageTimeout>0&&setTimeout(function(){return ye("Timed out ("+z._options.imageTimeout+"ms) loading image")},z._options.imageTimeout)})];case 3:return[2,$.sent()]}})})},A.prototype.has=function(h){return typeof this._cache[h]<"u"},A.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},A.prototype.proxy=function(h){var w=this,_=this._options.proxy;if(!_)throw new Error("No proxy defined");var F=h.substring(0,256);return new Promise(function(O,z){var $=Us.SUPPORT_RESPONSE_TYPE?"blob":"text",W=new XMLHttpRequest;W.onload=function(){if(200===W.status)if("text"===$)O(W.response);else{var ke=new FileReader;ke.addEventListener("load",function(){return O(ke.result)},!1),ke.addEventListener("error",function(_t){return z(_t)},!1),ke.readAsDataURL(W.response)}else z("Failed to proxy resource "+F+" with status code "+W.status)},W.onerror=z;var ye=_.indexOf("?")>-1?"&":"?";if(W.open("GET",""+_+ye+"url="+encodeURIComponent(h)+"&responseType="+$),"text"!==$&&W instanceof XMLHttpRequest&&(W.responseType=$),w._options.imageTimeout){var Se=w._options.imageTimeout;W.timeout=Se,W.ontimeout=function(){return z("Timed out ("+Se+"ms) proxying "+F)}}W.send()})},A}(),Cc=/^data:image\/svg\+xml/i,xh=/^data:image\/.*;base64,/i,ap=/^data:image\/.*/i,nh=function(A){return Us.SUPPORT_SVG_DRAWING||!tm(A)},Zc=function(A){return ap.test(A)},vf=function(A){return xh.test(A)},Fh=function(A){return"blob"===A.substr(0,4)},tm=function(A){return"svg"===A.substr(-3).toLowerCase()||Cc.test(A)},Jn=function(){function A(h,w){this.type=0,this.x=h,this.y=w}return A.prototype.add=function(h,w){return new A(this.x+h,this.y+w)},A}(),$l=function(A,h,w){return new Jn(A.x+(h.x-A.x)*w,A.y+(h.y-A.y)*w)},yf=function(){function A(h,w,_,F){this.type=1,this.start=h,this.startControl=w,this.endControl=_,this.end=F}return A.prototype.subdivide=function(h,w){var _=$l(this.start,this.startControl,h),F=$l(this.startControl,this.endControl,h),O=$l(this.endControl,this.end,h),z=$l(_,F,h),$=$l(F,O,h),W=$l(z,$,h);return w?new A(this.start,_,z,W):new A(W,$,O,this.end)},A.prototype.add=function(h,w){return new A(this.start.add(h,w),this.startControl.add(h,w),this.endControl.add(h,w),this.end.add(h,w))},A.prototype.reverse=function(){return new A(this.end,this.endControl,this.startControl,this.start)},A}(),Gl=function(A){return 1===A.type},Wp=function(){return function A(h){var w=h.styles,_=h.bounds,F=_d(w.borderTopLeftRadius,_.width,_.height),O=F[0],z=F[1],$=_d(w.borderTopRightRadius,_.width,_.height),W=$[0],ye=$[1],Se=_d(w.borderBottomRightRadius,_.width,_.height),ke=Se[0],_t=Se[1],qt=_d(w.borderBottomLeftRadius,_.width,_.height),an=qt[0],Kt=qt[1],xr=[];xr.push((O+W)/_.width),xr.push((an+ke)/_.width),xr.push((z+Kt)/_.height),xr.push((ye+_t)/_.height);var Wn=Math.max.apply(Math,xr);Wn>1&&(O/=Wn,z/=Wn,W/=Wn,ye/=Wn,ke/=Wn,_t/=Wn,an/=Wn,Kt/=Wn);var On=_.width-W,Or=_.height-_t,Pr=_.width-ke,yr=_.height-Kt,En=w.borderTopWidth,Zr=w.borderRightWidth,Ai=w.borderBottomWidth,Fr=w.borderLeftWidth,ao=ki(w.paddingTop,h.bounds.width),_i=ki(w.paddingRight,h.bounds.width),fs=ki(w.paddingBottom,h.bounds.width),Bi=ki(w.paddingLeft,h.bounds.width);this.topLeftBorderDoubleOuterBox=O>0||z>0?bi(_.left+Fr/3,_.top+En/3,O-Fr/3,z-En/3,so.TOP_LEFT):new Jn(_.left+Fr/3,_.top+En/3),this.topRightBorderDoubleOuterBox=O>0||z>0?bi(_.left+On,_.top+En/3,W-Zr/3,ye-En/3,so.TOP_RIGHT):new Jn(_.left+_.width-Zr/3,_.top+En/3),this.bottomRightBorderDoubleOuterBox=ke>0||_t>0?bi(_.left+Pr,_.top+Or,ke-Zr/3,_t-Ai/3,so.BOTTOM_RIGHT):new Jn(_.left+_.width-Zr/3,_.top+_.height-Ai/3),this.bottomLeftBorderDoubleOuterBox=an>0||Kt>0?bi(_.left+Fr/3,_.top+yr,an-Fr/3,Kt-Ai/3,so.BOTTOM_LEFT):new Jn(_.left+Fr/3,_.top+_.height-Ai/3),this.topLeftBorderDoubleInnerBox=O>0||z>0?bi(_.left+2*Fr/3,_.top+2*En/3,O-2*Fr/3,z-2*En/3,so.TOP_LEFT):new Jn(_.left+2*Fr/3,_.top+2*En/3),this.topRightBorderDoubleInnerBox=O>0||z>0?bi(_.left+On,_.top+2*En/3,W-2*Zr/3,ye-2*En/3,so.TOP_RIGHT):new Jn(_.left+_.width-2*Zr/3,_.top+2*En/3),this.bottomRightBorderDoubleInnerBox=ke>0||_t>0?bi(_.left+Pr,_.top+Or,ke-2*Zr/3,_t-2*Ai/3,so.BOTTOM_RIGHT):new Jn(_.left+_.width-2*Zr/3,_.top+_.height-2*Ai/3),this.bottomLeftBorderDoubleInnerBox=an>0||Kt>0?bi(_.left+2*Fr/3,_.top+yr,an-2*Fr/3,Kt-2*Ai/3,so.BOTTOM_LEFT):new Jn(_.left+2*Fr/3,_.top+_.height-2*Ai/3),this.topLeftBorderStroke=O>0||z>0?bi(_.left+Fr/2,_.top+En/2,O-Fr/2,z-En/2,so.TOP_LEFT):new Jn(_.left+Fr/2,_.top+En/2),this.topRightBorderStroke=O>0||z>0?bi(_.left+On,_.top+En/2,W-Zr/2,ye-En/2,so.TOP_RIGHT):new Jn(_.left+_.width-Zr/2,_.top+En/2),this.bottomRightBorderStroke=ke>0||_t>0?bi(_.left+Pr,_.top+Or,ke-Zr/2,_t-Ai/2,so.BOTTOM_RIGHT):new Jn(_.left+_.width-Zr/2,_.top+_.height-Ai/2),this.bottomLeftBorderStroke=an>0||Kt>0?bi(_.left+Fr/2,_.top+yr,an-Fr/2,Kt-Ai/2,so.BOTTOM_LEFT):new Jn(_.left+Fr/2,_.top+_.height-Ai/2),this.topLeftBorderBox=O>0||z>0?bi(_.left,_.top,O,z,so.TOP_LEFT):new Jn(_.left,_.top),this.topRightBorderBox=W>0||ye>0?bi(_.left+On,_.top,W,ye,so.TOP_RIGHT):new Jn(_.left+_.width,_.top),this.bottomRightBorderBox=ke>0||_t>0?bi(_.left+Pr,_.top+Or,ke,_t,so.BOTTOM_RIGHT):new Jn(_.left+_.width,_.top+_.height),this.bottomLeftBorderBox=an>0||Kt>0?bi(_.left,_.top+yr,an,Kt,so.BOTTOM_LEFT):new Jn(_.left,_.top+_.height),this.topLeftPaddingBox=O>0||z>0?bi(_.left+Fr,_.top+En,Math.max(0,O-Fr),Math.max(0,z-En),so.TOP_LEFT):new Jn(_.left+Fr,_.top+En),this.topRightPaddingBox=W>0||ye>0?bi(_.left+Math.min(On,_.width-Zr),_.top+En,On>_.width+Zr?0:Math.max(0,W-Zr),Math.max(0,ye-En),so.TOP_RIGHT):new Jn(_.left+_.width-Zr,_.top+En),this.bottomRightPaddingBox=ke>0||_t>0?bi(_.left+Math.min(Pr,_.width-Fr),_.top+Math.min(Or,_.height-Ai),Math.max(0,ke-Zr),Math.max(0,_t-Ai),so.BOTTOM_RIGHT):new Jn(_.left+_.width-Zr,_.top+_.height-Ai),this.bottomLeftPaddingBox=an>0||Kt>0?bi(_.left+Fr,_.top+Math.min(yr,_.height-Ai),Math.max(0,an-Fr),Math.max(0,Kt-Ai),so.BOTTOM_LEFT):new Jn(_.left+Fr,_.top+_.height-Ai),this.topLeftContentBox=O>0||z>0?bi(_.left+Fr+Bi,_.top+En+ao,Math.max(0,O-(Fr+Bi)),Math.max(0,z-(En+ao)),so.TOP_LEFT):new Jn(_.left+Fr+Bi,_.top+En+ao),this.topRightContentBox=W>0||ye>0?bi(_.left+Math.min(On,_.width+Fr+Bi),_.top+En+ao,On>_.width+Fr+Bi?0:W-Fr+Bi,ye-(En+ao),so.TOP_RIGHT):new Jn(_.left+_.width-(Zr+_i),_.top+En+ao),this.bottomRightContentBox=ke>0||_t>0?bi(_.left+Math.min(Pr,_.width-(Fr+Bi)),_.top+Math.min(Or,_.height+En+ao),Math.max(0,ke-(Zr+_i)),_t-(Ai+fs),so.BOTTOM_RIGHT):new Jn(_.left+_.width-(Zr+_i),_.top+_.height-(Ai+fs)),this.bottomLeftContentBox=an>0||Kt>0?bi(_.left+Fr+Bi,_.top+yr,Math.max(0,an-(Fr+Bi)),Kt-(Ai+fs),so.BOTTOM_LEFT):new Jn(_.left+Fr+Bi,_.top+_.height-(Ai+fs))}}(),so=function(A){return A[A.TOP_LEFT=0]="TOP_LEFT",A[A.TOP_RIGHT=1]="TOP_RIGHT",A[A.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",A[A.BOTTOM_LEFT=3]="BOTTOM_LEFT",A}(so||{}),bi=function(A,h,w,_,F){var O=(Math.sqrt(2)-1)/3*4,z=w*O,$=_*O,W=A+w,ye=h+_;switch(F){case so.TOP_LEFT:return new yf(new Jn(A,ye),new Jn(A,ye-$),new Jn(W-z,h),new Jn(W,h));case so.TOP_RIGHT:return new yf(new Jn(A,h),new Jn(A+z,h),new Jn(W,ye-$),new Jn(W,ye));case so.BOTTOM_RIGHT:return new yf(new Jn(W,h),new Jn(W,h+$),new Jn(A+z,ye),new Jn(A,ye));default:return new yf(new Jn(W,ye),new Jn(W-z,ye),new Jn(A,h+$),new Jn(A,h))}},is=function(A){return[A.topLeftBorderBox,A.topRightBorderBox,A.bottomRightBorderBox,A.bottomLeftBorderBox]},zo=function(A){return[A.topLeftPaddingBox,A.topRightPaddingBox,A.bottomRightPaddingBox,A.bottomLeftPaddingBox]},Ku=function(){return function A(h,w,_){this.offsetX=h,this.offsetY=w,this.matrix=_,this.type=0,this.target=6}}(),ed=function(){return function A(h,w){this.path=h,this.target=w,this.type=1}}(),lp=function(){return function A(h){this.opacity=h,this.type=2,this.target=6}}(),Kp=function(A){return 1===A.type},qu=function(A,h){return A.length===h.length&&A.some(function(w,_){return w===h[_]})},Yu=function(){return function A(h){this.element=h,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}}(),qp=function(){function A(h,w){if(this.container=h,this.parent=w,this.effects=[],this.curves=new Wp(this.container),this.container.styles.opacity<1&&this.effects.push(new lp(this.container.styles.opacity)),null!==this.container.styles.transform&&this.effects.push(new Ku(this.container.bounds.left+this.container.styles.transformOrigin[0].number,this.container.bounds.top+this.container.styles.transformOrigin[1].number,this.container.styles.transform)),0!==this.container.styles.overflowX){var z=is(this.curves),$=zo(this.curves);qu(z,$)?this.effects.push(new ed(z,6)):(this.effects.push(new ed(z,2)),this.effects.push(new ed($,4)))}}return A.prototype.getEffects=function(h){for(var w=-1===[2,3].indexOf(this.container.styles.position),_=this.parent,F=this.effects.slice(0);_;){var O=_.effects.filter(function(W){return!Kp(W)});if(w||0!==_.container.styles.position||!_.parent){if(F.unshift.apply(F,O),w=-1===[2,3].indexOf(_.container.styles.position),0!==_.container.styles.overflowX){var z=is(_.curves),$=zo(_.curves);qu(z,$)||F.unshift(new ed($,6))}}else F.unshift.apply(F,O);_=_.parent}return F.filter(function(W){return si(W.target,h)})},A}(),E=function(A,h,w,_){A.container.elements.forEach(function(F){var O=si(F.flags,4),z=si(F.flags,2),$=new qp(F,A);si(F.styles.display,2048)&&_.push($);var W=si(F.flags,8)?[]:_;if(O||z){var ye=O||F.styles.isPositioned()?w:h,Se=new Yu($);if(F.styles.isPositioned()||F.styles.opacity<1||F.styles.isTransformed()){var ke=F.styles.zIndex.order;if(ke<0){var _t=0;ye.negativeZIndex.some(function(an,Kt){return ke>an.element.container.styles.zIndex.order?(_t=Kt,!1):_t>0}),ye.negativeZIndex.splice(_t,0,Se)}else if(ke>0){var qt=0;ye.positiveZIndex.some(function(an,Kt){return ke>=an.element.container.styles.zIndex.order?(qt=Kt+1,!1):qt>0}),ye.positiveZIndex.splice(qt,0,Se)}else ye.zeroOrAutoZIndexOrTransformedOrOpacity.push(Se)}else F.styles.isFloating()?ye.nonPositionedFloats.push(Se):ye.nonPositionedInlineLevel.push(Se);E($,Se,O?Se:w,W)}else F.styles.isInlineLevel()?h.inlineLevel.push($):h.nonInlineLevel.push($),E($,h,w,W);si(F.flags,8)&&c(F,W)})},c=function(A,h){for(var w=A instanceof Tt?A.start:1,_=A instanceof Tt&&A.reversed,F=0;F<h.length;F++){var O=h[F];O.container instanceof At&&"number"==typeof O.container.value&&0!==O.container.value&&(w=O.container.value),O.listValue=Do(w,O.container.styles.listStyleType,!0),w+=_?-1:1}},D=function(A,h){switch(h){case 0:return tn(A.topLeftBorderBox,A.topLeftPaddingBox,A.topRightBorderBox,A.topRightPaddingBox);case 1:return tn(A.topRightBorderBox,A.topRightPaddingBox,A.bottomRightBorderBox,A.bottomRightPaddingBox);case 2:return tn(A.bottomRightBorderBox,A.bottomRightPaddingBox,A.bottomLeftBorderBox,A.bottomLeftPaddingBox);default:return tn(A.bottomLeftBorderBox,A.bottomLeftPaddingBox,A.topLeftBorderBox,A.topLeftPaddingBox)}},bt=function(A,h){var w=[];return Gl(A)?w.push(A.subdivide(.5,!1)):w.push(A),Gl(h)?w.push(h.subdivide(.5,!0)):w.push(h),w},tn=function(A,h,w,_){var F=[];return Gl(A)?F.push(A.subdivide(.5,!1)):F.push(A),Gl(w)?F.push(w.subdivide(.5,!0)):F.push(w),Gl(_)?F.push(_.subdivide(.5,!0).reverse()):F.push(_),Gl(h)?F.push(h.subdivide(.5,!1).reverse()):F.push(h),F},Zn=function(A){var w=A.styles;return A.bounds.add(w.borderLeftWidth,w.borderTopWidth,-(w.borderRightWidth+w.borderLeftWidth),-(w.borderTopWidth+w.borderBottomWidth))},Nn=function(A){var h=A.styles,w=A.bounds,_=ki(h.paddingLeft,w.width),F=ki(h.paddingRight,w.width),O=ki(h.paddingTop,w.width),z=ki(h.paddingBottom,w.width);return w.add(_+h.borderLeftWidth,O+h.borderTopWidth,-(h.borderRightWidth+h.borderLeftWidth+_+F),-(h.borderTopWidth+h.borderBottomWidth+O+z))},Bl=function(A,h,w){var _=function(A,h){return 0===A?h.bounds:2===A?Nn(h):Zn(h)}(Cu(A.styles.backgroundOrigin,h),A),F=function(A,h){return 0===A?h.bounds:2===A?Nn(h):Zn(h)}(Cu(A.styles.backgroundClip,h),A),O=kh(Cu(A.styles.backgroundSize,h),w,_),z=O[0],$=O[1],W=_d(Cu(A.styles.backgroundPosition,h),_.width-z,_.height-$);return[Yp(Cu(A.styles.backgroundRepeat,h),W,O,_,F),Math.round(_.left+W[0]),Math.round(_.top+W[1]),z,$]},wu=function(A){return sn(A)&&A.value===Ne.AUTO},Dl=function(A){return"number"==typeof A},kh=function(A,h,w){var _=h[0],F=h[1],O=h[2],z=A[0],$=A[1];if(!z)return[0,0];if(Uo(z)&&$&&Uo($))return[ki(z,w.width),ki($,w.height)];var W=Dl(O);if(sn(z)&&(z.value===Ne.CONTAIN||z.value===Ne.COVER))return Dl(O)?w.width/w.height<O!=(z.value===Ne.COVER)?[w.width,w.width/O]:[w.height*O,w.height]:[w.width,w.height];var Se=Dl(_),ke=Dl(F),_t=Se||ke;if(wu(z)&&(!$||wu($)))return Se&&ke?[_,F]:W||_t?_t&&W?[Se?_:F*O,ke?F:_/O]:[Se?_:w.width,ke?F:w.height]:[w.width,w.height];if(W){var Wn=0,On=0;return Uo(z)?Wn=ki(z,w.width):Uo($)&&(On=ki($,w.height)),wu(z)?Wn=On*O:(!$||wu($))&&(On=Wn/O),[Wn,On]}var Or=null,Pr=null;if(Uo(z)?Or=ki(z,w.width):$&&Uo($)&&(Pr=ki($,w.height)),null!==Or&&(!$||wu($))&&(Pr=Se&&ke?Or/_*F:w.height),null!==Pr&&wu(z)&&(Or=Se&&ke?Pr/F*_:w.width),null!==Or&&null!==Pr)return[Or,Pr];throw new Error("Unable to calculate background-size for element")},Cu=function(A,h){var w=A[h];return typeof w>"u"?A[0]:w},Yp=function(A,h,w,_,F){var O=h[0],z=h[1],$=w[0],W=w[1];switch(A){case 2:return[new Jn(Math.round(_.left),Math.round(_.top+z)),new Jn(Math.round(_.left+_.width),Math.round(_.top+z)),new Jn(Math.round(_.left+_.width),Math.round(W+_.top+z)),new Jn(Math.round(_.left),Math.round(W+_.top+z))];case 3:return[new Jn(Math.round(_.left+O),Math.round(_.top)),new Jn(Math.round(_.left+O+$),Math.round(_.top)),new Jn(Math.round(_.left+O+$),Math.round(_.height+_.top)),new Jn(Math.round(_.left+O),Math.round(_.height+_.top))];case 1:return[new Jn(Math.round(_.left+O),Math.round(_.top+z)),new Jn(Math.round(_.left+O+$),Math.round(_.top+z)),new Jn(Math.round(_.left+O+$),Math.round(_.top+z+W)),new Jn(Math.round(_.left+O),Math.round(_.top+z+W))];default:return[new Jn(Math.round(F.left),Math.round(F.top)),new Jn(Math.round(F.left+F.width),Math.round(F.top)),new Jn(Math.round(F.left+F.width),Math.round(F.height+F.top)),new Jn(Math.round(F.left),Math.round(F.height+F.top))]}},wf="Hidden Text",nm=function(){function A(h){this._data={},this._document=h}return A.prototype.parseMetrics=function(h,w){var _=this._document.createElement("div"),F=this._document.createElement("img"),O=this._document.createElement("span"),z=this._document.body;_.style.visibility="hidden",_.style.fontFamily=h,_.style.fontSize=w,_.style.margin="0",_.style.padding="0",_.style.whiteSpace="nowrap",z.appendChild(_),F.src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",F.width=1,F.height=1,F.style.margin="0",F.style.padding="0",F.style.verticalAlign="baseline",O.style.fontFamily=h,O.style.fontSize=w,O.style.margin="0",O.style.padding="0",O.appendChild(this._document.createTextNode(wf)),_.appendChild(O),_.appendChild(F);var $=F.offsetTop-O.offsetTop+2;_.removeChild(O),_.appendChild(this._document.createTextNode(wf)),_.style.lineHeight="normal",F.style.verticalAlign="super";var W=F.offsetTop-_.offsetTop+2;return z.removeChild(_),{baseline:$,middle:W}},A.prototype.getMetrics=function(h,w){var _=h+" "+w;return typeof this._data[_]>"u"&&(this._data[_]=this.parseMetrics(h,w)),this._data[_]},A}(),cp=function(){return function A(h,w){this.context=h,this.options=w}}(),dp=function(A){function h(w,_){var F=A.call(this,w,_)||this;return F._activeEffects=[],F.canvas=_.canvas?_.canvas:document.createElement("canvas"),F.ctx=F.canvas.getContext("2d"),_.canvas||(F.canvas.width=Math.floor(_.width*_.scale),F.canvas.height=Math.floor(_.height*_.scale),F.canvas.style.width=_.width+"px",F.canvas.style.height=_.height+"px"),F.fontMetrics=new nm(document),F.ctx.scale(F.options.scale,F.options.scale),F.ctx.translate(-_.x,-_.y),F.ctx.textBaseline="bottom",F._activeEffects=[],F.context.logger.debug("Canvas renderer initialized ("+_.width+"x"+_.height+") with scale "+_.scale),F}return wt(h,A),h.prototype.applyEffects=function(w){for(var _=this;this._activeEffects.length;)this.popEffect();w.forEach(function(F){return _.applyEffect(F)})},h.prototype.applyEffect=function(w){this.ctx.save(),function(A){return 2===A.type}(w)&&(this.ctx.globalAlpha=w.opacity),function(A){return 0===A.type}(w)&&(this.ctx.translate(w.offsetX,w.offsetY),this.ctx.transform(w.matrix[0],w.matrix[1],w.matrix[2],w.matrix[3],w.matrix[4],w.matrix[5]),this.ctx.translate(-w.offsetX,-w.offsetY)),Kp(w)&&(this.path(w.path),this.ctx.clip()),this._activeEffects.push(w)},h.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},h.prototype.renderStack=function(w){return ln(this,void 0,void 0,function(){return Mt(this,function(F){switch(F.label){case 0:return w.element.container.styles.isVisible()?[4,this.renderStackContent(w)]:[3,2];case 1:F.sent(),F.label=2;case 2:return[2]}})})},h.prototype.renderNode=function(w){return ln(this,void 0,void 0,function(){return Mt(this,function(_){switch(_.label){case 0:return si(w.container.flags,16),w.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(w)]:[3,3];case 1:return _.sent(),[4,this.renderNodeContent(w)];case 2:_.sent(),_.label=3;case 3:return[2]}})})},h.prototype.renderTextWithLetterSpacing=function(w,_,F){var O=this;0===_?this.ctx.fillText(w.text,w.bounds.left,w.bounds.top+F):Ql(w.text).reduce(function($,W){return O.ctx.fillText(W,$,w.bounds.top+F),$+O.ctx.measureText(W).width},w.bounds.left)},h.prototype.createFontStyle=function(w){var _=w.fontVariant.filter(function(z){return"normal"===z||"small-caps"===z}).join(""),F=T(w.fontFamily).join(", "),O=Ln(w.fontSize)?""+w.fontSize.number+w.fontSize.unit:w.fontSize.number+"px";return[[w.fontStyle,_,w.fontWeight,O,F].join(" "),F,O]},h.prototype.renderTextNode=function(w,_){return ln(this,void 0,void 0,function(){var F,z,$,W,ye,Se,ke,_t=this;return Mt(this,function(qt){return F=this.createFontStyle(_),z=F[1],$=F[2],this.ctx.font=F[0],this.ctx.direction=1===_.direction?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",W=this.fontMetrics.getMetrics(z,$),ye=W.baseline,Se=W.middle,ke=_.paintOrder,w.textBounds.forEach(function(an){ke.forEach(function(Kt){switch(Kt){case 0:_t.ctx.fillStyle=ds(_.color),_t.renderTextWithLetterSpacing(an,_.letterSpacing,ye);var xr=_.textShadow;xr.length&&an.text.trim().length&&(xr.slice(0).reverse().forEach(function(Wn){_t.ctx.shadowColor=ds(Wn.color),_t.ctx.shadowOffsetX=Wn.offsetX.number*_t.options.scale,_t.ctx.shadowOffsetY=Wn.offsetY.number*_t.options.scale,_t.ctx.shadowBlur=Wn.blur.number,_t.renderTextWithLetterSpacing(an,_.letterSpacing,ye)}),_t.ctx.shadowColor="",_t.ctx.shadowOffsetX=0,_t.ctx.shadowOffsetY=0,_t.ctx.shadowBlur=0),_.textDecorationLine.length&&(_t.ctx.fillStyle=ds(_.textDecorationColor||_.color),_.textDecorationLine.forEach(function(Wn){switch(Wn){case 1:_t.ctx.fillRect(an.bounds.left,Math.round(an.bounds.top+ye),an.bounds.width,1);break;case 2:_t.ctx.fillRect(an.bounds.left,Math.round(an.bounds.top),an.bounds.width,1);break;case 3:_t.ctx.fillRect(an.bounds.left,Math.ceil(an.bounds.top+Se),an.bounds.width,1)}}));break;case 1:_.webkitTextStrokeWidth&&an.text.trim().length&&(_t.ctx.strokeStyle=ds(_.webkitTextStrokeColor),_t.ctx.lineWidth=_.webkitTextStrokeWidth,_t.ctx.lineJoin=window.chrome?"miter":"round",_t.ctx.strokeText(an.text,an.bounds.left,an.bounds.top+ye)),_t.ctx.strokeStyle="",_t.ctx.lineWidth=0,_t.ctx.lineJoin="miter"}})}),[2]})})},h.prototype.renderReplacedElement=function(w,_,F){if(F&&w.intrinsicWidth>0&&w.intrinsicHeight>0){var O=Nn(w),z=zo(_);this.path(z),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(F,0,0,w.intrinsicWidth,w.intrinsicHeight,O.left,O.top,O.width,O.height),this.ctx.restore()}},h.prototype.renderNodeContent=function(w){return ln(this,void 0,void 0,function(){var _,F,O,z,$,Se,ke,_t,an,Kt,xr,Wn,On,Or,Pr,yr;return Mt(this,function(En){switch(En.label){case 0:this.applyEffects(w.getEffects(4)),F=w.curves,O=(_=w.container).styles,z=0,$=_.textNodes,En.label=1;case 1:return z<$.length?[4,this.renderTextNode($[z],O)]:[3,4];case 2:En.sent(),En.label=3;case 3:return z++,[3,1];case 4:if(!(_ instanceof R))return[3,8];En.label=5;case 5:return En.trys.push([5,7,,8]),[4,this.context.cache.match(_.src)];case 6:return On=En.sent(),this.renderReplacedElement(_,F,On),[3,8];case 7:return En.sent(),this.context.logger.error("Error loading image "+_.src),[3,8];case 8:if(_ instanceof ee&&this.renderReplacedElement(_,F,_.canvas),!(_ instanceof Oe))return[3,12];En.label=9;case 9:return En.trys.push([9,11,,12]),[4,this.context.cache.match(_.svg)];case 10:return On=En.sent(),this.renderReplacedElement(_,F,On),[3,12];case 11:return En.sent(),this.context.logger.error("Error loading svg "+_.svg.substring(0,255)),[3,12];case 12:return _ instanceof ra&&_.tree?[4,new h(this.context,{scale:this.options.scale,backgroundColor:_.backgroundColor,x:0,y:0,width:_.width,height:_.height}).render(_.tree)]:[3,14];case 13:Se=En.sent(),_.width&&_.height&&this.ctx.drawImage(Se,0,0,_.width,_.height,_.bounds.left,_.bounds.top,_.bounds.width,_.bounds.height),En.label=14;case 14:if(_ instanceof jo&&(ke=Math.min(_.bounds.width,_.bounds.height),_.type===vr?_.checked&&(this.ctx.save(),this.path([new Jn(_.bounds.left+.39363*ke,_.bounds.top+.79*ke),new Jn(_.bounds.left+.16*ke,_.bounds.top+.5549*ke),new Jn(_.bounds.left+.27347*ke,_.bounds.top+.44071*ke),new Jn(_.bounds.left+.39694*ke,_.bounds.top+.5649*ke),new Jn(_.bounds.left+.72983*ke,_.bounds.top+.23*ke),new Jn(_.bounds.left+.84*ke,_.bounds.top+.34085*ke),new Jn(_.bounds.left+.39363*ke,_.bounds.top+.79*ke)]),this.ctx.fillStyle=ds(ho),this.ctx.fill(),this.ctx.restore()):_.type===mi&&_.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(_.bounds.left+ke/2,_.bounds.top+ke/2,ke/4,0,2*Math.PI,!0),this.ctx.fillStyle=ds(ho),this.ctx.fill(),this.ctx.restore())),Jp(_)&&_.value.length){switch(_t=this.createFontStyle(O),an=this.fontMetrics.getMetrics(Pr=_t[0],_t[1]).baseline,this.ctx.font=Pr,this.ctx.fillStyle=ds(O.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=Rh(_.styles.textAlign),yr=Nn(_),Kt=0,_.styles.textAlign){case 1:Kt+=yr.width/2;break;case 2:Kt+=yr.width}xr=yr.add(Kt,0,0,-yr.height/2+1),this.ctx.save(),this.path([new Jn(yr.left,yr.top),new Jn(yr.left+yr.width,yr.top),new Jn(yr.left+yr.width,yr.top+yr.height),new Jn(yr.left,yr.top+yr.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new pu(_.value,xr),O.letterSpacing,an),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!si(_.styles.display,2048))return[3,20];if(null===_.styles.listStyleImage)return[3,19];if(0!==(Wn=_.styles.listStyleImage).type)return[3,18];On=void 0,Or=Wn.url,En.label=15;case 15:return En.trys.push([15,17,,18]),[4,this.context.cache.match(Or)];case 16:return On=En.sent(),this.ctx.drawImage(On,_.bounds.left-(On.width+10),_.bounds.top),[3,18];case 17:return En.sent(),this.context.logger.error("Error loading list-style-image "+Or),[3,18];case 18:return[3,20];case 19:w.listValue&&-1!==_.styles.listStyleType&&(Pr=this.createFontStyle(O)[0],this.ctx.font=Pr,this.ctx.fillStyle=ds(O.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",yr=new Tn(_.bounds.left,_.bounds.top+ki(_.styles.paddingTop,_.bounds.width),_.bounds.width,Xn(O.lineHeight,O.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new pu(w.listValue,yr),O.letterSpacing,Xn(O.lineHeight,O.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),En.label=20;case 20:return[2]}})})},h.prototype.renderStackContent=function(w){return ln(this,void 0,void 0,function(){var _,F,O,z,$,W,ye,Se,ke,_t,qt,an,Kt,xr;return Mt(this,function(On){switch(On.label){case 0:return si(w.element.container.flags,16),[4,this.renderNodeBackgroundAndBorders(w.element)];case 1:On.sent(),_=0,F=w.negativeZIndex,On.label=2;case 2:return _<F.length?[4,this.renderStack(F[_])]:[3,5];case 3:On.sent(),On.label=4;case 4:return _++,[3,2];case 5:return[4,this.renderNodeContent(w.element)];case 6:On.sent(),O=0,z=w.nonInlineLevel,On.label=7;case 7:return O<z.length?[4,this.renderNode(z[O])]:[3,10];case 8:On.sent(),On.label=9;case 9:return O++,[3,7];case 10:$=0,W=w.nonPositionedFloats,On.label=11;case 11:return $<W.length?[4,this.renderStack(W[$])]:[3,14];case 12:On.sent(),On.label=13;case 13:return $++,[3,11];case 14:ye=0,Se=w.nonPositionedInlineLevel,On.label=15;case 15:return ye<Se.length?[4,this.renderStack(Se[ye])]:[3,18];case 16:On.sent(),On.label=17;case 17:return ye++,[3,15];case 18:ke=0,_t=w.inlineLevel,On.label=19;case 19:return ke<_t.length?[4,this.renderNode(_t[ke])]:[3,22];case 20:On.sent(),On.label=21;case 21:return ke++,[3,19];case 22:qt=0,an=w.zeroOrAutoZIndexOrTransformedOrOpacity,On.label=23;case 23:return qt<an.length?[4,this.renderStack(an[qt])]:[3,26];case 24:On.sent(),On.label=25;case 25:return qt++,[3,23];case 26:Kt=0,xr=w.positiveZIndex,On.label=27;case 27:return Kt<xr.length?[4,this.renderStack(xr[Kt])]:[3,30];case 28:On.sent(),On.label=29;case 29:return Kt++,[3,27];case 30:return[2]}})})},h.prototype.mask=function(w){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(w.slice(0).reverse()),this.ctx.closePath()},h.prototype.path=function(w){this.ctx.beginPath(),this.formatPath(w),this.ctx.closePath()},h.prototype.formatPath=function(w){var _=this;w.forEach(function(F,O){var z=Gl(F)?F.start:F;0===O?_.ctx.moveTo(z.x,z.y):_.ctx.lineTo(z.x,z.y),Gl(F)&&_.ctx.bezierCurveTo(F.startControl.x,F.startControl.y,F.endControl.x,F.endControl.y,F.end.x,F.end.y)})},h.prototype.renderRepeat=function(w,_,F,O){this.path(w),this.ctx.fillStyle=_,this.ctx.translate(F,O),this.ctx.fill(),this.ctx.translate(-F,-O)},h.prototype.resizeImage=function(w,_,F){var O;if(w.width===_&&w.height===F)return w;var $=(null!==(O=this.canvas.ownerDocument)&&void 0!==O?O:document).createElement("canvas");return $.width=Math.max(1,_),$.height=Math.max(1,F),$.getContext("2d").drawImage(w,0,0,w.width,w.height,0,0,_,F),$},h.prototype.renderBackgroundImage=function(w){return ln(this,void 0,void 0,function(){var _,F,O,z,$;return Mt(this,function(ye){switch(ye.label){case 0:_=w.styles.backgroundImage.length-1,F=function(Se){var ke,_t,qt,an,Kt,xr,Wn,On,Or,Pr,yr,En,Zr,Ai,Fr,ao,_i,fs,Bi,Zi,Qs,Go,Yo,xl,os,Fl,Xu,bu,ul,ss,td;return Mt(this,function(Ic){switch(Ic.label){case 0:if(0!==Se.type)return[3,5];ke=void 0,_t=Se.url,Ic.label=1;case 1:return Ic.trys.push([1,3,,4]),[4,O.context.cache.match(_t)];case 2:return ke=Ic.sent(),[3,4];case 3:return Ic.sent(),O.context.logger.error("Error loading background-image "+_t),[3,4];case 4:return ke&&(qt=Bl(w,_,[ke.width,ke.height,ke.width/ke.height]),ao=qt[0],Go=qt[1],Yo=qt[2],Ai=O.ctx.createPattern(O.resizeImage(ke,Bi=qt[3],Zi=qt[4]),"repeat"),O.renderRepeat(ao,Ai,Go,Yo)),[3,6];case 5:!function(A){return 1===A.type}(Se)?function(A){return 2===A.type}(Se)&&(Fr=Bl(w,_,[null,null,null]),ao=Fr[0],_i=Fr[1],fs=Fr[2],Zi=Fr[4],Go=ki((Qs=0===Se.position.length?[UA]:Se.position)[0],Bi=Fr[3]),Yo=ki(Qs[Qs.length-1],Zi),xl=function(A,h,w,_,F){var O=0,z=0;switch(A.size){case 0:0===A.shape?O=z=Math.min(Math.abs(h),Math.abs(h-_),Math.abs(w),Math.abs(w-F)):1===A.shape&&(O=Math.min(Math.abs(h),Math.abs(h-_)),z=Math.min(Math.abs(w),Math.abs(w-F)));break;case 2:if(0===A.shape)O=z=Math.min(iu(h,w),iu(h,w-F),iu(h-_,w),iu(h-_,w-F));else if(1===A.shape){var $=Math.min(Math.abs(w),Math.abs(w-F))/Math.min(Math.abs(h),Math.abs(h-_)),W=wd(_,F,h,w,!0);z=$*(O=iu(W[0]-h,(W[1]-w)/$))}break;case 1:0===A.shape?O=z=Math.max(Math.abs(h),Math.abs(h-_),Math.abs(w),Math.abs(w-F)):1===A.shape&&(O=Math.max(Math.abs(h),Math.abs(h-_)),z=Math.max(Math.abs(w),Math.abs(w-F)));break;case 3:if(0===A.shape)O=z=Math.max(iu(h,w),iu(h,w-F),iu(h-_,w),iu(h-_,w-F));else if(1===A.shape){$=Math.max(Math.abs(w),Math.abs(w-F))/Math.max(Math.abs(h),Math.abs(h-_));var ke=wd(_,F,h,w,!1);z=$*(O=iu(ke[0]-h,(ke[1]-w)/$))}}return Array.isArray(A.size)&&(O=ki(A.size[0],_),z=2===A.size.length?ki(A.size[1],F):O),[O,z]}(Se,Go,Yo,Bi,Zi),Fl=xl[1],(os=xl[0])>0&&Fl>0&&(Xu=O.ctx.createRadialGradient(_i+Go,fs+Yo,0,_i+Go,fs+Yo,os),af(Se.stops,2*os).forEach(function(Ph){return Xu.addColorStop(Ph.stop,ds(Ph.color))}),O.path(ao),O.ctx.fillStyle=Xu,os!==Fl?(bu=w.bounds.left+.5*w.bounds.width,ul=w.bounds.top+.5*w.bounds.height,td=1/(ss=Fl/os),O.ctx.save(),O.ctx.translate(bu,ul),O.ctx.transform(1,0,0,ss,0,0),O.ctx.translate(-bu,-ul),O.ctx.fillRect(_i,td*(fs-ul)+ul,Bi,Zi*td),O.ctx.restore()):O.ctx.fill())):(an=Bl(w,_,[null,null,null]),ao=an[0],Go=an[1],Yo=an[2],Kt=uf(Se.angle,Bi=an[3],Zi=an[4]),xr=Kt[0],Wn=Kt[1],On=Kt[2],Or=Kt[3],Pr=Kt[4],(yr=document.createElement("canvas")).width=Bi,yr.height=Zi,En=yr.getContext("2d"),Zr=En.createLinearGradient(Wn,Or,On,Pr),af(Se.stops,xr).forEach(function(Ph){return Zr.addColorStop(Ph.stop,ds(Ph.color))}),En.fillStyle=Zr,En.fillRect(0,0,Bi,Zi),Bi>0&&Zi>0&&(Ai=O.ctx.createPattern(yr,"repeat"),O.renderRepeat(ao,Ai,Go,Yo))),Ic.label=6;case 6:return _--,[2]}})},O=this,z=0,$=w.styles.backgroundImage.slice(0).reverse(),ye.label=1;case 1:return z<$.length?[5,F($[z])]:[3,4];case 2:ye.sent(),ye.label=3;case 3:return z++,[3,1];case 4:return[2]}})})},h.prototype.renderSolidBorder=function(w,_,F){return ln(this,void 0,void 0,function(){return Mt(this,function(O){return this.path(D(F,_)),this.ctx.fillStyle=ds(w),this.ctx.fill(),[2]})})},h.prototype.renderDoubleBorder=function(w,_,F,O){return ln(this,void 0,void 0,function(){var z,$;return Mt(this,function(W){switch(W.label){case 0:return _<3?[4,this.renderSolidBorder(w,F,O)]:[3,2];case 1:return W.sent(),[2];case 2:return z=function(A,h){switch(h){case 0:return tn(A.topLeftBorderBox,A.topLeftBorderDoubleOuterBox,A.topRightBorderBox,A.topRightBorderDoubleOuterBox);case 1:return tn(A.topRightBorderBox,A.topRightBorderDoubleOuterBox,A.bottomRightBorderBox,A.bottomRightBorderDoubleOuterBox);case 2:return tn(A.bottomRightBorderBox,A.bottomRightBorderDoubleOuterBox,A.bottomLeftBorderBox,A.bottomLeftBorderDoubleOuterBox);default:return tn(A.bottomLeftBorderBox,A.bottomLeftBorderDoubleOuterBox,A.topLeftBorderBox,A.topLeftBorderDoubleOuterBox)}}(O,F),this.path(z),this.ctx.fillStyle=ds(w),this.ctx.fill(),$=function(A,h){switch(h){case 0:return tn(A.topLeftBorderDoubleInnerBox,A.topLeftPaddingBox,A.topRightBorderDoubleInnerBox,A.topRightPaddingBox);case 1:return tn(A.topRightBorderDoubleInnerBox,A.topRightPaddingBox,A.bottomRightBorderDoubleInnerBox,A.bottomRightPaddingBox);case 2:return tn(A.bottomRightBorderDoubleInnerBox,A.bottomRightPaddingBox,A.bottomLeftBorderDoubleInnerBox,A.bottomLeftPaddingBox);default:return tn(A.bottomLeftBorderDoubleInnerBox,A.bottomLeftPaddingBox,A.topLeftBorderDoubleInnerBox,A.topLeftPaddingBox)}}(O,F),this.path($),this.ctx.fill(),[2]}})})},h.prototype.renderNodeBackgroundAndBorders=function(w){return ln(this,void 0,void 0,function(){var _,F,O,z,$,W,ye,Se,ke=this;return Mt(this,function(_t){switch(_t.label){case 0:return this.applyEffects(w.getEffects(2)),F=!na((_=w.container.styles).backgroundColor)||_.backgroundImage.length,O=[{style:_.borderTopStyle,color:_.borderTopColor,width:_.borderTopWidth},{style:_.borderRightStyle,color:_.borderRightColor,width:_.borderRightWidth},{style:_.borderBottomStyle,color:_.borderBottomColor,width:_.borderBottomWidth},{style:_.borderLeftStyle,color:_.borderLeftColor,width:_.borderLeftWidth}],z=rm(Cu(_.backgroundClip,0),w.curves),F||_.boxShadow.length?(this.ctx.save(),this.path(z),this.ctx.clip(),na(_.backgroundColor)||(this.ctx.fillStyle=ds(_.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(w.container)]):[3,2];case 1:_t.sent(),this.ctx.restore(),_.boxShadow.slice(0).reverse().forEach(function(qt){ke.ctx.save();var an=is(w.curves),Kt=qt.inset?0:1e4,xr=function(A,h,w,_,F){return A.map(function(O,z){switch(z){case 0:return O.add(h,w);case 1:return O.add(h+_,w);case 2:return O.add(h+_,w+F);case 3:return O.add(h,w+F)}return O})}(an,(qt.inset?1:-1)*qt.spread.number-Kt,(qt.inset?1:-1)*qt.spread.number,qt.spread.number*(qt.inset?-2:2),qt.spread.number*(qt.inset?-2:2));qt.inset?(ke.path(an),ke.ctx.clip(),ke.mask(xr)):(ke.mask(an),ke.ctx.clip(),ke.path(xr)),ke.ctx.shadowOffsetX=qt.offsetX.number+Kt,ke.ctx.shadowOffsetY=qt.offsetY.number,ke.ctx.shadowColor=ds(qt.color),ke.ctx.shadowBlur=qt.blur.number,ke.ctx.fillStyle=qt.inset?ds(qt.color):"rgba(0,0,0,1)",ke.ctx.fill(),ke.ctx.restore()}),_t.label=2;case 2:$=0,W=0,ye=O,_t.label=3;case 3:return W<ye.length?0!==(Se=ye[W]).style&&!na(Se.color)&&Se.width>0?2!==Se.style?[3,5]:[4,this.renderDashedDottedBorder(Se.color,Se.width,$,w.curves,2)]:[3,11]:[3,13];case 4:return _t.sent(),[3,11];case 5:return 3!==Se.style?[3,7]:[4,this.renderDashedDottedBorder(Se.color,Se.width,$,w.curves,3)];case 6:return _t.sent(),[3,11];case 7:return 4!==Se.style?[3,9]:[4,this.renderDoubleBorder(Se.color,Se.width,$,w.curves)];case 8:return _t.sent(),[3,11];case 9:return[4,this.renderSolidBorder(Se.color,$,w.curves)];case 10:_t.sent(),_t.label=11;case 11:$++,_t.label=12;case 12:return W++,[3,3];case 13:return[2]}})})},h.prototype.renderDashedDottedBorder=function(w,_,F,O,z){return ln(this,void 0,void 0,function(){var $,W,ye,Se,ke,_t,qt,an,Kt,xr,Wn,On,Or,Pr,yr,En;return Mt(this,function(Zr){return this.ctx.save(),$=function(A,h){switch(h){case 0:return bt(A.topLeftBorderStroke,A.topRightBorderStroke);case 1:return bt(A.topRightBorderStroke,A.bottomRightBorderStroke);case 2:return bt(A.bottomRightBorderStroke,A.bottomLeftBorderStroke);default:return bt(A.bottomLeftBorderStroke,A.topLeftBorderStroke)}}(O,F),W=D(O,F),2===z&&(this.path(W),this.ctx.clip()),Gl(W[0])?(ye=W[0].start.x,Se=W[0].start.y):(ye=W[0].x,Se=W[0].y),Gl(W[1])?(ke=W[1].end.x,_t=W[1].end.y):(ke=W[1].x,_t=W[1].y),qt=0===F||2===F?Math.abs(ye-ke):Math.abs(Se-_t),this.ctx.beginPath(),this.formatPath(3===z?$:W.slice(0,2)),an=_<3?3*_:2*_,Kt=_<3?2*_:_,3===z&&(an=_,Kt=_),xr=!0,qt<=2*an?xr=!1:qt<=2*an+Kt?(an*=Wn=qt/(2*an+Kt),Kt*=Wn):(On=Math.floor((qt+Kt)/(an+Kt)),Or=(qt-On*an)/(On-1),Kt=(Pr=(qt-(On+1)*an)/On)<=0||Math.abs(Kt-Or)<Math.abs(Kt-Pr)?Or:Pr),xr&&this.ctx.setLineDash(3===z?[0,an+Kt]:[an,Kt]),3===z?(this.ctx.lineCap="round",this.ctx.lineWidth=_):this.ctx.lineWidth=2*_+1.1,this.ctx.strokeStyle=ds(w),this.ctx.stroke(),this.ctx.setLineDash([]),2===z&&(Gl(W[0])&&(yr=W[3],En=W[0],this.ctx.beginPath(),this.formatPath([new Jn(yr.end.x,yr.end.y),new Jn(En.start.x,En.start.y)]),this.ctx.stroke()),Gl(W[1])&&(yr=W[1],En=W[2],this.ctx.beginPath(),this.formatPath([new Jn(yr.end.x,yr.end.y),new Jn(En.start.x,En.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},h.prototype.render=function(w){return ln(this,void 0,void 0,function(){var _;return Mt(this,function(F){switch(F.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=ds(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),_=function(A){var h=new qp(A,null),w=new Yu(h),_=[];return E(h,w,w,_),c(h.container,_),w}(w),[4,this.renderStack(_)];case 1:return F.sent(),this.applyEffects([]),[2,this.canvas]}})})},h}(cp),Jp=function(A){return A instanceof va||A instanceof Es||A instanceof jo&&A.type!==mi&&A.type!==vr},rm=function(A,h){switch(A){case 0:return is(h);case 2:return function(A){return[A.topLeftContentBox,A.topRightContentBox,A.bottomRightContentBox,A.bottomLeftContentBox]}(h);default:return zo(h)}},Rh=function(A){switch(A){case 1:return"center";case 2:return"right";default:return"left"}},f=["-apple-system","system-ui"],T=function(A){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?A.filter(function(h){return-1===f.indexOf(h)}):A},N=function(A){function h(w,_){var F=A.call(this,w,_)||this;return F.canvas=_.canvas?_.canvas:document.createElement("canvas"),F.ctx=F.canvas.getContext("2d"),F.options=_,F.canvas.width=Math.floor(_.width*_.scale),F.canvas.height=Math.floor(_.height*_.scale),F.canvas.style.width=_.width+"px",F.canvas.style.height=_.height+"px",F.ctx.scale(F.options.scale,F.options.scale),F.ctx.translate(-_.x,-_.y),F.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+_.width+"x"+_.height+" at "+_.x+","+_.y+") with scale "+_.scale),F}return wt(h,A),h.prototype.render=function(w){return ln(this,void 0,void 0,function(){var _,F;return Mt(this,function(O){switch(O.label){case 0:return _=uA(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,w),[4,H(_)];case 1:return F=O.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=ds(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(F,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},h}(cp),H=function(A){return new Promise(function(h,w){var _=new Image;_.onload=function(){h(_)},_.onerror=w,_.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent((new XMLSerializer).serializeToString(A))})},X=function(){function A(h){var _=h.enabled;this.id=h.id,this.enabled=_,this.start=Date.now()}return A.prototype.debug=function(){for(var h=[],w=0;w<arguments.length;w++)h[w]=arguments[w];this.enabled&&(typeof window<"u"&&window.console&&"function"==typeof console.debug?console.debug.apply(console,tt([this.id,this.getTime()+"ms"],h)):this.info.apply(this,h))},A.prototype.getTime=function(){return Date.now()-this.start},A.prototype.info=function(){for(var h=[],w=0;w<arguments.length;w++)h[w]=arguments[w];this.enabled&&typeof window<"u"&&window.console&&"function"==typeof console.info&&console.info.apply(console,tt([this.id,this.getTime()+"ms"],h))},A.prototype.warn=function(){for(var h=[],w=0;w<arguments.length;w++)h[w]=arguments[w];this.enabled&&(typeof window<"u"&&window.console&&"function"==typeof console.warn?console.warn.apply(console,tt([this.id,this.getTime()+"ms"],h)):this.info.apply(this,h))},A.prototype.error=function(){for(var h=[],w=0;w<arguments.length;w++)h[w]=arguments[w];this.enabled&&(typeof window<"u"&&window.console&&"function"==typeof console.error?console.error.apply(console,tt([this.id,this.getTime()+"ms"],h)):this.info.apply(this,h))},A.instances={},A}(),oe=function(){function A(h,w){var _;this.windowBounds=w,this.instanceName="#"+A.instanceCount++,this.logger=new X({id:this.instanceName,enabled:h.logging}),this.cache=null!==(_=h.cache)&&void 0!==_?_:new xa(this,h)}return A.instanceCount=1,A}();typeof window<"u"&&pA.setContext(window);var Ae=function(A,h){return ln(void 0,void 0,void 0,function(){var w,_,F,O,z,$,W,ye,Se,ke,_t,qt,an,Kt,xr,Wn,On,Or,Pr,yr,En,Ai,Fr,ao,_i,fs,Bi,Zi,Qs,Go,Yo,xl,os,Fl,Xu,bu,ul,ss;return Mt(this,function(td){switch(td.label){case 0:if(!A||"object"!=typeof A)return[2,Promise.reject("Invalid element provided as first argument")];if(!(w=A.ownerDocument))throw new Error("Element is not attached to a Document");if(!(_=w.defaultView))throw new Error("Document is not attached to a Window");return F={allowTaint:null!==(Ai=h.allowTaint)&&void 0!==Ai&&Ai,imageTimeout:null!==(Fr=h.imageTimeout)&&void 0!==Fr?Fr:15e3,proxy:h.proxy,useCORS:null!==(ao=h.useCORS)&&void 0!==ao&&ao},O=V({logging:null===(_i=h.logging)||void 0===_i||_i,cache:h.cache},F),z={windowWidth:null!==(fs=h.windowWidth)&&void 0!==fs?fs:_.innerWidth,windowHeight:null!==(Bi=h.windowHeight)&&void 0!==Bi?Bi:_.innerHeight,scrollX:null!==(Zi=h.scrollX)&&void 0!==Zi?Zi:_.pageXOffset,scrollY:null!==(Qs=h.scrollY)&&void 0!==Qs?Qs:_.pageYOffset},$=new Tn(z.scrollX,z.scrollY,z.windowWidth,z.windowHeight),W=new oe(O,$),ye=null!==(Go=h.foreignObjectRendering)&&void 0!==Go&&Go,Se={allowTaint:null!==(Yo=h.allowTaint)&&void 0!==Yo&&Yo,onclone:h.onclone,ignoreElements:h.ignoreElements,inlineImages:ye,copyStyles:ye},W.logger.debug("Starting document clone with size "+$.width+"x"+$.height+" scrolled to "+-$.left+","+-$.top),ke=new Vs(W,A,Se),(_t=ke.clonedReferenceElement)?[4,ke.toIFrame(w,$)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return qt=td.sent(),an=Ga(_t)||function(A){return"HTML"===A.tagName}(_t)?function(A){var h=A.body,w=A.documentElement;if(!h||!w)throw new Error("Unable to get document size");var _=Math.max(Math.max(h.scrollWidth,w.scrollWidth),Math.max(h.offsetWidth,w.offsetWidth),Math.max(h.clientWidth,w.clientWidth)),F=Math.max(Math.max(h.scrollHeight,w.scrollHeight),Math.max(h.offsetHeight,w.offsetHeight),Math.max(h.clientHeight,w.clientHeight));return new Tn(0,0,_,F)}(_t.ownerDocument):Ut(W,_t),Kt=an.width,xr=an.height,Wn=an.left,On=an.top,Or=me(W,_t,h.backgroundColor),Pr={canvas:h.canvas,backgroundColor:Or,scale:null!==(os=null!==(xl=h.scale)&&void 0!==xl?xl:_.devicePixelRatio)&&void 0!==os?os:1,x:(null!==(Fl=h.x)&&void 0!==Fl?Fl:0)+Wn,y:(null!==(Xu=h.y)&&void 0!==Xu?Xu:0)+On,width:null!==(bu=h.width)&&void 0!==bu?bu:Math.ceil(Kt),height:null!==(ul=h.height)&&void 0!==ul?ul:Math.ceil(xr)},ye?(W.logger.debug("Document cloned, using foreign object rendering"),[4,new N(W,Pr).render(_t)]):[3,3];case 2:return yr=td.sent(),[3,5];case 3:return W.logger.debug("Document cloned, element located at "+Wn+","+On+" with size "+Kt+"x"+xr+" using computed rendering"),W.logger.debug("Starting DOM parsing"),En=Bd(W,_t),Or===En.styles.backgroundColor&&(En.styles.backgroundColor=Cl.TRANSPARENT),W.logger.debug("Starting renderer for element at "+Pr.x+","+Pr.y+" with size "+Pr.width+"x"+Pr.height),[4,new dp(W,Pr).render(En)];case 4:yr=td.sent(),td.label=5;case 5:return(!(null!==(ss=h.removeContainer)&&void 0!==ss)||ss)&&(Vs.destroy(qt)||W.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),W.logger.debug("Finished rendering"),[2,yr]}})})},me=function(A,h,w){var _=h.ownerDocument,F=_.documentElement?tA(A,getComputedStyle(_.documentElement).backgroundColor):Cl.TRANSPARENT,O=_.body?tA(A,getComputedStyle(_.body).backgroundColor):Cl.TRANSPARENT,z="string"==typeof w?tA(A,w):null===w?Cl.TRANSPARENT:4294967295;return h===_.documentElement?na(F)?na(O)?z:O:F:z};return function(A,h){return void 0===h&&(h={}),Ae(A,h)}}()},4941:function(go,kr,wt){var V;typeof globalThis<"u"?globalThis:typeof this<"u"||(typeof window<"u"?window:typeof self<"u"?self:global),go.exports=(V=function(){try{return wt(9107)}catch{}}(),function(){"use strict";var ln={172:function(Ut,Ee){var Rt=this&&this.__extends||function(){var De=function(ot,Ie){return(De=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(nt,Ye){nt.__proto__=Ye}||function(nt,Ye){for(var Ge in Ye)Object.prototype.hasOwnProperty.call(Ye,Ge)&&(nt[Ge]=Ye[Ge])})(ot,Ie)};return function(ot,Ie){if("function"!=typeof Ie&&null!==Ie)throw new TypeError("Class extends value "+String(Ie)+" is not a constructor or null");function nt(){this.constructor=ot}De(ot,Ie),ot.prototype=null===Ie?Object.create(Ie):(nt.prototype=Ie.prototype,new nt)}}();Object.defineProperty(Ee,"__esModule",{value:!0}),Ee.CellHookData=Ee.HookData=void 0;var Ot=function(){return function De(ot,Ie,nt){this.table=Ie,this.pageNumber=Ie.pageNumber,this.pageCount=this.pageNumber,this.settings=Ie.settings,this.cursor=nt,this.doc=ot.getDocument()}}();Ee.HookData=Ot;var He=function(De){function ot(Ie,nt,Ye,Ge,ge,Z){var ce=De.call(this,Ie,nt,Z)||this;return ce.cell=Ye,ce.row=Ge,ce.column=ge,ce.section=Ge.section,ce}return Rt(ot,De),ot}(Ot);Ee.CellHookData=He},340:function(Ut,Ee,Rt){Object.defineProperty(Ee,"__esModule",{value:!0});var Ot=Rt(4),He=Rt(136),De=Rt(744),ot=Rt(776),Ie=Rt(664),nt=Rt(972);Ee.default=function Ye(Ge){Ge.API.autoTable=function(){for(var ge=[],Z=0;Z<arguments.length;Z++)ge[Z]=arguments[Z];var ce;1===ge.length?ce=ge[0]:(console.error("Use of deprecated autoTable initiation"),(ce=ge[2]||{}).columns=ge[0],ce.body=ge[1]);var Me=(0,ot.parseInput)(this,ce),Ue=(0,nt.createTable)(this,Me);return(0,Ie.drawTable)(this,Ue),this},Ge.API.lastAutoTable=!1,Ge.API.previousAutoTable=!1,Ge.API.autoTable.previous=!1,Ge.API.autoTableText=function(ge,Z,ce,Me){(0,He.default)(ge,Z,ce,Me,this)},Ge.API.autoTableSetDefaults=function(ge){return De.DocHandler.setDefaults(ge,this),this},Ge.autoTableSetDefaults=function(ge,Z){De.DocHandler.setDefaults(ge,Z)},Ge.API.autoTableHtmlToJson=function(ge,Z){var ce;if(void 0===Z&&(Z=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var Me=new De.DocHandler(this),Ue=(0,Ot.parseHtml)(Me,ge,window,Z,!1),$e=Ue.body;return{columns:(null===(ce=Ue.head[0])||void 0===ce?void 0:ce.map(function(ie){return ie.content}))||[],rows:$e,data:$e}},Ge.API.autoTableEndPosY=function(){console.error("Use of deprecated function: autoTableEndPosY. Use doc.lastAutoTable.finalY instead.");var ge=this.lastAutoTable;return ge&&ge.finalY?ge.finalY:0},Ge.API.autoTableAddPageContent=function(ge){return console.error("Use of deprecated function: autoTableAddPageContent. Use jsPDF.autoTableSetDefaults({didDrawPage: () => {}}) instead."),Ge.API.autoTable.globalDefaults||(Ge.API.autoTable.globalDefaults={}),Ge.API.autoTable.globalDefaults.addPageContent=ge,this},Ge.API.autoTableAddPage=function(){return console.error("Use of deprecated function: autoTableAddPage. Use doc.addPage()"),this.addPage(),this}}},136:function(Ut,Ee){Object.defineProperty(Ee,"__esModule",{value:!0}),Ee.default=function Rt(Ot,He,De,ot,Ie){ot=ot||{};var Ye=Ie.internal.scaleFactor,Ge=Ie.internal.getFontSize()/Ye,Z=Ge*(Ie.getLineHeightFactor?Ie.getLineHeightFactor():1.15),Me="",Ue=1;if(("middle"===ot.valign||"bottom"===ot.valign||"center"===ot.halign||"right"===ot.halign)&&(Ue=(Me="string"==typeof Ot?Ot.split(/\r\n|\r|\n/g):Ot).length||1),De+=Ge*(2-1.15),"middle"===ot.valign?De-=Ue/2*Z:"bottom"===ot.valign&&(De-=Ue*Z),"center"===ot.halign||"right"===ot.halign){var Re=Ge;if("center"===ot.halign&&(Re*=.5),Me&&Ue>=1){for(var $e=0;$e<Me.length;$e++)Ie.text(Me[$e],He-Ie.getStringUnitWidth(Me[$e])*Re,De),De+=Z;return Ie}He-=Ie.getStringUnitWidth(Ot)*Re}return"justify"===ot.halign?Ie.text(Ot,He,De,{maxWidth:ot.maxWidth||100,align:"justify"}):Ie.text(Ot,He,De),Ie}},420:function(Ut,Ee){function He(Ie,nt){var Ye=Ie>0,Ge=nt||0===nt;return Ye&&Ge?"DF":Ye?"S":Ge?"F":null}function De(Ie,nt){var Ye,Ge,ge,Z;if(Ie=Ie||nt,Array.isArray(Ie)){if(Ie.length>=4)return{top:Ie[0],right:Ie[1],bottom:Ie[2],left:Ie[3]};if(3===Ie.length)return{top:Ie[0],right:Ie[1],bottom:Ie[2],left:Ie[1]};if(2===Ie.length)return{top:Ie[0],right:Ie[1],bottom:Ie[0],left:Ie[1]};Ie=1===Ie.length?Ie[0]:nt}return"object"==typeof Ie?("number"==typeof Ie.vertical&&(Ie.top=Ie.vertical,Ie.bottom=Ie.vertical),"number"==typeof Ie.horizontal&&(Ie.right=Ie.horizontal,Ie.left=Ie.horizontal),{left:null!==(Ye=Ie.left)&&void 0!==Ye?Ye:nt,top:null!==(Ge=Ie.top)&&void 0!==Ge?Ge:nt,right:null!==(ge=Ie.right)&&void 0!==ge?ge:nt,bottom:null!==(Z=Ie.bottom)&&void 0!==Z?Z:nt}):("number"!=typeof Ie&&(Ie=nt),{top:Ie,right:Ie,bottom:Ie,left:Ie})}Object.defineProperty(Ee,"__esModule",{value:!0}),Ee.getPageAvailableWidth=Ee.parseSpacing=Ee.getFillStyle=Ee.addTableBorder=Ee.getStringWidth=void 0,Ee.getStringWidth=function Rt(Ie,nt,Ye){return Ye.applyStyles(nt,!0),(Array.isArray(Ie)?Ie:[Ie]).map(function(Z){return Ye.getTextWidth(Z)}).reduce(function(Z,ce){return Math.max(Z,ce)},0)},Ee.addTableBorder=function Ot(Ie,nt,Ye,Ge){var ge=nt.settings.tableLineWidth;Ie.applyStyles({lineWidth:ge,lineColor:nt.settings.tableLineColor});var ce=He(ge,!1);ce&&Ie.rect(Ye.x,Ye.y,nt.getWidth(Ie.pageSize().width),Ge.y-Ye.y,ce)},Ee.getFillStyle=He,Ee.parseSpacing=De,Ee.getPageAvailableWidth=function ot(Ie,nt){var Ye=De(nt.settings.margin,0);return Ie.pageSize().width-(Ye.left+Ye.right)}},796:function(Ut,Ee){var Rt=this&&this.__extends||function(){var ot=function(Ie,nt){return(ot=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Ye,Ge){Ye.__proto__=Ge}||function(Ye,Ge){for(var ge in Ge)Object.prototype.hasOwnProperty.call(Ge,ge)&&(Ye[ge]=Ge[ge])})(Ie,nt)};return function(Ie,nt){if("function"!=typeof nt&&null!==nt)throw new TypeError("Class extends value "+String(nt)+" is not a constructor or null");function Ye(){this.constructor=Ie}ot(Ie,nt),Ie.prototype=null===nt?Object.create(nt):(Ye.prototype=nt.prototype,new Ye)}}();Object.defineProperty(Ee,"__esModule",{value:!0}),Ee.getTheme=Ee.defaultStyles=Ee.HtmlRowInput=void 0;var Ot=function(ot){function Ie(nt){var Ye=ot.call(this)||this;return Ye._element=nt,Ye}return Rt(Ie,ot),Ie}(Array);Ee.HtmlRowInput=Ot,Ee.defaultStyles=function He(ot){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/ot,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}},Ee.getTheme=function De(ot){return{striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}}[ot]}},903:function(Ut,Ee,Rt){Object.defineProperty(Ee,"__esModule",{value:!0}),Ee.parseCss=void 0;var Ot=Rt(420);function ot(Ye,Ge){var ge=Ie(Ye,Ge);if(!ge)return null;var Z=ge.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!Z||!Array.isArray(Z))return null;var ce=[parseInt(Z[1]),parseInt(Z[2]),parseInt(Z[3])];return 0===parseInt(Z[4])||isNaN(ce[0])||isNaN(ce[1])||isNaN(ce[2])?null:ce}function Ie(Ye,Ge){var ge=Ge(Ye);return"rgba(0, 0, 0, 0)"===ge||"transparent"===ge||"initial"===ge||"inherit"===ge?null==Ye.parentElement?null:Ie(Ye.parentElement,Ge):ge}Ee.parseCss=function He(Ye,Ge,ge,Z,ce){var Me={},Ue=1.3333333333333333,Re=ot(Ge,function(kt){return ce.getComputedStyle(kt).backgroundColor});null!=Re&&(Me.fillColor=Re);var $e=ot(Ge,function(kt){return ce.getComputedStyle(kt).color});null!=$e&&(Me.textColor=$e);var ft=function nt(Ye,Ge){var ge=[Ye.paddingTop,Ye.paddingRight,Ye.paddingBottom,Ye.paddingLeft],Z=96/(72/Ge),ce=(parseInt(Ye.lineHeight)-parseInt(Ye.fontSize))/Ge/2,Me=ge.map(function(Re){return parseInt(Re||"0")/Z}),Ue=(0,Ot.parseSpacing)(Me,0);return ce>Ue.top&&(Ue.top=ce),ce>Ue.bottom&&(Ue.bottom=ce),Ue}(Z,ge);ft&&(Me.cellPadding=ft);var ie="borderTopColor",de=Ue*ge,he=Z.borderTopWidth;if(Z.borderBottomWidth===he&&Z.borderRightWidth===he&&Z.borderLeftWidth===he){var re=(parseFloat(he)||0)/de;re&&(Me.lineWidth=re)}else Me.lineWidth={top:(parseFloat(Z.borderTopWidth)||0)/de,right:(parseFloat(Z.borderRightWidth)||0)/de,bottom:(parseFloat(Z.borderBottomWidth)||0)/de,left:(parseFloat(Z.borderLeftWidth)||0)/de},Me.lineWidth.top||(Me.lineWidth.right?ie="borderRightColor":Me.lineWidth.bottom?ie="borderBottomColor":Me.lineWidth.left&&(ie="borderLeftColor"));console.log(Me.lineWidth);var Ze=ot(Ge,function(kt){return ce.getComputedStyle(kt)[ie]});null!=Ze&&(Me.lineColor=Ze);var lt=["left","right","center","justify"];-1!==lt.indexOf(Z.textAlign)&&(Me.halign=Z.textAlign),-1!==(lt=["middle","bottom","top"]).indexOf(Z.verticalAlign)&&(Me.valign=Z.verticalAlign);var Fe=parseInt(Z.fontSize||"");isNaN(Fe)||(Me.fontSize=Fe/Ue);var We=function De(Ye){var Ge="";return("bold"===Ye.fontWeight||"bolder"===Ye.fontWeight||parseInt(Ye.fontWeight)>=700)&&(Ge="bold"),("italic"===Ye.fontStyle||"oblique"===Ye.fontStyle)&&(Ge+="italic"),Ge}(Z);We&&(Me.fontStyle=We);var Ft=(Z.fontFamily||"").toLowerCase();return-1!==Ye.indexOf(Ft)&&(Me.font=Ft),Me}},744:function(Ut,Ee){Object.defineProperty(Ee,"__esModule",{value:!0}),Ee.DocHandler=void 0;var Rt={},Ot=function(){function He(De){this.jsPDFDocument=De,this.userStyles={textColor:De.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:De.internal.getFontSize(),fontStyle:De.internal.getFont().fontStyle,font:De.internal.getFont().fontName,lineWidth:De.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:De.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return He.setDefaults=function(De,ot){void 0===ot&&(ot=null),ot?ot.__autoTableDocumentDefaults=De:Rt=De},He.unifyColor=function(De){return Array.isArray(De)?De:"number"==typeof De?[De,De,De]:"string"==typeof De?[De]:null},He.prototype.applyStyles=function(De,ot){var Ie,nt,Ye;void 0===ot&&(ot=!1),De.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(De.fontStyle);var Ge=this.jsPDFDocument.internal.getFont(),ge=Ge.fontStyle,Z=Ge.fontName;if(De.font&&(Z=De.font),De.fontStyle){ge=De.fontStyle;var ce=this.getFontList()[Z];ce&&-1===ce.indexOf(ge)&&(this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(ce[0]),ge=ce[0])}if(this.jsPDFDocument.setFont(Z,ge),De.fontSize&&this.jsPDFDocument.setFontSize(De.fontSize),!ot){var Me=He.unifyColor(De.fillColor);Me&&(Ie=this.jsPDFDocument).setFillColor.apply(Ie,Me),(Me=He.unifyColor(De.textColor))&&(nt=this.jsPDFDocument).setTextColor.apply(nt,Me),(Me=He.unifyColor(De.lineColor))&&(Ye=this.jsPDFDocument).setDrawColor.apply(Ye,Me),"number"==typeof De.lineWidth&&this.jsPDFDocument.setLineWidth(De.lineWidth)}},He.prototype.splitTextToSize=function(De,ot,Ie){return this.jsPDFDocument.splitTextToSize(De,ot,Ie)},He.prototype.rect=function(De,ot,Ie,nt,Ye){return this.jsPDFDocument.rect(De,ot,Ie,nt,Ye)},He.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},He.prototype.getTextWidth=function(De){return this.jsPDFDocument.getTextWidth(De)},He.prototype.getDocument=function(){return this.jsPDFDocument},He.prototype.setPage=function(De){this.jsPDFDocument.setPage(De)},He.prototype.addPage=function(){return this.jsPDFDocument.addPage()},He.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},He.prototype.getGlobalOptions=function(){return Rt||{}},He.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},He.prototype.pageSize=function(){var De=this.jsPDFDocument.internal.pageSize;return null==De.width&&(De={width:De.getWidth(),height:De.getHeight()}),De},He.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},He.prototype.getLineHeightFactor=function(){var De=this.jsPDFDocument;return De.getLineHeightFactor?De.getLineHeightFactor():1.15},He.prototype.getLineHeight=function(De){return De/this.scaleFactor()*this.getLineHeightFactor()},He.prototype.pageNumber=function(){var De=this.jsPDFDocument.internal.getCurrentPageInfo();return De?De.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},He}();Ee.DocHandler=Ot},4:function(Ut,Ee,Rt){Object.defineProperty(Ee,"__esModule",{value:!0}),Ee.parseHtml=void 0;var Ot=Rt(903),He=Rt(796);function ot(nt,Ye,Ge,ge,Z,ce){for(var Me=new He.HtmlRowInput(ge),Ue=0;Ue<ge.cells.length;Ue++){var Re=ge.cells[Ue],$e=Ge.getComputedStyle(Re);if(Z||"none"!==$e.display){var ft=void 0;ce&&(ft=(0,Ot.parseCss)(nt,Re,Ye,$e,Ge)),Me.push({rowSpan:Re.rowSpan,colSpan:Re.colSpan,styles:ft,_element:Re,content:Ie(Re)})}}var ie=Ge.getComputedStyle(ge);if(Me.length>0&&(Z||"none"!==ie.display))return Me}function Ie(nt){var Ye=nt.cloneNode(!0);return Ye.innerHTML=Ye.innerHTML.replace(/\n/g,"").replace(/ +/g," "),Ye.innerHTML=Ye.innerHTML.split(/<br.*?>/).map(function(Ge){return Ge.trim()}).join("\n"),Ye.innerText||Ye.textContent||""}Ee.parseHtml=function De(nt,Ye,Ge,ge,Z){var ce,Me,Ue;void 0===ge&&(ge=!1),void 0===Z&&(Z=!1),Ue="string"==typeof Ye?Ge.document.querySelector(Ye):Ye;var Re=Object.keys(nt.getFontList()),$e=nt.scaleFactor(),ft=[],ie=[],de=[];if(!Ue)return console.error("Html table could not be found with input: ",Ye),{head:ft,body:ie,foot:de};for(var he=0;he<Ue.rows.length;he++){var re=Ue.rows[he],Ze=null===(Me=null===(ce=null==re?void 0:re.parentElement)||void 0===ce?void 0:ce.tagName)||void 0===Me?void 0:Me.toLowerCase(),lt=ot(Re,$e,Ge,re,ge,Z);lt&&("thead"===Ze?ft.push(lt):"tfoot"===Ze?de.push(lt):ie.push(lt))}return{head:ft,body:ie,foot:de}}},776:function(Ut,Ee,Rt){Object.defineProperty(Ee,"__esModule",{value:!0}),Ee.parseInput=void 0;var Ot=Rt(4),He=Rt(356),De=Rt(420),ot=Rt(744),Ie=Rt(792);function Me(Ue,Re,$e){var ft=Ue[0]||Re[0]||$e[0]||[],ie=[];return Object.keys(ft).filter(function(de){return"_element"!==de}).forEach(function(de){var re,he=1;"object"==typeof(re=Array.isArray(ft)?ft[parseInt(de)]:ft[de])&&!Array.isArray(re)&&(he=(null==re?void 0:re.colSpan)||1);for(var Ze=0;Ze<he;Ze++){var lt;lt=Array.isArray(ft)?ie.length:de+(Ze>0?"_".concat(Ze):""),ie.push({dataKey:lt})}}),ie}Ee.parseInput=function nt(Ue,Re){var $e=new ot.DocHandler(Ue),ft=$e.getDocumentOptions(),ie=$e.getGlobalOptions();(0,Ie.default)($e,ie,ft,Re);var he,de=(0,He.assign)({},ie,ft,Re);typeof window<"u"&&(he=window);var re=function Ye(Ue,Re,$e){for(var ft={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},ie=function(Ze){if("columnStyles"===Ze)ft.columnStyles=(0,He.assign)({},Ue[Ze],Re[Ze],$e[Ze]);else{var kt=[Ue,Re,$e].map(function(yt){return yt[Ze]||{}});ft[Ze]=(0,He.assign)({},kt[0],kt[1],kt[2])}},de=0,he=Object.keys(ft);de<he.length;de++)ie(he[de]);return ft}(ie,ft,Re),Ze=function Ge(Ue,Re,$e){for(var ie={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},de=0,he=[Ue,Re,$e];de<he.length;de++){var re=he[de];re.didParseCell&&ie.didParseCell.push(re.didParseCell),re.willDrawCell&&ie.willDrawCell.push(re.willDrawCell),re.didDrawCell&&ie.didDrawCell.push(re.didDrawCell),re.willDrawPage&&ie.willDrawPage.push(re.willDrawPage),re.didDrawPage&&ie.didDrawPage.push(re.didDrawPage)}return ie}(ie,ft,Re),lt=function ge(Ue,Re){var $e,ft,ie,de,he,re,Ze,lt,Fe,We,Ft,kt,fe,Te,yt=(0,De.parseSpacing)(Re.margin,40/Ue.scaleFactor()),Ce=null!==($e=function Z(Ue,Re){var $e=Ue.getLastAutoTable(),ft=Ue.scaleFactor(),ie=Ue.pageNumber(),de=!1;return $e&&$e.startPageNumber&&(de=$e.startPageNumber+$e.pageNumber-1===ie),"number"==typeof Re?Re:null!=Re&&!1!==Re||!de||null==(null==$e?void 0:$e.finalY)?null:$e.finalY+20/ft}(Ue,Re.startY))&&void 0!==$e?$e:yt.top;fe=!0===Re.showFoot?"everyPage":!1===Re.showFoot?"never":null!==(ft=Re.showFoot)&&void 0!==ft?ft:"everyPage",Te=!0===Re.showHead?"everyPage":!1===Re.showHead?"never":null!==(ie=Re.showHead)&&void 0!==ie?ie:"everyPage";var Ke=null!==(de=Re.useCss)&&void 0!==de&&de,rn=null!==(he=Re.horizontalPageBreakRepeat)&&void 0!==he?he:null;return{includeHiddenHtml:null!==(re=Re.includeHiddenHtml)&&void 0!==re&&re,useCss:Ke,theme:Re.theme||(Ke?"plain":"striped"),startY:Ce,margin:yt,pageBreak:null!==(Ze=Re.pageBreak)&&void 0!==Ze?Ze:"auto",rowPageBreak:null!==(lt=Re.rowPageBreak)&&void 0!==lt?lt:"auto",tableWidth:null!==(Fe=Re.tableWidth)&&void 0!==Fe?Fe:"auto",showHead:Te,showFoot:fe,tableLineWidth:null!==(We=Re.tableLineWidth)&&void 0!==We?We:0,tableLineColor:null!==(Ft=Re.tableLineColor)&&void 0!==Ft?Ft:200,horizontalPageBreak:!!Re.horizontalPageBreak,horizontalPageBreakRepeat:rn,horizontalPageBreakBehaviour:null!==(kt=Re.horizontalPageBreakBehaviour)&&void 0!==kt?kt:"afterAllRows"}}($e,de),Fe=function ce(Ue,Re,$e){var ft=Re.head||[],ie=Re.body||[],de=Re.foot||[];if(Re.html)if($e){var re=(0,Ot.parseHtml)(Ue,Re.html,$e,Re.includeHiddenHtml,Re.useCss)||{};ft=re.head||ft,ie=re.body||ft,de=re.foot||ft}else console.error("Cannot parse html in non browser environment");return{columns:Re.columns||Me(ft,ie,de),head:ft,body:ie,foot:de}}($e,de,he);return{id:Re.tableId,content:Fe,hooks:Ze,styles:re,settings:lt}}},792:function(Ut,Ee){function Ot(He){He.rowHeight?(console.error("Use of deprecated style rowHeight. It is renamed to minCellHeight."),He.minCellHeight||(He.minCellHeight=He.rowHeight)):He.columnWidth&&(console.error("Use of deprecated style columnWidth. It is renamed to cellWidth."),He.cellWidth||(He.cellWidth=He.columnWidth))}Object.defineProperty(Ee,"__esModule",{value:!0}),Ee.default=function Rt(He,De,ot,Ie){for(var nt=function(Z){Z&&"object"!=typeof Z&&console.error("The options parameter should be of type object, is: "+typeof Z),typeof Z.extendWidth<"u"&&(Z.tableWidth=Z.extendWidth?"auto":"wrap",console.error("Use of deprecated option: extendWidth, use tableWidth instead.")),typeof Z.margins<"u"&&(typeof Z.margin>"u"&&(Z.margin=Z.margins),console.error("Use of deprecated option: margins, use margin instead.")),Z.startY&&"number"!=typeof Z.startY&&(console.error("Invalid value for startY option",Z.startY),delete Z.startY),!Z.didDrawPage&&(Z.afterPageContent||Z.beforePageContent||Z.afterPageAdd)&&(console.error("The afterPageContent, beforePageContent and afterPageAdd hooks are deprecated. Use didDrawPage instead"),Z.didDrawPage=function(de){He.applyStyles(He.userStyles),Z.beforePageContent&&Z.beforePageContent(de),He.applyStyles(He.userStyles),Z.afterPageContent&&Z.afterPageContent(de),He.applyStyles(He.userStyles),Z.afterPageAdd&&de.pageNumber>1&&de.afterPageAdd(de),He.applyStyles(He.userStyles)}),["createdHeaderCell","drawHeaderRow","drawRow","drawHeaderCell"].forEach(function(de){Z[de]&&console.error('The "'.concat(de,'" hook has changed in version 3.0, check the changelog for how to migrate.'))}),[["showFoot","showFooter"],["showHead","showHeader"],["didDrawPage","addPageContent"],["didParseCell","createdCell"],["headStyles","headerStyles"]].forEach(function(de){var he=de[0],re=de[1];Z[re]&&(console.error("Use of deprecated option ".concat(re,". Use ").concat(he," instead")),Z[he]=Z[re])}),[["padding","cellPadding"],["lineHeight","rowHeight"],"fontSize","overflow"].forEach(function(de){var he="string"==typeof de?de:de[0],re="string"==typeof de?de:de[1];typeof Z[he]<"u"&&(typeof Z.styles[re]>"u"&&(Z.styles[re]=Z[he]),console.error("Use of deprecated option: "+he+", use the style "+re+" instead."))});for(var ce=0,Me=["styles","bodyStyles","headStyles","footStyles"];ce<Me.length;ce++)Ot(Z[Me[ce]]||{});for(var Re=Z.columnStyles||{},$e=0,ft=Object.keys(Re);$e<ft.length;$e++)Ot(Re[ft[$e]]||{})},Ye=0,Ge=[De,ot,Ie];Ye<Ge.length;Ye++)nt(Ge[Ye])}},260:function(Ut,Ee,Rt){Object.defineProperty(Ee,"__esModule",{value:!0}),Ee.Column=Ee.Cell=Ee.Row=Ee.Table=void 0;var Ot=Rt(796),He=Rt(172),De=Rt(420),ot=function(){function Ge(ge,Z){this.pageNumber=1,this.pageCount=1,this.id=ge.id,this.settings=ge.settings,this.styles=ge.styles,this.hooks=ge.hooks,this.columns=Z.columns,this.head=Z.head,this.body=Z.body,this.foot=Z.foot}return Ge.prototype.getHeadHeight=function(ge){return this.head.reduce(function(Z,ce){return Z+ce.getMaxCellHeight(ge)},0)},Ge.prototype.getFootHeight=function(ge){return this.foot.reduce(function(Z,ce){return Z+ce.getMaxCellHeight(ge)},0)},Ge.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},Ge.prototype.callCellHooks=function(ge,Z,ce,Me,Ue,Re){for(var $e=0,ft=Z;$e<ft.length;$e++){var he=!1===(0,ft[$e])(new He.CellHookData(ge,this,ce,Me,Ue,Re));if(ce.text=Array.isArray(ce.text)?ce.text:[ce.text],he)return!1}return!0},Ge.prototype.callEndPageHooks=function(ge,Z){ge.applyStyles(ge.userStyles);for(var ce=0,Me=this.hooks.didDrawPage;ce<Me.length;ce++)(0,Me[ce])(new He.HookData(ge,this,Z))},Ge.prototype.callWillDrawPageHooks=function(ge,Z){for(var ce=0,Me=this.hooks.willDrawPage;ce<Me.length;ce++)(0,Me[ce])(new He.HookData(ge,this,Z))},Ge.prototype.getWidth=function(ge){if("number"==typeof this.settings.tableWidth)return this.settings.tableWidth;if("wrap"===this.settings.tableWidth)return this.columns.reduce(function(Me,Ue){return Me+Ue.wrappedWidth},0);var ce=this.settings.margin;return ge-ce.left-ce.right},Ge}();Ee.Table=ot;var Ie=function(){function Ge(ge,Z,ce,Me,Ue){void 0===Ue&&(Ue=!1),this.height=0,this.raw=ge,ge instanceof Ot.HtmlRowInput&&(this.raw=ge._element,this.element=ge._element),this.index=Z,this.section=ce,this.cells=Me,this.spansMultiplePages=Ue}return Ge.prototype.getMaxCellHeight=function(ge){var Z=this;return ge.reduce(function(ce,Me){var Ue;return Math.max(ce,(null===(Ue=Z.cells[Me.index])||void 0===Ue?void 0:Ue.height)||0)},0)},Ge.prototype.hasRowSpan=function(ge){var Z=this;return ge.filter(function(ce){var Me=Z.cells[ce.index];return!!Me&&Me.rowSpan>1}).length>0},Ge.prototype.canEntireRowFit=function(ge,Z){return this.getMaxCellHeight(Z)<=ge},Ge.prototype.getMinimumRowHeight=function(ge,Z){var ce=this;return ge.reduce(function(Me,Ue){var Re=ce.cells[Ue.index];if(!Re)return 0;var $e=Z.getLineHeight(Re.styles.fontSize),ie=Re.padding("vertical")+$e;return ie>Me?ie:Me},0)},Ge}();Ee.Row=Ie;var nt=function(){function Ge(ge,Z,ce){var Me,Ue;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=Z,this.section=ce,this.raw=ge;var Re=ge;null==ge||"object"!=typeof ge||Array.isArray(ge)?(this.rowSpan=1,this.colSpan=1):(this.rowSpan=ge.rowSpan||1,this.colSpan=ge.colSpan||1,Re=null!==(Ue=null!==(Me=ge.content)&&void 0!==Me?Me:ge.title)&&void 0!==Ue?Ue:ge,ge._element&&(this.raw=ge._element)),this.text=(null!=Re?""+Re:"").split(/\r\n|\r|\n/g)}return Ge.prototype.getTextPos=function(){var ge,ce;if("top"===this.styles.valign)ge=this.y+this.padding("top");else if("bottom"===this.styles.valign)ge=this.y+this.height-this.padding("bottom");else{var Z=this.height-this.padding("vertical");ge=this.y+Z/2+this.padding("top")}if("right"===this.styles.halign)ce=this.x+this.width-this.padding("right");else if("center"===this.styles.halign){var Me=this.width-this.padding("horizontal");ce=this.x+Me/2+this.padding("left")}else ce=this.x+this.padding("left");return{x:ce,y:ge}},Ge.prototype.getContentHeight=function(ge,Z){void 0===Z&&(Z=1.15);var Ue=(Array.isArray(this.text)?this.text.length:1)*(this.styles.fontSize/ge*Z)+this.padding("vertical");return Math.max(Ue,this.styles.minCellHeight)},Ge.prototype.padding=function(ge){var Z=(0,De.parseSpacing)(this.styles.cellPadding,0);return"vertical"===ge?Z.top+Z.bottom:"horizontal"===ge?Z.left+Z.right:Z[ge]},Ge}();Ee.Cell=nt;var Ye=function(){function Ge(ge,Z,ce){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=ge,this.raw=Z,this.index=ce}return Ge.prototype.getMaxCustomCellWidth=function(ge){for(var Z=0,ce=0,Me=ge.allRows();ce<Me.length;ce++){var Re=Me[ce].cells[this.index];Re&&"number"==typeof Re.styles.cellWidth&&(Z=Math.max(Z,Re.styles.cellWidth))}return Z},Ge}();Ee.Column=Ye},356:function(Ut,Ee){Object.defineProperty(Ee,"__esModule",{value:!0}),Ee.assign=void 0,Ee.assign=function Rt(Ot,He,De,ot,Ie){if(null==Ot)throw new TypeError("Cannot convert undefined or null to object");for(var nt=Object(Ot),Ye=1;Ye<arguments.length;Ye++){var Ge=arguments[Ye];if(null!=Ge)for(var ge in Ge)Object.prototype.hasOwnProperty.call(Ge,ge)&&(nt[ge]=Ge[ge])}return nt}},972:function(Ut,Ee,Rt){Object.defineProperty(Ee,"__esModule",{value:!0}),Ee.createTable=void 0;var Ot=Rt(744),He=Rt(260),De=Rt(324),ot=Rt(796),Ie=Rt(356);function Ge(Ue,Re,$e,ft,ie,de){var he={};return Re.map(function(Ze,lt){for(var Fe=0,We={},Ft=0,kt=0,yt=0,Ce=$e;yt<Ce.length;yt++){var fe=Ce[yt];if(null==he[fe.index]||0===he[fe.index].left)if(0===kt){var Te,Ke={};"object"==typeof(Te=Array.isArray(Ze)?Ze[fe.index-Ft-Fe]:Ze[fe.dataKey])&&!Array.isArray(Te)&&(Ke=(null==Te?void 0:Te.styles)||{});var Ct=Me(Ue,fe,lt,ie,ft,de,Ke),qe=new He.Cell(Te,Ct,Ue);We[fe.dataKey]=qe,We[fe.index]=qe,he[fe.index]={left:qe.rowSpan-1,times:kt=qe.colSpan-1}}else kt--,Ft++;else he[fe.index].left--,kt=he[fe.index].times,Fe++}return new He.Row(Ze,lt,Ue,We)})}function ge(Ue,Re){var $e={};return Ue.forEach(function(ft){if(null!=ft.raw){var ie=function Z(Ue,Re){if("head"===Ue){if("object"==typeof Re)return Re.header||Re.title||null;if("string"==typeof Re||"number"==typeof Re)return Re}else if("foot"===Ue&&"object"==typeof Re)return Re.footer;return null}(Re,ft.raw);null!=ie&&($e[ft.dataKey]=ie)}}),Object.keys($e).length>0?$e:null}function Me(Ue,Re,$e,ft,ie,de,he){var Ze,re=(0,ot.getTheme)(ft);"head"===Ue?Ze=ie.headStyles:"body"===Ue?Ze=ie.bodyStyles:"foot"===Ue&&(Ze=ie.footStyles);var lt=(0,Ie.assign)({},re.table,re[Ue],ie.styles,Ze),We="body"===Ue&&(ie.columnStyles[Re.dataKey]||ie.columnStyles[Re.index])||{},Ft="body"===Ue&&$e%2==0?(0,Ie.assign)({},re.alternateRow,ie.alternateRowStyles):{},kt=(0,ot.defaultStyles)(de),yt=(0,Ie.assign)({},kt,lt,Ft,We);return(0,Ie.assign)(yt,he)}Ee.createTable=function nt(Ue,Re){var $e=new Ot.DocHandler(Ue),ft=function Ye(Ue,Re){var ie,$e=Ue.content,ft=function ce(Ue){return Ue.map(function(Re,$e){var ft,ie,de;return de="object"==typeof Re&&null!==(ie=null!==(ft=Re.dataKey)&&void 0!==ft?ft:Re.key)&&void 0!==ie?ie:$e,new He.Column(de,Re,$e)})}($e.columns);0===$e.head.length&&(ie=ge(ft,"head"))&&$e.head.push(ie),0===$e.foot.length&&(ie=ge(ft,"foot"))&&$e.foot.push(ie);var de=Ue.settings.theme,he=Ue.styles;return{columns:ft,head:Ge("head",$e.head,ft,he,de,Re),body:Ge("body",$e.body,ft,he,de,Re),foot:Ge("foot",$e.foot,ft,he,de,Re)}}(Re,$e.scaleFactor()),ie=new He.Table(Re,ft);return(0,De.calculateWidths)($e,ie),$e.applyStyles($e.userStyles),ie}},664:function(Ut,Ee,Rt){Object.defineProperty(Ee,"__esModule",{value:!0}),Ee.addPage=Ee.drawTable=void 0;var Ot=Rt(420),He=Rt(260),De=Rt(744),ot=Rt(356),Ie=Rt(136),nt=Rt(224);function ge(Fe,We,Ft,kt){var yt=We.settings;Fe.applyStyles(Fe.userStyles),("firstPage"===yt.showHead||"everyPage"===yt.showHead)&&We.head.forEach(function(Ce){return ie(Fe,We,Ce,Ft,kt)})}function ce(Fe,We,Ft,kt,yt,Ce){Fe.applyStyles(Fe.userStyles),Ce=null!=Ce?Ce:We.body.length;var fe=Math.min(Ft+Ce,We.body.length),Te=-1;return We.body.slice(Ft,fe).forEach(function(Ke,Ct){var rn=re(Fe,We,Ft+Ct===We.body.length-1,kt);Ke.canEntireRowFit(rn,yt)&&(ie(Fe,We,Ke,kt,yt),Te=Ft+Ct)}),Te}function Me(Fe,We,Ft,kt){var yt=We.settings;Fe.applyStyles(Fe.userStyles),("lastPage"===yt.showFoot||"everyPage"===yt.showFoot)&&We.foot.forEach(function(Ce){return ie(Fe,We,Ce,Ft,kt)})}function Ue(Fe,We,Ft){var kt=Ft.getLineHeight(Fe.styles.fontSize),yt=Fe.padding("vertical"),Ce=Math.floor((We-yt)/kt);return Math.max(0,Ce)}function ft(Fe,We,Ft,kt,yt,Ce,fe){var Te=re(Fe,We,kt,Ce);if(Ft.canEntireRowFit(Te,fe))ie(Fe,We,Ft,Ce,fe);else if(function $e(Fe,We,Ft,kt){var yt=Fe.pageSize().height,Ce=kt.settings.margin,Te=yt-(Ce.top+Ce.bottom);"body"===We.section&&(Te-=kt.getHeadHeight(kt.columns)+kt.getFootHeight(kt.columns));var Ke=We.getMinimumRowHeight(kt.columns,Fe),Ct=Ke<Ft;if(Ke>Te)return console.error("Will not be able to print row ".concat(We.index," correctly since it's minimum height is larger than page height")),!0;if(!Ct)return!1;var qe=We.hasRowSpan(kt.columns);return We.getMaxCellHeight(kt.columns)>Te?(qe&&console.error("The content of row ".concat(We.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(qe||"avoid"===kt.settings.rowPageBreak)}(Fe,Ft,Te,We)){var Ke=function Re(Fe,We,Ft,kt){var yt={};Fe.spansMultiplePages=!0,Fe.height=0;for(var Ce=0,fe=0,Te=Ft.columns;fe<Te.length;fe++)if(Ct=Fe.cells[(Ke=Te[fe]).index]){Array.isArray(Ct.text)||(Ct.text=[Ct.text]);var qe=new He.Cell(Ct.raw,Ct.styles,Ct.section);(qe=(0,ot.assign)(qe,Ct)).text=[];var rn=Ue(Ct,We,kt);Ct.text.length>rn&&(qe.text=Ct.text.splice(rn,Ct.text.length));var Pn=kt.scaleFactor(),Rn=kt.getLineHeightFactor();Ct.contentHeight=Ct.getContentHeight(Pn,Rn),Ct.contentHeight>=We&&(Ct.contentHeight=We,qe.styles.minCellHeight-=We),Ct.contentHeight>Fe.height&&(Fe.height=Ct.contentHeight),qe.contentHeight=qe.getContentHeight(Pn,Rn),qe.contentHeight>Ce&&(Ce=qe.contentHeight),yt[Ke.index]=qe}var Kn=new He.Row(Fe.raw,-1,Fe.section,yt,!0);Kn.height=Ce;for(var Sr=0,pi=Ft.columns;Sr<pi.length;Sr++){var Ke,Ct;(qe=Kn.cells[(Ke=pi[Sr]).index])&&(qe.height=Kn.height),(Ct=Fe.cells[Ke.index])&&(Ct.height=Fe.height)}return Kn}(Ft,Te,We,Fe);ie(Fe,We,Ft,Ce,fe),Ze(Fe,We,yt,Ce,fe),ft(Fe,We,Ke,kt,yt,Ce,fe)}else Ze(Fe,We,yt,Ce,fe),ft(Fe,We,Ft,kt,yt,Ce,fe)}function ie(Fe,We,Ft,kt,yt){kt.x=We.settings.margin.left;for(var Ce=0,fe=yt;Ce<fe.length;Ce++){var Te=fe[Ce],Ke=Ft.cells[Te.index];if(Ke)if(Fe.applyStyles(Ke.styles),Ke.x=kt.x,Ke.y=kt.y,!1!==We.callCellHooks(Fe,We.hooks.willDrawCell,Ke,Ft,Te,kt)){de(Fe,Ke,kt);var qe=Ke.getTextPos();(0,Ie.default)(Ke.text,qe.x,qe.y,{halign:Ke.styles.halign,valign:Ke.styles.valign,maxWidth:Math.ceil(Ke.width-Ke.padding("left")-Ke.padding("right"))},Fe.getDocument()),We.callCellHooks(Fe,We.hooks.didDrawCell,Ke,Ft,Te,kt),kt.x+=Te.width}else kt.x+=Te.width;else kt.x+=Te.width}kt.y+=Ft.height}function de(Fe,We,Ft){var kt=We.styles;if(Fe.getDocument().setFillColor(Fe.getDocument().getFillColor()),"number"==typeof kt.lineWidth){var yt=(0,Ot.getFillStyle)(kt.lineWidth,kt.fillColor);yt&&Fe.rect(We.x,Ft.y,We.width,We.height,yt)}else"object"==typeof kt.lineWidth&&(kt.fillColor&&Fe.rect(We.x,Ft.y,We.width,We.height,"F"),function he(Fe,We,Ft,kt){var yt,Ce,fe,Te;function Ke(Ct,qe,rn,Pn,Rn){Fe.getDocument().setLineWidth(Ct),Fe.getDocument().line(qe,rn,Pn,Rn,"S")}kt.top&&(yt=Ft.x,fe=Ft.x+We.width,kt.right&&(fe+=.5*kt.right),kt.left&&(yt-=.5*kt.left),Ke(kt.top,yt,Ce=Ft.y,fe,Te=Ft.y)),kt.bottom&&(yt=Ft.x,fe=Ft.x+We.width,kt.right&&(fe+=.5*kt.right),kt.left&&(yt-=.5*kt.left),Ke(kt.bottom,yt,Ce=Ft.y+We.height,fe,Te=Ft.y+We.height)),kt.left&&(Ce=Ft.y,Te=Ft.y+We.height,kt.top&&(Ce-=.5*kt.top),kt.bottom&&(Te+=.5*kt.bottom),Ke(kt.left,yt=Ft.x,Ce,fe=Ft.x,Te)),kt.right&&(Ce=Ft.y,Te=Ft.y+We.height,kt.top&&(Ce-=.5*kt.top),kt.bottom&&(Te+=.5*kt.bottom),Ke(kt.right,yt=Ft.x+We.width,Ce,fe=Ft.x+We.width,Te))}(Fe,We,Ft,kt.lineWidth))}function re(Fe,We,Ft,kt){var yt=We.settings.margin.bottom,Ce=We.settings.showFoot;return("everyPage"===Ce||"lastPage"===Ce&&Ft)&&(yt+=We.getFootHeight(We.columns)),Fe.pageSize().height-kt.y-yt}function Ze(Fe,We,Ft,kt,yt,Ce){void 0===yt&&(yt=[]),void 0===Ce&&(Ce=!1),Fe.applyStyles(Fe.userStyles),"everyPage"===We.settings.showFoot&&!Ce&&We.foot.forEach(function(Te){return ie(Fe,We,Te,kt,yt)}),We.callEndPageHooks(Fe,kt);var fe=We.settings.margin;(0,Ot.addTableBorder)(Fe,We,Ft,kt),lt(Fe),We.pageNumber++,We.pageCount++,kt.x=fe.left,kt.y=fe.top,Ft.y=fe.top,We.callWillDrawPageHooks(Fe,kt),"everyPage"===We.settings.showHead&&(We.head.forEach(function(Te){return ie(Fe,We,Te,kt,yt)}),Fe.applyStyles(Fe.userStyles))}function lt(Fe){var We=Fe.pageNumber();return Fe.setPage(We+1),Fe.pageNumber()===We&&(Fe.addPage(),!0)}Ee.drawTable=function Ye(Fe,We){var Ft=We.settings,kt=Ft.startY,yt=Ft.margin,Ce={x:yt.left,y:kt},fe=We.getHeadHeight(We.columns)+We.getFootHeight(We.columns),Te=kt+yt.bottom+fe;"avoid"===Ft.pageBreak&&(Te+=We.body.reduce(function(Pn,Rn){return Pn+Rn.height},0));var qe=new De.DocHandler(Fe);("always"===Ft.pageBreak||null!=Ft.startY&&Te>qe.pageSize().height)&&(lt(qe),Ce.y=yt.top),We.callWillDrawPageHooks(qe,Ce);var rn=(0,ot.assign)({},Ce);We.startPageNumber=qe.pageNumber(),Ft.horizontalPageBreak?function Ge(Fe,We,Ft,kt){var yt=(0,nt.calculateAllColumnsCanFitInPage)(Fe,We);if("afterAllRows"===We.settings.horizontalPageBreakBehaviour)yt.forEach(function(Ct,qe){Fe.applyStyles(Fe.userStyles),qe>0?Ze(Fe,We,Ft,kt,Ct.columns,!0):ge(Fe,We,kt,Ct.columns),function Z(Fe,We,Ft,kt,yt){Fe.applyStyles(Fe.userStyles),We.body.forEach(function(Ce,fe){ft(Fe,We,Ce,fe===We.body.length-1,Ft,kt,yt)})}(Fe,We,Ft,kt,Ct.columns),Me(Fe,We,kt,Ct.columns)});else for(var fe=-1,Te=yt[0],Ke=function(){var Ct=fe;if(Te){Fe.applyStyles(Fe.userStyles);var qe=Te.columns;fe>=0?Ze(Fe,We,Ft,kt,qe,!0):ge(Fe,We,kt,qe),Ct=ce(Fe,We,fe+1,kt,qe),Me(Fe,We,kt,qe)}var rn=Ct-fe;yt.slice(1).forEach(function(Pn){Fe.applyStyles(Fe.userStyles),Ze(Fe,We,Ft,kt,Pn.columns,!0),ce(Fe,We,fe+1,kt,Pn.columns,rn),Me(Fe,We,kt,Pn.columns)}),fe=Ct};fe<We.body.length-1;)Ke()}(qe,We,rn,Ce):(qe.applyStyles(qe.userStyles),("firstPage"===Ft.showHead||"everyPage"===Ft.showHead)&&We.head.forEach(function(Pn){return ie(qe,We,Pn,Ce,We.columns)}),qe.applyStyles(qe.userStyles),We.body.forEach(function(Pn,Rn){ft(qe,We,Pn,Rn===We.body.length-1,rn,Ce,We.columns)}),qe.applyStyles(qe.userStyles),("lastPage"===Ft.showFoot||"everyPage"===Ft.showFoot)&&We.foot.forEach(function(Pn){return ie(qe,We,Pn,Ce,We.columns)})),(0,Ot.addTableBorder)(qe,We,rn,Ce),We.callEndPageHooks(qe,Ce),We.finalY=Ce.y,Fe.lastAutoTable=We,Fe.previousAutoTable=We,Fe.autoTable&&(Fe.autoTable.previous=We),qe.applyStyles(qe.userStyles)},Ee.addPage=Ze},224:function(Ut,Ee,Rt){Object.defineProperty(Ee,"__esModule",{value:!0}),Ee.calculateAllColumnsCanFitInPage=void 0;var Ot=Rt(420);function He(ot,Ie,nt){var Ye;void 0===nt&&(nt={});var Ge=(0,Ot.getPageAvailableWidth)(ot,Ie),ge=new Map,Z=[],ce=[],Me=[];Array.isArray(Ie.settings.horizontalPageBreakRepeat)?Me=Ie.settings.horizontalPageBreakRepeat:("string"==typeof Ie.settings.horizontalPageBreakRepeat||"number"==typeof Ie.settings.horizontalPageBreakRepeat)&&(Me=[Ie.settings.horizontalPageBreakRepeat]),Me.forEach(function(ft){var ie=Ie.columns.find(function(de){return de.dataKey===ft||de.index===ft});ie&&!ge.has(ie.index)&&(ge.set(ie.index,!0),Z.push(ie.index),ce.push(Ie.columns[ie.index]),Ge-=ie.wrappedWidth)});for(var Ue=!0,Re=null!==(Ye=null==nt?void 0:nt.start)&&void 0!==Ye?Ye:0;Re<Ie.columns.length;)if(ge.has(Re))Re++;else{var $e=Ie.columns[Re].wrappedWidth;if(!(Ue||Ge>=$e))break;Ue=!1,Z.push(Re),ce.push(Ie.columns[Re]),Ge-=$e,Re++}return{colIndexes:Z,columns:ce,lastIndex:Re-1}}Ee.calculateAllColumnsCanFitInPage=function De(ot,Ie){for(var nt=[],Ye=0;Ye<Ie.columns.length;Ye++){var Ge=He(ot,Ie,{start:Ye});Ge.columns.length&&(nt.push(Ge),Ye=Ge.lastIndex)}return nt}},324:function(Ut,Ee,Rt){Object.defineProperty(Ee,"__esModule",{value:!0}),Ee.ellipsize=Ee.resizeColumns=Ee.calculateWidths=void 0;var Ot=Rt(420);function ot(Z,ce,Me){for(var Ue=ce,Re=Z.reduce(function(Fe,We){return Fe+We.wrappedWidth},0),$e=0;$e<Z.length;$e++){var ft=Z[$e],he=ft.width+Ue*(ft.wrappedWidth/Re),re=Me(ft),Ze=he<re?re:he;ce-=Ze-ft.width,ft.width=Ze}if(ce=Math.round(1e10*ce)/1e10){var lt=Z.filter(function(Fe){return!(ce<0)||Fe.width>Me(Fe)});lt.length&&(ce=ot(lt,ce,Me))}return ce}function Ge(Z,ce,Me,Ue,Re){return Z.map(function($e){return function ge(Z,ce,Me,Ue,Re){var $e=1e4*Ue.scaleFactor();if((ce=Math.ceil(ce*$e)/$e)>=(0,Ot.getStringWidth)(Z,Me,Ue))return Z;for(;ce<(0,Ot.getStringWidth)(Z+Re,Me,Ue)&&!(Z.length<=1);)Z=Z.substring(0,Z.length-1);return Z.trim()+Re}($e,ce,Me,Ue,Re)})}Ee.calculateWidths=function He(Z,ce){!function De(Z,ce){var Me=Z.scaleFactor(),Ue=ce.settings.horizontalPageBreak,Re=(0,Ot.getPageAvailableWidth)(Z,ce);ce.allRows().forEach(function($e){for(var ft=0,ie=ce.columns;ft<ie.length;ft++){var de=ie[ft],he=$e.cells[de.index];if(he){ce.callCellHooks(Z,ce.hooks.didParseCell,he,$e,de,null);var Ze=he.padding("horizontal");he.contentWidth=(0,Ot.getStringWidth)(he.text,he.styles,Z)+Ze;var lt=(0,Ot.getStringWidth)(he.text.join(" ").split(/\s+/),he.styles,Z);he.minReadableWidth=lt+he.padding("horizontal"),"number"==typeof he.styles.cellWidth?(he.minWidth=he.styles.cellWidth,he.wrappedWidth=he.styles.cellWidth):"wrap"===he.styles.cellWidth||!0===Ue?he.contentWidth>Re?(he.minWidth=Re,he.wrappedWidth=Re):(he.minWidth=he.contentWidth,he.wrappedWidth=he.contentWidth):(he.minWidth=he.styles.minCellWidth||10/Me,he.wrappedWidth=he.contentWidth,he.minWidth>he.wrappedWidth&&(he.wrappedWidth=he.minWidth))}}}),ce.allRows().forEach(function($e){for(var ft=0,ie=ce.columns;ft<ie.length;ft++){var de=ie[ft],he=$e.cells[de.index];if(he&&1===he.colSpan)de.wrappedWidth=Math.max(de.wrappedWidth,he.wrappedWidth),de.minWidth=Math.max(de.minWidth,he.minWidth),de.minReadableWidth=Math.max(de.minReadableWidth,he.minReadableWidth);else{var re=ce.styles.columnStyles[de.dataKey]||ce.styles.columnStyles[de.index]||{},Ze=re.cellWidth||re.minCellWidth;Ze&&"number"==typeof Ze&&(de.minWidth=Ze,de.wrappedWidth=Ze)}he&&(he.colSpan>1&&!de.minWidth&&(de.minWidth=he.minWidth),he.colSpan>1&&!de.wrappedWidth&&(de.wrappedWidth=he.minWidth))}})}(Z,ce);var Me=[],Ue=0;ce.columns.forEach(function($e){var ft=$e.getMaxCustomCellWidth(ce);ft?$e.width=ft:($e.width=$e.wrappedWidth,Me.push($e)),Ue+=$e.width});var Re=ce.getWidth(Z.pageSize().width)-Ue;Re&&(Re=ot(Me,Re,function($e){return Math.max($e.minReadableWidth,$e.minWidth)})),Re&&(Re=ot(Me,Re,function($e){return $e.minWidth})),Re=Math.abs(Re),!ce.settings.horizontalPageBreak&&Re>.1/Z.scaleFactor()&&(Re=Re<1?Re:Math.round(Re),console.warn("Of the table content, ".concat(Re," units width could not fit page"))),function nt(Z){for(var ce=Z.allRows(),Me=0;Me<ce.length;Me++)for(var Ue=ce[Me],Re=null,$e=0,ft=0,ie=0;ie<Z.columns.length;ie++){var de=Z.columns[ie];if((ft-=1)>1&&Z.columns[ie+1])$e+=de.width,delete Ue.cells[de.index];else if(Re){var he=Re;delete Ue.cells[de.index],Re=null,he.width=de.width+$e}else{if(!(he=Ue.cells[de.index]))continue;if(ft=he.colSpan,$e=0,he.colSpan>1){Re=he,$e+=de.width;continue}he.width=de.width+$e}}}(ce),function Ye(Z,ce){for(var Me={count:0,height:0},Ue=0,Re=Z.allRows();Ue<Re.length;Ue++){for(var $e=Re[Ue],ft=0,ie=Z.columns;ft<ie.length;ft++){var he=$e.cells[ie[ft].index];if(he){ce.applyStyles(he.styles,!0);var re=he.width-he.padding("horizontal");if("linebreak"===he.styles.overflow)he.text=ce.splitTextToSize(he.text,re+1/ce.scaleFactor(),{fontSize:he.styles.fontSize});else if("ellipsize"===he.styles.overflow)he.text=Ge(he.text,re,he.styles,ce,"...");else if("hidden"===he.styles.overflow)he.text=Ge(he.text,re,he.styles,ce,"");else if("function"==typeof he.styles.overflow){var Ze=he.styles.overflow(he.text,re);he.text="string"==typeof Ze?[Ze]:Ze}he.contentHeight=he.getContentHeight(ce.scaleFactor(),ce.getLineHeightFactor());var lt=he.contentHeight/he.rowSpan;he.rowSpan>1&&Me.count*Me.height<lt*he.rowSpan?Me={height:lt,count:he.rowSpan}:Me&&Me.count>0&&Me.height>lt&&(lt=Me.height),lt>$e.height&&($e.height=lt)}}Me.count--}}(ce,Z),function Ie(Z){for(var ce={},Me=1,Ue=Z.allRows(),Re=0;Re<Ue.length;Re++)for(var $e=Ue[Re],ft=0,ie=Z.columns;ft<ie.length;ft++){var de=ie[ft],he=ce[de.index];if(Me>1)Me--,delete $e.cells[de.index];else if(he)he.cell.height+=$e.height,Me=he.cell.colSpan,delete $e.cells[de.index],he.left--,he.left<=1&&delete ce[de.index];else{var re=$e.cells[de.index];if(!re)continue;if(re.height=$e.height,re.rowSpan>1){var Ze=Ue.length-Re;ce[de.index]={cell:re,left:re.rowSpan>Ze?Ze:re.rowSpan,row:$e}}}}}(ce)},Ee.resizeColumns=ot,Ee.ellipsize=Ge},964:function(Ut){if(typeof V>"u"){var Ee=new Error("Cannot find module 'undefined'");throw Ee.code="MODULE_NOT_FOUND",Ee}Ut.exports=V}},Mt={};function tt(Ut){var Ee=Mt[Ut];if(void 0!==Ee)return Ee.exports;var Rt=Mt[Ut]={exports:{}};return ln[Ut].call(Rt.exports,Rt,Rt.exports,tt),Rt.exports}var Tn={};return function(){var Ut=Tn;Object.defineProperty(Ut,"__esModule",{value:!0}),Ut.Cell=Ut.Column=Ut.Row=Ut.Table=Ut.CellHookData=Ut.__drawTable=Ut.__createTable=Ut.applyPlugin=void 0;var Ee=tt(340),Rt=tt(776),Ot=tt(664),He=tt(972),De=tt(260);Object.defineProperty(Ut,"Table",{enumerable:!0,get:function(){return De.Table}});var ot=tt(172);Object.defineProperty(Ut,"CellHookData",{enumerable:!0,get:function(){return ot.CellHookData}});var Ie=tt(260);function nt(ce){(0,Ee.default)(ce)}Object.defineProperty(Ut,"Cell",{enumerable:!0,get:function(){return Ie.Cell}}),Object.defineProperty(Ut,"Column",{enumerable:!0,get:function(){return Ie.Column}}),Object.defineProperty(Ut,"Row",{enumerable:!0,get:function(){return Ie.Row}}),Ut.applyPlugin=nt,Ut.__createTable=function Ge(ce,Me){var Ue=(0,Rt.parseInput)(ce,Me);return(0,He.createTable)(ce,Ue)},Ut.__drawTable=function ge(ce,Me){(0,Ot.drawTable)(ce,Me)};try{var Z=tt(964);Z.jsPDF&&(Z=Z.jsPDF),nt(Z)}catch{}Ut.default=function Ye(ce,Me){var Ue=(0,Rt.parseInput)(ce,Me),Re=(0,He.createTable)(ce,Ue);(0,Ot.drawTable)(ce,Re)}}(),Tn}())},9107:(go,kr,wt)=>{"use strict";wt.r(kr),wt.d(kr,{AcroForm:()=>vh,AcroFormAppearance:()=>fr,AcroFormButton:()=>Hr,AcroFormCheckBox:()=>mh,AcroFormChoiceField:()=>Lc,AcroFormComboBox:()=>Yd,AcroFormEditBox:()=>Oc,AcroFormListBox:()=>LA,AcroFormPasswordField:()=>nl,AcroFormPushButton:()=>Xd,AcroFormRadioButton:()=>md,AcroFormTextField:()=>Uc,GState:()=>Po,ShadingPattern:()=>vo,TilingPattern:()=>es,default:()=>wd,jsPDF:()=>qr});var V=wt(2284),tt=Uint8Array,Tn=Uint16Array,Ut=Uint32Array,Ee=new tt([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Rt=new tt([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),Ot=new tt([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),He=function(C,g){for(var y=new Tn(31),S=0;S<31;++S)y[S]=g+=1<<C[S-1];var x=new Ut(y[30]);for(S=1;S<30;++S)for(var B=y[S];B<y[S+1];++B)x[B]=B-y[S]<<5|S;return[y,x]},De=He(Ee,2),ot=De[0],Ie=De[1];ot[28]=258,Ie[258]=28;for(var nt=He(Rt,0),Ye=nt[0],Ge=nt[1],ge=new Tn(32768),Z=0;Z<32768;++Z){var ce=(43690&Z)>>>1|(21845&Z)<<1;ge[Z]=((65280&(ce=(61680&(ce=(52428&ce)>>>2|(13107&ce)<<2))>>>4|(3855&ce)<<4))>>>8|(255&ce)<<8)>>>1}var Me=function(C,g,y){for(var S=C.length,x=0,B=new Tn(g);x<S;++x)++B[C[x]-1];var M,P=new Tn(g);for(x=0;x<g;++x)P[x]=P[x-1]+B[x-1]<<1;if(y){M=new Tn(1<<g);var L=15-g;for(x=0;x<S;++x)if(C[x])for(var G=x<<4|C[x],te=g-C[x],ue=P[C[x]-1]++<<te,pe=ue|(1<<te)-1;ue<=pe;++ue)M[ge[ue]>>>L]=G}else for(M=new Tn(S),x=0;x<S;++x)M[x]=ge[P[C[x]-1]++]>>>15-C[x];return M},Ue=new tt(288);for(Z=0;Z<144;++Z)Ue[Z]=8;for(Z=144;Z<256;++Z)Ue[Z]=9;for(Z=256;Z<280;++Z)Ue[Z]=7;for(Z=280;Z<288;++Z)Ue[Z]=8;var Re=new tt(32);for(Z=0;Z<32;++Z)Re[Z]=5;var $e=Me(Ue,9,0),ft=Me(Ue,9,1),ie=Me(Re,5,0),de=Me(Re,5,1),he=function(C){for(var g=C[0],y=1;y<C.length;++y)C[y]>g&&(g=C[y]);return g},re=function(C,g,y){var S=g/8|0;return(C[S]|C[S+1]<<8)>>>(7&g)&y},Ze=function(C,g){var y=g/8|0;return(C[y]|C[y+1]<<8|C[y+2]<<16)>>>(7&g)},lt=function(C){return(C/8|0)+(7&C&&1)},Fe=function(C,g,y){(null==g||g<0)&&(g=0),(null==y||y>C.length)&&(y=C.length);var S=new(C instanceof Tn?Tn:C instanceof Ut?Ut:tt)(y-g);return S.set(C.subarray(g,y)),S},Ft=function(C,g,y){var S=g/8|0;C[S]|=y<<=7&g,C[S+1]|=y>>>8},kt=function(C,g,y){var S=g/8|0;C[S]|=y<<=7&g,C[S+1]|=y>>>8,C[S+2]|=y>>>16},yt=function(C,g){for(var y=[],S=0;S<C.length;++S)C[S]&&y.push({s:S,f:C[S]});var x=y.length,B=y.slice();if(!x)return[new tt(0),0];if(1==x){var P=new tt(y[0].s+1);return P[y[0].s]=1,[P,1]}y.sort(function(un,St){return un.f-St.f}),y.push({s:-1,f:25001});var M=y[0],L=y[1],G=0,te=1,ue=2;for(y[0]={s:-1,f:M.f+L.f,l:M,r:L};te!=x-1;)M=y[y[G].f<y[ue].f?G++:ue++],L=y[G!=te&&y[G].f<y[ue].f?G++:ue++],y[te++]={s:-1,f:M.f+L.f,l:M,r:L};var pe=B[0].s;for(S=1;S<x;++S)B[S].s>pe&&(pe=B[S].s);var j=new Tn(pe+1),Pe=Ce(y[te-1],j,0);if(Pe>g){S=0;var be=0,ze=Pe-g,J=1<<ze;for(B.sort(function(St,Bt){return j[Bt.s]-j[St.s]||St.f-Bt.f});S<x;++S){var Le=B[S].s;if(!(j[Le]>g))break;be+=J-(1<<Pe-j[Le]),j[Le]=g}for(be>>>=ze;be>0;){var gt=B[S].s;j[gt]<g?be-=1<<g-j[gt]++-1:++S}for(;S>=0&&be;--S){var xt=B[S].s;j[xt]==g&&(--j[xt],++be)}Pe=g}return[new tt(j),Pe]},Ce=function(C,g,y){return-1==C.s?Math.max(Ce(C.l,g,y+1),Ce(C.r,g,y+1)):g[C.s]=y},fe=function(C){for(var g=C.length;g&&!C[--g];);for(var y=new Tn(++g),S=0,x=C[0],B=1,P=function(L){y[S++]=L},M=1;M<=g;++M)if(C[M]==x&&M!=g)++B;else{if(!x&&B>2){for(;B>138;B-=138)P(32754);B>2&&(P(B>10?B-11<<5|28690:B-3<<5|12305),B=0)}else if(B>3){for(P(x),--B;B>6;B-=6)P(8304);B>2&&(P(B-3<<5|8208),B=0)}for(;B--;)P(x);B=1,x=C[M]}return[y.subarray(0,S),g]},Te=function(C,g){for(var y=0,S=0;S<g.length;++S)y+=C[S]*g[S];return y},Ke=function(C,g,y){var S=y.length,x=lt(g+2);C[x]=255&S,C[x+1]=S>>>8,C[x+2]=255^C[x],C[x+3]=255^C[x+1];for(var B=0;B<S;++B)C[x+B+4]=y[B];return 8*(x+4+S)},Ct=function(C,g,y,S,x,B,P,M,L,G,te){Ft(g,te++,y),++x[256];for(var ue=yt(x,15),pe=ue[0],j=ue[1],Pe=yt(B,15),be=Pe[0],ze=Pe[1],J=fe(pe),Le=J[0],gt=J[1],xt=fe(be),un=xt[0],St=xt[1],Bt=new Tn(19),Ne=0;Ne<Le.length;++Ne)Bt[31&Le[Ne]]++;for(Ne=0;Ne<un.length;++Ne)Bt[31&un[Ne]]++;for(var Zt=yt(Bt,7),on=Zt[0],Be=Zt[1],we=19;we>4&&!on[Ot[we-1]];--we);var Jt,_n,Ht,wn,pt=G+5<<3,ct=Te(x,Ue)+Te(B,Re)+P,cn=Te(x,pe)+Te(B,be)+P+14+3*we+Te(Bt,on)+(2*Bt[16]+3*Bt[17]+7*Bt[18]);if(pt<=ct&&pt<=cn)return Ke(g,te,C.subarray(L,L+G));if(Ft(g,te,1+(cn<ct)),te+=2,cn<ct){Jt=Me(pe,j,0),_n=pe,Ht=Me(be,ze,0),wn=be;var yn=Me(on,Be,0);for(Ft(g,te,gt-257),Ft(g,te+5,St-1),Ft(g,te+10,we-4),te+=14,Ne=0;Ne<we;++Ne)Ft(g,te+3*Ne,on[Ot[Ne]]);te+=3*we;for(var lr=[Le,un],ae=0;ae<2;++ae){var Ve=lr[ae];for(Ne=0;Ne<Ve.length;++Ne)Ft(g,te,yn[Je=31&Ve[Ne]]),te+=on[Je],Je>15&&(Ft(g,te,Ve[Ne]>>>5&127),te+=Ve[Ne]>>>12)}}else Jt=$e,_n=Ue,Ht=ie,wn=Re;for(Ne=0;Ne<M;++Ne)if(S[Ne]>255){var Je;kt(g,te,Jt[257+(Je=S[Ne]>>>18&31)]),te+=_n[Je+257],Je>7&&(Ft(g,te,S[Ne]>>>23&31),te+=Ee[Je]);var mt=31&S[Ne];kt(g,te,Ht[mt]),te+=wn[mt],mt>3&&(kt(g,te,S[Ne]>>>5&8191),te+=Rt[mt])}else kt(g,te,Jt[S[Ne]]),te+=_n[S[Ne]];return kt(g,te,Jt[256]),te+_n[256]},qe=new Ut([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),rn=new tt(0),pi=function(C,g,y,S,x){return function(C,g,y,S,x,B){var P=C.length,M=new tt(S+P+5*(1+Math.floor(P/7e3))+x),L=M.subarray(S,M.length-x),G=0;if(!g||P<8)for(var te=0;te<=P;te+=65535){var ue=te+65535;ue<P?G=Ke(L,G,C.subarray(te,ue)):(L[te]=B,G=Ke(L,G,C.subarray(te,P)))}else{for(var pe=qe[g-1],j=pe>>>13,Pe=8191&pe,be=(1<<y)-1,ze=new Tn(32768),J=new Tn(be+1),Le=Math.ceil(y/3),gt=2*Le,xt=function(ai){return(C[ai]^C[ai+1]<<Le^C[ai+2]<<gt)&be},un=new Ut(25e3),St=new Tn(288),Bt=new Tn(32),Ne=0,Zt=0,on=(te=0,0),Be=0,we=0;te<P;++te){var pt=xt(te),ct=32767&te,cn=J[pt];if(ze[ct]=cn,J[pt]=ct,Be<=te){var Jt=P-te;if((Ne>7e3||on>24576)&&Jt>423){G=Ct(C,L,0,un,St,Bt,Zt,on,we,te-we,G),on=Ne=Zt=0,we=te;for(var _n=0;_n<286;++_n)St[_n]=0;for(_n=0;_n<30;++_n)Bt[_n]=0}var Ht=2,wn=0,yn=Pe,lr=ct-cn&32767;if(Jt>2&&pt==xt(te-lr))for(var ae=Math.min(j,Jt)-1,Ve=Math.min(32767,te),Je=Math.min(258,Jt);lr<=Ve&&--yn&&ct!=cn;){if(C[te+Ht]==C[te+Ht-lr]){for(var mt=0;mt<Je&&C[te+mt]==C[te+mt-lr];++mt);if(mt>Ht){if(Ht=mt,wn=lr,mt>ae)break;var Et=Math.min(lr,mt-2),zt=0;for(_n=0;_n<Et;++_n){var Wt=te-lr+_n+32768&32767,Gn=Wt-ze[Wt]+32768&32767;Gn>zt&&(zt=Gn,cn=Wt)}}}lr+=(ct=cn)-(cn=ze[ct])+32768&32767}if(wn){un[on++]=268435456|Ie[Ht]<<18|Ge[wn];var Hn=31&Ie[Ht],pr=31&Ge[wn];Zt+=Ee[Hn]+Rt[pr],++St[257+Hn],++Bt[pr],Be=te+Ht,++Ne}else un[on++]=C[te],++St[C[te]]}}G=Ct(C,L,B,un,St,Bt,Zt,on,we,te-we,G),B||(G=Ke(L,G,rn))}return Fe(M,0,S+lt(G)+x)}(C,null==g.level?6:g.level,null==g.mem?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(C.length)))):12+g.mem,y,S,!x)};function Zo(C,g){void 0===g&&(g={});var y=function(){var C=1,g=0;return{p:function(y){for(var S=C,x=g,B=y.length,P=0;P!=B;){for(var M=Math.min(P+5552,B);P<M;++P)x+=S+=y[P];S%=65521,x%=65521}C=S,g=x},d:function(){return(C>>>8<<16|(255&g)<<8|g>>>8)+2*((255&C)<<23)}}}();y.p(C);var S=pi(C,g,2,4);return function(C,g){var y=g.level,S=0==y?0:y<6?1:9==y?3:2;C[0]=120,C[1]=S<<6|(S?32-2*S:1)}(S,g),function(C,g,y){for(;y;++g)C[g]=y,y>>>=8}(S,S.length-4,y.d()),S}function Na(C,g){return function(C,g,y){var S=C.length,x=!g||y,B=!y||y.i;y||(y={}),g||(g=new tt(3*S));var P=function(Et){var zt=g.length;if(Et>zt){var Wt=new tt(Math.max(2*zt,Et));Wt.set(g),g=Wt}},M=y.f||0,L=y.p||0,G=y.b||0,te=y.l,ue=y.d,pe=y.m,j=y.n,Pe=8*S;do{if(!te){y.f=M=re(C,L,1);var be=re(C,L+1,3);if(L+=3,!be){var J=C[(ze=lt(L)+4)-4]|C[ze-3]<<8,Le=ze+J;if(Le>S){if(B)throw"unexpected EOF";break}x&&P(G+J),g.set(C.subarray(ze,Le),G),y.b=G+=J,y.p=L=8*Le;continue}if(1==be)te=ft,ue=de,pe=9,j=5;else{if(2!=be)throw"invalid block type";var gt=re(C,L,31)+257,xt=re(C,L+10,15)+4,un=gt+re(C,L+5,31)+1;L+=14;for(var St=new tt(un),Bt=new tt(19),Ne=0;Ne<xt;++Ne)Bt[Ot[Ne]]=re(C,L+3*Ne,7);L+=3*xt;var Zt=he(Bt),on=(1<<Zt)-1;if(!B&&L+un*(Zt+7)>Pe)break;var Be=Me(Bt,Zt,1);for(Ne=0;Ne<un;){var ze,we=Be[re(C,L,on)];if(L+=15&we,(ze=we>>>4)<16)St[Ne++]=ze;else{var pt=0,ct=0;for(16==ze?(ct=3+re(C,L,3),L+=2,pt=St[Ne-1]):17==ze?(ct=3+re(C,L,7),L+=3):18==ze&&(ct=11+re(C,L,127),L+=7);ct--;)St[Ne++]=pt}}var cn=St.subarray(0,gt),Jt=St.subarray(gt);pe=he(cn),j=he(Jt),te=Me(cn,pe,1),ue=Me(Jt,j,1)}if(L>Pe)throw"unexpected EOF"}x&&P(G+131072);for(var _n=(1<<pe)-1,Ht=(1<<j)-1,wn=pe+j+18;B||L+wn<Pe;){var yn=(pt=te[Ze(C,L)&_n])>>>4;if((L+=15&pt)>Pe)throw"unexpected EOF";if(!pt)throw"invalid length/literal";if(yn<256)g[G++]=yn;else{if(256==yn){te=null;break}var lr=yn-254;yn>264&&(lr=re(C,L,(1<<(ae=Ee[Ne=yn-257]))-1)+ot[Ne],L+=ae);var Ve=ue[Ze(C,L)&Ht],Je=Ve>>>4;if(!Ve)throw"invalid distance";if(L+=15&Ve,Jt=Ye[Je],Je>3){var ae=Rt[Je];Jt+=Ze(C,L)&(1<<ae)-1,L+=ae}if(L>Pe)throw"unexpected EOF";x&&P(G+131072);for(var mt=G+lr;G<mt;G+=4)g[G]=g[G-Jt],g[G+1]=g[G+1-Jt],g[G+2]=g[G+2-Jt],g[G+3]=g[G+3-Jt];G=mt}}y.l=te,y.p=L,y.b=G,te&&(M=1,y.m=pe,y.d=ue,y.n=j)}while(!M);return G==g.length?g:Fe(g,0,G)}((function(C){if(8!=(15&C[0])||C[0]>>>4>7||(C[0]<<8|C[1])%31)throw"invalid zlib data";if(32&C[1])throw"invalid zlib data: preset dictionaries not supported"}(C),C.subarray(2,-4)),g)}var nr=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function Gr(){nr.console&&"function"==typeof nr.console.log&&nr.console.log.apply(nr.console,arguments)}var Ao={log:Gr,warn:function(C){nr.console&&("function"==typeof nr.console.warn?nr.console.warn.apply(nr.console,arguments):Gr.call(null,arguments))},error:function(C){nr.console&&("function"==typeof nr.console.error?nr.console.error.apply(nr.console,arguments):Gr(C))}};function So(C,g,y){var S=new XMLHttpRequest;S.open("GET",C),S.responseType="blob",S.onload=function(){zi(S.response,g,y)},S.onerror=function(){Ao.error("could not download file")},S.send()}function Zl(C){var g=new XMLHttpRequest;g.open("HEAD",C,!1);try{g.send()}catch{}return g.status>=200&&g.status<=299}function Si(C){try{C.dispatchEvent(new MouseEvent("click"))}catch{var g=document.createEvent("MouseEvents");g.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),C.dispatchEvent(g)}}var Qr,vl,zi=nr.saveAs||("object"!==(typeof window>"u"?"undefined":(0,V.A)(window))||window!==nr?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(C,g,y){var S=nr.URL||nr.webkitURL,x=document.createElement("a");x.download=g=g||C.name||"download",x.rel="noopener","string"==typeof C?(x.href=C,x.origin!==location.origin?Zl(x.href)?So(C,g,y):Si(x,x.target="_blank"):Si(x)):(x.href=S.createObjectURL(C),setTimeout(function(){S.revokeObjectURL(x.href)},4e4),setTimeout(function(){Si(x)},0))}:"msSaveOrOpenBlob"in navigator?function(C,g,y){if(g=g||C.name||"download","string"==typeof C)if(Zl(C))So(C,g,y);else{var S=document.createElement("a");S.href=C,S.target="_blank",setTimeout(function(){Si(S)})}else navigator.msSaveOrOpenBlob((x=C,void 0===(B=y)?B={autoBom:!1}:"object"!==(0,V.A)(B)&&(Ao.warn("Deprecated: Expected third argument to be a object"),B={autoBom:!B}),B.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(x.type)?new Blob(["\ufeff",x],{type:x.type}):x),g);var x,B}:function(C,g,y,S){if((S=S||open("","_blank"))&&(S.document.title=S.document.body.innerText="downloading..."),"string"==typeof C)return So(C,g,y);var x="application/octet-stream"===C.type,B=/constructor/i.test(nr.HTMLElement)||nr.safari,P=/CriOS\/[\d]+/.test(navigator.userAgent);if((P||x&&B)&&"object"===(typeof FileReader>"u"?"undefined":(0,V.A)(FileReader))){var M=new FileReader;M.onloadend=function(){var te=M.result;te=P?te:te.replace(/^data:[^;]*;/,"data:attachment/file;"),S?S.location.href=te:location=te,S=null},M.readAsDataURL(C)}else{var L=nr.URL||nr.webkitURL,G=L.createObjectURL(C);S?S.location=G:location.href=G,S=null,setTimeout(function(){L.revokeObjectURL(G)},4e4)}});function Wd(C){var g;C=C||"",this.ok=!1,"#"==C.charAt(0)&&(C=C.substr(1,6)),C={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[C=(C=C.replace(/ /g,"")).toLowerCase()]||C;for(var y=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(M){return[parseInt(M[1]),parseInt(M[2]),parseInt(M[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(M){return[parseInt(M[1],16),parseInt(M[2],16),parseInt(M[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(M){return[parseInt(M[1]+M[1],16),parseInt(M[2]+M[2],16),parseInt(M[3]+M[3],16)]}}],S=0;S<y.length;S++){var B=y[S].process,P=y[S].re.exec(C);P&&(g=B(P),this.r=g[0],this.g=g[1],this.b=g[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var M=this.r.toString(16),L=this.g.toString(16),G=this.b.toString(16);return 1==M.length&&(M="0"+M),1==L.length&&(L="0"+L),1==G.length&&(G="0"+G),"#"+M+L+G}}function gd(C,g){var y=C[0],S=C[1],x=C[2],B=C[3];y=Oo(y,S,x,B,g[0],7,-680876936),B=Oo(B,y,S,x,g[1],12,-389564586),x=Oo(x,B,y,S,g[2],17,606105819),S=Oo(S,x,B,y,g[3],22,-1044525330),y=Oo(y,S,x,B,g[4],7,-176418897),B=Oo(B,y,S,x,g[5],12,1200080426),x=Oo(x,B,y,S,g[6],17,-1473231341),S=Oo(S,x,B,y,g[7],22,-45705983),y=Oo(y,S,x,B,g[8],7,1770035416),B=Oo(B,y,S,x,g[9],12,-1958414417),x=Oo(x,B,y,S,g[10],17,-42063),S=Oo(S,x,B,y,g[11],22,-1990404162),y=Oo(y,S,x,B,g[12],7,1804603682),B=Oo(B,y,S,x,g[13],12,-40341101),x=Oo(x,B,y,S,g[14],17,-1502002290),y=pa(y,S=Oo(S,x,B,y,g[15],22,1236535329),x,B,g[1],5,-165796510),B=pa(B,y,S,x,g[6],9,-1069501632),x=pa(x,B,y,S,g[11],14,643717713),S=pa(S,x,B,y,g[0],20,-373897302),y=pa(y,S,x,B,g[5],5,-701558691),B=pa(B,y,S,x,g[10],9,38016083),x=pa(x,B,y,S,g[15],14,-660478335),S=pa(S,x,B,y,g[4],20,-405537848),y=pa(y,S,x,B,g[9],5,568446438),B=pa(B,y,S,x,g[14],9,-1019803690),x=pa(x,B,y,S,g[3],14,-187363961),S=pa(S,x,B,y,g[8],20,1163531501),y=pa(y,S,x,B,g[13],5,-1444681467),B=pa(B,y,S,x,g[2],9,-51403784),x=pa(x,B,y,S,g[7],14,1735328473),y=Nt(y,S=pa(S,x,B,y,g[12],20,-1926607734),x,B,g[5],4,-378558),B=Nt(B,y,S,x,g[8],11,-2022574463),x=Nt(x,B,y,S,g[11],16,1839030562),S=Nt(S,x,B,y,g[14],23,-35309556),y=Nt(y,S,x,B,g[1],4,-1530992060),B=Nt(B,y,S,x,g[4],11,1272893353),x=Nt(x,B,y,S,g[7],16,-155497632),S=Nt(S,x,B,y,g[10],23,-1094730640),y=Nt(y,S,x,B,g[13],4,681279174),B=Nt(B,y,S,x,g[0],11,-358537222),x=Nt(x,B,y,S,g[3],16,-722521979),S=Nt(S,x,B,y,g[6],23,76029189),y=Nt(y,S,x,B,g[9],4,-640364487),B=Nt(B,y,S,x,g[12],11,-421815835),x=Nt(x,B,y,S,g[15],16,530742520),y=K(y,S=Nt(S,x,B,y,g[2],23,-995338651),x,B,g[0],6,-198630844),B=K(B,y,S,x,g[7],10,1126891415),x=K(x,B,y,S,g[14],15,-1416354905),S=K(S,x,B,y,g[5],21,-57434055),y=K(y,S,x,B,g[12],6,1700485571),B=K(B,y,S,x,g[3],10,-1894986606),x=K(x,B,y,S,g[10],15,-1051523),S=K(S,x,B,y,g[1],21,-2054922799),y=K(y,S,x,B,g[8],6,1873313359),B=K(B,y,S,x,g[15],10,-30611744),x=K(x,B,y,S,g[6],15,-1560198380),S=K(S,x,B,y,g[13],21,1309151649),y=K(y,S,x,B,g[4],6,-145523070),B=K(B,y,S,x,g[11],10,-1120210379),x=K(x,B,y,S,g[2],15,718787259),S=K(S,x,B,y,g[9],21,-343485551),C[0]=xn(y,C[0]),C[1]=xn(S,C[1]),C[2]=xn(x,C[2]),C[3]=xn(B,C[3])}function Nu(C,g,y,S,x,B){return g=xn(xn(g,C),xn(S,B)),xn(g<<x|g>>>32-x,y)}function Oo(C,g,y,S,x,B,P){return Nu(g&y|~g&S,C,g,x,B,P)}function pa(C,g,y,S,x,B,P){return Nu(g&S|y&~S,C,g,x,B,P)}function Nt(C,g,y,S,x,B,P){return Nu(g^y^S,C,g,x,B,P)}function K(C,g,y,S,x,B,P){return Nu(y^(g|~S),C,g,x,B,P)}function se(C){var g,y=C.length,S=[1732584193,-271733879,-1732584194,271733878];for(g=64;g<=C.length;g+=64)gd(S,it(C.substring(g-64,g)));C=C.substring(g-64);var x=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(g=0;g<C.length;g++)x[g>>2]|=C.charCodeAt(g)<<(g%4<<3);if(x[g>>2]|=128<<(g%4<<3),g>55)for(gd(S,x),g=0;g<16;g++)x[g]=0;return x[14]=8*y,gd(S,x),S}function it(C){var g,y=[];for(g=0;g<64;g+=4)y[g>>2]=C.charCodeAt(g)+(C.charCodeAt(g+1)<<8)+(C.charCodeAt(g+2)<<16)+(C.charCodeAt(g+3)<<24);return y}Qr=nr.atob.bind(nr),vl=nr.btoa.bind(nr);var ht="0123456789abcdef".split("");function Pt(C){for(var g="",y=0;y<4;y++)g+=ht[C>>8*y+4&15]+ht[C>>8*y&15];return g}function $t(C){return String.fromCharCode(255&C,(65280&C)>>8,(16711680&C)>>16,(4278190080&C)>>24)}function mn(C){return se(C).map($t).join("")}var Gt="5d41402abc4b2a76b9719d911017c592"!=function(C){for(var g=0;g<C.length;g++)C[g]=Pt(C[g]);return C.join("")}(se("hello"));function xn(C,g){if(Gt){var y=(65535&C)+(65535&g);return(C>>16)+(g>>16)+(y>>16)<<16|65535&y}return C+g&4294967295}function Bn(C,g){var y,S,x;if(C!==y){for(var P=(x=C,new Array(1+(256/C.length|0)+1).join(x)),M=[],L=0;L<256;L++)M[L]=L;var G=0;for(L=0;L<256;L++){var te=M[L];G=(G+te+P.charCodeAt(L))%256,M[L]=M[G],M[G]=te}y=C,S=M}else M=S;var ue=g.length,pe=0,j=0,Pe="";for(L=0;L<ue;L++)j=(j+(te=M[pe=(pe+1)%256]))%256,M[pe]=M[j],M[j]=te,P=M[(M[pe]+M[j])%256],Pe+=String.fromCharCode(g.charCodeAt(L)^P);return Pe}var zn={print:4,modify:8,copy:16,"annot-forms":32};function dr(C,g,y,S){this.v=1,this.r=2;var x=192;C.forEach(function(M){if(void 0!==zn.perm)throw new Error("Invalid permission: "+M);x+=zn[M]}),this.padding="(\xbfN^Nu\x8aAd\0NV\xff\xfa\x01\b..\0\xb6\xd0h>\x80/\f\xa9\xfedSiz";var B=(g+this.padding).substr(0,32),P=(y+this.padding).substr(0,32);this.O=this.processOwnerPassword(B,P),this.P=-(1+(255^x)),this.encryptionKey=mn(B+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(S)).substr(0,5),this.U=Bn(this.encryptionKey,this.padding)}function Rr(C){if(/[^\u0000-\u00ff]/.test(C))throw new Error("Invalid PDF Name Object: "+C+", Only accept ASCII characters.");for(var g="",y=C.length,S=0;S<y;S++){var x=C.charCodeAt(S);g+=x<33||35===x||37===x||40===x||41===x||47===x||60===x||62===x||91===x||93===x||123===x||125===x||x>126?"#"+("0"+x.toString(16)).slice(-2):C[S]}return g}function Cn(C){if("object"!==(0,V.A)(C))throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var g={};this.subscribe=function(y,S,x){if(x=x||!1,"string"!=typeof y||"function"!=typeof S||"boolean"!=typeof x)throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");g.hasOwnProperty(y)||(g[y]={});var B=Math.random().toString(35);return g[y][B]=[S,!!x],B},this.unsubscribe=function(y){for(var S in g)if(g[S][y])return delete g[S][y],0===Object.keys(g[S]).length&&delete g[S],!0;return!1},this.publish=function(y){if(g.hasOwnProperty(y)){var S=Array.prototype.slice.call(arguments,1),x=[];for(var B in g[y]){var P=g[y][B];try{P[0].apply(C,S)}catch(M){nr.console&&Ao.error("jsPDF PubSub Error",M.message,M)}P[1]&&x.push(B)}x.length&&x.forEach(this.unsubscribe)}},this.getTopics=function(){return g}}function Po(C){if(!(this instanceof Po))return new Po(C);var g="opacity,stroke-opacity".split(",");for(var y in C)C.hasOwnProperty(y)&&g.indexOf(y)>=0&&(this[y]=C[y]);this.id="",this.objectNumber=-1}function Yi(C,g){this.gState=C,this.matrix=g,this.id="",this.objectNumber=-1}function vo(C,g,y,S,x){if(!(this instanceof vo))return new vo(C,g,y,S,x);this.type="axial"===C?2:3,this.coords=g,this.colors=y,Yi.call(this,S,x)}function es(C,g,y,S,x){if(!(this instanceof es))return new es(C,g,y,S,x);this.boundingBox=C,this.xStep=g,this.yStep=y,this.stream="",this.cloneIndex=0,Yi.call(this,S,x)}function qr(C){var g,y="string"==typeof arguments[0]?arguments[0]:"p",S=arguments[1],x=arguments[2],B=arguments[3],P=[],M=1,L=16,G="S",te=null;"object"===(0,V.A)(C=C||{})&&(y=C.orientation,S=C.unit||S,x=C.format||x,B=C.compress||C.compressPdf||B,null!==(te=C.encryption||null)&&(te.userPassword=te.userPassword||"",te.ownerPassword=te.ownerPassword||"",te.userPermissions=te.userPermissions||[]),M="number"==typeof C.userUnit?Math.abs(C.userUnit):1,void 0!==C.precision&&(g=C.precision),void 0!==C.floatPrecision&&(L=C.floatPrecision),G=C.defaultPathOperation||"S"),P=C.filters||(!0===B?["FlateEncode"]:P),S=S||"mm",y=(""+(y||"P")).toLowerCase();var ue=C.putOnlyUsedFonts||!1,pe={},j={internal:{},__private__:{}};j.__private__.PubSub=Cn;var Pe="1.3",be=j.__private__.getPdfVersion=function(){return Pe};j.__private__.setPdfVersion=function(R){Pe=R};var ze={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};j.__private__.getPageFormats=function(){return ze};var J=j.__private__.getPageFormat=function(R){return ze[R]};x=x||"a4";var gt="compat";function xt(){this.saveGraphicsState(),je(new Mr(or,0,0,-or,0,Gu()*or).toString()+" cm"),this.setFontSize(this.getFontSize()/or),G="n",gt="advanced"}function un(){this.restoreGraphicsState(),G="S",gt="compat"}var St=j.__private__.combineFontStyleAndFontWeight=function(R,ee){if("bold"==R&&"normal"==ee||"bold"==R&&400==ee||"normal"==R&&"italic"==ee||"bold"==R&&"italic"==ee)throw new Error("Invalid Combination of fontweight and fontstyle");return ee&&(R=400==ee||"normal"===ee?"italic"===R?"italic":"normal":700!=ee&&"bold"!==ee||"normal"!==R?(700==ee?"bold":ee)+""+R:"bold"),R};j.advancedAPI=function(R){var ee="compat"===gt;return ee&&xt.call(this),"function"!=typeof R||(R(this),ee&&un.call(this)),this},j.compatAPI=function(R){var ee="advanced"===gt;return ee&&un.call(this),"function"!=typeof R||(R(this),ee&&xt.call(this)),this},j.isAdvancedAPI=function(){return"advanced"===gt};var Bt,Ne=function(R){if("advanced"!==gt)throw new Error(R+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},Zt=j.roundToPrecision=j.__private__.roundToPrecision=function(R,ee){var Oe=g||ee;if(isNaN(R)||isNaN(Oe))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return R.toFixed(Oe).replace(/0+$/,"")};Bt=j.hpf=j.__private__.hpf="number"==typeof L?function(R){if(isNaN(R))throw new Error("Invalid argument passed to jsPDF.hpf");return Zt(R,L)}:"smart"===L?function(R){if(isNaN(R))throw new Error("Invalid argument passed to jsPDF.hpf");return Zt(R,R>-1&&R<1?16:5)}:function(R){if(isNaN(R))throw new Error("Invalid argument passed to jsPDF.hpf");return Zt(R,16)};var on=j.f2=j.__private__.f2=function(R){if(isNaN(R))throw new Error("Invalid argument passed to jsPDF.f2");return Zt(R,2)},Be=j.__private__.f3=function(R){if(isNaN(R))throw new Error("Invalid argument passed to jsPDF.f3");return Zt(R,3)},we=j.scale=j.__private__.scale=function(R){if(isNaN(R))throw new Error("Invalid argument passed to jsPDF.scale");return"compat"===gt?R*or:"advanced"===gt?R:void 0},ct=function(R){return we(function(R){return"compat"===gt?Gu()-R:"advanced"===gt?R:void 0}(R))};j.__private__.setPrecision=j.setPrecision=function(R){"number"==typeof parseInt(R,10)&&(g=parseInt(R,10))};var cn,Jt="00000000000000000000000000000000",_n=j.__private__.getFileId=function(){return Jt},Ht=j.__private__.setFileId=function(R){return Jt=void 0!==R&&/^[a-fA-F0-9]{32}$/.test(R)?R.toUpperCase():Jt.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),null!==te&&(Ta=new dr(te.userPermissions,te.userPassword,te.ownerPassword,Jt)),Jt};j.setFileId=function(R){return Ht(R),this},j.getFileId=function(){return _n()};var wn=j.__private__.convertDateToPDFDate=function(R){var ee=R.getTimezoneOffset(),Oe=ee<0?"+":"-",At=Math.floor(Math.abs(ee/60)),Tt=Math.abs(ee%60),Qe=[Oe,Je(At),"'",Je(Tt),"'"].join("");return["D:",R.getFullYear(),Je(R.getMonth()+1),Je(R.getDate()),Je(R.getHours()),Je(R.getMinutes()),Je(R.getSeconds()),Qe].join("")},yn=j.__private__.convertPDFDateToDate=function(R){var ee=parseInt(R.substr(2,4),10),Oe=parseInt(R.substr(6,2),10)-1,At=parseInt(R.substr(8,2),10),Tt=parseInt(R.substr(10,2),10),Qe=parseInt(R.substr(12,2),10),An=parseInt(R.substr(14,2),10);return new Date(ee,Oe,At,Tt,Qe,An,0)},lr=j.__private__.setCreationDate=function(R){var ee;if(void 0===R&&(R=new Date),R instanceof Date)ee=wn(R);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(R))throw new Error("Invalid argument passed to jsPDF.setCreationDate");ee=R}return cn=ee},ae=j.__private__.getCreationDate=function(R){var ee=cn;return"jsDate"===R&&(ee=yn(cn)),ee};j.setCreationDate=function(R){return lr(R),this},j.getCreationDate=function(R){return ae(R)};var Ve,Je=j.__private__.padd2=function(R){return("0"+parseInt(R)).slice(-2)},mt=j.__private__.padd2Hex=function(R){return("00"+(R=R.toString())).substr(R.length)},Et=0,zt=[],Wt=[],jt=0,Gn=[],Hn=[],pr=!1,Tr=Wt;j.__private__.setCustomOutputDestination=function(R){pr=!0,Tr=R};var pn=function(R){pr||(Tr=R)};j.__private__.resetCustomOutputDestination=function(){pr=!1,Tr=Wt};var je=j.__private__.out=function(R){return R=R.toString(),jt+=R.length+1,Tr.push(R),Tr},ti=j.__private__.write=function(R){return je(1===arguments.length?R.toString():Array.prototype.join.call(arguments," "))},Ur=j.__private__.getArrayBuffer=function(R){for(var ee=R.length,Oe=new ArrayBuffer(ee),At=new Uint8Array(Oe);ee--;)At[ee]=R.charCodeAt(ee);return Oe},Qn=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];j.__private__.getStandardFonts=function(){return Qn};var Xn=C.fontSize||16;j.__private__.setFontSize=j.setFontSize=function(R){return Xn="advanced"===gt?R/or:R,this};var gr,ir=j.__private__.getFontSize=j.getFontSize=function(){return"compat"===gt?Xn:Xn*or},Wr=C.R2L||!1;j.__private__.setR2L=j.setR2L=function(R){return Wr=R,this},j.__private__.getR2L=j.getR2L=function(){return Wr};var fi,Ri=j.__private__.setZoomMode=function(R){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(R))gr=R;else if(isNaN(R)){if(-1===[void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(R))throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+R+'" is not recognized.');gr=R}else gr=parseInt(R,10)};j.__private__.getZoomMode=function(){return gr};var Ei,Pi=j.__private__.setPageMode=function(R){if(-1==[void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(R))throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+R+'" is not recognized.');fi=R};j.__private__.getPageMode=function(){return fi};var Ji=j.__private__.setLayoutMode=function(R){if(-1==[void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(R))throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+R+'" is not recognized.');Ei=R};j.__private__.getLayoutMode=function(){return Ei},j.__private__.setDisplayMode=j.setDisplayMode=function(R,ee,Oe){return Ri(R),Ji(ee),Pi(Oe),this};var li={title:"",subject:"",author:"",keywords:"",creator:""};j.__private__.getDocumentProperty=function(R){if(-1===Object.keys(li).indexOf(R))throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return li[R]},j.__private__.getDocumentProperties=function(){return li},j.__private__.setDocumentProperties=j.setProperties=j.setDocumentProperties=function(R){for(var ee in li)li.hasOwnProperty(ee)&&R[ee]&&(li[ee]=R[ee]);return this},j.__private__.setDocumentProperty=function(R,ee){if(-1===Object.keys(li).indexOf(R))throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return li[R]=ee};var Ti,or,Ua,Br,ou,No={},Qo={},su=[],To={},nA={},Is={},Qu={},au=null,As=0,ni=[],Yr=new Cn(j),Vn=C.hotfixes||[],mr={},uo={},Rs=[],Mr=function R(ee,Oe,At,Tt,Qe,An){if(!(this instanceof R))return new R(ee,Oe,At,Tt,Qe,An);isNaN(ee)&&(ee=1),isNaN(Oe)&&(Oe=0),isNaN(At)&&(At=0),isNaN(Tt)&&(Tt=1),isNaN(Qe)&&(Qe=0),isNaN(An)&&(An=0),this._matrix=[ee,Oe,At,Tt,Qe,An]};Object.defineProperty(Mr.prototype,"sx",{get:function(){return this._matrix[0]},set:function(R){this._matrix[0]=R}}),Object.defineProperty(Mr.prototype,"shy",{get:function(){return this._matrix[1]},set:function(R){this._matrix[1]=R}}),Object.defineProperty(Mr.prototype,"shx",{get:function(){return this._matrix[2]},set:function(R){this._matrix[2]=R}}),Object.defineProperty(Mr.prototype,"sy",{get:function(){return this._matrix[3]},set:function(R){this._matrix[3]=R}}),Object.defineProperty(Mr.prototype,"tx",{get:function(){return this._matrix[4]},set:function(R){this._matrix[4]=R}}),Object.defineProperty(Mr.prototype,"ty",{get:function(){return this._matrix[5]},set:function(R){this._matrix[5]=R}}),Object.defineProperty(Mr.prototype,"a",{get:function(){return this._matrix[0]},set:function(R){this._matrix[0]=R}}),Object.defineProperty(Mr.prototype,"b",{get:function(){return this._matrix[1]},set:function(R){this._matrix[1]=R}}),Object.defineProperty(Mr.prototype,"c",{get:function(){return this._matrix[2]},set:function(R){this._matrix[2]=R}}),Object.defineProperty(Mr.prototype,"d",{get:function(){return this._matrix[3]},set:function(R){this._matrix[3]=R}}),Object.defineProperty(Mr.prototype,"e",{get:function(){return this._matrix[4]},set:function(R){this._matrix[4]=R}}),Object.defineProperty(Mr.prototype,"f",{get:function(){return this._matrix[5]},set:function(R){this._matrix[5]=R}}),Object.defineProperty(Mr.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Mr.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Mr.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Mr.prototype,"isIdentity",{get:function(){return 1===this.sx&&0===this.shy&&0===this.shx&&1===this.sy&&0===this.tx&&0===this.ty}}),Mr.prototype.join=function(R){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(Bt).join(R)},Mr.prototype.multiply=function(R){return new Mr(R.sx*this.sx+R.shy*this.shx,R.sx*this.shy+R.shy*this.sy,R.shx*this.sx+R.sy*this.shx,R.shx*this.shy+R.sy*this.sy,R.tx*this.sx+R.ty*this.shx+this.tx,R.tx*this.shy+R.ty*this.sy+this.ty)},Mr.prototype.decompose=function(){var R=this.sx,ee=this.shy,Oe=this.shx,At=this.sy,Tt=this.tx,Qe=this.ty,An=Math.sqrt(R*R+ee*ee),vn=(R/=An)*Oe+(ee/=An)*At;Oe-=R*vn,At-=ee*vn;var Dn=Math.sqrt(Oe*Oe+At*At);return vn/=Dn,R*(At/=Dn)<ee*(Oe/=Dn)&&(R=-R,ee=-ee,vn=-vn,An=-An),{scale:new Mr(An,0,0,Dn,0,0),translate:new Mr(1,0,0,1,Tt,Qe),rotate:new Mr(R,ee,-ee,R,0,0),skew:new Mr(1,0,vn,1,0,0)}},Mr.prototype.toString=function(R){return this.join(" ")},Mr.prototype.inversed=function(){var R=this.sx,ee=this.shy,Oe=this.shx,At=this.sy,Tt=this.tx,Qe=this.ty,An=1/(R*At-ee*Oe),vn=At*An,Dn=-ee*An,vr=-Oe*An,mi=R*An;return new Mr(vn,Dn,vr,mi,-vn*Tt-vr*Qe,-Dn*Tt-mi*Qe)},Mr.prototype.applyToPoint=function(R){return new Yc(R.x*this.sx+R.y*this.shx+this.tx,R.x*this.shy+R.y*this.sy+this.ty)},Mr.prototype.applyToRectangle=function(R){var ee=this.applyToPoint(R),Oe=this.applyToPoint(new Yc(R.x+R.w,R.y+R.h));return new Ql(ee.x,ee.y,Oe.x-ee.x,Oe.y-ee.y)},Mr.prototype.clone=function(){return new Mr(this.sx,this.shy,this.shx,this.sy,this.tx,this.ty)},j.Matrix=Mr;var ns=j.matrixMult=function(R,ee){return ee.multiply(R)},Va=new Mr(1,0,0,1,0,0);j.unitMatrix=j.identityMatrix=Va;var Li=function(R,ee){if(!nA[R]){var Oe=(ee instanceof vo?"Sh":"P")+(Object.keys(To).length+1).toString(10);ee.id=Oe,nA[R]=Oe,To[Oe]=ee,Yr.publish("addPattern",ee)}};j.ShadingPattern=vo,j.TilingPattern=es,j.addShadingPattern=function(R,ee){return Ne("addShadingPattern()"),Li(R,ee),this},j.beginTilingPattern=function(R){Ne("beginTilingPattern()"),Ih(R.boundingBox[0],R.boundingBox[1],R.boundingBox[2]-R.boundingBox[0],R.boundingBox[3]-R.boundingBox[1],R.matrix)},j.endTilingPattern=function(R,ee){Ne("endTilingPattern()"),ee.stream=Hn[Ve].join("\n"),Li(R,ee),Yr.publish("endTilingPattern",ee),Rs.pop().restore()};var R,oo=j.__private__.newObject=function(){var R=Mo();return Lr(R,!0),R},Mo=j.__private__.newObjectDeferred=function(){return Et++,zt[Et]=function(){return jt},Et},Lr=function(R,ee){return ee="boolean"==typeof ee&&ee,zt[R]=jt,ee&&je(R+" 0 obj"),R},Ac=j.__private__.newAdditionalObject=function(){var R={objId:Mo(),content:""};return Gn.push(R),R},hc=Mo(),Qa=Mo(),si=j.__private__.decodeColorString=function(R){var ee=R.split(" ");if(2!==ee.length||"g"!==ee[1]&&"G"!==ee[1])5===ee.length&&("k"===ee[4]||"K"===ee[4])&&(ee=[(1-ee[0])*(1-ee[3]),(1-ee[1])*(1-ee[3]),(1-ee[2])*(1-ee[3]),"r"]);else{var Oe=parseFloat(ee[0]);ee=[Oe,Oe,Oe,"r"]}for(var At="#",Tt=0;Tt<3;Tt++)At+=("0"+Math.floor(255*parseFloat(ee[Tt])).toString(16)).slice(-2);return At},rl=j.__private__.encodeColorString=function(R){var ee;"string"==typeof R&&(R={ch1:R});var Oe=R.ch1,At=R.ch2,Tt=R.ch3,Qe=R.ch4,An="draw"===R.pdfColorType?["G","RG","K"]:["g","rg","k"];if("string"==typeof Oe&&"#"!==Oe.charAt(0)){var vn=new Wd(Oe);if(vn.ok)Oe=vn.toHex();else if(!/^\d*\.?\d*$/.test(Oe))throw new Error('Invalid color "'+Oe+'" passed to jsPDF.encodeColorString.')}if("string"==typeof Oe&&/^#[0-9A-Fa-f]{3}$/.test(Oe)&&(Oe="#"+Oe[1]+Oe[1]+Oe[2]+Oe[2]+Oe[3]+Oe[3]),"string"==typeof Oe&&/^#[0-9A-Fa-f]{6}$/.test(Oe)){var Dn=parseInt(Oe.substr(1),16);Oe=Dn>>16&255,At=Dn>>8&255,Tt=255&Dn}if(void 0===At||void 0===Qe&&Oe===At&&At===Tt)ee="string"==typeof Oe?Oe+" "+An[0]:2===R.precision?on(Oe/255)+" "+An[0]:Be(Oe/255)+" "+An[0];else if(void 0===Qe||"object"===(0,V.A)(Qe)){if(Qe&&!isNaN(Qe.a)&&0===Qe.a)return["1.","1.","1.",An[1]].join(" ");ee="string"==typeof Oe?[Oe,At,Tt,An[1]].join(" "):2===R.precision?[on(Oe/255),on(At/255),on(Tt/255),An[1]].join(" "):[Be(Oe/255),Be(At/255),Be(Tt/255),An[1]].join(" ")}else ee="string"==typeof Oe?[Oe,At,Tt,Qe,An[2]].join(" "):2===R.precision?[on(Oe),on(At),on(Tt),on(Qe),An[2]].join(" "):[Be(Oe),Be(At),Be(Tt),Be(Qe),An[2]].join(" ");return ee},ga=j.__private__.getFilters=function(){return P},Os=j.__private__.putStream=function(R){var ee=(R=R||{}).data||"",Oe=R.filters||ga(),At=R.alreadyAppliedFilters||[],Tt=R.addLength1||!1,Qe=ee.length,An=R.objectId,vn=function(va){return va};if(null!==te&&void 0===An)throw new Error("ObjectId must be passed to putStream for file encryption");null!==te&&(vn=Ta.encryptor(An,0));var Dn={};!0===Oe&&(Oe=["FlateEncode"]);var vr=R.additionalKeyValues||[],mi=(Dn=void 0!==qr.API.processDataByFilters?qr.API.processDataByFilters(ee,Oe):{data:ee,reverseChain:[]}).reverseChain+(Array.isArray(At)?At.join(" "):At.toString());if(0!==Dn.data.length&&(vr.push({key:"Length",value:Dn.data.length}),!0===Tt&&vr.push({key:"Length1",value:Qe})),0!=mi.length)if(mi.split("/").length-1==1)vr.push({key:"Filter",value:mi});else{vr.push({key:"Filter",value:"["+mi+"]"});for(var Ni=0;Ni<vr.length;Ni+=1)if("DecodeParms"===vr[Ni].key){for(var ho=[],jo=0;jo<Dn.reverseChain.split("/").length-1;jo+=1)ho.push("null");ho.push(vr[Ni].value),vr[Ni].value="["+ho.join(" ")+"]"}}je("<<");for(var Es=0;Es<vr.length;Es++)je("/"+vr[Es].key+" "+vr[Es].value);je(">>"),0!==Dn.data.length&&(je("stream"),je(vn(Dn.data)),je("endstream"))},Il=j.__private__.putPage=function(R){var ee=R.number,Oe=R.data,At=R.objId,Tt=R.contentsObjId;Lr(At,!0),je("<</Type /Page"),je("/Parent "+R.rootDictionaryObjId+" 0 R"),je("/Resources "+R.resourceDictionaryObjId+" 0 R"),je("/MediaBox ["+parseFloat(Bt(R.mediaBox.bottomLeftX))+" "+parseFloat(Bt(R.mediaBox.bottomLeftY))+" "+Bt(R.mediaBox.topRightX)+" "+Bt(R.mediaBox.topRightY)+"]"),null!==R.cropBox&&je("/CropBox ["+Bt(R.cropBox.bottomLeftX)+" "+Bt(R.cropBox.bottomLeftY)+" "+Bt(R.cropBox.topRightX)+" "+Bt(R.cropBox.topRightY)+"]"),null!==R.bleedBox&&je("/BleedBox ["+Bt(R.bleedBox.bottomLeftX)+" "+Bt(R.bleedBox.bottomLeftY)+" "+Bt(R.bleedBox.topRightX)+" "+Bt(R.bleedBox.topRightY)+"]"),null!==R.trimBox&&je("/TrimBox ["+Bt(R.trimBox.bottomLeftX)+" "+Bt(R.trimBox.bottomLeftY)+" "+Bt(R.trimBox.topRightX)+" "+Bt(R.trimBox.topRightY)+"]"),null!==R.artBox&&je("/ArtBox ["+Bt(R.artBox.bottomLeftX)+" "+Bt(R.artBox.bottomLeftY)+" "+Bt(R.artBox.topRightX)+" "+Bt(R.artBox.topRightY)+"]"),"number"==typeof R.userUnit&&1!==R.userUnit&&je("/UserUnit "+R.userUnit),Yr.publish("putPage",{objId:At,pageContext:ni[ee],pageNumber:ee,page:Oe}),je("/Contents "+Tt+" 0 R"),je(">>"),je("endobj");var Qe=Oe.join("\n");return"advanced"===gt&&(Qe+="\nQ"),Lr(Tt,!0),Os({data:Qe,filters:ga(),objectId:Tt}),je("endobj"),At},Cd=j.__private__.putPages=function(){var R,ee,Oe=[];for(R=1;R<=As;R++)ni[R].objId=Mo(),ni[R].contentsObjId=Mo();for(R=1;R<=As;R++)Oe.push(Il({number:R,data:Hn[R],objId:ni[R].objId,contentsObjId:ni[R].contentsObjId,mediaBox:ni[R].mediaBox,cropBox:ni[R].cropBox,bleedBox:ni[R].bleedBox,trimBox:ni[R].trimBox,artBox:ni[R].artBox,userUnit:ni[R].userUnit,rootDictionaryObjId:hc,resourceDictionaryObjId:Qa}));Lr(hc,!0),je("<</Type /Pages");var At="/Kids [";for(ee=0;ee<As;ee++)At+=Oe[ee]+" 0 R ";je(At+"]"),je("/Count "+As),je(">>"),je("endobj"),Yr.publish("postPutPages")},Ha=function(R){Yr.publish("putFont",{font:R,out:je,newObject:oo,putStream:Os}),!0!==R.isAlreadyPutted&&(R.objectNumber=oo(),je("<<"),je("/Type /Font"),je("/BaseFont /"+Rr(R.postScriptName)),je("/Subtype /Type1"),"string"==typeof R.encoding&&je("/Encoding /"+R.encoding),je("/FirstChar 32"),je("/LastChar 255"),je(">>"),je("endobj"))},lu=function(R){R.objectNumber=oo();var ee=[];ee.push({key:"Type",value:"/XObject"}),ee.push({key:"Subtype",value:"/Form"}),ee.push({key:"BBox",value:"["+[Bt(R.x),Bt(R.y),Bt(R.x+R.width),Bt(R.y+R.height)].join(" ")+"]"}),ee.push({key:"Matrix",value:"["+R.matrix.toString()+"]"});var Oe=R.pages[1].join("\n");Os({data:Oe,additionalKeyValues:ee,objectId:R.objectNumber}),je("endobj")},bd=function(R,ee){ee||(ee=21);var Oe=oo(),At=function(R,ee){var Oe,At=[],Tt=1/(ee-1);for(Oe=0;Oe<1;Oe+=Tt)At.push(Oe);At.push(1),0!=R[0].offset&&R.unshift({offset:0,color:R[0].color}),1!=R[R.length-1].offset&&R.push({offset:1,color:R[R.length-1].color});for(var vn="",Dn=0,vr=0;vr<At.length;vr++){for(Oe=At[vr];Oe>R[Dn+1].offset;)Dn++;var mi=R[Dn].offset,Ni=(Oe-mi)/(R[Dn+1].offset-mi),ho=R[Dn].color,jo=R[Dn+1].color;vn+=mt(Math.round((1-Ni)*ho[0]+Ni*jo[0]).toString(16))+mt(Math.round((1-Ni)*ho[1]+Ni*jo[1]).toString(16))+mt(Math.round((1-Ni)*ho[2]+Ni*jo[2]).toString(16))}return vn.trim()}(R.colors,ee),Tt=[];Tt.push({key:"FunctionType",value:"0"}),Tt.push({key:"Domain",value:"[0.0 1.0]"}),Tt.push({key:"Size",value:"["+ee+"]"}),Tt.push({key:"BitsPerSample",value:"8"}),Tt.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Tt.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Os({data:At,additionalKeyValues:Tt,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:Oe}),je("endobj"),R.objectNumber=oo(),je("<< /ShadingType "+R.type),je("/ColorSpace /DeviceRGB");var Qe="/Coords ["+Bt(parseFloat(R.coords[0]))+" "+Bt(parseFloat(R.coords[1]))+" ";Qe+=2===R.type?Bt(parseFloat(R.coords[2]))+" "+Bt(parseFloat(R.coords[3])):Bt(parseFloat(R.coords[2]))+" "+Bt(parseFloat(R.coords[3]))+" "+Bt(parseFloat(R.coords[4]))+" "+Bt(parseFloat(R.coords[5])),je(Qe+="]"),R.matrix&&je("/Matrix ["+R.matrix.toString()+"]"),je("/Function "+Oe+" 0 R"),je("/Extend [true true]"),je(">>"),je("endobj")},uu=function(R,ee){var Oe=Mo(),At=oo();ee.push({resourcesOid:Oe,objectOid:At}),R.objectNumber=At;var Tt=[];Tt.push({key:"Type",value:"/Pattern"}),Tt.push({key:"PatternType",value:"1"}),Tt.push({key:"PaintType",value:"1"}),Tt.push({key:"TilingType",value:"1"}),Tt.push({key:"BBox",value:"["+R.boundingBox.map(Bt).join(" ")+"]"}),Tt.push({key:"XStep",value:Bt(R.xStep)}),Tt.push({key:"YStep",value:Bt(R.yStep)}),Tt.push({key:"Resources",value:Oe+" 0 R"}),R.matrix&&Tt.push({key:"Matrix",value:"["+R.matrix.toString()+"]"}),Os({data:R.stream,additionalKeyValues:Tt,objectId:R.objectNumber}),je("endobj")},ur=function(R){for(var ee in R.objectNumber=oo(),je("<<"),R)switch(ee){case"opacity":je("/ca "+on(R[ee]));break;case"stroke-opacity":je("/CA "+on(R[ee]))}je(">>"),je("endobj")},$i=function(R){Lr(R.resourcesOid,!0),je("<<"),je("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),function(){for(var R in je("/Font <<"),No)No.hasOwnProperty(R)&&(!1===ue||!0===ue&&pe.hasOwnProperty(R))&&je("/"+R+" "+No[R].objectNumber+" 0 R");je(">>")}(),function(){if(Object.keys(To).length>0){for(var R in je("/Shading <<"),To)To.hasOwnProperty(R)&&To[R]instanceof vo&&To[R].objectNumber>=0&&je("/"+R+" "+To[R].objectNumber+" 0 R");Yr.publish("putShadingPatternDict"),je(">>")}}(),function(R){if(Object.keys(To).length>0){for(var ee in je("/Pattern <<"),To)To.hasOwnProperty(ee)&&To[ee]instanceof j.TilingPattern&&To[ee].objectNumber>=0&&To[ee].objectNumber<R&&je("/"+ee+" "+To[ee].objectNumber+" 0 R");Yr.publish("putTilingPatternDict"),je(">>")}}(R.objectOid),function(){if(Object.keys(Is).length>0){var R;for(R in je("/ExtGState <<"),Is)Is.hasOwnProperty(R)&&Is[R].objectNumber>=0&&je("/"+R+" "+Is[R].objectNumber+" 0 R");Yr.publish("putGStateDict"),je(">>")}}(),function(){for(var R in je("/XObject <<"),mr)mr.hasOwnProperty(R)&&mr[R].objectNumber>=0&&je("/"+R+" "+mr[R].objectNumber+" 0 R");Yr.publish("putXobjectDict"),je(">>")}(),je(">>"),je("endobj")},HA=function(R){Qo[R.fontName]=Qo[R.fontName]||{},Qo[R.fontName][R.fontStyle]=R.id},Sa=function(R,ee,Oe,At,Tt){var Qe={id:"F"+(Object.keys(No).length+1).toString(10),postScriptName:R,fontName:ee,fontStyle:Oe,encoding:At,isStandardFont:Tt||!1,metadata:{}};return Yr.publish("addFont",{font:Qe,instance:this}),No[Qe.id]=Qe,HA(Qe),Qe.id},El=j.__private__.pdfEscape=j.pdfEscape=function(R,ee){return function(R,ee){var Oe,At,Tt,Qe,An,vn,Dn,vr,mi;if(Tt=(ee=ee||{}).sourceEncoding||"Unicode",An=ee.outputEncoding,(ee.autoencode||An)&&No[Ti].metadata&&No[Ti].metadata[Tt]&&No[Ti].metadata[Tt].encoding&&(Qe=No[Ti].metadata[Tt].encoding,!An&&No[Ti].encoding&&(An=No[Ti].encoding),!An&&Qe.codePages&&(An=Qe.codePages[0]),"string"==typeof An&&(An=Qe[An]),An)){for(Dn=!1,vn=[],Oe=0,At=R.length;Oe<At;Oe++)(vr=An[R.charCodeAt(Oe)])?vn.push(String.fromCharCode(vr)):vn.push(R[Oe]),vn[Oe].charCodeAt(0)>>8&&(Dn=!0);R=vn.join("")}for(Oe=R.length;void 0===Dn&&0!==Oe;)R.charCodeAt(Oe-1)>>8&&(Dn=!0),Oe--;if(!Dn)return R;for(vn=ee.noBOM?[]:[254,255],Oe=0,At=R.length;Oe<At;Oe++){if((mi=(vr=R.charCodeAt(Oe))>>8)>>8)throw new Error("Character at position "+Oe+" of string '"+R+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");vn.push(mi),vn.push(vr-(mi<<8))}return String.fromCharCode.apply(void 0,vn)}(R,ee).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},df=j.__private__.beginPage=function(R){Hn[++As]=[],ni[As]={objId:0,contentsObjId:0,userUnit:Number(M),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(R[0]),topRightY:Number(R[1])}},op(As),pn(Hn[Ve])},oA=function(R,ee){var Oe,At,Tt;switch(y=ee||y,"string"==typeof R&&(Oe=J(R.toLowerCase()),Array.isArray(Oe)&&(At=Oe[0],Tt=Oe[1])),Array.isArray(R)&&(At=R[0]*or,Tt=R[1]*or),isNaN(At)&&(At=x[0],Tt=x[1]),(At>14400||Tt>14400)&&(Ao.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),At=Math.min(14400,At),Tt=Math.min(14400,Tt)),x=[At,Tt],y.substr(0,1)){case"l":Tt>At&&(x=[Tt,At]);break;case"p":At>Tt&&(x=[Tt,At])}df(x),mc(yi),je($u),0!==pu&&je(pu+" J"),0!==qc&&je(qc+" j"),Yr.publish("addPage",{pageNumber:As})},ip=function(R){R>0&&R<=As&&(Hn.splice(R,1),ni.splice(R,1),As--,Ve>As&&(Ve=As),this.setPage(Ve))},op=function(R){R>0&&R<=As&&(Ve=R)},Hp=j.__private__.getNumberOfPages=j.getNumberOfPages=function(){return Hn.length-1},yh=function(R,ee,Oe){var At,Tt=void 0;return Oe=Oe||{},ee=void 0!==ee?ee:No[Ti].fontStyle,At=(R=void 0!==R?R:No[Ti].fontName).toLowerCase(),void 0!==Qo[At]&&void 0!==Qo[At][ee]?Tt=Qo[At][ee]:void 0!==Qo[R]&&void 0!==Qo[R][ee]?Tt=Qo[R][ee]:!1===Oe.disableWarning&&Ao.warn("Unable to look up font label for font '"+R+"', '"+ee+"'. Refer to getFontList() for available fonts."),Tt||Oe.noFallback||null==(Tt=Qo.times[ee])&&(Tt=Qo.times.normal),Tt},jp=j.__private__.putInfo=function(){var R=oo(),ee=function(At){return At};for(var Oe in null!==te&&(ee=Ta.encryptor(R,0)),je("<<"),je("/Producer ("+El(ee("jsPDF "+qr.version))+")"),li)li.hasOwnProperty(Oe)&&li[Oe]&&je("/"+Oe.substr(0,1).toUpperCase()+Oe.substr(1)+" ("+El(ee(li[Oe]))+")");je("/CreationDate ("+El(ee(cn))+")"),je(">>"),je("endobj")},jA=j.__private__.putCatalog=function(R){var ee=(R=R||{}).rootDictionaryObjId||hc;switch(oo(),je("<<"),je("/Type /Catalog"),je("/Pages "+ee+" 0 R"),gr||(gr="fullwidth"),gr){case"fullwidth":je("/OpenAction [3 0 R /FitH null]");break;case"fullheight":je("/OpenAction [3 0 R /FitV null]");break;case"fullpage":je("/OpenAction [3 0 R /Fit]");break;case"original":je("/OpenAction [3 0 R /XYZ null null 1]");break;default:var Oe=""+gr;"%"===Oe.substr(Oe.length-1)&&(gr=parseInt(gr)/100),"number"==typeof gr&&je("/OpenAction [3 0 R /XYZ null null "+on(gr)+"]")}switch(Ei||(Ei="continuous"),Ei){case"continuous":je("/PageLayout /OneColumn");break;case"single":je("/PageLayout /SinglePage");break;case"two":case"twoleft":je("/PageLayout /TwoColumnLeft");break;case"tworight":je("/PageLayout /TwoColumnRight")}fi&&je("/PageMode /"+fi),Yr.publish("putCatalog"),je(">>"),je("endobj")},zp=j.__private__.putTrailer=function(){je("trailer"),je("<<"),je("/Size "+(Et+1)),je("/Root "+Et+" 0 R"),je("/Info "+(Et-1)+" 0 R"),null!==te&&je("/Encrypt "+Ta.oid+" 0 R"),je("/ID [ <"+Jt+"> <"+Jt+"> ]"),je(">>")},Af=j.__private__.putHeader=function(){je("%PDF-"+Pe),je("%\xba\xdf\xac\xe0")},_h=j.__private__.putXRef=function(){var R="0000000000";je("xref"),je("0 "+(Et+1)),je("0000000000 65535 f ");for(var ee=1;ee<=Et;ee++)je("function"==typeof zt[ee]?(R+zt[ee]()).slice(-10)+" 00000 n ":void 0!==zt[ee]?(R+zt[ee]).slice(-10)+" 00000 n ":"0000000000 00000 n ")},gc=j.__private__.buildDocument=function(){Et=0,jt=0,Wt=[],zt=[],Gn=[],hc=Mo(),Qa=Mo(),pn(Wt),Yr.publish("buildDocument"),Af(),Cd(),function(){Yr.publish("putAdditionalObjects");for(var R=0;R<Gn.length;R++){var ee=Gn[R];Lr(ee.objId,!0),je(ee.content),je("endobj")}Yr.publish("postPutAdditionalObjects")}(),function(){var R=[];(function(){for(var R in No)No.hasOwnProperty(R)&&(!1===ue||!0===ue&&pe.hasOwnProperty(R))&&Ha(No[R])})(),function(){var R;for(R in Is)Is.hasOwnProperty(R)&&ur(Is[R])}(),function(){for(var R in mr)mr.hasOwnProperty(R)&&lu(mr[R])}(),function(R){var ee;for(ee in To)To.hasOwnProperty(ee)&&(To[ee]instanceof vo?bd(To[ee]):To[ee]instanceof es&&uu(To[ee],R))}(R),Yr.publish("putResources"),R.forEach($i),$i({resourcesOid:Qa,objectOid:Number.MAX_SAFE_INTEGER}),Yr.publish("postPutResources")}(),null!==te&&(Ta.oid=oo(),je("<<"),je("/Filter /Standard"),je("/V "+Ta.v),je("/R "+Ta.r),je("/U <"+Ta.toHexString(Ta.U)+">"),je("/O <"+Ta.toHexString(Ta.O)+">"),je("/P "+Ta.P),je(">>"),je("endobj")),jp(),jA();var R=jt;return _h(),zp(),je("startxref"),je(""+R),je("%%EOF"),pn(Hn[Ve]),Wt.join("\n")},Hu=j.__private__.getBlob=function(R){return new Blob([Ur(R)],{type:"application/pdf"})},wh=j.output=j.__private__.output=((R=function(R,ee){switch("string"==typeof(ee=ee||{})?ee={filename:ee}:ee.filename=ee.filename||"generated.pdf",R){case void 0:return gc();case"save":j.save(ee.filename);break;case"arraybuffer":return Ur(gc());case"blob":return Hu(gc());case"bloburi":case"bloburl":if(void 0!==nr.URL&&"function"==typeof nr.URL.createObjectURL)return nr.URL&&nr.URL.createObjectURL(Hu(gc()))||void 0;Ao.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var Oe="",At=gc();try{Oe=vl(At)}catch{Oe=vl(unescape(encodeURIComponent(At)))}return"data:application/pdf;filename="+ee.filename+";base64,"+Oe;case"pdfobjectnewwindow":if("[object Window]"===Object.prototype.toString.call(nr)){var Tt="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Qe=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';ee.pdfObjectUrl&&(Tt=ee.pdfObjectUrl,Qe="");var An='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Tt+'"'+Qe+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(ee)+");<\/script></body></html>",vn=nr.open();return null!==vn&&vn.document.write(An),vn}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if("[object Window]"===Object.prototype.toString.call(nr)){var Dn='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(ee.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+ee.filename+'" width="500px" height="400px" /></body></html>',vr=nr.open();if(null!==vr){vr.document.write(Dn);var mi=this;vr.document.documentElement.querySelector("#pdfViewer").onload=function(){vr.document.title=ee.filename,vr.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(mi.output("bloburl"))}}return vr}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if("[object Window]"!==Object.prototype.toString.call(nr))throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Ni='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",ee)+'"></iframe></body></html>',ho=nr.open();if(null!==ho&&(ho.document.write(Ni),ho.document.title=ee.filename),ho||typeof safari>"u")return ho;break;case"datauri":case"dataurl":return nr.document.location.href=this.output("datauristring",ee);default:return null}}).foo=function(){try{return R.apply(this,arguments)}catch(At){var ee=At.stack||"";~ee.indexOf(" at ")&&(ee=ee.split(" at ")[1]);var Oe="Error in function "+ee.split("\n")[0].split("<")[0]+": "+At.message;if(!nr.console)throw new Error(Oe);nr.console.error(Oe,At),nr.alert&&alert(Oe)}},R.foo.bar=R,R.foo),hf=function(R){return!0===Array.isArray(Vn)&&Vn.indexOf(R)>-1};switch(S){case"pt":or=1;break;case"mm":or=72/25.4;break;case"cm":or=72/2.54;break;case"in":or=72;break;case"px":or=1==hf("px_scaling")?.75:96/72;break;case"pc":case"em":or=12;break;case"ex":or=6;break;default:if("number"!=typeof S)throw new Error("Invalid unit: "+S);or=S}var Ta=null;lr(),Ht();var zA=j.__private__.getPageInfo=j.getPageInfo=function(R){if(isNaN(R)||R%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:ni[R].objId,pageNumber:R,pageContext:ni[R]}},di=j.__private__.getPageInfoByObjId=function(R){if(isNaN(R)||R%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var ee in ni)if(ni[ee].objId===R)break;return zA(ee)},$s=j.__private__.getCurrentPageInfo=j.getCurrentPageInfo=function(){return{objId:ni[Ve].objId,pageNumber:Ve,pageContext:ni[Ve]}};j.addPage=function(){return oA.apply(this,arguments),this},j.setPage=function(){return op.apply(this,arguments),pn.call(this,Hn[Ve]),this},j.insertPage=function(R){return this.addPage(),this.movePage(Ve,R),this},j.movePage=function(R,ee){var Oe,At;if(R>ee){Oe=Hn[R],At=ni[R];for(var Tt=R;Tt>ee;Tt--)Hn[Tt]=Hn[Tt-1],ni[Tt]=ni[Tt-1];Hn[ee]=Oe,ni[ee]=At,this.setPage(ee)}else if(R<ee){Oe=Hn[R],At=ni[R];for(var Qe=R;Qe<ee;Qe++)Hn[Qe]=Hn[Qe+1],ni[Qe]=ni[Qe+1];Hn[ee]=Oe,ni[ee]=At,this.setPage(ee)}return this},j.deletePage=function(){return ip.apply(this,arguments),this},j.__private__.text=j.text=function(R,ee,Oe,At,Tt){var Qe,An,vn,Dn,vr,mi,Ni,ho,jo,Es=(At=At||{}).scope||this;if("number"==typeof R&&"number"==typeof ee&&("string"==typeof Oe||Array.isArray(Oe))){var va=Oe;Oe=ee,ee=R,R=va}if(arguments[3]instanceof Mr?(Ne("The transform parameter of text() with a Matrix value"),jo=Tt):(vn=arguments[4],Dn=arguments[5],"object"===(0,V.A)(Ni=arguments[3])&&null!==Ni||("string"==typeof vn&&(Dn=vn,vn=null),"string"==typeof Ni&&(Dn=Ni,Ni=null),"number"==typeof Ni&&(vn=Ni,Ni=null),At={flags:Ni,angle:vn,align:Dn})),isNaN(ee)||isNaN(Oe)||null==R)throw new Error("Invalid arguments passed to jsPDF.text");if(0===R.length)return Es;var Sl,ra="",Bo="number"==typeof At.lineHeightFactor?At.lineHeightFactor:Wc,Ba=Es.internal.scaleFactor;function Bd(yo){return yo=yo.split("\t").join(Array(At.TabLen||9).join(" ")),El(yo,Ni)}function ja(yo){for(var Do,ws=yo.concat(),Vs=[],_u=ws.length;_u--;)"string"==typeof(Do=ws.shift())?Vs.push(Do):Array.isArray(yo)&&(1===Do.length||void 0===Do[1]&&void 0===Do[2])?Vs.push(Do[0]):Vs.push([Do[0],Do[1],Do[2]]);return Vs}function za(yo,Do){var ws;if("string"==typeof yo)ws=Do(yo)[0];else if(Array.isArray(yo)){for(var Vs,_u,Pd=yo.concat(),Th=[],sp=Pd.length;sp--;)"string"==typeof(Vs=Pd.shift())?Th.push(Do(Vs)[0]):Array.isArray(Vs)&&"string"==typeof Vs[0]&&(_u=Do(Vs[0],Vs[1],Vs[2]),Th.push([_u[0],_u[1],_u[2]]));ws=Th}return ws}var Dd=!1,gu=!0;if("string"==typeof R)Dd=!0;else if(Array.isArray(R)){var dA=R.concat();An=[];for(var Xc,$a=dA.length;$a--;)("string"!=typeof(Xc=dA.shift())||Array.isArray(Xc)&&"string"!=typeof Xc[0])&&(gu=!1);Dd=gu}if(!1===Dd)throw new Error('Type of text must be string or Array. "'+R+'" is not recognized.');"string"==typeof R&&(R=R.match(/[\r?\n]/)?R.split(/\r\n|\r|\n/g):[R]);var xd=Xn/Es.internal.scaleFactor,Fd=xd*(Bo-1);switch(At.baseline){case"bottom":Oe-=Fd;break;case"top":Oe+=xd-Fd;break;case"hanging":Oe+=xd-2*Fd;break;case"middle":Oe+=xd/2-Fd}if((mi=At.maxWidth||0)>0&&("string"==typeof R?R=Es.splitTextToSize(R,mi):"[object Array]"===Object.prototype.toString.call(R)&&(R=R.reduce(function(yo,Do){return yo.concat(Es.splitTextToSize(Do,mi))},[]))),Yr.publish("preProcessText",Qe={text:R,x:ee,y:Oe,options:At,mutex:{pdfEscape:El,activeFontKey:Ti,fonts:No,activeFontSize:Xn}}),R=Qe.text,vn=(At=Qe.options).angle,jo instanceof Mr||!vn||"number"!=typeof vn)vn&&vn instanceof Mr&&(jo=vn);else{vn*=Math.PI/180,0===At.rotationDirection&&(vn=-vn),"advanced"===gt&&(vn=-vn);var _c=Math.cos(vn),YA=Math.sin(vn);jo=new Mr(_c,YA,-YA,_c,0,0)}"advanced"!==gt||jo||(jo=Va),void 0!==(vr=At.charSpace||Td)&&(ra+=Bt(we(vr))+" Tc\n",this.setCharSpace(this.getCharSpace()||0)),void 0!==(ho=At.horizontalScale)&&(ra+=Bt(100*ho)+" Tz\n");var Ga=-1,XA=void 0!==At.renderingMode?At.renderingMode:At.stroke,Hl=Es.internal.getCurrentPageInfo().pageContext;switch(XA){case 0:case!1:case"fill":Ga=0;break;case 1:case!0:case"stroke":Ga=1;break;case 2:case"fillThenStroke":Ga=2;break;case 3:case"invisible":Ga=3;break;case 4:case"fillAndAddForClipping":Ga=4;break;case 5:case"strokeAndAddPathForClipping":Ga=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Ga=6;break;case 7:case"addToPathForClipping":Ga=7}-1!==Ga?ra+=Ga+" Tr\n":-1!==(void 0!==Hl.usedRenderingMode?Hl.usedRenderingMode:-1)&&(ra+="0 Tr\n"),-1!==Ga&&(Hl.usedRenderingMode=Ga),Dn=At.align||"left";var jl,Jc=Xn*Bo,Sh=Es.internal.pageSize.getWidth(),kd=No[Ti];vr=At.charSpace||Td,mi=At.maxWidth||0,Ni=Object.assign({autoencode:!0,noBOM:!0},At.flags);var rs=[];if("[object Array]"===Object.prototype.toString.call(R)){var ia;An=ja(R),"left"!==Dn&&(jl=An.map(function(yo){return Es.getStringUnitWidth(yo,{font:kd,charSpace:vr,fontSize:Xn,doKerning:!1})*Xn/Ba}));var Oi,Rd=0;if("right"===Dn){ee-=jl[0],R=[],$a=An.length;for(var Wu=0;Wu<$a;Wu++)0===Wu?(Oi=ol(ee),ia=Gs(Oe)):(Oi=we(Rd-jl[Wu]),ia=-Jc),R.push([An[Wu],Oi,ia]),Rd=jl[Wu]}else if("center"===Dn){ee-=jl[0]/2,R=[],$a=An.length;for(var mu=0;mu<$a;mu++)0===mu?(Oi=ol(ee),ia=Gs(Oe)):(Oi=we((Rd-jl[mu])/2),ia=-Jc),R.push([An[mu],Oi,ia]),Rd=jl[mu]}else if("left"===Dn){R=[],$a=An.length;for(var JA=0;JA<$a;JA++)R.push(An[JA])}else{if("justify"!==Dn)throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');R=[],$a=An.length,mi=0!==mi?mi:Sh;for(var vu=0;vu<$a;vu++)ia=0===vu?Gs(Oe):-Jc,Oi=0===vu?ol(ee):0,rs.push(vu<$a-1?Bt(we((mi-jl[vu])/(An[vu].split(" ").length-1))):0),R.push([An[vu],Oi,ia])}}!0===("boolean"==typeof At.R2L?At.R2L:Wr)&&(R=za(R,function(yo,Do,ws){return[yo.split("").reverse().join(""),Do,ws]})),Yr.publish("postProcessText",Qe={text:R,x:ee,y:Oe,options:At,mutex:{pdfEscape:El,activeFontKey:Ti,fonts:No,activeFontSize:Xn}}),R=Qe.text,Sl=Qe.mutex.isHex||!1;var wc=No[Ti].encoding;"WinAnsiEncoding"!==wc&&"StandardEncoding"!==wc||(R=za(R,function(yo,Do,ws){return[Bd(yo),Do,ws]})),An=ja(R),R=[];for(var Gi,ya,oa,al=Array.isArray(An[0])?1:0,sa="",hA=function(yo,Do,ws){var Vs="";return ws instanceof Mr?(ws="number"==typeof At.angle?ns(ws,new Mr(1,0,0,1,yo,Do)):ns(new Mr(1,0,0,1,yo,Do),ws),"advanced"===gt&&(ws=ns(new Mr(1,0,0,-1,0,0),ws)),Vs=ws.join(" ")+" Tm\n"):Vs=Bt(yo)+" "+Bt(Do)+" Td\n",Vs},zl=0;zl<An.length;zl++){switch(sa="",al){case 1:oa=(Sl?"<":"(")+An[zl][0]+(Sl?">":")"),Gi=parseFloat(An[zl][1]),ya=parseFloat(An[zl][2]);break;case 0:oa=(Sl?"<":"(")+An[zl]+(Sl?">":")"),Gi=ol(ee),ya=Gs(Oe)}void 0!==rs&&void 0!==rs[zl]&&(sa=rs[zl]+" Tw\n"),0===zl?R.push(sa+hA(Gi,ya,jo)+oa):0===al?R.push(sa+oa):1===al&&R.push(sa+hA(Gi,ya,jo)+oa)}R=R.join(0===al?" Tj\nT* ":" Tj\n"),R+=" Tj\n";var _a="BT\n/";return _a+=Ti+" "+Xn+" Tf\n",_a+=Bt(Xn*Bo)+" TL\n",_a+=Sd+"\n",_a+=ra,_a+=R,je(_a+="ET"),pe[Ti]=!0,Es};var $A=j.__private__.clip=j.clip=function(R){return je("evenodd"===R?"W*":"W"),this};j.clipEvenOdd=function(){return $A("evenodd")},j.__private__.discardPath=j.discardPath=function(){return je("n"),this};var Au=j.__private__.isValidStyle=function(R){var ee=!1;return-1!==[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(R)&&(ee=!0),ee};j.__private__.setDefaultPathOperation=j.setDefaultPathOperation=function(R){return Au(R)&&(G=R),this};var ff=j.__private__.getStyle=j.getStyle=function(R){var ee=G;switch(R){case"D":case"S":ee="S";break;case"F":ee="f";break;case"FD":case"DF":ee="B";break;case"f":case"f*":case"B":case"B*":ee=R}return ee},GA=j.close=function(){return je("h"),this};j.stroke=function(){return je("S"),this},j.fill=function(R){return ju("f",R),this},j.fillEvenOdd=function(R){return ju("f*",R),this},j.fillStroke=function(R){return ju("B",R),this},j.fillStrokeEvenOdd=function(R){return ju("B*",R),this};var ju=function(R,ee){"object"===(0,V.A)(ee)?KA(ee,R):je(R)},aA=function(R){null===R||"advanced"===gt&&void 0===R||(R=ff(R),je(R))};function WA(R,ee,Oe,At,Tt){var Qe=new es(ee||this.boundingBox,Oe||this.xStep,At||this.yStep,this.gState,Tt||this.matrix);Qe.stream=this.stream;var An=R+"$$"+this.cloneIndex+++"$$";return Li(An,Qe),Qe}var KA=function(R,ee){var Oe=nA[R.key],At=To[Oe];if(At instanceof vo)je("q"),je(Vl(ee)),At.gState&&j.setGState(At.gState),je(R.matrix.toString()+" cm"),je("/"+Oe+" sh"),je("Q");else if(At instanceof es){var Tt=new Mr(1,0,0,-1,0,Gu());R.matrix&&(Tt=Tt.multiply(R.matrix||Va),Oe=WA.call(At,R.key,R.boundingBox,R.xStep,R.yStep,Tt).id),je("q"),je("/Pattern cs"),je("/"+Oe+" scn"),At.gState&&j.setGState(At.gState),je(ee),je("Q")}},Vl=function(R){switch(R){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},lA=j.moveTo=function(R,ee){return je(Bt(we(R))+" "+Bt(ct(ee))+" m"),this},hu=j.lineTo=function(R,ee){return je(Bt(we(R))+" "+Bt(ct(ee))+" l"),this},Gc=j.curveTo=function(R,ee,Oe,At,Tt,Qe){return je([Bt(we(R)),Bt(ct(ee)),Bt(we(Oe)),Bt(ct(At)),Bt(we(Tt)),Bt(ct(Qe)),"c"].join(" ")),this};j.__private__.line=j.line=function(R,ee,Oe,At,Tt){if(isNaN(R)||isNaN(ee)||isNaN(Oe)||isNaN(At)||!Au(Tt))throw new Error("Invalid arguments passed to jsPDF.line");return"compat"===gt?this.lines([[Oe-R,At-ee]],R,ee,[1,1],Tt||"S"):this.lines([[Oe-R,At-ee]],R,ee,[1,1]).stroke()},j.__private__.lines=j.lines=function(R,ee,Oe,At,Tt,Qe){var An,vn,Dn,vr,mi,va,ra,Sl;if("number"==typeof R&&(Sl=Oe,Oe=ee,ee=R,R=Sl),At=At||[1,1],Qe=Qe||!1,isNaN(ee)||isNaN(Oe)||!Array.isArray(R)||!Array.isArray(At)||!Au(Tt)||"boolean"!=typeof Qe)throw new Error("Invalid arguments passed to jsPDF.lines");for(lA(ee,Oe),An=At[0],vn=At[1],vr=R.length,va=ee,ra=Oe,Dn=0;Dn<vr;Dn++)2===(mi=R[Dn]).length?hu(va=mi[0]*An+va,ra=mi[1]*vn+ra):Gc(mi[0]*An+va,mi[1]*vn+ra,mi[2]*An+va,mi[3]*vn+ra,va=mi[4]*An+va,ra=mi[5]*vn+ra);return Qe&&GA(),aA(Tt),this},j.path=function(R){for(var ee=0;ee<R.length;ee++){var Oe=R[ee],At=Oe.c;switch(Oe.op){case"m":lA(At[0],At[1]);break;case"l":hu(At[0],At[1]);break;case"c":Gc.apply(this,At);break;case"h":GA()}}return this},j.__private__.rect=j.rect=function(R,ee,Oe,At,Tt){if(isNaN(R)||isNaN(ee)||isNaN(Oe)||isNaN(At)||!Au(Tt))throw new Error("Invalid arguments passed to jsPDF.rect");return"compat"===gt&&(At=-At),je([Bt(we(R)),Bt(ct(ee)),Bt(we(Oe)),Bt(we(At)),"re"].join(" ")),aA(Tt),this},j.__private__.triangle=j.triangle=function(R,ee,Oe,At,Tt,Qe,An){if(isNaN(R)||isNaN(ee)||isNaN(Oe)||isNaN(At)||isNaN(Tt)||isNaN(Qe)||!Au(An))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[Oe-R,At-ee],[Tt-Oe,Qe-At],[R-Tt,ee-Qe]],R,ee,[1,1],An,!0),this},j.__private__.roundedRect=j.roundedRect=function(R,ee,Oe,At,Tt,Qe,An){if(isNaN(R)||isNaN(ee)||isNaN(Oe)||isNaN(At)||isNaN(Tt)||isNaN(Qe)||!Au(An))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var vn=4/3*(Math.SQRT2-1);return Tt=Math.min(Tt,.5*Oe),Qe=Math.min(Qe,.5*At),this.lines([[Oe-2*Tt,0],[Tt*vn,0,Tt,Qe-Qe*vn,Tt,Qe],[0,At-2*Qe],[0,Qe*vn,-Tt*vn,Qe,-Tt,Qe],[2*Tt-Oe,0],[-Tt*vn,0,-Tt,-Qe*vn,-Tt,-Qe],[0,2*Qe-At],[0,-Qe*vn,Tt*vn,-Qe,Tt,-Qe]],R+Tt,ee,[1,1],An,!0),this},j.__private__.ellipse=j.ellipse=function(R,ee,Oe,At,Tt){if(isNaN(R)||isNaN(ee)||isNaN(Oe)||isNaN(At)||!Au(Tt))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Qe=4/3*(Math.SQRT2-1)*Oe,An=4/3*(Math.SQRT2-1)*At;return lA(R+Oe,ee),Gc(R+Oe,ee-An,R+Qe,ee-At,R,ee-At),Gc(R-Qe,ee-At,R-Oe,ee-An,R-Oe,ee),Gc(R-Oe,ee+An,R-Qe,ee+At,R,ee+At),Gc(R+Qe,ee+At,R+Oe,ee+An,R+Oe,ee),aA(Tt),this},j.__private__.circle=j.circle=function(R,ee,Oe,At){if(isNaN(R)||isNaN(ee)||isNaN(Oe)||!Au(At))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(R,ee,Oe,Oe,At)},j.setFont=function(R,ee,Oe){return Oe&&(ee=St(ee,Oe)),Ti=yh(R,ee,{disableWarning:!1}),this};var Ch=j.__private__.getFont=j.getFont=function(){return No[yh.apply(j,arguments)]};j.__private__.getFontList=j.getFontList=function(){var R,ee,Oe={};for(R in Qo)if(Qo.hasOwnProperty(R))for(ee in Oe[R]=[],Qo[R])Qo[R].hasOwnProperty(ee)&&Oe[R].push(ee);return Oe},j.addFont=function(R,ee,Oe,At,Tt){var Qe=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&-1!==Qe.indexOf(arguments[3])?Tt=arguments[3]:arguments[3]&&-1==Qe.indexOf(arguments[3])&&(Oe=St(Oe,At)),Sa.call(this,R,ee,Oe,Tt=Tt||"Identity-H")};var Wc,yi=C.lineWidth||.200025,zu=j.__private__.getLineWidth=j.getLineWidth=function(){return yi},mc=j.__private__.setLineWidth=j.setLineWidth=function(R){return yi=R,je(Bt(we(R))+" w"),this};j.__private__.setLineDash=qr.API.setLineDash=qr.API.setLineDashPattern=function(R,ee){if(R=R||[],ee=ee||0,isNaN(ee)||!Array.isArray(R))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return R=R.map(function(Oe){return Bt(we(Oe))}).join(" "),ee=Bt(we(ee)),je("["+R+"] "+ee+" d"),this};var ma=j.__private__.getLineHeight=j.getLineHeight=function(){return Xn*Wc};j.__private__.getLineHeight=j.getLineHeight=function(){return Xn*Wc};var bh=j.__private__.setLineHeightFactor=j.setLineHeightFactor=function(R){return"number"==typeof(R=R||1.15)&&(Wc=R),this},Kc=j.__private__.getLineHeightFactor=j.getLineHeightFactor=function(){return Wc};bh(C.lineHeight);var ol=j.__private__.getHorizontalCoordinate=function(R){return we(R)},Gs=j.__private__.getVerticalCoordinate=function(R){return"advanced"===gt?R:ni[Ve].mediaBox.topRightY-ni[Ve].mediaBox.bottomLeftY-we(R)},pf=j.__private__.getHorizontalCoordinateString=j.getHorizontalCoordinateString=function(R){return Bt(ol(R))},fu=j.__private__.getVerticalCoordinateString=j.getVerticalCoordinateString=function(R){return Bt(Gs(R))},$u=C.strokeColor||"0 G";j.__private__.getStrokeColor=j.getDrawColor=function(){return si($u)},j.__private__.setStrokeColor=j.setDrawColor=function(R,ee,Oe,At){return $u=rl({ch1:R,ch2:ee,ch3:Oe,ch4:At,pdfColorType:"draw",precision:2}),je($u),this};var sl=C.fillColor||"0 g";j.__private__.getFillColor=j.getFillColor=function(){return si(sl)},j.__private__.setFillColor=j.setFillColor=function(R,ee,Oe,At){return sl=rl({ch1:R,ch2:ee,ch3:Oe,ch4:At,pdfColorType:"fill",precision:2}),je(sl),this};var Sd=C.textColor||"0 g",uA=j.__private__.getTextColor=j.getTextColor=function(){return si(Sd)};j.__private__.setTextColor=j.setTextColor=function(R,ee,Oe,At){return Sd=rl({ch1:R,ch2:ee,ch3:Oe,ch4:At,pdfColorType:"text",precision:3}),this};var Td=C.charSpace,Us=j.__private__.getCharSpace=j.getCharSpace=function(){return parseFloat(Td||0)};j.__private__.setCharSpace=j.setCharSpace=function(R){if(isNaN(R))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Td=R,this};var pu=0;j.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},j.__private__.setLineCap=j.setLineCap=function(R){var ee=j.CapJoinStyles[R];if(void 0===ee)throw new Error("Line cap style of '"+R+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return pu=ee,je(ee+" J"),this};var qc=0;j.__private__.setLineJoin=j.setLineJoin=function(R){var ee=j.CapJoinStyles[R];if(void 0===ee)throw new Error("Line join style of '"+R+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return qc=ee,je(ee+" j"),this},j.__private__.setLineMiterLimit=j.__private__.setMiterLimit=j.setLineMiterLimit=j.setMiterLimit=function(R){if(R=R||0,isNaN(R))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return je(Bt(we(R))+" M"),this},j.GState=Po,j.setGState=function(R){(R="string"==typeof R?Is[Qu[R]]:vc(null,R)).equals(au)||(je("/"+R.id+" gs"),au=R)};var vc=function(R,ee){if(!R||!Qu[R]){var Oe=!1;for(var At in Is)if(Is.hasOwnProperty(At)&&Is[At].equals(ee)){Oe=!0;break}if(Oe)ee=Is[At];else{var Tt="GS"+(Object.keys(Is).length+1).toString(10);Is[Tt]=ee,ee.id=Tt}return R&&(Qu[R]=ee.id),Yr.publish("addGState",ee),ee}};j.addGState=function(R,ee){return vc(R,ee),this},j.saveGraphicsState=function(){return je("q"),su.push({key:Ti,size:Xn,color:Sd}),this},j.restoreGraphicsState=function(){je("Q");var R=su.pop();return Ti=R.key,Xn=R.size,Sd=R.color,au=null,this},j.setCurrentTransformationMatrix=function(R){return je(R.toString()+" cm"),this},j.comment=function(R){return je("#"+R),this};var Yc=function(R,ee){var Oe=R||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return Oe},set:function(Qe){isNaN(Qe)||(Oe=parseFloat(Qe))}});var At=ee||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return At},set:function(Qe){isNaN(Qe)||(At=parseFloat(Qe))}});var Tt="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Tt},set:function(Qe){Tt=Qe.toString()}}),this},Ql=function(R,ee,Oe,At){Yc.call(this,R,ee),this.type="rect";var Tt=Oe||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Tt},set:function(An){isNaN(An)||(Tt=parseFloat(An))}});var Qe=At||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Qe},set:function(An){isNaN(An)||(Qe=parseFloat(An))}}),this},ri=function(){this.page=As,this.currentPage=Ve,this.pages=Hn.slice(0),this.pagesContext=ni.slice(0),this.x=Ua,this.y=Br,this.matrix=ou,this.width=cA(Ve),this.height=Gu(Ve),this.outputDestination=Tr,this.id="",this.objectNumber=-1};ri.prototype.restore=function(){As=this.page,ni=this.pagesContext,Hn=this.pages,Ua=this.x,Br=this.y,ou=this.matrix,Eh(Ve=this.currentPage,this.width),yc(Ve,this.height),Tr=this.outputDestination};var Ih=function(R,ee,Oe,At,Tt){Rs.push(new ri),As=Ve=0,Hn=[],Ua=R,Br=ee,ou=Tt,df([Oe,At])};for(var qA in j.beginFormObject=function(R,ee,Oe,At,Tt){return Ih(R,ee,Oe,At,Tt),this},j.endFormObject=function(R){return function(R){if(uo[R])Rs.pop().restore();else{var ee=new ri,Oe="Xo"+(Object.keys(mr).length+1).toString(10);ee.id=Oe,uo[R]=Oe,mr[Oe]=ee,Yr.publish("addFormObject",ee),Rs.pop().restore()}}(R),this},j.doFormObject=function(R,ee){var Oe=mr[uo[R]];return je("q"),je(ee.toString()+" cm"),je("/"+Oe.id+" Do"),je("Q"),this},j.getFormObject=function(R){var ee=mr[uo[R]];return{x:ee.x,y:ee.y,width:ee.width,height:ee.height,matrix:ee.matrix}},j.save=function(R,ee){return R=R||"generated.pdf",(ee=ee||{}).returnPromise=ee.returnPromise||!1,!1===ee.returnPromise?(zi(Hu(gc()),R),"function"==typeof zi.unload&&nr.setTimeout&&setTimeout(zi.unload,911),this):new Promise(function(Oe,At){try{var Tt=zi(Hu(gc()),R);"function"==typeof zi.unload&&nr.setTimeout&&setTimeout(zi.unload,911),Oe(Tt)}catch(Qe){At(Qe.message)}})},qr.API)qr.API.hasOwnProperty(qA)&&("events"===qA&&qr.API.events.length?function(R,ee){var At,Tt;for(Tt=ee.length-1;-1!==Tt;Tt--)R.subscribe.apply(R,[ee[Tt][0]].concat("function"==typeof(At=ee[Tt][1])?[At]:At))}(Yr,qr.API.events):j[qA]=qr.API[qA]);var cA=j.getPageWidth=function(R){return(ni[R=R||Ve].mediaBox.topRightX-ni[R].mediaBox.bottomLeftX)/or},Eh=j.setPageWidth=function(R,ee){ni[R].mediaBox.topRightX=ee*or+ni[R].mediaBox.bottomLeftX},Gu=j.getPageHeight=function(R){return(ni[R=R||Ve].mediaBox.topRightY-ni[R].mediaBox.bottomLeftY)/or},yc=j.setPageHeight=function(R,ee){ni[R].mediaBox.topRightY=ee*or+ni[R].mediaBox.bottomLeftY};return j.internal={pdfEscape:El,getStyle:ff,getFont:Ch,getFontSize:ir,getCharSpace:Us,getTextColor:uA,getLineHeight:ma,getLineHeightFactor:Kc,getLineWidth:zu,write:ti,getHorizontalCoordinate:ol,getVerticalCoordinate:Gs,getCoordinateString:pf,getVerticalCoordinateString:fu,collections:{},newObject:oo,newAdditionalObject:Ac,newObjectDeferred:Mo,newObjectDeferredBegin:Lr,getFilters:ga,putStream:Os,events:Yr,scaleFactor:or,pageSize:{getWidth:function(){return cA(Ve)},setWidth:function(R){Eh(Ve,R)},getHeight:function(){return Gu(Ve)},setHeight:function(R){yc(Ve,R)}},encryptionOptions:te,encryption:Ta,getEncryptor:function(R){return null!==te?Ta.encryptor(R,0):function(ee){return ee}},output:wh,getNumberOfPages:Hp,pages:Hn,out:je,f2:on,f3:Be,getPageInfo:zA,getPageInfoByObjId:di,getCurrentPageInfo:$s,getPDFVersion:be,Point:Yc,Rectangle:Ql,Matrix:Mr,hasHotfix:hf},Object.defineProperty(j.internal.pageSize,"width",{get:function(){return cA(Ve)},set:function(R){Eh(Ve,R)},enumerable:!0,configurable:!0}),Object.defineProperty(j.internal.pageSize,"height",{get:function(){return Gu(Ve)},set:function(R){yc(Ve,R)},enumerable:!0,configurable:!0}),function(R){for(var ee=0,Oe=Qn.length;ee<Oe;ee++){var At=Sa.call(this,R[ee][0],R[ee][1],R[ee][2],Qn[ee][3],!0);!1===ue&&(pe[At]=!0);var Tt=R[ee][0].split("-");HA({id:At,fontName:Tt[0],fontStyle:Tt[1]||""})}Yr.publish("addFonts",{fonts:No,dictionary:Qo})}.call(j,Qn),Ti="F1",oA(x,y),Yr.publish("initialized"),j}dr.prototype.lsbFirstWord=function(C){return String.fromCharCode(255&C,C>>8&255,C>>16&255,C>>24&255)},dr.prototype.toHexString=function(C){return C.split("").map(function(g){return("0"+(255&g.charCodeAt(0)).toString(16)).slice(-2)}).join("")},dr.prototype.hexToBytes=function(C){for(var g=[],y=0;y<C.length;y+=2)g.push(String.fromCharCode(parseInt(C.substr(y,2),16)));return g.join("")},dr.prototype.processOwnerPassword=function(C,g){return Bn(mn(g).substr(0,5),C)},dr.prototype.encryptor=function(C,g){var y=mn(this.encryptionKey+String.fromCharCode(255&C,C>>8&255,C>>16&255,255&g,g>>8&255)).substr(0,10);return function(S){return Bn(y,S)}},Po.prototype.equals=function(C){var g,y="id,objectNumber,equals";if(!C||(0,V.A)(C)!==(0,V.A)(this))return!1;var S=0;for(g in this)if(!(y.indexOf(g)>=0)){if(this.hasOwnProperty(g)&&!C.hasOwnProperty(g)||this[g]!==C[g])return!1;S++}for(g in C)C.hasOwnProperty(g)&&y.indexOf(g)<0&&S--;return 0===S},qr.API={events:[]},qr.version="2.5.1";var Xi=qr.API,zs=1,Za=function(C){return C.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},yl=function(C){return C.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},ci=function(C){return C.toFixed(2)},Mu=function(C){return C.toFixed(5)};Xi.__acroform__={};var Un=function(C,g){C.prototype=Object.create(g.prototype),C.prototype.constructor=C},ef=function(C){return C*zs},el=function(C){var g=new lo,y=fr.internal.getHeight(C)||0,S=fr.internal.getWidth(C)||0;return g.BBox=[0,0,Number(ci(S)),Number(ci(y))],g},ep=Xi.__acroform__.setBit=function(C,g){if(C=C||0,g=g||0,isNaN(C)||isNaN(g))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return C|1<<g},MA=Xi.__acroform__.clearBit=function(C,g){if(C=C||0,g=g||0,isNaN(C)||isNaN(g))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return C&~(1<<g)},em=Xi.__acroform__.getBit=function(C,g){if(isNaN(C)||isNaN(g))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return C&1<<g?1:0},cs=Xi.__acroform__.getBitForPdf=function(C,g){if(isNaN(C)||isNaN(g))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return em(C,g-1)},io=Xi.__acroform__.setBitForPdf=function(C,g){if(isNaN(C)||isNaN(g))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return ep(C,g-1)},Fs=Xi.__acroform__.clearBitForPdf=function(C,g){if(isNaN(C)||isNaN(g))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return MA(C,g-1)},ph=Xi.__acroform__.calculateCoordinates=function(C,g){var y=g.internal.getHorizontalCoordinate,S=g.internal.getVerticalCoordinate,x=C[0],B=C[1],P=C[2],M=C[3],L={};return L.lowerLeft_X=y(x)||0,L.lowerLeft_Y=S(B+M)||0,L.upperRight_X=y(x+P)||0,L.upperRight_Y=S(B)||0,[Number(ci(L.lowerLeft_X)),Number(ci(L.lowerLeft_Y)),Number(ci(L.upperRight_X)),Number(ci(L.upperRight_Y))]},Up=function(C){if(C.appearanceStreamContent)return C.appearanceStreamContent;if(C.V||C.DV){var g=[],S=gh(C,C._V||C.DV),x=C.scope.internal.getFont(C.fontName,C.fontStyle).id;g.push("/Tx BMC"),g.push("q"),g.push("BT"),g.push(C.scope.__private__.encodeColorString(C.color)),g.push("/"+x+" "+ci(S.fontSize)+" Tf"),g.push("1 0 0 1 0 0 Tm"),g.push(S.text),g.push("ET"),g.push("Q"),g.push("EMC");var B=el(C);return B.scope=C.scope,B.stream=g.join("\n"),B}},gh=function(C,g){var y=0===C.fontSize?C.maxFontSize:C.fontSize,S={text:"",fontSize:""},x=(g=")"==(g="("==g.substr(0,1)?g.substr(1):g).substr(g.length-1)?g.substr(0,g.length-1):g).split(" ");x=x.map(C.multiline?function(Be){return Be.split("\n")}:function(Be){return[Be]});var B=y,P=fr.internal.getHeight(C)||0;P=P<0?-P:P;var Be,M=fr.internal.getWidth(C)||0;M=M<0?-M:M,B++;e:for(;B>0;){g="",B--;var G,te,ue=uc("3",C,B).height,pe=C.multiline?P-B:(P-ue)/2,j=pe+=2,Pe=0,be=0,ze=0;if(B<=0){g="(...) Tj\n",g+="% Width of Text: "+uc(g,C,B=12).width+", FieldWidth:"+M+"\n";break}for(var J="",Le=0,gt=0;gt<x.length;gt++)if(x.hasOwnProperty(gt)){var xt=!1;if(1!==x[gt].length&&ze!==x[gt].length-1){if((ue+2)*(Le+2)+2>P)continue e;J+=x[gt][ze],xt=!0,be=gt,gt--}else{J=" "==(J+=x[gt][ze]+" ").substr(J.length-1)?J.substr(0,J.length-1):J;var un=parseInt(gt),St=(Be=un)+1<x.length&&uc(J+" "+x[Be+1][0],C,B).width<=M-4,Bt=gt>=x.length-1;if(St&&!Bt){J+=" ",ze=0;continue}if(St||Bt){if(Bt)be=un;else if(C.multiline&&(ue+2)*(Le+2)+2>P)continue e}else{if(!C.multiline||(ue+2)*(Le+2)+2>P)continue e;be=un}}for(var Ne="",Zt=Pe;Zt<=be;Zt++){var on=x[Zt];if(C.multiline){if(Zt===be){Ne+=on[ze]+" ",ze=(ze+1)%on.length;continue}if(Zt===Pe){Ne+=on[on.length-1]+" ";continue}}Ne+=on[0]+" "}switch(Ne=" "==Ne.substr(Ne.length-1)?Ne.substr(0,Ne.length-1):Ne,te=uc(Ne,C,B).width,C.textAlign){case"right":G=M-te-2;break;case"center":G=(M-te)/2;break;default:G=2}g+=ci(G)+" "+ci(j)+" Td\n",g+="("+Za(Ne)+") Tj\n",g+=-ci(G)+" 0 Td\n",j=-(B+2),te=0,Pe=xt?be:be+1,Le++,J=""}break}return S.text=g,S.fontSize=B,S},uc=function(C,g,y){var S=g.scope.internal.getFont(g.fontName,g.fontStyle),x=g.scope.getStringUnitWidth(C,{font:S,fontSize:parseFloat(y),charSpace:0})*parseFloat(y);return{height:g.scope.getStringUnitWidth("3",{font:S,fontSize:parseFloat(y),charSpace:0})*parseFloat(y)*1.5,width:x}},Kd={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},_l=function(C,g){var y={type:"reference",object:C};void 0===g.internal.getPageInfo(C.page).pageContext.annotations.find(function(S){return S.type===y.type&&S.object===y.object})&&g.internal.getPageInfo(C.page).pageContext.annotations.push(y)},tl=Xi.__acroform__.arrayToPdfArray=function(C,g,y){var S=function(P){return P};if(Array.isArray(C)){for(var x="[",B=0;B<C.length;B++)switch(0!==B&&(x+=" "),(0,V.A)(C[B])){case"boolean":case"number":case"object":x+=C[B].toString();break;case"string":"/"!==C[B].substr(0,1)?(void 0!==g&&y&&(S=y.internal.getEncryptor(g)),x+="("+Za(S(C[B].toString()))+")"):x+=C[B].toString()}return x+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},Lu=function(C,g,y){var S=function(x){return x};return void 0!==g&&y&&(S=y.internal.getEncryptor(g)),(C=C||"").toString(),"("+Za(S(C))+")"},jr=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(void 0===this._objId){if(void 0===this.scope)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(C){this._objId=C}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};jr.prototype.toString=function(){return this.objId+" 0 R"},jr.prototype.putStream=function(){var C=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:C,objectId:this.objId}),this.scope.internal.out("endobj")},jr.prototype.getKeyValueListForStream=function(){var C=[],g=Object.getOwnPropertyNames(this).filter(function(B){return"content"!=B&&"appearanceStreamContent"!=B&&"scope"!=B&&"objId"!=B&&"_"!=B.substring(0,1)});for(var y in g)if(!1===Object.getOwnPropertyDescriptor(this,g[y]).configurable){var S=g[y],x=this[S];x&&(Array.isArray(x)?C.push({key:S,value:tl(x,this.objId,this.scope)}):x instanceof jr?(x.scope=this.scope,C.push({key:S,value:x.objId+" 0 R"})):"function"!=typeof x&&C.push({key:S,value:x}))}return C};var lo=function(){jr.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var C,g=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return g},set:function(y){g=y}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(y){C=y.trim()},get:function(){return C||null}})};Un(lo,jr);var tp=function(){jr.call(this);var C,g=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return g.length>0?g:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return g}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(C){var y=function(S){return S};return this.scope&&(y=this.scope.internal.getEncryptor(this.objId)),"("+Za(y(C))+")"}},set:function(y){C=y}})};Un(tp,jr);var Ou=function C(){jr.call(this);var g=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return g},set:function(J){if(isNaN(J))throw new Error('Invalid value "'+J+'" for attribute F supplied.');g=J}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!cs(g,3)},set:function(J){this.F=J?io(g,3):Fs(g,3)}});var y=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return y},set:function(J){if(isNaN(J))throw new Error('Invalid value "'+J+'" for attribute Ff supplied.');y=J}});var S=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(0!==S.length)return S},set:function(J){S=void 0!==J?J:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!S||isNaN(S[0])?0:S[0]},set:function(J){S[0]=J}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!S||isNaN(S[1])?0:S[1]},set:function(J){S[1]=J}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!S||isNaN(S[2])?0:S[2]},set:function(J){S[2]=J}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!S||isNaN(S[3])?0:S[3]},set:function(J){S[3]=J}});var x="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return x},set:function(J){switch(J){case"/Btn":case"/Tx":case"/Ch":case"/Sig":x=J;break;default:throw new Error('Invalid value "'+J+'" for attribute FT supplied.')}}});var B=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!B||B.length<1){if(this instanceof Ls)return;B="FieldObject"+C.FieldNum++}var J=function(Le){return Le};return this.scope&&(J=this.scope.internal.getEncryptor(this.objId)),"("+Za(J(B))+")"},set:function(J){B=J.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return B},set:function(J){B=J}});var P="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return P},set:function(J){P=J}});var M="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return M},set:function(J){M=J}});var L=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return L},set:function(J){L=J}});var G=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return void 0===G?50/zs:G},set:function(J){G=J}});var te="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return te},set:function(J){te=J}});var ue="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!ue||this instanceof Ls||this instanceof Uc))return Lu(ue,this.objId,this.scope)},set:function(J){J=J.toString(),ue=J}});var pe=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(pe)return this instanceof Hr?pe:Lu(pe,this.objId,this.scope)},set:function(J){J=J.toString(),pe=this instanceof Hr?J:"("===J.substr(0,1)?yl(J.substr(1,J.length-2)):yl(J)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Hr?yl(pe.substr(1,pe.length-1)):pe},set:function(J){J=J.toString(),pe=this instanceof Hr?"/"+J:J}});var j=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(j)return j},set:function(J){this.V=J}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(j)return this instanceof Hr?j:Lu(j,this.objId,this.scope)},set:function(J){J=J.toString(),j=this instanceof Hr?J:"("===J.substr(0,1)?yl(J.substr(1,J.length-2)):yl(J)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Hr?yl(j.substr(1,j.length-1)):j},set:function(J){J=J.toString(),j=this instanceof Hr?"/"+J:J}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var Pe,be=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return be},set:function(J){be=J=!!J}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(Pe)return Pe},set:function(J){Pe=J}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!cs(this.Ff,1)},set:function(J){this.Ff=J?io(this.Ff,1):Fs(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!cs(this.Ff,2)},set:function(J){this.Ff=J?io(this.Ff,2):Fs(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!cs(this.Ff,3)},set:function(J){this.Ff=J?io(this.Ff,3):Fs(this.Ff,3)}});var ze=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(null!==ze)return ze},set:function(J){if(-1===[0,1,2].indexOf(J))throw new Error('Invalid value "'+J+'" for attribute Q supplied.');ze=J}}),Object.defineProperty(this,"textAlign",{get:function(){var J;switch(ze){case 0:default:J="left";break;case 1:J="center";break;case 2:J="right"}return J},configurable:!0,enumerable:!0,set:function(J){switch(J){case"right":case 2:ze=2;break;case"center":case 1:ze=1;break;default:ze=0}}})};Un(Ou,jr);var Lc=function(){Ou.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var C=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return C},set:function(y){C=y}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return C},set:function(y){C=y}});var g=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return tl(g,this.objId,this.scope)},set:function(y){var S,x;x=[],"string"==typeof(S=y)&&(x=function(B,P,M){M||(M=1);for(var L,G=[];L=P.exec(B);)G.push(L[M]);return G}(S,/\((.*?)\)/g)),g=x}}),this.getOptions=function(){return g},this.setOptions=function(y){g=y,this.sort&&g.sort()},this.addOption=function(y){y=(y=y||"").toString(),g.push(y),this.sort&&g.sort()},this.removeOption=function(y,S){for(S=S||!1,y=(y=y||"").toString();-1!==g.indexOf(y)&&(g.splice(g.indexOf(y),1),!1!==S););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!cs(this.Ff,18)},set:function(y){this.Ff=y?io(this.Ff,18):Fs(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!cs(this.Ff,19)},set:function(y){!0===this.combo&&(this.Ff=y?io(this.Ff,19):Fs(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!cs(this.Ff,20)},set:function(y){y?(this.Ff=io(this.Ff,20),g.sort()):this.Ff=Fs(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!cs(this.Ff,22)},set:function(y){this.Ff=y?io(this.Ff,22):Fs(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!cs(this.Ff,23)},set:function(y){this.Ff=y?io(this.Ff,23):Fs(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!cs(this.Ff,27)},set:function(y){this.Ff=y?io(this.Ff,27):Fs(this.Ff,27)}}),this.hasAppearanceStream=!1};Un(Lc,Ou);var LA=function(){Lc.call(this),this.fontName="helvetica",this.combo=!1};Un(LA,Lc);var Yd=function(){LA.call(this),this.combo=!0};Un(Yd,LA);var Oc=function(){Yd.call(this),this.edit=!0};Un(Oc,Yd);var Hr=function(){Ou.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!cs(this.Ff,15)},set:function(y){this.Ff=y?io(this.Ff,15):Fs(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!cs(this.Ff,16)},set:function(y){this.Ff=y?io(this.Ff,16):Fs(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!cs(this.Ff,17)},set:function(y){this.Ff=y?io(this.Ff,17):Fs(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!cs(this.Ff,26)},set:function(y){this.Ff=y?io(this.Ff,26):Fs(this.Ff,26)}});var C,g={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var y=function(B){return B};if(this.scope&&(y=this.scope.internal.getEncryptor(this.objId)),0!==Object.keys(g).length){var S,x=[];for(S in x.push("<<"),g)x.push("/"+S+" ("+Za(y(g[S]))+")");return x.push(">>"),x.join("\n")}},set:function(y){"object"===(0,V.A)(y)&&(g=y)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return g.CA||""},set:function(y){"string"==typeof y&&(g.CA=y)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return C},set:function(y){C=y}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return C.substr(1,C.length-1)},set:function(y){C="/"+y}})};Un(Hr,Ou);var Xd=function(){Hr.call(this),this.pushButton=!0};Un(Xd,Hr);var md=function(){Hr.call(this),this.radio=!0,this.pushButton=!1;var C=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return C},set:function(g){C=void 0!==g?g:[]}})};Un(md,Hr);var Ls=function(){var C,g;Ou.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return C},set:function(x){C=x}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return g},set:function(x){g=x}});var y,S={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var x=function(M){return M};this.scope&&(x=this.scope.internal.getEncryptor(this.objId));var B,P=[];for(B in P.push("<<"),S)P.push("/"+B+" ("+Za(x(S[B]))+")");return P.push(">>"),P.join("\n")},set:function(x){"object"===(0,V.A)(x)&&(S=x)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return S.CA||""},set:function(x){"string"==typeof x&&(S.CA=x)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return y},set:function(x){y=x}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return y.substr(1,y.length-1)},set:function(x){y="/"+x}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=fr.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Un(Ls,Ou),md.prototype.setAppearance=function(C){if(!("createAppearanceStream"in C)||!("getCA"in C))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var g in this.Kids)if(this.Kids.hasOwnProperty(g)){var y=this.Kids[g];y.appearanceStreamContent=C.createAppearanceStream(y.optionName),y.caption=C.getCA()}},md.prototype.createOption=function(C){var g=new Ls;return g.Parent=this,g.optionName=C,this.Kids.push(g),vd.call(this.scope,g),g};var mh=function(){Hr.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=fr.CheckBox.createAppearanceStream()};Un(mh,Hr);var Uc=function(){Ou.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!cs(this.Ff,13)},set:function(g){this.Ff=g?io(this.Ff,13):Fs(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!cs(this.Ff,21)},set:function(g){this.Ff=g?io(this.Ff,21):Fs(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!cs(this.Ff,23)},set:function(g){this.Ff=g?io(this.Ff,23):Fs(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!cs(this.Ff,24)},set:function(g){this.Ff=g?io(this.Ff,24):Fs(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!cs(this.Ff,25)},set:function(g){this.Ff=g?io(this.Ff,25):Fs(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!cs(this.Ff,26)},set:function(g){this.Ff=g?io(this.Ff,26):Fs(this.Ff,26)}});var C=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return C},set:function(g){C=g}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return C},set:function(g){Number.isInteger(g)&&(C=g)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Un(Uc,Ou);var nl=function(){Uc.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!cs(this.Ff,14)},set:function(C){this.Ff=C?io(this.Ff,14):Fs(this.Ff,14)}}),this.password=!0};Un(nl,Uc);var fr={CheckBox:{createAppearanceStream:function(){return{N:{On:fr.CheckBox.YesNormal},D:{On:fr.CheckBox.YesPushDown,Off:fr.CheckBox.OffPushDown}}},YesPushDown:function(C){var g=el(C);g.scope=C.scope;var y=[],S=C.scope.internal.getFont(C.fontName,C.fontStyle).id,x=C.scope.__private__.encodeColorString(C.color),B=gh(C,C.caption);return y.push("0.749023 g"),y.push("0 0 "+ci(fr.internal.getWidth(C))+" "+ci(fr.internal.getHeight(C))+" re"),y.push("f"),y.push("BMC"),y.push("q"),y.push("0 0 1 rg"),y.push("/"+S+" "+ci(B.fontSize)+" Tf "+x),y.push("BT"),y.push(B.text),y.push("ET"),y.push("Q"),y.push("EMC"),g.stream=y.join("\n"),g},YesNormal:function(C){var g=el(C);g.scope=C.scope;var y=C.scope.internal.getFont(C.fontName,C.fontStyle).id,S=C.scope.__private__.encodeColorString(C.color),x=[],B=fr.internal.getHeight(C),P=fr.internal.getWidth(C),M=gh(C,C.caption);return x.push("1 g"),x.push("0 0 "+ci(P)+" "+ci(B)+" re"),x.push("f"),x.push("q"),x.push("0 0 1 rg"),x.push("0 0 "+ci(P-1)+" "+ci(B-1)+" re"),x.push("W"),x.push("n"),x.push("0 g"),x.push("BT"),x.push("/"+y+" "+ci(M.fontSize)+" Tf "+S),x.push(M.text),x.push("ET"),x.push("Q"),g.stream=x.join("\n"),g},OffPushDown:function(C){var g=el(C);g.scope=C.scope;var y=[];return y.push("0.749023 g"),y.push("0 0 "+ci(fr.internal.getWidth(C))+" "+ci(fr.internal.getHeight(C))+" re"),y.push("f"),g.stream=y.join("\n"),g}},RadioButton:{Circle:{createAppearanceStream:function(C){var g={D:{Off:fr.RadioButton.Circle.OffPushDown},N:{}};return g.N[C]=fr.RadioButton.Circle.YesNormal,g.D[C]=fr.RadioButton.Circle.YesPushDown,g},getCA:function(){return"l"},YesNormal:function(C){var g=el(C);g.scope=C.scope;var y=[],S=fr.internal.getWidth(C)<=fr.internal.getHeight(C)?fr.internal.getWidth(C)/4:fr.internal.getHeight(C)/4;S=Number((.9*S).toFixed(5));var B=Number((S*fr.internal.Bezier_C).toFixed(5));return y.push("q"),y.push("1 0 0 1 "+Mu(fr.internal.getWidth(C)/2)+" "+Mu(fr.internal.getHeight(C)/2)+" cm"),y.push(S+" 0 m"),y.push(S+" "+B+" "+B+" "+S+" 0 "+S+" c"),y.push("-"+B+" "+S+" -"+S+" "+B+" -"+S+" 0 c"),y.push("-"+S+" -"+B+" -"+B+" -"+S+" 0 -"+S+" c"),y.push(B+" -"+S+" "+S+" -"+B+" "+S+" 0 c"),y.push("f"),y.push("Q"),g.stream=y.join("\n"),g},YesPushDown:function(C){var g=el(C);g.scope=C.scope;var y=[],S=fr.internal.getWidth(C)<=fr.internal.getHeight(C)?fr.internal.getWidth(C)/4:fr.internal.getHeight(C)/4;S=Number((.9*S).toFixed(5));var x=Number((2*S).toFixed(5)),B=Number((x*fr.internal.Bezier_C).toFixed(5)),P=Number((S*fr.internal.Bezier_C).toFixed(5));return y.push("0.749023 g"),y.push("q"),y.push("1 0 0 1 "+Mu(fr.internal.getWidth(C)/2)+" "+Mu(fr.internal.getHeight(C)/2)+" cm"),y.push(x+" 0 m"),y.push(x+" "+B+" "+B+" "+x+" 0 "+x+" c"),y.push("-"+B+" "+x+" -"+x+" "+B+" -"+x+" 0 c"),y.push("-"+x+" -"+B+" -"+B+" -"+x+" 0 -"+x+" c"),y.push(B+" -"+x+" "+x+" -"+B+" "+x+" 0 c"),y.push("f"),y.push("Q"),y.push("0 g"),y.push("q"),y.push("1 0 0 1 "+Mu(fr.internal.getWidth(C)/2)+" "+Mu(fr.internal.getHeight(C)/2)+" cm"),y.push(S+" 0 m"),y.push(S+" "+P+" "+P+" "+S+" 0 "+S+" c"),y.push("-"+P+" "+S+" -"+S+" "+P+" -"+S+" 0 c"),y.push("-"+S+" -"+P+" -"+P+" -"+S+" 0 -"+S+" c"),y.push(P+" -"+S+" "+S+" -"+P+" "+S+" 0 c"),y.push("f"),y.push("Q"),g.stream=y.join("\n"),g},OffPushDown:function(C){var g=el(C);g.scope=C.scope;var y=[],S=fr.internal.getWidth(C)<=fr.internal.getHeight(C)?fr.internal.getWidth(C)/4:fr.internal.getHeight(C)/4;S=Number((.9*S).toFixed(5));var x=Number((2*S).toFixed(5)),B=Number((x*fr.internal.Bezier_C).toFixed(5));return y.push("0.749023 g"),y.push("q"),y.push("1 0 0 1 "+Mu(fr.internal.getWidth(C)/2)+" "+Mu(fr.internal.getHeight(C)/2)+" cm"),y.push(x+" 0 m"),y.push(x+" "+B+" "+B+" "+x+" 0 "+x+" c"),y.push("-"+B+" "+x+" -"+x+" "+B+" -"+x+" 0 c"),y.push("-"+x+" -"+B+" -"+B+" -"+x+" 0 -"+x+" c"),y.push(B+" -"+x+" "+x+" -"+B+" "+x+" 0 c"),y.push("f"),y.push("Q"),g.stream=y.join("\n"),g}},Cross:{createAppearanceStream:function(C){var g={D:{Off:fr.RadioButton.Cross.OffPushDown},N:{}};return g.N[C]=fr.RadioButton.Cross.YesNormal,g.D[C]=fr.RadioButton.Cross.YesPushDown,g},getCA:function(){return"8"},YesNormal:function(C){var g=el(C);g.scope=C.scope;var y=[],S=fr.internal.calculateCross(C);return y.push("q"),y.push("1 1 "+ci(fr.internal.getWidth(C)-2)+" "+ci(fr.internal.getHeight(C)-2)+" re"),y.push("W"),y.push("n"),y.push(ci(S.x1.x)+" "+ci(S.x1.y)+" m"),y.push(ci(S.x2.x)+" "+ci(S.x2.y)+" l"),y.push(ci(S.x4.x)+" "+ci(S.x4.y)+" m"),y.push(ci(S.x3.x)+" "+ci(S.x3.y)+" l"),y.push("s"),y.push("Q"),g.stream=y.join("\n"),g},YesPushDown:function(C){var g=el(C);g.scope=C.scope;var y=fr.internal.calculateCross(C),S=[];return S.push("0.749023 g"),S.push("0 0 "+ci(fr.internal.getWidth(C))+" "+ci(fr.internal.getHeight(C))+" re"),S.push("f"),S.push("q"),S.push("1 1 "+ci(fr.internal.getWidth(C)-2)+" "+ci(fr.internal.getHeight(C)-2)+" re"),S.push("W"),S.push("n"),S.push(ci(y.x1.x)+" "+ci(y.x1.y)+" m"),S.push(ci(y.x2.x)+" "+ci(y.x2.y)+" l"),S.push(ci(y.x4.x)+" "+ci(y.x4.y)+" m"),S.push(ci(y.x3.x)+" "+ci(y.x3.y)+" l"),S.push("s"),S.push("Q"),g.stream=S.join("\n"),g},OffPushDown:function(C){var g=el(C);g.scope=C.scope;var y=[];return y.push("0.749023 g"),y.push("0 0 "+ci(fr.internal.getWidth(C))+" "+ci(fr.internal.getHeight(C))+" re"),y.push("f"),g.stream=y.join("\n"),g}}},createDefaultAppearanceStream:function(C){var g=C.scope.internal.getFont(C.fontName,C.fontStyle).id,y=C.scope.__private__.encodeColorString(C.color);return"/"+g+" "+C.fontSize+" Tf "+y}};fr.internal={Bezier_C:.551915024494,calculateCross:function(C){var g=fr.internal.getWidth(C),y=fr.internal.getHeight(C),S=Math.min(g,y);return{x1:{x:(g-S)/2,y:(y-S)/2+S},x2:{x:(g-S)/2+S,y:(y-S)/2},x3:{x:(g-S)/2,y:(y-S)/2},x4:{x:(g-S)/2+S,y:(y-S)/2+S}}}},fr.internal.getWidth=function(C){var g=0;return"object"===(0,V.A)(C)&&(g=ef(C.Rect[2])),g},fr.internal.getHeight=function(C){var g=0;return"object"===(0,V.A)(C)&&(g=ef(C.Rect[3])),g};var vd=Xi.addField=function(C){if(function(C,g){if(g.scope=C,void 0!==C.internal&&(void 0===C.internal.acroformPlugin||!1===C.internal.acroformPlugin.isInitialized)){if(Ou.FieldNum=0,C.internal.acroformPlugin=JSON.parse(JSON.stringify(Kd)),C.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");zs=C.internal.scaleFactor,C.internal.acroformPlugin.acroFormDictionaryRoot=new tp,C.internal.acroformPlugin.acroFormDictionaryRoot.scope=C,C.internal.acroformPlugin.acroFormDictionaryRoot._eventID=C.internal.events.subscribe("postPutResources",function(){var y;(y=C).internal.events.unsubscribe(y.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete y.internal.acroformPlugin.acroFormDictionaryRoot._eventID,y.internal.acroformPlugin.printedOut=!0}),C.internal.events.subscribe("buildDocument",function(){!function(y){y.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var S=y.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var x in S)if(S.hasOwnProperty(x)){var B=S[x];B.objId=void 0,B.hasAnnotation&&_l(B,y)}}(C)}),C.internal.events.subscribe("putCatalog",function(){!function(y){if(void 0===y.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("putCatalogCallback: Root missing.");y.internal.write("/AcroForm "+y.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")}(C)}),C.internal.events.subscribe("postPutPages",function(y){!function(S,x){var B=!S;for(var P in S||(x.internal.newObjectDeferredBegin(x.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),x.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),S=S||x.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(S.hasOwnProperty(P)){var M=S[P],L=[],G=M.Rect;if(M.Rect&&(M.Rect=ph(M.Rect,x)),x.internal.newObjectDeferredBegin(M.objId,!0),M.DA=fr.createDefaultAppearanceStream(M),"object"===(0,V.A)(M)&&"function"==typeof M.getKeyValueListForStream&&(L=M.getKeyValueListForStream()),M.Rect=G,M.hasAppearanceStream&&!M.appearanceStreamContent){var te=Up(M);L.push({key:"AP",value:"<</N "+te+">>"}),x.internal.acroformPlugin.xForms.push(te)}if(M.appearanceStreamContent){var ue="";for(var pe in M.appearanceStreamContent)if(M.appearanceStreamContent.hasOwnProperty(pe)){var j=M.appearanceStreamContent[pe];if(ue+="/"+pe+" ",ue+="<<",Object.keys(j).length>=1||Array.isArray(j)){for(var P in j)if(j.hasOwnProperty(P)){var Pe=j[P];"function"==typeof Pe&&(Pe=Pe.call(x,M)),ue+="/"+P+" "+Pe+" ",x.internal.acroformPlugin.xForms.indexOf(Pe)>=0||x.internal.acroformPlugin.xForms.push(Pe)}}else"function"==typeof(Pe=j)&&(Pe=Pe.call(x,M)),ue+="/"+P+" "+Pe,x.internal.acroformPlugin.xForms.indexOf(Pe)>=0||x.internal.acroformPlugin.xForms.push(Pe);ue+=">>"}L.push({key:"AP",value:"<<\n"+ue+">>"})}x.internal.putStream({additionalKeyValues:L,objectId:M.objId}),x.internal.out("endobj")}B&&function(C,g){for(var y in C)if(C.hasOwnProperty(y)){var S=y,x=C[y];g.internal.newObjectDeferredBegin(x.objId,!0),"object"===(0,V.A)(x)&&"function"==typeof x.putStream&&x.putStream(),delete C[S]}}(x.internal.acroformPlugin.xForms,x)}(y,C)}),C.internal.acroformPlugin.isInitialized=!0}}(this,C),!(C instanceof Ou))throw new Error("Invalid argument passed to jsPDF.addField.");var g;return(g=C).scope.internal.acroformPlugin.printedOut&&(g.scope.internal.acroformPlugin.printedOut=!1,g.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),g.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(g),C.page=C.scope.internal.getCurrentPageInfo().pageNumber,this};Xi.AcroFormChoiceField=Lc,Xi.AcroFormListBox=LA,Xi.AcroFormComboBox=Yd,Xi.AcroFormEditBox=Oc,Xi.AcroFormButton=Hr,Xi.AcroFormPushButton=Xd,Xi.AcroFormRadioButton=md,Xi.AcroFormCheckBox=mh,Xi.AcroFormTextField=Uc,Xi.AcroFormPasswordField=nl,Xi.AcroFormAppearance=fr,Xi.AcroForm={ChoiceField:Lc,ListBox:LA,ComboBox:Yd,EditBox:Oc,Button:Hr,PushButton:Xd,RadioButton:md,CheckBox:mh,TextField:Uc,PasswordField:nl,Appearance:fr};var C,g,vh=qr.AcroForm={ChoiceField:Lc,ListBox:LA,ComboBox:Yd,EditBox:Oc,Button:Hr,PushButton:Xd,RadioButton:md,CheckBox:mh,TextField:Uc,PasswordField:nl,Appearance:fr};function np(C){return C.reduce(function(g,y,S){return g[y]=S,g},{})}(function(C){C.__addimage__={};var g="UNKNOWN",y={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},S=C.__addimage__.getImageFileTypeByImageData=function(Be,we){var pt,ct,cn,Jt,_n,Ht=g;if("RGBA"===(we=we||g)||void 0!==Be.data&&Be.data instanceof Uint8ClampedArray&&"height"in Be&&"width"in Be)return"RGBA";if(St(Be))for(_n in y)for(cn=y[_n],pt=0;pt<cn.length;pt+=1){for(Jt=!0,ct=0;ct<cn[pt].length;ct+=1)if(void 0!==cn[pt][ct]&&cn[pt][ct]!==Be[ct]){Jt=!1;break}if(!0===Jt){Ht=_n;break}}else for(_n in y)for(cn=y[_n],pt=0;pt<cn.length;pt+=1){for(Jt=!0,ct=0;ct<cn[pt].length;ct+=1)if(void 0!==cn[pt][ct]&&cn[pt][ct]!==Be.charCodeAt(ct)){Jt=!1;break}if(!0===Jt){Ht=_n;break}}return Ht===g&&we!==g&&(Ht=we),Ht},x=function Be(we){for(var pt=this.internal.write,ct=this.internal.putStream,cn=(0,this.internal.getFilters)();-1!==cn.indexOf("FlateEncode");)cn.splice(cn.indexOf("FlateEncode"),1);we.objectId=this.internal.newObject();var Jt=[];if(Jt.push({key:"Type",value:"/XObject"}),Jt.push({key:"Subtype",value:"/Image"}),Jt.push({key:"Width",value:we.width}),Jt.push({key:"Height",value:we.height}),we.colorSpace===ze.INDEXED?Jt.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(we.palette.length/3-1)+" "+("sMask"in we&&void 0!==we.sMask?we.objectId+2:we.objectId+1)+" 0 R]"}):(Jt.push({key:"ColorSpace",value:"/"+we.colorSpace}),we.colorSpace===ze.DEVICE_CMYK&&Jt.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),Jt.push({key:"BitsPerComponent",value:we.bitsPerComponent}),"decodeParameters"in we&&void 0!==we.decodeParameters&&Jt.push({key:"DecodeParms",value:"<<"+we.decodeParameters+">>"}),"transparency"in we&&Array.isArray(we.transparency)){for(var _n="",Ht=0,wn=we.transparency.length;Ht<wn;Ht++)_n+=we.transparency[Ht]+" "+we.transparency[Ht]+" ";Jt.push({key:"Mask",value:"["+_n+"]"})}if(void 0!==we.sMask&&Jt.push({key:"SMask",value:we.objectId+1+" 0 R"}),ct({data:we.data,additionalKeyValues:Jt,alreadyAppliedFilters:void 0!==we.filter?["/"+we.filter]:void 0,objectId:we.objectId}),pt("endobj"),"sMask"in we&&void 0!==we.sMask){var ae={width:we.width,height:we.height,colorSpace:"DeviceGray",bitsPerComponent:we.bitsPerComponent,decodeParameters:"/Predictor "+we.predictor+" /Colors 1 /BitsPerComponent "+we.bitsPerComponent+" /Columns "+we.width,data:we.sMask};"filter"in we&&(ae.filter=we.filter),Be.call(this,ae)}if(we.colorSpace===ze.INDEXED){var Ve=this.internal.newObject();ct({data:Ne(new Uint8Array(we.palette)),objectId:Ve}),pt("endobj")}},B=function(){var Be=this.internal.collections.addImage_images;for(var we in Be)x.call(this,Be[we])},P=function(){var Be,we=this.internal.collections.addImage_images,pt=this.internal.write;for(var ct in we)pt("/I"+(Be=we[ct]).index,Be.objectId,"0","R")},M=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",B),this.internal.events.subscribe("putXobjectDict",P))},L=function(){var Be=this.internal.collections.addImage_images;return M.call(this),Be},G=function(){return Object.keys(this.internal.collections.addImage_images).length},te=function(Be){return"function"==typeof C["process"+Be.toUpperCase()]},ue=function(Be){return"object"===(0,V.A)(Be)&&1===Be.nodeType},pe=function(Be,we){if("IMG"===Be.nodeName&&Be.hasAttribute("src")){var pt=""+Be.getAttribute("src");if(0===pt.indexOf("data:image/"))return Qr(unescape(pt).split("base64,").pop());var ct=C.loadFile(pt,!0);if(void 0!==ct)return ct}if("CANVAS"===Be.nodeName){if(0===Be.width||0===Be.height)throw new Error("Given canvas must have data. Canvas width: "+Be.width+", height: "+Be.height);var cn;switch(we){case"PNG":cn="image/png";break;case"WEBP":cn="image/webp";break;default:cn="image/jpeg"}return Qr(Be.toDataURL(cn,1).split("base64,").pop())}},j=function(Be){var we=this.internal.collections.addImage_images;if(we)for(var pt in we)if(Be===we[pt].alias)return we[pt]},Pe=function(Be,we,pt){return Be||we||(Be=-96,we=-96),Be<0&&(Be=-1*pt.width*72/Be/this.internal.scaleFactor),we<0&&(we=-1*pt.height*72/we/this.internal.scaleFactor),0===Be&&(Be=we*pt.width/pt.height),0===we&&(we=Be*pt.height/pt.width),[Be,we]},be=function(Be,we,pt,ct,cn,Jt){var _n=Pe.call(this,pt,ct,cn),Ht=this.internal.getCoordinateString,wn=this.internal.getVerticalCoordinateString,yn=L.call(this);if(pt=_n[0],ct=_n[1],yn[cn.index]=cn,Jt){Jt*=Math.PI/180;var lr=Math.cos(Jt),ae=Math.sin(Jt),Ve=function(mt){return mt.toFixed(4)},Je=[Ve(lr),Ve(ae),Ve(-1*ae),Ve(lr),0,0,"cm"]}this.internal.write("q"),Jt?(this.internal.write([1,"0","0",1,Ht(Be),wn(we+ct),"cm"].join(" ")),this.internal.write(Je.join(" ")),this.internal.write([Ht(pt),"0","0",Ht(ct),"0","0","cm"].join(" "))):this.internal.write([Ht(pt),"0","0",Ht(ct),Ht(Be),wn(we+ct),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+cn.index+" Do"),this.internal.write("Q")},ze=C.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};C.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var J=C.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},Le=C.__addimage__.sHashCode=function(Be){var we,pt,ct=0;if("string"==typeof Be)for(pt=Be.length,we=0;we<pt;we++)ct=(ct<<5)-ct+Be.charCodeAt(we),ct|=0;else if(St(Be))for(pt=Be.byteLength/2,we=0;we<pt;we++)ct=(ct<<5)-ct+Be[we],ct|=0;return ct},gt=C.__addimage__.validateStringAsBase64=function(Be){(Be=Be||"").toString().trim();var we=!0;return 0===Be.length&&(we=!1),Be.length%4!=0&&(we=!1),!1===/^[A-Za-z0-9+/]+$/.test(Be.substr(0,Be.length-2))&&(we=!1),!1===/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(Be.substr(-2))&&(we=!1),we},xt=C.__addimage__.extractImageFromDataUrl=function(Be){var we=(Be=Be||"").split("base64,"),pt=null;if(2===we.length){var ct=/^data:(\w*\/\w*);*(charset=(?!charset=)[\w=-]*)*;*$/.exec(we[0]);Array.isArray(ct)&&(pt={mimeType:ct[1],charset:ct[2],data:we[1]})}return pt},un=C.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};C.__addimage__.isArrayBuffer=function(Be){return un()&&Be instanceof ArrayBuffer};var St=C.__addimage__.isArrayBufferView=function(Be){return un()&&typeof Uint32Array<"u"&&(Be instanceof Int8Array||Be instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&Be instanceof Uint8ClampedArray||Be instanceof Int16Array||Be instanceof Uint16Array||Be instanceof Int32Array||Be instanceof Uint32Array||Be instanceof Float32Array||Be instanceof Float64Array)},Bt=C.__addimage__.binaryStringToUint8Array=function(Be){for(var we=Be.length,pt=new Uint8Array(we),ct=0;ct<we;ct++)pt[ct]=Be.charCodeAt(ct);return pt},Ne=C.__addimage__.arrayBufferToBinaryString=function(Be){for(var we="",pt=St(Be)?Be:new Uint8Array(Be),ct=0;ct<pt.length;ct+=8192)we+=String.fromCharCode.apply(null,pt.subarray(ct,ct+8192));return we};C.addImage=function(){var Be,we,pt,ct,cn,Jt,_n,Ht,wn;if("number"==typeof arguments[1]?(we=g,pt=arguments[1],ct=arguments[2],cn=arguments[3],Jt=arguments[4],_n=arguments[5],Ht=arguments[6],wn=arguments[7]):(we=arguments[1],pt=arguments[2],ct=arguments[3],cn=arguments[4],Jt=arguments[5],_n=arguments[6],Ht=arguments[7],wn=arguments[8]),"object"===(0,V.A)(Be=arguments[0])&&!ue(Be)&&"imageData"in Be){var yn=Be;Be=yn.imageData,we=yn.format||we||g,pt=yn.x||pt||0,ct=yn.y||ct||0,cn=yn.w||yn.width||cn,Jt=yn.h||yn.height||Jt,_n=yn.alias||_n,Ht=yn.compression||Ht,wn=yn.rotation||yn.angle||wn}var lr=this.internal.getFilters();if(void 0===Ht&&-1!==lr.indexOf("FlateEncode")&&(Ht="SLOW"),isNaN(pt)||isNaN(ct))throw new Error("Invalid coordinates passed to jsPDF.addImage");M.call(this);var ae=Zt.call(this,Be,we,_n,Ht);return be.call(this,pt,ct,cn,Jt,ae,wn),this};var Zt=function(Be,we,pt,ct){var cn,Jt,_n,wn;if("string"==typeof Be&&S(Be)===g){Be=unescape(Be);var Ht=on(Be,!1);(""!==Ht||void 0!==(Ht=C.loadFile(Be,!0)))&&(Be=Ht)}if(ue(Be)&&(Be=pe(Be,we)),we=S(Be,we),!te(we))throw new Error("addImage does not support files of type '"+we+"', please ensure that a plugin for '"+we+"' support is added.");if((null==(_n=pt)||0===_n.length)&&(pt="string"==typeof(wn=Be)||St(wn)?Le(wn):St(wn.data)?Le(wn.data):null),(cn=j.call(this,pt))||(un()&&(Be instanceof Uint8Array||"RGBA"===we||(Jt=Be,Be=Bt(Be))),cn=this["process"+we.toUpperCase()](Be,G.call(this),pt,function(wn){return wn&&"string"==typeof wn&&(wn=wn.toUpperCase()),wn in C.image_compression?wn:J.NONE}(ct),Jt)),!cn)throw new Error("An unknown error occurred whilst processing the image.");return cn},on=C.__addimage__.convertBase64ToBinaryString=function(Be,we){var pt;we="boolean"!=typeof we||we;var ct,cn="";if("string"==typeof Be){ct=null!==(pt=xt(Be))?pt.data:Be;try{cn=Qr(ct)}catch(Jt){if(we)throw gt(ct)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+Jt.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return cn};C.getImageProperties=function(Be){var we,pt,ct="";if(ue(Be)&&(Be=pe(Be)),"string"==typeof Be&&S(Be)===g&&(""===(ct=on(Be,!1))&&(ct=C.loadFile(Be)||""),Be=ct),pt=S(Be),!te(pt))throw new Error("addImage does not support files of type '"+pt+"', please ensure that a plugin for '"+pt+"' support is added.");if(!un()||Be instanceof Uint8Array||(Be=Bt(Be)),!(we=this["process"+pt.toUpperCase()](Be)))throw new Error("An unknown error occurred whilst processing the image");return we.fileType=pt,we}})(qr.API),
/**
         * @license
         * Copyright (c) 2014 Steven Spungin (TwelveTone LLC)  steven@twelvetone.tv
         *
         * Licensed under the MIT License.
         * http://opensource.org/licenses/mit-license
         */
C=qr.API,g=function(y){if(void 0!==y&&""!=y)return!0},qr.API.events.push(["addPage",function(y){this.internal.getPageInfo(y.pageNumber).pageContext.annotations=[]}]),C.events.push(["putPage",function(y){for(var S,x,B,P=this.internal.getCoordinateString,M=this.internal.getVerticalCoordinateString,L=this.internal.getPageInfoByObjId(y.objId),G=y.pageContext.annotations,te=!1,ue=0;ue<G.length&&!te;ue++)switch((S=G[ue]).type){case"link":(g(S.options.url)||g(S.options.pageNumber))&&(te=!0);break;case"reference":case"text":case"freetext":te=!0}if(0!=te){this.internal.write("/Annots [");for(var pe=0;pe<G.length;pe++){S=G[pe];var j=this.internal.pdfEscape,Pe=this.internal.getEncryptor(y.objId);switch(S.type){case"reference":this.internal.write(" "+S.object.objId+" 0 R ");break;case"text":var be=this.internal.newAdditionalObject(),ze=this.internal.newAdditionalObject(),J=this.internal.getEncryptor(be.objId),Le=S.title||"Note";B="<</Type /Annot /Subtype /Text "+(x="/Rect ["+P(S.bounds.x)+" "+M(S.bounds.y+S.bounds.h)+" "+P(S.bounds.x+S.bounds.w)+" "+M(S.bounds.y)+"] ")+"/Contents ("+j(J(S.contents))+")",B+=" /Popup "+ze.objId+" 0 R",B+=" /P "+L.objId+" 0 R",B+=" /T ("+j(J(Le))+") >>",be.content=B;var gt=be.objId+" 0 R";B="<</Type /Annot /Subtype /Popup "+(x="/Rect ["+P(S.bounds.x+30)+" "+M(S.bounds.y+S.bounds.h)+" "+P(S.bounds.x+S.bounds.w+30)+" "+M(S.bounds.y)+"] ")+" /Parent "+gt,S.open&&(B+=" /Open true"),ze.content=B+=" >>",this.internal.write(be.objId,"0 R",ze.objId,"0 R");break;case"freetext":x="/Rect ["+P(S.bounds.x)+" "+M(S.bounds.y)+" "+P(S.bounds.x+S.bounds.w)+" "+M(S.bounds.y+S.bounds.h)+"] ";var xt=S.color||"#000000";B="<</Type /Annot /Subtype /FreeText "+x+"/Contents ("+j(Pe(S.contents))+")",B+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+xt+")",B+=" /Border [0 0 0]",this.internal.write(B+=" >>");break;case"link":if(S.options.name){var un=this.annotations._nameMap[S.options.name];S.options.pageNumber=un.page,S.options.top=un.y}else S.options.top||(S.options.top=0);if(x="/Rect ["+S.finalBounds.x+" "+S.finalBounds.y+" "+S.finalBounds.w+" "+S.finalBounds.h+"] ",B="",S.options.url)B="<</Type /Annot /Subtype /Link "+x+"/Border [0 0 0] /A <</S /URI /URI ("+j(Pe(S.options.url))+") >>";else if(S.options.pageNumber)switch(B="<</Type /Annot /Subtype /Link "+x+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(S.options.pageNumber).objId+" 0 R",S.options.magFactor=S.options.magFactor||"XYZ",S.options.magFactor){case"Fit":B+=" /Fit]";break;case"FitH":B+=" /FitH "+S.options.top+"]";break;case"FitV":S.options.left=S.options.left||0,B+=" /FitV "+S.options.left+"]";break;default:var St=M(S.options.top);S.options.left=S.options.left||0,void 0===S.options.zoom&&(S.options.zoom=0),B+=" /XYZ "+S.options.left+" "+St+" "+S.options.zoom+"]"}""!=B&&this.internal.write(B+=" >>")}}this.internal.write("]")}}]),C.createAnnotation=function(y){var S=this.internal.getCurrentPageInfo();switch(y.type){case"link":this.link(y.bounds.x,y.bounds.y,y.bounds.w,y.bounds.h,y);break;case"text":case"freetext":S.pageContext.annotations.push(y)}},C.link=function(y,S,x,B,P){var M=this.internal.getCurrentPageInfo(),L=this.internal.getCoordinateString,G=this.internal.getVerticalCoordinateString;M.pageContext.annotations.push({finalBounds:{x:L(y),y:G(S),w:L(y+x),h:G(S+B)},options:P,type:"link"})},C.textWithLink=function(y,S,x,B){var P,M,L=this.getTextWidth(y),G=this.internal.getLineHeight()/this.internal.scaleFactor;if(void 0!==B.maxWidth){var te=this.splitTextToSize(y,M=B.maxWidth).length;P=Math.ceil(G*te)}else M=L,P=G;return this.text(y,S,x,B),"center"===B.align&&(S-=L/2),"right"===B.align&&(S-=L),this.link(S,(x+=.2*G)-G,M,P,B),L},C.getTextWidth=function(y){var S=this.internal.getFontSize();return this.getStringUnitWidth(y)*S/this.internal.scaleFactor},
/**
         * @license
         * Copyright (c) 2017 Aras Abbasi
         *
         * Licensed under the MIT License.
         * http://opensource.org/licenses/mit-license
         */
function(C){var g={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},y={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},S={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},x=[1570,1571,1573,1575];C.__arabicParser__={};var B=C.__arabicParser__.isInArabicSubstitutionA=function(be){return void 0!==g[be.charCodeAt(0)]},P=C.__arabicParser__.isArabicLetter=function(be){return"string"==typeof be&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(be)},M=C.__arabicParser__.isArabicEndLetter=function(be){return P(be)&&B(be)&&g[be.charCodeAt(0)].length<=2},L=C.__arabicParser__.isArabicAlfLetter=function(be){return P(be)&&x.indexOf(be.charCodeAt(0))>=0};C.__arabicParser__.arabicLetterHasIsolatedForm=function(be){return P(be)&&B(be)&&g[be.charCodeAt(0)].length>=1};var G=C.__arabicParser__.arabicLetterHasFinalForm=function(be){return P(be)&&B(be)&&g[be.charCodeAt(0)].length>=2};C.__arabicParser__.arabicLetterHasInitialForm=function(be){return P(be)&&B(be)&&g[be.charCodeAt(0)].length>=3};var te=C.__arabicParser__.arabicLetterHasMedialForm=function(be){return P(be)&&B(be)&&4==g[be.charCodeAt(0)].length},ue=C.__arabicParser__.resolveLigatures=function(be){var ze=0,J=y,Le="",gt=0;for(ze=0;ze<be.length;ze+=1)void 0!==J[be.charCodeAt(ze)]?(gt++,"number"==typeof(J=J[be.charCodeAt(ze)])&&(Le+=String.fromCharCode(J),J=y,gt=0),ze===be.length-1&&(J=y,Le+=be.charAt(ze-(gt-1)),ze-=gt-1,gt=0)):(J=y,Le+=be.charAt(ze-gt),ze-=gt,gt=0);return Le};C.__arabicParser__.isArabicDiacritic=function(be){return void 0!==be&&void 0!==S[be.charCodeAt(0)]};var pe=C.__arabicParser__.getCorrectForm=function(be,ze,J){return P(be)?!1===B(be)?-1:!G(be)||!P(ze)&&!P(J)||!P(J)&&M(ze)||M(be)&&!P(ze)||M(be)&&L(ze)||M(be)&&M(ze)?0:te(be)&&P(ze)&&!M(ze)&&P(J)&&G(J)?3:M(be)||!P(J)?1:2:-1},j=function(be){var ze=0,J=0,Le=0,gt="",xt="",un="",St=(be=be||"").split("\\s+"),Bt=[];for(ze=0;ze<St.length;ze+=1){for(Bt.push(""),J=0;J<St[ze].length;J+=1)xt=St[ze][J-1],un=St[ze][J+1],P(gt=St[ze][J])?(Le=pe(gt,xt,un),Bt[ze]+=-1!==Le?String.fromCharCode(g[gt.charCodeAt(0)][Le]):gt):Bt[ze]+=gt;Bt[ze]=ue(Bt[ze])}return Bt.join(" ")},Pe=C.__arabicParser__.processArabic=C.processArabic=function(){var be,ze="string"==typeof arguments[0]?arguments[0]:arguments[0].text,J=[];if(Array.isArray(ze)){var Le=0;for(J=[],Le=0;Le<ze.length;Le+=1)Array.isArray(ze[Le])?J.push([j(ze[Le][0]),ze[Le][1],ze[Le][2]]):J.push([j(ze[Le])]);be=J}else be=j(ze);return"string"==typeof arguments[0]?be:(arguments[0].text=be,arguments[0])};C.events.push(["preProcessText",Pe])}(qr.API),qr.API.autoPrint=function(C){var g;return"javascript"===((C=C||{}).variant=C.variant||"non-conform",C.variant)?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){g=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+g+" 0 R")})),this},
/**
         * @license
         * Copyright (c) 2014 Steven Spungin (TwelveTone LLC)  steven@twelvetone.tv
         *
         * Licensed under the MIT License.
         * http://opensource.org/licenses/mit-license
         */
function(C){var g=function(){var y=void 0;Object.defineProperty(this,"pdf",{get:function(){return y},set:function(M){y=M}});var S=150;Object.defineProperty(this,"width",{get:function(){return S},set:function(M){S=isNaN(M)||!1===Number.isInteger(M)||M<0?150:M,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=S+1)}});var x=300;Object.defineProperty(this,"height",{get:function(){return x},set:function(M){x=isNaN(M)||!1===Number.isInteger(M)||M<0?300:M,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=x+1)}});var B=[];Object.defineProperty(this,"childNodes",{get:function(){return B},set:function(M){B=M}});var P={};Object.defineProperty(this,"style",{get:function(){return P},set:function(M){P=M}}),Object.defineProperty(this,"parentNode",{})};g.prototype.getContext=function(y,S){var x;if("2d"!==(y=y||"2d"))return null;for(x in S)this.pdf.context2d.hasOwnProperty(x)&&(this.pdf.context2d[x]=S[x]);return this.pdf.context2d._canvas=this,this.pdf.context2d},g.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},C.events.push(["initialized",function(){this.canvas=new g,this.canvas.pdf=this}])}(qr.API),function(C){var g={left:0,top:0,bottom:0,right:0},y=!1,S=function(){void 0===this.internal.__cell__&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},g),this.internal.__cell__.margins.width=this.getPageWidth(),x.call(this))},x=function(){this.internal.__cell__.lastCell=new B,this.internal.__cell__.pages=1},B=function(){var L=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return L},set:function(be){L=be}});var G=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return G},set:function(be){G=be}});var te=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return te},set:function(be){te=be}});var ue=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return ue},set:function(be){ue=be}});var pe=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return pe},set:function(be){pe=be}});var j=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return j},set:function(be){j=be}});var Pe=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return Pe},set:function(be){Pe=be}}),this};B.prototype.clone=function(){return new B(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},B.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},C.setHeaderFunction=function(L){return S.call(this),this.internal.__cell__.headerFunction="function"==typeof L?L:void 0,this},C.getTextDimensions=function(L,G){S.call(this);var te=(G=G||{}).fontSize||this.getFontSize(),ue=G.font||this.getFont(),pe=G.scaleFactor||this.internal.scaleFactor,j=0,Pe=0,be=0,ze=this;if(!Array.isArray(L)&&"string"!=typeof L){if("number"!=typeof L)throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");L=String(L)}var J=G.maxWidth;J>0?"string"==typeof L?L=this.splitTextToSize(L,J):"[object Array]"===Object.prototype.toString.call(L)&&(L=L.reduce(function(gt,xt){return gt.concat(ze.splitTextToSize(xt,J))},[])):L=Array.isArray(L)?L:[L];for(var Le=0;Le<L.length;Le++)j<(be=this.getStringUnitWidth(L[Le],{font:ue})*te)&&(j=be);return 0!==j&&(Pe=L.length),{w:j/=pe,h:Math.max((Pe*te*this.getLineHeightFactor()-te*(this.getLineHeightFactor()-1))/pe,0)}},C.cellAddPage=function(){S.call(this),this.addPage();var L=this.internal.__cell__.margins||g;return this.internal.__cell__.lastCell=new B(L.left,L.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var P=C.cell=function(){var L;L=arguments[0]instanceof B?arguments[0]:new B(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),S.call(this);var G=this.internal.__cell__.lastCell,te=this.internal.__cell__.padding,ue=this.internal.__cell__.margins||g,pe=this.internal.__cell__.tableHeaderRow,j=this.internal.__cell__.printHeaders;return void 0!==G.lineNumber&&(G.lineNumber===L.lineNumber?(L.x=(G.x||0)+(G.width||0),L.y=G.y||0):G.y+G.height+L.height+ue.bottom>this.getPageHeight()?(this.cellAddPage(),L.y=ue.top,j&&pe&&(this.printHeaderRow(L.lineNumber,!0),L.y+=pe[0].height)):L.y=G.y+G.height||L.y),void 0!==L.text[0]&&(this.rect(L.x,L.y,L.width,L.height,!0===y?"FD":void 0),"right"===L.align?this.text(L.text,L.x+L.width-te,L.y+te,{align:"right",baseline:"top"}):"center"===L.align?this.text(L.text,L.x+L.width/2,L.y+te,{align:"center",baseline:"top",maxWidth:L.width-te-te}):this.text(L.text,L.x+te,L.y+te,{align:"left",baseline:"top",maxWidth:L.width-te-te})),this.internal.__cell__.lastCell=L,this};C.table=function(L,G,te,ue,pe){if(S.call(this),!te)throw new Error("No data for PDF table.");var j,Pe,be,ze,J=[],Le=[],gt=[],xt={},un={},St=[],Bt=[],Ne=(pe=pe||{}).autoSize||!1,Zt=!1!==pe.printHeaders,on=pe.css&&void 0!==pe.css["font-size"]?16*pe.css["font-size"]:pe.fontSize||12,Be=pe.margins||Object.assign({width:this.getPageWidth()},g),we="number"==typeof pe.padding?pe.padding:3,pt=pe.headerBackgroundColor||"#c8c8c8",ct=pe.headerTextColor||"#000";if(x.call(this),this.internal.__cell__.printHeaders=Zt,this.internal.__cell__.margins=Be,this.internal.__cell__.table_font_size=on,this.internal.__cell__.padding=we,this.internal.__cell__.headerBackgroundColor=pt,this.internal.__cell__.headerTextColor=ct,this.setFontSize(on),null==ue)Le=J=Object.keys(te[0]),gt=J.map(function(){return"left"});else if(Array.isArray(ue)&&"object"===(0,V.A)(ue[0]))for(J=ue.map(function(yn){return yn.name}),Le=ue.map(function(yn){return yn.prompt||yn.name||""}),gt=ue.map(function(yn){return yn.align||"left"}),j=0;j<ue.length;j+=1)un[ue[j].name]=ue[j].width*(19.049976/25.4);else Array.isArray(ue)&&"string"==typeof ue[0]&&(Le=J=ue,gt=J.map(function(){return"left"}));if(Ne||Array.isArray(ue)&&"string"==typeof ue[0])for(j=0;j<J.length;j+=1){for(xt[ze=J[j]]=te.map(function(yn){return yn[ze]}),this.setFont(void 0,"bold"),St.push(this.getTextDimensions(Le[j],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),Pe=xt[ze],this.setFont(void 0,"normal"),be=0;be<Pe.length;be+=1)St.push(this.getTextDimensions(Pe[be],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);un[ze]=Math.max.apply(null,St)+we+we,St=[]}if(Zt){var cn={};for(j=0;j<J.length;j+=1)cn[J[j]]={},cn[J[j]].text=Le[j],cn[J[j]].align=gt[j];var Jt=M.call(this,cn,un);Bt=J.map(function(yn){return new B(L,G,un[yn],Jt,cn[yn].text,void 0,cn[yn].align)}),this.setTableHeaderRow(Bt),this.printHeaderRow(1,!1)}var _n=ue.reduce(function(yn,lr){return yn[lr.name]=lr.align,yn},{});for(j=0;j<te.length;j+=1){"rowStart"in pe&&pe.rowStart instanceof Function&&pe.rowStart({row:j,data:te[j]},this);var Ht=M.call(this,te[j],un);for(be=0;be<J.length;be+=1){var wn=te[j][J[be]];"cellStart"in pe&&pe.cellStart instanceof Function&&pe.cellStart({row:j,col:be,data:wn},this),P.call(this,new B(L,G,un[J[be]],Ht,wn,j+2,_n[J[be]]))}}return this.internal.__cell__.table_x=L,this.internal.__cell__.table_y=G,this};var M=function(L,G){var te=this.internal.__cell__.padding,ue=this.internal.__cell__.table_font_size,pe=this.internal.scaleFactor;return Object.keys(L).map(function(j){var Pe=L[j];return this.splitTextToSize(Pe.hasOwnProperty("text")?Pe.text:Pe,G[j]-te-te)},this).map(function(j){return this.getLineHeightFactor()*j.length*ue/pe+te+te},this).reduce(function(j,Pe){return Math.max(j,Pe)},0)};C.setTableHeaderRow=function(L){S.call(this),this.internal.__cell__.tableHeaderRow=L},C.printHeaderRow=function(L,G){if(S.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var te;if(y=!0,"function"==typeof this.internal.__cell__.headerFunction){var ue=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new B(ue[0],ue[1],ue[2],ue[3],void 0,-1)}this.setFont(void 0,"bold");for(var pe=[],j=0;j<this.internal.__cell__.tableHeaderRow.length;j+=1){te=this.internal.__cell__.tableHeaderRow[j].clone(),G&&(te.y=this.internal.__cell__.margins.top||0,pe.push(te)),te.lineNumber=L;var Pe=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),P.call(this,te),this.setTextColor(Pe)}pe.length>0&&this.setTableHeaderRow(pe),this.setFont(void 0,"normal"),y=!1}}(qr.API);var rp={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},Vp=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],Vc=np(Vp),Jd=[100,200,300,400,500,600,700,800,900],OA=np(Jd);function eu(C){var B,g=C.family.replace(/"|'/g,"").toLowerCase(),y=rp[B=(B=C.style)||"normal"]?B:"normal",S=function(B){return B?"number"==typeof B?B>=100&&B<=900&&B%100==0?B:400:/^\d00$/.test(B)?parseInt(B):"bold"===B?700:400:400}(C.weight),x=function(B){return"number"==typeof Vc[B=B||"normal"]?B:"normal"}(C.stretch);return{family:g,style:y,weight:S,stretch:x,src:C.src||[],ref:C.ref||{name:g,style:[x,y,S].join(" ")}}}function tf(C,g,y,S){var x;for(x=y;x>=0&&x<g.length;x+=S)if(C[g[x]])return C[g[x]];for(x=y;x>=0&&x<g.length;x-=S)if(C[g[x]])return C[g[x]]}var Ln={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},ta={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function sn(C){return[C.stretch,C.style,C.weight,C.family].join(" ")}function yd(C){return C.trimLeft()}function Qc(C,g){for(var y=0;y<C.length;){if(C.charAt(y)===g)return[C.substring(0,y),C.substring(y+1)];y+=1}return null}function Zd(C){var g=C.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return null===g?null:[g[0],C.substring(g[0].length)]}var wl,Qp,Uu,Uo=["times"];(function(C){var g,y,S,x,B,P,M,L,G,te=function(ae){return this.isStrokeTransparent=(ae=ae||{}).isStrokeTransparent||!1,this.strokeOpacity=ae.strokeOpacity||1,this.strokeStyle=ae.strokeStyle||"#000000",this.fillStyle=ae.fillStyle||"#000000",this.isFillTransparent=ae.isFillTransparent||!1,this.fillOpacity=ae.fillOpacity||1,this.font=ae.font||"10px sans-serif",this.textBaseline=ae.textBaseline||"alphabetic",this.textAlign=ae.textAlign||"left",this.lineWidth=ae.lineWidth||1,this.lineJoin=ae.lineJoin||"miter",this.lineCap=ae.lineCap||"butt",this.path=ae.path||[],this.transform=void 0!==ae.transform?ae.transform.clone():new L,this.globalCompositeOperation=ae.globalCompositeOperation||"normal",this.globalAlpha=ae.globalAlpha||1,this.clip_path=ae.clip_path||[],this.currentPoint=ae.currentPoint||new P,this.miterLimit=ae.miterLimit||10,this.lastPoint=ae.lastPoint||new P,this.lineDashOffset=ae.lineDashOffset||0,this.lineDash=ae.lineDash||[],this.margin=ae.margin||[0,0,0,0],this.prevPageLastElemOffset=ae.prevPageLastElemOffset||0,this.ignoreClearRect="boolean"!=typeof ae.ignoreClearRect||ae.ignoreClearRect,this};C.events.push(["initialized",function(){this.context2d=new ue(this),g=this.internal.f2,y=this.internal.getCoordinateString,S=this.internal.getVerticalCoordinateString,x=this.internal.getHorizontalCoordinate,B=this.internal.getVerticalCoordinate,P=this.internal.Point,M=this.internal.Rectangle,L=this.internal.Matrix,G=new te}]);var ue=function(ae){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var Ve=ae;Object.defineProperty(this,"pdf",{get:function(){return Ve}});var Je=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return Je},set:function(pn){Je=!!pn}});var mt=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return mt},set:function(pn){mt=!!pn}});var Et=0;Object.defineProperty(this,"posX",{get:function(){return Et},set:function(pn){isNaN(pn)||(Et=pn)}});var zt=0;Object.defineProperty(this,"posY",{get:function(){return zt},set:function(pn){isNaN(pn)||(zt=pn)}}),Object.defineProperty(this,"margin",{get:function(){return G.margin},set:function(pn){var je;"number"==typeof pn?je=[pn,pn,pn,pn]:((je=new Array(4))[0]=pn[0],je[1]=pn.length>=2?pn[1]:je[0],je[2]=pn.length>=3?pn[2]:je[0],je[3]=pn.length>=4?pn[3]:je[1]),G.margin=je}});var Wt=!1;Object.defineProperty(this,"autoPaging",{get:function(){return Wt},set:function(pn){Wt=pn}});var jt=0;Object.defineProperty(this,"lastBreak",{get:function(){return jt},set:function(pn){jt=pn}});var Gn=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Gn},set:function(pn){Gn=pn}}),Object.defineProperty(this,"ctx",{get:function(){return G},set:function(pn){pn instanceof te&&(G=pn)}}),Object.defineProperty(this,"path",{get:function(){return G.path},set:function(pn){G.path=pn}});var Hn=[];Object.defineProperty(this,"ctxStack",{get:function(){return Hn},set:function(pn){Hn=pn}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(pn){var je;je=pe(pn),this.ctx.fillStyle=je.style,this.ctx.isFillTransparent=0===je.a,this.ctx.fillOpacity=je.a,this.pdf.setFillColor(je.r,je.g,je.b,{a:je.a}),this.pdf.setTextColor(je.r,je.g,je.b,{a:je.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(pn){var je=pe(pn);this.ctx.strokeStyle=je.style,this.ctx.isStrokeTransparent=0===je.a,this.ctx.strokeOpacity=je.a,0===je.a?this.pdf.setDrawColor(255,255,255):this.pdf.setDrawColor(je.r,je.g,je.b)}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(pn){-1!==["butt","round","square"].indexOf(pn)&&(this.ctx.lineCap=pn,this.pdf.setLineCap(pn))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(pn){isNaN(pn)||(this.ctx.lineWidth=pn,this.pdf.setLineWidth(pn))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(pn){-1!==["bevel","round","miter"].indexOf(pn)&&(this.ctx.lineJoin=pn,this.pdf.setLineJoin(pn))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(pn){isNaN(pn)||(this.ctx.miterLimit=pn,this.pdf.setMiterLimit(pn))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(pn){this.ctx.textBaseline=pn}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(pn){-1!==["right","end","center","left","start"].indexOf(pn)&&(this.ctx.textAlign=pn)}});var pr=null,ai=null;Object.defineProperty(this,"fontFaces",{get:function(){return ai},set:function(pn){pr=null,ai=pn}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(pn){var je;if(this.ctx.font=pn,null!==(je=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(pn))){var ti=je[1],Ur=je[3],Qn=je[4],Xn=je[6],gr=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Qn)[2];Qn=Math.floor("px"===gr?parseFloat(Qn)*this.pdf.internal.scaleFactor:"em"===gr?parseFloat(Qn)*this.pdf.getFontSize():parseFloat(Qn)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Qn);var ir=function(li){var Ti,or,Ua=[],Br=li.trim();if(""===Br)return Uo;if(Br in ta)return[ta[Br]];for(;""!==Br;){switch(or=null,Ti=(Br=yd(Br)).charAt(0)){case'"':case"'":or=Qc(Br.substring(1),Ti);break;default:or=Zd(Br)}if(null===or||(Ua.push(or[0]),""!==(Br=yd(or[1]))&&","!==Br.charAt(0)))return Uo;Br=Br.replace(/^,/,"")}return Ua}(Xn);if(this.fontFaces){var Wr=function nf(C,g,y){for(var S=(y=y||{}).defaultFontFamily||"times",x=Object.assign({},Ln,y.genericFontFamilies||{}),B=null,P=null,M=0;M<g.length;++M)if(x[(B=eu(g[M])).family]&&(B.family=x[B.family]),C.hasOwnProperty(B.family)){P=C[B.family];break}if(!(P=P||C[S]))throw new Error("Could not find a font-family for the rule '"+sn(B)+"' and default family '"+S+"'.");if(P=function(L,G){if(G[L])return G[L];var te=Vc[L],pe=tf(G,Vp,te,te<=Vc.normal?-1:1);if(!pe)throw new Error("Could not find a matching font-stretch value for "+L);return pe}(B.stretch,P),P=function(L,G){if(G[L])return G[L];for(var te=rp[L],ue=0;ue<te.length;++ue)if(G[te[ue]])return G[te[ue]];throw new Error("Could not find a matching font-style for "+L)}(B.style,P),!(P=function(L,G){if(G[L])return G[L];if(400===L&&G[500])return G[500];if(500===L&&G[400])return G[400];var ue=tf(G,Jd,OA[L],L<400?-1:1);if(!ue)throw new Error("Could not find a matching font-weight for value "+L);return ue}(B.weight,P)))throw new Error("Failed to resolve a font for the rule '"+sn(B)+"'.");return P}(function Tr(pn,je){if(null===pr){var ti=(Ur=pn.getFontList(),Qn=[],Object.keys(Ur).forEach(function(Xn){Ur[Xn].forEach(function(gr){var ir=null;switch(gr){case"bold":ir={family:Xn,weight:"bold"};break;case"italic":ir={family:Xn,style:"italic"};break;case"bolditalic":ir={family:Xn,weight:"bold",style:"italic"};break;case"":case"normal":ir={family:Xn}}null!==ir&&(ir.ref={name:Xn,style:gr},Qn.push(ir))})}),Qn);pr=function(Ur){for(var Qn={},Xn=0;Xn<Ur.length;++Xn){var gr=eu(Ur[Xn]),ir=gr.family,Wr=gr.stretch,fi=gr.style,Ri=gr.weight;Qn[ir]=Qn[ir]||{},Qn[ir][Wr]=Qn[ir][Wr]||{},Qn[ir][Wr][fi]=Qn[ir][Wr][fi]||{},Qn[ir][Wr][fi][Ri]=gr}return Qn}(ti.concat(je))}var Ur,Qn;return pr}(this.pdf,this.fontFaces),ir.map(function(li){return{family:li,stretch:"normal",weight:Ur,style:ti}}));this.pdf.setFont(Wr.ref.name,Wr.ref.style)}else{var fi="";("bold"===Ur||parseInt(Ur,10)>=700||"bold"===ti)&&(fi="bold"),"italic"===ti&&(fi+="italic"),0===fi.length&&(fi="normal");for(var Ri="",Ei={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Pi=0;Pi<ir.length;Pi++){if(void 0!==this.pdf.internal.getFont(ir[Pi],fi,{noFallback:!0,disableWarning:!0})){Ri=ir[Pi];break}if("bolditalic"===fi&&void 0!==this.pdf.internal.getFont(ir[Pi],"bold",{noFallback:!0,disableWarning:!0}))Ri=ir[Pi],fi="bold";else if(void 0!==this.pdf.internal.getFont(ir[Pi],"normal",{noFallback:!0,disableWarning:!0})){Ri=ir[Pi],fi="normal";break}}if(""===Ri)for(var Ji=0;Ji<ir.length;Ji++)if(Ei[ir[Ji]]){Ri=Ei[ir[Ji]];break}this.pdf.setFont(Ri=""===Ri?"Times":Ri,fi)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(pn){this.ctx.globalCompositeOperation=pn}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(pn){this.ctx.globalAlpha=pn}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(pn){this.ctx.lineDashOffset=pn,lr.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(pn){this.ctx.lineDash=pn,lr.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(pn){this.ctx.ignoreClearRect=!!pn}})};ue.prototype.setLineDash=function(ae){this.lineDash=ae},ue.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},ue.prototype.fill=function(){xt.call(this,"fill",!1)},ue.prototype.stroke=function(){xt.call(this,"stroke",!1)},ue.prototype.beginPath=function(){this.path=[{type:"begin"}]},ue.prototype.moveTo=function(ae,Ve){if(isNaN(ae)||isNaN(Ve))throw Ao.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var Je=this.ctx.transform.applyToPoint(new P(ae,Ve));this.path.push({type:"mt",x:Je.x,y:Je.y}),this.ctx.lastPoint=new P(ae,Ve)},ue.prototype.closePath=function(){var ae=new P(0,0),Ve=0;for(Ve=this.path.length-1;-1!==Ve;Ve--)if("begin"===this.path[Ve].type&&"object"===(0,V.A)(this.path[Ve+1])&&"number"==typeof this.path[Ve+1].x){ae=new P(this.path[Ve+1].x,this.path[Ve+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new P(ae.x,ae.y)},ue.prototype.lineTo=function(ae,Ve){if(isNaN(ae)||isNaN(Ve))throw Ao.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var Je=this.ctx.transform.applyToPoint(new P(ae,Ve));this.path.push({type:"lt",x:Je.x,y:Je.y}),this.ctx.lastPoint=new P(Je.x,Je.y)},ue.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),xt.call(this,null,!0)},ue.prototype.quadraticCurveTo=function(ae,Ve,Je,mt){if(isNaN(Je)||isNaN(mt)||isNaN(ae)||isNaN(Ve))throw Ao.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var Et=this.ctx.transform.applyToPoint(new P(Je,mt)),zt=this.ctx.transform.applyToPoint(new P(ae,Ve));this.path.push({type:"qct",x1:zt.x,y1:zt.y,x:Et.x,y:Et.y}),this.ctx.lastPoint=new P(Et.x,Et.y)},ue.prototype.bezierCurveTo=function(ae,Ve,Je,mt,Et,zt){if(isNaN(Et)||isNaN(zt)||isNaN(ae)||isNaN(Ve)||isNaN(Je)||isNaN(mt))throw Ao.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var Wt=this.ctx.transform.applyToPoint(new P(Et,zt)),jt=this.ctx.transform.applyToPoint(new P(ae,Ve)),Gn=this.ctx.transform.applyToPoint(new P(Je,mt));this.path.push({type:"bct",x1:jt.x,y1:jt.y,x2:Gn.x,y2:Gn.y,x:Wt.x,y:Wt.y}),this.ctx.lastPoint=new P(Wt.x,Wt.y)},ue.prototype.arc=function(ae,Ve,Je,mt,Et,zt){if(isNaN(ae)||isNaN(Ve)||isNaN(Je)||isNaN(mt)||isNaN(Et))throw Ao.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(zt=!!zt,!this.ctx.transform.isIdentity){var Wt=this.ctx.transform.applyToPoint(new P(ae,Ve));ae=Wt.x,Ve=Wt.y;var jt=this.ctx.transform.applyToPoint(new P(0,Je)),Gn=this.ctx.transform.applyToPoint(new P(0,0));Je=Math.sqrt(Math.pow(jt.x-Gn.x,2)+Math.pow(jt.y-Gn.y,2))}Math.abs(Et-mt)>=2*Math.PI&&(mt=0,Et=2*Math.PI),this.path.push({type:"arc",x:ae,y:Ve,radius:Je,startAngle:mt,endAngle:Et,counterclockwise:zt})},ue.prototype.arcTo=function(ae,Ve,Je,mt,Et){throw new Error("arcTo not implemented.")},ue.prototype.rect=function(ae,Ve,Je,mt){if(isNaN(ae)||isNaN(Ve)||isNaN(Je)||isNaN(mt))throw Ao.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(ae,Ve),this.lineTo(ae+Je,Ve),this.lineTo(ae+Je,Ve+mt),this.lineTo(ae,Ve+mt),this.lineTo(ae,Ve),this.lineTo(ae+Je,Ve),this.lineTo(ae,Ve)},ue.prototype.fillRect=function(ae,Ve,Je,mt){if(isNaN(ae)||isNaN(Ve)||isNaN(Je)||isNaN(mt))throw Ao.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!j.call(this)){var Et={};"butt"!==this.lineCap&&(Et.lineCap=this.lineCap,this.lineCap="butt"),"miter"!==this.lineJoin&&(Et.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(ae,Ve,Je,mt),this.fill(),Et.hasOwnProperty("lineCap")&&(this.lineCap=Et.lineCap),Et.hasOwnProperty("lineJoin")&&(this.lineJoin=Et.lineJoin)}},ue.prototype.strokeRect=function(ae,Ve,Je,mt){if(isNaN(ae)||isNaN(Ve)||isNaN(Je)||isNaN(mt))throw Ao.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");Pe.call(this)||(this.beginPath(),this.rect(ae,Ve,Je,mt),this.stroke())},ue.prototype.clearRect=function(ae,Ve,Je,mt){if(isNaN(ae)||isNaN(Ve)||isNaN(Je)||isNaN(mt))throw Ao.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(ae,Ve,Je,mt))},ue.prototype.save=function(ae){ae="boolean"!=typeof ae||ae;for(var Ve=this.pdf.internal.getCurrentPageInfo().pageNumber,Je=0;Je<this.pdf.internal.getNumberOfPages();Je++)this.pdf.setPage(Je+1),this.pdf.internal.out("q");if(this.pdf.setPage(Ve),ae){this.ctx.fontSize=this.pdf.internal.getFontSize();var mt=new te(this.ctx);this.ctxStack.push(this.ctx),this.ctx=mt}},ue.prototype.restore=function(ae){ae="boolean"!=typeof ae||ae;for(var Ve=this.pdf.internal.getCurrentPageInfo().pageNumber,Je=0;Je<this.pdf.internal.getNumberOfPages();Je++)this.pdf.setPage(Je+1),this.pdf.internal.out("Q");this.pdf.setPage(Ve),ae&&0!==this.ctxStack.length&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},ue.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var pe=function(ae){var Ve,Je,mt,Et;if(!0===ae.isCanvasGradient&&(ae=ae.getColor()),!ae)return{r:0,g:0,b:0,a:0,style:ae};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(ae))Ve=0,Je=0,mt=0,Et=0;else{var zt=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(ae);if(null!==zt)Ve=parseInt(zt[1]),Je=parseInt(zt[2]),mt=parseInt(zt[3]),Et=1;else if(null!==(zt=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(ae)))Ve=parseInt(zt[1]),Je=parseInt(zt[2]),mt=parseInt(zt[3]),Et=parseFloat(zt[4]);else{if(Et=1,"string"==typeof ae&&"#"!==ae.charAt(0)){var Wt=new Wd(ae);ae=Wt.ok?Wt.toHex():"#000000"}4===ae.length?(Ve=ae.substring(1,2),Ve+=Ve,Je=ae.substring(2,3),Je+=Je,mt=ae.substring(3,4),mt+=mt):(Ve=ae.substring(1,3),Je=ae.substring(3,5),mt=ae.substring(5,7)),Ve=parseInt(Ve,16),Je=parseInt(Je,16),mt=parseInt(mt,16)}}return{r:Ve,g:Je,b:mt,a:Et,style:ae}},j=function(){return this.ctx.isFillTransparent||0==this.globalAlpha},Pe=function(){return!(!this.ctx.isStrokeTransparent&&0!=this.globalAlpha)};ue.prototype.fillText=function(ae,Ve,Je,mt){if(isNaN(Ve)||isNaN(Je)||"string"!=typeof ae)throw Ao.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(mt=isNaN(mt)?void 0:mt,!j.call(this)){var Et=Ht(this.ctx.transform.rotation);we.call(this,{text:ae,x:Ve,y:Je,scale:this.ctx.transform.scaleX,angle:Et,align:this.textAlign,maxWidth:mt})}},ue.prototype.strokeText=function(ae,Ve,Je,mt){if(isNaN(Ve)||isNaN(Je)||"string"!=typeof ae)throw Ao.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!Pe.call(this)){mt=isNaN(mt)?void 0:mt;var Et=Ht(this.ctx.transform.rotation);we.call(this,{text:ae,x:Ve,y:Je,scale:this.ctx.transform.scaleX,renderingMode:"stroke",angle:Et,align:this.textAlign,maxWidth:mt})}},ue.prototype.measureText=function(ae){if("string"!=typeof ae)throw Ao.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var Ve=this.pdf,Je=this.pdf.internal.scaleFactor,mt=Ve.internal.getFontSize(),Et=Ve.getStringUnitWidth(ae)*mt/Ve.internal.scaleFactor;return new function(Wt){var jt=(Wt=Wt||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return jt}}),this}({width:Et*=Math.round(96*Je/72*1e4)/1e4})},ue.prototype.scale=function(ae,Ve){if(isNaN(ae)||isNaN(Ve))throw Ao.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var Je=new L(ae,0,0,Ve,0,0);this.ctx.transform=this.ctx.transform.multiply(Je)},ue.prototype.rotate=function(ae){if(isNaN(ae))throw Ao.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var Ve=new L(Math.cos(ae),Math.sin(ae),-Math.sin(ae),Math.cos(ae),0,0);this.ctx.transform=this.ctx.transform.multiply(Ve)},ue.prototype.translate=function(ae,Ve){if(isNaN(ae)||isNaN(Ve))throw Ao.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var Je=new L(1,0,0,1,ae,Ve);this.ctx.transform=this.ctx.transform.multiply(Je)},ue.prototype.transform=function(ae,Ve,Je,mt,Et,zt){if(isNaN(ae)||isNaN(Ve)||isNaN(Je)||isNaN(mt)||isNaN(Et)||isNaN(zt))throw Ao.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var Wt=new L(ae,Ve,Je,mt,Et,zt);this.ctx.transform=this.ctx.transform.multiply(Wt)},ue.prototype.setTransform=function(ae,Ve,Je,mt,Et,zt){ae=isNaN(ae)?1:ae,Ve=isNaN(Ve)?0:Ve,Je=isNaN(Je)?0:Je,mt=isNaN(mt)?1:mt,Et=isNaN(Et)?0:Et,zt=isNaN(zt)?0:zt,this.ctx.transform=new L(ae,Ve,Je,mt,Et,zt)};var be=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};ue.prototype.drawImage=function(ae,Ve,Je,mt,Et,zt,Wt,jt,Gn){var Hn=this.pdf.getImageProperties(ae),pr=1,Tr=1,ai=1,pn=1;void 0!==mt&&void 0!==jt&&(ai=jt/mt,pn=Gn/Et,pr=Hn.width/mt*jt/mt,Tr=Hn.height/Et*Gn/Et),void 0===zt&&(zt=Ve,Wt=Je,Ve=0,Je=0),void 0!==mt&&void 0===jt&&(jt=mt,Gn=Et),void 0===mt&&void 0===jt&&(jt=Hn.width,Gn=Hn.height);for(var je,ti=this.ctx.transform.decompose(),Ur=Ht(ti.rotate.shx),Qn=new L,Xn=(Qn=(Qn=(Qn=Qn.multiply(ti.translate)).multiply(ti.skew)).multiply(ti.scale)).applyToRectangle(new M(zt-Ve*ai,Wt-Je*pn,mt*pr,Et*Tr)),gr=ze.call(this,Xn),ir=[],Wr=0;Wr<gr.length;Wr+=1)-1===ir.indexOf(gr[Wr])&&ir.push(gr[Wr]);if(gt(ir),this.autoPaging)for(var fi=ir[0],Ri=ir[ir.length-1],Ei=fi;Ei<Ri+1;Ei++){this.pdf.setPage(Ei);var Pi=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Ji=1===Ei?this.posY+this.margin[0]:this.margin[0],Ti=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],or=1===Ei?0:this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2]+(Ei-2)*Ti;if(0!==this.ctx.clip_path.length){var Ua=this.path;je=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=Le(je,this.posX+this.margin[3],-or+Ji+this.ctx.prevPageLastElemOffset),un.call(this,"fill",!0),this.path=Ua}var Br=JSON.parse(JSON.stringify(Xn));Br=Le([Br],this.posX+this.margin[3],-or+Ji+this.ctx.prevPageLastElemOffset)[0];var ou=(Ei>fi||Ei<Ri)&&be.call(this);ou&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Pi,Ti,null).clip().discardPath()),this.pdf.addImage(ae,"JPEG",Br.x,Br.y,Br.w,Br.h,null,null,Ur),ou&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(ae,"JPEG",Xn.x,Xn.y,Xn.w,Xn.h,null,null,Ur)};var ze=function(ae,Ve,Je){var mt=[];Ve=Ve||this.pdf.internal.pageSize.width,Je=Je||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var Et=this.posY+this.ctx.prevPageLastElemOffset;switch(ae.type){default:case"mt":case"lt":mt.push(Math.floor((ae.y+Et)/Je)+1);break;case"arc":mt.push(Math.floor((ae.y+Et-ae.radius)/Je)+1),mt.push(Math.floor((ae.y+Et+ae.radius)/Je)+1);break;case"qct":var zt=wn(this.ctx.lastPoint.x,this.ctx.lastPoint.y,ae.x1,ae.y1,ae.x,ae.y);mt.push(Math.floor((zt.y+Et)/Je)+1),mt.push(Math.floor((zt.y+zt.h+Et)/Je)+1);break;case"bct":var Wt=yn(this.ctx.lastPoint.x,this.ctx.lastPoint.y,ae.x1,ae.y1,ae.x2,ae.y2,ae.x,ae.y);mt.push(Math.floor((Wt.y+Et)/Je)+1),mt.push(Math.floor((Wt.y+Wt.h+Et)/Je)+1);break;case"rect":mt.push(Math.floor((ae.y+Et)/Je)+1),mt.push(Math.floor((ae.y+ae.h+Et)/Je)+1)}for(var jt=0;jt<mt.length;jt+=1)for(;this.pdf.internal.getNumberOfPages()<mt[jt];)J.call(this);return mt},J=function(){var ae=this.fillStyle,Ve=this.strokeStyle,Je=this.font,mt=this.lineCap,Et=this.lineWidth,zt=this.lineJoin;this.pdf.addPage(),this.fillStyle=ae,this.strokeStyle=Ve,this.font=Je,this.lineCap=mt,this.lineWidth=Et,this.lineJoin=zt},Le=function(ae,Ve,Je){for(var mt=0;mt<ae.length;mt++)switch(ae[mt].type){case"bct":ae[mt].x2+=Ve,ae[mt].y2+=Je;case"qct":ae[mt].x1+=Ve,ae[mt].y1+=Je;default:ae[mt].x+=Ve,ae[mt].y+=Je}return ae},gt=function(ae){return ae.sort(function(Ve,Je){return Ve-Je})},xt=function(ae,Ve){for(var Je,mt,Et=this.fillStyle,zt=this.strokeStyle,Wt=this.lineCap,jt=this.lineWidth,Gn=Math.abs(jt*this.ctx.transform.scaleX),Hn=this.lineJoin,pr=JSON.parse(JSON.stringify(this.path)),Tr=JSON.parse(JSON.stringify(this.path)),ai=[],pn=0;pn<Tr.length;pn++)if(void 0!==Tr[pn].x)for(var je=ze.call(this,Tr[pn]),ti=0;ti<je.length;ti+=1)-1===ai.indexOf(je[ti])&&ai.push(je[ti]);for(var Ur=0;Ur<ai.length;Ur++)for(;this.pdf.internal.getNumberOfPages()<ai[Ur];)J.call(this);if(gt(ai),this.autoPaging)for(var Qn=ai[0],Xn=ai[ai.length-1],gr=Qn;gr<Xn+1;gr++){this.pdf.setPage(gr),this.fillStyle=Et,this.strokeStyle=zt,this.lineCap=Wt,this.lineWidth=Gn,this.lineJoin=Hn;var ir=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Wr=1===gr?this.posY+this.margin[0]:this.margin[0],Ri=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Ei=1===gr?0:this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2]+(gr-2)*Ri;if(0!==this.ctx.clip_path.length){var Pi=this.path;Je=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=Le(Je,this.posX+this.margin[3],-Ei+Wr+this.ctx.prevPageLastElemOffset),un.call(this,ae,!0),this.path=Pi}if(mt=JSON.parse(JSON.stringify(pr)),this.path=Le(mt,this.posX+this.margin[3],-Ei+Wr+this.ctx.prevPageLastElemOffset),!1===Ve||0===gr){var Ji=(gr>Qn||gr<Xn)&&be.call(this);Ji&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ir,Ri,null).clip().discardPath()),un.call(this,ae,Ve),Ji&&this.pdf.restoreGraphicsState()}this.lineWidth=jt}else this.lineWidth=Gn,un.call(this,ae,Ve),this.lineWidth=jt;this.path=pr},un=function(ae,Ve){if(("stroke"!==ae||Ve||!Pe.call(this))&&("stroke"===ae||Ve||!j.call(this))){for(var Je,mt,Et=[],zt=this.path,Wt=0;Wt<zt.length;Wt++){var jt=zt[Wt];switch(jt.type){case"begin":Et.push({begin:!0});break;case"close":Et.push({close:!0});break;case"mt":Et.push({start:jt,deltas:[],abs:[]});break;case"lt":var Gn=Et.length;if(zt[Wt-1]&&!isNaN(zt[Wt-1].x)&&(Je=[jt.x-zt[Wt-1].x,jt.y-zt[Wt-1].y],Gn>0))for(;Gn>=0;Gn--)if(!0!==Et[Gn-1].close&&!0!==Et[Gn-1].begin){Et[Gn-1].deltas.push(Je),Et[Gn-1].abs.push(jt);break}break;case"bct":Et[Et.length-1].deltas.push(Je=[jt.x1-zt[Wt-1].x,jt.y1-zt[Wt-1].y,jt.x2-zt[Wt-1].x,jt.y2-zt[Wt-1].y,jt.x-zt[Wt-1].x,jt.y-zt[Wt-1].y]);break;case"qct":Et[Et.length-1].deltas.push(Je=[zt[Wt-1].x+2/3*(jt.x1-zt[Wt-1].x)-zt[Wt-1].x,zt[Wt-1].y+2/3*(jt.y1-zt[Wt-1].y)-zt[Wt-1].y,jt.x+2/3*(jt.x1-jt.x)-zt[Wt-1].x,jt.y+2/3*(jt.y1-jt.y)-zt[Wt-1].y,jt.x-zt[Wt-1].x,jt.y-zt[Wt-1].y]);break;case"arc":Et.push({deltas:[],abs:[],arc:!0}),Array.isArray(Et[Et.length-1].abs)&&Et[Et.length-1].abs.push(jt)}}mt=Ve?null:"stroke"===ae?"stroke":"fill";for(var ti=!1,Ur=0;Ur<Et.length;Ur++)if(Et[Ur].arc)for(var Qn=Et[Ur].abs,Xn=0;Xn<Qn.length;Xn++){var gr=Qn[Xn];"arc"===gr.type?Ne.call(this,gr.x,gr.y,gr.radius,gr.startAngle,gr.endAngle,gr.counterclockwise,void 0,Ve,!ti):pt.call(this,gr.x,gr.y),ti=!0}else!0===Et[Ur].close?(this.pdf.internal.out("h"),ti=!1):!0!==Et[Ur].begin&&(ct.call(this,Et[Ur].deltas,Et[Ur].start.x,Et[Ur].start.y),ti=!0);mt&&Zt.call(this,mt),Ve&&on.call(this)}},St=function(ae){var Ve=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,Je=Ve*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return ae-Je;case"top":return ae+Ve-Je;case"hanging":return ae+Ve-2*Je;case"middle":return ae+Ve/2-Je;default:return ae}},Bt=function(ae){return ae+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};ue.prototype.createLinearGradient=function(){var ae=function(){};return ae.colorStops=[],ae.addColorStop=function(Ve,Je){this.colorStops.push([Ve,Je])},ae.getColor=function(){return 0===this.colorStops.length?"#000000":this.colorStops[0][1]},ae.isCanvasGradient=!0,ae},ue.prototype.createPattern=function(){return this.createLinearGradient()},ue.prototype.createRadialGradient=function(){return this.createLinearGradient()};var Ne=function(ae,Ve,Je,mt,Et,zt,Wt,jt,Gn){for(var Hn=Jt.call(this,Je,mt,Et,zt),pr=0;pr<Hn.length;pr++){var Tr=Hn[pr];0===pr&&(Gn?Be.call(this,Tr.x1+ae,Tr.y1+Ve):pt.call(this,Tr.x1+ae,Tr.y1+Ve)),cn.call(this,ae,Ve,Tr.x2,Tr.y2,Tr.x3,Tr.y3,Tr.x4,Tr.y4)}jt?on.call(this):Zt.call(this,Wt)},Zt=function(ae){switch(ae){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},on=function(){this.pdf.clip(),this.pdf.discardPath()},Be=function(ae,Ve){this.pdf.internal.out(y(ae)+" "+S(Ve)+" m")},we=function(ae){var Ve;switch(ae.align){case"right":case"end":Ve="right";break;case"center":Ve="center";break;default:Ve="left"}var Je=this.pdf.getTextDimensions(ae.text),mt=St.call(this,ae.y),Et=Bt.call(this,mt)-Je.h,zt=this.ctx.transform.applyToPoint(new P(ae.x,mt)),Wt=this.ctx.transform.decompose(),jt=new L;jt=(jt=(jt=jt.multiply(Wt.translate)).multiply(Wt.skew)).multiply(Wt.scale);for(var Gn,Hn,pr,Tr=this.ctx.transform.applyToRectangle(new M(ae.x,mt,Je.w,Je.h)),ai=jt.applyToRectangle(new M(ae.x,Et,Je.w,Je.h)),pn=ze.call(this,ai),je=[],ti=0;ti<pn.length;ti+=1)-1===je.indexOf(pn[ti])&&je.push(pn[ti]);if(gt(je),this.autoPaging)for(var Ur=je[0],Qn=je[je.length-1],Xn=Ur;Xn<Qn+1;Xn++){this.pdf.setPage(Xn);var gr=1===Xn?this.posY+this.margin[0]:this.margin[0],Wr=this.pdf.internal.pageSize.height-this.margin[2],fi=Wr-this.margin[0],Ri=this.pdf.internal.pageSize.width-this.margin[1],Ei=Ri-this.margin[3],Pi=1===Xn?0:this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2]+(Xn-2)*fi;if(0!==this.ctx.clip_path.length){var Ji=this.path;Gn=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=Le(Gn,this.posX+this.margin[3],-1*Pi+gr),un.call(this,"fill",!0),this.path=Ji}var li=Le([JSON.parse(JSON.stringify(ai))],this.posX+this.margin[3],-Pi+gr+this.ctx.prevPageLastElemOffset)[0];ae.scale>=.01&&(Hn=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Hn*ae.scale),this.lineWidth=(pr=this.lineWidth)*ae.scale);var Ti="text"!==this.autoPaging;if(Ti||li.y+li.h<=Wr){if(Ti||li.y>=gr&&li.x<=Ri){var or=Ti?ae.text:this.pdf.splitTextToSize(ae.text,ae.maxWidth||Ri-li.x)[0],Ua=Le([JSON.parse(JSON.stringify(Tr))],this.posX+this.margin[3],-Pi+gr+this.ctx.prevPageLastElemOffset)[0],Br=Ti&&(Xn>Ur||Xn<Qn)&&be.call(this);Br&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ei,fi,null).clip().discardPath()),this.pdf.text(or,Ua.x,Ua.y,{angle:ae.angle,align:Ve,renderingMode:ae.renderingMode}),Br&&this.pdf.restoreGraphicsState()}}else li.y<Wr&&(this.ctx.prevPageLastElemOffset+=Wr-li.y);ae.scale>=.01&&(this.pdf.setFontSize(Hn),this.lineWidth=pr)}else ae.scale>=.01&&(Hn=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Hn*ae.scale),this.lineWidth=(pr=this.lineWidth)*ae.scale),this.pdf.text(ae.text,zt.x+this.posX,zt.y+this.posY,{angle:ae.angle,align:Ve,renderingMode:ae.renderingMode,maxWidth:ae.maxWidth}),ae.scale>=.01&&(this.pdf.setFontSize(Hn),this.lineWidth=pr)},pt=function(ae,Ve,Je,mt){mt=mt||0,this.pdf.internal.out(y(ae+(Je=Je||0))+" "+S(Ve+mt)+" l")},ct=function(ae,Ve,Je){return this.pdf.lines(ae,Ve,Je,null,null)},cn=function(ae,Ve,Je,mt,Et,zt,Wt,jt){this.pdf.internal.out([g(x(Je+ae)),g(B(mt+Ve)),g(x(Et+ae)),g(B(zt+Ve)),g(x(Wt+ae)),g(B(jt+Ve)),"c"].join(" "))},Jt=function(ae,Ve,Je,mt){for(var Et=2*Math.PI,zt=Math.PI/2;Ve>Je;)Ve-=Et;var Wt=Math.abs(Je-Ve);Wt<Et&&mt&&(Wt=Et-Wt);for(var jt=[],Gn=mt?-1:1,Hn=Ve;Wt>1e-5;){var pr=Hn+Gn*Math.min(Wt,zt);jt.push(_n.call(this,ae,Hn,pr)),Wt-=Math.abs(pr-Hn),Hn=pr}return jt},_n=function(ae,Ve,Je){var mt=(Je-Ve)/2,Et=ae*Math.cos(mt),zt=ae*Math.sin(mt),Wt=Et,jt=-zt,Gn=Wt*Wt+jt*jt,Hn=Gn+Wt*Et+jt*zt,pr=4/3*(Math.sqrt(2*Gn*Hn)-Hn)/(Wt*zt-jt*Et),Tr=Wt-pr*jt,ai=jt+pr*Wt,pn=Tr,je=-ai,ti=mt+Ve,Ur=Math.cos(ti),Qn=Math.sin(ti);return{x1:ae*Math.cos(Ve),y1:ae*Math.sin(Ve),x2:Tr*Ur-ai*Qn,y2:Tr*Qn+ai*Ur,x3:pn*Ur-je*Qn,y3:pn*Qn+je*Ur,x4:ae*Math.cos(Je),y4:ae*Math.sin(Je)}},Ht=function(ae){return 180*ae/Math.PI},wn=function(ae,Ve,Je,mt,Et,zt){var Wt=ae+.5*(Je-ae),jt=Ve+.5*(mt-Ve),Gn=Et+.5*(Je-Et),Hn=zt+.5*(mt-zt),pr=Math.min(ae,Et,Wt,Gn),Tr=Math.max(ae,Et,Wt,Gn),ai=Math.min(Ve,zt,jt,Hn),pn=Math.max(Ve,zt,jt,Hn);return new M(pr,ai,Tr-pr,pn-ai)},yn=function(ae,Ve,Je,mt,Et,zt,Wt,jt){var Gn,Hn,pr,Tr,ai,pn,je,ti,Ur,Qn,Xn,gr,ir,Wr,fi=Je-ae,Ri=mt-Ve,Ei=Et-Je,Pi=zt-mt,Ji=Wt-Et,li=jt-zt;for(Hn=0;Hn<41;Hn++)Ur=(je=(pr=ae+(Gn=Hn/40)*fi)+Gn*((ai=Je+Gn*Ei)-pr))+Gn*(ai+Gn*(Et+Gn*Ji-ai)-je),Qn=(ti=(Tr=Ve+Gn*Ri)+Gn*((pn=mt+Gn*Pi)-Tr))+Gn*(pn+Gn*(zt+Gn*li-pn)-ti),0==Hn?(Xn=Ur,gr=Qn,ir=Ur,Wr=Qn):(Xn=Math.min(Xn,Ur),gr=Math.min(gr,Qn),ir=Math.max(ir,Ur),Wr=Math.max(Wr,Qn));return new M(Math.round(Xn),Math.round(gr),Math.round(ir-Xn),Math.round(Wr-gr))},lr=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var Je=JSON.stringify({lineDash:this.ctx.lineDash,lineDashOffset:this.ctx.lineDashOffset});this.prevLineDash!==Je&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=Je)}}})(qr.API),
/**
         * @license
         * jsPDF filters PlugIn
         * Copyright (c) 2014 Aras Abbasi
         *
         * Licensed under the MIT License.
         * http://opensource.org/licenses/mit-license
         */
function(C){var g=function(B){var P,M,L,G,te,ue,pe,j,Pe,be;for(/[^\x00-\xFF]/.test(B),M=[],L=0,G=(B+=P="\0\0\0\0".slice(B.length%4||4)).length;G>L;L+=4)0!==(te=(B.charCodeAt(L)<<24)+(B.charCodeAt(L+1)<<16)+(B.charCodeAt(L+2)<<8)+B.charCodeAt(L+3))?(ue=(te=((te=((te=((te=(te-(be=te%85))/85)-(Pe=te%85))/85)-(j=te%85))/85)-(pe=te%85))/85)%85,M.push(ue+33,pe+33,j+33,Pe+33,be+33)):M.push(122);return function(ze,J){for(var Le=J;Le>0;Le--)ze.pop()}(M,P.length),String.fromCharCode.apply(String,M)+"~>"},y=function(B){var P,M,L,G,te,ue=String,pe="length",j=255,Pe="charCodeAt",be="slice",ze="replace";for(B[be](-2),B=B[be](0,-2)[ze](/\s/g,"")[ze]("z","!!!!!"),L=[],G=0,te=(B+=P="uuuuu"[be](B[pe]%5||5))[pe];te>G;G+=5)M=52200625*(B[Pe](G)-33)+614125*(B[Pe](G+1)-33)+7225*(B[Pe](G+2)-33)+85*(B[Pe](G+3)-33)+(B[Pe](G+4)-33),L.push(j&M>>24,j&M>>16,j&M>>8,j&M);return function(J,Le){for(var gt=Le;gt>0;gt--)J.pop()}(L,P[pe]),ue.fromCharCode.apply(ue,L)},S=function(B){var P=new RegExp(/^([0-9A-Fa-f]{2})+$/);if(-1!==(B=B.replace(/\s/g,"")).indexOf(">")&&(B=B.substr(0,B.indexOf(">"))),B.length%2&&(B+="0"),!1===P.test(B))return"";for(var M="",L=0;L<B.length;L+=2)M+=String.fromCharCode("0x"+(B[L]+B[L+1]));return M},x=function(B){for(var P=new Uint8Array(B.length),M=B.length;M--;)P[M]=B.charCodeAt(M);return(P=Zo(P)).reduce(function(L,G){return L+String.fromCharCode(G)},"")};C.processDataByFilters=function(B,P){var M=0,L=B||"",G=[];for("string"==typeof(P=P||[])&&(P=[P]),M=0;M<P.length;M+=1)switch(P[M]){case"ASCII85Decode":case"/ASCII85Decode":L=y(L),G.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":L=g(L),G.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":L=S(L),G.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":L=L.split("").map(function(te){return("0"+te.charCodeAt().toString(16)).slice(-2)}).join("")+">",G.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":L=x(L),G.push("/FlateDecode");break;default:throw new Error('The filter: "'+P[M]+'" is not implemented')}return{data:L,reverseChain:G.reverse().join(" ")}}}(qr.API),
/**
         * @license
         * jsPDF fileloading PlugIn
         * Copyright (c) 2018 Aras Abbasi (aras.abbasi@gmail.com)
         *
         * Licensed under the MIT License.
         * http://opensource.org/licenses/mit-license
         */
function(C){C.loadFile=function(g,y,S){return function(x,B,P){B=!1!==B,P="function"==typeof P?P:function(){};var M=void 0;try{M=function(L,G,te){var ue=new XMLHttpRequest,pe=0,j=function(Pe){var be=Pe.length,ze=[],J=String.fromCharCode;for(pe=0;pe<be;pe+=1)ze.push(J(255&Pe.charCodeAt(pe)));return ze.join("")};if(ue.open("GET",L,!G),ue.overrideMimeType("text/plain; charset=x-user-defined"),!1===G&&(ue.onload=function(){te(200===ue.status?j(this.responseText):void 0)}),ue.send(null),G&&200===ue.status)return j(ue.responseText)}(x,B,P)}catch{}return M}(g,y,S)},C.loadImageFile=C.loadFile}(qr.API),function(C){function g(){return(nr.html2canvas?Promise.resolve(nr.html2canvas):Promise.resolve().then(wt.t.bind(wt,7239,23))).catch(function(P){return Promise.reject(new Error("Could not load html2canvas: "+P))}).then(function(P){return P.default?P.default:P})}function y(){return(nr.DOMPurify?Promise.resolve(nr.DOMPurify):wt.e(1973).then(wt.t.bind(wt,1973,23))).catch(function(P){return Promise.reject(new Error("Could not load dompurify: "+P))}).then(function(P){return P.default?P.default:P})}var S=function(P){var M=(0,V.A)(P);return"undefined"===M?"undefined":"string"===M||P instanceof String?"string":"number"===M||P instanceof Number?"number":"function"===M||P instanceof Function?"function":P&&P.constructor===Array?"array":P&&1===P.nodeType?"element":"object"===M?"object":"unknown"},x=function(P,M){var L=document.createElement(P);for(var G in M.className&&(L.className=M.className),M.innerHTML&&M.dompurify&&(L.innerHTML=M.dompurify.sanitize(M.innerHTML)),M.style)L.style[G]=M.style[G];return L},B=function P(M){var L=Object.assign(P.convert(Promise.resolve()),JSON.parse(JSON.stringify(P.template))),G=P.convert(Promise.resolve(),L);return(G=G.setProgress(1,P,1,[P])).set(M)};(B.prototype=Object.create(Promise.prototype)).constructor=B,B.convert=function(P,M){return P.__proto__=M||B.prototype,P},B.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},B.prototype.from=function(P,M){return this.then(function(){switch(M=M||function(L){switch(S(L)){case"string":return"string";case"element":return"canvas"===L.nodeName.toLowerCase()?"canvas":"element";default:return"unknown"}}(P)){case"string":return this.then(y).then(function(L){return this.set({src:x("div",{innerHTML:P,dompurify:L})})});case"element":return this.set({src:P});case"canvas":return this.set({canvas:P});case"img":return this.set({img:P});default:return this.error("Unknown source type.")}})},B.prototype.to=function(P){switch(P){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},B.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var P={position:"relative",display:"inline-block",width:("number"!=typeof this.opt.width||isNaN(this.opt.width)||"number"!=typeof this.opt.windowWidth||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},M=function L(G,te){for(var ue=3===G.nodeType?document.createTextNode(G.nodeValue):G.cloneNode(!1),pe=G.firstChild;pe;pe=pe.nextSibling)!0!==te&&1===pe.nodeType&&"SCRIPT"===pe.nodeName||ue.appendChild(L(pe,te));return 1===G.nodeType&&("CANVAS"===G.nodeName?(ue.width=G.width,ue.height=G.height,ue.getContext("2d").drawImage(G,0,0)):"TEXTAREA"!==G.nodeName&&"SELECT"!==G.nodeName||(ue.value=G.value),ue.addEventListener("load",function(){ue.scrollTop=G.scrollTop,ue.scrollLeft=G.scrollLeft},!0)),ue}(this.prop.src,this.opt.html2canvas.javascriptEnabled);"BODY"===M.tagName&&(P.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=x("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=x("div",{className:"html2pdf__container",style:P}),this.prop.container.appendChild(M),this.prop.container.firstChild.appendChild(x("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},B.prototype.toCanvas=function(){return this.thenList([function(){return document.body.contains(this.prop.container)||this.toContainer()}]).then(g).then(function(M){var L=Object.assign({},this.opt.html2canvas);return delete L.onrendered,M(this.prop.container,L)}).then(function(M){(this.opt.html2canvas.onrendered||function(){})(M),this.prop.canvas=M,document.body.removeChild(this.prop.overlay)})},B.prototype.toContext2d=function(){return this.thenList([function(){return document.body.contains(this.prop.container)||this.toContainer()}]).then(g).then(function(M){var L=this.opt.jsPDF,G=this.opt.fontFaces,te="number"!=typeof this.opt.width||isNaN(this.opt.width)||"number"!=typeof this.opt.windowWidth||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,ue=Object.assign({async:!0,allowTaint:!0,scale:te,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete ue.onrendered,L.context2d.autoPaging=void 0===this.opt.autoPaging||this.opt.autoPaging,L.context2d.posX=this.opt.x,L.context2d.posY=this.opt.y,L.context2d.margin=this.opt.margin,L.context2d.fontFaces=G,G)for(var pe=0;pe<G.length;++pe){var j=G[pe],Pe=j.src.find(function(be){return"truetype"===be.format});Pe&&L.addFont(Pe.url,j.ref.name,j.ref.style)}return ue.windowHeight=ue.windowHeight||0,ue.windowHeight=0==ue.windowHeight?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):ue.windowHeight,L.context2d.save(!0),M(this.prop.container,ue)}).then(function(M){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(M),this.prop.canvas=M,document.body.removeChild(this.prop.overlay)})},B.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var P=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=P})},B.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},B.prototype.output=function(P,M,L){return"img"===(L=L||"pdf").toLowerCase()||"image"===L.toLowerCase()?this.outputImg(P,M):this.outputPdf(P,M)},B.prototype.outputPdf=function(P,M){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(P,M)})},B.prototype.outputImg=function(P){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(P){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+P+'" is not supported.'}})},B.prototype.save=function(P){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(P?{filename:P}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},B.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},B.prototype.set=function(P){if("object"!==S(P))return this;var M=Object.keys(P||{}).map(function(L){if(L in B.template.prop)return function(){this.prop[L]=P[L]};switch(L){case"margin":return this.setMargin.bind(this,P.margin);case"jsPDF":return function(){return this.opt.jsPDF=P.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,P.pageSize);default:return function(){this.opt[L]=P[L]}}},this);return this.then(function(){return this.thenList(M)})},B.prototype.get=function(P,M){return this.then(function(){var L=P in B.template.prop?this.prop[P]:this.opt[P];return M?M(L):L})},B.prototype.setMargin=function(P){return this.then(function(){switch(S(P)){case"number":P=[P,P,P,P];case"array":if(2===P.length&&(P=[P[0],P[1],P[0],P[1]]),4===P.length)break;default:return this.error("Invalid margin array.")}this.opt.margin=P}).then(this.setPageSize)},B.prototype.setPageSize=function(P){function M(L,G){return Math.floor(L*G/72*96)}return this.then(function(){(P=P||qr.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(P.inner={width:P.width-this.opt.margin[1]-this.opt.margin[3],height:P.height-this.opt.margin[0]-this.opt.margin[2]},P.inner.px={width:M(P.inner.width,P.k),height:M(P.inner.height,P.k)},P.inner.ratio=P.inner.height/P.inner.width),this.prop.pageSize=P})},B.prototype.setProgress=function(P,M,L,G){return null!=P&&(this.progress.val=P),null!=M&&(this.progress.state=M),null!=L&&(this.progress.n=L),null!=G&&(this.progress.stack=G),this.progress.ratio=this.progress.val/this.progress.state,this},B.prototype.updateProgress=function(P,M,L,G){return this.setProgress(P?this.progress.val+P:null,M||null,L?this.progress.n+L:null,G?this.progress.stack.concat(G):null)},B.prototype.then=function(P,M){var L=this;return this.thenCore(P,M,function(G,te){return L.updateProgress(null,null,1,[G]),Promise.prototype.then.call(this,function(ue){return L.updateProgress(null,G),ue}).then(G,te).then(function(ue){return L.updateProgress(1),ue})})},B.prototype.thenCore=function(P,M,L){L=L||Promise.prototype.then,P&&(P=P.bind(this)),M&&(M=M.bind(this));var G=-1!==Promise.toString().indexOf("[native code]")&&"Promise"===Promise.name?this:B.convert(Object.assign({},this),Promise.prototype),te=L.call(G,P,M);return B.convert(te,this.__proto__)},B.prototype.thenExternal=function(P,M){return Promise.prototype.then.call(this,P,M)},B.prototype.thenList=function(P){var M=this;return P.forEach(function(L){M=M.thenCore(L)}),M},B.prototype.catch=function(P){P&&(P=P.bind(this));var M=Promise.prototype.catch.call(this,P);return B.convert(M,this)},B.prototype.catchExternal=function(P){return Promise.prototype.catch.call(this,P)},B.prototype.error=function(P){return this.then(function(){throw new Error(P)})},B.prototype.using=B.prototype.set,B.prototype.saveAs=B.prototype.save,B.prototype.export=B.prototype.output,B.prototype.run=B.prototype.then,qr.getPageSize=function(P,M,L){if("object"===(0,V.A)(P)){var G=P;P=G.orientation,M=G.unit||M,L=G.format||L}M=M||"mm",L=L||"a4",P=(""+(P||"P")).toLowerCase();var te,ue=(""+L).toLowerCase(),pe={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(M){case"pt":te=1;break;case"mm":te=72/25.4;break;case"cm":te=72/2.54;break;case"in":te=72;break;case"px":te=.75;break;case"pc":case"em":te=12;break;case"ex":te=6;break;default:throw"Invalid unit: "+M}var j,Pe=0,be=0;if(pe.hasOwnProperty(ue))Pe=pe[ue][1]/te,be=pe[ue][0]/te;else try{Pe=L[1],be=L[0]}catch{throw new Error("Invalid format: "+L)}if("p"===P||"portrait"===P)P="p",be>Pe&&(j=be,be=Pe,Pe=j);else{if("l"!==P&&"landscape"!==P)throw"Invalid orientation: "+P;P="l",Pe>be&&(j=be,be=Pe,Pe=j)}return{width:be,height:Pe,unit:M,k:te,orientation:P}},C.html=function(P,M){(M=M||{}).callback=M.callback||function(){},M.html2canvas=M.html2canvas||{},M.html2canvas.canvas=M.html2canvas.canvas||this.canvas,M.jsPDF=M.jsPDF||this,M.fontFaces=M.fontFaces?M.fontFaces.map(eu):null;var L=new B(M);return M.worker?L:L.from(P).doCallback()}}(qr.API),qr.API.addJS=function(C){return Uu=C,this.internal.events.subscribe("postPutResources",function(){wl=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(wl+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),Qp=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+Uu+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){void 0!==wl&&void 0!==Qp&&this.internal.out("/Names <</JavaScript "+wl+" 0 R>>")}),this},
/**
         * @license
         * Copyright (c) 2014 Steven Spungin (TwelveTone LLC)  steven@twelvetone.tv
         *
         * Licensed under the MIT License.
         * http://opensource.org/licenses/mit-license
         */
function(C){var g;C.events.push(["postPutResources",function(){var y=this,S=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var x=y.outline.render().split(/\r\n/),B=0;B<x.length;B++){var P=x[B],M=S.exec(P);null!=M&&y.internal.newObjectDeferredBegin(M[1],!1),y.internal.write(P)}if(this.outline.createNamedDestinations){var G=this.internal.pages.length,te=[];for(B=0;B<G;B++){var ue=y.internal.newObject();te.push(ue);var pe=y.internal.getPageInfo(B+1);y.internal.write("<< /D["+pe.objId+" 0 R /XYZ null null null]>> endobj")}var j=y.internal.newObject();for(y.internal.write("<< /Names [ "),B=0;B<te.length;B++)y.internal.write("(page_"+(B+1)+")"+te[B]+" 0 R");y.internal.write(" ] >>","endobj"),g=y.internal.newObject(),y.internal.write("<< /Dests "+j+" 0 R"),y.internal.write(">>","endobj")}}]),C.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+g+" 0 R"))}]),C.events.push(["initialized",function(){var y=this;y.outline={createNamedDestinations:!1,root:{children:[]}},y.outline.add=function(S,x,B){var P={title:x,options:B,children:[]};return null==S&&(S=this.root),S.children.push(P),P},y.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=y,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},y.outline.genIds_r=function(S){S.id=y.internal.newObjectDeferred();for(var x=0;x<S.children.length;x++)this.genIds_r(S.children[x])},y.outline.renderRoot=function(S){this.objStart(S),this.line("/Type /Outlines"),S.children.length>0&&(this.line("/First "+this.makeRef(S.children[0])),this.line("/Last "+this.makeRef(S.children[S.children.length-1]))),this.line("/Count "+this.count_r({count:0},S)),this.objEnd()},y.outline.renderItems=function(S){for(var x=this.ctx.pdf.internal.getVerticalCoordinateString,B=0;B<S.children.length;B++){var P=S.children[B];this.objStart(P),this.line("/Title "+this.makeString(P.title)),this.line("/Parent "+this.makeRef(S)),B>0&&this.line("/Prev "+this.makeRef(S.children[B-1])),B<S.children.length-1&&this.line("/Next "+this.makeRef(S.children[B+1])),P.children.length>0&&(this.line("/First "+this.makeRef(P.children[0])),this.line("/Last "+this.makeRef(P.children[P.children.length-1])));var M=this.count=this.count_r({count:0},P);if(M>0&&this.line("/Count "+M),P.options&&P.options.pageNumber){var L=y.internal.getPageInfo(P.options.pageNumber);this.line("/Dest ["+L.objId+" 0 R /XYZ 0 "+x(0)+" 0]")}this.objEnd()}for(var G=0;G<S.children.length;G++)this.renderItems(S.children[G])},y.outline.line=function(S){this.ctx.val+=S+"\r\n"},y.outline.makeRef=function(S){return S.id+" 0 R"},y.outline.makeString=function(S){return"("+y.internal.pdfEscape(S)+")"},y.outline.objStart=function(S){this.ctx.val+="\r\n"+S.id+" 0 obj\r\n<<\r\n"},y.outline.objEnd=function(){this.ctx.val+=">> \r\nendobj\r\n"},y.outline.count_r=function(S,x){for(var B=0;B<x.children.length;B++)S.count++,this.count_r(S,x.children[B]);return S.count}}])}(qr.API),
/**
         * @license
         *
         * Licensed under the MIT License.
         * http://opensource.org/licenses/mit-license
         */
function(C){var g=[192,193,194,195,196,197,198,199];C.processJPEG=function(y,S,x,B,P,M){var L,G=this.decode.DCT_DECODE,te=null;if("string"==typeof y||this.__addimage__.isArrayBuffer(y)||this.__addimage__.isArrayBufferView(y)){switch(y=this.__addimage__.isArrayBuffer(y=P||y)?new Uint8Array(y):y,(L=function(ue){for(var pe,j=256*ue.charCodeAt(4)+ue.charCodeAt(5),Pe=ue.length,be={width:0,height:0,numcomponents:1},ze=4;ze<Pe;ze+=2){if(-1!==g.indexOf(ue.charCodeAt((ze+=j)+1))){pe=256*ue.charCodeAt(ze+5)+ue.charCodeAt(ze+6),be={width:256*ue.charCodeAt(ze+7)+ue.charCodeAt(ze+8),height:pe,numcomponents:ue.charCodeAt(ze+9)};break}j=256*ue.charCodeAt(ze+2)+ue.charCodeAt(ze+3)}return be}(y=this.__addimage__.isArrayBufferView(y)?this.__addimage__.arrayBufferToBinaryString(y):y)).numcomponents){case 1:M=this.color_spaces.DEVICE_GRAY;break;case 4:M=this.color_spaces.DEVICE_CMYK;break;case 3:M=this.color_spaces.DEVICE_RGB}te={data:y,width:L.width,height:L.height,colorSpace:M,bitsPerComponent:8,filter:G,index:S,alias:x}}return te}}(qr.API);var Hc,ts,UA,La,_d,ki=function(){var C,g,y;function S(B){var P,L,G,te,ue,pe,j,Pe,be,ze,J,Le,gt;for(this.data=B,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},ue=null;;){switch(P=this.readUInt32(),Pe=function(){var xt,un;for(un=[],xt=0;xt<4;++xt)un.push(String.fromCharCode(this.data[this.pos++]));return un}.call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(P);break;case"fcTL":ue&&this.animation.frames.push(ue),this.pos+=4,ue={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},te=this.readUInt16(),G=this.readUInt16()||100,ue.delay=1e3*te/G,ue.disposeOp=this.data[this.pos++],ue.blendOp=this.data[this.pos++],ue.data=[];break;case"IDAT":case"fdAT":for("fdAT"===Pe&&(this.pos+=4,P-=4),B=(null!=ue?ue.data:void 0)||this.imgData,J=0;0<=P?J<P:J>P;0<=P?++J:--J)B.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(L=this.palette.length/3,this.transparency.indexed=this.read(P),this.transparency.indexed.length>L)throw new Error("More transparent colors than palette size");if((be=L-this.transparency.indexed.length)>0)for(Le=0;0<=be?Le<be:Le>be;0<=be?++Le:--Le)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(P)[0];break;case 2:this.transparency.rgb=this.read(P)}break;case"tEXt":pe=(ze=this.read(P)).indexOf(0),j=String.fromCharCode.apply(String,ze.slice(0,pe)),this.text[j]=String.fromCharCode.apply(String,ze.slice(pe+1));break;case"IEND":return ue&&this.animation.frames.push(ue),this.colors=function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}.call(this),this.hasAlphaChannel=4===(gt=this.colorType)||6===gt,this.pixelBitlength=this.bits*(this.colors+(this.hasAlphaChannel?1:0)),this.colorSpace=function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}.call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=P}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}S.prototype.read=function(B){var P,M;for(M=[],P=0;0<=B?P<B:P>B;0<=B?++P:--P)M.push(this.data[this.pos++]);return M},S.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},S.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},S.prototype.decodePixels=function(B){var P=this.pixelBitlength/8,M=new Uint8Array(this.width*this.height*P),L=0,G=this;if(null==B&&(B=this.imgData),0===B.length)return new Uint8Array(0);function te(ue,pe,j,Pe){var be,ze,J,Le,gt,xt,un,St,Ne,Zt,on,Be,we,pt,ct,cn,Jt,_n,Ht,wn,yn=Math.ceil((G.width-ue)/j),lr=Math.ceil((G.height-pe)/Pe),ae=G.width==yn&&G.height==lr;for(we=P*yn,on=ae?M:new Uint8Array(we*lr),xt=B.length,Be=0,ze=0;Be<lr&&L<xt;){switch(B[L++]){case 0:for(Le=cn=0;cn<we;Le=cn+=1)on[ze++]=B[L++];break;case 1:for(Le=Jt=0;Jt<we;Le=Jt+=1)be=B[L++],gt=Le<P?0:on[ze-P],on[ze++]=(be+gt)%256;break;case 2:for(Le=_n=0;_n<we;Le=_n+=1)be=B[L++],J=(Le-Le%P)/P,on[ze++]=((pt=Be&&on[(Be-1)*we+J*P+Le%P])+be)%256;break;case 3:for(Le=Ht=0;Ht<we;Le=Ht+=1)be=B[L++],J=(Le-Le%P)/P,gt=Le<P?0:on[ze-P],pt=Be&&on[(Be-1)*we+J*P+Le%P],on[ze++]=(be+Math.floor((gt+pt)/2))%256;break;case 4:for(Le=wn=0;wn<we;Le=wn+=1)be=B[L++],J=(Le-Le%P)/P,0===Be?pt=ct=0:(pt=on[(Be-1)*we+J*P+Le%P],ct=J&&on[(Be-1)*we+(J-1)*P+Le%P]),un=(gt=Le<P?0:on[ze-P])+pt-ct,St=Math.abs(un-gt),Ne=Math.abs(un-pt),Zt=Math.abs(un-ct),on[ze++]=(be+(St<=Ne&&St<=Zt?gt:Ne<=Zt?pt:ct))%256;break;default:throw new Error("Invalid filter algorithm: "+B[L-1])}if(!ae){var Ve=((pe+Be*Pe)*G.width+ue)*P,Je=Be*we;for(Le=0;Le<yn;Le+=1){for(var mt=0;mt<P;mt+=1)M[Ve++]=on[Je++];Ve+=(j-1)*P}}Be++}}return B=Na(B),1==G.interlaceMethod?(te(0,0,8,8),te(4,0,8,8),te(0,4,4,8),te(2,0,4,4),te(0,2,2,4),te(1,0,2,2),te(0,1,1,2)):te(0,0,1,1),M},S.prototype.decodePalette=function(){var B,P,M,L,G,te,ue,pe,j;for(M=this.palette,te=this.transparency.indexed||[],G=new Uint8Array((te.length||0)+M.length),L=0,B=0,P=ue=0,pe=M.length;ue<pe;P=ue+=3)G[L++]=M[P],G[L++]=M[P+1],G[L++]=M[P+2],G[L++]=null!=(j=te[B++])?j:255;return G},S.prototype.copyToImageData=function(B,P){var M,L,G,te,ue,pe,j,Pe,be,ze,J;if(L=this.colors,be=null,M=this.hasAlphaChannel,this.palette.length&&(be=null!=(J=this._decodedPalette)?J:this._decodedPalette=this.decodePalette(),L=4,M=!0),Pe=(G=B.data||B).length,ue=be||P,te=pe=0,1===L)for(;te<Pe;)j=be?4*P[te/4]:pe,ze=ue[j++],G[te++]=ze,G[te++]=ze,G[te++]=ze,G[te++]=M?ue[j++]:255,pe=j;else for(;te<Pe;)j=be?4*P[te/4]:pe,G[te++]=ue[j++],G[te++]=ue[j++],G[te++]=ue[j++],G[te++]=M?ue[j++]:255,pe=j},S.prototype.decode=function(){var B;return B=new Uint8Array(this.width*this.height*4),this.copyToImageData(B,this.decodePixels()),B};var x=function(){if("[object Window]"===Object.prototype.toString.call(nr)){try{g=nr.document.createElement("canvas"),y=g.getContext("2d")}catch{return!1}return!0}return!1};return x(),C=function(B){var P;if(!0===x())return y.width=B.width,y.height=B.height,y.clearRect(0,0,B.width,B.height),y.putImageData(B,0,0),(P=new Image).src=g.toDataURL(),P;throw new Error("This method requires a Browser with Canvas-capability.")},S.prototype.decodeFrames=function(B){var P,M,L,G,te,ue,pe,j;if(this.animation){for(j=[],M=te=0,ue=(pe=this.animation.frames).length;te<ue;M=++te)L=B.createImageData((P=pe[M]).width,P.height),G=this.decodePixels(new Uint8Array(P.data)),this.copyToImageData(L,G),P.imageData=L,j.push(P.image=C(L));return j}},S.prototype.renderFrame=function(B,P){var M,L,G;return M=(L=this.animation.frames)[P],G=L[P-1],0===P&&B.clearRect(0,0,this.width,this.height),1===(null!=G?G.disposeOp:void 0)?B.clearRect(G.xOffset,G.yOffset,G.width,G.height):2===(null!=G?G.disposeOp:void 0)&&B.putImageData(G.imageData,G.xOffset,G.yOffset),0===M.blendOp&&B.clearRect(M.xOffset,M.yOffset,M.width,M.height),B.drawImage(M.image,M.xOffset,M.yOffset)},S.prototype.animate=function(B){var P,M,L,G,te,ue,pe=this;return M=0,G=(ue=this.animation).numFrames,L=ue.frames,te=ue.numPlays,(P=function(){var j,Pe;if(j=M++%G,Pe=L[j],pe.renderFrame(B,j),G>1&&M/G<te)return pe.animation._timeout=setTimeout(P,Pe.delay)})()},S.prototype.stopAnimation=function(){var B;return clearTimeout(null!=(B=this.animation)?B._timeout:void 0)},S.prototype.render=function(B){var P,M;return B._png&&B._png.stopAnimation(),B._png=this,B.width=this.width,B.height=this.height,P=B.getContext("2d"),this.animation?(this.decodeFrames(P),this.animate(P)):(M=P.createImageData(this.width,this.height),this.copyToImageData(M,this.decodePixels()),P.putImageData(M,0,0))},S}();function jc(C){var g=0;if(71!==C[g++]||73!==C[g++]||70!==C[g++]||56!==C[g++]||56!=(C[g++]+1&253)||97!==C[g++])throw new Error("Invalid GIF 87a/89a header.");var y=C[g++]|C[g++]<<8,S=C[g++]|C[g++]<<8,x=C[g++],P=1<<1+(7&x);g++,g++;var M=null,L=null;x>>7&&(M=g,L=P,g+=3*P);var G=!0,te=[],ue=0,pe=null,j=0,Pe=null;for(this.width=y,this.height=S;G&&g<C.length;)switch(C[g++]){case 33:switch(C[g++]){case 255:if(11!==C[g]||78==C[g+1]&&69==C[g+2]&&84==C[g+3]&&83==C[g+4]&&67==C[g+5]&&65==C[g+6]&&80==C[g+7]&&69==C[g+8]&&50==C[g+9]&&46==C[g+10]&&48==C[g+11]&&3==C[g+12]&&1==C[g+13]&&0==C[g+16])g+=14,Pe=C[g++]|C[g++]<<8,g++;else for(g+=12;;){if(!((Be=C[g++])>=0))throw Error("Invalid block size");if(0===Be)break;g+=Be}break;case 249:if(4!==C[g++]||0!==C[g+4])throw new Error("Invalid graphics extension block.");var be=C[g++];ue=C[g++]|C[g++]<<8,pe=C[g++],!(1&be)&&(pe=null),j=be>>2&7,g++;break;case 254:for(;;){if(!((Be=C[g++])>=0))throw Error("Invalid block size");if(0===Be)break;g+=Be}break;default:throw new Error("Unknown graphic control label: 0x"+C[g-1].toString(16))}break;case 44:var ze=C[g++]|C[g++]<<8,J=C[g++]|C[g++]<<8,Le=C[g++]|C[g++]<<8,gt=C[g++]|C[g++]<<8,xt=C[g++],un=xt>>6&1,St=1<<1+(7&xt),Bt=M,Ne=L,Zt=!1;xt>>7&&(Zt=!0,Bt=g,Ne=St,g+=3*St);var on=g;for(g++;;){var Be;if(!((Be=C[g++])>=0))throw Error("Invalid block size");if(0===Be)break;g+=Be}te.push({x:ze,y:J,width:Le,height:gt,has_local_palette:Zt,palette_offset:Bt,palette_size:Ne,data_offset:on,data_length:g-on,transparent_index:pe,interlaced:!!un,delay:ue,disposal:j});break;case 59:G=!1;break;default:throw new Error("Unknown gif block: 0x"+C[g-1].toString(16))}this.numFrames=function(){return te.length},this.loopCount=function(){return Pe},this.frameInfo=function(we){if(we<0||we>=te.length)throw new Error("Frame index out of range.");return te[we]},this.decodeAndBlitFrameBGRA=function(we,pt){var ct=this.frameInfo(we),cn=ct.width*ct.height,Jt=new Uint8Array(cn);eA(C,ct.data_offset,Jt,cn);var _n=ct.palette_offset,Ht=ct.transparent_index;null===Ht&&(Ht=256);var wn=ct.width,yn=y-wn,lr=wn,ae=4*(ct.y*y+ct.x),Ve=4*((ct.y+ct.height)*y+ct.x),Je=ae,mt=4*yn;!0===ct.interlaced&&(mt+=4*y*7);for(var Et=8,zt=0,Wt=Jt.length;zt<Wt;++zt){var jt=Jt[zt];if(0===lr&&(lr=wn,(Je+=mt)>=Ve&&(mt=4*yn+4*y*(Et-1),Je=ae+(wn+yn)*(Et<<1),Et>>=1)),jt===Ht)Je+=4;else{var Gn=C[_n+3*jt],Hn=C[_n+3*jt+1];pt[Je++]=C[_n+3*jt+2],pt[Je++]=Hn,pt[Je++]=Gn,pt[Je++]=255}--lr}},this.decodeAndBlitFrameRGBA=function(we,pt){var ct=this.frameInfo(we),cn=ct.width*ct.height,Jt=new Uint8Array(cn);eA(C,ct.data_offset,Jt,cn);var _n=ct.palette_offset,Ht=ct.transparent_index;null===Ht&&(Ht=256);var wn=ct.width,yn=y-wn,lr=wn,ae=4*(ct.y*y+ct.x),Ve=4*((ct.y+ct.height)*y+ct.x),Je=ae,mt=4*yn;!0===ct.interlaced&&(mt+=4*y*7);for(var Et=8,zt=0,Wt=Jt.length;zt<Wt;++zt){var jt=Jt[zt];if(0===lr&&(lr=wn,(Je+=mt)>=Ve&&(mt=4*yn+4*y*(Et-1),Je=ae+(wn+yn)*(Et<<1),Et>>=1)),jt===Ht)Je+=4;else{var Hn=C[_n+3*jt+1],pr=C[_n+3*jt+2];pt[Je++]=C[_n+3*jt],pt[Je++]=Hn,pt[Je++]=pr,pt[Je++]=255}--lr}}}function eA(C,g,y,S){for(var x=C[g++],B=1<<x,P=B+1,M=P+1,L=x+1,G=(1<<L)-1,te=0,ue=0,pe=0,j=C[g++],Pe=new Int32Array(4096),be=null;;){for(;te<16&&0!==j;)ue|=C[g++]<<te,te+=8,1===j?j=C[g++]:--j;if(te<L)break;var ze=ue&G;if(ue>>=L,te-=L,ze!==B){if(ze===P)break;for(var J=ze<M?ze:be,Le=0,gt=J;gt>B;)gt=Pe[gt]>>8,++Le;var xt=gt;if(pe+Le+(J!==ze?1:0)>S)return void Ao.log("Warning, gif stream longer than expected.");y[pe++]=xt;var un=pe+=Le;for(J!==ze&&(y[pe++]=xt),gt=J;Le--;)y[--un]=255&(gt=Pe[gt]),gt>>=8;null!==be&&M<4096&&(Pe[M++]=be<<8|xt,M>=G+1&&L<12&&(++L,G=G<<1|1)),be=ze}else M=P+1,G=(1<<(L=x+1))-1,be=null}return pe!==S&&Ao.log("Warning, gif stream shorter than expected."),y}function zc(C){var g,y,S,x,B,P=Math.floor,M=new Array(64),L=new Array(64),G=new Array(64),te=new Array(64),ue=new Array(65535),pe=new Array(65535),j=new Array(64),Pe=new Array(64),be=[],ze=0,J=7,Le=new Array(64),gt=new Array(64),xt=new Array(64),un=new Array(256),St=new Array(2048),Bt=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],Ne=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],Zt=[0,1,2,3,4,5,6,7,8,9,10,11],on=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],Be=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],we=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],pt=[0,1,2,3,4,5,6,7,8,9,10,11],ct=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],cn=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function Jt(ae,Ve){for(var Je=0,mt=0,Et=new Array,zt=1;zt<=16;zt++){for(var Wt=1;Wt<=ae[zt];Wt++)Et[Ve[mt]]=[],Et[Ve[mt]][0]=Je,Et[Ve[mt]][1]=zt,mt++,Je++;Je*=2}return Et}function _n(ae){for(var Ve=ae[0],Je=ae[1]-1;Je>=0;)Ve&1<<Je&&(ze|=1<<J),Je--,--J<0&&(255==ze?(Ht(255),Ht(0)):Ht(ze),J=7,ze=0)}function Ht(ae){be.push(ae)}function wn(ae){Ht(ae>>8&255),Ht(255&ae)}function yn(ae,Ve,Je,mt,Et){for(var zt,Wt=Et[0],jt=Et[240],Gn=function(Qn,Xn){var gr,ir,Wr,fi,Ri,Ei,Pi,Ji,li,Ti,or=0;for(li=0;li<8;++li){var Ua=(gr=Qn[or])+(Ji=Qn[or+7]),Br=gr-Ji,ou=(ir=Qn[or+1])+(Pi=Qn[or+6]),No=ir-Pi,Qo=(Wr=Qn[or+2])+(Ei=Qn[or+5]),su=Wr-Ei,To=(fi=Qn[or+3])+(Ri=Qn[or+4]),nA=fi-Ri,Is=Ua+To,Qu=Ua-To,au=ou+Qo,As=ou-Qo;Qn[or]=Is+au,Qn[or+4]=Is-au;var ni=.707106781*(As+Qu);Qn[or+2]=Qu+ni,Qn[or+6]=Qu-ni;var Yr=.382683433*((Is=nA+su)-(As=No+Br)),Vn=.5411961*Is+Yr,mr=1.306562965*As+Yr,uo=.707106781*(au=su+No),Rs=Br+uo,Mr=Br-uo;Qn[or+5]=Mr+Vn,Qn[or+3]=Mr-Vn,Qn[or+1]=Rs+mr,Qn[or+7]=Rs-mr,or+=8}for(or=0,li=0;li<8;++li){var ns=(gr=Qn[or])+(Ji=Qn[or+56]),Va=gr-Ji,Li=(ir=Qn[or+8])+(Pi=Qn[or+48]),oo=ir-Pi,Mo=(Wr=Qn[or+16])+(Ei=Qn[or+40]),Lr=Wr-Ei,Ac=(fi=Qn[or+24])+(Ri=Qn[or+32]),hc=fi-Ri,Qa=ns+Ac,si=ns-Ac,rl=Li+Mo,ga=Li-Mo;Qn[or]=Qa+rl,Qn[or+32]=Qa-rl;var Os=.707106781*(ga+si);Qn[or+16]=si+Os,Qn[or+48]=si-Os;var Il=.382683433*((Qa=hc+Lr)-(ga=oo+Va)),Cd=.5411961*Qa+Il,Ha=1.306562965*ga+Il,fc=.707106781*(rl=Lr+oo),lu=Va+fc,ui=Va-fc;Qn[or+40]=ui+Cd,Qn[or+24]=ui-Cd,Qn[or+8]=lu+Ha,Qn[or+56]=lu-Ha,or++}for(li=0;li<64;++li)j[li]=(Ti=Qn[li]*Xn[li])>0?Ti+.5|0:Ti-.5|0;return j}(ae,Ve),Hn=0;Hn<64;++Hn)Pe[Bt[Hn]]=Gn[Hn];var pr=Pe[0]-Je;Je=Pe[0],0==pr?_n(mt[0]):(_n(mt[pe[zt=32767+pr]]),_n(ue[zt]));for(var Tr=63;Tr>0&&0==Pe[Tr];)Tr--;if(0==Tr)return _n(Wt),Je;for(var ai,pn=1;pn<=Tr;){for(var je=pn;0==Pe[pn]&&pn<=Tr;)++pn;var ti=pn-je;if(ti>=16){ai=ti>>4;for(var Ur=1;Ur<=ai;++Ur)_n(jt);ti&=15}_n(Et[(ti<<4)+pe[zt=32767+Pe[pn]]]),_n(ue[zt]),pn++}return 63!=Tr&&_n(Wt),Je}function lr(ae){ae=Math.min(Math.max(ae,1),100),B!=ae&&(function(Ve){for(var Je=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],mt=0;mt<64;mt++){var Et=P((Je[mt]*Ve+50)/100);Et=Math.min(Math.max(Et,1),255),M[Bt[mt]]=Et}for(var zt=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],Wt=0;Wt<64;Wt++){var jt=P((zt[Wt]*Ve+50)/100);jt=Math.min(Math.max(jt,1),255),L[Bt[Wt]]=jt}for(var Gn=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Hn=0,pr=0;pr<8;pr++)for(var Tr=0;Tr<8;Tr++)G[Hn]=1/(M[Bt[Hn]]*Gn[pr]*Gn[Tr]*8),te[Hn]=1/(L[Bt[Hn]]*Gn[pr]*Gn[Tr]*8),Hn++}(ae<50?Math.floor(5e3/ae):Math.floor(200-2*ae)),B=ae)}this.encode=function(ae,Ve){var ir,Wr;Ve&&lr(Ve),be=new Array,ze=0,J=7,wn(65496),wn(65504),wn(16),Ht(74),Ht(70),Ht(73),Ht(70),Ht(0),Ht(1),Ht(1),Ht(0),wn(1),wn(1),Ht(0),Ht(0),function(){wn(65499),wn(132),Ht(0);for(var ir=0;ir<64;ir++)Ht(M[ir]);Ht(1);for(var Wr=0;Wr<64;Wr++)Ht(L[Wr])}(),ir=ae.width,Wr=ae.height,wn(65472),wn(17),Ht(8),wn(Wr),wn(ir),Ht(3),Ht(1),Ht(17),Ht(0),Ht(2),Ht(17),Ht(1),Ht(3),Ht(17),Ht(1),function(){wn(65476),wn(418),Ht(0);for(var ir=0;ir<16;ir++)Ht(Ne[ir+1]);for(var Wr=0;Wr<=11;Wr++)Ht(Zt[Wr]);Ht(16);for(var fi=0;fi<16;fi++)Ht(on[fi+1]);for(var Ri=0;Ri<=161;Ri++)Ht(Be[Ri]);Ht(1);for(var Ei=0;Ei<16;Ei++)Ht(we[Ei+1]);for(var Pi=0;Pi<=11;Pi++)Ht(pt[Pi]);Ht(17);for(var Ji=0;Ji<16;Ji++)Ht(ct[Ji+1]);for(var li=0;li<=161;li++)Ht(cn[li])}(),wn(65498),wn(12),Ht(3),Ht(1),Ht(0),Ht(2),Ht(17),Ht(3),Ht(17),Ht(0),Ht(63),Ht(0);var Je=0,mt=0,Et=0;ze=0,J=7,this.encode.displayName="_encode_";for(var zt,Wt,jt,Gn,Hn,pr,Tr,ai,pn,je=ae.data,Ur=ae.height,Qn=4*ae.width,Xn=0;Xn<Ur;){for(zt=0;zt<Qn;){for(Hn=Qn*Xn+zt,Tr=-1,ai=0,pn=0;pn<64;pn++)pr=Hn+(ai=pn>>3)*Qn+(Tr=4*(7&pn)),Xn+ai>=Ur&&(pr-=Qn*(Xn+1+ai-Ur)),zt+Tr>=Qn&&(pr-=zt+Tr-Qn+4),Wt=je[pr++],jt=je[pr++],Gn=je[pr++],Le[pn]=(St[Wt]+St[jt+256|0]+St[Gn+512|0]>>16)-128,gt[pn]=(St[Wt+768|0]+St[jt+1024|0]+St[Gn+1280|0]>>16)-128,xt[pn]=(St[Wt+1280|0]+St[jt+1536|0]+St[Gn+1792|0]>>16)-128;Je=yn(Le,G,Je,g,S),mt=yn(gt,te,mt,y,x),Et=yn(xt,te,Et,y,x),zt+=32}Xn+=8}if(J>=0){var gr=[];gr[1]=J+1,gr[0]=(1<<J+1)-1,_n(gr)}return wn(65497),new Uint8Array(be)},C=C||50,function(){for(var ae=String.fromCharCode,Ve=0;Ve<256;Ve++)un[Ve]=ae(Ve)}(),g=Jt(Ne,Zt),y=Jt(we,pt),S=Jt(on,Be),x=Jt(ct,cn),function(){for(var ae=1,Ve=2,Je=1;Je<=15;Je++){for(var mt=ae;mt<Ve;mt++)pe[32767+mt]=Je,ue[32767+mt]=[],ue[32767+mt][1]=Je,ue[32767+mt][0]=mt;for(var Et=-(Ve-1);Et<=-ae;Et++)pe[32767+Et]=Je,ue[32767+Et]=[],ue[32767+Et][1]=Je,ue[32767+Et][0]=Ve-1+Et;ae<<=1,Ve<<=1}}(),function(){for(var ae=0;ae<256;ae++)St[ae]=19595*ae,St[ae+256|0]=38470*ae,St[ae+512|0]=7471*ae+32768,St[ae+768|0]=-11059*ae,St[ae+1024|0]=-21709*ae,St[ae+1280|0]=32768*ae+8421375,St[ae+1536|0]=-27439*ae,St[ae+1792|0]=-5329*ae}(),lr(C)}function Oa(C,g){if(this.pos=0,this.buffer=C,this.datav=new DataView(C.buffer),this.is_with_alpha=!!g,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,-1===["BM","BA","CI","CP","IC","PT"].indexOf(this.flag))throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function $c(C){function g(Ne){if(!Ne)throw Error("assert :P")}function y(Ne,Zt,on){for(var Be=0;4>Be;Be++)if(Ne[Zt+Be]!=on.charCodeAt(Be))return!0;return!1}function S(Ne,Zt,on,Be,we){for(var pt=0;pt<we;pt++)Ne[Zt+pt]=on[Be+pt]}function x(Ne,Zt,on,Be){for(var we=0;we<Be;we++)Ne[Zt+we]=on}function B(Ne){return new Int32Array(Ne)}function P(Ne,Zt){for(var on=[],Be=0;Be<Ne;Be++)on.push(new Zt);return on}function M(Ne,Zt){var on=[];return function Be(we,pt,ct){for(var cn=ct[pt],Jt=0;Jt<cn&&(we.push(ct.length>pt+1?[]:new Zt),!(ct.length<pt+1));Jt++)Be(we[Jt],pt+1,ct)}(on,0,Ne),on}var L=function(){var Ne=this;function Zt(f,T){for(var N=1<<T-1>>>0;f&N;)N>>>=1;return N?(f&N-1)+N:f}function on(f,T,N,H,X){g(!(H%N));do{f[T+(H-=N)]=X}while(0<H)}function Be(f,T,N,H,X){if(g(2328>=X),512>=X)var oe=B(512);else if(null==(oe=B(X)))return 0;return function(le,Ae,me,A,h,w){var _,F,O=Ae,z=1<<me,$=B(16),W=B(16);for(g(0!=h),g(null!=A),g(null!=le),g(0<me),F=0;F<h;++F){if(15<A[F])return 0;++$[A[F]]}if($[0]==h)return 0;for(W[1]=0,_=1;15>_;++_){if($[_]>1<<_)return 0;W[_+1]=W[_]+$[_]}for(F=0;F<h;++F)_=A[F],0<A[F]&&(w[W[_]++]=F);if(1==W[15])return(A=new we).g=0,A.value=w[0],on(le,O,1,z,A),z;var ye,Se=-1,ke=z-1,_t=0,qt=1,an=1,Kt=1<<me;for(F=0,_=1,h=2;_<=me;++_,h<<=1){if(qt+=an<<=1,0>(an-=$[_]))return 0;for(;0<$[_];--$[_])(A=new we).g=_,A.value=w[F++],on(le,O+_t,h,Kt,A),_t=Zt(_t,_)}for(_=me+1,h=2;15>=_;++_,h<<=1){if(qt+=an<<=1,0>(an-=$[_]))return 0;for(;0<$[_];--$[_]){if(A=new we,(_t&ke)!=Se){for(O+=Kt,ye=1<<(Se=_)-me;15>Se&&!(0>=(ye-=$[Se]));)++Se,ye<<=1;z+=Kt=1<<(ye=Se-me),le[Ae+(Se=_t&ke)].g=ye+me,le[Ae+Se].value=O-Ae-Se}A.g=_-me,A.value=w[F++],on(le,O+(_t>>me),h,Kt,A),_t=Zt(_t,_)}}return qt!=2*W[15]-1?0:z}(f,T,N,H,X,oe)}function we(){this.value=this.g=0}function pt(){this.value=this.g=0}function ct(){this.G=P(5,we),this.H=B(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=P($a,pt)}function cn(f,T,N,H){g(null!=f),g(null!=T),g(2147483648>H),f.Ca=254,f.I=0,f.b=-8,f.Ka=0,f.oa=T,f.pa=N,f.Jd=T,f.Yc=N+H,f.Zc=4<=H?N+H-4+1:N,zt(f)}function Jt(f,T){for(var N=0;0<T--;)N|=jt(f,128)<<T;return N}function _n(f,T){var N=Jt(f,T);return Wt(f)?-N:N}function Ht(f,T,N,H){var X,oe=0;for(g(null!=f),g(null!=T),g(4294967288>H),f.Sb=H,f.Ra=0,f.u=0,f.h=0,4<H&&(H=4),X=0;X<H;++X)oe+=T[N+X]<<8*X;f.Ra=oe,f.bb=H,f.oa=T,f.pa=N}function wn(f){for(;8<=f.u&&f.bb<f.Sb;)f.Ra>>>=8,f.Ra+=f.oa[f.pa+f.bb]<<_c-8>>>0,++f.bb,f.u-=8;Je(f)&&(f.h=1,f.u=0)}function yn(f,T){if(g(0<=T),!f.h&&T<=Fd){var N=Ve(f)&xd[T];return f.u+=T,wn(f),N}return f.h=1,f.u=0}function lr(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function ae(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function Ve(f){return f.Ra>>>(f.u&_c-1)>>>0}function Je(f){return g(f.bb<=f.Sb),f.h||f.bb==f.Sb&&f.u>_c}function mt(f,T){f.u=T,f.h=Je(f)}function Et(f){f.u>=YA&&(g(f.u>=YA),wn(f))}function zt(f){g(null!=f&&null!=f.oa),f.pa<f.Zc?(f.I=(f.oa[f.pa++]|f.I<<8)>>>0,f.b+=8):(g(null!=f&&null!=f.oa),f.pa<f.Yc?(f.b+=8,f.I=f.oa[f.pa++]|f.I<<8):f.Ka?f.b=0:(f.I<<=8,f.b+=8,f.Ka=1))}function Wt(f){return Jt(f,1)}function jt(f,T){var N=f.Ca;0>f.b&&zt(f);var H=f.b,X=N*T>>>8,oe=(f.I>>>H>X)+0;for(oe?(N-=X,f.I-=X+1<<H>>>0):N=X+1,H=N,X=0;256<=H;)X+=8,H>>=8;return f.b-=H=7^X+Ga[H],f.Ca=(N<<H)-1,oe}function Gn(f,T,N){f[T+0]=N>>24&255,f[T+1]=N>>16&255,f[T+2]=N>>8&255,f[T+3]=255&N}function Hn(f,T){return f[T+0]|f[T+1]<<8}function pr(f,T){return Hn(f,T)|f[T+2]<<16}function Tr(f,T){return Hn(f,T)|Hn(f,T+2)<<16}function ai(f,T){var N=1<<T;return g(null!=f),g(0<T),f.X=B(N),null==f.X?0:(f.Mb=32-T,f.Xa=T,1)}function pn(f,T){g(null!=f),g(null!=T),g(f.Xa==T.Xa),S(T.X,0,f.X,0,1<<T.Xa)}function je(){this.X=[],this.Xa=this.Mb=0}function ti(f,T,N,H){g(null!=N),g(null!=H);var X=N[0],oe=H[0];return 0==X&&(X=(f*oe+T/2)/T),0==oe&&(oe=(T*X+f/2)/f),0>=X||0>=oe?0:(N[0]=X,H[0]=oe,1)}function Ur(f,T){return f+(1<<T)-1>>>T}function Qn(f,T){return((4278255360&f)+(4278255360&T)>>>0&4278255360)+((16711935&f)+(16711935&T)>>>0&16711935)>>>0}function Xn(f,T){Ne[T]=function(N,H,X,oe,le,Ae,me){var A;for(A=0;A<le;++A){var h=Ne[f](Ae[me+A-1],X,oe+A);Ae[me+A]=Qn(N[H+A],h)}}}function gr(){this.ud=this.hd=this.jd=0}function ir(f,T){return((4278124286&(f^T))>>>1)+(f&T)>>>0}function Wr(f){return 0<=f&&256>f?f:0>f?0:255<f?255:void 0}function fi(f,T){return Wr(f+(f-T+.5>>1))}function Ri(f,T,N){return Math.abs(T-N)-Math.abs(f-N)}function Ei(f,T,N,H,X,oe,le){for(H=oe[le-1],N=0;N<X;++N)oe[le+N]=H=Qn(f[T+N],H)}function Pi(f,T,N,H,X){var oe;for(oe=0;oe<N;++oe){var le=f[T+oe],Ae=le>>8&255,me=16711935&(me=(me=16711935&le)+((Ae<<16)+Ae));H[X+oe]=(4278255360&le)+me>>>0}}function Ji(f,T){T.jd=255&f,T.hd=f>>8&255,T.ud=f>>16&255}function li(f,T,N,H,X,oe){var le;for(le=0;le<H;++le){var Ae=T[N+le],me=Ae>>>8,A=Ae,h=255&(h=(h=Ae>>>16)+((f.jd<<24>>24)*(me<<24>>24)>>>5));A=255&(A=(A+=(f.hd<<24>>24)*(me<<24>>24)>>>5)+((f.ud<<24>>24)*(h<<24>>24)>>>5)),X[oe+le]=(4278255360&Ae)+(h<<16)+A}}function Ti(f,T,N,H,X){Ne[T]=function(oe,le,Ae,me,A,h,w,_,F){for(me=w;me<_;++me)for(w=0;w<F;++w)A[h++]=X(Ae[H(oe[le++])])},Ne[f]=function(oe,le,Ae,me,A,h,w){var _=8>>oe.b,F=oe.Ea,O=oe.K[0],z=oe.w;if(8>_)for(oe=(1<<oe.b)-1,z=(1<<_)-1;le<Ae;++le){var $,W=0;for($=0;$<F;++$)$&oe||(W=H(me[A++])),h[w++]=X(O[W&z]),W>>=_}else Ne["VP8LMapColor"+N](me,A,O,z,h,w,le,Ae,F)}}function or(f,T,N,H,X){for(N=T+N;T<N;){var oe=f[T++];H[X++]=oe>>16&255,H[X++]=oe>>8&255,H[X++]=255&oe}}function Ua(f,T,N,H,X){for(N=T+N;T<N;){var oe=f[T++];H[X++]=oe>>16&255,H[X++]=oe>>8&255,H[X++]=255&oe,H[X++]=oe>>24&255}}function Br(f,T,N,H,X){for(N=T+N;T<N;){var oe=(le=f[T++])>>16&240|le>>12&15,le=240&le|le>>28&15;H[X++]=oe,H[X++]=le}}function ou(f,T,N,H,X){for(N=T+N;T<N;){var oe=(le=f[T++])>>16&248|le>>13&7,le=le>>5&224|le>>3&31;H[X++]=oe,H[X++]=le}}function No(f,T,N,H,X){for(N=T+N;T<N;){var oe=f[T++];H[X++]=255&oe,H[X++]=oe>>8&255,H[X++]=oe>>16&255}}function Qo(f,T,N,H,X,oe){if(0==oe)for(N=T+N;T<N;)Gn(H,((oe=f[T++])[0]>>24|oe[1]>>8&65280|oe[2]<<8&16711680|oe[3]<<24)>>>0),X+=32;else S(H,X,f,T,N)}function su(f,T){Ne[T][0]=Ne[f+"0"],Ne[T][1]=Ne[f+"1"],Ne[T][2]=Ne[f+"2"],Ne[T][3]=Ne[f+"3"],Ne[T][4]=Ne[f+"4"],Ne[T][5]=Ne[f+"5"],Ne[T][6]=Ne[f+"6"],Ne[T][7]=Ne[f+"7"],Ne[T][8]=Ne[f+"8"],Ne[T][9]=Ne[f+"9"],Ne[T][10]=Ne[f+"10"],Ne[T][11]=Ne[f+"11"],Ne[T][12]=Ne[f+"12"],Ne[T][13]=Ne[f+"13"],Ne[T][14]=Ne[f+"0"],Ne[T][15]=Ne[f+"0"]}function To(f){return f==ap||f==nh||f==Zc||f==vf}function nA(){this.eb=[],this.size=this.A=this.fb=0}function Is(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Qu(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new nA,this.f.kb=new Is,this.sd=null}function au(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function As(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function ni(f){return alert("todo:WebPSamplerProcessPlane"),f.T}function Yr(f,T){var N=f.T,H=T.ba.f.RGBA,X=H.eb,oe=H.fb+f.ka*H.A,le=p[T.ba.S],Ae=f.y,me=f.O,A=f.f,h=f.N,w=f.ea,_=f.W,F=T.cc,O=T.dc,z=T.Mc,$=T.Nc,W=f.ka,ye=f.ka+f.T,Se=f.U,ke=Se+1>>1;for(0==W?le(Ae,me,null,null,A,h,w,_,A,h,w,_,X,oe,null,null,Se):(le(T.ec,T.fc,Ae,me,F,O,z,$,A,h,w,_,X,oe-H.A,X,oe,Se),++N);W+2<ye;W+=2)le(Ae,(me+=2*f.fa)-f.fa,Ae,me,F=A,O=h,z=w,$=_,A,h+=f.Rc,w,_+=f.Rc,X,(oe+=2*H.A)-H.A,X,oe,Se);return me+=f.fa,f.j+ye<f.o?(S(T.ec,T.fc,Ae,me,Se),S(T.cc,T.dc,A,h,ke),S(T.Mc,T.Nc,w,_,ke),N--):1&ye||le(Ae,me,null,null,A,h,w,_,A,h,w,_,X,oe+H.A,null,null,Se),N}function Vn(f,T,N){var H=f.F,X=[f.J];if(null!=H){var oe=f.U,le=T.ba.S,Ae=le==xa||le==Zc;T=T.ba.f.RGBA;var me=[0],A=f.ka;me[0]=f.T,f.Kb&&(0==A?--me[0]:(--A,X[0]-=f.width),f.j+f.ka+f.T==f.o&&(me[0]=f.o-f.j-A));var h=T.eb;f=sp(H,X[0],f.width,oe,me,h,(A=T.fb+A*T.A)+(Ae?0:3),T.A),g(N==me),f&&To(le)&&Pd(h,A,Ae,oe,me,T.A)}return 0}function mr(f){var T=f.ma,N=T.ba.S,H=11>N,X=N==mf||N==pA||N==xa||N==Cc||12==N||To(N);if(T.memory=null,T.Ib=null,T.Jb=null,T.Nd=null,!gu(T.Oa,f,X?11:12))return 0;if(X&&To(N)&&An(),f.da)alert("todo:use_scaling");else{if(H){if(T.Ib=ni,f.Kb){if(T.memory=B(f.U+2*(N=f.U+1>>1)),null==T.memory)return 0;T.ec=T.memory,T.fc=0,T.cc=T.ec,T.dc=T.fc+f.U,T.Mc=T.cc,T.Nc=T.dc+N,T.Ib=Yr,An()}}else alert("todo:EmitYUV");X&&(T.Jb=Vn,H&&Tt())}if(H&&!kh){for(f=0;256>f;++f)Cu[f]=89858*(f-128)+Er>>Nn,wf[f]=-22014*(f-128)+Er,up[f]=-45773*(f-128),Yp[f]=113618*(f-128)+Er>>Nn;for(f=$o;f<Bl;++f)nm[f-$o]=Bo(T=76283*(f-16)+Er>>Nn,255),cp[f-$o]=Bo(T+8>>4,15);kh=1}return 1}function uo(f){var T=f.ma,N=f.U,H=f.T;return g(!(1&f.ka)),0>=N||0>=H?0:(N=T.Ib(f,T),null!=T.Jb&&T.Jb(f,T,N),T.Dc+=N,1)}function Rs(f){f.ma.memory=null}function Mr(f,T,N,H){return 47!=yn(f,8)?0:(T[0]=yn(f,14)+1,N[0]=yn(f,14)+1,H[0]=yn(f,1),0!=yn(f,3)?0:!f.h)}function ns(f,T){if(4>f)return f+1;var N=f-2>>1;return(2+(1&f)<<N)+yn(T,N)+1}function Va(f,T){return 120<T?T-120:1<=(N=((N=Gl[T-1])>>4)*f+(8-(15&N)))?N:1;var N}function Li(f,T,N){var H=Ve(N),X=f[T+=255&H].g-8;return 0<X&&(mt(N,N.u+8),H=Ve(N),T+=f[T].value,T+=H&(1<<X)-1),mt(N,N.u+f[T].g),f[T].value}function oo(f,T,N){return N.g+=f.g,N.value+=f.value<<T>>>0,g(8>=N.g),f.g}function Mo(f,T,N){var H=f.xc;return g((T=0==H?0:f.vc[f.md*(N>>H)+(T>>H)])<f.Wb),f.Ya[T]}function Lr(f,T,N,H){var X=f.ab,oe=f.c*T,le=f.C;T=le+T;var Ae=N,me=H;for(H=f.Ta,N=f.Ua;0<X--;){var A=f.gc[X],h=le,w=T,_=Ae,F=me,O=(me=H,Ae=N,A.Ea);switch(g(h<w),g(w<=A.nc),A.hc){case 2:AA(_,F,(w-h)*O,me,Ae);break;case 0:var z=h,$=w,W=me,ye=Ae,Se=(Kt=A).Ea;0==z&&(XA(_,F,null,null,1,W,ye),Ei(_,F+1,0,0,Se-1,W,ye+1),F+=Se,ye+=Se,++z);for(var ke=1<<Kt.b,_t=ke-1,qt=Ur(Se,Kt.b),an=Kt.K,Kt=Kt.w+(z>>Kt.b)*qt;z<$;){var xr=an,Wn=Kt,On=1;for(Hl(_,F,W,ye-Se,1,W,ye);On<Se;){var Or=(On&~_t)+ke;Or>Se&&(Or=Se),(0,rs[xr[Wn++]>>8&15])(_,F+ +On,W,ye+On-Se,Or-On,W,ye+On),On=Or}F+=Se,ye+=Se,++z&_t||(Kt+=qt)}w!=A.nc&&S(me,Ae-O,me,Ae+(w-h-1)*O,O);break;case 1:for(O=_,$=F,Se=(_=A.Ea)-(ye=_&~(W=(F=1<<A.b)-1)),z=Ur(_,A.b),ke=A.K,A=A.w+(h>>A.b)*z;h<w;){for(_t=ke,qt=A,an=new gr,Kt=$+ye,xr=$+_;$<Kt;)Ji(_t[qt++],an),ia(an,O,$,F,me,Ae),$+=F,Ae+=F;$<xr&&(Ji(_t[qt++],an),ia(an,O,$,Se,me,Ae),$+=Se,Ae+=Se),++h&W||(A+=z)}break;case 3:if(_==me&&F==Ae&&0<A.b){for($=me,_=O=Ae+(w-h)*O-(ye=(w-h)*Ur(A.Ea,A.b)),F=me,W=Ae,z=[],ye=(Se=ye)-1;0<=ye;--ye)z[ye]=F[W+ye];for(ye=Se-1;0<=ye;--ye)$[_+ye]=z[ye];jl(A,h,w,me,O,me,Ae)}else jl(A,h,w,_,F,me,Ae)}Ae=H,me=N}me!=N&&S(H,N,Ae,me,oe)}function Ac(f,T){var N=f.V,H=f.Ba+f.c*f.C,X=T-f.C;if(g(T<=f.l.o),g(16>=X),0<X){var oe=f.l,le=f.Ta,Ae=f.Ua,me=oe.width;if(Lr(f,X,N,H),X=Ae=[Ae],g((N=f.C)<(H=T)),g(oe.v<oe.va),H>oe.o&&(H=oe.o),N<oe.j){var A=oe.j-N;N=oe.j,X[0]+=A*me}if(N>=H?N=0:(X[0]+=4*oe.v,oe.ka=N-oe.j,oe.U=oe.va-oe.v,oe.T=H-N,N=1),N){if(Ae=Ae[0],11>(N=f.ca).S){var h=N.f.RGBA,w=(H=N.S,X=oe.U,oe=oe.T,A=h.eb,h.A),_=oe;for(h=h.fb+f.Ma*h.A;0<_--;){var F=le,O=Ae,z=X,$=A,W=h;switch(H){case ll:Oi(F,O,z,$,W);break;case mf:Rd(F,O,z,$,W);break;case ap:Rd(F,O,z,$,W),Pd($,W,0,z,1,0);break;case fA:JA(F,O,z,$,W);break;case pA:Qo(F,O,z,$,W,1);break;case nh:Qo(F,O,z,$,W,1),Pd($,W,0,z,1,0);break;case xa:Qo(F,O,z,$,W,0);break;case Zc:Qo(F,O,z,$,W,0),Pd($,W,1,z,1,0);break;case Cc:Wu(F,O,z,$,W);break;case vf:Wu(F,O,z,$,W),Th($,W,z,1,0);break;case xh:mu(F,O,z,$,W);break;default:g(0)}Ae+=me,h+=w}f.Ma+=oe}else alert("todo:EmitRescaledRowsYUVA");g(f.Ma<=N.height)}}f.C=T,g(f.C<=f.i)}function hc(f){var T;if(0<f.ua)return 0;for(T=0;T<f.Wb;++T){var N=f.Ya[T].G,H=f.Ya[T].H;if(0<N[1][H[1]+0].g||0<N[2][H[2]+0].g||0<N[3][H[3]+0].g)return 0}return 1}function Qa(f,T,N,H,X,oe){if(0!=f.Z){var le=f.qd,Ae=f.rd;for(g(null!=c[f.Z]);T<N;++T)c[f.Z](le,Ae,H,X,H,X,oe),le=H,Ae=X,X+=oe;f.qd=le,f.rd=Ae}}function si(f,T){var N=f.l.ma,H=0==N.Z||1==N.Z?f.l.j:f.C;if(H=f.C<H?H:f.C,g(T<=f.l.o),T>H){var X=f.l.width,oe=N.ca,le=N.tb+X*H,Ae=f.V,me=f.Ba+f.c*H,A=f.gc;g(1==f.ab),g(3==A[0].hc),Sh(A[0],H,T,Ae,me,oe,le),Qa(N,H,T,oe,le,X)}f.C=f.Ma=T}function rl(f,T,N,H,X,oe,le){var Ae=f.$/H,me=f.$%H,A=f.m,h=f.s,w=N+f.$,_=w;X=N+H*X;var F=N+H*oe,O=280+h.ua,z=f.Pb?Ae:16777216,$=0<h.ua?h.Wa:null,W=h.wc,ye=w<F?Mo(h,me,Ae):null;g(f.C<oe),g(F<=X);var Se=!1;e:for(;;){for(;Se||w<F;){var ke=0;if(Ae>=z){var _t=w-N;g((z=f).Pb),z.wd=z.m,z.xd=_t,0<z.s.ua&&pn(z.s.Wa,z.s.vb),z=Ae+so}if(me&W||(ye=Mo(h,me,Ae)),g(null!=ye),ye.Qb&&(T[w]=ye.qb,Se=!0),!Se)if(Et(A),ye.jc){_t=T;var qt=w,an=ye.pd[Ve(ke=A)&$a-1];g(ye.jc),256>an.g?(mt(ke,ke.u+an.g),_t[qt]=an.value,ke=0):(mt(ke,ke.u+an.g-256),g(256<=an.value),ke=an.value),0==ke&&(Se=!0)}else ke=Li(ye.G[0],ye.H[0],A);if(A.h)break;if(Se||256>ke){if(!Se)if(ye.nd)T[w]=(ye.qb|ke<<8)>>>0;else{if(Et(A),Se=Li(ye.G[1],ye.H[1],A),Et(A),_t=Li(ye.G[2],ye.H[2],A),qt=Li(ye.G[3],ye.H[3],A),A.h)break;T[w]=(qt<<24|Se<<16|ke<<8|_t)>>>0}if(Se=!1,++w,++me>=H&&(me=0,++Ae,null!=le&&Ae<=oe&&!(Ae%16)&&le(f,Ae),null!=$))for(;_<w;)ke=T[_++],$.X[(506832829*ke&4294967295)>>>$.Mb]=ke}else if(280>ke){if(ke=ns(ke-256,A),_t=Li(ye.G[4],ye.H[4],A),Et(A),_t=Va(H,_t=ns(_t,A)),A.h)break;if(w-N<_t||X-w<ke)break e;for(qt=0;qt<ke;++qt)T[w+qt]=T[w+qt-_t];for(w+=ke,me+=ke;me>=H;)me-=H,++Ae,null!=le&&Ae<=oe&&!(Ae%16)&&le(f,Ae);if(g(w<=X),me&W&&(ye=Mo(h,me,Ae)),null!=$)for(;_<w;)ke=T[_++],$.X[(506832829*ke&4294967295)>>>$.Mb]=ke}else{if(!(ke<O))break e;for(Se=ke-280,g(null!=$);_<w;)ke=T[_++],$.X[(506832829*ke&4294967295)>>>$.Mb]=ke;ke=w,g(!(Se>>>(_t=$).Xa)),T[ke]=_t.X[Se],Se=!0}Se||g(A.h==Je(A))}if(f.Pb&&A.h&&w<X)g(f.m.h),f.a=5,f.m=f.wd,f.$=f.xd,0<f.s.ua&&pn(f.s.vb,f.s.Wa);else{if(A.h)break e;null!=le&&le(f,Ae>oe?oe:Ae),f.a=0,f.$=w-N}return 1}return f.a=3,0}function ga(f){g(null!=f),f.vc=null,f.yc=null,f.Ya=null;var T=f.Wa;null!=T&&(T.X=null),f.vb=null,g(null!=f)}function Os(){var f=new $p;return null==f?null:(f.a=0,f.xb=E,su("Predictor","VP8LPredictors"),su("Predictor","VP8LPredictors_C"),su("PredictorAdd","VP8LPredictorsAdd"),su("PredictorAdd","VP8LPredictorsAdd_C"),AA=Pi,ia=li,Oi=or,Rd=Ua,Wu=Br,mu=ou,JA=No,Ne.VP8LMapColor32b=Jc,Ne.VP8LMapColor8b=kd,f)}function Il(f,T,N,H,X){var oe=1,le=[f],Ae=[T],me=H.m,A=H.s,h=null,w=0;e:for(;;){if(N)for(;oe&&yn(me,1);){var _=le,F=Ae,O=H,z=1,$=O.m,W=O.gc[O.ab],ye=yn($,2);if(O.Oc&1<<ye)oe=0;else{switch(O.Oc|=1<<ye,W.hc=ye,W.Ea=_[0],W.nc=F[0],W.K=[null],++O.ab,g(4>=O.ab),ye){case 0:case 1:W.b=yn($,3)+2,z=Il(Ur(W.Ea,W.b),Ur(W.nc,W.b),0,O,W.K),W.K=W.K[0];break;case 3:var Se,ke=yn($,8)+1,_t=16<ke?0:4<ke?1:2<ke?2:3;if(_[0]=Ur(W.Ea,_t),W.b=_t,Se=z=Il(ke,1,0,O,W.K)){var qt,an=ke,Kt=W,xr=1<<(8>>Kt.b),Wn=B(xr);if(null==Wn)Se=0;else{var On=Kt.K[0],Or=Kt.w;for(Wn[0]=Kt.K[0][0],qt=1;qt<1*an;++qt)Wn[qt]=Qn(On[Or+qt],Wn[qt-1]);for(;qt<4*xr;++qt)Wn[qt]=0;Kt.K[0]=null,Kt.K[0]=Wn,Se=1}}z=Se;break;case 2:break;default:g(0)}oe=z}}if(le=le[0],Ae=Ae[0],oe&&yn(me,1)&&!(oe=1<=(w=yn(me,4))&&11>=w)){H.a=3;break e}var Pr;if(Pr=oe)t:{var yr,En,Zr,Ai=H,Fr=le,ao=Ae,_i=w,fs=N,Bi=Ai.m,Zi=Ai.s,Qs=[null],Go=1,Yo=0,xl=Wp[_i];n:for(;;){if(fs&&yn(Bi,1)){var os=yn(Bi,3)+2,Fl=Ur(Fr,os),Xu=Ur(ao,os),bu=Fl*Xu;if(!Il(Fl,Xu,0,Ai,Qs))break n;for(Qs=Qs[0],Zi.xc=os,yr=0;yr<bu;++yr){var ul=Qs[yr]>>8&65535;Qs[yr]=ul,ul>=Go&&(Go=ul+1)}}if(Bi.h)break n;for(En=0;5>En;++En){var ss=Jn[En];!En&&0<_i&&(ss+=1<<_i),Yo<ss&&(Yo=ss)}var td=P(Go*xl,we),Ic=Go,Ph=P(Ic,ct);if(null==Ph)var Zp=null;else g(65536>=Ic),Zp=Ph;var eg=B(Yo);if(null==Zp||null==eg||null==td){Ai.a=1;break n}var Dy=td;for(yr=Zr=0;yr<Go;++yr){var rh=Zp[yr],ih=rh.G,tg=rh.H,im=0,ng=1,jw=0;for(En=0;5>En;++En){ss=Jn[En],ih[En]=Dy,tg[En]=Zr,!En&&0<_i&&(ss+=1<<_i);i:{var om,sm=ss,Ap=Ai,Cf=eg,zw=Dy,$w=Zr,hv=0,mA=Ap.m,xy=yn(mA,1);if(x(Cf,0,0,sm),xy){var rg=yn(mA,1)+1,i2=yn(mA,1),Gw=yn(mA,0==i2?1:8);Cf[Gw]=1,2==rg&&(Cf[Gw=yn(mA,8)]=1);var Fy=1}else{var am=B(19),fv=yn(mA,4)+4;if(19<fv){Ap.a=3;var lm=0;break i}for(om=0;om<fv;++om)am[yf[om]]=yn(mA,3);var pv=void 0,ig=void 0,ky=Ap,o2=am,gv=sm,Ww=Cf,Ry=0,bf=ky.m,Nh=8,og=P(128,we);r:for(;Be(og,0,7,o2,19);){if(yn(bf,1)){var s2=2+2*yn(bf,3);if((pv=2+yn(bf,s2))>gv)break r}else pv=gv;for(ig=0;ig<gv&&pv--;){Et(bf);var a2=og[0+(127&Ve(bf))];mt(bf,bf.u+a2.g);var um=a2.value;if(16>um)Ww[ig++]=um,0!=um&&(Nh=um);else{var Fk=16==um,l2=um-16,kk=tm[l2],Py=yn(bf,Fh[l2])+kk;if(ig+Py>gv)break r;for(var u2=Fk?Nh:0;0<Py--;)Ww[ig++]=u2}}Ry=1;break r}Ry||(ky.a=3),Fy=Ry}(Fy=Fy&&!mA.h)&&(hv=Be(zw,$w,8,Cf,sm)),Fy&&0!=hv?lm=hv:(Ap.a=3,lm=0)}if(0==lm)break n;if(ng&&1==$l[En]&&(ng=0==Dy[Zr].g),im+=Dy[Zr].g,Zr+=lm,3>=En){var cm,Ny=eg[0];for(cm=1;cm<ss;++cm)eg[cm]>Ny&&(Ny=eg[cm]);jw+=Ny}}if(rh.nd=ng,rh.Qb=0,ng&&(rh.qb=(ih[3][tg[3]+0].value<<24|ih[1][tg[1]+0].value<<16|ih[2][tg[2]+0].value)>>>0,0==im&&256>ih[0][tg[0]+0].value&&(rh.Qb=1,rh.qb+=ih[0][tg[0]+0].value<<8)),rh.jc=!rh.Qb&&6>jw,rh.jc){var mv,vA=rh;for(mv=0;mv<$a;++mv){var Iu=mv,Md=vA.pd[Iu],dm=vA.G[0][vA.H[0]+Iu];256<=dm.value?(Md.g=dm.g+256,Md.value=dm.value):(Md.g=0,Md.value=0,Iu>>=oo(dm,8,Md),Iu>>=oo(vA.G[1][vA.H[1]+Iu],16,Md),Iu>>=oo(vA.G[2][vA.H[2]+Iu],0,Md),oo(vA.G[3][vA.H[3]+Iu],24,Md))}}}Zi.vc=Qs,Zi.Wb=Go,Zi.Ya=Zp,Zi.yc=td,Pr=1;break t}Pr=0}if(!(oe=Pr)){H.a=3;break e}if(0<w){if(A.ua=1<<w,!ai(A.Wa,w)){H.a=1,oe=0;break e}}else A.ua=0;var vv=H,My=le,Rk=Ae,Kw=vv.s,qw=Kw.xc;if(vv.c=My,vv.i=Rk,Kw.md=Ur(My,qw),Kw.wc=0==qw?-1:(1<<qw)-1,N){H.xb=qp;break e}if(null==(h=B(le*Ae))){H.a=1,oe=0;break e}oe=(oe=rl(H,h,0,le,Ae,Ae,null))&&!me.h;break e}return oe?(null!=X?X[0]=h:(g(null==h),g(N)),H.$=0,N||ga(A)):ga(A),oe}function Cd(f,T){var N=f.c*f.i,H=N+T+16*T;return g(f.c<=T),f.V=B(H),null==f.V?(f.Ta=null,f.Ua=0,f.a=1,0):(f.Ta=f.V,f.Ua=f.Ba+N+T,1)}function Ha(f,T){var N=f.C,H=T-N,X=f.V,oe=f.Ba+f.c*N;for(g(T<=f.l.o);0<H;){var le=16<H?16:H,Ae=f.l.ma,me=f.l.width,A=me*le,h=Ae.ca,w=Ae.tb+me*N,_=f.Ta,F=f.Ua;Lr(f,le,X,oe),Nd(_,F,h,w,A),Qa(Ae,N,N+le,h,w,me),H-=le,X+=le*f.c,N+=le}g(N==T),f.C=f.Ma=T}function fc(){this.ub=this.yd=this.td=this.Rb=0}function lu(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function ui(){this.Fb=this.Bb=this.Cb=0,this.Zb=B(4),this.Lb=B(4)}function QA(){var f;this.Yb=(function T(N,H,X){for(var oe=X[H],le=0;le<oe&&(N.push(X.length>H+1?[]:0),!(X.length<H+1));le++)T(N[le],H+1,X)}(f=[],0,[3,11]),f)}function bd(){this.jb=B(3),this.Wc=M([4,8],QA),this.Xc=M([4,17],QA)}function uu(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new B(4),this.od=new B(4)}function pc(){this.ld=this.La=this.dd=this.tc=0}function ur(){this.Na=this.la=0}function hs(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function rA(){this.ad=B(384),this.Za=0,this.Ob=B(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Ps(){this.uc=this.M=this.Nb=0,this.wa=Array(new pc),this.Y=0,this.ya=Array(new rA),this.aa=0,this.l=new Ul}function Ho(){this.y=B(16),this.f=B(8),this.ea=B(8)}function iA(){this.cb=this.a=0,this.sc="",this.m=new lr,this.Od=new fc,this.Kc=new lu,this.ed=new uu,this.Qa=new ui,this.Ic=this.$c=this.Aa=0,this.D=new Ps,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=P(8,lr),this.ia=0,this.pb=P(4,hs),this.Pa=new bd,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Ho),this.Hd=0,this.rb=Array(new ur),this.sb=0,this.wa=Array(new pc),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new rA),this.L=this.aa=0,this.gd=M([4,2],pc),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Ul(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function cu(){var f=new iA;return null!=f&&(f.a=0,f.sc="OK",f.cb=0,f.Xb=0,gA||(gA=HA)),f}function $i(f,T,N){return 0==f.a&&(f.a=T,f.sc=N,f.cb=0),0}function Id(f,T,N){return 3<=N&&157==f[T+0]&&1==f[T+1]&&42==f[T+2]}function cf(f,T){if(null==f)return 0;if(f.a=0,f.sc="OK",null==T)return $i(f,2,"null VP8Io passed to VP8GetHeaders()");var N=T.data,H=T.w,X=T.ha;if(4>X)return $i(f,7,"Truncated header.");var oe=N[H+0]|N[H+1]<<8|N[H+2]<<16,le=f.Od;if(le.Rb=!(1&oe),le.td=oe>>1&7,le.yd=oe>>4&1,le.ub=oe>>5,3<le.td)return $i(f,3,"Incorrect keyframe parameters.");if(!le.yd)return $i(f,4,"Frame not displayable.");H+=3,X-=3;var Ae=f.Kc;if(le.Rb){if(7>X)return $i(f,7,"cannot parse picture header");if(!Id(N,H,X))return $i(f,3,"Bad code word");Ae.c=16383&(N[H+4]<<8|N[H+3]),Ae.Td=N[H+4]>>6,Ae.i=16383&(N[H+6]<<8|N[H+5]),Ae.Ud=N[H+6]>>6,H+=7,X-=7,f.za=Ae.c+15>>4,f.Ub=Ae.i+15>>4,T.width=Ae.c,T.height=Ae.i,T.Da=0,T.j=0,T.v=0,T.va=T.width,T.o=T.height,T.da=0,T.ib=T.width,T.hb=T.height,T.U=T.width,T.T=T.height,x((oe=f.Pa).jb,0,255,oe.jb.length),g(null!=(oe=f.Qa)),oe.Cb=0,oe.Bb=0,oe.Fb=1,x(oe.Zb,0,0,oe.Zb.length),x(oe.Lb,0,0,oe.Lb)}if(le.ub>X)return $i(f,7,"bad partition length");cn(oe=f.m,N,H,le.ub),H+=le.ub,X-=le.ub,le.Rb&&(Ae.Ld=Wt(oe),Ae.Kd=Wt(oe)),Ae=f.Qa;var me,A=f.Pa;if(g(null!=oe),g(null!=Ae),Ae.Cb=Wt(oe),Ae.Cb){if(Ae.Bb=Wt(oe),Wt(oe)){for(Ae.Fb=Wt(oe),me=0;4>me;++me)Ae.Zb[me]=Wt(oe)?_n(oe,7):0;for(me=0;4>me;++me)Ae.Lb[me]=Wt(oe)?_n(oe,6):0}if(Ae.Bb)for(me=0;3>me;++me)A.jb[me]=Wt(oe)?Jt(oe,8):255}else Ae.Bb=0;if(oe.Ka)return $i(f,3,"cannot parse segment header");if((Ae=f.ed).zd=Wt(oe),Ae.Tb=Jt(oe,6),Ae.wb=Jt(oe,3),Ae.Pc=Wt(oe),Ae.Pc&&Wt(oe)){for(A=0;4>A;++A)Wt(oe)&&(Ae.vd[A]=_n(oe,6));for(A=0;4>A;++A)Wt(oe)&&(Ae.od[A]=_n(oe,6))}if(f.L=0==Ae.Tb?0:Ae.zd?1:2,oe.Ka)return $i(f,3,"cannot parse filter header");var h=X;if(X=me=H,H=me+h,Ae=h,f.Xb=(1<<Jt(f.m,2))-1,h<3*(A=f.Xb))N=7;else{for(me+=3*A,Ae-=3*A,h=0;h<A;++h){var w=N[X+0]|N[X+1]<<8|N[X+2]<<16;w>Ae&&(w=Ae),cn(f.Jc[+h],N,me,w),me+=w,Ae-=w,X+=3}cn(f.Jc[+A],N,me,Ae),N=me<H?0:5}if(0!=N)return $i(f,N,"cannot parse partitions");for(N=Jt(me=f.m,7),X=Wt(me)?_n(me,4):0,H=Wt(me)?_n(me,4):0,Ae=Wt(me)?_n(me,4):0,A=Wt(me)?_n(me,4):0,me=Wt(me)?_n(me,4):0,h=f.Qa,w=0;4>w;++w){if(h.Cb){var _=h.Zb[w];h.Fb||(_+=N)}else{if(0<w){f.pb[w]=f.pb[0];continue}_=N}var F=f.pb[w];F.Sc[0]=bi[Bo(_+X,127)],F.Sc[1]=is[Bo(_+0,127)],F.Eb[0]=2*bi[Bo(_+H,127)],F.Eb[1]=101581*is[Bo(_+Ae,127)]>>16,8>F.Eb[1]&&(F.Eb[1]=8),F.Qc[0]=bi[Bo(_+A,117)],F.Qc[1]=is[Bo(_+me,127)],F.lc=_+me}if(!le.Rb)return $i(f,4,"Not a key frame.");for(Wt(oe),le=f.Pa,N=0;4>N;++N){for(X=0;8>X;++X)for(H=0;3>H;++H)for(Ae=0;11>Ae;++Ae)A=jt(oe,Kp[N][X][H][Ae])?Jt(oe,8):lp[N][X][H][Ae],le.Wc[N][X].Yb[H][Ae]=A;for(X=0;17>X;++X)le.Xc[N][X]=le.Wc[N][_f[X]]}return f.kc=Wt(oe),f.kc&&(f.Bd=Jt(oe,8)),f.cb=1}function HA(f,T,N,H,X,oe,le){var Ae=T[X].Yb[N];for(N=0;16>X;++X){if(!jt(f,Ae[N+0]))return X;for(;!jt(f,Ae[N+1]);)if(Ae=T[++X].Yb[0],N=0,16==X)return 16;var me=T[X+1].Yb;if(jt(f,Ae[N+2])){var A=f,h=0;if(jt(A,(_=Ae)[(w=N)+3]))if(jt(A,_[w+6])){for(Ae=0,w=2*(h=jt(A,_[w+8]))+(_=jt(A,_[w+9+h])),h=0,_=zo[w];_[Ae];++Ae)h+=h+jt(A,_[Ae]);h+=3+(8<<w)}else jt(A,_[w+7])?(h=7+2*jt(A,165),h+=jt(A,145)):h=5+jt(A,159);else h=jt(A,_[w+4])?3+jt(A,_[w+5]):2;Ae=me[2]}else h=1,Ae=me[1];me=le+Ku[X],0>(A=f).b&&zt(A);var w,_=A.b,F=(w=A.Ca>>1)-(A.I>>_)>>31;--A.b,A.Ca+=F,A.Ca|=1,A.I-=(w+1&F)<<_,oe[me]=((h^F)-F)*H[(0<X)+0]}return 16}function Sa(f){var T=f.rb[f.sb-1];T.la=0,T.Na=0,x(f.zc,0,0,f.zc.length),f.ja=0}function il(f,T,N,H,X){f[T+N+32*H]=-256&(X=f[T+N+32*H]+(X>>3))?0>X?0:255:X}function Ed(f,T,N,H,X,oe){il(f,T,0,N,H+X),il(f,T,1,N,H+oe),il(f,T,2,N,H-oe),il(f,T,3,N,H-X)}function El(f){return(20091*f>>16)+f}function df(f,T,N,H){var X,oe=0,le=B(16);for(X=0;4>X;++X){var Ae=f[T+0]+f[T+8],me=f[T+0]-f[T+8],A=(35468*f[T+4]>>16)-El(f[T+12]),h=El(f[T+4])+(35468*f[T+12]>>16);le[oe+0]=Ae+h,le[oe+1]=me+A,le[oe+2]=me-A,le[oe+3]=Ae-h,oe+=4,T++}for(X=oe=0;4>X;++X)Ae=(f=le[oe+0]+4)+le[oe+8],me=f-le[oe+8],A=(35468*le[oe+4]>>16)-El(le[oe+12]),il(N,H,0,0,Ae+(h=El(le[oe+4])+(35468*le[oe+12]>>16))),il(N,H,1,0,me+A),il(N,H,2,0,me-A),il(N,H,3,0,Ae-h),oe++,H+=32}function oA(f,T,N,H){var X=f[T+0]+4,oe=35468*f[T+4]>>16,le=El(f[T+4]),Ae=35468*f[T+1]>>16;Ed(N,H,0,X+le,f=El(f[T+1]),Ae),Ed(N,H,1,X+oe,f,Ae),Ed(N,H,2,X-oe,f,Ae),Ed(N,H,3,X-le,f,Ae)}function ip(f,T,N,H,X){df(f,T,N,H),X&&df(f,T+16,N,H+4)}function op(f,T,N,H){yu(f,T+0,N,H,1),yu(f,T+32,N,H+128,1)}function Hp(f,T,N,H){var X;for(f=f[T+0]+4,X=0;4>X;++X)for(T=0;4>T;++T)il(N,H,T,X,f)}function yh(f,T,N,H){f[T+0]&&ya(f,T+0,N,H),f[T+16]&&ya(f,T+16,N,H+4),f[T+32]&&ya(f,T+32,N,H+128),f[T+48]&&ya(f,T+48,N,H+128+4)}function jp(f,T,N,H){var X,oe=B(16);for(X=0;4>X;++X){var le=f[T+0+X]+f[T+12+X],Ae=f[T+4+X]+f[T+8+X],me=f[T+4+X]-f[T+8+X],A=f[T+0+X]-f[T+12+X];oe[0+X]=le+Ae,oe[8+X]=le-Ae,oe[4+X]=A+me,oe[12+X]=A-me}for(X=0;4>X;++X)le=(f=oe[0+4*X]+3)+oe[3+4*X],me=oe[1+4*X]-oe[2+4*X],A=f-oe[3+4*X],N[H+0]=le+(Ae=oe[1+4*X]+oe[2+4*X])>>3,N[H+16]=A+me>>3,N[H+32]=le-Ae>>3,N[H+48]=A-me>>3,H+=64}function jA(f,T,N){var H,X=T-32,oe=wa,le=255-f[X-1];for(H=0;H<N;++H){var Ae,me=oe,A=le+f[T-1];for(Ae=0;Ae<N;++Ae)f[T+Ae]=me[A+f[X+Ae]];T+=32}}function zp(f,T){jA(f,T,4)}function Af(f,T){jA(f,T,8)}function _h(f,T){jA(f,T,16)}function gc(f,T){var N;for(N=0;16>N;++N)S(f,T+32*N,f,T-32,16)}function Hu(f,T){var N;for(N=16;0<N;--N)x(f,T,f[T-1],16),T+=32}function wh(f,T,N){var H;for(H=0;16>H;++H)x(T,N+32*H,f,16)}function hf(f,T){var N,H=16;for(N=0;16>N;++N)H+=f[T-1+32*N]+f[T+N-32];wh(H>>5,f,T)}function Ta(f,T){var N,H=8;for(N=0;16>N;++N)H+=f[T-1+32*N];wh(H>>4,f,T)}function sA(f,T){var N,H=8;for(N=0;16>N;++N)H+=f[T+N-32];wh(H>>4,f,T)}function zA(f,T){wh(128,f,T)}function di(f,T,N){return f+2*T+N+2>>2}function $s(f,T){var N,H=T-32;for(H=new Uint8Array([di(f[H-1],f[H+0],f[H+1]),di(f[H+0],f[H+1],f[H+2]),di(f[H+1],f[H+2],f[H+3]),di(f[H+2],f[H+3],f[H+4])]),N=0;4>N;++N)S(f,T+32*N,H,0,H.length)}function $A(f,T){var N=f[T-1],H=f[T-1+32],X=f[T-1+64],oe=f[T-1+96];Gn(f,T+0,16843009*di(f[T-1-32],N,H)),Gn(f,T+32,16843009*di(N,H,X)),Gn(f,T+64,16843009*di(H,X,oe)),Gn(f,T+96,16843009*di(X,oe,oe))}function Au(f,T){var N,H=4;for(N=0;4>N;++N)H+=f[T+N-32]+f[T-1+32*N];for(H>>=3,N=0;4>N;++N)x(f,T+32*N,H,4)}function ff(f,T){var N=f[T-1+0],H=f[T-1+32],X=f[T-1+64],oe=f[T-1-32],le=f[T+0-32],Ae=f[T+1-32],me=f[T+2-32],A=f[T+3-32];f[T+0+96]=di(H,X,f[T-1+96]),f[T+1+96]=f[T+0+64]=di(N,H,X),f[T+2+96]=f[T+1+64]=f[T+0+32]=di(oe,N,H),f[T+3+96]=f[T+2+64]=f[T+1+32]=f[T+0+0]=di(le,oe,N),f[T+3+64]=f[T+2+32]=f[T+1+0]=di(Ae,le,oe),f[T+3+32]=f[T+2+0]=di(me,Ae,le),f[T+3+0]=di(A,me,Ae)}function GA(f,T){var N=f[T+1-32],H=f[T+2-32],X=f[T+3-32],oe=f[T+4-32],le=f[T+5-32],Ae=f[T+6-32],me=f[T+7-32];f[T+0+0]=di(f[T+0-32],N,H),f[T+1+0]=f[T+0+32]=di(N,H,X),f[T+2+0]=f[T+1+32]=f[T+0+64]=di(H,X,oe),f[T+3+0]=f[T+2+32]=f[T+1+64]=f[T+0+96]=di(X,oe,le),f[T+3+32]=f[T+2+64]=f[T+1+96]=di(oe,le,Ae),f[T+3+64]=f[T+2+96]=di(le,Ae,me),f[T+3+96]=di(Ae,me,me)}function ju(f,T){var N=f[T-1+0],H=f[T-1+32],X=f[T-1+64],oe=f[T-1-32],le=f[T+0-32],Ae=f[T+1-32],me=f[T+2-32],A=f[T+3-32];f[T+0+0]=f[T+1+64]=oe+le+1>>1,f[T+1+0]=f[T+2+64]=le+Ae+1>>1,f[T+2+0]=f[T+3+64]=Ae+me+1>>1,f[T+3+0]=me+A+1>>1,f[T+0+96]=di(X,H,N),f[T+0+64]=di(H,N,oe),f[T+0+32]=f[T+1+96]=di(N,oe,le),f[T+1+32]=f[T+2+96]=di(oe,le,Ae),f[T+2+32]=f[T+3+96]=di(le,Ae,me),f[T+3+32]=di(Ae,me,A)}function aA(f,T){var N=f[T+0-32],H=f[T+1-32],X=f[T+2-32],oe=f[T+3-32],le=f[T+4-32],Ae=f[T+5-32],me=f[T+6-32],A=f[T+7-32];f[T+0+0]=N+H+1>>1,f[T+1+0]=f[T+0+64]=H+X+1>>1,f[T+2+0]=f[T+1+64]=X+oe+1>>1,f[T+3+0]=f[T+2+64]=oe+le+1>>1,f[T+0+32]=di(N,H,X),f[T+1+32]=f[T+0+96]=di(H,X,oe),f[T+2+32]=f[T+1+96]=di(X,oe,le),f[T+3+32]=f[T+2+96]=di(oe,le,Ae),f[T+3+64]=di(le,Ae,me),f[T+3+96]=di(Ae,me,A)}function WA(f,T){var N=f[T-1+0],H=f[T-1+32],X=f[T-1+64],oe=f[T-1+96];f[T+0+0]=N+H+1>>1,f[T+2+0]=f[T+0+32]=H+X+1>>1,f[T+2+32]=f[T+0+64]=X+oe+1>>1,f[T+1+0]=di(N,H,X),f[T+3+0]=f[T+1+32]=di(H,X,oe),f[T+3+32]=f[T+1+64]=di(X,oe,oe),f[T+3+64]=f[T+2+64]=f[T+0+96]=f[T+1+96]=f[T+2+96]=f[T+3+96]=oe}function KA(f,T){var N=f[T-1+0],H=f[T-1+32],X=f[T-1+64],oe=f[T-1+96],le=f[T-1-32],Ae=f[T+0-32],me=f[T+1-32],A=f[T+2-32];f[T+0+0]=f[T+2+32]=N+le+1>>1,f[T+0+32]=f[T+2+64]=H+N+1>>1,f[T+0+64]=f[T+2+96]=X+H+1>>1,f[T+0+96]=oe+X+1>>1,f[T+3+0]=di(Ae,me,A),f[T+2+0]=di(le,Ae,me),f[T+1+0]=f[T+3+32]=di(N,le,Ae),f[T+1+32]=f[T+3+64]=di(H,N,le),f[T+1+64]=f[T+3+96]=di(X,H,N),f[T+1+96]=di(oe,X,H)}function Vl(f,T){var N;for(N=0;8>N;++N)S(f,T+32*N,f,T-32,8)}function lA(f,T){var N;for(N=0;8>N;++N)x(f,T,f[T-1],8),T+=32}function hu(f,T,N){var H;for(H=0;8>H;++H)x(T,N+32*H,f,8)}function Gc(f,T){var N,H=8;for(N=0;8>N;++N)H+=f[T+N-32]+f[T-1+32*N];hu(H>>4,f,T)}function Ch(f,T){var N,H=4;for(N=0;8>N;++N)H+=f[T+N-32];hu(H>>3,f,T)}function Wc(f,T){var N,H=4;for(N=0;8>N;++N)H+=f[T-1+32*N];hu(H>>3,f,T)}function yi(f,T){hu(128,f,T)}function zu(f,T,N){var H=f[T-N],X=f[T+0],oe=3*(X-H)+Gp[1020+f[T-2*N]-f[T+N]],le=th[112+(oe+4>>3)];f[T-N]=wa[255+H+th[112+(oe+3>>3)]],f[T+0]=wa[255+X-le]}function mc(f,T,N,H){return Ka[255+f[T-2*N]-f[T-N]]>H||Ka[255+f[T+N]-f[T+0]]>H}function ma(f,T,N,H){return 4*Ka[255+f[T-N]-f[T+0]]+Ka[255+f[T-2*N]-f[T+N]]<=H}function bh(f,T,N,H,X){var oe=f[T-3*N],le=f[T-2*N],Ae=f[T-N],me=f[T+0],A=f[T+N],h=f[T+2*N];return 4*Ka[255+Ae-me]+Ka[255+le-A]>H?0:Ka[255+f[T-4*N]-oe]<=X&&Ka[255+oe-le]<=X&&Ka[255+le-Ae]<=X&&Ka[255+f[T+3*N]-h]<=X&&Ka[255+h-A]<=X&&Ka[255+A-me]<=X}function Kc(f,T,N,H){var X=2*H+1;for(H=0;16>H;++H)ma(f,T+H,N,X)&&zu(f,T+H,N)}function ol(f,T,N,H){var X=2*H+1;for(H=0;16>H;++H)ma(f,T+H*N,1,X)&&zu(f,T+H*N,1)}function Gs(f,T,N,H){var X;for(X=3;0<X;--X)Kc(f,T+=4*N,N,H)}function pf(f,T,N,H){var X;for(X=3;0<X;--X)ol(f,T+=4,N,H)}function fu(f,T,N,H,X,oe,le,Ae){for(oe=2*oe+1;0<X--;){if(bh(f,T,N,oe,le))if(mc(f,T,N,Ae))zu(f,T,N);else{var me=f,A=T,h=N,w=me[A-2*h],_=me[A-h],F=me[A+0],O=me[A+h],z=me[A+2*h],$=27*(ye=Gp[1020+3*(F-_)+Gp[1020+w-O]])+63>>7,W=18*ye+63>>7,ye=9*ye+63>>7;me[A-3*h]=wa[255+me[A-3*h]+ye],me[A-2*h]=wa[255+w+W],me[A-h]=wa[255+_+$],me[A+0]=wa[255+F-$],me[A+h]=wa[255+O-W],me[A+2*h]=wa[255+z-ye]}T+=H}}function $u(f,T,N,H,X,oe,le,Ae){for(oe=2*oe+1;0<X--;){if(bh(f,T,N,oe,le))if(mc(f,T,N,Ae))zu(f,T,N);else{var me=f,A=T,h=N,w=me[A-h],_=me[A+0],F=me[A+h],O=th[112+(4+(z=3*(_-w))>>3)],z=th[112+(z+3>>3)],$=O+1>>1;me[A-2*h]=wa[255+me[A-2*h]+$],me[A-h]=wa[255+w+z],me[A+0]=wa[255+_-O],me[A+h]=wa[255+F-$]}T+=H}}function sl(f,T,N,H,X,oe){fu(f,T,N,1,16,H,X,oe)}function Sd(f,T,N,H,X,oe){fu(f,T,1,N,16,H,X,oe)}function uA(f,T,N,H,X,oe){var le;for(le=3;0<le;--le)$u(f,T+=4*N,N,1,16,H,X,oe)}function Td(f,T,N,H,X,oe){var le;for(le=3;0<le;--le)$u(f,T+=4,1,N,16,H,X,oe)}function Us(f,T,N,H,X,oe,le,Ae){fu(f,T,X,1,8,oe,le,Ae),fu(N,H,X,1,8,oe,le,Ae)}function pu(f,T,N,H,X,oe,le,Ae){fu(f,T,1,X,8,oe,le,Ae),fu(N,H,1,X,8,oe,le,Ae)}function qc(f,T,N,H,X,oe,le,Ae){$u(f,T+4*X,X,1,8,oe,le,Ae),$u(N,H+4*X,X,1,8,oe,le,Ae)}function vc(f,T,N,H,X,oe,le,Ae){$u(f,T+4,1,X,8,oe,le,Ae),$u(N,H+4,1,X,8,oe,le,Ae)}function Yc(){this.ba=new Qu,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new As,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Ql(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function ri(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Ih(){this.ua=0,this.Wa=new je,this.vb=new je,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new ct,this.yc=new we}function $p(){this.xb=this.a=0,this.l=new Ul,this.ca=new Qu,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new ae,this.Pb=0,this.wd=new ae,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Ih,this.ab=0,this.gc=P(4,ri),this.Oc=0}function qA(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Ul,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function cA(f,T,N,H,X,oe,le){for(f=null==f?0:f[T+0],T=0;T<le;++T)X[oe+T]=f+N[H+T]&255,f=X[oe+T]}function Eh(f,T,N,H,X,oe,le){var Ae;if(null==f)cA(null,null,N,H,X,oe,le);else for(Ae=0;Ae<le;++Ae)X[oe+Ae]=f[T+Ae]+N[H+Ae]&255}function Gu(f,T,N,H,X,oe,le){if(null==f)cA(null,null,N,H,X,oe,le);else{var Ae,me=f[T+0],A=me,h=me;for(Ae=0;Ae<le;++Ae)A=h+(me=f[T+Ae])-A,h=N[H+Ae]+(-256&A?0>A?0:255:A)&255,A=me,X[oe+Ae]=h}}function yc(f,T,N,H){var X=T.width,oe=T.o;if(g(null!=f&&null!=T),0>N||0>=H||N+H>oe)return null;if(!f.Cc){if(null==f.ga){var le;if(f.ga=new qA,(le=null==f.ga)||(le=T.width*T.o,g(0==f.Gb.length),f.Gb=B(le),f.Uc=0,null==f.Gb?le=0:(f.mb=f.Gb,f.nb=f.Uc,f.rc=null,le=1),le=!le),!le){var Ae=f.Fa,me=f.P,A=f.qc,h=f.mb,w=f.nb,_=me+1,F=A-1,O=(le=f.ga).l;if(g(null!=Ae&&null!=h&&null!=T),c[0]=null,c[1]=cA,c[2]=Eh,c[3]=Gu,le.ca=h,le.tb=w,le.c=T.width,le.i=T.height,g(0<le.c&&0<le.i),1>=A)T=0;else if(le.$a=3&Ae[me+0],le.Z=Ae[me+0]>>2&3,le.Lc=Ae[me+0]>>4&3,me=Ae[me+0]>>6&3,0>le.$a||1<le.$a||4<=le.Z||1<le.Lc||me)T=0;else if(O.put=uo,O.ac=mr,O.bc=Rs,O.ma=le,O.width=T.width,O.height=T.height,O.Da=T.Da,O.v=T.v,O.va=T.va,O.j=T.j,O.o=T.o,le.$a)e:{g(1==le.$a),T=Os();t:for(;;){if(null==T){T=0;break e}if(g(null!=le),le.mc=T,T.c=le.c,T.i=le.i,T.l=le.l,T.l.ma=le,T.l.width=le.c,T.l.height=le.i,T.a=0,Ht(T.m,Ae,_,F),!Il(le.c,le.i,1,T,null)||(1==T.ab&&3==T.gc[0].hc&&hc(T.s)?(le.ic=1,Ae=T.c*T.i,T.Ta=null,T.Ua=0,T.V=B(Ae),T.Ba=0,null==T.V?(T.a=1,T=0):T=1):(le.ic=0,T=Cd(T,le.c)),!T))break t;T=1;break e}le.mc=null,T=0}else T=F>=le.c*le.i;le=!T}if(le)return null;1!=f.ga.Lc?f.Ga=0:H=oe-N}g(null!=f.ga),g(N+H<=oe);e:{if(T=(Ae=f.ga).c,oe=Ae.l.o,0==Ae.$a){if(_=f.rc,F=f.Vc,O=f.Fa,A=f.mb,h=f.nb+N*T,g((me=f.P+1+N*T)<=f.P+f.qc),0!=Ae.Z)for(g(null!=c[Ae.Z]),le=0;le<H;++le)c[Ae.Z](_,F,O,me,A,h,T),_=A,F=h,h+=T,me+=T;else for(le=0;le<H;++le)S(A,h,O,me,T),_=A,F=h,h+=T,me+=T;f.rc=_,f.Vc=F}else{if(g(null!=Ae.mc),T=N+H,g(null!=(le=Ae.mc)),g(T<=le.i),le.C>=T)T=1;else if(Ae.ic||Tt(),Ae.ic){Ae=le.V,_=le.Ba;var z=le.i,$=(O=1,me=le.$/(F=le.c),A=le.$%F,h=le.m,w=le.s,le.$),W=F*z,ye=F*T,Se=w.wc,ke=$<ye?Mo(w,A,me):null;g($<=W),g(T<=z),g(hc(w));t:for(;;){for(;!h.h&&$<ye;){if(A&Se||(ke=Mo(w,A,me)),g(null!=ke),Et(h),256>(z=Li(ke.G[0],ke.H[0],h)))Ae[_+$]=z,++$,++A>=F&&(A=0,++me<=T&&!(me%16)&&si(le,me));else{if(!(280>z)){O=0;break t}z=ns(z-256,h);var _t,qt=Li(ke.G[4],ke.H[4],h);if(Et(h),!($>=(qt=Va(F,qt=ns(qt,h)))&&W-$>=z)){O=0;break t}for(_t=0;_t<z;++_t)Ae[_+$+_t]=Ae[_+$+_t-qt];for($+=z,A+=z;A>=F;)A-=F,++me<=T&&!(me%16)&&si(le,me);$<ye&&A&Se&&(ke=Mo(w,A,me))}g(h.h==Je(h))}si(le,me>T?T:me);break t}!O||h.h&&$<W?(O=0,le.a=h.h?5:3):le.$=$,T=O}else T=rl(le,le.V,le.Ba,le.c,le.i,T,Ha);if(!T){H=0;break e}}N+H>=oe&&(f.Cc=1),H=1}if(!H)return null;if(f.Cc&&(null!=(H=f.ga)&&(H.mc=null),f.ga=null,0<f.Ga))return alert("todo:WebPDequantizeLevels"),null}return f.nb+N*X}function R(f,T,N,H,X,oe){for(;0<X--;){var le,Ae=f,me=T+(N?1:0),A=f,h=T+(N?0:3);for(le=0;le<H;++le){var w=A[h+4*le];255!=w&&(Ae[me+4*le+0]=Ae[me+4*le+0]*(w*=32897)>>23,Ae[me+4*le+1]=Ae[me+4*le+1]*w>>23,Ae[me+4*le+2]=Ae[me+4*le+2]*w>>23)}T+=oe}}function ee(f,T,N,H,X){for(;0<H--;){var oe;for(oe=0;oe<N;++oe){var le=f[T+2*oe+0],Ae=15&(A=f[T+2*oe+1]),me=4369*Ae,A=(240&A|A>>4)*me>>16;f[T+2*oe+0]=(240&le|le>>4)*me>>16&240|(15&le|le<<4)*me>>16>>4&15,f[T+2*oe+1]=240&A|Ae}T+=X}}function Oe(f,T,N,H,X,oe,le,Ae){var me,A,h=255;for(A=0;A<X;++A){for(me=0;me<H;++me){var w=f[T+me];oe[le+4*me]=w,h&=w}T+=N,le+=Ae}return 255!=h}function At(f,T,N,H,X){var oe;for(oe=0;oe<X;++oe)N[H+oe]=f[T+oe]>>8}function Tt(){Pd=R,Th=ee,sp=Oe,Nd=At}function Qe(f,T,N){Ne[f]=function(H,X,oe,le,Ae,me,A,h,w,_,F,O,z,$,W,ye,Se){var ke,_t=Se-1>>1,qt=Ae[me+0]|A[h+0]<<16,an=w[_+0]|F[O+0]<<16;g(null!=H);var Kt=3*qt+an+131074>>2;for(T(H[X+0],255&Kt,Kt>>16,z,$),null!=oe&&T(oe[le+0],255&(Kt=3*an+qt+131074>>2),Kt>>16,W,ye),ke=1;ke<=_t;++ke){var xr=Ae[me+ke]|A[h+ke]<<16,Wn=w[_+ke]|F[O+ke]<<16,On=qt+xr+an+Wn+524296,Or=On+2*(xr+an)>>3;Kt=Or+qt>>1,qt=(On=On+2*(qt+Wn)>>3)+xr>>1,T(H[X+2*ke-1],255&Kt,Kt>>16,z,$+(2*ke-1)*N),T(H[X+2*ke-0],255&qt,qt>>16,z,$+(2*ke-0)*N),null!=oe&&(qt=Or+Wn>>1,T(oe[le+2*ke-1],255&(Kt=On+an>>1),Kt>>16,W,ye+(2*ke-1)*N),T(oe[le+2*ke+0],255&qt,qt>>16,W,ye+(2*ke+0)*N)),qt=xr,an=Wn}1&Se||(T(H[X+Se-1],255&(Kt=3*qt+an+131074>>2),Kt>>16,z,$+(Se-1)*N),null!=oe&&T(oe[le+Se-1],255&(Kt=3*an+qt+131074>>2),Kt>>16,W,ye+(Se-1)*N))}}function An(){p[ll]=D,p[mf]=ne,p[fA]=Q,p[pA]=et,p[xa]=bt,p[Cc]=tn,p[xh]=Zn,p[ap]=ne,p[nh]=et,p[Zc]=bt,p[vf]=tn}function vn(f){return f&~Dl?0>f?0:255:f>>wu}function Dn(f,T){return vn((19077*f>>8)+(26149*T>>8)-14234)}function vr(f,T,N){return vn((19077*f>>8)-(6419*T>>8)-(13320*N>>8)+8708)}function mi(f,T){return vn((19077*f>>8)+(33050*T>>8)-17685)}function Ni(f,T,N,H,X){H[X+0]=Dn(f,N),H[X+1]=vr(f,T,N),H[X+2]=mi(f,T)}function ho(f,T,N,H,X){H[X+0]=mi(f,T),H[X+1]=vr(f,T,N),H[X+2]=Dn(f,N)}function jo(f,T,N,H,X){var oe=vr(f,T,N);T=oe<<3&224|mi(f,T)>>3,H[X+0]=248&Dn(f,N)|oe>>5,H[X+1]=T}function Es(f,T,N,H,X){var oe=240&mi(f,T)|15;H[X+0]=240&Dn(f,N)|vr(f,T,N)>>4,H[X+1]=oe}function va(f,T,N,H,X){H[X+0]=255,Ni(f,T,N,H,X+1)}function ra(f,T,N,H,X){ho(f,T,N,H,X),H[X+3]=255}function Sl(f,T,N,H,X){Ni(f,T,N,H,X),H[X+3]=255}function Bo(f,T){return 0>f?0:f>T?T:f}function Ba(f,T,N){Ne[f]=function(H,X,oe,le,Ae,me,A,h,w){for(var _=h+(-2&w)*N;h!=_;)T(H[X+0],oe[le+0],Ae[me+0],A,h),T(H[X+1],oe[le+0],Ae[me+0],A,h+N),X+=2,++le,++me,h+=2*N;1&w&&T(H[X+0],oe[le+0],Ae[me+0],A,h)}}function Bd(f,T,N){return 0==N?0==f?0==T?6:5:0==T?4:0:N}function ja(f,T,N,H,X){switch(f>>>30){case 3:yu(T,N,H,X,0);break;case 2:wc(T,N,H,X);break;case 1:ya(T,N,H,X)}}function za(f,T){var N,H,X=T.M,oe=T.Nb,le=f.oc,Ae=f.pc+40,me=f.oc,A=f.pc+584,h=f.oc,w=f.pc+600;for(N=0;16>N;++N)le[Ae+32*N-1]=129;for(N=0;8>N;++N)me[A+32*N-1]=129,h[w+32*N-1]=129;for(0<X?le[Ae-1-32]=me[A-1-32]=h[w-1-32]=129:(x(le,Ae-32-1,127,21),x(me,A-32-1,127,9),x(h,w-32-1,127,9)),H=0;H<f.za;++H){var _=T.ya[T.aa+H];if(0<H){for(N=-1;16>N;++N)S(le,Ae+32*N-4,le,Ae+32*N+12,4);for(N=-1;8>N;++N)S(me,A+32*N-4,me,A+32*N+4,4),S(h,w+32*N-4,h,w+32*N+4,4)}var F=f.Gd,O=f.Hd+H,z=_.ad,$=_.Hc;if(0<X&&(S(le,Ae-32,F[O].y,0,16),S(me,A-32,F[O].f,0,8),S(h,w-32,F[O].ea,0,8)),_.Za){var W=le,ye=Ae-32+16;for(0<X&&(H>=f.za-1?x(W,ye,F[O].y[15],4):S(W,ye,F[O+1].y,0,4)),N=0;4>N;N++)W[ye+128+N]=W[ye+256+N]=W[ye+384+N]=W[ye+0+N];for(N=0;16>N;++N,$<<=2)Tl[_.Ob[N]](W=le,ye=Ae+Xp[N]),ja($,z,16*+N,W,ye)}else if(W=Bd(H,X,_.Ob[0]),qu[W](le,Ae),0!=$)for(N=0;16>N;++N,$<<=2)ja($,z,16*+N,le,Ae+Xp[N]);for(N=_.Gc,W=Bd(H,X,_.Dd),Yu[W](me,A),Yu[W](h,w),$=z,W=me,ye=A,255&(_=0|N)&&(170&_?Gi($,256,W,ye):oa($,256,W,ye)),_=h,$=w,255&(N>>=8)&&(170&N?Gi(z,320,_,$):oa(z,320,_,$)),X<f.Ub-1&&(S(F[O].y,0,le,Ae+480,16),S(F[O].f,0,me,A+224,8),S(F[O].ea,0,h,w+224,8)),F=f.sa,O=f.ta+16*H+16*oe*f.R,z=f.qa,_=f.ra+8*H+(N=8*oe*f.B),$=f.Ha,W=f.Ia+8*H+N,N=0;16>N;++N)S(F,O+N*f.R,le,Ae+32*N,16);for(N=0;8>N;++N)S(z,_+N*f.B,me,A+32*N,8),S($,W+N*f.B,h,w+32*N,8)}}function Dd(f,T,N,H,X,oe,le,Ae,me){var A=[0],h=[0],w=0,_=null!=me?me.kd:0,F=null!=me?me:new Ql;if(null==f||12>N)return 7;F.data=f,F.w=T,F.ha=N,T=[T],N=[N],F.gb=[F.gb];e:{var O=T,z=N,$=F.gb;if(g(null!=f),g(null!=z),g(null!=$),$[0]=0,12<=z[0]&&!y(f,O[0],"RIFF")){if(y(f,O[0]+8,"WEBP")){$=3;break e}var W=Tr(f,O[0]+4);if(12>W||4294967286<W){$=3;break e}if(_&&W>z[0]-8){$=7;break e}$[0]=W,O[0]+=12,z[0]-=12}$=0}if(0!=$)return $;for(W=0<F.gb[0],N=N[0];;){e:{var ye=f;z=T,$=N;var Se=A,ke=h,_t=O=[0];if((Kt=w=[w])[0]=0,8>$[0])$=7;else{if(!y(ye,z[0],"VP8X")){if(10!=Tr(ye,z[0]+4)){$=3;break e}if(18>$[0]){$=7;break e}var qt=Tr(ye,z[0]+8),an=1+pr(ye,z[0]+12);if(2147483648<=an*(ye=1+pr(ye,z[0]+15))){$=3;break e}null!=_t&&(_t[0]=qt),null!=Se&&(Se[0]=an),null!=ke&&(ke[0]=ye),z[0]+=18,$[0]-=18,Kt[0]=1}$=0}}if(w=w[0],0!=$)return $;if(z=!!(2&(O=O[0])),!W&&w)return 3;if(null!=oe&&(oe[0]=!!(16&O)),null!=le&&(le[0]=z),null!=Ae&&(Ae[0]=0),le=A[0],O=h[0],w&&z&&null==me){$=0;break}if(4>N){$=7;break}if(W&&w||!W&&!w&&!y(f,T[0],"ALPH")){N=[N],F.na=[F.na],F.P=[F.P],F.Sa=[F.Sa];e:{$=T,W=N;var Kt=F.gb;Se=F.na,ke=F.P,_t=F.Sa,an=22,g(null!=(qt=f)),g(null!=W),ye=$[0];var xr=W[0];for(g(null!=Se),g(null!=_t),Se[0]=null,ke[0]=null,_t[0]=0;;){if($[0]=ye,W[0]=xr,8>xr){$=7;break e}var Wn=Tr(qt,ye+4);if(4294967286<Wn){$=3;break e}var On=8+Wn+1&-2;if(an+=On,0<Kt&&an>Kt){$=3;break e}if(!y(qt,ye,"VP8 ")||!y(qt,ye,"VP8L")){$=0;break e}if(xr[0]<On){$=7;break e}y(qt,ye,"ALPH")||(Se[0]=qt,ke[0]=ye+8,_t[0]=Wn),ye+=On,xr-=On}}if(N=N[0],F.na=F.na[0],F.P=F.P[0],F.Sa=F.Sa[0],0!=$)break}N=[N],F.Ja=[F.Ja],F.xa=[F.xa];e:if(Kt=f,$=T,W=N,Se=F.gb[0],ke=F.Ja,_t=F.xa,qt=$[0],ye=!y(Kt,qt,"VP8 "),an=!y(Kt,qt,"VP8L"),g(null!=Kt),g(null!=W),g(null!=ke),g(null!=_t),8>W[0])$=7;else{if(ye||an){if(Kt=Tr(Kt,qt+4),12<=Se&&Kt>Se-12){$=3;break e}if(_&&Kt>W[0]-8){$=7;break e}ke[0]=Kt,$[0]+=8,W[0]-=8,_t[0]=an}else _t[0]=5<=W[0]&&47==Kt[qt+0]&&!(Kt[qt+4]>>5),ke[0]=W[0];$=0}if(N=N[0],F.Ja=F.Ja[0],F.xa=F.xa[0],T=T[0],0!=$)break;if(4294967286<F.Ja)return 3;if(null==Ae||z||(Ae[0]=F.xa?2:1),le=[le],O=[O],F.xa){if(5>N){$=7;break}Ae=le,_=O,z=oe,null==f||5>N?f=0:5<=N&&47==f[T+0]&&!(f[T+4]>>5)?(W=[0],Kt=[0],Se=[0],Ht(ke=new ae,f,T,N),Mr(ke,W,Kt,Se)?(null!=Ae&&(Ae[0]=W[0]),null!=_&&(_[0]=Kt[0]),null!=z&&(z[0]=Se[0]),f=1):f=0):f=0}else{if(10>N){$=7;break}Ae=O,null==f||10>N||!Id(f,T+3,N-3)?f=0:(_=f[T+0]|f[T+1]<<8|f[T+2]<<16,z=16383&(f[T+7]<<8|f[T+6]),f=16383&(f[T+9]<<8|f[T+8]),1&_||3<(_>>1&7)||!(_>>4&1)||_>>5>=F.Ja||!z||!f?f=0:(le&&(le[0]=z),Ae&&(Ae[0]=f),f=1))}if(!f||(le=le[0],O=O[0],w&&(A[0]!=le||h[0]!=O)))return 3;null!=me&&(me[0]=F,me.offset=T-me.w,g(4294967286>T-me.w),g(me.offset==me.ha-N));break}return 0==$||7==$&&w&&null==me?(null!=oe&&(oe[0]|=null!=F.na&&0<F.na.length),null!=H&&(H[0]=le),null!=X&&(X[0]=O),0):$}function gu(f,T,N){var H=T.width,X=T.height,oe=0,le=0,Ae=H,me=X;if(T.Da=null!=f&&0<f.Da,T.Da&&(Ae=f.cd,me=f.bd,oe=f.v,le=f.j,11>N||(oe&=-2,le&=-2),0>oe||0>le||0>=Ae||0>=me||oe+Ae>H||le+me>X))return 0;if(T.v=oe,T.j=le,T.va=oe+Ae,T.o=le+me,T.U=Ae,T.T=me,T.da=null!=f&&0<f.da,T.da){if(!ti(Ae,me,N=[f.ib],oe=[f.hb]))return 0;T.ib=N[0],T.hb=oe[0]}return T.ob=null!=f&&f.ob,T.Kb=null==f||!f.Sd,T.da&&(T.ob=T.ib<3*H/4&&T.hb<3*X/4,T.Kb=0),1}function dA(f){if(null==f)return 2;if(11>f.S){var T=f.f.RGBA;T.fb+=(f.height-1)*T.A,T.A=-T.A}else(T=f.f.kb).O+=((f=f.height)-1)*T.fa,T.fa=-T.fa,T.N+=(f-1>>1)*T.Ab,T.Ab=-T.Ab,T.W+=(f-1>>1)*T.Db,T.Db=-T.Db,null!=T.F&&(T.J+=(f-1)*T.lb,T.lb=-T.lb);return 0}function Xc(f,T,N,H){if(null==H||0>=f||0>=T)return 2;if(null!=N){if(N.Da){var X=N.cd,oe=N.bd,le=-2&N.v,Ae=-2&N.j;if(0>le||0>Ae||0>=X||0>=oe||le+X>f||Ae+oe>T)return 2;f=X,T=oe}if(N.da){if(!ti(f,T,X=[N.ib],oe=[N.hb]))return 2;f=X[0],T=oe[0]}}H.width=f,H.height=T;e:{var me=H.width,A=H.height;if(f=H.S,0>=me||0>=A||!(f>=ll&&13>f))f=2;else{if(0>=H.Rd&&null==H.sd){le=oe=X=T=0;var h=(Ae=me*Rh[f])*A;if(11>f||(oe=(A+1)/2*(T=(me+1)/2),12==f&&(le=(X=me)*A)),null==(A=B(h+2*oe+le))){f=1;break e}H.sd=A,11>f?((me=H.f.RGBA).eb=A,me.fb=0,me.A=Ae,me.size=h):((me=H.f.kb).y=A,me.O=0,me.fa=Ae,me.Fd=h,me.f=A,me.N=0+h,me.Ab=T,me.Cd=oe,me.ea=A,me.W=0+h+oe,me.Db=T,me.Ed=oe,12==f&&(me.F=A,me.J=0+h+2*oe),me.Tc=le,me.lb=X)}if(T=1,oe=H.width,le=H.height,(X=H.S)>=ll&&13>X)if(11>X)f=H.f.RGBA,T&=(Ae=Math.abs(f.A))*(le-1)+oe<=f.size,T&=Ae>=oe*Rh[X],T&=null!=f.eb;else{f=H.f.kb,Ae=(oe+1)/2,h=(le+1)/2,me=Math.abs(f.fa),A=Math.abs(f.Ab);var w=Math.abs(f.Db),_=Math.abs(f.lb);T&=me*(le-1)+oe<=f.Fd,T&=A*(h-1)+Ae<=f.Cd,T=(T&=w*(h-1)+Ae<=f.Ed)&me>=oe&A>=Ae&w>=Ae,T&=null!=f.y,T&=null!=f.f,T&=null!=f.ea,12==X&&(T&=_>=oe,T&=_*(le-1)+oe<=f.Tc,T&=null!=f.F)}else T=0;f=T?0:2}}return 0!=f||null!=N&&N.fd&&(f=dA(H)),f}var $a=64,xd=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Fd=24,_c=32,YA=8,Ga=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Xn("Predictor0","PredictorAdd0"),Ne.Predictor0=function(){return 4278190080},Ne.Predictor1=function(f){return f},Ne.Predictor2=function(f,T,N){return T[N+0]},Ne.Predictor3=function(f,T,N){return T[N+1]},Ne.Predictor4=function(f,T,N){return T[N-1]},Ne.Predictor5=function(f,T,N){return ir(ir(f,T[N+1]),T[N+0])},Ne.Predictor6=function(f,T,N){return ir(f,T[N-1])},Ne.Predictor7=function(f,T,N){return ir(f,T[N+0])},Ne.Predictor8=function(f,T,N){return ir(T[N-1],T[N+0])},Ne.Predictor9=function(f,T,N){return ir(T[N+0],T[N+1])},Ne.Predictor10=function(f,T,N){return ir(ir(f,T[N-1]),ir(T[N+0],T[N+1]))},Ne.Predictor11=function(f,T,N){var H=T[N+0];return 0>=Ri(H>>24&255,f>>24&255,(T=T[N-1])>>24&255)+Ri(H>>16&255,f>>16&255,T>>16&255)+Ri(H>>8&255,f>>8&255,T>>8&255)+Ri(255&H,255&f,255&T)?H:f},Ne.Predictor12=function(f,T,N){var H=T[N+0];return(Wr((f>>24&255)+(H>>24&255)-((T=T[N-1])>>24&255))<<24|Wr((f>>16&255)+(H>>16&255)-(T>>16&255))<<16|Wr((f>>8&255)+(H>>8&255)-(T>>8&255))<<8|Wr((255&f)+(255&H)-(255&T)))>>>0},Ne.Predictor13=function(f,T,N){var H=T[N-1];return(fi((f=ir(f,T[N+0]))>>24&255,H>>24&255)<<24|fi(f>>16&255,H>>16&255)<<16|fi(f>>8&255,H>>8&255)<<8|fi(255&f,255&H))>>>0};var XA=Ne.PredictorAdd0;Ne.PredictorAdd1=Ei,Xn("Predictor2","PredictorAdd2"),Xn("Predictor3","PredictorAdd3"),Xn("Predictor4","PredictorAdd4"),Xn("Predictor5","PredictorAdd5"),Xn("Predictor6","PredictorAdd6"),Xn("Predictor7","PredictorAdd7"),Xn("Predictor8","PredictorAdd8"),Xn("Predictor9","PredictorAdd9"),Xn("Predictor10","PredictorAdd10"),Xn("Predictor11","PredictorAdd11"),Xn("Predictor12","PredictorAdd12"),Xn("Predictor13","PredictorAdd13");var Hl=Ne.PredictorAdd2;Ti("ColorIndexInverseTransform","MapARGB","32b",function(f){return f>>8&255},function(f){return f}),Ti("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(f){return f},function(f){return f>>8&255});var AA,jl=Ne.ColorIndexInverseTransform,Jc=Ne.MapARGB,Sh=Ne.VP8LColorIndexInverseTransformAlpha,kd=Ne.MapAlpha,rs=Ne.VP8LPredictorsAdd=[];rs.length=16,(Ne.VP8LPredictors=[]).length=16,(Ne.VP8LPredictorsAdd_C=[]).length=16,(Ne.VP8LPredictors_C=[]).length=16;var ia,Oi,Rd,Wu,mu,JA,vu,yu,wc,Gi,ya,oa,Da,Wa,al,sa,hA,zl,_a,yo,Do,ws,Vs,_u,Pd,Th,sp,Nd,ZA=B(511),Bh=B(2041),eh=B(225),gf=B(767),Dh=0,Gp=Bh,th=eh,wa=gf,Ka=ZA,ll=0,mf=1,fA=2,pA=3,xa=4,Cc=5,xh=6,ap=7,nh=8,Zc=9,vf=10,Fh=[2,3,7],tm=[3,3,11],Jn=[280,256,256,256,40],$l=[0,1,1,1,0],yf=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Gl=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Wp=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],so=8,bi=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],is=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],gA=null,zo=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Ku=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],ed=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],lp=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],bc=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],Kp=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],_f=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],qu=[],Tl=[],Yu=[],qp=1,E=2,c=[],p=[];Qe("UpsampleRgbLinePair",Ni,3),Qe("UpsampleBgrLinePair",ho,3),Qe("UpsampleRgbaLinePair",Sl,4),Qe("UpsampleBgraLinePair",ra,4),Qe("UpsampleArgbLinePair",va,4),Qe("UpsampleRgba4444LinePair",Es,2),Qe("UpsampleRgb565LinePair",jo,2);var D=Ne.UpsampleRgbLinePair,Q=Ne.UpsampleBgrLinePair,ne=Ne.UpsampleRgbaLinePair,et=Ne.UpsampleBgraLinePair,bt=Ne.UpsampleArgbLinePair,tn=Ne.UpsampleRgba4444LinePair,Zn=Ne.UpsampleRgb565LinePair,Nn=16,Er=1<<Nn-1,$o=-227,Bl=482,wu=6,Dl=(256<<wu)-1,kh=0,Cu=B(256),Yp=B(256),up=B(256),wf=B(256),nm=B(Bl-$o),cp=B(Bl-$o);Ba("YuvToRgbRow",Ni,3),Ba("YuvToBgrRow",ho,3),Ba("YuvToRgbaRow",Sl,4),Ba("YuvToBgraRow",ra,4),Ba("YuvToArgbRow",va,4),Ba("YuvToRgba4444Row",Es,2),Ba("YuvToRgb565Row",jo,2);var Xp=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],dp=[0,2,8],Jp=[8,7,6,4,4,2,2,2,1,1,1,1];this.WebPDecodeRGBA=function(f,T,N,H,X){var oe=mf,le=new Yc,Ae=new Qu;le.ba=Ae,Ae.S=oe,Ae.width=[Ae.width],Ae.height=[Ae.height];var me=Ae.width,A=Ae.height,h=new au;if(null==h||null==f)var w=2;else g(null!=h),w=Dd(f,T,N,h.width,h.height,h.Pd,h.Qd,h.format,null);if(0!=w?me=0:(null!=me&&(me[0]=h.width[0]),null!=A&&(A[0]=h.height[0]),me=1),me){Ae.width=Ae.width[0],Ae.height=Ae.height[0],null!=H&&(H[0]=Ae.width),null!=X&&(X[0]=Ae.height);e:{if(H=new Ul,(X=new Ql).data=f,X.w=T,X.ha=N,X.kd=1,T=[0],g(null!=X),(0==(f=Dd(X.data,X.w,X.ha,null,null,null,T,null,X))||7==f)&&T[0]&&(f=4),0==(T=f)){if(g(null!=le),H.data=X.data,H.w=X.w+X.offset,H.ha=X.ha-X.offset,H.put=uo,H.ac=mr,H.bc=Rs,H.ma=le,X.xa){if(null==(f=Os())){le=1;break e}if(function(_,F){var O=[0],z=[0],$=[0];t:for(;;){if(null==_)return 0;if(null==F)return _.a=2,0;if(_.l=F,_.a=0,Ht(_.m,F.data,F.w,F.ha),!Mr(_.m,O,z,$)){_.a=3;break t}if(_.xb=E,F.width=O[0],F.height=z[0],!Il(O[0],z[0],1,_,null))break t;return 1}return g(0!=_.a),0}(f,H)){if(H=0==(T=Xc(H.width,H.height,le.Oa,le.ba))){t:{H=f;n:for(;;){if(null==H){H=0;break t}if(g(null!=H.s.yc),g(null!=H.s.Ya),g(0<H.s.Wb),g(null!=(N=H.l)),g(null!=(X=N.ma)),0!=H.xb){if(H.ca=X.ba,H.tb=X.tb,g(null!=H.ca),!gu(X.Oa,N,pA)){H.a=2;break n}if(!Cd(H,N.width)||N.da)break n;if((N.da||To(H.ca.S))&&Tt(),11>H.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),null!=H.ca.f.kb.F&&Tt()),H.Pb&&0<H.s.ua&&null==H.s.vb.X&&!ai(H.s.vb,H.s.Wa.Xa)){H.a=1;break n}H.xb=0}if(!rl(H,H.V,H.Ba,H.c,H.i,N.o,Ac))break n;X.Dc=H.Ma,H=1;break t}g(0!=H.a),H=0}H=!H}H&&(T=f.a)}else T=f.a}else{if(null==(f=new cu)){le=1;break e}if(f.Fa=X.na,f.P=X.P,f.qc=X.Sa,cf(f,H)){if(0==(T=Xc(H.width,H.height,le.Oa,le.ba))){if(f.Aa=0,N=le.Oa,g(null!=(X=f)),null!=N){if(0<(me=0>(me=N.Md)?0:100<me?255:255*me/100)){for(A=h=0;4>A;++A)12>(w=X.pb[A]).lc&&(w.ia=me*Jp[0>w.lc?0:w.lc]>>3),h|=w.ia;h&&(alert("todo:VP8InitRandom"),X.ia=1)}X.Ga=N.Id,100<X.Ga?X.Ga=100:0>X.Ga&&(X.Ga=0)}(function du(f,T){if(null==f)return 0;if(null==T)return $i(f,2,"NULL VP8Io parameter in VP8Decode().");if(!f.cb&&!cf(f,T))return 0;if(g(f.cb),null==T.ac||T.ac(T)){T.ob&&(f.L=0);var N=dp[f.L];if(2==f.L?(f.yb=0,f.zb=0):(f.yb=T.v-N>>4,f.zb=T.j-N>>4,0>f.yb&&(f.yb=0),0>f.zb&&(f.zb=0)),f.Va=T.o+15+N>>4,f.Hb=T.va+15+N>>4,f.Hb>f.za&&(f.Hb=f.za),f.Va>f.Ub&&(f.Va=f.Ub),0<f.L){var H=f.ed;for(N=0;4>N;++N){var X;if(f.Qa.Cb){var oe=f.Qa.Lb[N];f.Qa.Fb||(oe+=H.Tb)}else oe=H.Tb;for(X=0;1>=X;++X){var le=f.gd[N][X],Ae=oe;if(H.Pc&&(Ae+=H.vd[0],X&&(Ae+=H.od[0])),0<(Ae=0>Ae?0:63<Ae?63:Ae)){var me=Ae;0<H.wb&&(me=4<H.wb?me>>2:me>>1)>9-H.wb&&(me=9-H.wb),1>me&&(me=1),le.dd=me,le.tc=2*Ae+me,le.ld=40<=Ae?2:15<=Ae?1:0}else le.tc=0;le.La=X}}}N=0}else $i(f,6,"Frame setup failed"),N=f.a;if(N=0==N){if(N){f.$c=0,0<f.Aa||(f.Ic=1);e:{H=4*(me=f.za);var A=32*me,h=me+1,w=0<f.L?me*(0<f.Aa?2:1):0,_=(2==f.Aa?2:1)*me;if((le=H+832+(X=3*(16*(N=f.Ic)+dp[f.L])/2*A)+(oe=null!=f.Fa&&0<f.Fa.length?f.Kc.c*f.Kc.i:0))!=le)N=0;else{if(le>f.Vb){if(f.Vb=0,f.Ec=B(le),f.Fc=0,null==f.Ec){N=$i(f,1,"no memory during frame initialization.");break e}f.Vb=le}Ae=f.Fc,f.Ac=le=f.Ec,f.Bc=Ae,Ae+=H,f.Gd=P(A,Ho),f.Hd=0,f.rb=P(h+1,ur),f.sb=1,f.wa=w?P(w,pc):null,f.Y=0,f.D.Nb=0,f.D.wa=f.wa,f.D.Y=f.Y,0<f.Aa&&(f.D.Y+=me),g(!0),f.oc=le,f.pc=Ae,Ae+=832,f.ya=P(_,rA),f.aa=0,f.D.ya=f.ya,f.D.aa=f.aa,2==f.Aa&&(f.D.aa+=me),f.R=16*me,f.B=8*me,me=(A=dp[f.L])*f.R,A=A/2*f.B,f.sa=le,f.ta=Ae+me,f.qa=f.sa,f.ra=f.ta+16*N*f.R+A,f.Ha=f.qa,f.Ia=f.ra+8*N*f.B+A,f.$c=0,Ae+=X,f.mb=oe?le:null,f.nb=oe?Ae:null,g(Ae+oe<=f.Fc+f.Vb),Sa(f),x(f.Ac,f.Bc,0,H),N=1}}if(N){if(T.ka=0,T.y=f.sa,T.O=f.ta,T.f=f.qa,T.N=f.ra,T.ea=f.Ha,T.Vd=f.Ia,T.fa=f.R,T.Rc=f.B,T.F=null,T.J=0,!Dh){for(N=-255;255>=N;++N)ZA[255+N]=0>N?-N:N;for(N=-1020;1020>=N;++N)Bh[1020+N]=-128>N?-128:127<N?127:N;for(N=-112;112>=N;++N)eh[112+N]=-16>N?-16:15<N?15:N;for(N=-255;510>=N;++N)gf[255+N]=0>N?0:255<N?255:N;Dh=1}vu=jp,yu=ip,Gi=op,ya=Hp,oa=yh,wc=oA,Da=sl,Wa=Sd,al=Us,sa=pu,hA=uA,zl=Td,_a=qc,yo=vc,Do=Kc,ws=ol,Vs=Gs,_u=pf,Tl[0]=Au,Tl[1]=zp,Tl[2]=$s,Tl[3]=$A,Tl[4]=ff,Tl[5]=ju,Tl[6]=GA,Tl[7]=aA,Tl[8]=KA,Tl[9]=WA,qu[0]=hf,qu[1]=_h,qu[2]=gc,qu[3]=Hu,qu[4]=Ta,qu[5]=sA,qu[6]=zA,Yu[0]=Gc,Yu[1]=Af,Yu[2]=Vl,Yu[3]=lA,Yu[4]=Wc,Yu[5]=Ch,Yu[6]=yi,N=1}else N=0}N&&(N=function(F,O){for(F.M=0;F.M<F.Va;++F.M){var z,$=F.Jc[F.M&F.Xb],W=F.m,ye=F;for(z=0;z<ye.za;++z){var Se=W,ke=ye,_t=ke.Ac,qt=ke.Bc+4*z,an=ke.zc,Kt=ke.ya[ke.aa+z];if(Kt.$b=ke.Qa.Bb?jt(Se,ke.Pa.jb[0])?2+jt(Se,ke.Pa.jb[2]):jt(Se,ke.Pa.jb[1]):0,ke.kc&&(Kt.Ad=jt(Se,ke.Bd)),Kt.Za=!jt(Se,145)+0,Kt.Za){var xr=Kt.Ob,Wn=0;for(ke=0;4>ke;++ke){var On,Or=an[0+ke];for(On=0;4>On;++On){for(var Pr=ed[jt(Se,(Or=bc[_t[qt+On]][Or])[0])];0<Pr;)Pr=ed[2*Pr+jt(Se,Or[Pr])];_t[qt+On]=Or=-Pr}S(xr,Wn,_t,qt,4),Wn+=4,an[0+ke]=Or}}else Or=jt(Se,156)?jt(Se,128)?1:3:jt(Se,163)?2:0,Kt.Ob[0]=Or,x(_t,qt,Or,4),x(an,0,Or,4);Kt.Dd=jt(Se,142)?jt(Se,114)?jt(Se,183)?1:3:2:0}if(ye.m.Ka)return $i(F,7,"Premature end-of-partition0 encountered.");for(;F.ja<F.za;++F.ja){if(ye=$,Se=(W=F).rb[W.sb-1],_t=W.rb[W.sb+W.ja],z=W.ya[W.aa+W.ja],qt=W.kc?z.Ad:0)Se.la=_t.la=0,z.Za||(Se.Na=_t.Na=0),z.Hc=0,z.Gc=0,z.ia=0;else{var yr,En;if(Se=_t,_t=ye,qt=W.Pa.Xc,Kt=W.pb[(an=W.ya[W.aa+W.ja]).$b],Wn=W.rb[W.sb-1],Or=On=0,x(ke=an.ad,xr=0,0,384),an.Za)var Zr=0,Ai=qt[3];else{Pr=B(16);var Fr=Se.Na+Wn.Na;if(Fr=gA(_t,qt[1],Fr,Kt.Eb,0,Pr,0),Se.Na=Wn.Na=(0<Fr)+0,1<Fr)vu(Pr,0,ke,xr);else{var ao=Pr[0]+3>>3;for(Pr=0;256>Pr;Pr+=16)ke[xr+Pr]=ao}Zr=1,Ai=qt[0]}var _i=15&Se.la,fs=15&Wn.la;for(Pr=0;4>Pr;++Pr){var Bi=1&fs;for(ao=En=0;4>ao;++ao)_i=_i>>1|(Bi=(Fr=gA(_t,Ai,Fr=Bi+(1&_i),Kt.Sc,Zr,ke,xr))>Zr)<<7,En=En<<2|(3<Fr?3:1<Fr?2:0!=ke[xr+0]),xr+=16;_i>>=4,fs=fs>>1|Bi<<7,On=(On<<8|En)>>>0}for(Ai=_i,Zr=fs>>4,yr=0;4>yr;yr+=2){for(En=0,_i=Se.la>>4+yr,fs=Wn.la>>4+yr,Pr=0;2>Pr;++Pr){for(Bi=1&fs,ao=0;2>ao;++ao)_i=_i>>1|(Bi=0<(Fr=gA(_t,qt[2],Fr=Bi+(1&_i),Kt.Qc,0,ke,xr)))<<3,En=En<<2|(3<Fr?3:1<Fr?2:0!=ke[xr+0]),xr+=16;_i>>=2,fs=fs>>1|Bi<<5}Or|=En<<4*yr,Ai|=_i<<4<<yr,Zr|=(240&fs)<<yr}Se.la=Ai,Wn.la=Zr,an.Hc=On,an.Gc=Or,an.ia=43690&Or?0:Kt.ia,qt=!(On|Or)}if(0<W.L&&(W.wa[W.Y+W.ja]=W.gd[z.$b][z.Za],W.wa[W.Y+W.ja].La|=!qt),ye.Ka)return $i(F,7,"Premature end-of-file encountered.")}if(Sa(F),W=O,ye=1,z=($=F).D,Se=0<$.L&&$.M>=$.zb&&$.M<=$.Va,0==$.Aa)e:{if(z.M=$.M,z.uc=Se,za($,z),ye=1,z=(En=$.D).Nb,Se=(Or=dp[$.L])*$.R,qt=$.sa,an=$.ta-Se+(Pr=16*z*$.R),Kt=$.qa,ke=$.ra-(_t=Or/2*$.B)+(ao=8*z*$.B),xr=$.Ha,Wn=$.Ia-_t+ao,fs=0==(_i=En.M),On=_i>=$.Va-1,2==$.Aa&&za($,En),En.uc)for(Bi=(Fr=$).D.M,g(Fr.D.uc),En=Fr.yb;En<Fr.Hb;++En){Ai=Bi;var Zi=(Qs=(ss=Fr).D).Nb,Qs=Qs.wa[Qs.Y+(Zr=En)],Go=ss.sa,Yo=ss.ta+16*Zi*(yr=ss.R)+16*Zr,xl=Qs.dd,os=Qs.tc;if(0!=os)if(g(3<=os),1==ss.L)0<Zr&&ws(Go,Yo,yr,os+4),Qs.La&&_u(Go,Yo,yr,os),0<Ai&&Do(Go,Yo,yr,os+4),Qs.La&&Vs(Go,Yo,yr,os);else{var Fl=ss.B,Xu=ss.qa,bu=ss.ra+8*Zi*Fl+8*Zr,ul=ss.Ha,ss=ss.Ia+8*Zi*Fl+8*Zr;Zi=Qs.ld,0<Zr&&(Wa(Go,Yo,yr,os+4,xl,Zi),sa(Xu,bu,ul,ss,Fl,os+4,xl,Zi)),Qs.La&&(zl(Go,Yo,yr,os,xl,Zi),yo(Xu,bu,ul,ss,Fl,os,xl,Zi)),0<Ai&&(Da(Go,Yo,yr,os+4,xl,Zi),al(Xu,bu,ul,ss,Fl,os+4,xl,Zi)),Qs.La&&(hA(Go,Yo,yr,os,xl,Zi),_a(Xu,bu,ul,ss,Fl,os,xl,Zi))}}if($.ia&&alert("todo:DitherRow"),null!=W.put){if(En=16*_i,_i=16*(_i+1),fs?(W.y=$.sa,W.O=$.ta+Pr,W.f=$.qa,W.N=$.ra+ao,W.ea=$.Ha,W.W=$.Ia+ao):(En-=Or,W.y=qt,W.O=an,W.f=Kt,W.N=ke,W.ea=xr,W.W=Wn),On||(_i-=Or),_i>W.o&&(_i=W.o),W.F=null,W.J=null,null!=$.Fa&&0<$.Fa.length&&En<_i&&(W.J=yc($,W,En,_i-En),W.F=$.mb,null==W.F&&0==W.F.length)){ye=$i($,3,"Could not decode alpha data.");break e}En<W.j&&(Or=W.j-En,En=W.j,g(!(1&Or)),W.O+=$.R*Or,W.N+=$.B*(Or>>1),W.W+=$.B*(Or>>1),null!=W.F&&(W.J+=W.width*Or)),En<_i&&(W.O+=W.v,W.N+=W.v>>1,W.W+=W.v>>1,null!=W.F&&(W.J+=W.v),W.ka=En-W.j,W.U=W.va-W.v,W.T=_i-En,ye=W.put(W))}z+1!=$.Ic||On||(S($.sa,$.ta-Se,qt,an+16*$.R,Se),S($.qa,$.ra-_t,Kt,ke+8*$.B,_t),S($.Ha,$.Ia-_t,xr,Wn+8*$.B,_t))}if(!ye)return $i(F,6,"Output aborted.")}return 1}(f,T)),null!=T.bc&&T.bc(T),N&=1}return N?(f.cb=0,N):0})(f,H)||(T=f.a)}}else T=f.a}0==T&&null!=le.Oa&&le.Oa.fd&&(T=dA(le.ba))}le=T}oe=0!=le?null:11>oe?Ae.f.RGBA.eb:Ae.f.kb.y}else oe=null;return oe};var Rh=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function G(Ne,Zt){for(var on="",Be=0;Be<4;Be++)on+=String.fromCharCode(Ne[Zt++]);return on}function te(Ne,Zt){return(Ne[Zt+0]|Ne[Zt+1]<<8|Ne[Zt+2]<<16)>>>0}function ue(Ne,Zt){return(Ne[Zt+0]|Ne[Zt+1]<<8|Ne[Zt+2]<<16|Ne[Zt+3]<<24)>>>0}new L;var pe=[0],j=[0],Pe=[],be=new L,ze=C,J=function(Ne,Zt){var on={},Be=0,we=!1,pt=0,ct=0;if(on.frames=[],!
/** @license
               * Copyright (c) 2017 Dominik Homberger
              Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the "Software"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:
              The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.
              THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
              https://webpjs.appspot.com
              WebPRiffParser dominikhlbg@gmail.com
              */
function(Ve,Je,mt,Et){for(var zt=0;zt<4;zt++)if(Ve[Je+zt]!="RIFF".charCodeAt(zt))return!0;return!1}(Ne,Zt)){var cn,Jt;for(ue(Ne,Zt+=4),Zt+=8;Zt<Ne.length;){var _n=G(Ne,Zt),Ht=ue(Ne,Zt+=4);Zt+=4;var wn=Ht+(1&Ht);switch(_n){case"VP8 ":case"VP8L":void 0===on.frames[Be]&&(on.frames[Be]={}),(ae=on.frames[Be]).src_off=we?ct:Zt-8,ae.src_size=pt+Ht+8,Be++,we&&(we=!1,pt=0,ct=0);break;case"VP8X":(ae=on.header={}).feature_flags=Ne[Zt];var yn=Zt+4;ae.canvas_width=1+te(Ne,yn),ae.canvas_height=1+te(Ne,yn+=3),yn+=3;break;case"ALPH":we=!0,pt=wn+8,ct=Zt-8;break;case"ANIM":(ae=on.header).bgcolor=ue(Ne,Zt),ae.loop_count=(cn=Ne)[(Jt=yn=Zt+4)+0]|cn[Jt+1]<<8,yn+=2;break;case"ANMF":var lr,ae;(ae=on.frames[Be]={}).offset_x=2*te(Ne,Zt),ae.offset_y=2*te(Ne,Zt+=3),ae.width=1+te(Ne,Zt+=3),ae.height=1+te(Ne,Zt+=3),ae.duration=te(Ne,Zt+=3),Zt+=3,lr=Ne[Zt++],ae.dispose=1&lr,ae.blend=lr>>1&1}"ANMF"!=_n&&(Zt+=wn)}return on}}(ze,0);J.response=ze,J.rgbaoutput=!0,J.dataurl=!1;var Le=J.header?J.header:null,gt=J.frames?J.frames:null;if(Le){Le.loop_counter=Le.loop_count,pe=[Le.canvas_height],j=[Le.canvas_width];for(var xt=0;xt<gt.length&&0!=gt[xt].blend;xt++);}var un=gt[0],St=be.WebPDecodeRGBA(ze,un.src_off,un.src_size,j,pe);un.rgba=St,un.imgwidth=j[0],un.imgheight=pe[0];for(var Bt=0;Bt<j[0]*pe[0]*4;Bt++)Pe[Bt]=St[Bt];return this.width=j,this.height=pe,this.data=Pe,this}(function(C){var y=function(pe,j,Pe,be){var ze=4,J=P;switch(be){case C.image_compression.FAST:ze=1,J=B;break;case C.image_compression.MEDIUM:ze=6,J=M;break;case C.image_compression.SLOW:ze=9,J=L}var Le=Zo(pe=S(pe,j,Pe,J),{level:ze});return C.__addimage__.arrayBufferToBinaryString(Le)},S=function(pe,j,Pe,be){for(var ze,J,Le,gt=pe.length/j,xt=new Uint8Array(pe.length+gt),un=te(),St=0;St<gt;St+=1){if(ze=pe.subarray(Le=St*j,Le+j),be)xt.set(be(ze,Pe,J),Le+St);else{for(var Bt,Ne=un.length,Zt=[];Bt<Ne;Bt+=1)Zt[Bt]=un[Bt](ze,Pe,J);var on=ue(Zt.concat());xt.set(Zt[on],Le+St)}J=ze}return xt},x=function(pe){var j=Array.apply([],pe);return j.unshift(0),j},B=function(pe,j){var be=[],ze=pe.length;be[0]=1;for(var J=0;J<ze;J+=1)be[J+1]=pe[J]-(pe[J-j]||0)+256&255;return be},P=function(pe,j,Pe){var ze=[],J=pe.length;ze[0]=2;for(var Le=0;Le<J;Le+=1)ze[Le+1]=pe[Le]-(Pe&&Pe[Le]||0)+256&255;return ze},M=function(pe,j,Pe){var J=[],Le=pe.length;J[0]=3;for(var gt=0;gt<Le;gt+=1)J[gt+1]=pe[gt]+256-((pe[gt-j]||0)+(Pe&&Pe[gt]||0)>>>1)&255;return J},L=function(pe,j,Pe){var Le,gt=[],xt=pe.length;gt[0]=4;for(var un=0;un<xt;un+=1)Le=G(pe[un-j]||0,Pe&&Pe[un]||0,Pe&&Pe[un-j]||0),gt[un+1]=pe[un]-Le+256&255;return gt},G=function(pe,j,Pe){if(pe===j&&j===Pe)return pe;var be=Math.abs(j-Pe),ze=Math.abs(pe-Pe),J=Math.abs(pe+j-Pe-Pe);return be<=ze&&be<=J?pe:ze<=J?j:Pe},te=function(){return[x,B,P,M,L]},ue=function(pe){var j=pe.map(function(Pe){return Pe.reduce(function(be,ze){return be+Math.abs(ze)},0)});return j.indexOf(Math.min.apply(null,j))};C.processPNG=function(pe,j,Pe,be){var ze,J,Le,gt,xt,un,St,Bt,Ne,Zt,on,Be,we,pt,ct,cn=this.decode.FLATE_DECODE,Jt="";if(this.__addimage__.isArrayBuffer(pe)&&(pe=new Uint8Array(pe)),this.__addimage__.isArrayBufferView(pe)){if(pe=(Le=new ki(pe)).imgData,J=Le.bits,ze=Le.colorSpace,xt=Le.colors,-1!==[4,6].indexOf(Le.colorType)){if(8===Le.bits){Ne=(Bt=32==Le.pixelBitlength?new Uint32Array(Le.decodePixels().buffer):16==Le.pixelBitlength?new Uint16Array(Le.decodePixels().buffer):new Uint8Array(Le.decodePixels().buffer)).length,on=new Uint8Array(Ne*Le.colors),Zt=new Uint8Array(Ne);var _n,Ht=Le.pixelBitlength-Le.bits;for(pt=0,ct=0;pt<Ne;pt++){for(we=Bt[pt],_n=0;_n<Ht;)on[ct++]=we>>>_n&255,_n+=Le.bits;Zt[pt]=we>>>_n&255}}if(16===Le.bits){Ne=(Bt=new Uint32Array(Le.decodePixels().buffer)).length,on=new Uint8Array(Ne*(32/Le.pixelBitlength)*Le.colors),Zt=new Uint8Array(Ne*(32/Le.pixelBitlength)),Be=Le.colors>1,pt=0,ct=0;for(var wn=0;pt<Ne;)we=Bt[pt++],on[ct++]=we>>>0&255,Be&&(on[ct++]=we>>>16&255,we=Bt[pt++],on[ct++]=we>>>0&255),Zt[wn++]=we>>>16&255;J=8}be!==C.image_compression.NONE?(pe=y(on,Le.width*Le.colors,Le.colors,be),St=y(Zt,Le.width,1,be)):(pe=on,St=Zt,cn=void 0)}if(3===Le.colorType&&(ze=this.color_spaces.INDEXED,un=Le.palette,Le.transparency.indexed)){var yn=Le.transparency.indexed,lr=0;for(pt=0,Ne=yn.length;pt<Ne;++pt)lr+=yn[pt];if((lr/=255)==Ne-1&&-1!==yn.indexOf(0))gt=[yn.indexOf(0)];else if(lr!==Ne){for(Bt=Le.decodePixels(),Zt=new Uint8Array(Bt.length),pt=0,Ne=Bt.length;pt<Ne;pt++)Zt[pt]=yn[Bt[pt]];St=y(Zt,Le.width,1)}}var ae=function(Ve){var Je;switch(Ve){case C.image_compression.FAST:Je=11;break;case C.image_compression.MEDIUM:Je=13;break;case C.image_compression.SLOW:Je=14;break;default:Je=12}return Je}(be);return cn===this.decode.FLATE_DECODE&&(Jt="/Predictor "+ae+" "),Jt+="/Colors "+xt+" /BitsPerComponent "+J+" /Columns "+Le.width,(this.__addimage__.isArrayBuffer(pe)||this.__addimage__.isArrayBufferView(pe))&&(pe=this.__addimage__.arrayBufferToBinaryString(pe)),(St&&this.__addimage__.isArrayBuffer(St)||this.__addimage__.isArrayBufferView(St))&&(St=this.__addimage__.arrayBufferToBinaryString(St)),{alias:Pe,data:pe,index:j,filter:cn,decodeParameters:Jt,transparency:gt,palette:un,sMask:St,predictor:ae,width:Le.width,height:Le.height,bitsPerComponent:J,colorSpace:ze}}}})(qr.API),function(C){C.processGIF89A=function(g,y,S,x){var B=new jc(g),P=B.width,M=B.height,L=[];B.decodeAndBlitFrameRGBA(0,L);var G={data:L,width:P,height:M},te=new zc(100).encode(G,100);return C.processJPEG.call(this,te,y,S,x)},C.processGIF87A=C.processGIF89A}(qr.API),Oa.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,16===this.bitPP&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var C=0===this.colors?1<<this.bitPP:this.colors;this.palette=new Array(C);for(var g=0;g<C;g++){var y=this.datav.getUint8(this.pos++,!0),S=this.datav.getUint8(this.pos++,!0),x=this.datav.getUint8(this.pos++,!0),B=this.datav.getUint8(this.pos++,!0);this.palette[g]={red:x,green:S,blue:y,quad:B}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Oa.prototype.parseBGR=function(){this.pos=this.offset;try{var C="bit"+this.bitPP;this.data=new Uint8Array(this.width*this.height*4),this[C]()}catch(y){Ao.log("bit decode error:"+y)}},Oa.prototype.bit1=function(){var C,g=Math.ceil(this.width/8),y=g%4;for(C=this.height-1;C>=0;C--){for(var S=this.bottom_up?C:this.height-1-C,x=0;x<g;x++)for(var B=this.datav.getUint8(this.pos++,!0),P=S*this.width*4+8*x*4,M=0;M<8&&8*x+M<this.width;M++){var L=this.palette[B>>7-M&1];this.data[P+4*M]=L.blue,this.data[P+4*M+1]=L.green,this.data[P+4*M+2]=L.red,this.data[P+4*M+3]=255}0!==y&&(this.pos+=4-y)}},Oa.prototype.bit4=function(){for(var C=Math.ceil(this.width/2),g=C%4,y=this.height-1;y>=0;y--){for(var S=this.bottom_up?y:this.height-1-y,x=0;x<C;x++){var B=this.datav.getUint8(this.pos++,!0),P=S*this.width*4+2*x*4,L=15&B,G=this.palette[B>>4];if(this.data[P]=G.blue,this.data[P+1]=G.green,this.data[P+2]=G.red,this.data[P+3]=255,2*x+1>=this.width)break;this.data[P+4]=(G=this.palette[L]).blue,this.data[P+4+1]=G.green,this.data[P+4+2]=G.red,this.data[P+4+3]=255}0!==g&&(this.pos+=4-g)}},Oa.prototype.bit8=function(){for(var C=this.width%4,g=this.height-1;g>=0;g--){for(var y=this.bottom_up?g:this.height-1-g,S=0;S<this.width;S++){var x=this.datav.getUint8(this.pos++,!0),B=y*this.width*4+4*S;if(x<this.palette.length){var P=this.palette[x];this.data[B]=P.red,this.data[B+1]=P.green,this.data[B+2]=P.blue,this.data[B+3]=255}else this.data[B]=255,this.data[B+1]=255,this.data[B+2]=255,this.data[B+3]=255}0!==C&&(this.pos+=4-C)}},Oa.prototype.bit15=function(){for(var C=this.width%3,g=parseInt("11111",2),y=this.height-1;y>=0;y--){for(var S=this.bottom_up?y:this.height-1-y,x=0;x<this.width;x++){var B=this.datav.getUint16(this.pos,!0);this.pos+=2;var P=(B&g)/g*255|0,M=(B>>5&g)/g*255|0,G=B>>15?255:0,te=S*this.width*4+4*x;this.data[te]=(B>>10&g)/g*255|0,this.data[te+1]=M,this.data[te+2]=P,this.data[te+3]=G}this.pos+=C}},Oa.prototype.bit16=function(){for(var C=this.width%3,g=parseInt("11111",2),y=parseInt("111111",2),S=this.height-1;S>=0;S--){for(var x=this.bottom_up?S:this.height-1-S,B=0;B<this.width;B++){var P=this.datav.getUint16(this.pos,!0);this.pos+=2;var M=(P&g)/g*255|0,L=(P>>5&y)/y*255|0,te=x*this.width*4+4*B;this.data[te]=(P>>11)/g*255|0,this.data[te+1]=L,this.data[te+2]=M,this.data[te+3]=255}this.pos+=C}},Oa.prototype.bit24=function(){for(var C=this.height-1;C>=0;C--){for(var g=this.bottom_up?C:this.height-1-C,y=0;y<this.width;y++){var S=this.datav.getUint8(this.pos++,!0),x=this.datav.getUint8(this.pos++,!0),B=this.datav.getUint8(this.pos++,!0),P=g*this.width*4+4*y;this.data[P]=B,this.data[P+1]=x,this.data[P+2]=S,this.data[P+3]=255}this.pos+=this.width%4}},Oa.prototype.bit32=function(){for(var C=this.height-1;C>=0;C--)for(var g=this.bottom_up?C:this.height-1-C,y=0;y<this.width;y++){var S=this.datav.getUint8(this.pos++,!0),x=this.datav.getUint8(this.pos++,!0),B=this.datav.getUint8(this.pos++,!0),P=this.datav.getUint8(this.pos++,!0),M=g*this.width*4+4*y;this.data[M]=B,this.data[M+1]=x,this.data[M+2]=S,this.data[M+3]=P}},Oa.prototype.getData=function(){return this.data},
/**
         * @license
         * Copyright (c) 2018 Aras Abbasi
         *
         * Licensed under the MIT License.
         * http://opensource.org/licenses/mit-license
         */
function(C){C.processBMP=function(g,y,S,x){var B=new Oa(g,!1),P=B.width,M=B.height,L={data:B.getData(),width:P,height:M},G=new zc(100).encode(L,100);return C.processJPEG.call(this,G,y,S,x)}}(qr.API),$c.prototype.getData=function(){return this.data},
/**
         * @license
         * Copyright (c) 2019 Aras Abbasi
         *
         * Licensed under the MIT License.
         * http://opensource.org/licenses/mit-license
         */
function(C){C.processWEBP=function(g,y,S,x){var B=new $c(g,!1),P=B.width,M=B.height,L={data:B.getData(),width:P,height:M},G=new zc(100).encode(L,100);return C.processJPEG.call(this,G,y,S,x)}}(qr.API),qr.API.processRGBA=function(C,g,y){for(var S=C.data,x=S.length,B=new Uint8Array(x/4*3),P=new Uint8Array(x/4),M=0,L=0,G=0;G<x;G+=4){var ue=S[G+1],pe=S[G+2],j=S[G+3];B[M++]=S[G],B[M++]=ue,B[M++]=pe,P[L++]=j}var Pe=this.__addimage__.arrayBufferToBinaryString(B);return{alpha:this.__addimage__.arrayBufferToBinaryString(P),data:Pe,index:g,alias:y,colorSpace:"DeviceRGB",bitsPerComponent:8,width:C.width,height:C.height}},qr.API.setLanguage=function(C){return void 0===this.internal.languageSettings&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),void 0!=={af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[C]&&(this.internal.languageSettings.languageCode=C,!1===this.internal.languageSettings.isSubscribed&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},ts=(Hc=qr.API).getCharWidthsArray=function(C,g){var y,S,x=(g=g||{}).font||this.internal.getFont(),B=g.fontSize||this.internal.getFontSize(),P=g.charSpace||this.internal.getCharSpace(),M=g.widths?g.widths:x.metadata.Unicode.widths,L=M.fof?M.fof:1,G=g.kerning?g.kerning:x.metadata.Unicode.kerning,te=G.fof?G.fof:1,ue=!1!==g.doKerning,pe=0,j=C.length,Pe=0,be=M[0]||L,ze=[];for(y=0;y<j;y++)S=C.charCodeAt(y),"function"==typeof x.metadata.widthOfString?ze.push((x.metadata.widthOfGlyph(x.metadata.characterToGlyph(S))+P*(1e3/B)||0)/1e3):(pe=ue&&"object"===(0,V.A)(G[S])&&!isNaN(parseInt(G[S][Pe],10))?G[S][Pe]/te:0,ze.push((M[S]||be)/L+pe)),Pe=S;return ze},UA=Hc.getStringUnitWidth=function(C,g){var y=(g=g||{}).fontSize||this.internal.getFontSize(),S=g.font||this.internal.getFont(),x=g.charSpace||this.internal.getCharSpace();return Hc.processArabic&&(C=Hc.processArabic(C)),"function"==typeof S.metadata.widthOfString?S.metadata.widthOfString(C,y,x)/y:ts.apply(this,arguments).reduce(function(B,P){return B+P},0)},La=function(C,g,y,S){for(var x=[],B=0,P=C.length,M=0;B!==P&&M+g[B]<y;)M+=g[B],B++;x.push(C.slice(0,B));var L=B;for(M=0;B!==P;)M+g[B]>S&&(x.push(C.slice(L,B)),M=0,L=B),M+=g[B],B++;return L!==B&&x.push(C.slice(L,B)),x},_d=function(C,g,y){y||(y={});var S,x,B,P,M,L,te=[],ue=[te],pe=y.textIndent||0,j=0,Pe=0,be=C.split(" "),ze=ts.apply(this,[" ",y])[0];if(L=-1===y.lineIndent?be[0].length+2:y.lineIndent||0){var J=Array(L).join(" "),Le=[];be.map(function(xt){(xt=xt.split(/\s*\n/)).length>1?Le=Le.concat(xt.map(function(un,St){return(St&&un.length?"\n":"")+un})):Le.push(xt[0])}),be=Le,L=UA.apply(this,[J,y])}for(B=0,P=be.length;B<P;B++){var gt=0;if(S=be[B],L&&"\n"==S[0]&&(S=S.substr(1),gt=1),pe+j+(Pe=(x=ts.apply(this,[S,y])).reduce(function(xt,un){return xt+un},0))>g||gt){if(Pe>g){for(M=La.apply(this,[S,x,g-(pe+j),g]),te.push(M.shift()),te=[M.pop()];M.length;)ue.push([M.shift()]);Pe=x.slice(S.length-(te[0]?te[0].length:0)).reduce(function(xt,un){return xt+un},0)}else te=[S];ue.push(te),pe=Pe+L,j=ze}else te.push(S),pe+=j+Pe,j=ze}return ue.map(L?function(xt,un){return(un?J:"")+xt.join(" ")}:function(xt){return xt.join(" ")})},Hc.splitTextToSize=function(C,g,y){var S,x=(y=y||{}).fontSize||this.internal.getFontSize(),B=function(te){if(te.widths&&te.kerning)return{widths:te.widths,kerning:te.kerning};var ue=this.internal.getFont(te.fontName,te.fontStyle);return ue.metadata.Unicode?{widths:ue.metadata.Unicode.widths||{0:1},kerning:ue.metadata.Unicode.kerning||{}}:{font:ue.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}.call(this,y);S=Array.isArray(C)?C:String(C).split(/\r?\n/);var P=1*this.internal.scaleFactor*g/x;B.textIndent=y.textIndent?1*y.textIndent*this.internal.scaleFactor/x:0,B.lineIndent=y.lineIndent;var M,L,G=[];for(M=0,L=S.length;M<L;M++)G=G.concat(_d.apply(this,[S[M],P,B]));return G},function(C){C.__fontmetrics__=C.__fontmetrics__||{};for(var g="klmnopqrstuvwxyz",y={},S={},x=0;x<16;x++)y[g[x]]="0123456789abcdef"[x],S["0123456789abcdef"[x]]=g[x];var B=function(ue){return"0x"+parseInt(ue,10).toString(16)},P=C.__fontmetrics__.compress=function(ue){var pe,j,Pe,be,ze=["{"];for(var J in ue){if(pe=ue[J],isNaN(parseInt(J,10))?j="'"+J+"'":(J=parseInt(J,10),j=(j=B(J).slice(2)).slice(0,-1)+S[j.slice(-1)]),"number"==typeof pe)pe<0?(Pe=B(pe).slice(3),be="-"):(Pe=B(pe).slice(2),be=""),Pe=be+Pe.slice(0,-1)+S[Pe.slice(-1)];else{if("object"!==(0,V.A)(pe))throw new Error("Don't know what to do with value type "+(0,V.A)(pe)+".");Pe=P(pe)}ze.push(j+Pe)}return ze.push("}"),ze.join("")},M=C.__fontmetrics__.uncompress=function(ue){if("string"!=typeof ue)throw new Error("Invalid argument passed to uncompress.");for(var pe,j,Pe,be,ze={},J=1,Le=ze,gt=[],xt="",un="",St=ue.length-1,Bt=1;Bt<St;Bt+=1)"'"==(be=ue[Bt])?pe?(Pe=pe.join(""),pe=void 0):pe=[]:pe?pe.push(be):"{"==be?(gt.push([Le,Pe]),Le={},Pe=void 0):"}"==be?((j=gt.pop())[0][j[1]]=Le,Pe=void 0,Le=j[0]):"-"==be?J=-1:void 0===Pe?y.hasOwnProperty(be)?(xt+=y[be],Pe=parseInt(xt,16)*J,J=1,xt=""):xt+=be:y.hasOwnProperty(be)?(un+=y[be],Le[Pe]=parseInt(un,16)*J,J=1,Pe=void 0,un=""):un+=be;return ze},L={codePages:["WinAnsiEncoding"],WinAnsiEncoding:M("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},G={Unicode:{Courier:L,"Courier-Bold":L,"Courier-BoldOblique":L,"Courier-Oblique":L,Helvetica:L,"Helvetica-Bold":L,"Helvetica-BoldOblique":L,"Helvetica-Oblique":L,"Times-Roman":L,"Times-Bold":L,"Times-BoldItalic":L,"Times-Italic":L}},te={Unicode:{"Courier-Oblique":M("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":M("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":M("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:M("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":M("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":M("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:M("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:M("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":M("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:M("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":M("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":M("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":M("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":M("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};C.events.push(["addFont",function(ue){var pe=ue.font,j=te.Unicode[pe.postScriptName];j&&(pe.metadata.Unicode={},pe.metadata.Unicode.widths=j.widths,pe.metadata.Unicode.kerning=j.kerning);var Pe=G.Unicode[pe.postScriptName];Pe&&(pe.metadata.Unicode.encoding=Pe,pe.encoding=Pe.codePages[0])}])}(qr.API),
/**
         * @license
         * Licensed under the MIT License.
         * http://opensource.org/licenses/mit-license
         */
function(C){var g=function(y){for(var S=y.length,x=new Uint8Array(S),B=0;B<S;B++)x[B]=y.charCodeAt(B);return x};C.API.events.push(["addFont",function(y){var P,M,S=void 0,x=y.font,B=y.instance;if(!x.isStandardFont){if(void 0===B)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+x.postScriptName+"').");if("string"!=typeof(S=!1===B.existsFileInVFS(x.postScriptName)?B.loadFile(x.postScriptName):B.getFileFromVFS(x.postScriptName)))throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+x.postScriptName+"').");P=x,M=/^\x00\x01\x00\x00/.test(M=S)?g(M):g(Qr(M)),P.metadata=C.API.TTFFont.open(M),P.metadata.Unicode=P.metadata.Unicode||{encoding:{},kerning:{},widths:[]},P.metadata.glyIdsUsed=[0]}}])}(qr),qr.API.addSvgAsImage=function(y,S,x,B,P,M,L,G){if(isNaN(S)||isNaN(x))throw Ao.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(B)||isNaN(P))throw Ao.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var te=document.createElement("canvas");te.width=B,te.height=P;var ue=te.getContext("2d");ue.fillStyle="#fff",ue.fillRect(0,0,te.width,te.height);var pe={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},j=this;return function g(){return(nr.canvg?Promise.resolve(nr.canvg):wt.e(4687).then(wt.bind(wt,4687))).catch(function(y){return Promise.reject(new Error("Could not load canvg: "+y))}).then(function(y){return y.default?y.default:y})}().then(function(Pe){return Pe.fromString(ue,y,pe)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(Pe){return Pe.render(pe)}).then(function(){j.addImage(te.toDataURL("image/jpeg",1),S,x,B,P,L,G)})},qr.API.putTotalPages=function(C){var g,y=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(g=new RegExp(C,"g"),y=this.internal.getNumberOfPages()):(g=new RegExp(this.pdfEscape16(C,this.internal.getFont()),"g"),y=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var S=1;S<=this.internal.getNumberOfPages();S++)for(var x=0;x<this.internal.pages[S].length;x++)this.internal.pages[S][x]=this.internal.pages[S][x].replace(g,y);return this},qr.API.viewerPreferences=function(C,g){var y;C=C||{},g=g||!1;var S,x,B,P={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},M=Object.keys(P),L=[],G=0,te=0,ue=0;function pe(Pe,be){var ze,J=!1;for(ze=0;ze<Pe.length;ze+=1)Pe[ze]===be&&(J=!0);return J}if(void 0===this.internal.viewerpreferences&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(P)),this.internal.viewerpreferences.isSubscribed=!1),y=this.internal.viewerpreferences.configuration,"reset"===C||!0===g){var j=M.length;for(ue=0;ue<j;ue+=1)y[M[ue]].value=y[M[ue]].defaultValue,y[M[ue]].explicitSet=!1}if("object"===(0,V.A)(C))for(x in C)if(B=C[x],pe(M,x)&&void 0!==B){if("boolean"===y[x].type&&"boolean"==typeof B)y[x].value=B;else if("name"===y[x].type&&pe(y[x].valueSet,B))y[x].value=B;else if("integer"===y[x].type&&Number.isInteger(B))y[x].value=B;else if("array"===y[x].type){for(G=0;G<B.length;G+=1)if(S=!0,1===B[G].length&&"number"==typeof B[G][0])L.push(String(B[G]-1));else if(B[G].length>1){for(te=0;te<B[G].length;te+=1)"number"!=typeof B[G][te]&&(S=!1);!0===S&&L.push([B[G][0]-1,B[G][1]-1].join(" "))}y[x].value="["+L.join(" ")+"]"}else y[x].value=y[x].defaultValue;y[x].explicitSet=!0}return!1===this.internal.viewerpreferences.isSubscribed&&(this.internal.events.subscribe("putCatalog",function(){var Pe,be=[];for(Pe in y)!0===y[Pe].explicitSet&&be.push("name"===y[Pe].type?"/"+Pe+" /"+y[Pe].value:"/"+Pe+" "+y[Pe].value);0!==be.length&&this.internal.write("/ViewerPreferences\n<<\n"+be.join("\n")+"\n>>")}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=y,this},
/** ====================================================================
         * @license
         * jsPDF XMP metadata plugin
         * Copyright (c) 2016 Jussi Utunen, u-jussi@suomi24.fi
         *
         * Permission is hereby granted, free of charge, to any person obtaining
         * a copy of this software and associated documentation files (the
         * "Software"), to deal in the Software without restriction, including
         * without limitation the rights to use, copy, modify, merge, publish,
         * distribute, sublicense, and/or sell copies of the Software, and to
         * permit persons to whom the Software is furnished to do so, subject to
         * the following conditions:
         *
         * The above copyright notice and this permission notice shall be
         * included in all copies or substantial portions of the Software.
         *
         * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
         * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
         * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
         * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
         * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
         * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
         * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
         * ====================================================================
         */
function(C){var g=function(){var S='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',x=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),B=unescape(encodeURIComponent(S)),P=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),M=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),L=unescape(encodeURIComponent("</x:xmpmeta>")),G=B.length+P.length+M.length+x.length+L.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+G+" >>"),this.internal.write("stream"),this.internal.write(x+B+P+M+L),this.internal.write("endstream"),this.internal.write("endobj")},y=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};C.addMetadata=function(S,x){return void 0===this.internal.__metadata__&&(this.internal.__metadata__={metadata:S,namespaceuri:x||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",y),this.internal.events.subscribe("postPutResources",g)),this}}(qr.API),function(C){var g=C.API,y=g.pdfEscape16=function(B,P){for(var M,L=P.metadata.Unicode.widths,G=["","0","00","000","0000"],te=[""],ue=0,pe=B.length;ue<pe;++ue){if(M=P.metadata.characterToGlyph(B.charCodeAt(ue)),P.metadata.glyIdsUsed.push(M),P.metadata.toUnicode[M]=B.charCodeAt(ue),-1==L.indexOf(M)&&(L.push(M),L.push([parseInt(P.metadata.widthOfGlyph(M),10)])),"0"==M)return te.join("");M=M.toString(16),te.push(G[4-M.length],M)}return te.join("")},S=function(B){var P,M,L,G,te,ue,pe;for(te="/CIDInit /ProcSet findresource begin\n12 dict begin\nbegincmap\n/CIDSystemInfo <<\n  /Registry (Adobe)\n  /Ordering (UCS)\n  /Supplement 0\n>> def\n/CMapName /Adobe-Identity-UCS def\n/CMapType 2 def\n1 begincodespacerange\n<0000><ffff>\nendcodespacerange",L=[],ue=0,pe=(M=Object.keys(B).sort(function(j,Pe){return j-Pe})).length;ue<pe;ue++)P=M[ue],L.length>=100&&(te+="\n"+L.length+" beginbfchar\n"+L.join("\n")+"\nendbfchar",L=[]),null!=B[P]&&"function"==typeof B[P].toString&&(G=("0000"+B[P].toString(16)).slice(-4),P=("0000"+(+P).toString(16)).slice(-4),L.push("<"+P+"><"+G+">"));return L.length&&(te+="\n"+L.length+" beginbfchar\n"+L.join("\n")+"\nendbfchar\n"),te+"endcmap\nCMapName currentdict /CMap defineresource pop\nend\nend"};g.events.push(["putFont",function(B){!function(P){var M=P.font,L=P.out,G=P.newObject,te=P.putStream;if(M.metadata instanceof C.API.TTFFont&&"Identity-H"===M.encoding){for(var ue=M.metadata.Unicode.widths,pe=M.metadata.subset.encode(M.metadata.glyIdsUsed,1),j="",Pe=0;Pe<pe.length;Pe++)j+=String.fromCharCode(pe[Pe]);var be=G();te({data:j,addLength1:!0,objectId:be}),L("endobj");var ze=G();te({data:S(M.metadata.toUnicode),addLength1:!0,objectId:ze}),L("endobj");var J=G();L("<<"),L("/Type /FontDescriptor"),L("/FontName /"+Rr(M.fontName)),L("/FontFile2 "+be+" 0 R"),L("/FontBBox "+C.API.PDFObject.convert(M.metadata.bbox)),L("/Flags "+M.metadata.flags),L("/StemV "+M.metadata.stemV),L("/ItalicAngle "+M.metadata.italicAngle),L("/Ascent "+M.metadata.ascender),L("/Descent "+M.metadata.decender),L("/CapHeight "+M.metadata.capHeight),L(">>"),L("endobj");var Le=G();L("<<"),L("/Type /Font"),L("/BaseFont /"+Rr(M.fontName)),L("/FontDescriptor "+J+" 0 R"),L("/W "+C.API.PDFObject.convert(ue)),L("/CIDToGIDMap /Identity"),L("/DW 1000"),L("/Subtype /CIDFontType2"),L("/CIDSystemInfo"),L("<<"),L("/Supplement 0"),L("/Registry (Adobe)"),L("/Ordering ("+M.encoding+")"),L(">>"),L(">>"),L("endobj"),M.objectNumber=G(),L("<<"),L("/Type /Font"),L("/Subtype /Type0"),L("/ToUnicode "+ze+" 0 R"),L("/BaseFont /"+Rr(M.fontName)),L("/Encoding /"+M.encoding),L("/DescendantFonts ["+Le+" 0 R]"),L(">>"),L("endobj"),M.isAlreadyPutted=!0}}(B)}]),g.events.push(["putFont",function(B){!function(P){var M=P.font,L=P.out,G=P.newObject,te=P.putStream;if(M.metadata instanceof C.API.TTFFont&&"WinAnsiEncoding"===M.encoding){for(var ue=M.metadata.rawData,pe="",j=0;j<ue.length;j++)pe+=String.fromCharCode(ue[j]);var Pe=G();te({data:pe,addLength1:!0,objectId:Pe}),L("endobj");var be=G();te({data:S(M.metadata.toUnicode),addLength1:!0,objectId:be}),L("endobj");var ze=G();L("<<"),L("/Descent "+M.metadata.decender),L("/CapHeight "+M.metadata.capHeight),L("/StemV "+M.metadata.stemV),L("/Type /FontDescriptor"),L("/FontFile2 "+Pe+" 0 R"),L("/Flags 96"),L("/FontBBox "+C.API.PDFObject.convert(M.metadata.bbox)),L("/FontName /"+Rr(M.fontName)),L("/ItalicAngle "+M.metadata.italicAngle),L("/Ascent "+M.metadata.ascender),L(">>"),L("endobj"),M.objectNumber=G();for(var J=0;J<M.metadata.hmtx.widths.length;J++)M.metadata.hmtx.widths[J]=parseInt(M.metadata.hmtx.widths[J]*(1e3/M.metadata.head.unitsPerEm));L("<</Subtype/TrueType/Type/Font/ToUnicode "+be+" 0 R/BaseFont/"+Rr(M.fontName)+"/FontDescriptor "+ze+" 0 R/Encoding/"+M.encoding+" /FirstChar 29 /LastChar 255 /Widths "+C.API.PDFObject.convert(M.metadata.hmtx.widths)+">>"),L("endobj"),M.isAlreadyPutted=!0}}(B)}]);var x=function(B){var P,M=B.text||"",L=B.x,G=B.y,te=B.options||{},ue=B.mutex||{},pe=ue.pdfEscape,j=ue.activeFontKey,Pe=ue.fonts,be=j,ze="",J=0,Le="",gt=Pe[be].encoding;if("Identity-H"!==Pe[be].encoding)return{text:M,x:L,y:G,options:te,mutex:ue};for(Le=M,be=j,Array.isArray(M)&&(Le=M[0]),J=0;J<Le.length;J+=1)Pe[be].metadata.hasOwnProperty("cmap")&&(P=Pe[be].metadata.cmap.unicode.codeMap[Le[J].charCodeAt(0)]),P||Le[J].charCodeAt(0)<256&&Pe[be].metadata.hasOwnProperty("Unicode")?ze+=Le[J]:ze+="";var xt="";return parseInt(be.slice(1))<14||"WinAnsiEncoding"===gt?xt=pe(ze,be).split("").map(function(un){return un.charCodeAt(0).toString(16)}).join(""):"Identity-H"===gt&&(xt=y(ze,Pe[be])),ue.isHex=!0,{text:xt,x:L,y:G,options:te,mutex:ue}};g.events.push(["postProcessText",function(B){var P=B.text||"",M=[],L={text:P,x:B.x,y:B.y,options:B.options,mutex:B.mutex};if(Array.isArray(P)){var G=0;for(G=0;G<P.length;G+=1)Array.isArray(P[G])&&3===P[G].length?M.push([x(Object.assign({},L,{text:P[G][0]})).text,P[G][1],P[G][2]]):M.push(x(Object.assign({},L,{text:P[G]})).text);B.text=M}else B.text=x(Object.assign({},L,{text:P})).text}])}(qr),
/**
         * @license
         * jsPDF virtual FileSystem functionality
         *
         * Licensed under the MIT License.
         * http://opensource.org/licenses/mit-license
         */
function(C){var g=function(){return void 0===this.internal.vFS&&(this.internal.vFS={}),!0};C.existsFileInVFS=function(y){return g.call(this),void 0!==this.internal.vFS[y]},C.addFileToVFS=function(y,S){return g.call(this),this.internal.vFS[y]=S,this},C.getFileFromVFS=function(y){return g.call(this),void 0!==this.internal.vFS[y]?this.internal.vFS[y]:null}}(qr.API),
/**
         * @license
         * Unicode Bidi Engine based on the work of Alex Shensis (@asthensis)
         * MIT License
         */
function(C){C.__bidiEngine__=C.prototype.__bidiEngine__=function(S){var x,B,P,M,L,G,te,ue=g,pe=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],j=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],Pe={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},be={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},ze=["(",")","(","<",">","<","[","]","[","{","}","{","\xab","\xbb","\xab","\u2039","\u203a","\u2039","\u2045","\u2046","\u2045","\u207d","\u207e","\u207d","\u208d","\u208e","\u208d","\u2264","\u2265","\u2264","\u2329","\u232a","\u2329","\ufe59","\ufe5a","\ufe59","\ufe5b","\ufe5c","\ufe5b","\ufe5d","\ufe5e","\ufe5d","\ufe64","\ufe65","\ufe64"],J=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),Le=!1,gt=0;this.__bidiEngine__={};var xt=function(Be){var we=Be.charCodeAt(),pt=we>>8,ct=be[pt];return void 0!==ct?ue[256*ct+(255&we)]:252===pt||253===pt?"AL":J.test(pt)?"L":8===pt?"R":"N"},un=function(Be){for(var we,pt=0;pt<Be.length;pt++){if("L"===(we=xt(Be.charAt(pt))))return!1;if("R"===we)return!0}return!1},St=function(Be,we,pt,ct){var cn,Jt,_n,Ht,wn=we[ct];switch(wn){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":Le=!1;break;case"N":case"AN":break;case"EN":Le&&(wn="AN");break;case"AL":Le=!0,wn="R";break;case"WS":case"BN":wn="N";break;case"CS":ct<1||ct+1>=we.length||"EN"!==(cn=pt[ct-1])&&"AN"!==cn||"EN"!==(Jt=we[ct+1])&&"AN"!==Jt?wn="N":Le&&(Jt="AN"),wn=Jt===cn?Jt:"N";break;case"ES":wn="EN"===(cn=ct>0?pt[ct-1]:"B")&&ct+1<we.length&&"EN"===we[ct+1]?"EN":"N";break;case"ET":if(ct>0&&"EN"===pt[ct-1]){wn="EN";break}if(Le){wn="N";break}for(_n=ct+1,Ht=we.length;_n<Ht&&"ET"===we[_n];)_n++;wn=_n<Ht&&"EN"===we[_n]?"EN":"N";break;case"NSM":if(P&&!M){for(Ht=we.length,_n=ct+1;_n<Ht&&"NSM"===we[_n];)_n++;if(_n<Ht){var yn=Be[ct];if(cn=we[_n],(yn>=1425&&yn<=2303||64286===yn)&&("R"===cn||"AL"===cn)){wn="R";break}}}wn=ct<1||"B"===(cn=we[ct-1])?"N":pt[ct-1];break;case"B":Le=!1,x=!0,wn=gt;break;case"S":B=!0,wn="N"}return wn},Bt=function(Be,we,pt){var ct=Be.split("");return pt&&Ne(ct,pt,{hiLevel:gt}),ct.reverse(),we&&we.reverse(),ct.join("")},Ne=function(Be,we,pt){var ct,cn,Jt,_n,Ht,wn=-1,yn=Be.length,lr=0,ae=[],Ve=gt?j:pe,Je=[];for(Le=!1,x=!1,B=!1,cn=0;cn<yn;cn++)Je[cn]=xt(Be[cn]);for(Jt=0;Jt<yn;Jt++){if(Ht=lr,ae[Jt]=St(Be,Je,ae,Jt),ct=240&(lr=Ve[Ht][Pe[ae[Jt]]]),we[Jt]=_n=Ve[lr&=15][5],ct>0)if(16===ct){for(cn=wn;cn<Jt;cn++)we[cn]=1;wn=-1}else wn=-1;if(Ve[lr][6])-1===wn&&(wn=Jt);else if(wn>-1){for(cn=wn;cn<Jt;cn++)we[cn]=_n;wn=-1}"B"===Je[Jt]&&(we[Jt]=0),pt.hiLevel|=_n}B&&function(mt,Et,zt){for(var Wt=0;Wt<zt;Wt++)if("S"===mt[Wt]){Et[Wt]=gt;for(var jt=Wt-1;jt>=0&&"WS"===mt[jt];jt--)Et[jt]=gt}}(Je,we,yn)},Zt=function(Be,we,pt,ct,cn){if(!(cn.hiLevel<Be)){if(1===Be&&1===gt&&!x)return we.reverse(),void(pt&&pt.reverse());for(var Jt,_n,Ht,wn,yn=we.length,lr=0;lr<yn;){if(ct[lr]>=Be){for(Ht=lr+1;Ht<yn&&ct[Ht]>=Be;)Ht++;for(wn=lr,_n=Ht-1;wn<_n;wn++,_n--)Jt=we[wn],we[wn]=we[_n],we[_n]=Jt,pt&&(Jt=pt[wn],pt[wn]=pt[_n],pt[_n]=Jt);lr=Ht}lr++}}},on=function(Be,we,pt){var ct=Be.split(""),cn={hiLevel:gt};return pt||(pt=[]),Ne(ct,pt,cn),function(Jt,_n,Ht){if(0!==Ht.hiLevel&&te)for(var wn,yn=0;yn<Jt.length;yn++)1===_n[yn]&&(wn=ze.indexOf(Jt[yn]))>=0&&(Jt[yn]=ze[wn+1])}(ct,pt,cn),Zt(2,ct,we,pt,cn),Zt(1,ct,we,pt,cn),ct.join("")};return this.__bidiEngine__.doBidiReorder=function(Be,we,pt){if(function(cn,Jt){if(Jt)for(var _n=0;_n<cn.length;_n++)Jt[_n]=_n;void 0===M&&(M=un(cn)),void 0===G&&(G=un(cn))}(Be,we),P||!L||G)if(P&&L&&M^G)gt=M?1:0,Be=Bt(Be,we,pt);else if(!P&&L&&G)gt=M?1:0,Be=on(Be,we,pt),Be=Bt(Be,we);else if(!P||M||L||G){if(P&&!L&&M^G)Be=Bt(Be,we),M?(gt=0,Be=on(Be,we,pt)):(gt=1,Be=on(Be,we,pt),Be=Bt(Be,we));else if(P&&M&&!L&&G)gt=1,Be=on(Be,we,pt),Be=Bt(Be,we);else if(!P&&!L&&M^G){var ct=te;M?(gt=1,Be=on(Be,we,pt),gt=0,te=!1,Be=on(Be,we,pt),te=ct):(gt=0,Be=on(Be,we,pt),Be=Bt(Be,we),gt=1,te=!1,Be=on(Be,we,pt),te=ct,Be=Bt(Be,we))}}else gt=0,Be=on(Be,we,pt);else gt=M?1:0,Be=on(Be,we,pt);return Be},this.__bidiEngine__.setOptions=function(Be){Be&&(P=Be.isInputVisual,L=Be.isOutputVisual,M=Be.isInputRtl,G=Be.isOutputRtl,te=Be.isSymmetricSwapping)},this.__bidiEngine__.setOptions(S),this.__bidiEngine__};var g=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],y=new C.__bidiEngine__({isInputVisual:!0});C.API.events.push(["postProcessText",function(S){var x=S.text,B=S.options||{},P=[];if(B.isInputVisual="boolean"!=typeof B.isInputVisual||B.isInputVisual,y.setOptions(B),"[object Array]"===Object.prototype.toString.call(x)){var M=0;for(P=[],M=0;M<x.length;M+=1)"[object Array]"===Object.prototype.toString.call(x[M])?P.push([y.doBidiReorder(x[M][0]),x[M][1],x[M][2]]):P.push([y.doBidiReorder(x[M])]);S.text=P}else S.text=y.doBidiReorder(x);y.setOptions({isInputVisual:!0})}])}(qr),qr.API.TTFFont=function(){function C(g){var y;if(this.rawData=g,y=this.contents=new nu(g),this.contents.pos=4,"ttcf"===y.readString(4))throw new Error("TTCF not supported.");y.pos=0,this.parse(),this.subset=new iu(this),this.registerTTF()}return C.open=function(g){return new C(g)},C.prototype.parse=function(){return this.directory=new Vu(this.contents),this.head=new ds(this),this.name=new tA(this),this.cmap=new VA(this),this.toUnicode={},this.hhea=new Ol(this),this.maxp=new Cl(this),this.hmtx=new sf(this),this.post=new dc(this),this.os2=new Qi(this),this.loca=new uf(this),this.glyf=new Vo(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},C.prototype.registerTTF=function(){var y,S,x,B;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=function(){var P,M,L,G;for(G=[],P=0,M=(L=this.bbox).length;P<M;P++)G.push(Math.round(L[P]*this.scaleFactor));return G}.call(this),this.stemV=0,this.post.exists?(S=255&(x=this.post.italic_angle),32768&(y=x>>16)&&(y=-(1+(65535^y))),this.italicAngle=+(y+"."+S)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=1===(B=this.familyClass)||2===B||3===B||4===B||5===B||7===B,this.isScript=10===this.familyClass,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),0!==this.italicAngle&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},C.prototype.characterToGlyph=function(g){var y;return(null!=(y=this.cmap.unicode)?y.codeMap[g]:void 0)||0},C.prototype.widthOfGlyph=function(g){var y;return y=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(g).advance*y},C.prototype.widthOfString=function(g,y,S){var x,B,P,M;for(P=0,B=0,M=(g=""+g).length;0<=M?B<M:B>M;B=0<=M?++B:--B)x=g.charCodeAt(B),P+=this.widthOfGlyph(this.characterToGlyph(x))+S*(1e3/y)||0;return P*(y/1e3)},C.prototype.lineHeight=function(g,y){return null==y&&(y=!1),(this.ascender+(y?this.lineGap:0)-this.decender)/1e3*g},C}();var tu,nu=function(){function C(g){this.data=null!=g?g:[],this.pos=0,this.length=this.data.length}return C.prototype.readByte=function(){return this.data[this.pos++]},C.prototype.writeByte=function(g){return this.data[this.pos++]=g},C.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},C.prototype.writeUInt32=function(g){return this.writeByte(g>>>24&255),this.writeByte(g>>16&255),this.writeByte(g>>8&255),this.writeByte(255&g)},C.prototype.readInt32=function(){var g;return(g=this.readUInt32())>=2147483648?g-4294967296:g},C.prototype.writeInt32=function(g){return g<0&&(g+=4294967296),this.writeUInt32(g)},C.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},C.prototype.writeUInt16=function(g){return this.writeByte(g>>8&255),this.writeByte(255&g)},C.prototype.readInt16=function(){var g;return(g=this.readUInt16())>=32768?g-65536:g},C.prototype.writeInt16=function(g){return g<0&&(g+=65536),this.writeUInt16(g)},C.prototype.readString=function(g){var y,S;for(S=[],y=0;0<=g?y<g:y>g;y=0<=g?++y:--y)S[y]=String.fromCharCode(this.readByte());return S.join("")},C.prototype.writeString=function(g){var y,S,x;for(x=[],y=0,S=g.length;0<=S?y<S:y>S;y=0<=S?++y:--y)x.push(this.writeByte(g.charCodeAt(y)));return x},C.prototype.readShort=function(){return this.readInt16()},C.prototype.writeShort=function(g){return this.writeInt16(g)},C.prototype.readLongLong=function(){var g,y,S,x,B,P,M,L;return g=this.readByte(),y=this.readByte(),S=this.readByte(),x=this.readByte(),B=this.readByte(),P=this.readByte(),M=this.readByte(),L=this.readByte(),128&g?-1*(72057594037927940*(255^g)+281474976710656*(255^y)+1099511627776*(255^S)+4294967296*(255^x)+16777216*(255^B)+65536*(255^P)+256*(255^M)+(255^L)+1):72057594037927940*g+281474976710656*y+1099511627776*S+4294967296*x+16777216*B+65536*P+256*M+L},C.prototype.writeLongLong=function(g){var y,S;return y=Math.floor(g/4294967296),S=4294967295&g,this.writeByte(y>>24&255),this.writeByte(y>>16&255),this.writeByte(y>>8&255),this.writeByte(255&y),this.writeByte(S>>24&255),this.writeByte(S>>16&255),this.writeByte(S>>8&255),this.writeByte(255&S)},C.prototype.readInt=function(){return this.readInt32()},C.prototype.writeInt=function(g){return this.writeInt32(g)},C.prototype.read=function(g){var y,S;for(y=[],S=0;0<=g?S<g:S>g;S=0<=g?++S:--S)y.push(this.readByte());return y},C.prototype.write=function(g){var S,x,B;for(B=[],S=0,x=g.length;S<x;S++)B.push(this.writeByte(g[S]));return B},C}(),Vu=function(){var C;function g(y){var S,x,B;for(this.scalarType=y.readInt(),this.tableCount=y.readShort(),this.searchRange=y.readShort(),this.entrySelector=y.readShort(),this.rangeShift=y.readShort(),this.tables={},x=0,B=this.tableCount;0<=B?x<B:x>B;x=0<=B?++x:--x)S={tag:y.readString(4),checksum:y.readInt(),offset:y.readInt(),length:y.readInt()},this.tables[S.tag]=S}return g.prototype.encode=function(y){var S,x,P,M,L,G,te,ue,pe,j,Pe,be;for(be in j=Object.keys(y).length,L=Math.log(2),ue=16*Math.floor(Math.log(j)/L),P=Math.floor(ue/L),te=16*j-ue,(x=new nu).writeInt(this.scalarType),x.writeShort(j),x.writeShort(ue),x.writeShort(P),x.writeShort(te),G=x.pos+16*j,M=null,Pe=[],y)for(pe=y[be],x.writeString(be),x.writeInt(C(pe)),x.writeInt(G),x.writeInt(pe.length),Pe=Pe.concat(pe),"head"===be&&(M=G),G+=pe.length;G%4;)Pe.push(0),G++;return x.write(Pe),S=2981146554-C(x.data),x.pos=M+8,x.writeUInt32(S),x.data},C=function(y){var S,x,B,P;for(y=bl.call(y);y.length%4;)y.push(0);for(B=new nu(y),x=0,S=0,P=y.length;S<P;S=S+=4)x+=B.readUInt32();return 4294967295&x},g}(),ks={}.hasOwnProperty,na=function(C,g){for(var y in g)ks.call(g,y)&&(C[y]=g[y]);function S(){this.constructor=C}return S.prototype=g.prototype,C.prototype=new S,C.__super__=g.prototype,C};tu=function(){function C(g){var y;this.file=g,this.exists=!!(y=this.file.directory.tables[this.tag]),y&&(this.offset=y.offset,this.length=y.length,this.parse(this.file.contents))}return C.prototype.parse=function(){},C.prototype.encode=function(){},C.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},C}();var ds=function(C){function g(){return g.__super__.constructor.apply(this,arguments)}return na(g,tu),g.prototype.tag="head",g.prototype.parse=function(y){return y.pos=this.offset,this.version=y.readInt(),this.revision=y.readInt(),this.checkSumAdjustment=y.readInt(),this.magicNumber=y.readInt(),this.flags=y.readShort(),this.unitsPerEm=y.readShort(),this.created=y.readLongLong(),this.modified=y.readLongLong(),this.xMin=y.readShort(),this.yMin=y.readShort(),this.xMax=y.readShort(),this.yMax=y.readShort(),this.macStyle=y.readShort(),this.lowestRecPPEM=y.readShort(),this.fontDirectionHint=y.readShort(),this.indexToLocFormat=y.readShort(),this.glyphDataFormat=y.readShort()},g.prototype.encode=function(y){var S;return(S=new nu).writeInt(this.version),S.writeInt(this.revision),S.writeInt(this.checkSumAdjustment),S.writeInt(this.magicNumber),S.writeShort(this.flags),S.writeShort(this.unitsPerEm),S.writeLongLong(this.created),S.writeLongLong(this.modified),S.writeShort(this.xMin),S.writeShort(this.yMin),S.writeShort(this.xMax),S.writeShort(this.yMax),S.writeShort(this.macStyle),S.writeShort(this.lowestRecPPEM),S.writeShort(this.fontDirectionHint),S.writeShort(y),S.writeShort(this.glyphDataFormat),S.data},g}(),ru=function(){function C(g,y){var S,x,B,P,M,L,G,te,ue,pe,j,Pe,be,ze,J,Le,gt;switch(this.platformID=g.readUInt16(),this.encodingID=g.readShort(),this.offset=y+g.readInt(),ue=g.pos,g.pos=this.offset,this.format=g.readUInt16(),this.length=g.readUInt16(),this.language=g.readUInt16(),this.isUnicode=3===this.platformID&&1===this.encodingID&&4===this.format||0===this.platformID&&4===this.format,this.codeMap={},this.format){case 0:for(L=0;L<256;++L)this.codeMap[L]=g.readByte();break;case 4:for(j=g.readUInt16(),pe=j/2,g.pos+=6,B=function(){var xt,un;for(un=[],L=xt=0;0<=pe?xt<pe:xt>pe;L=0<=pe?++xt:--xt)un.push(g.readUInt16());return un}(),g.pos+=2,be=function(){var xt,un;for(un=[],L=xt=0;0<=pe?xt<pe:xt>pe;L=0<=pe?++xt:--xt)un.push(g.readUInt16());return un}(),G=function(){var xt,un;for(un=[],L=xt=0;0<=pe?xt<pe:xt>pe;L=0<=pe?++xt:--xt)un.push(g.readUInt16());return un}(),te=function(){var xt,un;for(un=[],L=xt=0;0<=pe?xt<pe:xt>pe;L=0<=pe?++xt:--xt)un.push(g.readUInt16());return un}(),x=(this.length-g.pos+this.offset)/2,M=function(){var xt,un;for(un=[],L=xt=0;0<=x?xt<x:xt>x;L=0<=x?++xt:--xt)un.push(g.readUInt16());return un}(),L=J=0,gt=B.length;J<gt;L=++J)for(ze=B[L],S=Le=Pe=be[L];Pe<=ze?Le<=ze:Le>=ze;S=Pe<=ze?++Le:--Le)0===te[L]?P=S+G[L]:0!==(P=M[te[L]/2+(S-Pe)-(pe-L)]||0)&&(P+=G[L]),this.codeMap[S]=65535&P}g.pos=ue}return C.encode=function(g,y){var S,x,B,P,M,L,G,te,ue,pe,j,Pe,be,ze,J,Le,gt,un,St,Bt,Ne,Zt,on,Be,we,pt,ct,cn,Jt,_n,Ht,wn,yn,lr,ae,Ve,Je,mt,Et,zt,Wt,jt,Gn,Hn,pr;switch(ct=new nu,P=Object.keys(g).sort(function(Tr,ai){return Tr-ai}),y){case"macroman":for(be=0,ze=function(){var Tr=[];for(Pe=0;Pe<256;++Pe)Tr.push(0);return Tr}(),Le={0:0},B={},cn=0,wn=P.length;cn<wn;cn++)null==Le[jt=g[x=P[cn]]]&&(Le[jt]=++be),B[x]={old:g[x],new:Le[g[x]]},ze[x]=Le[g[x]];return ct.writeUInt16(1),ct.writeUInt16(0),ct.writeUInt32(12),ct.writeUInt16(0),ct.writeUInt16(262),ct.writeUInt16(0),ct.write(ze),{charMap:B,subtable:ct.data,maxGlyphID:be+1};case"unicode":for(we=[],ue=[],gt=0,Le={},S={},J=G=null,Jt=0,yn=P.length;Jt<yn;Jt++)null==Le[un=g[x=P[Jt]]]&&(Le[un]=++gt),S[x]={old:un,new:Le[un]},M=Le[un]-x,null!=J&&M===G||(J&&ue.push(J),we.push(x),G=M),J=x;for(J&&ue.push(J),ue.push(65535),we.push(65535),on=2*(Zt=we.length),Ne=2*Math.pow(Math.log(Zt)/Math.LN2,2),pe=Math.log(Ne/2)/Math.LN2,Bt=2*Zt-Ne,L=[],St=[],j=[],Pe=_n=0,lr=we.length;_n<lr;Pe=++_n){if(te=ue[Pe],65535===(Be=we[Pe])){L.push(0),St.push(0);break}if(Be-(pt=S[Be].new)>=32768)for(L.push(0),St.push(2*(j.length+Zt-Pe)),x=Ht=Be;Be<=te?Ht<=te:Ht>=te;x=Be<=te?++Ht:--Ht)j.push(S[x].new);else L.push(pt-Be),St.push(0)}for(ct.writeUInt16(3),ct.writeUInt16(1),ct.writeUInt32(12),ct.writeUInt16(4),ct.writeUInt16(16+8*Zt+2*j.length),ct.writeUInt16(0),ct.writeUInt16(on),ct.writeUInt16(Ne),ct.writeUInt16(pe),ct.writeUInt16(Bt),zt=0,ae=ue.length;zt<ae;zt++)ct.writeUInt16(x=ue[zt]);for(ct.writeUInt16(0),Wt=0,Ve=we.length;Wt<Ve;Wt++)ct.writeUInt16(x=we[Wt]);for(Gn=0,Je=L.length;Gn<Je;Gn++)ct.writeUInt16(M=L[Gn]);for(Hn=0,mt=St.length;Hn<mt;Hn++)ct.writeUInt16(St[Hn]);for(pr=0,Et=j.length;pr<Et;pr++)ct.writeUInt16(be=j[pr]);return{charMap:S,subtable:ct.data,maxGlyphID:gt+1}}},C}(),VA=function(C){function g(){return g.__super__.constructor.apply(this,arguments)}return na(g,tu),g.prototype.tag="cmap",g.prototype.parse=function(y){var S,x,B;for(y.pos=this.offset,this.version=y.readUInt16(),B=y.readUInt16(),this.tables=[],this.unicode=null,x=0;0<=B?x<B:x>B;x=0<=B?++x:--x)S=new ru(y,this.offset),this.tables.push(S),S.isUnicode&&null==this.unicode&&(this.unicode=S);return!0},g.encode=function(y,S){var x,B;return null==S&&(S="macroman"),x=ru.encode(y,S),(B=new nu).writeUInt16(0),B.writeUInt16(1),x.table=B.data.concat(x.subtable),x},g}(),Ol=function(C){function g(){return g.__super__.constructor.apply(this,arguments)}return na(g,tu),g.prototype.tag="hhea",g.prototype.parse=function(y){return y.pos=this.offset,this.version=y.readInt(),this.ascender=y.readShort(),this.decender=y.readShort(),this.lineGap=y.readShort(),this.advanceWidthMax=y.readShort(),this.minLeftSideBearing=y.readShort(),this.minRightSideBearing=y.readShort(),this.xMaxExtent=y.readShort(),this.caretSlopeRise=y.readShort(),this.caretSlopeRun=y.readShort(),this.caretOffset=y.readShort(),y.pos+=8,this.metricDataFormat=y.readShort(),this.numberOfMetrics=y.readUInt16()},g}(),Qi=function(C){function g(){return g.__super__.constructor.apply(this,arguments)}return na(g,tu),g.prototype.tag="OS/2",g.prototype.parse=function(y){if(y.pos=this.offset,this.version=y.readUInt16(),this.averageCharWidth=y.readShort(),this.weightClass=y.readUInt16(),this.widthClass=y.readUInt16(),this.type=y.readShort(),this.ySubscriptXSize=y.readShort(),this.ySubscriptYSize=y.readShort(),this.ySubscriptXOffset=y.readShort(),this.ySubscriptYOffset=y.readShort(),this.ySuperscriptXSize=y.readShort(),this.ySuperscriptYSize=y.readShort(),this.ySuperscriptXOffset=y.readShort(),this.ySuperscriptYOffset=y.readShort(),this.yStrikeoutSize=y.readShort(),this.yStrikeoutPosition=y.readShort(),this.familyClass=y.readShort(),this.panose=function(){var S,x;for(x=[],S=0;S<10;++S)x.push(y.readByte());return x}(),this.charRange=function(){var S,x;for(x=[],S=0;S<4;++S)x.push(y.readInt());return x}(),this.vendorID=y.readString(4),this.selection=y.readShort(),this.firstCharIndex=y.readShort(),this.lastCharIndex=y.readShort(),this.version>0&&(this.ascent=y.readShort(),this.descent=y.readShort(),this.lineGap=y.readShort(),this.winAscent=y.readShort(),this.winDescent=y.readShort(),this.codePageRange=function(){var S,x;for(x=[],S=0;S<2;S=++S)x.push(y.readInt());return x}(),this.version>1))return this.xHeight=y.readShort(),this.capHeight=y.readShort(),this.defaultChar=y.readShort(),this.breakChar=y.readShort(),this.maxContext=y.readShort()},g}(),dc=function(C){function g(){return g.__super__.constructor.apply(this,arguments)}return na(g,tu),g.prototype.tag="post",g.prototype.parse=function(y){var S,x,B;switch(y.pos=this.offset,this.format=y.readInt(),this.italicAngle=y.readInt(),this.underlinePosition=y.readShort(),this.underlineThickness=y.readShort(),this.isFixedPitch=y.readInt(),this.minMemType42=y.readInt(),this.maxMemType42=y.readInt(),this.minMemType1=y.readInt(),this.maxMemType1=y.readInt(),this.format){case 65536:case 196608:break;case 131072:var P;for(x=y.readUInt16(),this.glyphNameIndex=[],P=0;0<=x?P<x:P>x;P=0<=x?++P:--P)this.glyphNameIndex.push(y.readUInt16());for(this.names=[],B=[];y.pos<this.offset+this.length;)S=y.readByte(),B.push(this.names.push(y.readString(S)));return B;case 151552:return x=y.readUInt16(),this.offsets=y.read(x);case 262144:return this.map=function(){var M,L,G;for(G=[],P=M=0,L=this.file.maxp.numGlyphs;0<=L?M<L:M>L;P=0<=L?++M:--M)G.push(y.readUInt32());return G}.call(this)}},g}(),rf=function(C,g){this.raw=C,this.length=C.length,this.platformID=g.platformID,this.encodingID=g.encodingID,this.languageID=g.languageID},tA=function(C){function g(){return g.__super__.constructor.apply(this,arguments)}return na(g,tu),g.prototype.tag="name",g.prototype.parse=function(y){var S,x,B,P,M,L,G,te,ue,pe,j;for(y.pos=this.offset,y.readShort(),S=y.readShort(),L=y.readShort(),x=[],P=0;0<=S?P<S:P>S;P=0<=S?++P:--P)x.push({platformID:y.readShort(),encodingID:y.readShort(),languageID:y.readShort(),nameID:y.readShort(),length:y.readShort(),offset:this.offset+L+y.readShort()});for(G={},P=ue=0,pe=x.length;ue<pe;P=++ue)y.pos=(B=x[P]).offset,te=y.readString(B.length),M=new rf(te,B),null==G[j=B.nameID]&&(G[j]=[]),G[B.nameID].push(M);this.strings=G,this.copyright=G[0],this.fontFamily=G[1],this.fontSubfamily=G[2],this.uniqueSubfamily=G[3],this.fontName=G[4],this.version=G[5];try{this.postscriptName=G[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=G[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=G[7],this.manufacturer=G[8],this.designer=G[9],this.description=G[10],this.vendorUrl=G[11],this.designerUrl=G[12],this.license=G[13],this.licenseUrl=G[14],this.preferredFamily=G[15],this.preferredSubfamily=G[17],this.compatibleFull=G[18],this.sampleText=G[19]},g}(),Cl=function(C){function g(){return g.__super__.constructor.apply(this,arguments)}return na(g,tu),g.prototype.tag="maxp",g.prototype.parse=function(y){return y.pos=this.offset,this.version=y.readInt(),this.numGlyphs=y.readUInt16(),this.maxPoints=y.readUInt16(),this.maxContours=y.readUInt16(),this.maxCompositePoints=y.readUInt16(),this.maxComponentContours=y.readUInt16(),this.maxZones=y.readUInt16(),this.maxTwilightPoints=y.readUInt16(),this.maxStorage=y.readUInt16(),this.maxFunctionDefs=y.readUInt16(),this.maxInstructionDefs=y.readUInt16(),this.maxStackElements=y.readUInt16(),this.maxSizeOfInstructions=y.readUInt16(),this.maxComponentElements=y.readUInt16(),this.maxComponentDepth=y.readUInt16()},g}(),sf=function(C){function g(){return g.__super__.constructor.apply(this,arguments)}return na(g,tu),g.prototype.tag="hmtx",g.prototype.parse=function(y){var S,x,B,M,L,G;for(y.pos=this.offset,this.metrics=[],S=0,L=this.file.hhea.numberOfMetrics;0<=L?S<L:S>L;S=0<=L?++S:--S)this.metrics.push({advance:y.readUInt16(),lsb:y.readInt16()});for(B=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var te,ue;for(ue=[],S=te=0;0<=B?te<B:te>B;S=0<=B?++te:--te)ue.push(y.readInt16());return ue}(),this.widths=function(){var te,ue,pe,j;for(j=[],te=0,ue=(pe=this.metrics).length;te<ue;te++)j.push(pe[te].advance);return j}.call(this),x=this.widths[this.widths.length-1],G=[],S=M=0;0<=B?M<B:M>B;S=0<=B?++M:--M)G.push(this.widths.push(x));return G},g.prototype.forGlyph=function(y){return y in this.metrics?this.metrics[y]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[y-this.metrics.length]}},g}(),bl=[].slice,Vo=function(C){function g(){return g.__super__.constructor.apply(this,arguments)}return na(g,tu),g.prototype.tag="glyf",g.prototype.parse=function(){return this.cache={}},g.prototype.glyphFor=function(y){var S,x,B,P,M,L,G,te,ue,pe;return y in this.cache?this.cache[y]:(S=this.file.contents,x=(P=this.file.loca).indexOf(y),0===(B=P.lengthOf(y))?this.cache[y]=null:(S.pos=this.offset+x,M=(L=new nu(S.read(B))).readShort(),te=L.readShort(),pe=L.readShort(),G=L.readShort(),ue=L.readShort(),this.cache[y]=-1===M?new lf(L,te,pe,G,ue):new af(L,M,te,pe,G,ue),this.cache[y]))},g.prototype.encode=function(y,S,x){var B,P,M,L,G;for(M=[],P=[],L=0,G=S.length;L<G;L++)B=y[S[L]],P.push(M.length),B&&(M=M.concat(B.encode(x)));return P.push(M.length),{table:M,offsets:P}},g}(),af=function(){function C(g,y,S,x,B,P){this.raw=g,this.numberOfContours=y,this.xMin=S,this.yMin=x,this.xMax=B,this.yMax=P,this.compound=!1}return C.prototype.encode=function(){return this.raw.data},C}(),lf=function(){function C(g,y,S,x,B){var P,M;for(this.raw=g,this.xMin=y,this.yMin=S,this.xMax=x,this.yMax=B,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],P=this.raw;M=P.readShort(),this.glyphOffsets.push(P.pos),this.glyphIDs.push(P.readUInt16()),32&M;)P.pos+=1&M?4:2,128&M?P.pos+=8:64&M?P.pos+=4:8&M&&(P.pos+=2)}return C.prototype.encode=function(){var g,y,S;for(y=new nu(bl.call(this.raw.data)),g=0,S=this.glyphIDs.length;g<S;++g)y.pos=this.glyphOffsets[g];return y.data},C}(),uf=function(C){function g(){return g.__super__.constructor.apply(this,arguments)}return na(g,tu),g.prototype.tag="loca",g.prototype.parse=function(y){var x;return y.pos=this.offset,this.offsets=0===this.file.head.indexToLocFormat?function(){var B,P;for(P=[],x=0,B=this.length;x<B;x+=2)P.push(2*y.readUInt16());return P}.call(this):function(){var B,P;for(P=[],x=0,B=this.length;x<B;x+=4)P.push(y.readUInt32());return P}.call(this)},g.prototype.indexOf=function(y){return this.offsets[y]},g.prototype.lengthOf=function(y){return this.offsets[y+1]-this.offsets[y]},g.prototype.encode=function(y,S){for(var x=new Uint32Array(this.offsets.length),B=0,P=0,M=0;M<x.length;++M)if(x[M]=B,P<S.length&&S[P]==M){++P,x[M]=B;var G=this.offsets[M+1]-this.offsets[M];G>0&&(B+=G)}for(var te=new Array(4*x.length),ue=0;ue<x.length;++ue)te[4*ue+3]=255&x[ue],te[4*ue+2]=(65280&x[ue])>>8,te[4*ue+1]=(16711680&x[ue])>>16,te[4*ue]=(4278190080&x[ue])>>24;return te},g}(),iu=function(){function C(g){this.font=g,this.subset={},this.unicodes={},this.next=33}return C.prototype.generateCmap=function(){var g,y,x,B;for(y in x=this.font.cmap.tables[0].codeMap,g={},B=this.subset)g[y]=x[B[y]];return g},C.prototype.glyphsFor=function(g){var y,S,x,B,P,M,L;for(x={},P=0,M=g.length;P<M;P++)x[B=g[P]]=this.font.glyf.glyphFor(B);for(B in y=[],x)null!=(S=x[B])&&S.compound&&y.push.apply(y,S.glyphIDs);if(y.length>0)for(B in L=this.glyphsFor(y))x[B]=S=L[B];return x},C.prototype.encode=function(g,y){var S,x,B,P,L,G,te,ue,pe,j,Pe,be,ze,J;for(x in S=VA.encode(this.generateCmap(),"unicode"),P=this.glyphsFor(g),j={0:0},J=S.charMap)j[(L=J[x]).old]=L.new;for(Pe in pe=S.maxGlyphID,P)Pe in j||(j[Pe]=pe++);return te=function(Le){var gt,xt;for(gt in xt={},Le)xt[Le[gt]]=gt;return xt}(j),ue=Object.keys(te).sort(function(Le,gt){return Le-gt}),be=function(){var Le,gt,xt;for(xt=[],Le=0,gt=ue.length;Le<gt;Le++)xt.push(te[ue[Le]]);return xt}(),B=this.font.glyf.encode(P,be,j),G=this.font.loca.encode(B.offsets,be),ze={cmap:this.font.cmap.raw(),glyf:B.table,loca:G,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(y)},this.font.os2.exists&&(ze["OS/2"]=this.font.os2.raw()),this.font.directory.encode(ze)},C}();qr.API.PDFObject=function(){var C;function g(){}return C=function(y,S){return(Array(S+1).join("0")+y).slice(-S)},g.convert=function(y){var x,B;if(Array.isArray(y))return"["+function(){var M,L,G;for(G=[],M=0,L=y.length;M<L;M++)G.push(g.convert(y[M]));return G}().join(" ")+"]";if("string"==typeof y)return"/"+y;if(null!=y&&y.isString)return"("+y+")";if(y instanceof Date)return"(D:"+C(y.getUTCFullYear(),4)+C(y.getUTCMonth(),2)+C(y.getUTCDate(),2)+C(y.getUTCHours(),2)+C(y.getUTCMinutes(),2)+C(y.getUTCSeconds(),2)+"Z)";if("[object Object]"==={}.toString.call(y)){for(x in B=["<<"],y)B.push("/"+x+" "+g.convert(y[x]));return B.push(">>"),B.join("\n")}return""+y},g}();const wd=qr},8996:(go,kr,wt)=>{var V={"./ion-accordion_2.entry.js":[2375,2076,2375],"./ion-action-sheet.entry.js":[8814,2076,8814],"./ion-alert.entry.js":[5222,2076,5222],"./ion-app_8.entry.js":[7720,2076,7720],"./ion-avatar_3.entry.js":[1049,1049],"./ion-back-button.entry.js":[3162,2076,3162],"./ion-backdrop.entry.js":[7240,7240],"./ion-breadcrumb_2.entry.js":[8314,2076,8314],"./ion-button_2.entry.js":[4591,4591],"./ion-card_5.entry.js":[8584,8584],"./ion-checkbox.entry.js":[3511,2076,3511],"./ion-chip.entry.js":[6024,6024],"./ion-col_3.entry.js":[5100,5100],"./ion-datetime-button.entry.js":[7428,771,7428],"./ion-datetime_3.entry.js":[5266,771,2076,2885],"./ion-fab_3.entry.js":[4463,2076,4463],"./ion-img.entry.js":[4183,4183],"./ion-infinite-scroll_2.entry.js":[4171,2076,4171],"./ion-input.entry.js":[9344,2076,9344],"./ion-item-option_3.entry.js":[5949,2076,5949],"./ion-item_8.entry.js":[3506,2076,3506],"./ion-loading.entry.js":[7372,2076,7372],"./ion-menu_3.entry.js":[2075,2076,2075],"./ion-modal.entry.js":[441,2076,441],"./ion-nav_2.entry.js":[5712,2076,5712],"./ion-picker-column-internal.entry.js":[1433,2076,1433],"./ion-picker-internal.entry.js":[2628,2628],"./ion-popover.entry.js":[6433,2076,6433],"./ion-progress-bar.entry.js":[9977,9977],"./ion-radio_2.entry.js":[8066,2076,8066],"./ion-range.entry.js":[8477,2076,8477],"./ion-refresher_2.entry.js":[5197,2076,5197],"./ion-reorder_2.entry.js":[7030,2076,7030],"./ion-ripple-effect.entry.js":[964,964],"./ion-route_4.entry.js":[8970,8970],"./ion-searchbar.entry.js":[8193,2076,8193],"./ion-segment_2.entry.js":[2560,2076,2560],"./ion-select_3.entry.js":[7076,2076,7076],"./ion-spinner.entry.js":[8805,2076,8805],"./ion-split-pane.entry.js":[5887,5887],"./ion-tab-bar_2.entry.js":[4406,2076,4406],"./ion-tab_2.entry.js":[1102,1102],"./ion-text.entry.js":[1577,1577],"./ion-textarea.entry.js":[2348,2076,2348],"./ion-toast.entry.js":[2415,2076,2415],"./ion-toggle.entry.js":[3814,2076,3814]};function ln(Mt){if(!wt.o(V,Mt))return Promise.resolve().then(()=>{var Ut=new Error("Cannot find module '"+Mt+"'");throw Ut.code="MODULE_NOT_FOUND",Ut});var tt=V[Mt],Tn=tt[0];return Promise.all(tt.slice(1).map(wt.e)).then(()=>wt(Tn))}ln.keys=()=>Object.keys(V),ln.id=8996,go.exports=ln},3345:(go,kr,wt)=>{"use strict";wt.d(kr,{A:()=>Ye});var V=wt(1076),ln=wt(1362),Mt=wt(7852),tt=wt(8041);class Tn{constructor(ge,Z){this._delegate=ge,this.firebase=Z,(0,Mt._addComponent)(ge,new ln.uA("app-compat",()=>this,"PUBLIC")),this.container=ge.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ge){this._delegate.automaticDataCollectionEnabled=ge}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(ge=>{this._delegate.checkDestroyed(),ge()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,Mt.deleteApp)(this._delegate)))}_getService(ge,Z=Mt._DEFAULT_ENTRY_NAME){var ce;this._delegate.checkDestroyed();const Me=this._delegate.container.getProvider(ge);return!Me.isInitialized()&&"EXPLICIT"===(null===(ce=Me.getComponent())||void 0===ce?void 0:ce.instantiationMode)&&Me.initialize(),Me.getImmediate({identifier:Z})}_removeServiceInstance(ge,Z=Mt._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(ge).clearInstance(Z)}_addComponent(ge){(0,Mt._addComponent)(this._delegate,ge)}_addOrOverwriteComponent(ge){(0,Mt._addOrOverwriteComponent)(this._delegate,ge)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Ee=new V.FA("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),He=function Ot(){const Ge=function Rt(Ge){const ge={},Z={__esModule:!0,initializeApp:function Ue(ie,de={}){const he=Mt.initializeApp(ie,de);if((0,V.gR)(ge,he.name))return ge[he.name];const re=new Ge(he,Z);return ge[he.name]=re,re},app:Me,registerVersion:Mt.registerVersion,setLogLevel:Mt.setLogLevel,onLog:Mt.onLog,apps:null,SDK_VERSION:Mt.SDK_VERSION,INTERNAL:{registerComponent:function $e(ie){const de=ie.name,he=de.replace("-compat","");if(Mt._registerComponent(ie)&&"PUBLIC"===ie.type){const re=(Ze=Me())=>{if("function"!=typeof Ze[he])throw Ee.create("invalid-app-argument",{appName:de});return Ze[he]()};void 0!==ie.serviceProps&&(0,V.zw)(re,ie.serviceProps),Z[he]=re,Ge.prototype[he]=function(...Ze){return this._getService.bind(this,de).apply(this,ie.multipleInstances?Ze:[])}}return"PUBLIC"===ie.type?Z[he]:null},removeApp:function ce(ie){delete ge[ie]},useAsService:function ft(ie,de){return"serverAuth"===de?null:de},modularAPIs:Mt}};function Me(ie){if(!(0,V.gR)(ge,ie=ie||Mt._DEFAULT_ENTRY_NAME))throw Ee.create("no-app",{appName:ie});return ge[ie]}return Z.default=Z,Object.defineProperty(Z,"apps",{get:function Re(){return Object.keys(ge).map(ie=>ge[ie])}}),Me.App=Ge,Z}(Tn);return Ge.INTERNAL=Object.assign(Object.assign({},Ge.INTERNAL),{createFirebaseNamespace:Ot,extendNamespace:function ge(Z){(0,V.zw)(Ge,Z)},createSubscribe:V.tD,ErrorFactory:V.FA,deepExtend:V.zw}),Ge}(),De=new tt.Vy("@firebase/app-compat");if((0,V.Bd)()&&void 0!==self.firebase){De.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Ge=self.firebase.SDK_VERSION;Ge&&Ge.indexOf("LITE")>=0&&De.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Ye=He;!function nt(Ge){(0,Mt.registerVersion)("@firebase/app-compat","0.2.30",Ge)}()},7852:(go,kr,wt)=>{"use strict";wt.r(kr),wt.d(kr,{FirebaseError:()=>tt.g,SDK_VERSION:()=>Pa,_DEFAULT_ENTRY_NAME:()=>zr,_addComponent:()=>co,_addOrOverwriteComponent:()=>Vi,_apps:()=>qi,_clearComponents:()=>Eo,_components:()=>Bs,_getProvider:()=>ea,_isFirebaseApp:()=>_s,_isFirebaseServerApp:()=>Ja,_registerComponent:()=>gi,_removeServiceInstance:()=>Ds,_serverApps:()=>ys,deleteApp:()=>Aa,getApp:()=>Ru,getApps:()=>ro,initializeApp:()=>Ro,initializeServerApp:()=>ml,onLog:()=>Xe,registerVersion:()=>ut,setLogLevel:()=>dt});var V=wt(467),ln=wt(1362),Mt=wt(8041),tt=wt(1076);const Tn=(Dt,It)=>It.some(fn=>Dt instanceof fn);let Ut,Ee;const He=new WeakMap,De=new WeakMap,ot=new WeakMap,Ie=new WeakMap,nt=new WeakMap;let ge={get(Dt,It,fn){if(Dt instanceof IDBTransaction){if("done"===It)return De.get(Dt);if("objectStoreNames"===It)return Dt.objectStoreNames||ot.get(Dt);if("store"===It)return fn.objectStoreNames[1]?void 0:fn.objectStore(fn.objectStoreNames[0])}return Ue(Dt[It])},set:(Dt,It,fn)=>(Dt[It]=fn,!0),has:(Dt,It)=>Dt instanceof IDBTransaction&&("done"===It||"store"===It)||It in Dt};function Me(Dt){return"function"==typeof Dt?function ce(Dt){return Dt!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Ot(){return Ee||(Ee=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(Dt)?function(...It){return Dt.apply(Re(this),It),Ue(He.get(this))}:function(...It){return Ue(Dt.apply(Re(this),It))}:function(It,...fn){const Yn=Dt.call(Re(this),It,...fn);return ot.set(Yn,It.sort?It.sort():[It]),Ue(Yn)}}(Dt):(Dt instanceof IDBTransaction&&function Ge(Dt){if(De.has(Dt))return;const It=new Promise((fn,Yn)=>{const br=()=>{Dt.removeEventListener("complete",oi),Dt.removeEventListener("error",ar),Dt.removeEventListener("abort",ar)},oi=()=>{fn(),br()},ar=()=>{Yn(Dt.error||new DOMException("AbortError","AbortError")),br()};Dt.addEventListener("complete",oi),Dt.addEventListener("error",ar),Dt.addEventListener("abort",ar)});De.set(Dt,It)}(Dt),Tn(Dt,function Rt(){return Ut||(Ut=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(Dt,ge):Dt)}function Ue(Dt){if(Dt instanceof IDBRequest)return function Ye(Dt){const It=new Promise((fn,Yn)=>{const br=()=>{Dt.removeEventListener("success",oi),Dt.removeEventListener("error",ar)},oi=()=>{fn(Ue(Dt.result)),br()},ar=()=>{Yn(Dt.error),br()};Dt.addEventListener("success",oi),Dt.addEventListener("error",ar)});return It.then(fn=>{fn instanceof IDBCursor&&He.set(fn,Dt)}).catch(()=>{}),nt.set(It,Dt),It}(Dt);if(Ie.has(Dt))return Ie.get(Dt);const It=Me(Dt);return It!==Dt&&(Ie.set(Dt,It),nt.set(It,Dt)),It}const Re=Dt=>nt.get(Dt),ie=["get","getKey","getAll","getAllKeys","count"],de=["put","add","delete","clear"],he=new Map;function re(Dt,It){if(!(Dt instanceof IDBDatabase)||It in Dt||"string"!=typeof It)return;if(he.get(It))return he.get(It);const fn=It.replace(/FromIndex$/,""),Yn=It!==fn,br=de.includes(fn);if(!(fn in(Yn?IDBIndex:IDBObjectStore).prototype)||!br&&!ie.includes(fn))return;const oi=function(){var ar=(0,V.A)(function*(Fi,...qo){const Jr=this.transaction(Fi,br?"readwrite":"readonly");let nr=Jr.store;return Yn&&(nr=nr.index(qo.shift())),(yield Promise.all([nr[fn](...qo),br&&Jr.done]))[0]});return function(qo){return ar.apply(this,arguments)}}();return he.set(It,oi),oi}!function Z(Dt){ge=Dt(ge)}(Dt=>({...Dt,get:(It,fn,Yn)=>re(It,fn)||Dt.get(It,fn,Yn),has:(It,fn)=>!!re(It,fn)||Dt.has(It,fn)}));class Ze{constructor(It){this.container=It}getPlatformInfoString(){return this.container.getProviders().map(fn=>{if(function lt(Dt){const It=Dt.getComponent();return"VERSION"===(null==It?void 0:It.type)}(fn)){const Yn=fn.getImmediate();return`${Yn.library}/${Yn.version}`}return null}).filter(fn=>fn).join(" ")}}const Fe="@firebase/app",We="0.10.0",Ft=new Mt.Vy("@firebase/app"),zr="[DEFAULT]",ko={[Fe]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},qi=new Map,ys=new Map,Bs=new Map;function co(Dt,It){try{Dt.container.addComponent(It)}catch(fn){Ft.debug(`Component ${It.name} failed to register with FirebaseApp ${Dt.name}`,fn)}}function Vi(Dt,It){Dt.container.addOrOverwriteComponent(It)}function gi(Dt){const It=Dt.name;if(Bs.has(It))return Ft.debug(`There were multiple attempts to register component ${It}.`),!1;Bs.set(It,Dt);for(const fn of qi.values())co(fn,Dt);for(const fn of ys.values())co(fn,Dt);return!0}function ea(Dt,It){const fn=Dt.container.getProvider("heartbeat").getImmediate({optional:!0});return fn&&fn.triggerHeartbeat(),Dt.container.getProvider(It)}function Ds(Dt,It,fn=zr){ea(Dt,It).clearInstance(fn)}function _s(Dt){return void 0!==Dt.options}function Ja(Dt){return void 0!==Dt.settings}function Eo(){Bs.clear()}const us=new tt.FA("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class gl{constructor(It,fn,Yn){this._isDeleted=!1,this._options=Object.assign({},It),this._config=Object.assign({},fn),this._name=fn.name,this._automaticDataCollectionEnabled=fn.automaticDataCollectionEnabled,this._container=Yn,this.container.addComponent(new ln.uA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(It){this.checkDestroyed(),this._automaticDataCollectionEnabled=It}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(It){this._isDeleted=It}checkDestroyed(){if(this.isDeleted)throw us.create("app-deleted",{appName:this._name})}}class lc extends gl{constructor(It,fn,Yn,br){const oi=void 0!==fn.automaticDataCollectionEnabled&&fn.automaticDataCollectionEnabled,ar={name:Yn,automaticDataCollectionEnabled:oi};super(void 0!==It.apiKey?It:It.options,ar,br),this._serverConfig=Object.assign({automaticDataCollectionEnabled:oi},fn),this._finalizationRegistry=new FinalizationRegistry(()=>{this.automaticCleanup()}),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,fn.releaseOnDeref=void 0,ut(Fe,We,"serverapp")}get refCount(){return this._refCount}incRefCount(It){this.isDeleted||(this._refCount++,void 0!==It&&this._finalizationRegistry.register(It,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){Aa(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw us.create("server-app-deleted")}}const Pa="10.10.0";function Ro(Dt,It={}){let fn=Dt;"object"!=typeof It&&(It={name:It});const Yn=Object.assign({name:zr,automaticDataCollectionEnabled:!1},It),br=Yn.name;if("string"!=typeof br||!br)throw us.create("bad-app-name",{appName:String(br)});if(fn||(fn=(0,tt.T9)()),!fn)throw us.create("no-options");const oi=qi.get(br);if(oi){if((0,tt.bD)(fn,oi.options)&&(0,tt.bD)(Yn,oi.config))return oi;throw us.create("duplicate-app",{appName:br})}const ar=new ln.h1(br);for(const qo of Bs.values())ar.addComponent(qo);const Fi=new gl(fn,Yn,ar);return qi.set(br,Fi),Fi}function ml(Dt,It){if((0,tt.Bd)())throw us.create("invalid-server-app-environment");let fn;void 0===It.automaticDataCollectionEnabled&&(It.automaticDataCollectionEnabled=!1),fn=_s(Dt)?Dt.options:Dt;const Yn=Object.assign(Object.assign({},It),fn);if(void 0!==Yn.releaseOnDeref&&delete Yn.releaseOnDeref,void 0!==It.releaseOnDeref&&typeof FinalizationRegistry>"u")throw us.create("finalization-registry-not-supported",{});const oi=""+(Jr=JSON.stringify(Yn),[...Jr].reduce((nr,Gr)=>Math.imul(31,nr)+Gr.charCodeAt(0)|0,0)),ar=ys.get(oi);var Jr;if(ar)return ar.incRefCount(It.releaseOnDeref),ar;const Fi=new ln.h1(oi);for(const Jr of Bs.values())Fi.addComponent(Jr);const qo=new lc(fn,It,oi,Fi);return ys.set(oi,qo),qo}function Ru(Dt=zr){const It=qi.get(Dt);if(!It&&Dt===zr&&(0,tt.T9)())return Ro();if(!It)throw us.create("no-app",{appName:Dt});return It}function ro(){return Array.from(qi.values())}function Aa(Dt){return Ll.apply(this,arguments)}function Ll(){return(Ll=(0,V.A)(function*(Dt){let It=!1;const fn=Dt.name;qi.has(fn)?(It=!0,qi.delete(fn)):ys.has(fn)&&Dt.decRefCount()<=0&&(ys.delete(fn),It=!0),It&&(yield Promise.all(Dt.container.getProviders().map(Yn=>Yn.delete())),Dt.isDeleted=!0)})).apply(this,arguments)}function ut(Dt,It,fn){var Yn;let br=null!==(Yn=ko[Dt])&&void 0!==Yn?Yn:Dt;fn&&(br+=`-${fn}`);const oi=br.match(/\s|\//),ar=It.match(/\s|\//);if(oi||ar){const Fi=[`Unable to register library "${br}" with version "${It}":`];return oi&&Fi.push(`library name "${br}" contains illegal characters (whitespace or "/")`),oi&&ar&&Fi.push("and"),ar&&Fi.push(`version name "${It}" contains illegal characters (whitespace or "/")`),void Ft.warn(Fi.join(" "))}gi(new ln.uA(`${br}-version`,()=>({library:br,version:It}),"VERSION"))}function Xe(Dt,It){if(null!==Dt&&"function"!=typeof Dt)throw us.create("invalid-log-argument");(0,Mt.Ey)(Dt,It)}function dt(Dt){(0,Mt.He)(Dt)}const dn="firebase-heartbeat-database",rt=1,$n="firebase-heartbeat-store";let qn=null;function $r(){return qn||(qn=function $e(Dt,It,{blocked:fn,upgrade:Yn,blocking:br,terminated:oi}={}){const ar=indexedDB.open(Dt,It),Fi=Ue(ar);return Yn&&ar.addEventListener("upgradeneeded",qo=>{Yn(Ue(ar.result),qo.oldVersion,qo.newVersion,Ue(ar.transaction),qo)}),fn&&ar.addEventListener("blocked",qo=>fn(qo.oldVersion,qo.newVersion,qo)),Fi.then(qo=>{oi&&qo.addEventListener("close",()=>oi()),br&&qo.addEventListener("versionchange",Jr=>br(Jr.oldVersion,Jr.newVersion,Jr))}).catch(()=>{}),Fi}(dn,rt,{upgrade:(Dt,It)=>{if(0===It)try{Dt.createObjectStore($n)}catch(fn){console.warn(fn)}}}).catch(Dt=>{throw us.create("idb-open",{originalErrorMessage:Dt.message})})),qn}function Nr(){return(Nr=(0,V.A)(function*(Dt){try{const fn=(yield $r()).transaction($n),Yn=yield fn.objectStore($n).get(hn(Dt));return yield fn.done,Yn}catch(It){if(It instanceof tt.g)Ft.warn(It.message);else{const fn=us.create("idb-get",{originalErrorMessage:null==It?void 0:It.message});Ft.warn(fn.message)}}})).apply(this,arguments)}function Zo(Dt,It){return Ci.apply(this,arguments)}function Ci(){return(Ci=(0,V.A)(function*(Dt,It){try{const Yn=(yield $r()).transaction($n,"readwrite");yield Yn.objectStore($n).put(It,hn(Dt)),yield Yn.done}catch(fn){if(fn instanceof tt.g)Ft.warn(fn.message);else{const Yn=us.create("idb-set",{originalErrorMessage:null==fn?void 0:fn.message});Ft.warn(Yn.message)}}})).apply(this,arguments)}function hn(Dt){return`${Dt.name}!${Dt.options.appId}`}class Jl{constructor(It){this.container=It,this._heartbeatsCache=null;const fn=this.container.getProvider("app").getImmediate();this._storage=new Pu(fn),this._heartbeatsCachePromise=this._storage.read().then(Yn=>(this._heartbeatsCache=Yn,Yn))}triggerHeartbeat(){var It=this;return(0,V.A)(function*(){var fn,Yn;const oi=It.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),ar=pd();if((null!=(null===(fn=It._heartbeatsCache)||void 0===fn?void 0:fn.heartbeats)||(It._heartbeatsCache=yield It._heartbeatsCachePromise,null!=(null===(Yn=It._heartbeatsCache)||void 0===Yn?void 0:Yn.heartbeats)))&&It._heartbeatsCache.lastSentHeartbeatDate!==ar&&!It._heartbeatsCache.heartbeats.some(Fi=>Fi.date===ar))return It._heartbeatsCache.heartbeats.push({date:ar,agent:oi}),It._heartbeatsCache.heartbeats=It._heartbeatsCache.heartbeats.filter(Fi=>{const qo=new Date(Fi.date).valueOf();return Date.now()-qo<=2592e6}),It._storage.overwrite(It._heartbeatsCache)})()}getHeartbeatsHeader(){var It=this;return(0,V.A)(function*(){var fn;if(null===It._heartbeatsCache&&(yield It._heartbeatsCachePromise),null==(null===(fn=It._heartbeatsCache)||void 0===fn?void 0:fn.heartbeats)||0===It._heartbeatsCache.heartbeats.length)return"";const Yn=pd(),{heartbeatsToSend:br,unsentEntries:oi}=function NA(Dt,It=1024){const fn=[];let Yn=Dt.slice();for(const br of Dt){const oi=fn.find(ar=>ar.agent===br.agent);if(oi){if(oi.dates.push(br.date),fa(fn)>It){oi.dates.pop();break}}else if(fn.push({agent:br.agent,dates:[br.date]}),fa(fn)>It){fn.pop();break}Yn=Yn.slice(1)}return{heartbeatsToSend:fn,unsentEntries:Yn}}(It._heartbeatsCache.heartbeats),ar=(0,tt.Uj)(JSON.stringify({version:2,heartbeats:br}));return It._heartbeatsCache.lastSentHeartbeatDate=Yn,oi.length>0?(It._heartbeatsCache.heartbeats=oi,yield It._storage.overwrite(It._heartbeatsCache)):(It._heartbeatsCache.heartbeats=[],It._storage.overwrite(It._heartbeatsCache)),ar})()}}function pd(){return(new Date).toISOString().substring(0,10)}class Pu{constructor(It){this.app=It,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,V.A)(function*(){return!!(0,tt.zW)()&&(0,tt.eX)().then(()=>!0).catch(()=>!1)})()}read(){var It=this;return(0,V.A)(function*(){if(yield It._canUseIndexedDBPromise){const Yn=yield function mo(Dt){return Nr.apply(this,arguments)}(It.app);return null!=Yn&&Yn.heartbeats?Yn:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(It){var fn=this;return(0,V.A)(function*(){var Yn;if(yield fn._canUseIndexedDBPromise){const oi=yield fn.read();return Zo(fn.app,{lastSentHeartbeatDate:null!==(Yn=It.lastSentHeartbeatDate)&&void 0!==Yn?Yn:oi.lastSentHeartbeatDate,heartbeats:It.heartbeats})}})()}add(It){var fn=this;return(0,V.A)(function*(){var Yn;if(yield fn._canUseIndexedDBPromise){const oi=yield fn.read();return Zo(fn.app,{lastSentHeartbeatDate:null!==(Yn=It.lastSentHeartbeatDate)&&void 0!==Yn?Yn:oi.lastSentHeartbeatDate,heartbeats:[...oi.heartbeats,...It.heartbeats]})}})()}}function fa(Dt){return(0,tt.Uj)(JSON.stringify({version:2,heartbeats:Dt})).length}!function Ma(Dt){gi(new ln.uA("platform-logger",It=>new Ze(It),"PRIVATE")),gi(new ln.uA("heartbeat",It=>new Jl(It),"PRIVATE")),ut(Fe,We,Dt),ut(Fe,We,"esm2017"),ut("fire-js","")}("")},1362:(go,kr,wt)=>{"use strict";wt.d(kr,{Kq:()=>Tn,h1:()=>Rt,uA:()=>Mt});var V=wt(467),ln=wt(1076);class Mt{constructor(He,De,ot){this.name=He,this.instanceFactory=De,this.type=ot,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(He){return this.instantiationMode=He,this}setMultipleInstances(He){return this.multipleInstances=He,this}setServiceProps(He){return this.serviceProps=He,this}setInstanceCreatedCallback(He){return this.onInstanceCreated=He,this}}const tt="[DEFAULT]";class Tn{constructor(He,De){this.name=He,this.container=De,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(He){const De=this.normalizeInstanceIdentifier(He);if(!this.instancesDeferred.has(De)){const ot=new ln.cY;if(this.instancesDeferred.set(De,ot),this.isInitialized(De)||this.shouldAutoInitialize())try{const Ie=this.getOrInitializeService({instanceIdentifier:De});Ie&&ot.resolve(Ie)}catch{}}return this.instancesDeferred.get(De).promise}getImmediate(He){var De;const ot=this.normalizeInstanceIdentifier(null==He?void 0:He.identifier),Ie=null!==(De=null==He?void 0:He.optional)&&void 0!==De&&De;if(!this.isInitialized(ot)&&!this.shouldAutoInitialize()){if(Ie)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:ot})}catch(nt){if(Ie)return null;throw nt}}getComponent(){return this.component}setComponent(He){if(He.name!==this.name)throw Error(`Mismatching Component ${He.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=He,this.shouldAutoInitialize()){if(function Ee(Ot){return"EAGER"===Ot.instantiationMode}(He))try{this.getOrInitializeService({instanceIdentifier:tt})}catch{}for(const[De,ot]of this.instancesDeferred.entries()){const Ie=this.normalizeInstanceIdentifier(De);try{const nt=this.getOrInitializeService({instanceIdentifier:Ie});ot.resolve(nt)}catch{}}}}clearInstance(He=tt){this.instancesDeferred.delete(He),this.instancesOptions.delete(He),this.instances.delete(He)}delete(){var He=this;return(0,V.A)(function*(){const De=Array.from(He.instances.values());yield Promise.all([...De.filter(ot=>"INTERNAL"in ot).map(ot=>ot.INTERNAL.delete()),...De.filter(ot=>"_delete"in ot).map(ot=>ot._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(He=tt){return this.instances.has(He)}getOptions(He=tt){return this.instancesOptions.get(He)||{}}initialize(He={}){const{options:De={}}=He,ot=this.normalizeInstanceIdentifier(He.instanceIdentifier);if(this.isInitialized(ot))throw Error(`${this.name}(${ot}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Ie=this.getOrInitializeService({instanceIdentifier:ot,options:De});for(const[nt,Ye]of this.instancesDeferred.entries())ot===this.normalizeInstanceIdentifier(nt)&&Ye.resolve(Ie);return Ie}onInit(He,De){var ot;const Ie=this.normalizeInstanceIdentifier(De),nt=null!==(ot=this.onInitCallbacks.get(Ie))&&void 0!==ot?ot:new Set;nt.add(He),this.onInitCallbacks.set(Ie,nt);const Ye=this.instances.get(Ie);return Ye&&He(Ye,Ie),()=>{nt.delete(He)}}invokeOnInitCallbacks(He,De){const ot=this.onInitCallbacks.get(De);if(ot)for(const Ie of ot)try{Ie(He,De)}catch{}}getOrInitializeService({instanceIdentifier:He,options:De={}}){let ot=this.instances.get(He);if(!ot&&this.component&&(ot=this.component.instanceFactory(this.container,{instanceIdentifier:(Ot=He,Ot===tt?void 0:Ot),options:De}),this.instances.set(He,ot),this.instancesOptions.set(He,De),this.invokeOnInitCallbacks(ot,He),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,He,ot)}catch{}var Ot;return ot||null}normalizeInstanceIdentifier(He=tt){return this.component?this.component.multipleInstances?He:tt:He}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Rt{constructor(He){this.name=He,this.providers=new Map}addComponent(He){const De=this.getProvider(He.name);if(De.isComponentSet())throw new Error(`Component ${He.name} has already been registered with ${this.name}`);De.setComponent(He)}addOrOverwriteComponent(He){this.getProvider(He.name).isComponentSet()&&this.providers.delete(He.name),this.addComponent(He)}getProvider(He){if(this.providers.has(He))return this.providers.get(He);const De=new Tn(He,this);return this.providers.set(He,De),De}getProviders(){return Array.from(this.providers.values())}}},8041:(go,kr,wt)=>{"use strict";wt.d(kr,{$b:()=>ln,Ey:()=>Ot,He:()=>Rt,Vy:()=>Ee});const V=[];var ln=function(He){return He[He.DEBUG=0]="DEBUG",He[He.VERBOSE=1]="VERBOSE",He[He.INFO=2]="INFO",He[He.WARN=3]="WARN",He[He.ERROR=4]="ERROR",He[He.SILENT=5]="SILENT",He}(ln||{});const Mt={debug:ln.DEBUG,verbose:ln.VERBOSE,info:ln.INFO,warn:ln.WARN,error:ln.ERROR,silent:ln.SILENT},tt=ln.INFO,Tn={[ln.DEBUG]:"log",[ln.VERBOSE]:"log",[ln.INFO]:"info",[ln.WARN]:"warn",[ln.ERROR]:"error"},Ut=(He,De,...ot)=>{if(De<He.logLevel)return;const Ie=(new Date).toISOString(),nt=Tn[De];if(!nt)throw new Error(`Attempted to log a message with an invalid logType (value: ${De})`);console[nt](`[${Ie}]  ${He.name}:`,...ot)};class Ee{constructor(De){this.name=De,this._logLevel=tt,this._logHandler=Ut,this._userLogHandler=null,V.push(this)}get logLevel(){return this._logLevel}set logLevel(De){if(!(De in ln))throw new TypeError(`Invalid value "${De}" assigned to \`logLevel\``);this._logLevel=De}setLogLevel(De){this._logLevel="string"==typeof De?Mt[De]:De}get logHandler(){return this._logHandler}set logHandler(De){if("function"!=typeof De)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=De}get userLogHandler(){return this._userLogHandler}set userLogHandler(De){this._userLogHandler=De}debug(...De){this._userLogHandler&&this._userLogHandler(this,ln.DEBUG,...De),this._logHandler(this,ln.DEBUG,...De)}log(...De){this._userLogHandler&&this._userLogHandler(this,ln.VERBOSE,...De),this._logHandler(this,ln.VERBOSE,...De)}info(...De){this._userLogHandler&&this._userLogHandler(this,ln.INFO,...De),this._logHandler(this,ln.INFO,...De)}warn(...De){this._userLogHandler&&this._userLogHandler(this,ln.WARN,...De),this._logHandler(this,ln.WARN,...De)}error(...De){this._userLogHandler&&this._userLogHandler(this,ln.ERROR,...De),this._logHandler(this,ln.ERROR,...De)}}function Rt(He){V.forEach(De=>{De.setLogLevel(He)})}function Ot(He,De){for(const ot of V){let Ie=null;De&&De.level&&(Ie=Mt[De.level]),ot.userLogHandler=null===He?null:(nt,Ye,...Ge)=>{const ge=Ge.map(Z=>{if(null==Z)return null;if("string"==typeof Z)return Z;if("number"==typeof Z||"boolean"==typeof Z)return Z.toString();if(Z instanceof Error)return Z.message;try{return JSON.stringify(Z)}catch{return null}}).filter(Z=>Z).join(" ");Ye>=(null!=Ie?Ie:nt.logLevel)&&He({level:ln[Ye].toLowerCase(),message:ge,args:Ge,type:nt.name})}}}},3371:(go,kr,wt)=>{"use strict";wt.r(kr);var V=wt(467),ln=wt(3345),Mt=wt(7852),tt=wt(1076),Tn=wt(8041),Ut=wt(1635),Ee=wt(1362);const Ot={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"};const Ye=function Ie(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}},Ge=function nt(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},ge=new tt.FA("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),ce=new Tn.Vy("@firebase/auth");function Ue(E,...c){ce.logLevel<=Tn.$b.ERROR&&ce.error(`Auth (${Mt.SDK_VERSION}): ${E}`,...c)}function Re(E,...c){throw he(E,...c)}function $e(E,...c){return he(E,...c)}function ft(E,c,p){const D=Object.assign(Object.assign({},Ge()),{[c]:p});return new tt.FA("auth","Firebase",D).create(c,{appName:E.name})}function ie(E){return ft(E,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function de(E,c,p){if(!(c instanceof p))throw p.name!==c.constructor.name&&Re(E,"argument-error"),ft(E,"argument-error",`Type of ${c.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function he(E,...c){if("string"!=typeof E){const p=c[0],D=[...c.slice(1)];return D[0]&&(D[0].appName=E.name),E._errorFactory.create(p,...D)}return ge.create(E,...c)}function re(E,c,...p){if(!E)throw he(c,...p)}function Ze(E){const c="INTERNAL ASSERTION FAILED: "+E;throw Ue(c),new Error(c)}function lt(E,c){E||Ze(c)}function Fe(){var E;return typeof self<"u"&&(null===(E=self.location)||void 0===E?void 0:E.href)||""}function We(){return"http:"===Ft()||"https:"===Ft()}function Ft(){var E;return typeof self<"u"&&(null===(E=self.location)||void 0===E?void 0:E.protocol)||null}class Ce{constructor(c,p){this.shortDelay=c,this.longDelay=p,lt(p>c,"Short delay should be less than long delay!"),this.isMobile=(0,tt.jZ)()||(0,tt.lV)()}get(){return function kt(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(We()||(0,tt.sr)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function fe(E,c){lt(E.emulator,"Emulator should always be set here");const{url:p}=E.emulator;return c?`${p}${c.startsWith("/")?c.slice(1):c}`:p}class Te{static initialize(c,p,D){this.fetchImpl=c,p&&(this.headersImpl=p),D&&(this.responseImpl=D)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void Ze("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void Ze("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void Ze("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Ke={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Ct=new Ce(3e4,6e4);function qe(E,c){return E.tenantId&&!c.tenantId?Object.assign(Object.assign({},c),{tenantId:E.tenantId}):c}function rn(E,c,p,D){return Pn.apply(this,arguments)}function Pn(){return(Pn=(0,V.A)(function*(E,c,p,D,Q={}){return Rn(E,Q,(0,V.A)(function*(){let ne={},et={};D&&("GET"===c?et=D:ne={body:JSON.stringify(D)});const bt=(0,tt.Am)(Object.assign({key:E.config.apiKey},et)).slice(1),tn=yield E._getAdditionalHeaders();return tn["Content-Type"]="application/json",E.languageCode&&(tn["X-Firebase-Locale"]=E.languageCode),Te.fetch()(sr(E,E.config.apiHost,p,bt),Object.assign({method:c,headers:tn,referrerPolicy:"no-referrer"},ne))}))})).apply(this,arguments)}function Rn(E,c,p){return Kn.apply(this,arguments)}function Kn(){return(Kn=(0,V.A)(function*(E,c,p){E._canInitEmulator=!1;const D=Object.assign(Object.assign({},Ke),c);try{const Q=new Kr(E),ne=yield Promise.race([p(),Q.promise]);Q.clearNetworkTimeout();const et=yield ne.json();if("needConfirmation"in et)throw en(E,"account-exists-with-different-credential",et);if(ne.ok&&!("errorMessage"in et))return et;{const bt=ne.ok?et.errorMessage:et.error.message,[tn,Zn]=bt.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===tn)throw en(E,"credential-already-in-use",et);if("EMAIL_EXISTS"===tn)throw en(E,"email-already-in-use",et);if("USER_DISABLED"===tn)throw en(E,"user-disabled",et);const Nn=D[tn]||tn.toLowerCase().replace(/[_\s]+/g,"-");if(Zn)throw ft(E,Nn,Zn);Re(E,Nn)}}catch(Q){if(Q instanceof tt.g)throw Q;Re(E,"network-request-failed",{message:String(Q)})}})).apply(this,arguments)}function Sr(E,c,p,D){return pi.apply(this,arguments)}function pi(){return(pi=(0,V.A)(function*(E,c,p,D,Q={}){const ne=yield rn(E,c,p,D,Q);return"mfaPendingCredential"in ne&&Re(E,"multi-factor-auth-required",{_serverResponse:ne}),ne})).apply(this,arguments)}function sr(E,c,p,D){const Q=`${c}${p}?${D}`;return E.config.emulator?fe(E.config,Q):`${E.config.apiScheme}://${Q}`}function Ii(E){switch(E){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Kr{constructor(c){this.auth=c,this.timer=null,this.promise=new Promise((p,D)=>{this.timer=setTimeout(()=>D($e(this.auth,"network-request-failed")),Ct.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function en(E,c,p){const D={appName:E.name};p.email&&(D.email=p.email),p.phoneNumber&&(D.phoneNumber=p.phoneNumber);const Q=$e(E,c,D);return Q.customData._tokenResponse=p,Q}function Qt(E){return void 0!==E&&void 0!==E.getResponse}function Xt(E){return void 0!==E&&void 0!==E.enterprise}class tr{constructor(c){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===c.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=c.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=c.recaptchaEnforcementState}getProviderEnforcementState(c){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const p of this.recaptchaEnforcementState)if(p.provider&&p.provider===c)return Ii(p.enforcementState);return null}isProviderEnabled(c){return"ENFORCE"===this.getProviderEnforcementState(c)||"AUDIT"===this.getProviderEnforcementState(c)}}function wi(){return(wi=(0,V.A)(function*(E){return(yield rn(E,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function vi(E,c){return xi.apply(this,arguments)}function xi(){return(xi=(0,V.A)(function*(E,c){return rn(E,"GET","/v2/recaptchaConfig",qe(E,c))})).apply(this,arguments)}function ko(){return(ko=(0,V.A)(function*(E,c){return rn(E,"POST","/v1/accounts:delete",c)})).apply(this,arguments)}function ys(){return(ys=(0,V.A)(function*(E,c){return rn(E,"POST","/v1/accounts:update",c)})).apply(this,arguments)}function Bs(E,c){return co.apply(this,arguments)}function co(){return(co=(0,V.A)(function*(E,c){return rn(E,"POST","/v1/accounts:lookup",c)})).apply(this,arguments)}function Vi(E){if(E)try{const c=new Date(Number(E));if(!isNaN(c.getTime()))return c.toUTCString()}catch{}}function Ds(){return(Ds=(0,V.A)(function*(E,c=!1){const p=(0,tt.Ku)(E),D=yield p.getIdToken(c),Q=Ja(D);re(Q&&Q.exp&&Q.auth_time&&Q.iat,p.auth,"internal-error");const ne="object"==typeof Q.firebase?Q.firebase:void 0,et=null==ne?void 0:ne.sign_in_provider;return{claims:Q,token:D,authTime:Vi(_s(Q.auth_time)),issuedAtTime:Vi(_s(Q.iat)),expirationTime:Vi(_s(Q.exp)),signInProvider:et||null,signInSecondFactor:(null==ne?void 0:ne.sign_in_second_factor)||null}})).apply(this,arguments)}function _s(E){return 1e3*Number(E)}function Ja(E){const[c,p,D]=E.split(".");if(void 0===c||void 0===p||void 0===D)return Ue("JWT malformed, contained fewer than 3 sections"),null;try{const Q=(0,tt.u)(p);return Q?JSON.parse(Q):(Ue("Failed to decode base64 JWT payload"),null)}catch(Q){return Ue("Caught error parsing JWT payload as JSON",null==Q?void 0:Q.toString()),null}}function Eo(E){const c=Ja(E);return re(c,"internal-error"),re(typeof c.exp<"u","internal-error"),re(typeof c.iat<"u","internal-error"),Number(c.exp)-Number(c.iat)}function xs(E,c){return us.apply(this,arguments)}function us(){return(us=(0,V.A)(function*(E,c,p=!1){if(p)return c;try{return yield c}catch(D){throw D instanceof tt.g&&function gl({code:E}){return"auth/user-disabled"===E||"auth/user-token-expired"===E}(D)&&E.auth.currentUser===E&&(yield E.auth.signOut()),D}})).apply(this,arguments)}class lc{constructor(c){this.user=c,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(c){var p;if(c){const D=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),D}{this.errorBackoff=3e4;const Q=(null!==(p=this.user.stsTokenManager.expirationTime)&&void 0!==p?p:0)-Date.now()-3e5;return Math.max(0,Q)}}schedule(c=!1){var p=this;if(!this.isRunning)return;const D=this.getInterval(c);this.timerId=setTimeout((0,V.A)(function*(){yield p.iteration()}),D)}iteration(){var c=this;return(0,V.A)(function*(){try{yield c.user.getIdToken(!0)}catch(p){return void("auth/network-request-failed"===(null==p?void 0:p.code)&&c.schedule(!0))}c.schedule()})()}}class Pa{constructor(c,p){this.createdAt=c,this.lastLoginAt=p,this._initializeTime()}_initializeTime(){this.lastSignInTime=Vi(this.lastLoginAt),this.creationTime=Vi(this.createdAt)}_copy(c){this.createdAt=c.createdAt,this.lastLoginAt=c.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Ro(E){return ml.apply(this,arguments)}function ml(){return(ml=(0,V.A)(function*(E){var c;const p=E.auth,D=yield E.getIdToken(),Q=yield xs(E,Bs(p,{idToken:D}));re(null==Q?void 0:Q.users.length,p,"internal-error");const ne=Q.users[0];E._notifyReloadListener(ne);const et=null!==(c=ne.providerUserInfo)&&void 0!==c&&c.length?Ll(ne.providerUserInfo):[],bt=function Aa(E,c){return[...E.filter(D=>!c.some(Q=>Q.providerId===D.providerId)),...c]}(E.providerData,et),Nn=!!E.isAnonymous&&!(E.email&&ne.passwordHash||null!=bt&&bt.length),Er={uid:ne.localId,displayName:ne.displayName||null,photoURL:ne.photoUrl||null,email:ne.email||null,emailVerified:ne.emailVerified||!1,phoneNumber:ne.phoneNumber||null,tenantId:ne.tenantId||null,providerData:bt,metadata:new Pa(ne.createdAt,ne.lastLoginAt),isAnonymous:Nn};Object.assign(E,Er)})).apply(this,arguments)}function ro(){return(ro=(0,V.A)(function*(E){const c=(0,tt.Ku)(E);yield Ro(c),yield c.auth._persistUserIfCurrent(c),c.auth._notifyListenersIfCurrent(c)})).apply(this,arguments)}function Ll(E){return E.map(c=>{var{providerId:p}=c,D=(0,Ut.Tt)(c,["providerId"]);return{providerId:p,uid:D.rawId||"",displayName:D.displayName||null,email:D.email||null,phoneNumber:D.phoneNumber||null,photoURL:D.photoUrl||null}})}function Xe(){return(Xe=(0,V.A)(function*(E,c){const p=yield Rn(E,{},(0,V.A)(function*(){const D=(0,tt.Am)({grant_type:"refresh_token",refresh_token:c}).slice(1),{tokenApiHost:Q,apiKey:ne}=E.config,et=sr(E,Q,"/v1/token",`key=${ne}`),bt=yield E._getAdditionalHeaders();return bt["Content-Type"]="application/x-www-form-urlencoded",Te.fetch()(et,{method:"POST",headers:bt,body:D})}));return{accessToken:p.access_token,expiresIn:p.expires_in,refreshToken:p.refresh_token}})).apply(this,arguments)}function dn(){return(dn=(0,V.A)(function*(E,c){return rn(E,"POST","/v2/accounts:revokeToken",qe(E,c))})).apply(this,arguments)}class rt{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(c){re(c.idToken,"internal-error"),re(typeof c.idToken<"u","internal-error"),re(typeof c.refreshToken<"u","internal-error");const p="expiresIn"in c&&typeof c.expiresIn<"u"?Number(c.expiresIn):Eo(c.idToken);this.updateTokensAndExpiration(c.idToken,c.refreshToken,p)}updateFromIdToken(c){re(0!==c.length,"internal-error");const p=Eo(c);this.updateTokensAndExpiration(c,null,p)}getToken(c,p=!1){var D=this;return(0,V.A)(function*(){return p||!D.accessToken||D.isExpired?(re(D.refreshToken,c,"user-token-expired"),D.refreshToken?(yield D.refresh(c,D.refreshToken),D.accessToken):null):D.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(c,p){var D=this;return(0,V.A)(function*(){const{accessToken:Q,refreshToken:ne,expiresIn:et}=yield function ut(E,c){return Xe.apply(this,arguments)}(c,p);D.updateTokensAndExpiration(Q,ne,Number(et))})()}updateTokensAndExpiration(c,p,D){this.refreshToken=p||null,this.accessToken=c||null,this.expirationTime=Date.now()+1e3*D}static fromJSON(c,p){const{refreshToken:D,accessToken:Q,expirationTime:ne}=p,et=new rt;return D&&(re("string"==typeof D,"internal-error",{appName:c}),et.refreshToken=D),Q&&(re("string"==typeof Q,"internal-error",{appName:c}),et.accessToken=Q),ne&&(re("number"==typeof ne,"internal-error",{appName:c}),et.expirationTime=ne),et}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(c){this.accessToken=c.accessToken,this.refreshToken=c.refreshToken,this.expirationTime=c.expirationTime}_clone(){return Object.assign(new rt,this.toJSON())}_performRefresh(){return Ze("not implemented")}}function $n(E,c){re("string"==typeof E||typeof E>"u","internal-error",{appName:c})}class qn{constructor(c){var{uid:p,auth:D,stsTokenManager:Q}=c,ne=(0,Ut.Tt)(c,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new lc(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=p,this.auth=D,this.stsTokenManager=Q,this.accessToken=Q.accessToken,this.displayName=ne.displayName||null,this.email=ne.email||null,this.emailVerified=ne.emailVerified||!1,this.phoneNumber=ne.phoneNumber||null,this.photoURL=ne.photoURL||null,this.isAnonymous=ne.isAnonymous||!1,this.tenantId=ne.tenantId||null,this.providerData=ne.providerData?[...ne.providerData]:[],this.metadata=new Pa(ne.createdAt||void 0,ne.lastLoginAt||void 0)}getIdToken(c){var p=this;return(0,V.A)(function*(){const D=yield xs(p,p.stsTokenManager.getToken(p.auth,c));return re(D,p.auth,"internal-error"),p.accessToken!==D&&(p.accessToken=D,yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)),D})()}getIdTokenResult(c){return function ea(E){return Ds.apply(this,arguments)}(this,c)}reload(){return function Ru(E){return ro.apply(this,arguments)}(this)}_assign(c){this!==c&&(re(this.uid===c.uid,this.auth,"internal-error"),this.displayName=c.displayName,this.photoURL=c.photoURL,this.email=c.email,this.emailVerified=c.emailVerified,this.phoneNumber=c.phoneNumber,this.isAnonymous=c.isAnonymous,this.tenantId=c.tenantId,this.providerData=c.providerData.map(p=>Object.assign({},p)),this.metadata._copy(c.metadata),this.stsTokenManager._assign(c.stsTokenManager))}_clone(c){const p=new qn(Object.assign(Object.assign({},this),{auth:c,stsTokenManager:this.stsTokenManager._clone()}));return p.metadata._copy(this.metadata),p}_onReload(c){re(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=c,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(c){this.reloadListener?this.reloadListener(c):this.reloadUserInfo=c}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(c,p=!1){var D=this;return(0,V.A)(function*(){let Q=!1;c.idToken&&c.idToken!==D.stsTokenManager.accessToken&&(D.stsTokenManager.updateFromServerResponse(c),Q=!0),p&&(yield Ro(D)),yield D.auth._persistUserIfCurrent(D),Q&&D.auth._notifyListenersIfCurrent(D)})()}delete(){var c=this;return(0,V.A)(function*(){if((0,Mt._isFirebaseServerApp)(c.auth.app))return Promise.reject(ie(c.auth));const p=yield c.getIdToken();return yield xs(c,function zr(E,c){return ko.apply(this,arguments)}(c.auth,{idToken:p})),c.stsTokenManager.clearRefreshToken(),c.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(c=>Object.assign({},c)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(c,p){var D,Q,ne,et,bt,tn,Zn,Nn;const Er=null!==(D=p.displayName)&&void 0!==D?D:void 0,$o=null!==(Q=p.email)&&void 0!==Q?Q:void 0,Bl=null!==(ne=p.phoneNumber)&&void 0!==ne?ne:void 0,wu=null!==(et=p.photoURL)&&void 0!==et?et:void 0,Dl=null!==(bt=p.tenantId)&&void 0!==bt?bt:void 0,kh=null!==(tn=p._redirectEventId)&&void 0!==tn?tn:void 0,Cu=null!==(Zn=p.createdAt)&&void 0!==Zn?Zn:void 0,Yp=null!==(Nn=p.lastLoginAt)&&void 0!==Nn?Nn:void 0,{uid:up,emailVerified:wf,isAnonymous:nm,providerData:cp,stsTokenManager:Xp}=p;re(up&&Xp,c,"internal-error");const dp=rt.fromJSON(this.name,Xp);re("string"==typeof up,c,"internal-error"),$n(Er,c.name),$n($o,c.name),re("boolean"==typeof wf,c,"internal-error"),re("boolean"==typeof nm,c,"internal-error"),$n(Bl,c.name),$n(wu,c.name),$n(Dl,c.name),$n(kh,c.name),$n(Cu,c.name),$n(Yp,c.name);const Jp=new qn({uid:up,auth:c,email:$o,emailVerified:wf,displayName:Er,isAnonymous:nm,photoURL:wu,phoneNumber:Bl,tenantId:Dl,stsTokenManager:dp,createdAt:Cu,lastLoginAt:Yp});return cp&&Array.isArray(cp)&&(Jp.providerData=cp.map(rm=>Object.assign({},rm))),kh&&(Jp._redirectEventId=kh),Jp}static _fromIdTokenResponse(c,p,D=!1){return(0,V.A)(function*(){const Q=new rt;Q.updateFromServerResponse(p);const ne=new qn({uid:p.localId,auth:c,stsTokenManager:Q,isAnonymous:D});return yield Ro(ne),ne})()}static _fromGetAccountInfoResponse(c,p,D){return(0,V.A)(function*(){const Q=p.users[0];re(void 0!==Q.localId,"internal-error");const ne=void 0!==Q.providerUserInfo?Ll(Q.providerUserInfo):[],et=!(Q.email&&Q.passwordHash||null!=ne&&ne.length),bt=new rt;bt.updateFromIdToken(D);const tn=new qn({uid:Q.localId,auth:c,stsTokenManager:bt,isAnonymous:et}),Zn={uid:Q.localId,displayName:Q.displayName||null,photoURL:Q.photoUrl||null,email:Q.email||null,emailVerified:Q.emailVerified||!1,phoneNumber:Q.phoneNumber||null,tenantId:Q.tenantId||null,providerData:ne,metadata:new Pa(Q.createdAt,Q.lastLoginAt),isAnonymous:!(Q.email&&Q.passwordHash||null!=ne&&ne.length)};return Object.assign(tn,Zn),tn})()}}const $r=new Map;function mo(E){lt(E instanceof Function,"Expected a class definition");let c=$r.get(E);return c?(lt(c instanceof E,"Instance stored in cache mismatched with class"),c):(c=new E,$r.set(E,c),c)}const Zo=(()=>{class E{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,V.A)(function*(){return!0})()}_set(p,D){var Q=this;return(0,V.A)(function*(){Q.storage[p]=D})()}_get(p){var D=this;return(0,V.A)(function*(){const Q=D.storage[p];return void 0===Q?null:Q})()}_remove(p){var D=this;return(0,V.A)(function*(){delete D.storage[p]})()}_addListener(p,D){}_removeListener(p,D){}}return E.type="NONE",E})();function Ci(E,c,p){return`firebase:${E}:${c}:${p}`}class hn{constructor(c,p,D){this.persistence=c,this.auth=p,this.userKey=D;const{config:Q,name:ne}=this.auth;this.fullUserKey=Ci(this.userKey,Q.apiKey,ne),this.fullPersistenceKey=Ci("persistence",Q.apiKey,ne),this.boundEventHandler=p._onStorageEvent.bind(p),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(c){return this.persistence._set(this.fullUserKey,c.toJSON())}getCurrentUser(){var c=this;return(0,V.A)(function*(){const p=yield c.persistence._get(c.fullUserKey);return p?qn._fromJSON(c.auth,p):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(c){var p=this;return(0,V.A)(function*(){if(p.persistence===c)return;const D=yield p.getCurrentUser();return yield p.removeCurrentUser(),p.persistence=c,D?p.setCurrentUser(D):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(c,p,D="authUser"){return(0,V.A)(function*(){if(!p.length)return new hn(mo(Zo),c,D);const Q=(yield Promise.all(p.map(function(){var Zn=(0,V.A)(function*(Nn){if(yield Nn._isAvailable())return Nn});return function(Nn){return Zn.apply(this,arguments)}}()))).filter(Zn=>Zn);let ne=Q[0]||mo(Zo);const et=Ci(D,c.config.apiKey,c.name);let bt=null;for(const Zn of p)try{const Nn=yield Zn._get(et);if(Nn){const Er=qn._fromJSON(c,Nn);Zn!==ne&&(bt=Er),ne=Zn;break}}catch{}const tn=Q.filter(Zn=>Zn._shouldAllowMigration);return ne._shouldAllowMigration&&tn.length?(ne=tn[0],bt&&(yield ne._set(et,bt.toJSON())),yield Promise.all(p.map(function(){var Zn=(0,V.A)(function*(Nn){if(Nn!==ne)try{yield Nn._remove(et)}catch{}});return function(Nn){return Zn.apply(this,arguments)}}())),new hn(ne,c,D)):new hn(ne,c,D)})()}}function ha(E){const c=E.toLowerCase();if(c.includes("opera/")||c.includes("opr/")||c.includes("opios/"))return"Opera";if(NA(c))return"IEMobile";if(c.includes("msie")||c.includes("trident/"))return"IE";if(c.includes("edge/"))return"Edge";if(Na(c))return"Firefox";if(c.includes("silk/"))return"Silk";if(fa(c))return"Blackberry";if(Ma(c))return"Webos";if(Jl(c))return"Safari";if((c.includes("chrome/")||pd(c))&&!c.includes("edge/"))return"Chrome";if(Pu(c))return"Android";{const D=E.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==D?void 0:D.length))return D[1]}return"Other"}function Na(E=(0,tt.ZQ)()){return/firefox\//i.test(E)}function Jl(E=(0,tt.ZQ)()){const c=E.toLowerCase();return c.includes("safari/")&&!c.includes("chrome/")&&!c.includes("crios/")&&!c.includes("android")}function pd(E=(0,tt.ZQ)()){return/crios\//i.test(E)}function NA(E=(0,tt.ZQ)()){return/iemobile/i.test(E)}function Pu(E=(0,tt.ZQ)()){return/android/i.test(E)}function fa(E=(0,tt.ZQ)()){return/blackberry/i.test(E)}function Ma(E=(0,tt.ZQ)()){return/webos/i.test(E)}function Dt(E=(0,tt.ZQ)()){return/iphone|ipad|ipod/i.test(E)||/macintosh/i.test(E)&&/mobile/i.test(E)}function br(E=(0,tt.ZQ)()){return Dt(E)||Pu(E)||Ma(E)||fa(E)||/windows phone/i.test(E)||NA(E)}function ar(E,c=[]){let p;switch(E){case"Browser":p=ha((0,tt.ZQ)());break;case"Worker":p=`${ha((0,tt.ZQ)())}-${E}`;break;default:p=E}const D=c.length?c.join(","):"FirebaseCore-web";return`${p}/JsCore/${Mt.SDK_VERSION}/${D}`}class Fi{constructor(c){this.auth=c,this.queue=[]}pushCallback(c,p){const D=ne=>new Promise((et,bt)=>{try{et(c(ne))}catch(tn){bt(tn)}});D.onAbort=p,this.queue.push(D);const Q=this.queue.length-1;return()=>{this.queue[Q]=()=>Promise.resolve()}}runMiddleware(c){var p=this;return(0,V.A)(function*(){if(p.auth.currentUser===c)return;const D=[];try{for(const Q of p.queue)yield Q(c),Q.onAbort&&D.push(Q.onAbort)}catch(Q){D.reverse();for(const ne of D)try{ne()}catch{}throw p.auth._errorFactory.create("login-blocked",{originalMessage:null==Q?void 0:Q.message})}})()}}function Jr(){return(Jr=(0,V.A)(function*(E,c={}){return rn(E,"GET","/v2/passwordPolicy",qe(E,c))})).apply(this,arguments)}class Gr{constructor(c){var p,D,Q,ne;const et=c.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(p=et.minPasswordLength)&&void 0!==p?p:6,et.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=et.maxPasswordLength),void 0!==et.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=et.containsLowercaseCharacter),void 0!==et.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=et.containsUppercaseCharacter),void 0!==et.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=et.containsNumericCharacter),void 0!==et.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=et.containsNonAlphanumericCharacter),this.enforcementState=c.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(Q=null===(D=c.allowedNonAlphanumericCharacters)||void 0===D?void 0:D.join(""))&&void 0!==Q?Q:"",this.forceUpgradeOnSignin=null!==(ne=c.forceUpgradeOnSignin)&&void 0!==ne&&ne,this.schemaVersion=c.schemaVersion}validatePassword(c){var p,D,Q,ne,et,bt;const tn={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(c,tn),this.validatePasswordCharacterOptions(c,tn),tn.isValid&&(tn.isValid=null===(p=tn.meetsMinPasswordLength)||void 0===p||p),tn.isValid&&(tn.isValid=null===(D=tn.meetsMaxPasswordLength)||void 0===D||D),tn.isValid&&(tn.isValid=null===(Q=tn.containsLowercaseLetter)||void 0===Q||Q),tn.isValid&&(tn.isValid=null===(ne=tn.containsUppercaseLetter)||void 0===ne||ne),tn.isValid&&(tn.isValid=null===(et=tn.containsNumericCharacter)||void 0===et||et),tn.isValid&&(tn.isValid=null===(bt=tn.containsNonAlphanumericCharacter)||void 0===bt||bt),tn}validatePasswordLengthOptions(c,p){const D=this.customStrengthOptions.minPasswordLength,Q=this.customStrengthOptions.maxPasswordLength;D&&(p.meetsMinPasswordLength=c.length>=D),Q&&(p.meetsMaxPasswordLength=c.length<=Q)}validatePasswordCharacterOptions(c,p){let D;this.updatePasswordCharacterOptionsStatuses(p,!1,!1,!1,!1);for(let Q=0;Q<c.length;Q++)D=c.charAt(Q),this.updatePasswordCharacterOptionsStatuses(p,D>="a"&&D<="z",D>="A"&&D<="Z",D>="0"&&D<="9",this.allowedNonAlphanumericCharacters.includes(D))}updatePasswordCharacterOptionsStatuses(c,p,D,Q,ne){this.customStrengthOptions.containsLowercaseLetter&&(c.containsLowercaseLetter||(c.containsLowercaseLetter=p)),this.customStrengthOptions.containsUppercaseLetter&&(c.containsUppercaseLetter||(c.containsUppercaseLetter=D)),this.customStrengthOptions.containsNumericCharacter&&(c.containsNumericCharacter||(c.containsNumericCharacter=Q)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(c.containsNonAlphanumericCharacter||(c.containsNonAlphanumericCharacter=ne))}}class Ao{constructor(c,p,D,Q){this.app=c,this.heartbeatServiceProvider=p,this.appCheckServiceProvider=D,this.config=Q,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Zl(this),this.idTokenSubscription=new Zl(this),this.beforeStateQueue=new Fi(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ge,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=c.name,this.clientVersion=Q.sdkClientVersion}_initializeWithPersistence(c,p){var D=this;return p&&(this._popupRedirectResolver=mo(p)),this._initializationPromise=this.queue((0,V.A)(function*(){var Q,ne;if(!D._deleted&&(D.persistenceManager=yield hn.create(D,c),!D._deleted)){if(null!==(Q=D._popupRedirectResolver)&&void 0!==Q&&Q._shouldInitProactively)try{yield D._popupRedirectResolver._initialize(D)}catch{}yield D.initializeCurrentUser(p),D.lastNotifiedUid=(null===(ne=D.currentUser)||void 0===ne?void 0:ne.uid)||null,!D._deleted&&(D._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var c=this;return(0,V.A)(function*(){if(c._deleted)return;const p=yield c.assertedPersistence.getCurrentUser();if(c.currentUser||p){if(c.currentUser&&p&&c.currentUser.uid===p.uid)return c._currentUser._assign(p),void(yield c.currentUser.getIdToken());yield c._updateCurrentUser(p,!0)}})()}initializeCurrentUserFromIdToken(c){var p=this;return(0,V.A)(function*(){try{const D=yield Bs(p,{idToken:c}),Q=yield qn._fromGetAccountInfoResponse(p,D,c);yield p.directlySetCurrentUser(Q)}catch(D){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",D),yield p.directlySetCurrentUser(null)}})()}initializeCurrentUser(c){var p=this;return(0,V.A)(function*(){var D;if((0,Mt._isFirebaseServerApp)(p.app)){const bt=p.app.settings.authIdToken;return bt?new Promise(tn=>{setTimeout(()=>p.initializeCurrentUserFromIdToken(bt).then(tn,tn))}):p.directlySetCurrentUser(null)}const Q=yield p.assertedPersistence.getCurrentUser();let ne=Q,et=!1;if(c&&p.config.authDomain){yield p.getOrInitRedirectPersistenceManager();const bt=null===(D=p.redirectUser)||void 0===D?void 0:D._redirectEventId,tn=null==ne?void 0:ne._redirectEventId,Zn=yield p.tryRedirectSignIn(c);(!bt||bt===tn)&&null!=Zn&&Zn.user&&(ne=Zn.user,et=!0)}if(!ne)return p.directlySetCurrentUser(null);if(!ne._redirectEventId){if(et)try{yield p.beforeStateQueue.runMiddleware(ne)}catch(bt){ne=Q,p._popupRedirectResolver._overrideRedirectResult(p,()=>Promise.reject(bt))}return ne?p.reloadAndSetCurrentUserOrClear(ne):p.directlySetCurrentUser(null)}return re(p._popupRedirectResolver,p,"argument-error"),yield p.getOrInitRedirectPersistenceManager(),p.redirectUser&&p.redirectUser._redirectEventId===ne._redirectEventId?p.directlySetCurrentUser(ne):p.reloadAndSetCurrentUserOrClear(ne)})()}tryRedirectSignIn(c){var p=this;return(0,V.A)(function*(){let D=null;try{D=yield p._popupRedirectResolver._completeRedirectFn(p,c,!0)}catch{yield p._setRedirectUser(null)}return D})()}reloadAndSetCurrentUserOrClear(c){var p=this;return(0,V.A)(function*(){try{yield Ro(c)}catch(D){if("auth/network-request-failed"!==(null==D?void 0:D.code))return p.directlySetCurrentUser(null)}return p.directlySetCurrentUser(c)})()}useDeviceLanguage(){this.languageCode=function yt(){if(typeof navigator>"u")return null;const E=navigator;return E.languages&&E.languages[0]||E.language||null}()}_delete(){var c=this;return(0,V.A)(function*(){c._deleted=!0})()}updateCurrentUser(c){var p=this;return(0,V.A)(function*(){if((0,Mt._isFirebaseServerApp)(p.app))return Promise.reject(ie(p));const D=c?(0,tt.Ku)(c):null;return D&&re(D.auth.config.apiKey===p.config.apiKey,p,"invalid-user-token"),p._updateCurrentUser(D&&D._clone(p))})()}_updateCurrentUser(c,p=!1){var D=this;return(0,V.A)(function*(){if(!D._deleted)return c&&re(D.tenantId===c.tenantId,D,"tenant-id-mismatch"),p||(yield D.beforeStateQueue.runMiddleware(c)),D.queue((0,V.A)(function*(){yield D.directlySetCurrentUser(c),D.notifyAuthListeners()}))})()}signOut(){var c=this;return(0,V.A)(function*(){return(0,Mt._isFirebaseServerApp)(c.app)?Promise.reject(ie(c)):(yield c.beforeStateQueue.runMiddleware(null),(c.redirectPersistenceManager||c._popupRedirectResolver)&&(yield c._setRedirectUser(null)),c._updateCurrentUser(null,!0))})()}setPersistence(c){var p=this;return(0,Mt._isFirebaseServerApp)(this.app)?Promise.reject(ie(this)):this.queue((0,V.A)(function*(){yield p.assertedPersistence.setPersistence(mo(c))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(c){var p=this;return(0,V.A)(function*(){p._getPasswordPolicyInternal()||(yield p._updatePasswordPolicy());const D=p._getPasswordPolicyInternal();return D.schemaVersion!==p.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(p._errorFactory.create("unsupported-password-policy-schema-version",{})):D.validatePassword(c)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var c=this;return(0,V.A)(function*(){const p=yield function qo(E){return Jr.apply(this,arguments)}(c),D=new Gr(p);null===c.tenantId?c._projectPasswordPolicy=D:c._tenantPasswordPolicies[c.tenantId]=D})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(c){this._errorFactory=new tt.FA("auth","Firebase",c())}onAuthStateChanged(c,p,D){return this.registerStateListener(this.authStateSubscription,c,p,D)}beforeAuthStateChanged(c,p){return this.beforeStateQueue.pushCallback(c,p)}onIdTokenChanged(c,p,D){return this.registerStateListener(this.idTokenSubscription,c,p,D)}authStateReady(){return new Promise((c,p)=>{if(this.currentUser)c();else{const D=this.onAuthStateChanged(()=>{D(),c()},p)}})}revokeAccessToken(c){var p=this;return(0,V.A)(function*(){if(p.currentUser){const D=yield p.currentUser.getIdToken(),Q={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:c,idToken:D};null!=p.tenantId&&(Q.tenantId=p.tenantId),yield function dt(E,c){return dn.apply(this,arguments)}(p,Q)}})()}toJSON(){var c;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(c=this._currentUser)||void 0===c?void 0:c.toJSON()}}_setRedirectUser(c,p){var D=this;return(0,V.A)(function*(){const Q=yield D.getOrInitRedirectPersistenceManager(p);return null===c?Q.removeCurrentUser():Q.setCurrentUser(c)})()}getOrInitRedirectPersistenceManager(c){var p=this;return(0,V.A)(function*(){if(!p.redirectPersistenceManager){const D=c&&mo(c)||p._popupRedirectResolver;re(D,p,"argument-error"),p.redirectPersistenceManager=yield hn.create(p,[mo(D._redirectPersistence)],"redirectUser"),p.redirectUser=yield p.redirectPersistenceManager.getCurrentUser()}return p.redirectPersistenceManager})()}_redirectUserForId(c){var p=this;return(0,V.A)(function*(){var D,Q;return p._isInitialized&&(yield p.queue((0,V.A)(function*(){}))),(null===(D=p._currentUser)||void 0===D?void 0:D._redirectEventId)===c?p._currentUser:(null===(Q=p.redirectUser)||void 0===Q?void 0:Q._redirectEventId)===c?p.redirectUser:null})()}_persistUserIfCurrent(c){var p=this;return(0,V.A)(function*(){if(c===p.currentUser)return p.queue((0,V.A)(function*(){return p.directlySetCurrentUser(c)}))})()}_notifyListenersIfCurrent(c){c===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var c,p;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const D=null!==(p=null===(c=this.currentUser)||void 0===c?void 0:c.uid)&&void 0!==p?p:null;this.lastNotifiedUid!==D&&(this.lastNotifiedUid=D,this.authStateSubscription.next(this.currentUser))}registerStateListener(c,p,D,Q){if(this._deleted)return()=>{};const ne="function"==typeof p?p:p.next.bind(p);let et=!1;const bt=this._isInitialized?Promise.resolve():this._initializationPromise;if(re(bt,this,"internal-error"),bt.then(()=>{et||ne(this.currentUser)}),"function"==typeof p){const tn=c.addObserver(p,D,Q);return()=>{et=!0,tn()}}{const tn=c.addObserver(p);return()=>{et=!0,tn()}}}directlySetCurrentUser(c){var p=this;return(0,V.A)(function*(){p.currentUser&&p.currentUser!==c&&p._currentUser._stopProactiveRefresh(),c&&p.isProactiveRefreshEnabled&&c._startProactiveRefresh(),p.currentUser=c,c?yield p.assertedPersistence.setCurrentUser(c):yield p.assertedPersistence.removeCurrentUser()})()}queue(c){return this.operations=this.operations.then(c,c),this.operations}get assertedPersistence(){return re(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(c){!c||this.frameworks.includes(c)||(this.frameworks.push(c),this.frameworks.sort(),this.clientVersion=ar(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var c=this;return(0,V.A)(function*(){var p;const D={"X-Client-Version":c.clientVersion};c.app.options.appId&&(D["X-Firebase-gmpid"]=c.app.options.appId);const Q=yield null===(p=c.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===p?void 0:p.getHeartbeatsHeader();Q&&(D["X-Firebase-Client"]=Q);const ne=yield c._getAppCheckToken();return ne&&(D["X-Firebase-AppCheck"]=ne),D})()}_getAppCheckToken(){var c=this;return(0,V.A)(function*(){var p;const D=yield null===(p=c.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===p?void 0:p.getToken();return null!=D&&D.error&&function Me(E,...c){ce.logLevel<=Tn.$b.WARN&&ce.warn(`Auth (${Mt.SDK_VERSION}): ${E}`,...c)}(`Error while retrieving App Check token: ${D.error}`),null==D?void 0:D.token})()}}function So(E){return(0,tt.Ku)(E)}class Zl{constructor(c){this.auth=c,this.observer=null,this.addObserver=(0,tt.tD)(p=>this.observer=p)}get next(){return re(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Si={loadJS:()=>(0,V.A)(function*(){throw new Error("Unable to load external scripts")})(),recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function vl(E){return Si.loadJS(E)}function Nu(E){return`__${E}${Math.floor(1e6*Math.random())}`}class Nt{constructor(c){this.type="recaptcha-enterprise",this.auth=So(c)}verify(c="verify",p=!1){var D=this;return(0,V.A)(function*(){function ne(){return ne=(0,V.A)(function*(bt){if(!p){if(null==bt.tenantId&&null!=bt._agentRecaptchaConfig)return bt._agentRecaptchaConfig.siteKey;if(null!=bt.tenantId&&void 0!==bt._tenantRecaptchaConfigs[bt.tenantId])return bt._tenantRecaptchaConfigs[bt.tenantId].siteKey}return new Promise(function(){var tn=(0,V.A)(function*(Zn,Nn){vi(bt,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(Er=>{if(void 0!==Er.recaptchaKey){const $o=new tr(Er);return null==bt.tenantId?bt._agentRecaptchaConfig=$o:bt._tenantRecaptchaConfigs[bt.tenantId]=$o,Zn($o.siteKey)}Nn(new Error("recaptcha Enterprise site key undefined"))}).catch(Er=>{Nn(Er)})});return function(Zn,Nn){return tn.apply(this,arguments)}}())}),ne.apply(this,arguments)}function et(bt,tn,Zn){const Nn=window.grecaptcha;Xt(Nn)?Nn.enterprise.ready(()=>{Nn.enterprise.execute(bt,{action:c}).then(Er=>{tn(Er)}).catch(()=>{tn("NO_RECAPTCHA")})}):Zn(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((bt,tn)=>{(function Q(bt){return ne.apply(this,arguments)})(D.auth).then(Zn=>{if(!p&&Xt(window.grecaptcha))et(Zn,bt,tn);else{if(typeof window>"u")return void tn(new Error("RecaptchaVerifier is only supported in browser"));let Nn=function Wd(){return Si.recaptchaEnterpriseScript}();0!==Nn.length&&(Nn+=Zn),vl(Nn).then(()=>{et(Zn,bt,tn)}).catch(Er=>{tn(Er)})}}).catch(Zn=>{tn(Zn)})})})()}}function K(E,c,p){return se.apply(this,arguments)}function se(){return(se=(0,V.A)(function*(E,c,p,D=!1){const Q=new Nt(E);let ne;try{ne=yield Q.verify(p)}catch{ne=yield Q.verify(p,!0)}const et=Object.assign({},c);return Object.assign(et,D?{captchaResp:ne}:{captchaResponse:ne}),Object.assign(et,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(et,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),et})).apply(this,arguments)}function it(E,c,p,D){return ht.apply(this,arguments)}function ht(){return ht=(0,V.A)(function*(E,c,p,D){var Q;if(null!==(Q=E._getRecaptchaConfig())&&void 0!==Q&&Q.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const ne=yield K(E,c,p,"getOobCode"===p);return D(E,ne)}return D(E,c).catch(function(){var ne=(0,V.A)(function*(et){if("auth/missing-recaptcha-token"===et.code){console.log(`${p} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const bt=yield K(E,c,p,"getOobCode"===p);return D(E,bt)}return Promise.reject(et)});return function(et){return ne.apply(this,arguments)}}())}),ht.apply(this,arguments)}function Bn(E){const c=E.indexOf(":");return c<0?"":E.substr(0,c+1)}function dr(E){if(!E)return null;const c=Number(E);return isNaN(c)?null:c}class Cn{constructor(c,p){this.providerId=c,this.signInMethod=p}toJSON(){return Ze("not implemented")}_getIdTokenResponse(c){return Ze("not implemented")}_linkToIdToken(c,p){return Ze("not implemented")}_getReauthenticationResolver(c){return Ze("not implemented")}}function Po(E,c){return Yi.apply(this,arguments)}function Yi(){return(Yi=(0,V.A)(function*(E,c){return rn(E,"POST","/v1/accounts:resetPassword",qe(E,c))})).apply(this,arguments)}function es(){return(es=(0,V.A)(function*(E,c){return rn(E,"POST","/v1/accounts:update",c)})).apply(this,arguments)}function qr(E,c){return Xi.apply(this,arguments)}function Xi(){return(Xi=(0,V.A)(function*(E,c){return rn(E,"POST","/v1/accounts:signUp",c)})).apply(this,arguments)}function Za(){return(Za=(0,V.A)(function*(E,c){return rn(E,"POST","/v1/accounts:update",qe(E,c))})).apply(this,arguments)}function yl(E,c){return ci.apply(this,arguments)}function ci(){return(ci=(0,V.A)(function*(E,c){return Sr(E,"POST","/v1/accounts:signInWithPassword",qe(E,c))})).apply(this,arguments)}function Mu(E,c){return Un.apply(this,arguments)}function Un(){return(Un=(0,V.A)(function*(E,c){return rn(E,"POST","/v1/accounts:sendOobCode",qe(E,c))})).apply(this,arguments)}function el(){return(el=(0,V.A)(function*(E,c){return Mu(E,c)})).apply(this,arguments)}function ep(E,c){return MA.apply(this,arguments)}function MA(){return(MA=(0,V.A)(function*(E,c){return Mu(E,c)})).apply(this,arguments)}function em(E,c){return cs.apply(this,arguments)}function cs(){return(cs=(0,V.A)(function*(E,c){return Mu(E,c)})).apply(this,arguments)}function Fs(){return(Fs=(0,V.A)(function*(E,c){return Mu(E,c)})).apply(this,arguments)}function Up(){return(Up=(0,V.A)(function*(E,c){return Sr(E,"POST","/v1/accounts:signInWithEmailLink",qe(E,c))})).apply(this,arguments)}function uc(){return(uc=(0,V.A)(function*(E,c){return Sr(E,"POST","/v1/accounts:signInWithEmailLink",qe(E,c))})).apply(this,arguments)}class Kd extends Cn{constructor(c,p,D,Q=null){super("password",D),this._email=c,this._password=p,this._tenantId=Q}static _fromEmailAndPassword(c,p){return new Kd(c,p,"password")}static _fromEmailAndCode(c,p,D=null){return new Kd(c,p,"emailLink",D)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(c){const p="string"==typeof c?JSON.parse(c):c;if(null!=p&&p.email&&null!=p&&p.password){if("password"===p.signInMethod)return this._fromEmailAndPassword(p.email,p.password);if("emailLink"===p.signInMethod)return this._fromEmailAndCode(p.email,p.password,p.tenantId)}return null}_getIdTokenResponse(c){var p=this;return(0,V.A)(function*(){switch(p.signInMethod){case"password":return it(c,{returnSecureToken:!0,email:p._email,password:p._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",yl);case"emailLink":return function ph(E,c){return Up.apply(this,arguments)}(c,{email:p._email,oobCode:p._password});default:Re(c,"internal-error")}})()}_linkToIdToken(c,p){var D=this;return(0,V.A)(function*(){switch(D.signInMethod){case"password":return it(c,{idToken:p,returnSecureToken:!0,email:D._email,password:D._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",qr);case"emailLink":return function gh(E,c){return uc.apply(this,arguments)}(c,{idToken:p,email:D._email,oobCode:D._password});default:Re(c,"internal-error")}})()}_getReauthenticationResolver(c){return this._getIdTokenResponse(c)}}function _l(E,c){return qd.apply(this,arguments)}function qd(){return(qd=(0,V.A)(function*(E,c){return Sr(E,"POST","/v1/accounts:signInWithIdp",qe(E,c))})).apply(this,arguments)}class tl extends Cn{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(c){const p=new tl(c.providerId,c.signInMethod);return c.idToken||c.accessToken?(c.idToken&&(p.idToken=c.idToken),c.accessToken&&(p.accessToken=c.accessToken),c.nonce&&!c.pendingToken&&(p.nonce=c.nonce),c.pendingToken&&(p.pendingToken=c.pendingToken)):c.oauthToken&&c.oauthTokenSecret?(p.accessToken=c.oauthToken,p.secret=c.oauthTokenSecret):Re("argument-error"),p}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(c){const p="string"==typeof c?JSON.parse(c):c,{providerId:D,signInMethod:Q}=p,ne=(0,Ut.Tt)(p,["providerId","signInMethod"]);if(!D||!Q)return null;const et=new tl(D,Q);return et.idToken=ne.idToken||void 0,et.accessToken=ne.accessToken||void 0,et.secret=ne.secret,et.nonce=ne.nonce,et.pendingToken=ne.pendingToken||null,et}_getIdTokenResponse(c){return _l(c,this.buildRequest())}_linkToIdToken(c,p){const D=this.buildRequest();return D.idToken=p,_l(c,D)}_getReauthenticationResolver(c){const p=this.buildRequest();return p.autoCreate=!1,_l(c,p)}buildRequest(){const c={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)c.pendingToken=this.pendingToken;else{const p={};this.idToken&&(p.id_token=this.idToken),this.accessToken&&(p.access_token=this.accessToken),this.secret&&(p.oauth_token_secret=this.secret),p.providerId=this.providerId,this.nonce&&!this.pendingToken&&(p.nonce=this.nonce),c.postBody=(0,tt.Am)(p)}return c}}function jr(){return(jr=(0,V.A)(function*(E,c){return rn(E,"POST","/v1/accounts:sendVerificationCode",qe(E,c))})).apply(this,arguments)}function tp(){return(tp=(0,V.A)(function*(E,c){return Sr(E,"POST","/v1/accounts:signInWithPhoneNumber",qe(E,c))})).apply(this,arguments)}function Lc(){return(Lc=(0,V.A)(function*(E,c){const p=yield Sr(E,"POST","/v1/accounts:signInWithPhoneNumber",qe(E,c));if(p.temporaryProof)throw en(E,"account-exists-with-different-credential",p);return p})).apply(this,arguments)}const LA={USER_NOT_FOUND:"user-not-found"};function Oc(){return(Oc=(0,V.A)(function*(E,c){return Sr(E,"POST","/v1/accounts:signInWithPhoneNumber",qe(E,Object.assign(Object.assign({},c),{operation:"REAUTH"})),LA)})).apply(this,arguments)}class Hr extends Cn{constructor(c){super("phone","phone"),this.params=c}static _fromVerification(c,p){return new Hr({verificationId:c,verificationCode:p})}static _fromTokenResponse(c,p){return new Hr({phoneNumber:c,temporaryProof:p})}_getIdTokenResponse(c){return function lo(E,c){return tp.apply(this,arguments)}(c,this._makeVerificationRequest())}_linkToIdToken(c,p){return function Ou(E,c){return Lc.apply(this,arguments)}(c,Object.assign({idToken:p},this._makeVerificationRequest()))}_getReauthenticationResolver(c){return function Yd(E,c){return Oc.apply(this,arguments)}(c,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:c,phoneNumber:p,verificationId:D,verificationCode:Q}=this.params;return c&&p?{temporaryProof:c,phoneNumber:p}:{sessionInfo:D,code:Q}}toJSON(){const c={providerId:this.providerId};return this.params.phoneNumber&&(c.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(c.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(c.verificationCode=this.params.verificationCode),this.params.verificationId&&(c.verificationId=this.params.verificationId),c}static fromJSON(c){"string"==typeof c&&(c=JSON.parse(c));const{verificationId:p,verificationCode:D,phoneNumber:Q,temporaryProof:ne}=c;return D||p||Q||ne?new Hr({verificationId:p,verificationCode:D,phoneNumber:Q,temporaryProof:ne}):null}}class Ls{constructor(c){var p,D,Q,ne,et,bt;const tn=(0,tt.I9)((0,tt.hp)(c)),Zn=null!==(p=tn.apiKey)&&void 0!==p?p:null,Nn=null!==(D=tn.oobCode)&&void 0!==D?D:null,Er=function Xd(E){switch(E){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(Q=tn.mode)&&void 0!==Q?Q:null);re(Zn&&Nn&&Er,"argument-error"),this.apiKey=Zn,this.operation=Er,this.code=Nn,this.continueUrl=null!==(ne=tn.continueUrl)&&void 0!==ne?ne:null,this.languageCode=null!==(et=tn.languageCode)&&void 0!==et?et:null,this.tenantId=null!==(bt=tn.tenantId)&&void 0!==bt?bt:null}static parseLink(c){const p=function md(E){const c=(0,tt.I9)((0,tt.hp)(E)).link,p=c?(0,tt.I9)((0,tt.hp)(c)).deep_link_id:null,D=(0,tt.I9)((0,tt.hp)(E)).deep_link_id;return(D?(0,tt.I9)((0,tt.hp)(D)).link:null)||D||p||c||E}(c);try{return new Ls(p)}catch{return null}}}let Uc=(()=>{class E{constructor(){this.providerId=E.PROVIDER_ID}static credential(p,D){return Kd._fromEmailAndPassword(p,D)}static credentialWithLink(p,D){const Q=Ls.parseLink(D);return re(Q,"argument-error"),Kd._fromEmailAndCode(p,Q.code,Q.tenantId)}}return E.PROVIDER_ID="password",E.EMAIL_PASSWORD_SIGN_IN_METHOD="password",E.EMAIL_LINK_SIGN_IN_METHOD="emailLink",E})();class nl{constructor(c){this.providerId=c,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(c){this.defaultLanguageCode=c}setCustomParameters(c){return this.customParameters=c,this}getCustomParameters(){return this.customParameters}}class fr extends nl{constructor(){super(...arguments),this.scopes=[]}addScope(c){return this.scopes.includes(c)||this.scopes.push(c),this}getScopes(){return[...this.scopes]}}class vd extends fr{static credentialFromJSON(c){const p="string"==typeof c?JSON.parse(c):c;return re("providerId"in p&&"signInMethod"in p,"argument-error"),tl._fromParams(p)}credential(c){return this._credential(Object.assign(Object.assign({},c),{nonce:c.rawNonce}))}_credential(c){return re(c.idToken||c.accessToken,"argument-error"),tl._fromParams(Object.assign(Object.assign({},c),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(c){return vd.oauthCredentialFromTaggedObject(c)}static credentialFromError(c){return vd.oauthCredentialFromTaggedObject(c.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:c}){if(!c)return null;const{oauthIdToken:p,oauthAccessToken:D,oauthTokenSecret:Q,pendingToken:ne,nonce:et,providerId:bt}=c;if(!D&&!Q&&!p&&!ne||!bt)return null;try{return new vd(bt)._credential({idToken:p,accessToken:D,nonce:et,pendingToken:ne})}catch{return null}}}let vh=(()=>{class E extends fr{constructor(){super("facebook.com")}static credential(p){return tl._fromParams({providerId:E.PROVIDER_ID,signInMethod:E.FACEBOOK_SIGN_IN_METHOD,accessToken:p})}static credentialFromResult(p){return E.credentialFromTaggedObject(p)}static credentialFromError(p){return E.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p||!("oauthAccessToken"in p)||!p.oauthAccessToken)return null;try{return E.credential(p.oauthAccessToken)}catch{return null}}}return E.FACEBOOK_SIGN_IN_METHOD="facebook.com",E.PROVIDER_ID="facebook.com",E})(),np=(()=>{class E extends fr{constructor(){super("google.com"),this.addScope("profile")}static credential(p,D){return tl._fromParams({providerId:E.PROVIDER_ID,signInMethod:E.GOOGLE_SIGN_IN_METHOD,idToken:p,accessToken:D})}static credentialFromResult(p){return E.credentialFromTaggedObject(p)}static credentialFromError(p){return E.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:D,oauthAccessToken:Q}=p;if(!D&&!Q)return null;try{return E.credential(D,Q)}catch{return null}}}return E.GOOGLE_SIGN_IN_METHOD="google.com",E.PROVIDER_ID="google.com",E})(),rp=(()=>{class E extends fr{constructor(){super("github.com")}static credential(p){return tl._fromParams({providerId:E.PROVIDER_ID,signInMethod:E.GITHUB_SIGN_IN_METHOD,accessToken:p})}static credentialFromResult(p){return E.credentialFromTaggedObject(p)}static credentialFromError(p){return E.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p||!("oauthAccessToken"in p)||!p.oauthAccessToken)return null;try{return E.credential(p.oauthAccessToken)}catch{return null}}}return E.GITHUB_SIGN_IN_METHOD="github.com",E.PROVIDER_ID="github.com",E})();class Vc extends Cn{constructor(c,p){super(c,c),this.pendingToken=p}_getIdTokenResponse(c){return _l(c,this.buildRequest())}_linkToIdToken(c,p){const D=this.buildRequest();return D.idToken=p,_l(c,D)}_getReauthenticationResolver(c){const p=this.buildRequest();return p.autoCreate=!1,_l(c,p)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(c){const p="string"==typeof c?JSON.parse(c):c,{providerId:D,signInMethod:Q,pendingToken:ne}=p;return D&&Q&&ne&&D===Q?new Vc(D,ne):null}static _create(c,p){return new Vc(c,p)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class OA extends nl{constructor(c){re(c.startsWith("saml."),"argument-error"),super(c)}static credentialFromResult(c){return OA.samlCredentialFromTaggedObject(c)}static credentialFromError(c){return OA.samlCredentialFromTaggedObject(c.customData||{})}static credentialFromJSON(c){const p=Vc.fromJSON(c);return re(p,"argument-error"),p}static samlCredentialFromTaggedObject({_tokenResponse:c}){if(!c)return null;const{pendingToken:p,providerId:D}=c;if(!p||!D)return null;try{return Vc._create(D,p)}catch{return null}}}let eu=(()=>{class E extends fr{constructor(){super("twitter.com")}static credential(p,D){return tl._fromParams({providerId:E.PROVIDER_ID,signInMethod:E.TWITTER_SIGN_IN_METHOD,oauthToken:p,oauthTokenSecret:D})}static credentialFromResult(p){return E.credentialFromTaggedObject(p)}static credentialFromError(p){return E.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthAccessToken:D,oauthTokenSecret:Q}=p;if(!D||!Q)return null;try{return E.credential(D,Q)}catch{return null}}}return E.TWITTER_SIGN_IN_METHOD="twitter.com",E.PROVIDER_ID="twitter.com",E})();function tf(E,c){return Ln.apply(this,arguments)}function Ln(){return(Ln=(0,V.A)(function*(E,c){return Sr(E,"POST","/v1/accounts:signUp",qe(E,c))})).apply(this,arguments)}class ta{constructor(c){this.user=c.user,this.providerId=c.providerId,this._tokenResponse=c._tokenResponse,this.operationType=c.operationType}static _fromIdTokenResponse(c,p,D,Q=!1){return(0,V.A)(function*(){const ne=yield qn._fromIdTokenResponse(c,D,Q),et=sn(D);return new ta({user:ne,providerId:et,_tokenResponse:D,operationType:p})})()}static _forOperation(c,p,D){return(0,V.A)(function*(){yield c._updateTokensIfNecessary(D,!0);const Q=sn(D);return new ta({user:c,providerId:Q,_tokenResponse:D,operationType:p})})()}}function sn(E){return E.providerId?E.providerId:"phoneNumber"in E?"phone":null}function yd(){return(yd=(0,V.A)(function*(E){var c;if((0,Mt._isFirebaseServerApp)(E.app))return Promise.reject(ie(E));const p=So(E);if(yield p._initializationPromise,null!==(c=p.currentUser)&&void 0!==c&&c.isAnonymous)return new ta({user:p.currentUser,providerId:null,operationType:"signIn"});const D=yield tf(p,{returnSecureToken:!0}),Q=yield ta._fromIdTokenResponse(p,"signIn",D,!0);return yield p._updateCurrentUser(Q.user),Q})).apply(this,arguments)}class Qc extends tt.g{constructor(c,p,D,Q){var ne;super(p.code,p.message),this.operationType=D,this.user=Q,Object.setPrototypeOf(this,Qc.prototype),this.customData={appName:c.name,tenantId:null!==(ne=c.tenantId)&&void 0!==ne?ne:void 0,_serverResponse:p.customData._serverResponse,operationType:D}}static _fromErrorAndOperation(c,p,D,Q){return new Qc(c,p,D,Q)}}function Zd(E,c,p,D){return("reauthenticate"===c?p._getReauthenticationResolver(E):p._getIdTokenResponse(E)).catch(ne=>{throw"auth/multi-factor-auth-required"===ne.code?Qc._fromErrorAndOperation(E,ne,c,D):ne})}function wl(E){return new Set(E.map(({providerId:c})=>c).filter(c=>!!c))}function Uu(){return Uu=(0,V.A)(function*(E,c){const p=(0,tt.Ku)(E);yield ts(!0,p,c);const{providerUserInfo:D}=yield function qi(E,c){return ys.apply(this,arguments)}(p.auth,{idToken:yield p.getIdToken(),deleteProvider:[c]}),Q=wl(D||[]);return p.providerData=p.providerData.filter(ne=>Q.has(ne.providerId)),Q.has("phone")||(p.phoneNumber=null),yield p.auth._persistUserIfCurrent(p),p}),Uu.apply(this,arguments)}function Uo(E,c){return Hc.apply(this,arguments)}function Hc(){return(Hc=(0,V.A)(function*(E,c,p=!1){const D=yield xs(E,c._linkToIdToken(E.auth,yield E.getIdToken()),p);return ta._forOperation(E,"link",D)})).apply(this,arguments)}function ts(E,c,p){return UA.apply(this,arguments)}function UA(){return(UA=(0,V.A)(function*(E,c,p){yield Ro(c);const Q=!1===E?"provider-already-linked":"no-such-provider";re(wl(c.providerData).has(p)===E,c.auth,Q)})).apply(this,arguments)}function La(E,c){return _d.apply(this,arguments)}function _d(){return(_d=(0,V.A)(function*(E,c,p=!1){const{auth:D}=E;if((0,Mt._isFirebaseServerApp)(D.app))return Promise.reject(ie(D));const Q="reauthenticate";try{const ne=yield xs(E,Zd(D,Q,c,E),p);re(ne.idToken,D,"internal-error");const et=Ja(ne.idToken);re(et,D,"internal-error");const{sub:bt}=et;return re(E.uid===bt,D,"user-mismatch"),ta._forOperation(E,Q,ne)}catch(ne){throw"auth/user-not-found"===(null==ne?void 0:ne.code)&&Re(D,"user-mismatch"),ne}})).apply(this,arguments)}function ki(E,c){return jc.apply(this,arguments)}function jc(){return(jc=(0,V.A)(function*(E,c,p=!1){if((0,Mt._isFirebaseServerApp)(E.app))return Promise.reject(ie(E));const D="signIn",Q=yield Zd(E,D,c),ne=yield ta._fromIdTokenResponse(E,D,Q);return p||(yield E._updateCurrentUser(ne.user)),ne})).apply(this,arguments)}function eA(E,c){return zc.apply(this,arguments)}function zc(){return(zc=(0,V.A)(function*(E,c){return ki(So(E),c)})).apply(this,arguments)}function Oa(E,c){return $c.apply(this,arguments)}function $c(){return($c=(0,V.A)(function*(E,c){const p=(0,tt.Ku)(E);return yield ts(!1,p,c.providerId),Uo(p,c)})).apply(this,arguments)}function tu(E,c){return nu.apply(this,arguments)}function nu(){return(nu=(0,V.A)(function*(E,c){return La((0,tt.Ku)(E),c)})).apply(this,arguments)}function ks(){return(ks=(0,V.A)(function*(E,c){return Sr(E,"POST","/v1/accounts:signInWithCustomToken",qe(E,c))})).apply(this,arguments)}function ds(){return ds=(0,V.A)(function*(E,c){if((0,Mt._isFirebaseServerApp)(E.app))return Promise.reject(ie(E));const p=So(E),D=yield function Vu(E,c){return ks.apply(this,arguments)}(p,{token:c,returnSecureToken:!0}),Q=yield ta._fromIdTokenResponse(p,"signIn",D);return yield p._updateCurrentUser(Q.user),Q}),ds.apply(this,arguments)}class ru{constructor(c,p){this.factorId=c,this.uid=p.mfaEnrollmentId,this.enrollmentTime=new Date(p.enrolledAt).toUTCString(),this.displayName=p.displayName}static _fromServerResponse(c,p){return"phoneInfo"in p?VA._fromServerResponse(c,p):"totpInfo"in p?Ol._fromServerResponse(c,p):Re(c,"internal-error")}}class VA extends ru{constructor(c){super("phone",c),this.phoneNumber=c.phoneInfo}static _fromServerResponse(c,p){return new VA(p)}}class Ol extends ru{constructor(c){super("totp",c)}static _fromServerResponse(c,p){return new Ol(p)}}function Qi(E,c,p){var D;re((null===(D=p.url)||void 0===D?void 0:D.length)>0,E,"invalid-continue-uri"),re(typeof p.dynamicLinkDomain>"u"||p.dynamicLinkDomain.length>0,E,"invalid-dynamic-link-domain"),c.continueUrl=p.url,c.dynamicLinkDomain=p.dynamicLinkDomain,c.canHandleCodeInApp=p.handleCodeInApp,p.iOS&&(re(p.iOS.bundleId.length>0,E,"missing-ios-bundle-id"),c.iOSBundleId=p.iOS.bundleId),p.android&&(re(p.android.packageName.length>0,E,"missing-android-pkg-name"),c.androidInstallApp=p.android.installApp,c.androidMinimumVersionCode=p.android.minimumVersion,c.androidPackageName=p.android.packageName)}function dc(E){return rf.apply(this,arguments)}function rf(){return(rf=(0,V.A)(function*(E){const c=So(E);c._getPasswordPolicyInternal()&&(yield c._updatePasswordPolicy())})).apply(this,arguments)}function Cl(){return(Cl=(0,V.A)(function*(E,c,p){const D=So(E),Q={requestType:"PASSWORD_RESET",email:c,clientType:"CLIENT_TYPE_WEB"};p&&Qi(D,Q,p),yield it(D,Q,"getOobCode",ep)})).apply(this,arguments)}function bl(){return bl=(0,V.A)(function*(E,c,p){yield Po((0,tt.Ku)(E),{oobCode:c,newPassword:p}).catch(function(){var D=(0,V.A)(function*(Q){throw"auth/password-does-not-meet-requirements"===Q.code&&dc(E),Q});return function(Q){return D.apply(this,arguments)}}())}),bl.apply(this,arguments)}function af(){return af=(0,V.A)(function*(E,c){yield function zs(E,c){return Za.apply(this,arguments)}((0,tt.Ku)(E),{oobCode:c})}),af.apply(this,arguments)}function lf(E,c){return uf.apply(this,arguments)}function uf(){return(uf=(0,V.A)(function*(E,c){const p=(0,tt.Ku)(E),D=yield Po(p,{oobCode:c}),Q=D.requestType;switch(re(Q,p,"internal-error"),Q){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":re(D.newEmail,p,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":re(D.mfaInfo,p,"internal-error");default:re(D.email,p,"internal-error")}let ne=null;return D.mfaInfo&&(ne=ru._fromServerResponse(So(p),D.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===D.requestType?D.newEmail:D.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===D.requestType?D.email:D.newEmail)||null,multiFactorInfo:ne},operation:Q}})).apply(this,arguments)}function wd(){return(wd=(0,V.A)(function*(E,c){const{data:p}=yield lf((0,tt.Ku)(E),c);return p.email})).apply(this,arguments)}function g(){return(g=(0,V.A)(function*(E,c,p){if((0,Mt._isFirebaseServerApp)(E.app))return Promise.reject(ie(E));const D=So(E),et=yield it(D,{returnSecureToken:!0,email:c,password:p,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",tf).catch(tn=>{throw"auth/password-does-not-meet-requirements"===tn.code&&dc(E),tn}),bt=yield ta._fromIdTokenResponse(D,"signIn",et);return yield D._updateCurrentUser(bt.user),bt})).apply(this,arguments)}function x(){return(x=(0,V.A)(function*(E,c,p){const D=So(E),Q={requestType:"EMAIL_SIGNIN",email:c,clientType:"CLIENT_TYPE_WEB"};(function ne(et,bt){re(bt.handleCodeInApp,D,"argument-error"),bt&&Qi(D,et,bt)})(Q,p),yield it(D,Q,"getOobCode",em)})).apply(this,arguments)}function M(){return(M=(0,V.A)(function*(E,c,p){if((0,Mt._isFirebaseServerApp)(E.app))return Promise.reject(ie(E));const D=(0,tt.Ku)(E),Q=Uc.credentialWithLink(c,p||Fe());return re(Q._tenantId===(D.tenantId||null),D,"tenant-id-mismatch"),eA(D,Q)})).apply(this,arguments)}function G(){return(G=(0,V.A)(function*(E,c){return rn(E,"POST","/v1/accounts:createAuthUri",qe(E,c))})).apply(this,arguments)}function ue(){return ue=(0,V.A)(function*(E,c){const D={identifier:c,continueUri:We()?Fe():"http://localhost"},{signinMethods:Q}=yield function L(E,c){return G.apply(this,arguments)}((0,tt.Ku)(E),D);return Q||[]}),ue.apply(this,arguments)}function j(){return j=(0,V.A)(function*(E,c){const p=(0,tt.Ku)(E),Q={requestType:"VERIFY_EMAIL",idToken:yield E.getIdToken()};c&&Qi(p.auth,Q,c);const{email:ne}=yield function ef(E,c){return el.apply(this,arguments)}(p.auth,Q);ne!==E.email&&(yield E.reload())}),j.apply(this,arguments)}function be(){return be=(0,V.A)(function*(E,c,p){const D=(0,tt.Ku)(E),ne={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield E.getIdToken(),newEmail:c};p&&Qi(D.auth,ne,p);const{email:et}=yield function io(E,c){return Fs.apply(this,arguments)}(D.auth,ne);et!==E.email&&(yield E.reload())}),be.apply(this,arguments)}function J(){return(J=(0,V.A)(function*(E,c){return rn(E,"POST","/v1/accounts:update",c)})).apply(this,arguments)}function gt(){return gt=(0,V.A)(function*(E,{displayName:c,photoURL:p}){if(void 0===c&&void 0===p)return;const D=(0,tt.Ku)(E),ne={idToken:yield D.getIdToken(),displayName:c,photoUrl:p,returnSecureToken:!0},et=yield xs(D,function ze(E,c){return J.apply(this,arguments)}(D.auth,ne));D.displayName=et.displayName||null,D.photoURL=et.photoUrl||null;const bt=D.providerData.find(({providerId:tn})=>"password"===tn);bt&&(bt.displayName=D.displayName,bt.photoURL=D.photoURL),yield D._updateTokensIfNecessary(et)}),gt.apply(this,arguments)}function St(E,c,p){return Bt.apply(this,arguments)}function Bt(){return Bt=(0,V.A)(function*(E,c,p){const{auth:D}=E,ne={idToken:yield E.getIdToken(),returnSecureToken:!0};c&&(ne.email=c),p&&(ne.password=p);const et=yield xs(E,function vo(E,c){return es.apply(this,arguments)}(D,ne));yield E._updateTokensIfNecessary(et,!0)}),Bt.apply(this,arguments)}class Zt{constructor(c,p,D={}){this.isNewUser=c,this.providerId=p,this.profile=D}}class on extends Zt{constructor(c,p,D,Q){super(c,p,D),this.username=Q}}class Be extends Zt{constructor(c,p){super(c,"facebook.com",p)}}class we extends on{constructor(c,p){super(c,"github.com",p,"string"==typeof(null==p?void 0:p.login)?null==p?void 0:p.login:null)}}class pt extends Zt{constructor(c,p){super(c,"google.com",p)}}class ct extends on{constructor(c,p,D){super(c,"twitter.com",p,D)}}function cn(E){const{user:c,_tokenResponse:p}=E;return c.isAnonymous&&!p?{providerId:null,isNewUser:!1,profile:null}:function Ne(E){var c,p;if(!E)return null;const{providerId:D}=E,Q=E.rawUserInfo?JSON.parse(E.rawUserInfo):{},ne=E.isNewUser||"identitytoolkit#SignupNewUserResponse"===E.kind;if(!D&&null!=E&&E.idToken){const et=null===(p=null===(c=Ja(E.idToken))||void 0===c?void 0:c.firebase)||void 0===p?void 0:p.sign_in_provider;if(et)return new Zt(ne,"anonymous"!==et&&"custom"!==et?et:null)}if(!D)return null;switch(D){case"facebook.com":return new Be(ne,Q);case"github.com":return new we(ne,Q);case"google.com":return new pt(ne,Q);case"twitter.com":return new ct(ne,Q,E.screenName||null);case"custom":case"anonymous":return new Zt(ne,null);default:return new Zt(ne,D,Q)}}(p)}class jt{constructor(c,p,D){this.type=c,this.credential=p,this.user=D}static _fromIdtoken(c,p){return new jt("enroll",c,p)}static _fromMfaPendingCredential(c){return new jt("signin",c)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(c){var p,D;if(null!=c&&c.multiFactorSession){if(null!==(p=c.multiFactorSession)&&void 0!==p&&p.pendingCredential)return jt._fromMfaPendingCredential(c.multiFactorSession.pendingCredential);if(null!==(D=c.multiFactorSession)&&void 0!==D&&D.idToken)return jt._fromIdtoken(c.multiFactorSession.idToken)}return null}}class Gn{constructor(c,p,D){this.session=c,this.hints=p,this.signInResolver=D}static _fromError(c,p){const D=So(c),Q=p.customData._serverResponse,ne=(Q.mfaInfo||[]).map(bt=>ru._fromServerResponse(D,bt));re(Q.mfaPendingCredential,D,"internal-error");const et=jt._fromMfaPendingCredential(Q.mfaPendingCredential);return new Gn(et,ne,function(){var bt=(0,V.A)(function*(tn){const Zn=yield tn._process(D,et);delete Q.mfaInfo,delete Q.mfaPendingCredential;const Nn=Object.assign(Object.assign({},Q),{idToken:Zn.idToken,refreshToken:Zn.refreshToken});switch(p.operationType){case"signIn":const Er=yield ta._fromIdTokenResponse(D,p.operationType,Nn);return yield D._updateCurrentUser(Er.user),Er;case"reauthenticate":return re(p.user,D,"internal-error"),ta._forOperation(p.user,p.operationType,Nn);default:Re(D,"internal-error")}});return function(tn){return bt.apply(this,arguments)}}())}resolveSignIn(c){var p=this;return(0,V.A)(function*(){return p.signInResolver(c)})()}}class ti{constructor(c){this.user=c,this.enrolledFactors=[],c._onReload(p=>{p.mfaInfo&&(this.enrolledFactors=p.mfaInfo.map(D=>ru._fromServerResponse(c.auth,D)))})}static _fromUser(c){return new ti(c)}getSession(){var c=this;return(0,V.A)(function*(){return jt._fromIdtoken(yield c.user.getIdToken(),c.user)})()}enroll(c,p){var D=this;return(0,V.A)(function*(){const Q=c,ne=yield D.getSession(),et=yield xs(D.user,Q._process(D.user.auth,ne,p));return yield D.user._updateTokensIfNecessary(et),D.user.reload()})()}unenroll(c){var p=this;return(0,V.A)(function*(){const D="string"==typeof c?c:c.uid,Q=yield p.user.getIdToken();try{const ne=yield xs(p.user,function je(E,c){return rn(E,"POST","/v2/accounts/mfaEnrollment:withdraw",qe(E,c))}(p.user.auth,{idToken:Q,mfaEnrollmentId:D}));p.enrolledFactors=p.enrolledFactors.filter(({uid:et})=>et!==D),yield p.user._updateTokensIfNecessary(ne),yield p.user.reload()}catch(ne){throw ne}})()}}const Ur=new WeakMap,Xn="__sak";class gr{constructor(c,p){this.storageRetriever=c,this.type=p}_isAvailable(){try{return this.storage?(this.storage.setItem(Xn,"1"),this.storage.removeItem(Xn),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(c,p){return this.storage.setItem(c,JSON.stringify(p)),Promise.resolve()}_get(c){const p=this.storage.getItem(c);return Promise.resolve(p?JSON.parse(p):null)}_remove(c){return this.storage.removeItem(c),Promise.resolve()}get storage(){return this.storageRetriever()}}const Ei=(()=>{class E extends gr{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(p,D)=>this.onStorageEvent(p,D),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function ir(){const E=(0,tt.ZQ)();return Jl(E)||Dt(E)}()&&function oi(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=br(),this._shouldAllowMigration=!0}forAllChangedKeys(p){for(const D of Object.keys(this.listeners)){const Q=this.storage.getItem(D),ne=this.localCache[D];Q!==ne&&p(D,ne,Q)}}onStorageEvent(p,D=!1){if(!p.key)return void this.forAllChangedKeys((bt,tn,Zn)=>{this.notifyListeners(bt,Zn)});const Q=p.key;if(D?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const bt=this.storage.getItem(Q);if(p.newValue!==bt)null!==p.newValue?this.storage.setItem(Q,p.newValue):this.storage.removeItem(Q);else if(this.localCache[Q]===p.newValue&&!D)return}const ne=()=>{const bt=this.storage.getItem(Q);!D&&this.localCache[Q]===bt||this.notifyListeners(Q,bt)},et=this.storage.getItem(Q);!function Yn(){return(0,tt.lT)()&&10===document.documentMode}()||et===p.newValue||p.newValue===p.oldValue?ne():setTimeout(ne,10)}notifyListeners(p,D){this.localCache[p]=D;const Q=this.listeners[p];if(Q)for(const ne of Array.from(Q))ne(D&&JSON.parse(D))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((p,D,Q)=>{this.onStorageEvent(new StorageEvent("storage",{key:p,oldValue:D,newValue:Q}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(p,D){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[p]||(this.listeners[p]=new Set,this.localCache[p]=this.storage.getItem(p)),this.listeners[p].add(D)}_removeListener(p,D){this.listeners[p]&&(this.listeners[p].delete(D),0===this.listeners[p].size&&delete this.listeners[p]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(p,D){var Q=()=>super._set,ne=this;return(0,V.A)(function*(){yield Q().call(ne,p,D),ne.localCache[p]=JSON.stringify(D)})()}_get(p){var D=()=>super._get,Q=this;return(0,V.A)(function*(){const ne=yield D().call(Q,p);return Q.localCache[p]=JSON.stringify(ne),ne})()}_remove(p){var D=()=>super._remove,Q=this;return(0,V.A)(function*(){yield D().call(Q,p),delete Q.localCache[p]})()}}return E.type="LOCAL",E})(),Ji=(()=>{class E extends gr{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(p,D){}_removeListener(p,D){}}return E.type="SESSION",E})();let Ti=(()=>{class E{constructor(p){this.eventTarget=p,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(p){const D=this.receivers.find(ne=>ne.isListeningto(p));if(D)return D;const Q=new E(p);return this.receivers.push(Q),Q}isListeningto(p){return this.eventTarget===p}handleEvent(p){var D=this;return(0,V.A)(function*(){const Q=p,{eventId:ne,eventType:et,data:bt}=Q.data,tn=D.handlersMap[et];if(null==tn||!tn.size)return;Q.ports[0].postMessage({status:"ack",eventId:ne,eventType:et});const Zn=Array.from(tn).map(function(){var Er=(0,V.A)(function*($o){return $o(Q.origin,bt)});return function($o){return Er.apply(this,arguments)}}()),Nn=yield function li(E){return Promise.all(E.map(function(){var c=(0,V.A)(function*(p){try{return{fulfilled:!0,value:yield p}}catch(D){return{fulfilled:!1,reason:D}}});return function(p){return c.apply(this,arguments)}}()))}(Zn);Q.ports[0].postMessage({status:"done",eventId:ne,eventType:et,response:Nn})})()}_subscribe(p,D){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[p]||(this.handlersMap[p]=new Set),this.handlersMap[p].add(D)}_unsubscribe(p,D){this.handlersMap[p]&&D&&this.handlersMap[p].delete(D),(!D||0===this.handlersMap[p].size)&&delete this.handlersMap[p],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return E.receivers=[],E})();function or(E="",c=10){let p="";for(let D=0;D<c;D++)p+=Math.floor(10*Math.random());return E+p}class Ua{constructor(c){this.target=c,this.handlers=new Set}removeMessageHandler(c){c.messageChannel&&(c.messageChannel.port1.removeEventListener("message",c.onMessage),c.messageChannel.port1.close()),this.handlers.delete(c)}_send(c,p,D=50){var Q=this;return(0,V.A)(function*(){const ne=typeof MessageChannel<"u"?new MessageChannel:null;if(!ne)throw new Error("connection_unavailable");let et,bt;return new Promise((tn,Zn)=>{const Nn=or("",20);ne.port1.start();const Er=setTimeout(()=>{Zn(new Error("unsupported_event"))},D);bt={messageChannel:ne,onMessage($o){const Bl=$o;if(Bl.data.eventId===Nn)switch(Bl.data.status){case"ack":clearTimeout(Er),et=setTimeout(()=>{Zn(new Error("timeout"))},3e3);break;case"done":clearTimeout(et),tn(Bl.data.response);break;default:clearTimeout(Er),clearTimeout(et),Zn(new Error("invalid_response"))}}},Q.handlers.add(bt),ne.port1.addEventListener("message",bt.onMessage),Q.target.postMessage({eventType:c,eventId:Nn,data:p},[ne.port2])}).finally(()=>{bt&&Q.removeMessageHandler(bt)})})()}}function Br(){return window}function No(){return typeof Br().WorkerGlobalScope<"u"&&"function"==typeof Br().importScripts}function su(){return(su=(0,V.A)(function*(){if(null==navigator||!navigator.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Is="firebaseLocalStorageDb",au="firebaseLocalStorage",As="fbase_key";class ni{constructor(c){this.request=c}toPromise(){return new Promise((c,p)=>{this.request.addEventListener("success",()=>{c(this.request.result)}),this.request.addEventListener("error",()=>{p(this.request.error)})})}}function Yr(E,c){return E.transaction([au],c?"readwrite":"readonly").objectStore(au)}function mr(){const E=indexedDB.open(Is,1);return new Promise((c,p)=>{E.addEventListener("error",()=>{p(E.error)}),E.addEventListener("upgradeneeded",()=>{const D=E.result;try{D.createObjectStore(au,{keyPath:As})}catch(Q){p(Q)}}),E.addEventListener("success",(0,V.A)(function*(){const D=E.result;D.objectStoreNames.contains(au)?c(D):(D.close(),yield function Vn(){const E=indexedDB.deleteDatabase(Is);return new ni(E).toPromise()}(),c(yield mr()))}))})}function uo(E,c,p){return Rs.apply(this,arguments)}function Rs(){return(Rs=(0,V.A)(function*(E,c,p){const D=Yr(E,!0).put({[As]:c,value:p});return new ni(D).toPromise()})).apply(this,arguments)}function ns(){return(ns=(0,V.A)(function*(E,c){const p=Yr(E,!1).get(c),D=yield new ni(p).toPromise();return void 0===D?null:D.value})).apply(this,arguments)}function Va(E,c){const p=Yr(E,!0).delete(c);return new ni(p).toPromise()}const Lr=(()=>{class E{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var p=this;return(0,V.A)(function*(){return p.db||(p.db=yield mr()),p.db})()}_withRetries(p){var D=this;return(0,V.A)(function*(){let Q=0;for(;;)try{const ne=yield D._openDb();return yield p(ne)}catch(ne){if(Q++>3)throw ne;D.db&&(D.db.close(),D.db=void 0)}})()}initializeServiceWorkerMessaging(){var p=this;return(0,V.A)(function*(){return No()?p.initializeReceiver():p.initializeSender()})()}initializeReceiver(){var p=this;return(0,V.A)(function*(){p.receiver=Ti._getInstance(function nA(){return No()?self:null}()),p.receiver._subscribe("keyChanged",function(){var D=(0,V.A)(function*(Q,ne){return{keyProcessed:(yield p._poll()).includes(ne.key)}});return function(Q,ne){return D.apply(this,arguments)}}()),p.receiver._subscribe("ping",function(){var D=(0,V.A)(function*(Q,ne){return["keyChanged"]});return function(Q,ne){return D.apply(this,arguments)}}())})()}initializeSender(){var p=this;return(0,V.A)(function*(){var D,Q;if(p.activeServiceWorker=yield function Qo(){return su.apply(this,arguments)}(),!p.activeServiceWorker)return;p.sender=new Ua(p.activeServiceWorker);const ne=yield p.sender._send("ping",{},800);ne&&null!==(D=ne[0])&&void 0!==D&&D.fulfilled&&null!==(Q=ne[0])&&void 0!==Q&&Q.value.includes("keyChanged")&&(p.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(p){var D=this;return(0,V.A)(function*(){if(D.sender&&D.activeServiceWorker&&function To(){var E;return(null===(E=null==navigator?void 0:navigator.serviceWorker)||void 0===E?void 0:E.controller)||null}()===D.activeServiceWorker)try{yield D.sender._send("keyChanged",{key:p},D.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,V.A)(function*(){try{if(!indexedDB)return!1;const p=yield mr();return yield uo(p,Xn,"1"),yield Va(p,Xn),!0}catch{}return!1})()}_withPendingWrite(p){var D=this;return(0,V.A)(function*(){D.pendingWrites++;try{yield p()}finally{D.pendingWrites--}})()}_set(p,D){var Q=this;return(0,V.A)(function*(){return Q._withPendingWrite((0,V.A)(function*(){return yield Q._withRetries(ne=>uo(ne,p,D)),Q.localCache[p]=D,Q.notifyServiceWorker(p)}))})()}_get(p){var D=this;return(0,V.A)(function*(){const Q=yield D._withRetries(ne=>function Mr(E,c){return ns.apply(this,arguments)}(ne,p));return D.localCache[p]=Q,Q})()}_remove(p){var D=this;return(0,V.A)(function*(){return D._withPendingWrite((0,V.A)(function*(){return yield D._withRetries(Q=>Va(Q,p)),delete D.localCache[p],D.notifyServiceWorker(p)}))})()}_poll(){var p=this;return(0,V.A)(function*(){const D=yield p._withRetries(et=>{const bt=Yr(et,!1).getAll();return new ni(bt).toPromise()});if(!D)return[];if(0!==p.pendingWrites)return[];const Q=[],ne=new Set;if(0!==D.length)for(const{fbase_key:et,value:bt}of D)ne.add(et),JSON.stringify(p.localCache[et])!==JSON.stringify(bt)&&(p.notifyListeners(et,bt),Q.push(et));for(const et of Object.keys(p.localCache))p.localCache[et]&&!ne.has(et)&&(p.notifyListeners(et,null),Q.push(et));return Q})()}notifyListeners(p,D){this.localCache[p]=D;const Q=this.listeners[p];if(Q)for(const ne of Array.from(Q))ne(D)}startPolling(){var p=this;this.stopPolling(),this.pollTimer=setInterval((0,V.A)(function*(){return p._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(p,D){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[p]||(this.listeners[p]=new Set,this._get(p)),this.listeners[p].add(D)}_removeListener(p,D){this.listeners[p]&&(this.listeners[p].delete(D),0===this.listeners[p].size&&delete this.listeners[p]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return E.type="LOCAL",E})(),ga=1e12;class Os{constructor(c){this.auth=c,this.counter=ga,this._widgets=new Map}render(c,p){const D=this.counter;return this._widgets.set(D,new Il(c,this.auth.name,p||{})),this.counter++,D}reset(c){var p;const D=c||ga;null===(p=this._widgets.get(D))||void 0===p||p.delete(),this._widgets.delete(D)}getResponse(c){var p;return(null===(p=this._widgets.get(c||ga))||void 0===p?void 0:p.getResponse())||""}execute(c){var p=this;return(0,V.A)(function*(){var D;return null===(D=p._widgets.get(c||ga))||void 0===D||D.execute(),""})()}}class Il{constructor(c,p,D){this.params=D,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const Q="string"==typeof c?document.getElementById(c):c;re(Q,"argument-error",{appName:p}),this.container=Q,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Cd(E){const c=[],p="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let D=0;D<E;D++)c.push(p.charAt(Math.floor(62*Math.random())));return c.join("")}(50);const{callback:c,"expired-callback":p}=this.params;if(c)try{c(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,p)try{p()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Ha=Nu("rcb"),fc=new Ce(3e4,6e4);class lu{constructor(){var c;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(c=Br().grecaptcha)||void 0===c||!c.render)}load(c,p=""){return re(function ui(E){return E.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(E)}(p),c,"argument-error"),this.shouldResolveImmediately(p)&&Qt(Br().grecaptcha)?Promise.resolve(Br().grecaptcha):new Promise((D,Q)=>{const ne=Br().setTimeout(()=>{Q($e(c,"network-request-failed"))},fc.get());Br()[Ha]=()=>{Br().clearTimeout(ne),delete Br()[Ha];const bt=Br().grecaptcha;if(!bt||!Qt(bt))return void Q($e(c,"internal-error"));const tn=bt.render;bt.render=(Zn,Nn)=>{const Er=tn(Zn,Nn);return this.counter++,Er},this.hostLanguage=p,D(bt)},vl(`${function zi(){return Si.recaptchaV2Script}()}?${(0,tt.Am)({onload:Ha,render:"explicit",hl:p})}`).catch(()=>{clearTimeout(ne),Q($e(c,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(c){var p;return!(null===(p=Br().grecaptcha)||void 0===p||!p.render)&&(c===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class QA{load(c){return(0,V.A)(function*(){return new Os(c)})()}clearedOneInstance(){}}const bd="recaptcha",uu={theme:"light",type:"image"};class pc{constructor(c,p,D=Object.assign({},uu)){this.parameters=D,this.type=bd,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=So(c),this.isInvisible="invisible"===this.parameters.size,re(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const Q="string"==typeof p?document.getElementById(p):p;re(Q,this.auth,"argument-error"),this.container=Q,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new QA:new lu,this.validateStartingState()}verify(){var c=this;return(0,V.A)(function*(){c.assertNotDestroyed();const p=yield c.render(),D=c.getAssertedRecaptcha();return D.getResponse(p)||new Promise(ne=>{const et=bt=>{bt&&(c.tokenChangeListeners.delete(et),ne(bt))};c.tokenChangeListeners.add(et),c.isInvisible&&D.execute(p)})})()}render(){try{this.assertNotDestroyed()}catch(c){return Promise.reject(c)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(c=>{throw this.renderPromise=null,c})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(c=>{this.container.removeChild(c)})}validateStartingState(){re(!this.parameters.sitekey,this.auth,"argument-error"),re(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),re(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(c){return p=>{if(this.tokenChangeListeners.forEach(D=>D(p)),"function"==typeof c)c(p);else if("string"==typeof c){const D=Br()[c];"function"==typeof D&&D(p)}}}assertNotDestroyed(){re(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var c=this;return(0,V.A)(function*(){if(yield c.init(),!c.widgetId){let p=c.container;if(!c.isInvisible){const D=document.createElement("div");p.appendChild(D),p=D}c.widgetId=c.getAssertedRecaptcha().render(p,c.parameters)}return c.widgetId})()}init(){var c=this;return(0,V.A)(function*(){re(We()&&!No(),c.auth,"internal-error"),yield function ur(){let E=null;return new Promise(c=>{"complete"!==document.readyState?(E=()=>c(),window.addEventListener("load",E)):c()}).catch(c=>{throw E&&window.removeEventListener("load",E),c})}(),c.recaptcha=yield c._recaptchaLoader.load(c.auth,c.auth.languageCode||void 0);const p=yield function ii(E){return wi.apply(this,arguments)}(c.auth);re(p,c.auth,"internal-error"),c.parameters.sitekey=p})()}getAssertedRecaptcha(){return re(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class hs{constructor(c,p){this.verificationId=c,this.onConfirmation=p}confirm(c){const p=Hr._fromVerification(this.verificationId,c);return this.onConfirmation(p)}}function Ps(){return(Ps=(0,V.A)(function*(E,c,p){if((0,Mt._isFirebaseServerApp)(E.app))return Promise.reject(ie(E));const D=So(E),Q=yield $i(D,c,(0,tt.Ku)(p));return new hs(Q,ne=>eA(D,ne))})).apply(this,arguments)}function iA(){return(iA=(0,V.A)(function*(E,c,p){const D=(0,tt.Ku)(E);yield ts(!1,D,"phone");const Q=yield $i(D.auth,c,(0,tt.Ku)(p));return new hs(Q,ne=>Oa(D,ne))})).apply(this,arguments)}function cu(){return(cu=(0,V.A)(function*(E,c,p){const D=(0,tt.Ku)(E);if((0,Mt._isFirebaseServerApp)(D.auth.app))return Promise.reject(ie(D.auth));const Q=yield $i(D.auth,c,(0,tt.Ku)(p));return new hs(Q,ne=>tu(D,ne))})).apply(this,arguments)}function $i(E,c,p){return Id.apply(this,arguments)}function Id(){return Id=(0,V.A)(function*(E,c,p){var D;const Q=yield p.verify();try{let ne;if(re("string"==typeof Q,E,"argument-error"),re(p.type===bd,E,"argument-error"),ne="string"==typeof c?{phoneNumber:c}:c,"session"in ne){const et=ne.session;if("phoneNumber"in ne)return re("enroll"===et.type,E,"internal-error"),(yield function pr(E,c){return rn(E,"POST","/v2/accounts/mfaEnrollment:start",qe(E,c))}(E,{idToken:et.credential,phoneEnrollmentInfo:{phoneNumber:ne.phoneNumber,recaptchaToken:Q}})).phoneSessionInfo.sessionInfo;{re("signin"===et.type,E,"internal-error");const bt=(null===(D=ne.multiFactorHint)||void 0===D?void 0:D.uid)||ne.multiFactorUid;return re(bt,E,"missing-multi-factor-info"),(yield function Ac(E,c){return rn(E,"POST","/v2/accounts/mfaSignIn:start",qe(E,c))}(E,{mfaPendingCredential:et.credential,mfaEnrollmentId:bt,phoneSignInInfo:{recaptchaToken:Q}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:et}=yield function Lu(E,c){return jr.apply(this,arguments)}(E,{phoneNumber:ne.phoneNumber,recaptchaToken:Q});return et}}finally{p._reset()}}),Id.apply(this,arguments)}function HA(){return(HA=(0,V.A)(function*(E,c){const p=(0,tt.Ku)(E);if((0,Mt._isFirebaseServerApp)(p.auth.app))return Promise.reject(ie(p.auth));yield Uo(p,c)})).apply(this,arguments)}let Sa=(()=>{class E{constructor(p){this.providerId=E.PROVIDER_ID,this.auth=So(p)}verifyPhoneNumber(p,D){return $i(this.auth,p,(0,tt.Ku)(D))}static credential(p,D){return Hr._fromVerification(p,D)}static credentialFromResult(p){return E.credentialFromTaggedObject(p)}static credentialFromError(p){return E.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{phoneNumber:D,temporaryProof:Q}=p;return D&&Q?Hr._fromTokenResponse(D,Q):null}}return E.PROVIDER_ID="phone",E.PHONE_SIGN_IN_METHOD="phone",E})();function du(E,c){return c?mo(c):(re(E._popupRedirectResolver,E,"argument-error"),E._popupRedirectResolver)}class il extends Cn{constructor(c){super("custom","custom"),this.params=c}_getIdTokenResponse(c){return _l(c,this._buildIdpRequest())}_linkToIdToken(c,p){return _l(c,this._buildIdpRequest(p))}_getReauthenticationResolver(c){return _l(c,this._buildIdpRequest())}_buildIdpRequest(c){const p={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return c&&(p.idToken=c),p}}function Ed(E){return ki(E.auth,new il(E),E.bypassAuthState)}function El(E){const{auth:c,user:p}=E;return re(p,c,"internal-error"),La(p,new il(E),E.bypassAuthState)}function df(E){return oA.apply(this,arguments)}function oA(){return(oA=(0,V.A)(function*(E){const{auth:c,user:p}=E;return re(p,c,"internal-error"),Uo(p,new il(E),E.bypassAuthState)})).apply(this,arguments)}class ip{constructor(c,p,D,Q,ne=!1){this.auth=c,this.resolver=D,this.user=Q,this.bypassAuthState=ne,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(p)?p:[p]}execute(){var c=this;return new Promise(function(){var p=(0,V.A)(function*(D,Q){c.pendingPromise={resolve:D,reject:Q};try{c.eventManager=yield c.resolver._initialize(c.auth),yield c.onExecution(),c.eventManager.registerConsumer(c)}catch(ne){c.reject(ne)}});return function(D,Q){return p.apply(this,arguments)}}())}onAuthEvent(c){var p=this;return(0,V.A)(function*(){const{urlResponse:D,sessionId:Q,postBody:ne,tenantId:et,error:bt,type:tn}=c;if(bt)return void p.reject(bt);const Zn={auth:p.auth,requestUri:D,sessionId:Q,tenantId:et||void 0,postBody:ne||void 0,user:p.user,bypassAuthState:p.bypassAuthState};try{p.resolve(yield p.getIdpTask(tn)(Zn))}catch(Nn){p.reject(Nn)}})()}onError(c){this.reject(c)}getIdpTask(c){switch(c){case"signInViaPopup":case"signInViaRedirect":return Ed;case"linkViaPopup":case"linkViaRedirect":return df;case"reauthViaPopup":case"reauthViaRedirect":return El;default:Re(this.auth,"internal-error")}}resolve(c){lt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(c),this.unregisterAndCleanUp()}reject(c){lt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(c),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const op=new Ce(2e3,1e4);function yh(){return(yh=(0,V.A)(function*(E,c,p){if((0,Mt._isFirebaseServerApp)(E.app))return Promise.reject($e(E,"operation-not-supported-in-this-environment"));const D=So(E);de(E,c,nl);const Q=du(D,p);return new _h(D,"signInViaPopup",c,Q).executeNotNull()})).apply(this,arguments)}function jA(){return(jA=(0,V.A)(function*(E,c,p){const D=(0,tt.Ku)(E);if((0,Mt._isFirebaseServerApp)(D.auth.app))return Promise.reject($e(D.auth,"operation-not-supported-in-this-environment"));de(D.auth,c,nl);const Q=du(D.auth,p);return new _h(D.auth,"reauthViaPopup",c,Q,D).executeNotNull()})).apply(this,arguments)}function Af(){return(Af=(0,V.A)(function*(E,c,p){const D=(0,tt.Ku)(E);de(D.auth,c,nl);const Q=du(D.auth,p);return new _h(D.auth,"linkViaPopup",c,Q,D).executeNotNull()})).apply(this,arguments)}let _h=(()=>{class E extends ip{constructor(p,D,Q,ne,et){super(p,D,ne,et),this.provider=Q,this.authWindow=null,this.pollId=null,E.currentPopupAction&&E.currentPopupAction.cancel(),E.currentPopupAction=this}executeNotNull(){var p=this;return(0,V.A)(function*(){const D=yield p.execute();return re(D,p.auth,"internal-error"),D})()}onExecution(){var p=this;return(0,V.A)(function*(){lt(1===p.filter.length,"Popup operations only handle one event");const D=or();p.authWindow=yield p.resolver._openPopup(p.auth,p.provider,p.filter[0],D),p.authWindow.associatedEvent=D,p.resolver._originValidation(p.auth).catch(Q=>{p.reject(Q)}),p.resolver._isIframeWebStorageSupported(p.auth,Q=>{Q||p.reject($e(p.auth,"web-storage-unsupported"))}),p.pollUserCancellation()})()}get eventId(){var p;return(null===(p=this.authWindow)||void 0===p?void 0:p.associatedEvent)||null}cancel(){this.reject($e(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,E.currentPopupAction=null}pollUserCancellation(){const p=()=>{var D,Q;this.pollId=null!==(Q=null===(D=this.authWindow)||void 0===D?void 0:D.window)&&void 0!==Q&&Q.closed?window.setTimeout(()=>{this.pollId=null,this.reject($e(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(p,op.get())};p()}}return E.currentPopupAction=null,E})();const gc="pendingRedirect",Hu=new Map;class wh extends ip{constructor(c,p,D=!1){super(c,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],p,void 0,D),this.eventId=null}execute(){var c=()=>super.execute,p=this;return(0,V.A)(function*(){let D=Hu.get(p.auth._key());if(!D){try{const ne=(yield function hf(E,c){return Ta.apply(this,arguments)}(p.resolver,p.auth))?yield c().call(p):null;D=()=>Promise.resolve(ne)}catch(Q){D=()=>Promise.reject(Q)}Hu.set(p.auth._key(),D)}return p.bypassAuthState||Hu.set(p.auth._key(),()=>Promise.resolve(null)),D()})()}onAuthEvent(c){var p=()=>super.onAuthEvent,D=this;return(0,V.A)(function*(){if("signInViaRedirect"===c.type)return p().call(D,c);if("unknown"!==c.type){if(c.eventId){const Q=yield D.auth._redirectUserForId(c.eventId);if(Q)return D.user=Q,p().call(D,c);D.resolve(null)}}else D.resolve(null)})()}onExecution(){return(0,V.A)(function*(){})()}cleanUp(){}}function Ta(){return(Ta=(0,V.A)(function*(E,c){const p=Au(c),D=$A(E);if(!(yield D._isAvailable()))return!1;const Q="true"===(yield D._get(p));return yield D._remove(p),Q})).apply(this,arguments)}function sA(E,c){return zA.apply(this,arguments)}function zA(){return(zA=(0,V.A)(function*(E,c){return $A(E)._set(Au(c),"true")})).apply(this,arguments)}function $s(E,c){Hu.set(E._key(),c)}function $A(E){return mo(E._redirectPersistence)}function Au(E){return Ci(gc,E.config.apiKey,E.name)}function ff(E,c,p){return function GA(E,c,p){return ju.apply(this,arguments)}(E,c,p)}function ju(){return(ju=(0,V.A)(function*(E,c,p){if((0,Mt._isFirebaseServerApp)(E.app))return Promise.reject(ie(E));const D=So(E);de(E,c,nl),yield D._initializationPromise;const Q=du(D,p);return yield sA(Q,D),Q._openRedirect(D,c,"signInViaRedirect")})).apply(this,arguments)}function aA(E,c,p){return function WA(E,c,p){return KA.apply(this,arguments)}(E,c,p)}function KA(){return(KA=(0,V.A)(function*(E,c,p){const D=(0,tt.Ku)(E);if(de(D.auth,c,nl),(0,Mt._isFirebaseServerApp)(D.auth.app))return Promise.reject(ie(D.auth));yield D.auth._initializationPromise;const Q=du(D.auth,p);yield sA(Q,D.auth);const ne=yield zu(D);return Q._openRedirect(D.auth,c,"reauthViaRedirect",ne)})).apply(this,arguments)}function Vl(E,c,p){return function lA(E,c,p){return hu.apply(this,arguments)}(E,c,p)}function hu(){return(hu=(0,V.A)(function*(E,c,p){const D=(0,tt.Ku)(E);de(D.auth,c,nl),yield D.auth._initializationPromise;const Q=du(D.auth,p);yield ts(!1,D,c.providerId),yield sA(Q,D.auth);const ne=yield zu(D);return Q._openRedirect(D.auth,c,"linkViaRedirect",ne)})).apply(this,arguments)}function Ch(){return(Ch=(0,V.A)(function*(E,c){return yield So(E)._initializationPromise,Wc(E,c,!1)})).apply(this,arguments)}function Wc(E,c){return yi.apply(this,arguments)}function yi(){return(yi=(0,V.A)(function*(E,c,p=!1){if((0,Mt._isFirebaseServerApp)(E.app))return Promise.reject(ie(E));const D=So(E),Q=du(D,c),et=yield new wh(D,Q,p).execute();return et&&!p&&(delete et.user._redirectEventId,yield D._persistUserIfCurrent(et.user),yield D._setRedirectUser(null,c)),et})).apply(this,arguments)}function zu(E){return mc.apply(this,arguments)}function mc(){return(mc=(0,V.A)(function*(E){const c=or(`${E.uid}:::`);return E._redirectEventId=c,yield E.auth._setRedirectUser(E),yield E.auth._persistUserIfCurrent(E),c})).apply(this,arguments)}class bh{constructor(c){this.auth=c,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(c){this.consumers.add(c),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,c)&&(this.sendToConsumer(this.queuedRedirectEvent,c),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(c){this.consumers.delete(c)}onEvent(c){if(this.hasEventBeenHandled(c))return!1;let p=!1;return this.consumers.forEach(D=>{this.isEventForConsumer(c,D)&&(p=!0,this.sendToConsumer(c,D),this.saveEventToCache(c))}),this.hasHandledPotentialRedirect||!function Gs(E){switch(E.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ol(E);default:return!1}}(c)||(this.hasHandledPotentialRedirect=!0,p||(this.queuedRedirectEvent=c,p=!0)),p}sendToConsumer(c,p){var D;if(c.error&&!ol(c)){const Q=(null===(D=c.error.code)||void 0===D?void 0:D.split("auth/")[1])||"internal-error";p.onError($e(this.auth,Q))}else p.onAuthEvent(c)}isEventForConsumer(c,p){const D=null===p.eventId||!!c.eventId&&c.eventId===p.eventId;return p.filter.includes(c.type)&&D}hasEventBeenHandled(c){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Kc(c))}saveEventToCache(c){this.cachedEventUids.add(Kc(c)),this.lastProcessedEventTime=Date.now()}}function Kc(E){return[E.type,E.eventId,E.sessionId,E.tenantId].filter(c=>c).join("-")}function ol({type:E,error:c}){return"unknown"===E&&"auth/no-auth-event"===(null==c?void 0:c.code)}function pf(E){return fu.apply(this,arguments)}function fu(){return(fu=(0,V.A)(function*(E,c={}){return rn(E,"GET","/v1/projects",c)})).apply(this,arguments)}const $u=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,sl=/^https?/;function uA(){return(uA=(0,V.A)(function*(E){if(E.config.emulator)return;const{authorizedDomains:c}=yield pf(E);for(const p of c)try{if(Td(p))return}catch{}Re(E,"unauthorized-domain")})).apply(this,arguments)}function Td(E){const c=Fe(),{protocol:p,hostname:D}=new URL(c);if(E.startsWith("chrome-extension://")){const et=new URL(E);return""===et.hostname&&""===D?"chrome-extension:"===p&&E.replace("chrome-extension://","")===c.replace("chrome-extension://",""):"chrome-extension:"===p&&et.hostname===D}if(!sl.test(p))return!1;if($u.test(E))return D===E;const Q=E.replace(/\./g,"\\.");return new RegExp("^(.+\\."+Q+"|"+Q+")$","i").test(D)}const Us=new Ce(3e4,6e4);function pu(){const E=Br().___jsl;if(null!=E&&E.H)for(const c of Object.keys(E.H))if(E.H[c].r=E.H[c].r||[],E.H[c].L=E.H[c].L||[],E.H[c].r=[...E.H[c].L],E.CP)for(let p=0;p<E.CP.length;p++)E.CP[p]=null}let vc=null;const Ql=new Ce(5e3,15e3),ri="__/auth/iframe",Ih="emulator/auth/iframe",$p={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},qA=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function cA(E){const c=E.config;re(c.authDomain,E,"auth-domain-config-required");const p=c.emulator?fe(c,Ih):`https://${E.config.authDomain}/${ri}`,D={apiKey:c.apiKey,appName:E.name,v:Mt.SDK_VERSION},Q=qA.get(E.config.apiHost);Q&&(D.eid=Q);const ne=E._getFrameworks();return ne.length&&(D.fw=ne.join(",")),`${p}?${(0,tt.Am)(D).slice(1)}`}function Gu(){return Gu=(0,V.A)(function*(E){const c=yield function Yc(E){return vc=vc||function qc(E){return new Promise((c,p)=>{var D,Q,ne;function et(){pu(),gapi.load("gapi.iframes",{callback:()=>{c(gapi.iframes.getContext())},ontimeout:()=>{pu(),p($e(E,"network-request-failed"))},timeout:Us.get()})}if(null!==(Q=null===(D=Br().gapi)||void 0===D?void 0:D.iframes)&&void 0!==Q&&Q.Iframe)c(gapi.iframes.getContext());else{if(null===(ne=Br().gapi)||void 0===ne||!ne.load){const bt=Nu("iframefcb");return Br()[bt]=()=>{gapi.load?et():p($e(E,"network-request-failed"))},vl(`${function gd(){return Si.gapiScript}()}?onload=${bt}`).catch(tn=>p(tn))}et()}}).catch(c=>{throw vc=null,c})}(E),vc}(E),p=Br().gapi;return re(p,E,"internal-error"),c.open({where:document.body,url:cA(E),messageHandlersFilter:p.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:$p,dontclear:!0},D=>new Promise(function(){var Q=(0,V.A)(function*(ne,et){yield D.restyle({setHideOnLeave:!1});const bt=$e(E,"network-request-failed"),tn=Br().setTimeout(()=>{et(bt)},Ql.get());function Zn(){Br().clearTimeout(tn),ne(D)}D.ping(Zn).then(Zn,()=>{et(bt)})});return function(ne,et){return Q.apply(this,arguments)}}()))}),Gu.apply(this,arguments)}const yc={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Tt{constructor(c){this.window=c,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const vn="__/auth/handler",Dn="emulator/auth/handler",vr=encodeURIComponent("fac");function mi(E,c,p,D,Q,ne){return Ni.apply(this,arguments)}function Ni(){return(Ni=(0,V.A)(function*(E,c,p,D,Q,ne){re(E.config.authDomain,E,"auth-domain-config-required"),re(E.config.apiKey,E,"invalid-api-key");const et={apiKey:E.config.apiKey,appName:E.name,authType:p,redirectUrl:D,v:Mt.SDK_VERSION,eventId:Q};if(c instanceof nl){c.setDefaultLanguage(E.languageCode),et.providerId=c.providerId||"",(0,tt.Im)(c.getCustomParameters())||(et.customParameters=JSON.stringify(c.getCustomParameters()));for(const[Nn,Er]of Object.entries(ne||{}))et[Nn]=Er}if(c instanceof fr){const Nn=c.getScopes().filter(Er=>""!==Er);Nn.length>0&&(et.scopes=Nn.join(","))}E.tenantId&&(et.tid=E.tenantId);const bt=et;for(const Nn of Object.keys(bt))void 0===bt[Nn]&&delete bt[Nn];const tn=yield E._getAppCheckToken(),Zn=tn?`#${vr}=${encodeURIComponent(tn)}`:"";return`${function ho({config:E}){return E.emulator?fe(E,Dn):`https://${E.authDomain}/${vn}`}(E)}?${(0,tt.Am)(bt).slice(1)}${Zn}`})).apply(this,arguments)}const jo="webStorageSupport",va=class Es{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ji,this._completeRedirectFn=Wc,this._overrideRedirectResult=$s}_openPopup(c,p,D,Q){var ne=this;return(0,V.A)(function*(){var et;lt(null===(et=ne.eventManagers[c._key()])||void 0===et?void 0:et.manager,"_initialize() not called before _openPopup()");const bt=yield mi(c,p,D,Fe(),Q);return function Qe(E,c,p,D=500,Q=600){const ne=Math.max((window.screen.availHeight-Q)/2,0).toString(),et=Math.max((window.screen.availWidth-D)/2,0).toString();let bt="";const tn=Object.assign(Object.assign({},yc),{width:D.toString(),height:Q.toString(),top:ne,left:et}),Zn=(0,tt.ZQ)().toLowerCase();p&&(bt=pd(Zn)?"_blank":p),Na(Zn)&&(c=c||"http://localhost",tn.scrollbars="yes");const Nn=Object.entries(tn).reduce(($o,[Bl,wu])=>`${$o}${Bl}=${wu},`,"");if(function fn(E=(0,tt.ZQ)()){var c;return Dt(E)&&!(null===(c=window.navigator)||void 0===c||!c.standalone)}(Zn)&&"_self"!==bt)return function An(E,c){const p=document.createElement("a");p.href=E,p.target=c;const D=document.createEvent("MouseEvent");D.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),p.dispatchEvent(D)}(c||"",bt),new Tt(null);const Er=window.open(c||"",bt,Nn);re(Er,E,"popup-blocked");try{Er.focus()}catch{}return new Tt(Er)}(c,bt,or())})()}_openRedirect(c,p,D,Q){var ne=this;return(0,V.A)(function*(){return yield ne._originValidation(c),function ou(E){Br().location.href=E}(yield mi(c,p,D,Fe(),Q)),new Promise(()=>{})})()}_initialize(c){const p=c._key();if(this.eventManagers[p]){const{manager:Q,promise:ne}=this.eventManagers[p];return Q?Promise.resolve(Q):(lt(ne,"If manager is not set, promise should be"),ne)}const D=this.initAndGetManager(c);return this.eventManagers[p]={promise:D},D.catch(()=>{delete this.eventManagers[p]}),D}initAndGetManager(c){var p=this;return(0,V.A)(function*(){const D=yield function Eh(E){return Gu.apply(this,arguments)}(c),Q=new bh(c);return D.register("authEvent",ne=>(re(null==ne?void 0:ne.authEvent,c,"invalid-auth-event"),{status:Q.onEvent(ne.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),p.eventManagers[c._key()]={manager:Q},p.iframes[c._key()]=D,Q})()}_isIframeWebStorageSupported(c,p){this.iframes[c._key()].send(jo,{type:jo},Q=>{var ne;const et=null===(ne=null==Q?void 0:Q[0])||void 0===ne?void 0:ne[jo];void 0!==et&&p(!!et),Re(c,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(c){const p=c._key();return this.originValidationPromises[p]||(this.originValidationPromises[p]=function Sd(E){return uA.apply(this,arguments)}(c)),this.originValidationPromises[p]}get _shouldInitProactively(){return br()||Jl()||Dt()}};class ra{constructor(c){this.factorId=c}_process(c,p,D){switch(p.type){case"enroll":return this._finalizeEnroll(c,p.credential,D);case"signin":return this._finalizeSignIn(c,p.credential);default:return Ze("unexpected MultiFactorSessionType")}}}class Sl extends ra{constructor(c){super("phone"),this.credential=c}static _fromCredential(c){return new Sl(c)}_finalizeEnroll(c,p,D){return function Tr(E,c){return rn(E,"POST","/v2/accounts/mfaEnrollment:finalize",qe(E,c))}(c,{idToken:p,displayName:D,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(c,p){return function hc(E,c){return rn(E,"POST","/v2/accounts/mfaSignIn:finalize",qe(E,c))}(c,{mfaPendingCredential:p,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Bo=(()=>{class E{constructor(){}static assertion(p){return Sl._fromCredential(p)}}return E.FACTOR_ID="phone",E})();var Dd="@firebase/auth";class dA{constructor(c){this.auth=c,this.internalListeners=new Map}getUid(){var c;return this.assertAuthConfigured(),(null===(c=this.auth.currentUser)||void 0===c?void 0:c.uid)||null}getToken(c){var p=this;return(0,V.A)(function*(){return p.assertAuthConfigured(),yield p.auth._initializationPromise,p.auth.currentUser?{accessToken:yield p.auth.currentUser.getIdToken(c)}:null})()}addAuthTokenListener(c){if(this.assertAuthConfigured(),this.internalListeners.has(c))return;const p=this.auth.onIdTokenChanged(D=>{c((null==D?void 0:D.stsTokenManager.accessToken)||null)});this.internalListeners.set(c,p),this.updateProactiveRefresh()}removeAuthTokenListener(c){this.assertAuthConfigured();const p=this.internalListeners.get(c);p&&(this.internalListeners.delete(c),p(),this.updateProactiveRefresh())}assertAuthConfigured(){re(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Hl(){return window}(0,tt.XA)("authIdTokenMaxAge"),function Qr(E){Si=E}({loadJS:E=>new Promise((c,p)=>{const D=document.createElement("script");D.setAttribute("src",E),D.onload=c,D.onerror=Q=>{const ne=$e("internal-error");ne.customData=Q,p(ne)},D.type="text/javascript",D.charset="UTF-8",function XA(){var E,c;return null!==(c=null===(E=document.getElementsByTagName("head"))||void 0===E?void 0:E[0])&&void 0!==c?c:document}().appendChild(D)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),function $a(E){(0,Mt._registerComponent)(new Ee.uA("auth",(c,{options:p})=>{const D=c.getProvider("app").getImmediate(),Q=c.getProvider("heartbeat"),ne=c.getProvider("app-check-internal"),{apiKey:et,authDomain:bt}=D.options;re(et&&!et.includes(":"),"invalid-api-key",{appName:D.name});const tn={apiKey:et,authDomain:bt,clientPlatform:E,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ar(E)},Zn=new Ao(D,Q,ne,tn);return function Gt(E,c){const p=(null==c?void 0:c.persistence)||[],D=(Array.isArray(p)?p:[p]).map(mo);null!=c&&c.errorMap&&E._updateErrorMap(c.errorMap),E._initializeWithPersistence(D,null==c?void 0:c.popupRedirectResolver)}(Zn,p),Zn},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((c,p,D)=>{c.getProvider("auth-internal").initialize()})),(0,Mt._registerComponent)(new Ee.uA("auth-internal",c=>{const p=So(c.getProvider("auth").getImmediate());return new dA(p)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,Mt.registerVersion)(Dd,"1.7.0",function Xc(E){switch(E){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(E)),(0,Mt.registerVersion)(Dd,"1.7.0","esm2017")}("Browser");function Jc(){return Jc=(0,V.A)(function*(E,c,p){var D;const{BuildInfo:Q}=Hl();lt(c.sessionId,"AuthEvent did not contain a session ID");const ne=yield function Wu(E){return mu.apply(this,arguments)}(c.sessionId),et={};return Dt()?et.ibi=Q.packageName:Pu()?et.apn=Q.packageName:Re(E,"operation-not-supported-in-this-environment"),Q.displayName&&(et.appDisplayName=Q.displayName),et.sessionId=ne,mi(E,p,c.type,void 0,null!==(D=c.eventId)&&void 0!==D?D:void 0,et)}),Jc.apply(this,arguments)}function kd(){return(kd=(0,V.A)(function*(E){const{BuildInfo:c}=Hl(),p={};Dt()?p.iosBundleId=c.packageName:Pu()?p.androidPackageName=c.packageName:Re(E,"operation-not-supported-in-this-environment"),yield pf(E,p)})).apply(this,arguments)}function Oi(){return(Oi=(0,V.A)(function*(E,c,p){const{cordova:D}=Hl();let Q=()=>{};try{yield new Promise((ne,et)=>{let bt=null;function tn(){var Er;ne();const $o=null===(Er=D.plugins.browsertab)||void 0===Er?void 0:Er.close;"function"==typeof $o&&$o(),"function"==typeof(null==p?void 0:p.close)&&p.close()}function Zn(){bt||(bt=window.setTimeout(()=>{et($e(E,"redirect-cancelled-by-user"))},2e3))}function Nn(){"visible"===(null==document?void 0:document.visibilityState)&&Zn()}c.addPassiveListener(tn),document.addEventListener("resume",Zn,!1),Pu()&&document.addEventListener("visibilitychange",Nn,!1),Q=()=>{c.removePassiveListener(tn),document.removeEventListener("resume",Zn,!1),document.removeEventListener("visibilitychange",Nn,!1),bt&&window.clearTimeout(bt)}})}finally{Q()}})).apply(this,arguments)}function mu(){return(mu=(0,V.A)(function*(E){const c=function JA(E){if(lt(/[0-9a-zA-Z]+/.test(E),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(E);const c=new ArrayBuffer(E.length),p=new Uint8Array(c);for(let D=0;D<E.length;D++)p[D]=E.charCodeAt(D);return p}(E),p=yield crypto.subtle.digest("SHA-256",c);return Array.from(new Uint8Array(p)).map(Q=>Q.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class yu extends bh{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(c=>{this.resolveInialized=c})}addPassiveListener(c){this.passiveListeners.add(c)}removePassiveListener(c){this.passiveListeners.delete(c)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(c){return this.resolveInialized(),this.passiveListeners.forEach(p=>p(c)),super.onEvent(c)}initialized(){var c=this;return(0,V.A)(function*(){yield c.initPromise})()}}function ya(E){return oa.apply(this,arguments)}function oa(){return(oa=(0,V.A)(function*(E){const c=yield al()._get(sa(E));return c&&(yield al()._remove(sa(E))),c})).apply(this,arguments)}function Wa(){const E=[];for(let p=0;p<20;p++){const D=Math.floor(62*Math.random());E.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(D))}return E.join("")}function al(){return mo(Ei)}function sa(E){return Ci("authEvent",E.config.apiKey,E.name)}function _a(E){if(null==E||!E.includes("?"))return{};const[c,...p]=E.split("?");return(0,tt.I9)(p.join("?"))}const ws=class Do{constructor(){this._redirectPersistence=Ji,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Wc,this._overrideRedirectResult=$s}_initialize(c){var p=this;return(0,V.A)(function*(){const D=c._key();let Q=p.eventManagers.get(D);return Q||(Q=new yu(c),p.eventManagers.set(D,Q),p.attachCallbackListeners(c,Q)),Q})()}_openPopup(c){Re(c,"operation-not-supported-in-this-environment")}_openRedirect(c,p,D,Q){var ne=this;return(0,V.A)(function*(){!function Rd(E){var c,p,D,Q,ne,et,bt,tn,Zn,Nn;const Er=Hl();re("function"==typeof(null===(c=null==Er?void 0:Er.universalLinks)||void 0===c?void 0:c.subscribe),E,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),re(typeof(null===(p=null==Er?void 0:Er.BuildInfo)||void 0===p?void 0:p.packageName)<"u",E,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),re("function"==typeof(null===(ne=null===(Q=null===(D=null==Er?void 0:Er.cordova)||void 0===D?void 0:D.plugins)||void 0===Q?void 0:Q.browsertab)||void 0===ne?void 0:ne.openUrl),E,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),re("function"==typeof(null===(tn=null===(bt=null===(et=null==Er?void 0:Er.cordova)||void 0===et?void 0:et.plugins)||void 0===bt?void 0:bt.browsertab)||void 0===tn?void 0:tn.isAvailable),E,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),re("function"==typeof(null===(Nn=null===(Zn=null==Er?void 0:Er.cordova)||void 0===Zn?void 0:Zn.InAppBrowser)||void 0===Nn?void 0:Nn.open),E,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(c);const et=yield ne._initialize(c);yield et.initialized(),et.resetRedirect(),function di(){Hu.clear()}(),yield ne._originValidation(c);const bt=function wc(E,c,p=null){return{type:c,eventId:p,urlResponse:null,sessionId:Wa(),postBody:null,tenantId:E.tenantId,error:$e(E,"no-auth-event")}}(c,D,Q);yield function Gi(E,c){return al()._set(sa(E),c)}(c,bt);const tn=yield function jl(E,c,p){return Jc.apply(this,arguments)}(c,bt,p),Zn=yield function rs(E){const{cordova:c}=Hl();return new Promise(p=>{c.plugins.browsertab.isAvailable(D=>{let Q=null;D?c.plugins.browsertab.openUrl(E):Q=c.InAppBrowser.open(E,function It(E=(0,tt.ZQ)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(E)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(E)}()?"_blank":"_system","location=yes"),p(Q)})})}(tn);return function ia(E,c,p){return Oi.apply(this,arguments)}(c,et,Zn)})()}_isIframeWebStorageSupported(c,p){throw new Error("Method not implemented.")}_originValidation(c){const p=c._key();return this.originValidationPromises[p]||(this.originValidationPromises[p]=function Sh(E){return kd.apply(this,arguments)}(c)),this.originValidationPromises[p]}attachCallbackListeners(c,p){const{universalLinks:D,handleOpenURL:Q,BuildInfo:ne}=Hl(),et=setTimeout((0,V.A)(function*(){yield ya(c),p.onEvent(Vs())}),500),bt=function(){var Nn=(0,V.A)(function*(Er){clearTimeout(et);const $o=yield ya(c);let Bl=null;$o&&null!=Er&&Er.url&&(Bl=function Da(E,c){var p,D;const Q=function zl(E){const c=_a(E),p=c.link?decodeURIComponent(c.link):void 0,D=_a(p).link,Q=c.deep_link_id?decodeURIComponent(c.deep_link_id):void 0;return _a(Q).link||Q||D||p||E}(c);if(Q.includes("/__/auth/callback")){const ne=_a(Q),et=ne.firebaseError?function hA(E){try{return JSON.parse(E)}catch{return null}}(decodeURIComponent(ne.firebaseError)):null,bt=null===(D=null===(p=null==et?void 0:et.code)||void 0===p?void 0:p.split("auth/"))||void 0===D?void 0:D[1],tn=bt?$e(bt):null;return tn?{type:E.type,eventId:E.eventId,tenantId:E.tenantId,error:tn,urlResponse:null,sessionId:null,postBody:null}:{type:E.type,eventId:E.eventId,tenantId:E.tenantId,sessionId:E.sessionId,urlResponse:Q,postBody:null}}return null}($o,Er.url)),p.onEvent(Bl||Vs())});return function($o){return Nn.apply(this,arguments)}}();typeof D<"u"&&"function"==typeof D.subscribe&&D.subscribe(null,bt);const tn=Q,Zn=`${ne.packageName.toLowerCase()}://`;Hl().handleOpenURL=function(){var Nn=(0,V.A)(function*(Er){if(Er.toLowerCase().startsWith(Zn)&&bt({url:Er}),"function"==typeof tn)try{tn(Er)}catch($o){console.error($o)}});return function(Er){return Nn.apply(this,arguments)}}()}};function Vs(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:$e("no-auth-event")}}function Nd(){var E;return(null===(E=null==self?void 0:self.location)||void 0===E?void 0:E.protocol)||null}function Bh(E=(0,tt.ZQ)()){return!("file:"!==Nd()&&"ionic:"!==Nd()&&"capacitor:"!==Nd()||!E.toLowerCase().match(/iphone|ipad|ipod|android/))}function th(){try{const E=self.localStorage,c=or();if(E)return E.setItem(c,"1"),E.removeItem(c),!function Gp(E=(0,tt.ZQ)()){return function gf(){return(0,tt.lT)()&&11===(null==document?void 0:document.documentMode)}()||function Dh(E=(0,tt.ZQ)()){return/Edge\/\d+/.test(E)}(E)}()||(0,tt.zW)()}catch{return wa()&&(0,tt.zW)()}return!1}function wa(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Ka(){return(function ZA(){return"http:"===Nd()||"https:"===Nd()}()||(0,tt.sr)()||Bh())&&!function eh(){return(0,tt.lV)()||(0,tt.Ll)()}()&&th()&&!wa()}function ll(){return Bh()&&typeof document<"u"}function fA(){return(fA=(0,V.A)(function*(){return!!ll()&&new Promise(E=>{const c=setTimeout(()=>{E(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(c),E(!0)})})})).apply(this,arguments)}const xa={LOCAL:"local",NONE:"none",SESSION:"session"},Cc=re,xh="persistence";function nh(E){return Zc.apply(this,arguments)}function Zc(){return(Zc=(0,V.A)(function*(E){yield E._initializationPromise;const c=Fh(),p=Ci(xh,E.config.apiKey,E.name);c&&c.setItem(p,E._getPersistence())})).apply(this,arguments)}function Fh(){var E;try{return(null===(E=function pA(){return typeof window<"u"?window:null}())||void 0===E?void 0:E.sessionStorage)||null}catch{return null}}const tm=re;class Jn{constructor(){this.browserResolver=mo(va),this.cordovaResolver=mo(ws),this.underlyingResolver=null,this._redirectPersistence=Ji,this._completeRedirectFn=Wc,this._overrideRedirectResult=$s}_initialize(c){var p=this;return(0,V.A)(function*(){return yield p.selectUnderlyingResolver(),p.assertedUnderlyingResolver._initialize(c)})()}_openPopup(c,p,D,Q){var ne=this;return(0,V.A)(function*(){return yield ne.selectUnderlyingResolver(),ne.assertedUnderlyingResolver._openPopup(c,p,D,Q)})()}_openRedirect(c,p,D,Q){var ne=this;return(0,V.A)(function*(){return yield ne.selectUnderlyingResolver(),ne.assertedUnderlyingResolver._openRedirect(c,p,D,Q)})()}_isIframeWebStorageSupported(c,p){this.assertedUnderlyingResolver._isIframeWebStorageSupported(c,p)}_originValidation(c){return this.assertedUnderlyingResolver._originValidation(c)}get _shouldInitProactively(){return ll()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return tm(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var c=this;return(0,V.A)(function*(){if(c.underlyingResolver)return;const p=yield function mf(){return fA.apply(this,arguments)}();c.underlyingResolver=p?c.cordovaResolver:c.browserResolver})()}}function $l(E){return E.unwrap()}function Gl(E){return so(E)}function so(E){const{_tokenResponse:c}=E instanceof tt.g?E.customData:E;if(!c)return null;if(!(E instanceof tt.g)&&"temporaryProof"in c&&"phoneNumber"in c)return Sa.credentialFromResult(E);const p=c.providerId;if(!p||p===Ot.PASSWORD)return null;let D;switch(p){case Ot.GOOGLE:D=np;break;case Ot.FACEBOOK:D=vh;break;case Ot.GITHUB:D=rp;break;case Ot.TWITTER:D=eu;break;default:const{oauthIdToken:Q,oauthAccessToken:ne,oauthTokenSecret:et,pendingToken:bt,nonce:tn}=c;return ne||et||Q||bt?bt?p.startsWith("saml.")?Vc._create(p,bt):tl._fromParams({providerId:p,signInMethod:p,pendingToken:bt,idToken:Q,accessToken:ne}):new vd(p).credential({idToken:Q,accessToken:ne,rawNonce:tn}):null}return E instanceof tt.g?D.credentialFromError(E):D.credentialFromResult(E)}function bi(E,c){return c.catch(p=>{throw p instanceof tt.g&&function Wp(E,c){var p;const D=null===(p=c.customData)||void 0===p?void 0:p._tokenResponse;if("auth/multi-factor-auth-required"===(null==c?void 0:c.code))c.resolver=new zo(E,function Hn(E,c){var p;const D=(0,tt.Ku)(E),Q=c;return re(c.customData.operationType,D,"argument-error"),re(null===(p=Q.customData._serverResponse)||void 0===p?void 0:p.mfaPendingCredential,D,"argument-error"),Gn._fromError(D,Q)}(E,c));else if(D){const Q=so(c),ne=c;Q&&(ne.credential=Q,ne.tenantId=D.tenantId||void 0,ne.email=D.email||void 0,ne.phoneNumber=D.phoneNumber||void 0)}}(E,p),p}).then(p=>{const Q=p.user;return{operationType:p.operationType,credential:Gl(p),additionalUserInfo:cn(p),user:Ku.getOrCreate(Q)}})}function is(E,c){return gA.apply(this,arguments)}function gA(){return(gA=(0,V.A)(function*(E,c){const p=yield c;return{verificationId:p.verificationId,confirm:D=>bi(E,p.confirm(D))}})).apply(this,arguments)}class zo{constructor(c,p){this.resolver=p,this.auth=function yf(E){return E.wrapped()}(c)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(c){return bi($l(this.auth),this.resolver.resolveSignIn(c))}}class Ku{constructor(c){this._delegate=c,this.multiFactor=function Qn(E){const c=(0,tt.Ku)(E);return Ur.has(c)||Ur.set(c,ti._fromUser(c)),Ur.get(c)}(c)}static getOrCreate(c){return Ku.USER_MAP.has(c)||Ku.USER_MAP.set(c,new Ku(c)),Ku.USER_MAP.get(c)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(c){return this._delegate.getIdTokenResult(c)}getIdToken(c){return this._delegate.getIdToken(c)}linkAndRetrieveDataWithCredential(c){return this.linkWithCredential(c)}linkWithCredential(c){var p=this;return(0,V.A)(function*(){return bi(p.auth,Oa(p._delegate,c))})()}linkWithPhoneNumber(c,p){var D=this;return(0,V.A)(function*(){return is(D.auth,function Ho(E,c,p){return iA.apply(this,arguments)}(D._delegate,c,p))})()}linkWithPopup(c){var p=this;return(0,V.A)(function*(){return bi(p.auth,function zp(E,c,p){return Af.apply(this,arguments)}(p._delegate,c,Jn))})()}linkWithRedirect(c){var p=this;return(0,V.A)(function*(){return yield nh(So(p.auth)),Vl(p._delegate,c,Jn)})()}reauthenticateAndRetrieveDataWithCredential(c){return this.reauthenticateWithCredential(c)}reauthenticateWithCredential(c){var p=this;return(0,V.A)(function*(){return bi(p.auth,tu(p._delegate,c))})()}reauthenticateWithPhoneNumber(c,p){return is(this.auth,function Ul(E,c,p){return cu.apply(this,arguments)}(this._delegate,c,p))}reauthenticateWithPopup(c){return bi(this.auth,function jp(E,c,p){return jA.apply(this,arguments)}(this._delegate,c,Jn))}reauthenticateWithRedirect(c){var p=this;return(0,V.A)(function*(){return yield nh(So(p.auth)),aA(p._delegate,c,Jn)})()}sendEmailVerification(c){return function pe(E,c){return j.apply(this,arguments)}(this._delegate,c)}unlink(c){var p=this;return(0,V.A)(function*(){return yield function Qp(E,c){return Uu.apply(this,arguments)}(p._delegate,c),p})()}updateEmail(c){return function xt(E,c){const p=(0,tt.Ku)(E);return(0,Mt._isFirebaseServerApp)(p.auth.app)?Promise.reject(ie(p.auth)):St(p,c,null)}(this._delegate,c)}updatePassword(c){return function un(E,c){return St((0,tt.Ku)(E),null,c)}(this._delegate,c)}updatePhoneNumber(c){return function cf(E,c){return HA.apply(this,arguments)}(this._delegate,c)}updateProfile(c){return function Le(E,c){return gt.apply(this,arguments)}(this._delegate,c)}verifyBeforeUpdateEmail(c,p){return function Pe(E,c,p){return be.apply(this,arguments)}(this._delegate,c,p)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Ku.USER_MAP=new WeakMap;const ed=re;let lp=(()=>{class E{constructor(p,D){if(this.app=p,D.isInitialized())return this._delegate=D.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:Q}=p.options;ed(Q,"invalid-api-key",{appName:p.name}),ed(Q,"invalid-api-key",{appName:p.name});const ne=typeof window<"u"?Jn:void 0;this._delegate=D.initialize({options:{persistence:Kp(Q,p.name),popupRedirectResolver:ne}}),this._delegate._updateErrorMap(Ye),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Ku.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(p){this._delegate.languageCode=p}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(p){this._delegate.tenantId=p}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(p,D){!function xn(E,c,p){const D=So(E);re(D._canInitEmulator,D,"emulator-config-failed"),re(/^https?:\/\//.test(c),D,"invalid-emulator-scheme");const Q=!(null==p||!p.disableWarnings),ne=Bn(c),{host:et,port:bt}=function zn(E){const c=Bn(E),p=/(\/\/)?([^?#/]+)/.exec(E.substr(c.length));if(!p)return{host:"",port:null};const D=p[2].split("@").pop()||"",Q=/^(\[[^\]]+\])(:|$)/.exec(D);if(Q){const ne=Q[1];return{host:ne,port:dr(D.substr(ne.length+1))}}{const[ne,et]=D.split(":");return{host:ne,port:dr(et)}}}(c);D.config.emulator={url:`${ne}//${et}${null===bt?"":`:${bt}`}/`},D.settings.appVerificationDisabledForTesting=!0,D.emulatorConfig=Object.freeze({host:et,port:bt,protocol:ne.replace(":",""),options:Object.freeze({disableWarnings:Q})}),Q||function Rr(){function E(){const c=document.createElement("p"),p=c.style;c.innerText="Running in emulator mode. Do not use with production credentials.",p.position="fixed",p.width="100%",p.backgroundColor="#ffffff",p.border=".1em solid #000000",p.color="#b50000",p.bottom="0px",p.left="0px",p.margin="0px",p.zIndex="10000",p.textAlign="center",c.classList.add("firebase-emulator-warning"),document.body.appendChild(c)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",E):E())}()}(this._delegate,p,D)}applyActionCode(p){return function Vo(E,c){return af.apply(this,arguments)}(this._delegate,p)}checkActionCode(p){return lf(this._delegate,p)}confirmPasswordReset(p,D){return function sf(E,c,p){return bl.apply(this,arguments)}(this._delegate,p,D)}createUserWithEmailAndPassword(p,D){var Q=this;return(0,V.A)(function*(){return bi(Q._delegate,function C(E,c,p){return g.apply(this,arguments)}(Q._delegate,p,D))})()}fetchProvidersForEmail(p){return this.fetchSignInMethodsForEmail(p)}fetchSignInMethodsForEmail(p){return function te(E,c){return ue.apply(this,arguments)}(this._delegate,p)}isSignInWithEmailLink(p){return function B(E,c){const p=Ls.parseLink(c);return"EMAIL_SIGNIN"===(null==p?void 0:p.operation)}(0,p)}getRedirectResult(){var p=this;return(0,V.A)(function*(){ed(Ka(),p._delegate,"operation-not-supported-in-this-environment");const D=yield function Gc(E,c){return Ch.apply(this,arguments)}(p._delegate,Jn);return D?bi(p._delegate,Promise.resolve(D)):{credential:null,user:null}})()}addFrameworkForLogging(p){!function _u(E,c){So(E)._logFramework(c)}(this._delegate,p)}onAuthStateChanged(p,D,Q){const{next:ne,error:et,complete:bt}=bc(p,D,Q);return this._delegate.onAuthStateChanged(ne,et,bt)}onIdTokenChanged(p,D,Q){const{next:ne,error:et,complete:bt}=bc(p,D,Q);return this._delegate.onIdTokenChanged(ne,et,bt)}sendSignInLinkToEmail(p,D){return function S(E,c,p){return x.apply(this,arguments)}(this._delegate,p,D)}sendPasswordResetEmail(p,D){return function tA(E,c,p){return Cl.apply(this,arguments)}(this._delegate,p,D||void 0)}setPersistence(p){var D=this;return(0,V.A)(function*(){let Q;switch(function ap(E,c){Cc(Object.values(xa).includes(c),E,"invalid-persistence-type"),(0,tt.lV)()?Cc(c!==xa.SESSION,E,"unsupported-persistence-type"):(0,tt.Ll)()?Cc(c===xa.NONE,E,"unsupported-persistence-type"):wa()?Cc(c===xa.NONE||c===xa.LOCAL&&(0,tt.zW)(),E,"unsupported-persistence-type"):Cc(c===xa.NONE||th(),E,"unsupported-persistence-type")}(D._delegate,p),p){case xa.SESSION:Q=Ji;break;case xa.LOCAL:Q=(yield mo(Lr)._isAvailable())?Lr:Ei;break;case xa.NONE:Q=Zo;break;default:return Re("argument-error",{appName:D._delegate.name})}return D._delegate.setPersistence(Q)})()}signInAndRetrieveDataWithCredential(p){return this.signInWithCredential(p)}signInAnonymously(){return bi(this._delegate,function nf(E){return yd.apply(this,arguments)}(this._delegate))}signInWithCredential(p){return bi(this._delegate,eA(this._delegate,p))}signInWithCustomToken(p){return bi(this._delegate,function na(E,c){return ds.apply(this,arguments)}(this._delegate,p))}signInWithEmailAndPassword(p,D){return bi(this._delegate,function y(E,c,p){return(0,Mt._isFirebaseServerApp)(E.app)?Promise.reject(ie(E)):eA((0,tt.Ku)(E),Uc.credential(c,p)).catch(function(){var D=(0,V.A)(function*(Q){throw"auth/password-does-not-meet-requirements"===Q.code&&dc(E),Q});return function(Q){return D.apply(this,arguments)}}())}(this._delegate,p,D))}signInWithEmailLink(p,D){return bi(this._delegate,function P(E,c,p){return M.apply(this,arguments)}(this._delegate,p,D))}signInWithPhoneNumber(p,D){return is(this._delegate,function rA(E,c,p){return Ps.apply(this,arguments)}(this._delegate,p,D))}signInWithPopup(p){var D=this;return(0,V.A)(function*(){return ed(Ka(),D._delegate,"operation-not-supported-in-this-environment"),bi(D._delegate,function Hp(E,c,p){return yh.apply(this,arguments)}(D._delegate,p,Jn))})()}signInWithRedirect(p){var D=this;return(0,V.A)(function*(){return ed(Ka(),D._delegate,"operation-not-supported-in-this-environment"),yield nh(D._delegate),ff(D._delegate,p,Jn)})()}updateCurrentUser(p){return this._delegate.updateCurrentUser(p)}verifyPasswordResetCode(p){return function iu(E,c){return wd.apply(this,arguments)}(this._delegate,p)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return E.Persistence=xa,E})();function bc(E,c,p){let D=E;"function"!=typeof E&&({next:D,error:c,complete:p}=E);const Q=D;return{next:et=>Q(et&&Ku.getOrCreate(et)),error:c,complete:p}}function Kp(E,c){const p=function vf(E,c){const p=Fh();if(!p)return[];const D=Ci(xh,E,c);switch(p.getItem(D)){case xa.NONE:return[Zo];case xa.LOCAL:return[Lr,Ji];case xa.SESSION:return[Ji];default:return[]}}(E,c);if(typeof self<"u"&&!p.includes(Lr)&&p.push(Lr),typeof window<"u")for(const D of[Ei,Ji])p.includes(D)||p.push(D);return p.includes(Zo)||p.push(Zo),p}class _f{constructor(){this.providerId="phone",this._delegate=new Sa($l(ln.A.auth()))}static credential(c,p){return Sa.credential(c,p)}verifyPhoneNumber(c,p){return this._delegate.verifyPhoneNumber(c,p)}unwrap(){return this._delegate}}_f.PHONE_SIGN_IN_METHOD=Sa.PHONE_SIGN_IN_METHOD,_f.PROVIDER_ID=Sa.PROVIDER_ID;const qu=re;class Tl{constructor(c,p,D=ln.A.app()){var Q;qu(null===(Q=D.options)||void 0===Q?void 0:Q.apiKey,"invalid-api-key",{appName:D.name}),this._delegate=new pc(D.auth(),c,p),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function qp(E){E.INTERNAL.registerComponent(new Ee.uA("auth-compat",c=>{const p=c.getProvider("app-compat").getImmediate(),D=c.getProvider("auth");return new lp(p,D)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:Uc,FacebookAuthProvider:vh,GithubAuthProvider:rp,GoogleAuthProvider:np,OAuthProvider:vd,SAMLAuthProvider:OA,PhoneAuthProvider:_f,PhoneMultiFactorGenerator:Bo,RecaptchaVerifier:Tl,TwitterAuthProvider:eu,Auth:lp,AuthCredential:Cn,Error:tt.g}).setInstantiationMode("LAZY").setMultipleInstances(!1)),E.registerVersion("@firebase/auth-compat","0.5.5")}(ln.A)},467:(go,kr,wt)=>{"use strict";function V(Mt,tt,Tn,Ut,Ee,Rt,Ot){try{var He=Mt[Rt](Ot),De=He.value}catch(ot){return void Tn(ot)}He.done?tt(De):Promise.resolve(De).then(Ut,Ee)}function ln(Mt){return function(){var tt=this,Tn=arguments;return new Promise(function(Ut,Ee){var Rt=Mt.apply(tt,Tn);function Ot(De){V(Rt,Ut,Ee,Ot,He,"next",De)}function He(De){V(Rt,Ut,Ee,Ot,He,"throw",De)}Ot(void 0)})}}wt.d(kr,{A:()=>ln})},1660:(go,kr,wt)=>{"use strict";wt.d(kr,{A:()=>tt});var V=wt(2284);function tt(Tn,Ut,Ee){return(Ut=function Mt(Tn){var Ut=function ln(Tn,Ut){if("object"!=(0,V.A)(Tn)||!Tn)return Tn;var Ee=Tn[Symbol.toPrimitive];if(void 0!==Ee){var Rt=Ee.call(Tn,Ut||"default");if("object"!=(0,V.A)(Rt))return Rt;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===Ut?String:Number)(Tn)}(Tn,"string");return"symbol"==(0,V.A)(Ut)?Ut:String(Ut)}(Ut))in Tn?Object.defineProperty(Tn,Ut,{value:Ee,enumerable:!0,configurable:!0,writable:!0}):Tn[Ut]=Ee,Tn}},2284:(go,kr,wt)=>{"use strict";function V(ln){return(V="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(Mt){return typeof Mt}:function(Mt){return Mt&&"function"==typeof Symbol&&Mt.constructor===Symbol&&Mt!==Symbol.prototype?"symbol":typeof Mt})(ln)}wt.d(kr,{A:()=>V})},1635:(go,kr,wt)=>{"use strict";function tt(Ce,fe){var Te={};for(var Ke in Ce)Object.prototype.hasOwnProperty.call(Ce,Ke)&&fe.indexOf(Ke)<0&&(Te[Ke]=Ce[Ke]);if(null!=Ce&&"function"==typeof Object.getOwnPropertySymbols){var Ct=0;for(Ke=Object.getOwnPropertySymbols(Ce);Ct<Ke.length;Ct++)fe.indexOf(Ke[Ct])<0&&Object.prototype.propertyIsEnumerable.call(Ce,Ke[Ct])&&(Te[Ke[Ct]]=Ce[Ke[Ct]])}return Te}function Tn(Ce,fe,Te,Ke){var rn,Ct=arguments.length,qe=Ct<3?fe:null===Ke?Ke=Object.getOwnPropertyDescriptor(fe,Te):Ke;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)qe=Reflect.decorate(Ce,fe,Te,Ke);else for(var Pn=Ce.length-1;Pn>=0;Pn--)(rn=Ce[Pn])&&(qe=(Ct<3?rn(qe):Ct>3?rn(fe,Te,qe):rn(fe,Te))||qe);return Ct>3&&qe&&Object.defineProperty(fe,Te,qe),qe}function ot(Ce,fe,Te,Ke){return new(Te||(Te=Promise))(function(qe,rn){function Pn(Sr){try{Kn(Ke.next(Sr))}catch(pi){rn(pi)}}function Rn(Sr){try{Kn(Ke.throw(Sr))}catch(pi){rn(pi)}}function Kn(Sr){Sr.done?qe(Sr.value):function Ct(qe){return qe instanceof Te?qe:new Te(function(rn){rn(qe)})}(Sr.value).then(Pn,Rn)}Kn((Ke=Ke.apply(Ce,fe||[])).next())})}function Ue(Ce){return this instanceof Ue?(this.v=Ce,this):new Ue(Ce)}function Re(Ce,fe,Te){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ct,Ke=Te.apply(Ce,fe||[]),qe=[];return Ct={},rn("next"),rn("throw"),rn("return"),Ct[Symbol.asyncIterator]=function(){return this},Ct;function rn(sr){Ke[sr]&&(Ct[sr]=function(Ii){return new Promise(function(Kr,en){qe.push([sr,Ii,Kr,en])>1||Pn(sr,Ii)})})}function Pn(sr,Ii){try{!function Rn(sr){sr.value instanceof Ue?Promise.resolve(sr.value.v).then(Kn,Sr):pi(qe[0][2],sr)}(Ke[sr](Ii))}catch(Kr){pi(qe[0][3],Kr)}}function Kn(sr){Pn("next",sr)}function Sr(sr){Pn("throw",sr)}function pi(sr,Ii){sr(Ii),qe.shift(),qe.length&&Pn(qe[0][0],qe[0][1])}}function ft(Ce){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Te,fe=Ce[Symbol.asyncIterator];return fe?fe.call(Ce):(Ce=function Ge(Ce){var fe="function"==typeof Symbol&&Symbol.iterator,Te=fe&&Ce[fe],Ke=0;if(Te)return Te.call(Ce);if(Ce&&"number"==typeof Ce.length)return{next:function(){return Ce&&Ke>=Ce.length&&(Ce=void 0),{value:Ce&&Ce[Ke++],done:!Ce}}};throw new TypeError(fe?"Object is not iterable.":"Symbol.iterator is not defined.")}(Ce),Te={},Ke("next"),Ke("throw"),Ke("return"),Te[Symbol.asyncIterator]=function(){return this},Te);function Ke(qe){Te[qe]=Ce[qe]&&function(rn){return new Promise(function(Pn,Rn){!function Ct(qe,rn,Pn,Rn){Promise.resolve(Rn).then(function(Kn){qe({value:Kn,done:Pn})},rn)}(Pn,Rn,(rn=Ce[qe](rn)).done,rn.value)})}}}wt.d(kr,{AQ:()=>Re,Cg:()=>Tn,N3:()=>Ue,Tt:()=>tt,sH:()=>ot,xN:()=>ft}),"function"==typeof SuppressedError&&SuppressedError}},go=>{go(go.s=7396)}]);