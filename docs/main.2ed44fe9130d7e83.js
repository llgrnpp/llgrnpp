(self.webpackChunkapp=self.webpackChunkapp||[]).push([[8792],{5845:(vo,Tr,_t)=>{"use strict";_t.d(Tr,{$:()=>Tf,A:()=>Pe,G:()=>st,K:()=>Xt,L:()=>Ir,N:()=>la,P:()=>Ph,R:()=>lu,U:()=>zn,V:()=>sd,W:()=>Sf,X:()=>Fh,Y:()=>dp,Z:()=>yr,_:()=>qu,a:()=>Fi,a0:()=>An,a1:()=>Xu,a2:()=>ad,a3:()=>ld,a4:()=>Ks,a5:()=>hp,a6:()=>ou,a7:()=>su,a8:()=>Bf,a9:()=>fp,aA:()=>Vt,aB:()=>Oe,aC:()=>Z,aD:()=>da,aE:()=>Nn,aF:()=>Ni,aG:()=>rh,aH:()=>yi,aI:()=>Vh,aJ:()=>Xr,aN:()=>Ti,aQ:()=>Od,aa:()=>IA,ab:()=>g,ac:()=>y,ad:()=>D,ae:()=>T,af:()=>$,ag:()=>ue,ah:()=>H,ak:()=>ee,al:()=>Ct,am:()=>Mt,ap:()=>Ol,aq:()=>ct,as:()=>Xn,at:()=>Qr,au:()=>nt,av:()=>sa,aw:()=>Fd,ax:()=>Le,ay:()=>cr,az:()=>Hs,b:()=>Mi,c:()=>Df,d:()=>Lh,e:()=>xf,f:()=>Fu,g:()=>Hh,h:()=>Fc,i:()=>Eo,j:()=>lc,k:()=>Cs,l:()=>Ys,m:()=>du,o:()=>kA,p:()=>Dt,r:()=>th,s:()=>Ts,u:()=>EA,y:()=>lr});var V=_t(467),Pt=_t(7852),he=_t(1076),Gt=_t(8041),xn=_t(1635),Ht=_t(1362);const Dt={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},Pe={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const st=function dt(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}},et=function Ie(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Ke=new he.FA("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),te=new Gt.Vy("@firebase/auth");function Ve(B,...m){te.logLevel<=Gt.$b.ERROR&&te.error(`Auth (${Pt.SDK_VERSION}): ${B}`,...m)}function Le(B,...m){throw fe(B,...m)}function Oe(B,...m){return fe(B,...m)}function ot(B,m,b){const F=Object.assign(Object.assign({},et()),{[m]:b});return new he.FA("auth","Firebase",F).create(m,{appName:B.name})}function ut(B){return ot(B,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function se(B,m,b){if(!(m instanceof b))throw b.name!==m.constructor.name&&Le(B,"argument-error"),ot(B,"argument-error",`Type of ${m.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function fe(B,...m){if("string"!=typeof B){const b=m[0],F=[...m.slice(1)];return F[0]&&(F[0].appName=B.name),B._errorFactory.create(b,...F)}return Ke.create(B,...m)}function Z(B,m,...b){if(!B)throw fe(m,...b)}function Se(B){const m="INTERNAL ASSERTION FAILED: "+B;throw Ve(m),new Error(m)}function nt(B,m){B||Se(m)}function At(){var B;return typeof self<"u"&&(null===(B=self.location)||void 0===B?void 0:B.href)||""}function Ne(){return"http:"===Ze()||"https:"===Ze()}function Ze(){var B;return typeof self<"u"&&(null===(B=self.location)||void 0===B?void 0:B.protocol)||null}class yt{constructor(m,b){this.shortDelay=m,this.longDelay=b,nt(b>m,"Short delay should be less than long delay!"),this.isMobile=(0,he.jZ)()||(0,he.lV)()}get(){return function Ft(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Ne()||(0,he.sr)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Te(B,m){nt(B.emulator,"Emulator should always be set here");const{url:b}=B.emulator;return m?`${b}${m.startsWith("/")?m.slice(1):m}`:b}class me{static initialize(m,b,F){this.fetchImpl=m,b&&(this.headersImpl=b),F&&(this.responseImpl=F)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void Se("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void Se("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void Se("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const xe={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Xe=new yt(3e4,6e4);function ft(B,m){return B.tenantId&&!m.tenantId?Object.assign(Object.assign({},m),{tenantId:B.tenantId}):m}function Je(B,m,b,F){return In.apply(this,arguments)}function In(){return(In=(0,V.A)(function*(B,m,b,F,W={}){return Un(B,W,(0,V.A)(function*(){let Ae={},gt={};F&&("GET"===m?gt=F:Ae={body:JSON.stringify(F)});const Tt=(0,he.Am)(Object.assign({key:B.config.apiKey},gt)).slice(1),yn=yield B._getAdditionalHeaders();return yn["Content-Type"]="application/json",B.languageCode&&(yn["X-Firebase-Locale"]=B.languageCode),me.fetch()(Ci(B,B.config.apiHost,b,Tt),Object.assign({method:m,headers:yn,referrerPolicy:"no-referrer"},Ae))}))})).apply(this,arguments)}function Un(B,m,b){return Mn.apply(this,arguments)}function Mn(){return(Mn=(0,V.A)(function*(B,m,b){B._canInitEmulator=!1;const F=Object.assign(Object.assign({},xe),m);try{const W=new Ei(B),Ae=yield Promise.race([b(),W.promise]);W.clearNetworkTimeout();const gt=yield Ae.json();if("needConfirmation"in gt)throw Mr(B,"account-exists-with-different-credential",gt);if(Ae.ok&&!("errorMessage"in gt))return gt;{const Tt=Ae.ok?gt.errorMessage:gt.error.message,[yn,Ln]=Tt.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===yn)throw Mr(B,"credential-already-in-use",gt);if("EMAIL_EXISTS"===yn)throw Mr(B,"email-already-in-use",gt);if("USER_DISABLED"===yn)throw Mr(B,"user-disabled",gt);const Lr=F[yn]||yn.toLowerCase().replace(/[_\s]+/g,"-");if(Ln)throw ot(B,Lr,Ln);Le(B,Lr)}}catch(W){if(W instanceof he.g)throw W;Le(B,"network-request-failed",{message:String(W)})}})).apply(this,arguments)}function Gn(B,m,b,F){return Pr.apply(this,arguments)}function Pr(){return(Pr=(0,V.A)(function*(B,m,b,F,W={}){const Ae=yield Je(B,m,b,F,W);return"mfaPendingCredential"in Ae&&Le(B,"multi-factor-auth-required",{_serverResponse:Ae}),Ae})).apply(this,arguments)}function Ci(B,m,b,F){const W=`${m}${b}?${F}`;return B.config.emulator?Te(B.config,W):`${B.config.apiScheme}://${W}`}function or(B){switch(B){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Ei{constructor(m){this.auth=m,this.timer=null,this.promise=new Promise((b,F)=>{this.timer=setTimeout(()=>F(Oe(this.auth,"network-request-failed")),Xe.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Mr(B,m,b){const F={appName:B.name};b.email&&(F.email=b.email),b.phoneNumber&&(F.phoneNumber=b.phoneNumber);const W=Oe(B,m,F);return W.customData._tokenResponse=b,W}function on(B){return void 0!==B&&void 0!==B.getResponse}function Qt(B){return void 0!==B&&void 0!==B.enterprise}class en{constructor(m){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===m.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=m.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=m.recaptchaEnforcementState}getProviderEnforcementState(m){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const b of this.recaptchaEnforcementState)if(b.provider&&b.provider===m)return or(b.enforcementState);return null}isProviderEnabled(m){return"ENFORCE"===this.getProviderEnforcementState(m)||"AUDIT"===this.getProviderEnforcementState(m)}}function qr(){return(qr=(0,V.A)(function*(B){return(yield Je(B,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function zr(B,m){return ri.apply(this,arguments)}function ri(){return(ri=(0,V.A)(function*(B,m){return Je(B,"GET","/v2/recaptchaConfig",ft(B,m))})).apply(this,arguments)}function Vr(){return(Vr=(0,V.A)(function*(B,m){return Je(B,"POST","/v1/accounts:delete",m)})).apply(this,arguments)}function Ri(){return(Ri=(0,V.A)(function*(B,m){return Je(B,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function cs(B,m){return ns.apply(this,arguments)}function ns(){return(ns=(0,V.A)(function*(B,m){return Je(B,"POST","/v1/accounts:lookup",m)})).apply(this,arguments)}function Ji(B){if(B)try{const m=new Date(Number(B));if(!isNaN(m.getTime()))return m.toUTCString()}catch{}}function Es(){return(Es=(0,V.A)(function*(B,m=!1){const b=(0,he.Ku)(B),F=yield b.getIdToken(m),W=Xo(F);Z(W&&W.exp&&W.auth_time&&W.iat,b.auth,"internal-error");const Ae="object"==typeof W.firebase?W.firebase:void 0,gt=null==Ae?void 0:Ae.sign_in_provider;return{claims:W,token:F,authTime:Ji(ys(W.auth_time)),issuedAtTime:Ji(ys(W.iat)),expirationTime:Ji(ys(W.exp)),signInProvider:gt||null,signInSecondFactor:(null==Ae?void 0:Ae.sign_in_second_factor)||null}})).apply(this,arguments)}function ys(B){return 1e3*Number(B)}function Xo(B){const[m,b,F]=B.split(".");if(void 0===m||void 0===b||void 0===F)return Ve("JWT malformed, contained fewer than 3 sections"),null;try{const W=(0,he.u)(b);return W?JSON.parse(W):(Ve("Failed to decode base64 JWT payload"),null)}catch(W){return Ve("Caught error parsing JWT payload as JSON",null==W?void 0:W.toString()),null}}function Oa(B){const m=Xo(B);return Z(m,"internal-error"),Z(typeof m.exp<"u","internal-error"),Z(typeof m.iat<"u","internal-error"),Number(m.exp)-Number(m.iat)}function ii(B,m){return Gs.apply(this,arguments)}function Gs(){return(Gs=(0,V.A)(function*(B,m,b=!1){if(b)return m;try{return yield m}catch(F){throw F instanceof he.g&&function Jo({code:B}){return"auth/user-disabled"===B||"auth/user-token-expired"===B}(F)&&B.auth.currentUser===B&&(yield B.auth.signOut()),F}})).apply(this,arguments)}class Ua{constructor(m){this.user=m,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(m){var b;if(m){const F=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),F}{this.errorBackoff=3e4;const W=(null!==(b=this.user.stsTokenManager.expirationTime)&&void 0!==b?b:0)-Date.now()-3e5;return Math.max(0,W)}}schedule(m=!1){var b=this;if(!this.isRunning)return;const F=this.getInterval(m);this.timerId=setTimeout((0,V.A)(function*(){yield b.iteration()}),F)}iteration(){var m=this;return(0,V.A)(function*(){try{yield m.user.getIdToken(!0)}catch(b){return void("auth/network-request-failed"===(null==b?void 0:b.code)&&m.schedule(!0))}m.schedule()})()}}class Fs{constructor(m,b){this.createdAt=m,this.lastLoginAt=b,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ji(this.lastLoginAt),this.creationTime=Ji(this.createdAt)}_copy(m){this.createdAt=m.createdAt,this.lastLoginAt=m.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function _s(B){return Do.apply(this,arguments)}function Do(){return(Do=(0,V.A)(function*(B){var m;const b=B.auth,F=yield B.getIdToken(),W=yield ii(B,cs(b,{idToken:F}));Z(null==W?void 0:W.users.length,b,"internal-error");const Ae=W.users[0];B._notifyReloadListener(Ae);const gt=null!==(m=Ae.providerUserInfo)&&void 0!==m&&m.length?Us(Ae.providerUserInfo):[],Tt=function Zi(B,m){return[...B.filter(F=>!m.some(W=>W.providerId===F.providerId)),...m]}(B.providerData,gt),Lr=!!B.isAnonymous&&!(B.email&&Ae.passwordHash||null!=Tt&&Tt.length),bi={uid:Ae.localId,displayName:Ae.displayName||null,photoURL:Ae.photoUrl||null,email:Ae.email||null,emailVerified:Ae.emailVerified||!1,phoneNumber:Ae.phoneNumber||null,tenantId:Ae.tenantId||null,providerData:Tt,metadata:new Fs(Ae.createdAt,Ae.lastLoginAt),isAnonymous:Lr};Object.assign(B,bi)})).apply(this,arguments)}function Ka(){return(Ka=(0,V.A)(function*(B){const m=(0,he.Ku)(B);yield _s(m),yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)})).apply(this,arguments)}function Us(B){return B.map(m=>{var{providerId:b}=m,F=(0,xn.Tt)(m,["providerId"]);return{providerId:b,uid:F.rawId||"",displayName:F.displayName||null,email:F.email||null,phoneNumber:F.phoneNumber||null,photoURL:F.photoUrl||null}})}function lt(){return(lt=(0,V.A)(function*(B,m){const b=yield Un(B,{},(0,V.A)(function*(){const F=(0,he.Am)({grant_type:"refresh_token",refresh_token:m}).slice(1),{tokenApiHost:W,apiKey:Ae}=B.config,gt=Ci(B,W,"/v1/token",`key=${Ae}`),Tt=yield B._getAdditionalHeaders();return Tt["Content-Type"]="application/x-www-form-urlencoded",me.fetch()(gt,{method:"POST",headers:Tt,body:F})}));return{accessToken:b.access_token,expiresIn:b.expires_in,refreshToken:b.refresh_token}})).apply(this,arguments)}function de(){return(de=(0,V.A)(function*(B,m){return Je(B,"POST","/v2/accounts:revokeToken",ft(B,m))})).apply(this,arguments)}class ye{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(m){Z(m.idToken,"internal-error"),Z(typeof m.idToken<"u","internal-error"),Z(typeof m.refreshToken<"u","internal-error");const b="expiresIn"in m&&typeof m.expiresIn<"u"?Number(m.expiresIn):Oa(m.idToken);this.updateTokensAndExpiration(m.idToken,m.refreshToken,b)}updateFromIdToken(m){Z(0!==m.length,"internal-error");const b=Oa(m);this.updateTokensAndExpiration(m,null,b)}getToken(m,b=!1){var F=this;return(0,V.A)(function*(){return b||!F.accessToken||F.isExpired?(Z(F.refreshToken,m,"user-token-expired"),F.refreshToken?(yield F.refresh(m,F.refreshToken),F.accessToken):null):F.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(m,b){var F=this;return(0,V.A)(function*(){const{accessToken:W,refreshToken:Ae,expiresIn:gt}=yield function hl(B,m){return lt.apply(this,arguments)}(m,b);F.updateTokensAndExpiration(W,Ae,Number(gt))})()}updateTokensAndExpiration(m,b,F){this.refreshToken=b||null,this.accessToken=m||null,this.expirationTime=Date.now()+1e3*F}static fromJSON(m,b){const{refreshToken:F,accessToken:W,expirationTime:Ae}=b,gt=new ye;return F&&(Z("string"==typeof F,"internal-error",{appName:m}),gt.refreshToken=F),W&&(Z("string"==typeof W,"internal-error",{appName:m}),gt.accessToken=W),Ae&&(Z("number"==typeof Ae,"internal-error",{appName:m}),gt.expirationTime=Ae),gt}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(m){this.accessToken=m.accessToken,this.refreshToken=m.refreshToken,this.expirationTime=m.expirationTime}_clone(){return Object.assign(new ye,this.toJSON())}_performRefresh(){return Se("not implemented")}}function J(B,m){Z("string"==typeof B||typeof B>"u","internal-error",{appName:m})}class wt{constructor(m){var{uid:b,auth:F,stsTokenManager:W}=m,Ae=(0,xn.Tt)(m,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Ua(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=b,this.auth=F,this.stsTokenManager=W,this.accessToken=W.accessToken,this.displayName=Ae.displayName||null,this.email=Ae.email||null,this.emailVerified=Ae.emailVerified||!1,this.phoneNumber=Ae.phoneNumber||null,this.photoURL=Ae.photoURL||null,this.isAnonymous=Ae.isAnonymous||!1,this.tenantId=Ae.tenantId||null,this.providerData=Ae.providerData?[...Ae.providerData]:[],this.metadata=new Fs(Ae.createdAt||void 0,Ae.lastLoginAt||void 0)}getIdToken(m){var b=this;return(0,V.A)(function*(){const F=yield ii(b,b.stsTokenManager.getToken(b.auth,m));return Z(F,b.auth,"internal-error"),b.accessToken!==F&&(b.accessToken=F,yield b.auth._persistUserIfCurrent(b),b.auth._notifyListenersIfCurrent(b)),F})()}getIdTokenResult(m){return function Ai(B){return Es.apply(this,arguments)}(this,m)}reload(){return function Wa(B){return Ka.apply(this,arguments)}(this)}_assign(m){this!==m&&(Z(this.uid===m.uid,this.auth,"internal-error"),this.displayName=m.displayName,this.photoURL=m.photoURL,this.email=m.email,this.emailVerified=m.emailVerified,this.phoneNumber=m.phoneNumber,this.isAnonymous=m.isAnonymous,this.tenantId=m.tenantId,this.providerData=m.providerData.map(b=>Object.assign({},b)),this.metadata._copy(m.metadata),this.stsTokenManager._assign(m.stsTokenManager))}_clone(m){const b=new wt(Object.assign(Object.assign({},this),{auth:m,stsTokenManager:this.stsTokenManager._clone()}));return b.metadata._copy(this.metadata),b}_onReload(m){Z(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=m,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(m){this.reloadListener?this.reloadListener(m):this.reloadUserInfo=m}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(m,b=!1){var F=this;return(0,V.A)(function*(){let W=!1;m.idToken&&m.idToken!==F.stsTokenManager.accessToken&&(F.stsTokenManager.updateFromServerResponse(m),W=!0),b&&(yield _s(F)),yield F.auth._persistUserIfCurrent(F),W&&F.auth._notifyListenersIfCurrent(F)})()}delete(){var m=this;return(0,V.A)(function*(){if((0,Pt._isFirebaseServerApp)(m.auth.app))return Promise.reject(ut(m.auth));const b=yield m.getIdToken();return yield ii(m,function Li(B,m){return Vr.apply(this,arguments)}(m.auth,{idToken:b})),m.stsTokenManager.clearRefreshToken(),m.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(m=>Object.assign({},m)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(m,b){var F,W,Ae,gt,Tt,yn,Ln,Lr;const bi=null!==(F=b.displayName)&&void 0!==F?F:void 0,Bs=null!==(W=b.email)&&void 0!==W?W:void 0,$l=null!==(Ae=b.phoneNumber)&&void 0!==Ae?Ae:void 0,tl=null!==(gt=b.photoURL)&&void 0!==gt?gt:void 0,Gl=null!==(Tt=b.tenantId)&&void 0!==Tt?Tt:void 0,Au=null!==(yn=b._redirectEventId)&&void 0!==yn?yn:void 0,qi=null!==(Ln=b.createdAt)&&void 0!==Ln?Ln:void 0,Ca=null!==(Lr=b.lastLoginAt)&&void 0!==Lr?Lr:void 0,{uid:Aa,emailVerified:ba,isAnonymous:Na,providerData:nl,stsTokenManager:Ia}=b;Z(Aa&&Ia,m,"internal-error");const Jd=ye.fromJSON(this.name,Ia);Z("string"==typeof Aa,m,"internal-error"),J(bi,m.name),J(Bs,m.name),Z("boolean"==typeof ba,m,"internal-error"),Z("boolean"==typeof Na,m,"internal-error"),J($l,m.name),J(tl,m.name),J(Gl,m.name),J(Au,m.name),J(qi,m.name),J(Ca,m.name);const rl=new wt({uid:Aa,auth:m,email:Bs,emailVerified:ba,displayName:bi,isAnonymous:Na,photoURL:tl,phoneNumber:$l,tenantId:Gl,stsTokenManager:Jd,createdAt:qi,lastLoginAt:Ca});return nl&&Array.isArray(nl)&&(rl.providerData=nl.map(il=>Object.assign({},il))),Au&&(rl._redirectEventId=Au),rl}static _fromIdTokenResponse(m,b,F=!1){return(0,V.A)(function*(){const W=new ye;W.updateFromServerResponse(b);const Ae=new wt({uid:b.localId,auth:m,stsTokenManager:W,isAnonymous:F});return yield _s(Ae),Ae})()}static _fromGetAccountInfoResponse(m,b,F){return(0,V.A)(function*(){const W=b.users[0];Z(void 0!==W.localId,"internal-error");const Ae=void 0!==W.providerUserInfo?Us(W.providerUserInfo):[],gt=!(W.email&&W.passwordHash||null!=Ae&&Ae.length),Tt=new ye;Tt.updateFromIdToken(F);const yn=new wt({uid:W.localId,auth:m,stsTokenManager:Tt,isAnonymous:gt}),Ln={uid:W.localId,displayName:W.displayName||null,photoURL:W.photoUrl||null,email:W.email||null,emailVerified:W.emailVerified||!1,phoneNumber:W.phoneNumber||null,tenantId:W.tenantId||null,providerData:Ae,metadata:new Fs(W.createdAt,W.lastLoginAt),isAnonymous:!(W.email&&W.passwordHash||null!=Ae&&Ae.length)};return Object.assign(yn,Ln),yn})()}}const Yt=new Map;function Nn(B){nt(B instanceof Function,"Expected a class definition");let m=Yt.get(B);return m?(nt(m instanceof B,"Instance stored in cache mismatched with class"),m):(m=new B,Yt.set(B,m),m)}const zn=(()=>{class B{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,V.A)(function*(){return!0})()}_set(b,F){var W=this;return(0,V.A)(function*(){W.storage[b]=F})()}_get(b){var F=this;return(0,V.A)(function*(){const W=F.storage[b];return void 0===W?null:W})()}_remove(b){var F=this;return(0,V.A)(function*(){delete F.storage[b]})()}_addListener(b,F){}_removeListener(b,F){}}return B.type="NONE",B})();function Ni(B,m,b){return`firebase:${B}:${m}:${b}`}class Yr{constructor(m,b,F){this.persistence=m,this.auth=b,this.userKey=F;const{config:W,name:Ae}=this.auth;this.fullUserKey=Ni(this.userKey,W.apiKey,Ae),this.fullPersistenceKey=Ni("persistence",W.apiKey,Ae),this.boundEventHandler=b._onStorageEvent.bind(b),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(m){return this.persistence._set(this.fullUserKey,m.toJSON())}getCurrentUser(){var m=this;return(0,V.A)(function*(){const b=yield m.persistence._get(m.fullUserKey);return b?wt._fromJSON(m.auth,b):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(m){var b=this;return(0,V.A)(function*(){if(b.persistence===m)return;const F=yield b.getCurrentUser();return yield b.removeCurrentUser(),b.persistence=m,F?b.setCurrentUser(F):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(m,b,F="authUser"){return(0,V.A)(function*(){if(!b.length)return new Yr(Nn(zn),m,F);const W=(yield Promise.all(b.map(function(){var Ln=(0,V.A)(function*(Lr){if(yield Lr._isAvailable())return Lr});return function(Lr){return Ln.apply(this,arguments)}}()))).filter(Ln=>Ln);let Ae=W[0]||Nn(zn);const gt=Ni(F,m.config.apiKey,m.name);let Tt=null;for(const Ln of b)try{const Lr=yield Ln._get(gt);if(Lr){const bi=wt._fromJSON(m,Lr);Ln!==Ae&&(Tt=bi),Ae=Ln;break}}catch{}const yn=W.filter(Ln=>Ln._shouldAllowMigration);return Ae._shouldAllowMigration&&yn.length?(Ae=yn[0],Tt&&(yield Ae._set(gt,Tt.toJSON())),yield Promise.all(b.map(function(){var Ln=(0,V.A)(function*(Lr){if(Lr!==Ae)try{yield Lr._remove(gt)}catch{}});return function(Lr){return Ln.apply(this,arguments)}}())),new Yr(Ae,m,F)):new Yr(Ae,m,F)})()}}function sn(B){const m=B.toLowerCase();if(m.includes("opera/")||m.includes("opr/")||m.includes("opios/"))return"Opera";if(rd(m))return"IEMobile";if(m.includes("msie")||m.includes("trident/"))return"IE";if(m.includes("edge/"))return"Edge";if(mi(m))return"Firefox";if(m.includes("silk/"))return"Silk";if(id(m))return"Blackberry";if(va(m))return"Webos";if(rs(m))return"Safari";if((m.includes("chrome/")||fl(m))&&!m.includes("edge/"))return"Chrome";if(Fd(m))return"Android";{const F=B.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==F?void 0:F.length))return F[1]}return"Other"}function mi(B=(0,he.ZQ)()){return/firefox\//i.test(B)}function rs(B=(0,he.ZQ)()){const m=B.toLowerCase();return m.includes("safari/")&&!m.includes("chrome/")&&!m.includes("crios/")&&!m.includes("android")}function fl(B=(0,he.ZQ)()){return/crios\//i.test(B)}function rd(B=(0,he.ZQ)()){return/iemobile/i.test(B)}function Fd(B=(0,he.ZQ)()){return/android/i.test(B)}function id(B=(0,he.ZQ)()){return/blackberry/i.test(B)}function va(B=(0,he.ZQ)()){return/webos/i.test(B)}function sa(B=(0,he.ZQ)()){return/iphone|ipad|ipod/i.test(B)||/macintosh/i.test(B)&&/mobile/i.test(B)}function Vt(B=(0,he.ZQ)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(B)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(B)}function Zn(B=(0,he.ZQ)()){return sa(B)||Fd(B)||va(B)||id(B)||/windows phone/i.test(B)||rd(B)}function oi(B,m=[]){let b;switch(B){case"Browser":b=sn((0,he.ZQ)());break;case"Worker":b=`${sn((0,he.ZQ)())}-${B}`;break;default:b=B}const F=m.length?m.join(","):"FirebaseCore-web";return`${b}/JsCore/${Pt.SDK_VERSION}/${F}`}class ur{constructor(m){this.auth=m,this.queue=[]}pushCallback(m,b){const F=Ae=>new Promise((gt,Tt)=>{try{gt(m(Ae))}catch(yn){Tt(yn)}});F.onAbort=b,this.queue.push(F);const W=this.queue.length-1;return()=>{this.queue[W]=()=>Promise.resolve()}}runMiddleware(m){var b=this;return(0,V.A)(function*(){if(b.auth.currentUser===m)return;const F=[];try{for(const W of b.queue)yield W(m),W.onAbort&&F.push(W.onAbort)}catch(W){F.reverse();for(const Ae of F)try{Ae()}catch{}throw b.auth._errorFactory.create("login-blocked",{originalMessage:null==W?void 0:W.message})}})()}}function Uo(){return(Uo=(0,V.A)(function*(B,m={}){return Je(B,"GET","/v2/passwordPolicy",ft(B,m))})).apply(this,arguments)}class tr{constructor(m){var b,F,W,Ae;const gt=m.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(b=gt.minPasswordLength)&&void 0!==b?b:6,gt.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=gt.maxPasswordLength),void 0!==gt.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=gt.containsLowercaseCharacter),void 0!==gt.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=gt.containsUppercaseCharacter),void 0!==gt.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=gt.containsNumericCharacter),void 0!==gt.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=gt.containsNonAlphanumericCharacter),this.enforcementState=m.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(W=null===(F=m.allowedNonAlphanumericCharacters)||void 0===F?void 0:F.join(""))&&void 0!==W?W:"",this.forceUpgradeOnSignin=null!==(Ae=m.forceUpgradeOnSignin)&&void 0!==Ae&&Ae,this.schemaVersion=m.schemaVersion}validatePassword(m){var b,F,W,Ae,gt,Tt;const yn={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(m,yn),this.validatePasswordCharacterOptions(m,yn),yn.isValid&&(yn.isValid=null===(b=yn.meetsMinPasswordLength)||void 0===b||b),yn.isValid&&(yn.isValid=null===(F=yn.meetsMaxPasswordLength)||void 0===F||F),yn.isValid&&(yn.isValid=null===(W=yn.containsLowercaseLetter)||void 0===W||W),yn.isValid&&(yn.isValid=null===(Ae=yn.containsUppercaseLetter)||void 0===Ae||Ae),yn.isValid&&(yn.isValid=null===(gt=yn.containsNumericCharacter)||void 0===gt||gt),yn.isValid&&(yn.isValid=null===(Tt=yn.containsNonAlphanumericCharacter)||void 0===Tt||Tt),yn}validatePasswordLengthOptions(m,b){const F=this.customStrengthOptions.minPasswordLength,W=this.customStrengthOptions.maxPasswordLength;F&&(b.meetsMinPasswordLength=m.length>=F),W&&(b.meetsMaxPasswordLength=m.length<=W)}validatePasswordCharacterOptions(m,b){let F;this.updatePasswordCharacterOptionsStatuses(b,!1,!1,!1,!1);for(let W=0;W<m.length;W++)F=m.charAt(W),this.updatePasswordCharacterOptionsStatuses(b,F>="a"&&F<="z",F>="A"&&F<="Z",F>="0"&&F<="9",this.allowedNonAlphanumericCharacters.includes(F))}updatePasswordCharacterOptionsStatuses(m,b,F,W,Ae){this.customStrengthOptions.containsLowercaseLetter&&(m.containsLowercaseLetter||(m.containsLowercaseLetter=b)),this.customStrengthOptions.containsUppercaseLetter&&(m.containsUppercaseLetter||(m.containsUppercaseLetter=F)),this.customStrengthOptions.containsNumericCharacter&&(m.containsNumericCharacter||(m.containsNumericCharacter=W)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(m.containsNonAlphanumericCharacter||(m.containsNonAlphanumericCharacter=Ae))}}class $r{constructor(m,b,F,W){this.app=m,this.heartbeatServiceProvider=b,this.appCheckServiceProvider=F,this.config=W,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new kd(this),this.idTokenSubscription=new kd(this),this.beforeStateQueue=new ur(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ke,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=m.name,this.clientVersion=W.sdkClientVersion}_initializeWithPersistence(m,b){var F=this;return b&&(this._popupRedirectResolver=Nn(b)),this._initializationPromise=this.queue((0,V.A)(function*(){var W,Ae;if(!F._deleted&&(F.persistenceManager=yield Yr.create(F,m),!F._deleted)){if(null!==(W=F._popupRedirectResolver)&&void 0!==W&&W._shouldInitProactively)try{yield F._popupRedirectResolver._initialize(F)}catch{}yield F.initializeCurrentUser(b),F.lastNotifiedUid=(null===(Ae=F.currentUser)||void 0===Ae?void 0:Ae.uid)||null,!F._deleted&&(F._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var m=this;return(0,V.A)(function*(){if(m._deleted)return;const b=yield m.assertedPersistence.getCurrentUser();if(m.currentUser||b){if(m.currentUser&&b&&m.currentUser.uid===b.uid)return m._currentUser._assign(b),void(yield m.currentUser.getIdToken());yield m._updateCurrentUser(b,!0)}})()}initializeCurrentUserFromIdToken(m){var b=this;return(0,V.A)(function*(){try{const F=yield cs(b,{idToken:m}),W=yield wt._fromGetAccountInfoResponse(b,F,m);yield b.directlySetCurrentUser(W)}catch(F){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",F),yield b.directlySetCurrentUser(null)}})()}initializeCurrentUser(m){var b=this;return(0,V.A)(function*(){var F;if((0,Pt._isFirebaseServerApp)(b.app)){const Tt=b.app.settings.authIdToken;return Tt?new Promise(yn=>{setTimeout(()=>b.initializeCurrentUserFromIdToken(Tt).then(yn,yn))}):b.directlySetCurrentUser(null)}const W=yield b.assertedPersistence.getCurrentUser();let Ae=W,gt=!1;if(m&&b.config.authDomain){yield b.getOrInitRedirectPersistenceManager();const Tt=null===(F=b.redirectUser)||void 0===F?void 0:F._redirectEventId,yn=null==Ae?void 0:Ae._redirectEventId,Ln=yield b.tryRedirectSignIn(m);(!Tt||Tt===yn)&&null!=Ln&&Ln.user&&(Ae=Ln.user,gt=!0)}if(!Ae)return b.directlySetCurrentUser(null);if(!Ae._redirectEventId){if(gt)try{yield b.beforeStateQueue.runMiddleware(Ae)}catch(Tt){Ae=W,b._popupRedirectResolver._overrideRedirectResult(b,()=>Promise.reject(Tt))}return Ae?b.reloadAndSetCurrentUserOrClear(Ae):b.directlySetCurrentUser(null)}return Z(b._popupRedirectResolver,b,"argument-error"),yield b.getOrInitRedirectPersistenceManager(),b.redirectUser&&b.redirectUser._redirectEventId===Ae._redirectEventId?b.directlySetCurrentUser(Ae):b.reloadAndSetCurrentUserOrClear(Ae)})()}tryRedirectSignIn(m){var b=this;return(0,V.A)(function*(){let F=null;try{F=yield b._popupRedirectResolver._completeRedirectFn(b,m,!0)}catch{yield b._setRedirectUser(null)}return F})()}reloadAndSetCurrentUserOrClear(m){var b=this;return(0,V.A)(function*(){try{yield _s(m)}catch(F){if("auth/network-request-failed"!==(null==F?void 0:F.code))return b.directlySetCurrentUser(null)}return b.directlySetCurrentUser(m)})()}useDeviceLanguage(){this.languageCode=function Rt(){if(typeof navigator>"u")return null;const B=navigator;return B.languages&&B.languages[0]||B.language||null}()}_delete(){var m=this;return(0,V.A)(function*(){m._deleted=!0})()}updateCurrentUser(m){var b=this;return(0,V.A)(function*(){if((0,Pt._isFirebaseServerApp)(b.app))return Promise.reject(ut(b));const F=m?(0,he.Ku)(m):null;return F&&Z(F.auth.config.apiKey===b.config.apiKey,b,"invalid-user-token"),b._updateCurrentUser(F&&F._clone(b))})()}_updateCurrentUser(m,b=!1){var F=this;return(0,V.A)(function*(){if(!F._deleted)return m&&Z(F.tenantId===m.tenantId,F,"tenant-id-mismatch"),b||(yield F.beforeStateQueue.runMiddleware(m)),F.queue((0,V.A)(function*(){yield F.directlySetCurrentUser(m),F.notifyAuthListeners()}))})()}signOut(){var m=this;return(0,V.A)(function*(){return(0,Pt._isFirebaseServerApp)(m.app)?Promise.reject(ut(m)):(yield m.beforeStateQueue.runMiddleware(null),(m.redirectPersistenceManager||m._popupRedirectResolver)&&(yield m._setRedirectUser(null)),m._updateCurrentUser(null,!0))})()}setPersistence(m){var b=this;return(0,Pt._isFirebaseServerApp)(this.app)?Promise.reject(ut(this)):this.queue((0,V.A)(function*(){yield b.assertedPersistence.setPersistence(Nn(m))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(m){var b=this;return(0,V.A)(function*(){b._getPasswordPolicyInternal()||(yield b._updatePasswordPolicy());const F=b._getPasswordPolicyInternal();return F.schemaVersion!==b.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(b._errorFactory.create("unsupported-password-policy-schema-version",{})):F.validatePassword(m)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var m=this;return(0,V.A)(function*(){const b=yield function Qi(B){return Uo.apply(this,arguments)}(m),F=new tr(b);null===m.tenantId?m._projectPasswordPolicy=F:m._tenantPasswordPolicies[m.tenantId]=F})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(m){this._errorFactory=new he.FA("auth","Firebase",m())}onAuthStateChanged(m,b,F){return this.registerStateListener(this.authStateSubscription,m,b,F)}beforeAuthStateChanged(m,b){return this.beforeStateQueue.pushCallback(m,b)}onIdTokenChanged(m,b,F){return this.registerStateListener(this.idTokenSubscription,m,b,F)}authStateReady(){return new Promise((m,b)=>{if(this.currentUser)m();else{const F=this.onAuthStateChanged(()=>{F(),m()},b)}})}revokeAccessToken(m){var b=this;return(0,V.A)(function*(){if(b.currentUser){const F=yield b.currentUser.getIdToken(),W={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:m,idToken:F};null!=b.tenantId&&(W.tenantId=b.tenantId),yield function rt(B,m){return de.apply(this,arguments)}(b,W)}})()}toJSON(){var m;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(m=this._currentUser)||void 0===m?void 0:m.toJSON()}}_setRedirectUser(m,b){var F=this;return(0,V.A)(function*(){const W=yield F.getOrInitRedirectPersistenceManager(b);return null===m?W.removeCurrentUser():W.setCurrentUser(m)})()}getOrInitRedirectPersistenceManager(m){var b=this;return(0,V.A)(function*(){if(!b.redirectPersistenceManager){const F=m&&Nn(m)||b._popupRedirectResolver;Z(F,b,"argument-error"),b.redirectPersistenceManager=yield Yr.create(b,[Nn(F._redirectPersistence)],"redirectUser"),b.redirectUser=yield b.redirectPersistenceManager.getCurrentUser()}return b.redirectPersistenceManager})()}_redirectUserForId(m){var b=this;return(0,V.A)(function*(){var F,W;return b._isInitialized&&(yield b.queue((0,V.A)(function*(){}))),(null===(F=b._currentUser)||void 0===F?void 0:F._redirectEventId)===m?b._currentUser:(null===(W=b.redirectUser)||void 0===W?void 0:W._redirectEventId)===m?b.redirectUser:null})()}_persistUserIfCurrent(m){var b=this;return(0,V.A)(function*(){if(m===b.currentUser)return b.queue((0,V.A)(function*(){return b.directlySetCurrentUser(m)}))})()}_notifyListenersIfCurrent(m){m===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var m,b;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const F=null!==(b=null===(m=this.currentUser)||void 0===m?void 0:m.uid)&&void 0!==b?b:null;this.lastNotifiedUid!==F&&(this.lastNotifiedUid=F,this.authStateSubscription.next(this.currentUser))}registerStateListener(m,b,F,W){if(this._deleted)return()=>{};const Ae="function"==typeof b?b:b.next.bind(b);let gt=!1;const Tt=this._isInitialized?Promise.resolve():this._initializationPromise;if(Z(Tt,this,"internal-error"),Tt.then(()=>{gt||Ae(this.currentUser)}),"function"==typeof b){const yn=m.addObserver(b,F,W);return()=>{gt=!0,yn()}}{const yn=m.addObserver(b);return()=>{gt=!0,yn()}}}directlySetCurrentUser(m){var b=this;return(0,V.A)(function*(){b.currentUser&&b.currentUser!==m&&b._currentUser._stopProactiveRefresh(),m&&b.isProactiveRefreshEnabled&&m._startProactiveRefresh(),b.currentUser=m,m?yield b.assertedPersistence.setCurrentUser(m):yield b.assertedPersistence.removeCurrentUser()})()}queue(m){return this.operations=this.operations.then(m,m),this.operations}get assertedPersistence(){return Z(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(m){!m||this.frameworks.includes(m)||(this.frameworks.push(m),this.frameworks.sort(),this.clientVersion=oi(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var m=this;return(0,V.A)(function*(){var b;const F={"X-Client-Version":m.clientVersion};m.app.options.appId&&(F["X-Firebase-gmpid"]=m.app.options.appId);const W=yield null===(b=m.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===b?void 0:b.getHeartbeatsHeader();W&&(F["X-Firebase-Client"]=W);const Ae=yield m._getAppCheckToken();return Ae&&(F["X-Firebase-AppCheck"]=Ae),F})()}_getAppCheckToken(){var m=this;return(0,V.A)(function*(){var b;const F=yield null===(b=m.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===b?void 0:b.getToken();return null!=F&&F.error&&function ce(B,...m){te.logLevel<=Gt.$b.WARN&&te.warn(`Auth (${Pt.SDK_VERSION}): ${B}`,...m)}(`Error while retrieving App Check token: ${F.error}`),null==F?void 0:F.token})()}}function Xr(B){return(0,he.Ku)(B)}class kd{constructor(m){this.auth=m,this.observer=null,this.addObserver=(0,he.tD)(b=>this.observer=b)}get next(){return Z(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let qa={loadJS:()=>(0,V.A)(function*(){throw new Error("Unable to load external scripts")})(),recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Or(B){return qa.loadJS(B)}function Ec(B){return`__${B}${Math.floor(1e6*Math.random())}`}class aa{constructor(m){this.type="recaptcha-enterprise",this.auth=Xr(m)}verify(m="verify",b=!1){var F=this;return(0,V.A)(function*(){function Ae(){return Ae=(0,V.A)(function*(Tt){if(!b){if(null==Tt.tenantId&&null!=Tt._agentRecaptchaConfig)return Tt._agentRecaptchaConfig.siteKey;if(null!=Tt.tenantId&&void 0!==Tt._tenantRecaptchaConfigs[Tt.tenantId])return Tt._tenantRecaptchaConfigs[Tt.tenantId].siteKey}return new Promise(function(){var yn=(0,V.A)(function*(Ln,Lr){zr(Tt,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(bi=>{if(void 0!==bi.recaptchaKey){const Bs=new en(bi);return null==Tt.tenantId?Tt._agentRecaptchaConfig=Bs:Tt._tenantRecaptchaConfigs[Tt.tenantId]=Bs,Ln(Bs.siteKey)}Lr(new Error("recaptcha Enterprise site key undefined"))}).catch(bi=>{Lr(bi)})});return function(Ln,Lr){return yn.apply(this,arguments)}}())}),Ae.apply(this,arguments)}function gt(Tt,yn,Ln){const Lr=window.grecaptcha;Qt(Lr)?Lr.enterprise.ready(()=>{Lr.enterprise.execute(Tt,{action:m}).then(bi=>{yn(bi)}).catch(()=>{yn("NO_RECAPTCHA")})}):Ln(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((Tt,yn)=>{(function W(Tt){return Ae.apply(this,arguments)})(F.auth).then(Ln=>{if(!b&&Qt(window.grecaptcha))gt(Ln,Tt,yn);else{if(typeof window>"u")return void yn(new Error("RecaptchaVerifier is only supported in browser"));let Lr=function eo(){return qa.recaptchaEnterpriseScript}();0!==Lr.length&&(Lr+=Ln),Or(Lr).then(()=>{gt(Ln,Tt,yn)}).catch(bi=>{yn(bi)})}}).catch(Ln=>{yn(Ln)})})})()}}function Ot(B,m,b){return K.apply(this,arguments)}function K(){return(K=(0,V.A)(function*(B,m,b,F=!1){const W=new aa(B);let Ae;try{Ae=yield W.verify(b)}catch{Ae=yield W.verify(b,!0)}const gt=Object.assign({},m);return Object.assign(gt,F?{captchaResp:Ae}:{captchaResponse:Ae}),Object.assign(gt,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(gt,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),gt})).apply(this,arguments)}function oe(B,m,b,F){return at.apply(this,arguments)}function at(){return at=(0,V.A)(function*(B,m,b,F){var W;if(null!==(W=B._getRecaptchaConfig())&&void 0!==W&&W.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const Ae=yield Ot(B,m,b,"getOobCode"===b);return F(B,Ae)}return F(B,m).catch(function(){var Ae=(0,V.A)(function*(gt){if("auth/missing-recaptcha-token"===gt.code){console.log(`${b} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const Tt=yield Ot(B,m,b,"getOobCode"===b);return F(B,Tt)}return Promise.reject(gt)});return function(gt){return Ae.apply(this,arguments)}}())}),at.apply(this,arguments)}function Xt(B,m,b){const F=Xr(B);Z(F._canInitEmulator,F,"emulator-config-failed"),Z(/^https?:\/\//.test(m),F,"invalid-emulator-scheme");const W=!(null==b||!b.disableWarnings),Ae=kn(m),{host:gt,port:Tt}=function Rn(B){const m=kn(B),b=/(\/\/)?([^?#/]+)/.exec(B.substr(m.length));if(!b)return{host:"",port:null};const F=b[2].split("@").pop()||"",W=/^(\[[^\]]+\])(:|$)/.exec(F);if(W){const Ae=W[1];return{host:Ae,port:qn(F.substr(Ae.length+1))}}{const[Ae,gt]=F.split(":");return{host:Ae,port:qn(gt)}}}(m);F.config.emulator={url:`${Ae}//${gt}${null===Tt?"":`:${Tt}`}/`},F.settings.appVerificationDisabledForTesting=!0,F.emulatorConfig=Object.freeze({host:gt,port:Tt,protocol:Ae.replace(":",""),options:Object.freeze({disableWarnings:W})}),W||function pr(){function B(){const m=document.createElement("p"),b=m.style;m.innerText="Running in emulator mode. Do not use with production credentials.",b.position="fixed",b.width="100%",b.backgroundColor="#ffffff",b.border=".1em solid #000000",b.color="#b50000",b.bottom="0px",b.left="0px",b.margin="0px",b.zIndex="10000",b.textAlign="center",m.classList.add("firebase-emulator-warning"),document.body.appendChild(m)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",B):B())}()}function kn(B){const m=B.indexOf(":");return m<0?"":B.substr(0,m+1)}function qn(B){if(!B)return null;const m=Number(B);return isNaN(m)?null:m}class Ir{constructor(m,b){this.providerId=m,this.signInMethod=b}toJSON(){return Se("not implemented")}_getIdTokenResponse(m){return Se("not implemented")}_linkToIdToken(m,b){return Se("not implemented")}_getReauthenticationResolver(m){return Se("not implemented")}}function Dn(B,m){return xo.apply(this,arguments)}function xo(){return(xo=(0,V.A)(function*(B,m){return Je(B,"POST","/v1/accounts:resetPassword",ft(B,m))})).apply(this,arguments)}function po(){return(po=(0,V.A)(function*(B,m){return Je(B,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function ws(B,m){return jr.apply(this,arguments)}function jr(){return(jr=(0,V.A)(function*(B,m){return Je(B,"POST","/v1/accounts:signUp",m)})).apply(this,arguments)}function ks(){return(ks=(0,V.A)(function*(B,m){return Je(B,"POST","/v1/accounts:update",ft(B,m))})).apply(this,arguments)}function Rl(B,m){return Va.apply(this,arguments)}function Va(){return(Va=(0,V.A)(function*(B,m){return Gn(B,"POST","/v1/accounts:signInWithPassword",ft(B,m))})).apply(this,arguments)}function vi(B,m){return Ku.apply(this,arguments)}function Ku(){return(Ku=(0,V.A)(function*(B,m){return Je(B,"POST","/v1/accounts:sendOobCode",ft(B,m))})).apply(this,arguments)}function mA(){return(mA=(0,V.A)(function*(B,m){return vi(B,m)})).apply(this,arguments)}function Pl(B,m){return YA.apply(this,arguments)}function YA(){return(YA=(0,V.A)(function*(B,m){return vi(B,m)})).apply(this,arguments)}function xh(B,m){return Ef.apply(this,arguments)}function Ef(){return(Ef=(0,V.A)(function*(B,m){return vi(B,m)})).apply(this,arguments)}function to(){return(to=(0,V.A)(function*(B,m){return vi(B,m)})).apply(this,arguments)}function Pd(){return(Pd=(0,V.A)(function*(B,m){return Gn(B,"POST","/v1/accounts:signInWithEmailLink",ft(B,m))})).apply(this,arguments)}function Nd(){return(Nd=(0,V.A)(function*(B,m){return Gn(B,"POST","/v1/accounts:signInWithEmailLink",ft(B,m))})).apply(this,arguments)}class tu extends Ir{constructor(m,b,F,W=null){super("password",F),this._email=m,this._password=b,this._tenantId=W}static _fromEmailAndPassword(m,b){return new tu(m,b,"password")}static _fromEmailAndCode(m,b,F=null){return new tu(m,b,"emailLink",F)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(m){const b="string"==typeof m?JSON.parse(m):m;if(null!=b&&b.email&&null!=b&&b.password){if("password"===b.signInMethod)return this._fromEmailAndPassword(b.email,b.password);if("emailLink"===b.signInMethod)return this._fromEmailAndCode(b.email,b.password,b.tenantId)}return null}_getIdTokenResponse(m){var b=this;return(0,V.A)(function*(){switch(b.signInMethod){case"password":return oe(m,{returnSecureToken:!0,email:b._email,password:b._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",Rl);case"emailLink":return function Ws(B,m){return Pd.apply(this,arguments)}(m,{email:b._email,oobCode:b._password});default:Le(m,"internal-error")}})()}_linkToIdToken(m,b){var F=this;return(0,V.A)(function*(){switch(F.signInMethod){case"password":return oe(m,{idToken:b,returnSecureToken:!0,email:F._email,password:F._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",ws);case"emailLink":return function Jm(B,m){return Nd.apply(this,arguments)}(m,{idToken:b,email:F._email,oobCode:F._password});default:Le(m,"internal-error")}})()}_getReauthenticationResolver(m){return this._getIdTokenResponse(m)}}function Du(B,m){return od.apply(this,arguments)}function od(){return(od=(0,V.A)(function*(B,m){return Gn(B,"POST","/v1/accounts:signInWithIdp",ft(B,m))})).apply(this,arguments)}class la extends Ir{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(m){const b=new la(m.providerId,m.signInMethod);return m.idToken||m.accessToken?(m.idToken&&(b.idToken=m.idToken),m.accessToken&&(b.accessToken=m.accessToken),m.nonce&&!m.pendingToken&&(b.nonce=m.nonce),m.pendingToken&&(b.pendingToken=m.pendingToken)):m.oauthToken&&m.oauthTokenSecret?(b.accessToken=m.oauthToken,b.secret=m.oauthTokenSecret):Le("argument-error"),b}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(m){const b="string"==typeof m?JSON.parse(m):m,{providerId:F,signInMethod:W}=b,Ae=(0,xn.Tt)(b,["providerId","signInMethod"]);if(!F||!W)return null;const gt=new la(F,W);return gt.idToken=Ae.idToken||void 0,gt.accessToken=Ae.accessToken||void 0,gt.secret=Ae.secret,gt.nonce=Ae.nonce,gt.pendingToken=Ae.pendingToken||null,gt}_getIdTokenResponse(m){return Du(m,this.buildRequest())}_linkToIdToken(m,b){const F=this.buildRequest();return F.idToken=b,Du(m,F)}_getReauthenticationResolver(m){const b=this.buildRequest();return b.autoCreate=!1,Du(m,b)}buildRequest(){const m={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)m.pendingToken=this.pendingToken;else{const b={};this.idToken&&(b.id_token=this.idToken),this.accessToken&&(b.access_token=this.accessToken),this.secret&&(b.oauth_token_secret=this.secret),b.providerId=this.providerId,this.nonce&&!this.pendingToken&&(b.nonce=this.nonce),m.postBody=(0,he.Am)(b)}return m}}function Nl(){return(Nl=(0,V.A)(function*(B,m){return Je(B,"POST","/v1/accounts:sendVerificationCode",ft(B,m))})).apply(this,arguments)}function oo(){return(oo=(0,V.A)(function*(B,m){return Gn(B,"POST","/v1/accounts:signInWithPhoneNumber",ft(B,m))})).apply(this,arguments)}function Ml(){return(Ml=(0,V.A)(function*(B,m){const b=yield Gn(B,"POST","/v1/accounts:signInWithPhoneNumber",ft(B,m));if(b.temporaryProof)throw Mr(B,"account-exists-with-different-credential",b);return b})).apply(this,arguments)}const Md={USER_NOT_FOUND:"user-not-found"};function Sc(){return(Sc=(0,V.A)(function*(B,m){return Gn(B,"POST","/v1/accounts:signInWithPhoneNumber",ft(B,Object.assign(Object.assign({},m),{operation:"REAUTH"})),Md)})).apply(this,arguments)}class Ll extends Ir{constructor(m){super("phone","phone"),this.params=m}static _fromVerification(m,b){return new Ll({verificationId:m,verificationCode:b})}static _fromTokenResponse(m,b){return new Ll({phoneNumber:m,temporaryProof:b})}_getIdTokenResponse(m){return function Gr(B,m){return oo.apply(this,arguments)}(m,this._makeVerificationRequest())}_linkToIdToken(m,b){return function Fg(B,m){return Ml.apply(this,arguments)}(m,Object.assign({idToken:b},this._makeVerificationRequest()))}_getReauthenticationResolver(m){return function yA(B,m){return Sc.apply(this,arguments)}(m,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:m,phoneNumber:b,verificationId:F,verificationCode:W}=this.params;return m&&b?{temporaryProof:m,phoneNumber:b}:{sessionInfo:F,code:W}}toJSON(){const m={providerId:this.providerId};return this.params.phoneNumber&&(m.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(m.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(m.verificationCode=this.params.verificationCode),this.params.verificationId&&(m.verificationId=this.params.verificationId),m}static fromJSON(m){"string"==typeof m&&(m=JSON.parse(m));const{verificationId:b,verificationCode:F,phoneNumber:W,temporaryProof:Ae}=m;return F||b||W||Ae?new Ll({verificationId:b,verificationCode:F,phoneNumber:W,temporaryProof:Ae}):null}}class nu{constructor(m){var b,F,W,Ae,gt,Tt;const yn=(0,he.I9)((0,he.hp)(m)),Ln=null!==(b=yn.apiKey)&&void 0!==b?b:null,Lr=null!==(F=yn.oobCode)&&void 0!==F?F:null,bi=function Jr(B){switch(B){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(W=yn.mode)&&void 0!==W?W:null);Z(Ln&&Lr&&bi,"argument-error"),this.apiKey=Ln,this.operation=bi,this.code=Lr,this.continueUrl=null!==(Ae=yn.continueUrl)&&void 0!==Ae?Ae:null,this.languageCode=null!==(gt=yn.languageCode)&&void 0!==gt?gt:null,this.tenantId=null!==(Tt=yn.tenantId)&&void 0!==Tt?Tt:null}static parseLink(m){const b=function Ld(B){const m=(0,he.I9)((0,he.hp)(B)).link,b=m?(0,he.I9)((0,he.hp)(m)).deep_link_id:null,F=(0,he.I9)((0,he.hp)(B)).deep_link_id;return(F?(0,he.I9)((0,he.hp)(F)).link:null)||F||b||m||B}(m);try{return new nu(b)}catch{return null}}}let sd=(()=>{class B{constructor(){this.providerId=B.PROVIDER_ID}static credential(b,F){return tu._fromEmailAndPassword(b,F)}static credentialWithLink(b,F){const W=nu.parseLink(F);return Z(W,"argument-error"),tu._fromEmailAndCode(b,W.code,W.tenantId)}}return B.PROVIDER_ID="password",B.EMAIL_PASSWORD_SIGN_IN_METHOD="password",B.EMAIL_LINK_SIGN_IN_METHOD="emailLink",B})();class Ya{constructor(m){this.providerId=m,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(m){this.defaultLanguageCode=m}setCustomParameters(m){return this.customParameters=m,this}getCustomParameters(){return this.customParameters}}class ru extends Ya{constructor(){super(...arguments),this.scopes=[]}addScope(m){return this.scopes.includes(m)||this.scopes.push(m),this}getScopes(){return[...this.scopes]}}class yr extends ru{static credentialFromJSON(m){const b="string"==typeof m?JSON.parse(m):m;return Z("providerId"in b&&"signInMethod"in b,"argument-error"),la._fromParams(b)}credential(m){return this._credential(Object.assign(Object.assign({},m),{nonce:m.rawNonce}))}_credential(m){return Z(m.idToken||m.accessToken,"argument-error"),la._fromParams(Object.assign(Object.assign({},m),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(m){return yr.oauthCredentialFromTaggedObject(m)}static credentialFromError(m){return yr.oauthCredentialFromTaggedObject(m.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:b,oauthAccessToken:F,oauthTokenSecret:W,pendingToken:Ae,nonce:gt,providerId:Tt}=m;if(!F&&!W&&!b&&!Ae||!Tt)return null;try{return new yr(Tt)._credential({idToken:b,accessToken:F,nonce:gt,pendingToken:Ae})}catch{return null}}}let Sf=(()=>{class B extends ru{constructor(){super("facebook.com")}static credential(b){return la._fromParams({providerId:B.PROVIDER_ID,signInMethod:B.FACEBOOK_SIGN_IN_METHOD,accessToken:b})}static credentialFromResult(b){return B.credentialFromTaggedObject(b)}static credentialFromError(b){return B.credentialFromTaggedObject(b.customData||{})}static credentialFromTaggedObject({_tokenResponse:b}){if(!b||!("oauthAccessToken"in b)||!b.oauthAccessToken)return null;try{return B.credential(b.oauthAccessToken)}catch{return null}}}return B.FACEBOOK_SIGN_IN_METHOD="facebook.com",B.PROVIDER_ID="facebook.com",B})(),Fh=(()=>{class B extends ru{constructor(){super("google.com"),this.addScope("profile")}static credential(b,F){return la._fromParams({providerId:B.PROVIDER_ID,signInMethod:B.GOOGLE_SIGN_IN_METHOD,idToken:b,accessToken:F})}static credentialFromResult(b){return B.credentialFromTaggedObject(b)}static credentialFromError(b){return B.credentialFromTaggedObject(b.customData||{})}static credentialFromTaggedObject({_tokenResponse:b}){if(!b)return null;const{oauthIdToken:F,oauthAccessToken:W}=b;if(!F&&!W)return null;try{return B.credential(F,W)}catch{return null}}}return B.GOOGLE_SIGN_IN_METHOD="google.com",B.PROVIDER_ID="google.com",B})(),dp=(()=>{class B extends ru{constructor(){super("github.com")}static credential(b){return la._fromParams({providerId:B.PROVIDER_ID,signInMethod:B.GITHUB_SIGN_IN_METHOD,accessToken:b})}static credentialFromResult(b){return B.credentialFromTaggedObject(b)}static credentialFromError(b){return B.credentialFromTaggedObject(b.customData||{})}static credentialFromTaggedObject({_tokenResponse:b}){if(!b||!("oauthAccessToken"in b)||!b.oauthAccessToken)return null;try{return B.credential(b.oauthAccessToken)}catch{return null}}}return B.GITHUB_SIGN_IN_METHOD="github.com",B.PROVIDER_ID="github.com",B})();class Od extends Ir{constructor(m,b){super(m,m),this.pendingToken=b}_getIdTokenResponse(m){return Du(m,this.buildRequest())}_linkToIdToken(m,b){const F=this.buildRequest();return F.idToken=b,Du(m,F)}_getReauthenticationResolver(m){const b=this.buildRequest();return b.autoCreate=!1,Du(m,b)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(m){const b="string"==typeof m?JSON.parse(m):m,{providerId:F,signInMethod:W,pendingToken:Ae}=b;return F&&W&&Ae&&F===W?new Od(F,Ae):null}static _create(m,b){return new Od(m,b)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class qu extends Ya{constructor(m){Z(m.startsWith("saml."),"argument-error"),super(m)}static credentialFromResult(m){return qu.samlCredentialFromTaggedObject(m)}static credentialFromError(m){return qu.samlCredentialFromTaggedObject(m.customData||{})}static credentialFromJSON(m){const b=Od.fromJSON(m);return Z(b,"argument-error"),b}static samlCredentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{pendingToken:b,providerId:F}=m;if(!b||!F)return null;try{return Od._create(F,b)}catch{return null}}}let Tf=(()=>{class B extends ru{constructor(){super("twitter.com")}static credential(b,F){return la._fromParams({providerId:B.PROVIDER_ID,signInMethod:B.TWITTER_SIGN_IN_METHOD,oauthToken:b,oauthTokenSecret:F})}static credentialFromResult(b){return B.credentialFromTaggedObject(b)}static credentialFromError(b){return B.credentialFromTaggedObject(b.customData||{})}static credentialFromTaggedObject({_tokenResponse:b}){if(!b)return null;const{oauthAccessToken:F,oauthTokenSecret:W}=b;if(!F||!W)return null;try{return B.credential(F,W)}catch{return null}}}return B.TWITTER_SIGN_IN_METHOD="twitter.com",B.PROVIDER_ID="twitter.com",B})();function iu(B,m){return JA.apply(this,arguments)}function JA(){return(JA=(0,V.A)(function*(B,m){return Gn(B,"POST","/v1/accounts:signUp",ft(B,m))})).apply(this,arguments)}class Pn{constructor(m){this.user=m.user,this.providerId=m.providerId,this._tokenResponse=m._tokenResponse,this.operationType=m.operationType}static _fromIdTokenResponse(m,b,F,W=!1){return(0,V.A)(function*(){const Ae=yield wt._fromIdTokenResponse(m,F,W),gt=Tc(F);return new Pn({user:Ae,providerId:gt,_tokenResponse:F,operationType:b})})()}static _forOperation(m,b,F){return(0,V.A)(function*(){yield m._updateTokensIfNecessary(F,!0);const W=Tc(F);return new Pn({user:m,providerId:W,_tokenResponse:F,operationType:b})})()}}function Tc(B){return B.providerId?B.providerId:"phoneNumber"in B?"phone":null}function An(B){return _A.apply(this,arguments)}function _A(){return(_A=(0,V.A)(function*(B){var m;if((0,Pt._isFirebaseServerApp)(B.app))return Promise.reject(ut(B));const b=Xr(B);if(yield b._initializationPromise,null!==(m=b.currentUser)&&void 0!==m&&m.isAnonymous)return new Pn({user:b.currentUser,providerId:null,operationType:"signIn"});const F=yield iu(b,{returnSecureToken:!0}),W=yield Pn._fromIdTokenResponse(b,"signIn",F,!0);return yield b._updateCurrentUser(W.user),W})).apply(this,arguments)}class Bc extends he.g{constructor(m,b,F,W){var Ae;super(b.code,b.message),this.operationType=F,this.user=W,Object.setPrototypeOf(this,Bc.prototype),this.customData={appName:m.name,tenantId:null!==(Ae=m.tenantId)&&void 0!==Ae?Ae:void 0,_serverResponse:b.customData._serverResponse,operationType:F}}static _fromErrorAndOperation(m,b,F,W){return new Bc(m,b,F,W)}}function Ud(B,m,b,F){return("reauthenticate"===m?b._getReauthenticationResolver(B):b._getIdTokenResponse(B)).catch(Ae=>{throw"auth/multi-factor-auth-required"===Ae.code?Bc._fromErrorAndOperation(B,Ae,m,F):Ae})}function Vd(B){return new Set(B.map(({providerId:m})=>m).filter(m=>!!m))}function Ol(B,m){return Rh.apply(this,arguments)}function Rh(){return Rh=(0,V.A)(function*(B,m){const b=(0,he.Ku)(B);yield Yu(!0,b,m);const{providerUserInfo:F}=yield function Io(B,m){return Ri.apply(this,arguments)}(b.auth,{idToken:yield b.getIdToken(),deleteProvider:[m]}),W=Vd(F||[]);return b.providerData=b.providerData.filter(Ae=>W.has(Ae.providerId)),W.has("phone")||(b.phoneNumber=null),yield b.auth._persistUserIfCurrent(b),b}),Rh.apply(this,arguments)}function xu(B,m){return Go.apply(this,arguments)}function Go(){return(Go=(0,V.A)(function*(B,m,b=!1){const F=yield ii(B,m._linkToIdToken(B.auth,yield B.getIdToken()),b);return Pn._forOperation(B,"link",F)})).apply(this,arguments)}function Yu(B,m,b){return ds.apply(this,arguments)}function ds(){return(ds=(0,V.A)(function*(B,m,b){yield _s(m);const W=!1===B?"provider-already-linked":"no-such-provider";Z(Vd(m.providerData).has(b)===B,m.auth,W)})).apply(this,arguments)}function ZA(B,m){return Fa.apply(this,arguments)}function Fa(){return(Fa=(0,V.A)(function*(B,m,b=!1){const{auth:F}=B;if((0,Pt._isFirebaseServerApp)(F.app))return Promise.reject(ut(F));const W="reauthenticate";try{const Ae=yield ii(B,Ud(F,W,m,B),b);Z(Ae.idToken,F,"internal-error");const gt=Xo(Ae.idToken);Z(gt,F,"internal-error");const{sub:Tt}=gt;return Z(B.uid===Tt,F,"user-mismatch"),Pn._forOperation(B,W,Ae)}catch(Ae){throw"auth/user-not-found"===(null==Ae?void 0:Ae.code)&&Le(F,"user-mismatch"),Ae}})).apply(this,arguments)}function Qd(B,m){return Oi.apply(this,arguments)}function Oi(){return(Oi=(0,V.A)(function*(B,m,b=!1){if((0,Pt._isFirebaseServerApp)(B.app))return Promise.reject(ut(B));const F="signIn",W=yield Ud(B,F,m),Ae=yield Pn._fromIdTokenResponse(B,F,W);return b||(yield B._updateCurrentUser(Ae.user)),Ae})).apply(this,arguments)}function Xu(B,m){return wA.apply(this,arguments)}function wA(){return(wA=(0,V.A)(function*(B,m){return Qd(Xr(B),m)})).apply(this,arguments)}function ad(B,m){return ka.apply(this,arguments)}function ka(){return(ka=(0,V.A)(function*(B,m){const b=(0,he.Ku)(B);return yield Yu(!1,b,m.providerId),xu(b,m)})).apply(this,arguments)}function ld(B,m){return Ul.apply(this,arguments)}function Ul(){return(Ul=(0,V.A)(function*(B,m){return ZA((0,he.Ku)(B),m)})).apply(this,arguments)}function Vl(){return(Vl=(0,V.A)(function*(B,m){return Gn(B,"POST","/v1/accounts:signInWithCustomToken",ft(B,m))})).apply(this,arguments)}function Ks(B,m){return Vs.apply(this,arguments)}function Vs(){return Vs=(0,V.A)(function*(B,m){if((0,Pt._isFirebaseServerApp)(B.app))return Promise.reject(ut(B));const b=Xr(B),F=yield function Ju(B,m){return Vl.apply(this,arguments)}(b,{token:m,returnSecureToken:!0}),W=yield Pn._fromIdTokenResponse(b,"signIn",F);return yield b._updateCurrentUser(W.user),W}),Vs.apply(this,arguments)}class Zo{constructor(m,b){this.factorId=m,this.uid=b.mfaEnrollmentId,this.enrollmentTime=new Date(b.enrolledAt).toUTCString(),this.displayName=b.displayName}static _fromServerResponse(m,b){return"phoneInfo"in b?Zu._fromServerResponse(m,b):"totpInfo"in b?CA._fromServerResponse(m,b):Le(m,"internal-error")}}class Zu extends Zo{constructor(m){super("phone",m),this.phoneNumber=m.phoneInfo}static _fromServerResponse(m,b){return new Zu(b)}}class CA extends Zo{constructor(m){super("totp",m)}static _fromServerResponse(m,b){return new CA(b)}}function pl(B,m,b){var F;Z((null===(F=b.url)||void 0===F?void 0:F.length)>0,B,"invalid-continue-uri"),Z(typeof b.dynamicLinkDomain>"u"||b.dynamicLinkDomain.length>0,B,"invalid-dynamic-link-domain"),m.continueUrl=b.url,m.dynamicLinkDomain=b.dynamicLinkDomain,m.canHandleCodeInApp=b.handleCodeInApp,b.iOS&&(Z(b.iOS.bundleId.length>0,B,"missing-ios-bundle-id"),m.iOSBundleId=b.iOS.bundleId),b.android&&(Z(b.android.packageName.length>0,B,"missing-android-pkg-name"),m.androidInstallApp=b.android.installApp,m.androidMinimumVersionCode=b.android.minimumVersion,m.androidPackageName=b.android.packageName)}function no(B){return ec.apply(this,arguments)}function ec(){return(ec=(0,V.A)(function*(B){const m=Xr(B);m._getPasswordPolicyInternal()&&(yield m._updatePasswordPolicy())})).apply(this,arguments)}function hp(B,m,b){return Dc.apply(this,arguments)}function Dc(){return(Dc=(0,V.A)(function*(B,m,b){const F=Xr(B),W={requestType:"PASSWORD_RESET",email:m,clientType:"CLIENT_TYPE_WEB"};b&&pl(F,W,b),yield oe(F,W,"getOobCode",Pl)})).apply(this,arguments)}function ou(B,m,b){return bA.apply(this,arguments)}function bA(){return bA=(0,V.A)(function*(B,m,b){yield Dn((0,he.Ku)(B),{oobCode:m,newPassword:b}).catch(function(){var F=(0,V.A)(function*(W){throw"auth/password-does-not-meet-requirements"===W.code&&no(B),W});return function(W){return F.apply(this,arguments)}}())}),bA.apply(this,arguments)}function su(B,m){return Fo.apply(this,arguments)}function Fo(){return Fo=(0,V.A)(function*(B,m){yield function go(B,m){return ks.apply(this,arguments)}((0,he.Ku)(B),{oobCode:m})}),Fo.apply(this,arguments)}function Bf(B,m){return eh.apply(this,arguments)}function eh(){return(eh=(0,V.A)(function*(B,m){const b=(0,he.Ku)(B),F=yield Dn(b,{oobCode:m}),W=F.requestType;switch(Z(W,b,"internal-error"),W){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Z(F.newEmail,b,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Z(F.mfaInfo,b,"internal-error");default:Z(F.email,b,"internal-error")}let Ae=null;return F.mfaInfo&&(Ae=Zo._fromServerResponse(Xr(b),F.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===F.requestType?F.newEmail:F.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===F.requestType?F.email:F.newEmail)||null,multiFactorInfo:Ae},operation:W}})).apply(this,arguments)}function fp(B,m){return gl.apply(this,arguments)}function gl(){return(gl=(0,V.A)(function*(B,m){const{data:b}=yield Bf((0,he.Ku)(B),m);return b.email})).apply(this,arguments)}function IA(B,m,b){return C.apply(this,arguments)}function C(){return(C=(0,V.A)(function*(B,m,b){if((0,Pt._isFirebaseServerApp)(B.app))return Promise.reject(ut(B));const F=Xr(B),gt=yield oe(F,{returnSecureToken:!0,email:m,password:b,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",iu).catch(yn=>{throw"auth/password-does-not-meet-requirements"===yn.code&&no(B),yn}),Tt=yield Pn._fromIdTokenResponse(F,"signIn",gt);return yield F._updateCurrentUser(Tt.user),Tt})).apply(this,arguments)}function g(B,m,b){return(0,Pt._isFirebaseServerApp)(B.app)?Promise.reject(ut(B)):Xu((0,he.Ku)(B),sd.credential(m,b)).catch(function(){var F=(0,V.A)(function*(W){throw"auth/password-does-not-meet-requirements"===W.code&&no(B),W});return function(W){return F.apply(this,arguments)}}())}function y(B,m,b){return E.apply(this,arguments)}function E(){return(E=(0,V.A)(function*(B,m,b){const F=Xr(B),W={requestType:"EMAIL_SIGNIN",email:m,clientType:"CLIENT_TYPE_WEB"};(function Ae(gt,Tt){Z(Tt.handleCodeInApp,F,"argument-error"),Tt&&pl(F,gt,Tt)})(W,b),yield oe(F,W,"getOobCode",xh)})).apply(this,arguments)}function D(B,m){const b=nu.parseLink(m);return"EMAIL_SIGNIN"===(null==b?void 0:b.operation)}function T(B,m,b){return P.apply(this,arguments)}function P(){return(P=(0,V.A)(function*(B,m,b){if((0,Pt._isFirebaseServerApp)(B.app))return Promise.reject(ut(B));const F=(0,he.Ku)(B),W=sd.credentialWithLink(m,b||At());return Z(W._tenantId===(F.tenantId||null),F,"tenant-id-mismatch"),Xu(F,W)})).apply(this,arguments)}function L(){return(L=(0,V.A)(function*(B,m){return Je(B,"POST","/v1/accounts:createAuthUri",ft(B,m))})).apply(this,arguments)}function $(B,m){return re.apply(this,arguments)}function re(){return re=(0,V.A)(function*(B,m){const F={identifier:m,continueUri:Ne()?At():"http://localhost"},{signinMethods:W}=yield function M(B,m){return L.apply(this,arguments)}((0,he.Ku)(B),F);return W||[]}),re.apply(this,arguments)}function ue(B,m){return ve.apply(this,arguments)}function ve(){return ve=(0,V.A)(function*(B,m){const b=(0,he.Ku)(B),W={requestType:"VERIFY_EMAIL",idToken:yield B.getIdToken()};m&&pl(b.auth,W,m);const{email:Ae}=yield function $n(B,m){return mA.apply(this,arguments)}(b.auth,W);Ae!==B.email&&(yield B.reload())}),ve.apply(this,arguments)}function H(B,m,b){return Qe.apply(this,arguments)}function Qe(){return Qe=(0,V.A)(function*(B,m,b){const F=(0,he.Ku)(B),Ae={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield B.getIdToken(),newEmail:m};b&&pl(F.auth,Ae,b);const{email:gt}=yield function Ss(B,m){return to.apply(this,arguments)}(F.auth,Ae);gt!==B.email&&(yield B.reload())}),Qe.apply(this,arguments)}function qe(){return(qe=(0,V.A)(function*(B,m){return Je(B,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function ee(B,m){return He.apply(this,arguments)}function He(){return He=(0,V.A)(function*(B,{displayName:m,photoURL:b}){if(void 0===m&&void 0===b)return;const F=(0,he.Ku)(B),Ae={idToken:yield F.getIdToken(),displayName:m,photoUrl:b,returnSecureToken:!0},gt=yield ii(F,function De(B,m){return qe.apply(this,arguments)}(F.auth,Ae));F.displayName=gt.displayName||null,F.photoURL=gt.photoUrl||null;const Tt=F.providerData.find(({providerId:yn})=>"password"===yn);Tt&&(Tt.displayName=F.displayName,Tt.photoURL=F.photoURL),yield F._updateTokensIfNecessary(gt)}),He.apply(this,arguments)}function Ct(B,m){const b=(0,he.Ku)(B);return(0,Pt._isFirebaseServerApp)(b.auth.app)?Promise.reject(ut(b.auth)):hn(b,m,null)}function Mt(B,m){return hn((0,he.Ku)(B),null,m)}function hn(B,m,b){return xt.apply(this,arguments)}function xt(){return xt=(0,V.A)(function*(B,m,b){const{auth:F}=B,Ae={idToken:yield B.getIdToken(),returnSecureToken:!0};m&&(Ae.email=m),b&&(Ae.password=b);const gt=yield ii(B,function fo(B,m){return po.apply(this,arguments)}(F,Ae));yield B._updateTokensIfNecessary(gt,!0)}),xt.apply(this,arguments)}class Ue{constructor(m,b,F={}){this.isNewUser=m,this.providerId=b,this.profile=F}}class an extends Ue{constructor(m,b,F,W){super(m,b,F),this.username=W}}class cn extends Ue{constructor(m,b){super(m,"facebook.com",b)}}class Re extends an{constructor(m,b){super(m,"github.com",b,"string"==typeof(null==b?void 0:b.login)?null==b?void 0:b.login:null)}}class Ee extends Ue{constructor(m,b){super(m,"google.com",b)}}class vt extends an{constructor(m,b,F){super(m,"twitter.com",b,F)}}function ct(B){const{user:m,_tokenResponse:b}=B;return m.isAnonymous&&!b?{providerId:null,isNewUser:!1,profile:null}:function Lt(B){var m,b;if(!B)return null;const{providerId:F}=B,W=B.rawUserInfo?JSON.parse(B.rawUserInfo):{},Ae=B.isNewUser||"identitytoolkit#SignupNewUserResponse"===B.kind;if(!F&&null!=B&&B.idToken){const gt=null===(b=null===(m=Xo(B.idToken))||void 0===m?void 0:m.firebase)||void 0===b?void 0:b.sign_in_provider;if(gt)return new Ue(Ae,"anonymous"!==gt&&"custom"!==gt?gt:null)}if(!F)return null;switch(F){case"facebook.com":return new cn(Ae,W);case"github.com":return new Re(Ae,W);case"google.com":return new Ee(Ae,W);case"twitter.com":return new vt(Ae,W,B.screenName||null);case"custom":case"anonymous":return new Ue(Ae,null);default:return new Ue(Ae,F,W)}}(b)}function lr(B,m,b,F){return(0,he.Ku)(B).onAuthStateChanged(m,b,F)}class qt{constructor(m,b,F){this.type=m,this.credential=b,this.user=F}static _fromIdtoken(m,b){return new qt("enroll",m,b)}static _fromMfaPendingCredential(m){return new qt("signin",m)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(m){var b,F;if(null!=m&&m.multiFactorSession){if(null!==(b=m.multiFactorSession)&&void 0!==b&&b.pendingCredential)return qt._fromMfaPendingCredential(m.multiFactorSession.pendingCredential);if(null!==(F=m.multiFactorSession)&&void 0!==F&&F.idToken)return qt._fromIdtoken(m.multiFactorSession.idToken)}return null}}class Jt{constructor(m,b,F){this.session=m,this.hints=b,this.signInResolver=F}static _fromError(m,b){const F=Xr(m),W=b.customData._serverResponse,Ae=(W.mfaInfo||[]).map(Tt=>Zo._fromServerResponse(F,Tt));Z(W.mfaPendingCredential,F,"internal-error");const gt=qt._fromMfaPendingCredential(W.mfaPendingCredential);return new Jt(gt,Ae,function(){var Tt=(0,V.A)(function*(yn){const Ln=yield yn._process(F,gt);delete W.mfaInfo,delete W.mfaPendingCredential;const Lr=Object.assign(Object.assign({},W),{idToken:Ln.idToken,refreshToken:Ln.refreshToken});switch(b.operationType){case"signIn":const bi=yield Pn._fromIdTokenResponse(F,b.operationType,Lr);return yield F._updateCurrentUser(bi.user),bi;case"reauthenticate":return Z(b.user,F,"internal-error"),Pn._forOperation(b.user,b.operationType,Lr);default:Le(F,"internal-error")}});return function(yn){return Tt.apply(this,arguments)}}())}resolveSignIn(m){var b=this;return(0,V.A)(function*(){return b.signInResolver(m)})()}}function Xn(B,m){var b;const F=(0,he.Ku)(B),W=m;return Z(m.customData.operationType,F,"argument-error"),Z(null===(b=W.customData._serverResponse)||void 0===b?void 0:b.mfaPendingCredential,F,"argument-error"),Jt._fromError(F,W)}class We{constructor(m){this.user=m,this.enrolledFactors=[],m._onReload(b=>{b.mfaInfo&&(this.enrolledFactors=b.mfaInfo.map(F=>Zo._fromServerResponse(m.auth,F)))})}static _fromUser(m){return new We(m)}getSession(){var m=this;return(0,V.A)(function*(){return qt._fromIdtoken(yield m.user.getIdToken(),m.user)})()}enroll(m,b){var F=this;return(0,V.A)(function*(){const W=m,Ae=yield F.getSession(),gt=yield ii(F.user,W._process(F.user.auth,Ae,b));return yield F.user._updateTokensIfNecessary(gt),F.user.reload()})()}unenroll(m){var b=this;return(0,V.A)(function*(){const F="string"==typeof m?m:m.uid,W=yield b.user.getIdToken();try{const Ae=yield ii(b.user,function vn(B,m){return Je(B,"POST","/v2/accounts/mfaEnrollment:withdraw",ft(B,m))}(b.user.auth,{idToken:W,mfaEnrollmentId:F}));b.enrolledFactors=b.enrolledFactors.filter(({uid:gt})=>gt!==F),yield b.user._updateTokensIfNecessary(Ae),yield b.user.reload()}catch(Ae){throw Ae}})()}}const ai=new WeakMap;function Qr(B){const m=(0,he.Ku)(B);return ai.has(m)||ai.set(m,We._fromUser(m)),ai.get(m)}const jn="__sak";class nr{constructor(m,b){this.storageRetriever=m,this.type=b}_isAvailable(){try{return this.storage?(this.storage.setItem(jn,"1"),this.storage.removeItem(jn),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(m,b){return this.storage.setItem(m,JSON.stringify(b)),Promise.resolve()}_get(m){const b=this.storage.getItem(m);return Promise.resolve(b?JSON.parse(b):null)}_remove(m){return this.storage.removeItem(m),Promise.resolve()}get storage(){return this.storageRetriever()}}const Mi=(()=>{class B extends nr{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(b,F)=>this.onStorageEvent(b,F),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function _r(){const B=(0,he.ZQ)();return rs(B)||sa(B)}()&&function Sr(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Zn(),this._shouldAllowMigration=!0}forAllChangedKeys(b){for(const F of Object.keys(this.listeners)){const W=this.storage.getItem(F),Ae=this.localCache[F];W!==Ae&&b(F,Ae,W)}}onStorageEvent(b,F=!1){if(!b.key)return void this.forAllChangedKeys((Tt,yn,Ln)=>{this.notifyListeners(Tt,Ln)});const W=b.key;if(F?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Tt=this.storage.getItem(W);if(b.newValue!==Tt)null!==b.newValue?this.storage.setItem(W,b.newValue):this.storage.removeItem(W);else if(this.localCache[W]===b.newValue&&!F)return}const Ae=()=>{const Tt=this.storage.getItem(W);!F&&this.localCache[W]===Tt||this.notifyListeners(W,Tt)},gt=this.storage.getItem(W);!function mn(){return(0,he.lT)()&&10===document.documentMode}()||gt===b.newValue||b.newValue===b.oldValue?Ae():setTimeout(Ae,10)}notifyListeners(b,F){this.localCache[b]=F;const W=this.listeners[b];if(W)for(const Ae of Array.from(W))Ae(F&&JSON.parse(F))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((b,F,W)=>{this.onStorageEvent(new StorageEvent("storage",{key:b,oldValue:F,newValue:W}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(b,F){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[b]||(this.listeners[b]=new Set,this.localCache[b]=this.storage.getItem(b)),this.listeners[b].add(F)}_removeListener(b,F){this.listeners[b]&&(this.listeners[b].delete(F),0===this.listeners[b].size&&delete this.listeners[b]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(b,F){var W=()=>super._set,Ae=this;return(0,V.A)(function*(){yield W().call(Ae,b,F),Ae.localCache[b]=JSON.stringify(F)})()}_get(b){var F=()=>super._get,W=this;return(0,V.A)(function*(){const Ae=yield F().call(W,b);return W.localCache[b]=JSON.stringify(Ae),Ae})()}_remove(b){var F=()=>super._remove,W=this;return(0,V.A)(function*(){yield F().call(W,b),delete W.localCache[b]})()}}return B.type="LOCAL",B})(),Fi=(()=>{class B extends nr{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(b,F){}_removeListener(b,F){}}return B.type="SESSION",B})();let fi=(()=>{class B{constructor(b){this.eventTarget=b,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(b){const F=this.receivers.find(Ae=>Ae.isListeningto(b));if(F)return F;const W=new B(b);return this.receivers.push(W),W}isListeningto(b){return this.eventTarget===b}handleEvent(b){var F=this;return(0,V.A)(function*(){const W=b,{eventId:Ae,eventType:gt,data:Tt}=W.data,yn=F.handlersMap[gt];if(null==yn||!yn.size)return;W.ports[0].postMessage({status:"ack",eventId:Ae,eventType:gt});const Ln=Array.from(yn).map(function(){var bi=(0,V.A)(function*(Bs){return Bs(W.origin,Tt)});return function(Bs){return bi.apply(this,arguments)}}()),Lr=yield function Vo(B){return Promise.all(B.map(function(){var m=(0,V.A)(function*(b){try{return{fulfilled:!0,value:yield b}}catch(F){return{fulfilled:!1,reason:F}}});return function(b){return m.apply(this,arguments)}}()))}(Ln);W.ports[0].postMessage({status:"done",eventId:Ae,eventType:gt,response:Lr})})()}_subscribe(b,F){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[b]||(this.handlersMap[b]=new Set),this.handlersMap[b].add(F)}_unsubscribe(b,F){this.handlersMap[b]&&F&&this.handlersMap[b].delete(F),(!F||0===this.handlersMap[b].size)&&delete this.handlersMap[b],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return B.receivers=[],B})();function Ti(B="",m=10){let b="";for(let F=0;F<m;F++)b+=Math.floor(10*Math.random());return B+b}class Ar{constructor(m){this.target=m,this.handlers=new Set}removeMessageHandler(m){m.messageChannel&&(m.messageChannel.port1.removeEventListener("message",m.onMessage),m.messageChannel.port1.close()),this.handlers.delete(m)}_send(m,b,F=50){var W=this;return(0,V.A)(function*(){const Ae=typeof MessageChannel<"u"?new MessageChannel:null;if(!Ae)throw new Error("connection_unavailable");let gt,Tt;return new Promise((yn,Ln)=>{const Lr=Ti("",20);Ae.port1.start();const bi=setTimeout(()=>{Ln(new Error("unsupported_event"))},F);Tt={messageChannel:Ae,onMessage(Bs){const $l=Bs;if($l.data.eventId===Lr)switch($l.data.status){case"ack":clearTimeout(bi),gt=setTimeout(()=>{Ln(new Error("timeout"))},3e3);break;case"done":clearTimeout(gt),yn($l.data.response);break;default:clearTimeout(bi),clearTimeout(gt),Ln(new Error("invalid_response"))}}},W.handlers.add(Tt),Ae.port1.addEventListener("message",Tt.onMessage),W.target.postMessage({eventType:m,eventId:Lr,data:b},[Ae.port2])}).finally(()=>{Tt&&W.removeMessageHandler(Tt)})})()}}function uo(){return window}function ml(){return typeof uo().WorkerGlobalScope<"u"&&"function"==typeof uo().importScripts}function ko(){return(ko=(0,V.A)(function*(){if(null==navigator||!navigator.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const ud="firebaseLocalStorageDb",vl="firebaseLocalStorage",nc="fbase_key";class Wo{constructor(m){this.request=m}toPromise(){return new Promise((m,b)=>{this.request.addEventListener("success",()=>{m(this.request.result)}),this.request.addEventListener("error",()=>{b(this.request.error)})})}}function ci(B,m){return B.transaction([vl],m?"readwrite":"readonly").objectStore(vl)}function Qn(){const B=indexedDB.open(ud,1);return new Promise((m,b)=>{B.addEventListener("error",()=>{b(B.error)}),B.addEventListener("upgradeneeded",()=>{const F=B.result;try{F.createObjectStore(vl,{keyPath:nc})}catch(W){b(W)}}),B.addEventListener("success",(0,V.A)(function*(){const F=B.result;F.objectStoreNames.contains(vl)?m(F):(F.close(),yield function ti(){const B=indexedDB.deleteDatabase(ud);return new Wo(B).toPromise()}(),m(yield Qn()))}))})}function wr(B,m,b){return co.apply(this,arguments)}function co(){return(co=(0,V.A)(function*(B,m,b){const F=ci(B,!0).put({[nc]:m,value:b});return new Wo(F).toPromise()})).apply(this,arguments)}function kr(){return(kr=(0,V.A)(function*(B,m){const b=ci(B,!1).get(m),F=yield new Wo(b).toPromise();return void 0===F?null:F.value})).apply(this,arguments)}function As(B,m){const b=ci(B,!0).delete(m);return new Wo(b).toPromise()}const Eo=(()=>{class B{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var b=this;return(0,V.A)(function*(){return b.db||(b.db=yield Qn()),b.db})()}_withRetries(b){var F=this;return(0,V.A)(function*(){let W=0;for(;;)try{const Ae=yield F._openDb();return yield b(Ae)}catch(Ae){if(W++>3)throw Ae;F.db&&(F.db.close(),F.db=void 0)}})()}initializeServiceWorkerMessaging(){var b=this;return(0,V.A)(function*(){return ml()?b.initializeReceiver():b.initializeSender()})()}initializeReceiver(){var b=this;return(0,V.A)(function*(){b.receiver=fi._getInstance(function Ro(){return ml()?self:null}()),b.receiver._subscribe("keyChanged",function(){var F=(0,V.A)(function*(W,Ae){return{keyProcessed:(yield b._poll()).includes(Ae.key)}});return function(W,Ae){return F.apply(this,arguments)}}()),b.receiver._subscribe("ping",function(){var F=(0,V.A)(function*(W,Ae){return["keyChanged"]});return function(W,Ae){return F.apply(this,arguments)}}())})()}initializeSender(){var b=this;return(0,V.A)(function*(){var F,W;if(b.activeServiceWorker=yield function es(){return ko.apply(this,arguments)}(),!b.activeServiceWorker)return;b.sender=new Ar(b.activeServiceWorker);const Ae=yield b.sender._send("ping",{},800);Ae&&null!==(F=Ae[0])&&void 0!==F&&F.fulfilled&&null!==(W=Ae[0])&&void 0!==W&&W.value.includes("keyChanged")&&(b.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(b){var F=this;return(0,V.A)(function*(){if(F.sender&&F.activeServiceWorker&&function tc(){var B;return(null===(B=null==navigator?void 0:navigator.serviceWorker)||void 0===B?void 0:B.controller)||null}()===F.activeServiceWorker)try{yield F.sender._send("keyChanged",{key:b},F.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,V.A)(function*(){try{if(!indexedDB)return!1;const b=yield Qn();return yield wr(b,jn,"1"),yield As(b,jn),!0}catch{}return!1})()}_withPendingWrite(b){var F=this;return(0,V.A)(function*(){F.pendingWrites++;try{yield b()}finally{F.pendingWrites--}})()}_set(b,F){var W=this;return(0,V.A)(function*(){return W._withPendingWrite((0,V.A)(function*(){return yield W._withRetries(Ae=>wr(Ae,b,F)),W.localCache[b]=F,W.notifyServiceWorker(b)}))})()}_get(b){var F=this;return(0,V.A)(function*(){const W=yield F._withRetries(Ae=>function qs(B,m){return kr.apply(this,arguments)}(Ae,b));return F.localCache[b]=W,W})()}_remove(b){var F=this;return(0,V.A)(function*(){return F._withPendingWrite((0,V.A)(function*(){return yield F._withRetries(W=>As(W,b)),delete F.localCache[b],F.notifyServiceWorker(b)}))})()}_poll(){var b=this;return(0,V.A)(function*(){const F=yield b._withRetries(gt=>{const Tt=ci(gt,!1).getAll();return new Wo(Tt).toPromise()});if(!F)return[];if(0!==b.pendingWrites)return[];const W=[],Ae=new Set;if(0!==F.length)for(const{fbase_key:gt,value:Tt}of F)Ae.add(gt),JSON.stringify(b.localCache[gt])!==JSON.stringify(Tt)&&(b.notifyListeners(gt,Tt),W.push(gt));for(const gt of Object.keys(b.localCache))b.localCache[gt]&&!Ae.has(gt)&&(b.notifyListeners(gt,null),W.push(gt));return W})()}notifyListeners(b,F){this.localCache[b]=F;const W=this.listeners[b];if(W)for(const Ae of Array.from(W))Ae(F)}startPolling(){var b=this;this.stopPolling(),this.pollTimer=setInterval((0,V.A)(function*(){return b._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(b,F){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[b]||(this.listeners[b]=new Set,this._get(b)),this.listeners[b].add(F)}_removeListener(b,F){this.listeners[b]&&(this.listeners[b].delete(F),0===this.listeners[b].size&&delete this.listeners[b]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return B.type="LOCAL",B})(),ya=1e12;class Ja{constructor(m){this.auth=m,this.counter=ya,this._widgets=new Map}render(m,b){const F=this.counter;return this._widgets.set(F,new Qs(m,this.auth.name,b||{})),this.counter++,F}reset(m){var b;const F=m||ya;null===(b=this._widgets.get(F))||void 0===b||b.delete(),this._widgets.delete(F)}getResponse(m){var b;return(null===(b=this._widgets.get(m||ya))||void 0===b?void 0:b.getResponse())||""}execute(m){var b=this;return(0,V.A)(function*(){var F;return null===(F=b._widgets.get(m||ya))||void 0===F||F.execute(),""})()}}class Qs{constructor(m,b,F){this.params=F,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const W="string"==typeof m?document.getElementById(m):m;Z(W,"argument-error",{appName:b}),this.container=W,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function yl(B){const m=[],b="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let F=0;F<B;F++)m.push(b.charAt(Math.floor(62*Math.random())));return m.join("")}(50);const{callback:m,"expired-callback":b}=this.params;if(m)try{m(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,b)try{b()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const oc=Ec("rcb"),_l=new yt(3e4,6e4);class sc{constructor(){var m;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(m=uo().grecaptcha)||void 0===m||!m.render)}load(m,b=""){return Z(function au(B){return B.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(B)}(b),m,"argument-error"),this.shouldResolveImmediately(b)&&on(uo().grecaptcha)?Promise.resolve(uo().grecaptcha):new Promise((F,W)=>{const Ae=uo().setTimeout(()=>{W(Oe(m,"network-request-failed"))},_l.get());uo()[oc]=()=>{uo().clearTimeout(Ae),delete uo()[oc];const Tt=uo().grecaptcha;if(!Tt||!on(Tt))return void W(Oe(m,"internal-error"));const yn=Tt.render;Tt.render=(Ln,Lr)=>{const bi=yn(Ln,Lr);return this.counter++,bi},this.hostLanguage=b,F(Tt)},Or(`${function eu(){return qa.recaptchaV2Script}()}?${(0,he.Am)({onload:oc,render:"explicit",hl:b})}`).catch(()=>{clearTimeout(Ae),W(Oe(m,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(m){var b;return!(null===(b=uo().grecaptcha)||void 0===b||!b.render)&&(m===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class gi{load(m){return(0,V.A)(function*(){return new Ja(m)})()}clearedOneInstance(){}}const Hd="recaptcha",jd={theme:"light",type:"image"};class lu{constructor(m,b,F=Object.assign({},jd)){this.parameters=F,this.type=Hd,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Xr(m),this.isInvisible="invisible"===this.parameters.size,Z(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const W="string"==typeof b?document.getElementById(b):b;Z(W,this.auth,"argument-error"),this.container=W,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new gi:new sc,this.validateStartingState()}verify(){var m=this;return(0,V.A)(function*(){m.assertNotDestroyed();const b=yield m.render(),F=m.getAssertedRecaptcha();return F.getResponse(b)||new Promise(Ae=>{const gt=Tt=>{Tt&&(m.tokenChangeListeners.delete(gt),Ae(Tt))};m.tokenChangeListeners.add(gt),m.isInvisible&&F.execute(b)})})()}render(){try{this.assertNotDestroyed()}catch(m){return Promise.reject(m)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(m=>{throw this.renderPromise=null,m})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(m=>{this.container.removeChild(m)})}validateStartingState(){Z(!this.parameters.sitekey,this.auth,"argument-error"),Z(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Z(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(m){return b=>{if(this.tokenChangeListeners.forEach(F=>F(b)),"function"==typeof m)m(b);else if("string"==typeof m){const F=uo()[m];"function"==typeof F&&F(b)}}}assertNotDestroyed(){Z(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var m=this;return(0,V.A)(function*(){if(yield m.init(),!m.widgetId){let b=m.container;if(!m.isInvisible){const F=document.createElement("div");b.appendChild(F),b=F}m.widgetId=m.getAssertedRecaptcha().render(b,m.parameters)}return m.widgetId})()}init(){var m=this;return(0,V.A)(function*(){Z(Ne()&&!ml(),m.auth,"internal-error"),yield function ac(){let B=null;return new Promise(m=>{"complete"!==document.readyState?(B=()=>m(),window.addEventListener("load",B)):m()}).catch(m=>{throw B&&window.removeEventListener("load",B),m})}(),m.recaptcha=yield m._recaptchaLoader.load(m.auth,m.auth.languageCode||void 0);const b=yield function Jn(B){return qr.apply(this,arguments)}(m.auth);Z(b,m.auth,"internal-error"),m.parameters.sitekey=b})()}getAssertedRecaptcha(){return Z(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class sr{constructor(m,b){this.verificationId=m,this.onConfirmation=b}confirm(m){const b=Ll._fromVerification(this.verificationId,m);return this.onConfirmation(b)}}function Ts(B,m,b){return xc.apply(this,arguments)}function xc(){return(xc=(0,V.A)(function*(B,m,b){if((0,Pt._isFirebaseServerApp)(B.app))return Promise.reject(ut(B));const F=Xr(B),W=yield Ql(F,m,(0,he.Ku)(b));return new sr(W,Ae=>Xu(F,Ae))})).apply(this,arguments)}function Ys(B,m,b){return Po.apply(this,arguments)}function Po(){return(Po=(0,V.A)(function*(B,m,b){const F=(0,he.Ku)(B);yield Yu(!1,F,"phone");const W=yield Ql(F.auth,m,(0,he.Ku)(b));return new sr(W,Ae=>ad(F,Ae))})).apply(this,arguments)}function th(B,m,b){return Za.apply(this,arguments)}function Za(){return(Za=(0,V.A)(function*(B,m,b){const F=(0,he.Ku)(B);if((0,Pt._isFirebaseServerApp)(F.auth.app))return Promise.reject(ut(F.auth));const W=yield Ql(F.auth,m,(0,he.Ku)(b));return new sr(W,Ae=>ld(F,Ae))})).apply(this,arguments)}function Ql(B,m,b){return so.apply(this,arguments)}function so(){return so=(0,V.A)(function*(B,m,b){var F;const W=yield b.verify();try{let Ae;if(Z("string"==typeof W,B,"argument-error"),Z(b.type===Hd,B,"argument-error"),Ae="string"==typeof m?{phoneNumber:m}:m,"session"in Ae){const gt=Ae.session;if("phoneNumber"in Ae)return Z("enroll"===gt.type,B,"internal-error"),(yield function Wn(B,m){return Je(B,"POST","/v2/accounts/mfaEnrollment:start",ft(B,m))}(B,{idToken:gt.credential,phoneEnrollmentInfo:{phoneNumber:Ae.phoneNumber,recaptchaToken:W}})).phoneSessionInfo.sessionInfo;{Z("signin"===gt.type,B,"internal-error");const Tt=(null===(F=Ae.multiFactorHint)||void 0===F?void 0:F.uid)||Ae.multiFactorUid;return Z(Tt,B,"missing-multi-factor-info"),(yield function Hr(B,m){return Je(B,"POST","/v2/accounts/mfaSignIn:start",ft(B,m))}(B,{mfaPendingCredential:gt.credential,mfaEnrollmentId:Tt,phoneSignInInfo:{recaptchaToken:W}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:gt}=yield function vA(B,m){return Nl.apply(this,arguments)}(B,{phoneNumber:Ae.phoneNumber,recaptchaToken:W});return gt}}finally{b._reset()}}),so.apply(this,arguments)}function EA(B,m){return SA.apply(this,arguments)}function SA(){return(SA=(0,V.A)(function*(B,m){const b=(0,he.Ku)(B);if((0,Pt._isFirebaseServerApp)(b.auth.app))return Promise.reject(ut(b.auth));yield xu(b,m)})).apply(this,arguments)}let Ph=(()=>{class B{constructor(b){this.providerId=B.PROVIDER_ID,this.auth=Xr(b)}verifyPhoneNumber(b,F){return Ql(this.auth,b,(0,he.Ku)(F))}static credential(b,F){return Ll._fromVerification(b,F)}static credentialFromResult(b){return B.credentialFromTaggedObject(b)}static credentialFromError(b){return B.credentialFromTaggedObject(b.customData||{})}static credentialFromTaggedObject({_tokenResponse:b}){if(!b)return null;const{phoneNumber:F,temporaryProof:W}=b;return F&&W?Ll._fromTokenResponse(F,W):null}}return B.PROVIDER_ID="phone",B.PHONE_SIGN_IN_METHOD="phone",B})();function ua(B,m){return m?Nn(m):(Z(B._popupRedirectResolver,B,"argument-error"),B._popupRedirectResolver)}class cd extends Ir{constructor(m){super("custom","custom"),this.params=m}_getIdTokenResponse(m){return Du(m,this._buildIdpRequest())}_linkToIdToken(m,b){return Du(m,this._buildIdpRequest(b))}_getReauthenticationResolver(m){return Du(m,this._buildIdpRequest())}_buildIdpRequest(m){const b={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return m&&(b.idToken=m),b}}function Hl(B){return Qd(B.auth,new cd(B),B.bypassAuthState)}function dd(B){const{auth:m,user:b}=B;return Z(b,m,"internal-error"),ZA(b,new cd(B),B.bypassAuthState)}function wl(B){return TA.apply(this,arguments)}function TA(){return(TA=(0,V.A)(function*(B){const{auth:m,user:b}=B;return Z(b,m,"internal-error"),xu(b,new cd(B),B.bypassAuthState)})).apply(this,arguments)}class BA{constructor(m,b,F,W,Ae=!1){this.auth=m,this.resolver=F,this.user=W,this.bypassAuthState=Ae,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(b)?b:[b]}execute(){var m=this;return new Promise(function(){var b=(0,V.A)(function*(F,W){m.pendingPromise={resolve:F,reject:W};try{m.eventManager=yield m.resolver._initialize(m.auth),yield m.onExecution(),m.eventManager.registerConsumer(m)}catch(Ae){m.reject(Ae)}});return function(F,W){return b.apply(this,arguments)}}())}onAuthEvent(m){var b=this;return(0,V.A)(function*(){const{urlResponse:F,sessionId:W,postBody:Ae,tenantId:gt,error:Tt,type:yn}=m;if(Tt)return void b.reject(Tt);const Ln={auth:b.auth,requestUri:F,sessionId:W,tenantId:gt||void 0,postBody:Ae||void 0,user:b.user,bypassAuthState:b.bypassAuthState};try{b.resolve(yield b.getIdpTask(yn)(Ln))}catch(Lr){b.reject(Lr)}})()}onError(m){this.reject(m)}getIdpTask(m){switch(m){case"signInViaPopup":case"signInViaRedirect":return Hl;case"linkViaPopup":case"linkViaRedirect":return wl;case"reauthViaPopup":case"reauthViaRedirect":return dd;default:Le(this.auth,"internal-error")}}resolve(m){nt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(m),this.unregisterAndCleanUp()}reject(m){nt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(m),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const pp=new yt(2e3,1e4);function Df(B,m,b){return Nh.apply(this,arguments)}function Nh(){return(Nh=(0,V.A)(function*(B,m,b){if((0,Pt._isFirebaseServerApp)(B.app))return Promise.reject(Oe(B,"operation-not-supported-in-this-environment"));const F=Xr(B);se(B,m,Ya);const W=ua(F,b);return new Uh(F,"signInViaPopup",m,W).executeNotNull()})).apply(this,arguments)}function xf(B,m,b){return Mh.apply(this,arguments)}function Mh(){return(Mh=(0,V.A)(function*(B,m,b){const F=(0,he.Ku)(B);if((0,Pt._isFirebaseServerApp)(F.auth.app))return Promise.reject(Oe(F.auth,"operation-not-supported-in-this-environment"));se(F.auth,m,Ya);const W=ua(F.auth,b);return new Uh(F.auth,"reauthViaPopup",m,W,F).executeNotNull()})).apply(this,arguments)}function Lh(B,m,b){return Oh.apply(this,arguments)}function Oh(){return(Oh=(0,V.A)(function*(B,m,b){const F=(0,he.Ku)(B);se(F.auth,m,Ya);const W=ua(F.auth,b);return new Uh(F.auth,"linkViaPopup",m,W,F).executeNotNull()})).apply(this,arguments)}let Uh=(()=>{class B extends BA{constructor(b,F,W,Ae,gt){super(b,F,Ae,gt),this.provider=W,this.authWindow=null,this.pollId=null,B.currentPopupAction&&B.currentPopupAction.cancel(),B.currentPopupAction=this}executeNotNull(){var b=this;return(0,V.A)(function*(){const F=yield b.execute();return Z(F,b.auth,"internal-error"),F})()}onExecution(){var b=this;return(0,V.A)(function*(){nt(1===b.filter.length,"Popup operations only handle one event");const F=Ti();b.authWindow=yield b.resolver._openPopup(b.auth,b.provider,b.filter[0],F),b.authWindow.associatedEvent=F,b.resolver._originValidation(b.auth).catch(W=>{b.reject(W)}),b.resolver._isIframeWebStorageSupported(b.auth,W=>{W||b.reject(Oe(b.auth,"web-storage-unsupported"))}),b.pollUserCancellation()})()}get eventId(){var b;return(null===(b=this.authWindow)||void 0===b?void 0:b.associatedEvent)||null}cancel(){this.reject(Oe(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,B.currentPopupAction=null}pollUserCancellation(){const b=()=>{var F,W;this.pollId=null!==(W=null===(F=this.authWindow)||void 0===F?void 0:F.window)&&void 0!==W&&W.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Oe(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(b,pp.get())};b()}}return B.currentPopupAction=null,B})();const Ff="pendingRedirect",Cl=new Map;class zd extends BA{constructor(m,b,F=!1){super(m,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],b,void 0,F),this.eventId=null}execute(){var m=()=>super.execute,b=this;return(0,V.A)(function*(){let F=Cl.get(b.auth._key());if(!F){try{const Ae=(yield function nh(B,m){return DA.apply(this,arguments)}(b.resolver,b.auth))?yield m().call(b):null;F=()=>Promise.resolve(Ae)}catch(W){F=()=>Promise.reject(W)}Cl.set(b.auth._key(),F)}return b.bypassAuthState||Cl.set(b.auth._key(),()=>Promise.resolve(null)),F()})()}onAuthEvent(m){var b=()=>super.onAuthEvent,F=this;return(0,V.A)(function*(){if("signInViaRedirect"===m.type)return b().call(F,m);if("unknown"!==m.type){if(m.eventId){const W=yield F.auth._redirectUserForId(m.eventId);if(W)return F.user=W,b().call(F,m);F.resolve(null)}}else F.resolve(null)})()}onExecution(){return(0,V.A)(function*(){})()}cleanUp(){}}function DA(){return(DA=(0,V.A)(function*(B,m){const b=xA(m),F=ca(B);if(!(yield F._isAvailable()))return!1;const W="true"===(yield F._get(b));return yield F._remove(b),W})).apply(this,arguments)}function Ra(B,m){return $d.apply(this,arguments)}function $d(){return($d=(0,V.A)(function*(B,m){return ca(B)._set(xA(m),"true")})).apply(this,arguments)}function Vh(){Cl.clear()}function yi(B,m){Cl.set(B._key(),m)}function ca(B){return Nn(B._redirectPersistence)}function xA(B){return Ni(Ff,B.config.apiKey,B.name)}function Fu(B,m,b){return function Qh(B,m,b){return Ad.apply(this,arguments)}(B,m,b)}function Ad(){return(Ad=(0,V.A)(function*(B,m,b){if((0,Pt._isFirebaseServerApp)(B.app))return Promise.reject(ut(B));const F=Xr(B);se(B,m,Ya),yield F._initializationPromise;const W=ua(F,b);return yield Ra(W,F),W._openRedirect(F,m,"signInViaRedirect")})).apply(this,arguments)}function Fc(B,m,b){return function Gd(B,m,b){return hd.apply(this,arguments)}(B,m,b)}function hd(){return(hd=(0,V.A)(function*(B,m,b){const F=(0,he.Ku)(B);if(se(F.auth,m,Ya),(0,Pt._isFirebaseServerApp)(F.auth.app))return Promise.reject(ut(F.auth));yield F.auth._initializationPromise;const W=ua(F.auth,b);yield Ra(W,F.auth);const Ae=yield xi(F);return W._openRedirect(F.auth,m,"reauthViaRedirect",Ae)})).apply(this,arguments)}function Hh(B,m,b){return function jl(B,m,b){return kc.apply(this,arguments)}(B,m,b)}function kc(){return(kc=(0,V.A)(function*(B,m,b){const F=(0,he.Ku)(B);se(F.auth,m,Ya),yield F.auth._initializationPromise;const W=ua(F.auth,b);yield Yu(!1,F,m.providerId),yield Ra(W,F.auth);const Ae=yield xi(F);return W._openRedirect(F.auth,m,"linkViaRedirect",Ae)})).apply(this,arguments)}function lc(B,m){return ku.apply(this,arguments)}function ku(){return(ku=(0,V.A)(function*(B,m){return yield Xr(B)._initializationPromise,rh(B,m,!1)})).apply(this,arguments)}function rh(B,m){return fd.apply(this,arguments)}function fd(){return(fd=(0,V.A)(function*(B,m,b=!1){if((0,Pt._isFirebaseServerApp)(B.app))return Promise.reject(ut(B));const F=Xr(B),W=ua(F,m),gt=yield new zd(F,W,b).execute();return gt&&!b&&(delete gt.user._redirectEventId,yield F._persistUserIfCurrent(gt.user),yield F._setRedirectUser(null,m)),gt})).apply(this,arguments)}function xi(B){return uu.apply(this,arguments)}function uu(){return(uu=(0,V.A)(function*(B){const m=Ti(`${B.uid}:::`);return B._redirectEventId=m,yield B.auth._setRedirectUser(B),yield B.auth._persistUserIfCurrent(B),m})).apply(this,arguments)}class da{constructor(m){this.auth=m,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(m){this.consumers.add(m),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,m)&&(this.sendToConsumer(this.queuedRedirectEvent,m),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(m){this.consumers.delete(m)}onEvent(m){if(this.hasEventBeenHandled(m))return!1;let b=!1;return this.consumers.forEach(F=>{this.isEventForConsumer(m,F)&&(b=!0,this.sendToConsumer(m,F),this.saveEventToCache(m))}),this.hasHandledPotentialRedirect||!function bl(B){switch(B.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Rc(B);default:return!1}}(m)||(this.hasHandledPotentialRedirect=!0,b||(this.queuedRedirectEvent=m,b=!0)),b}sendToConsumer(m,b){var F;if(m.error&&!Rc(m)){const W=(null===(F=m.error.code)||void 0===F?void 0:F.split("auth/")[1])||"internal-error";b.onError(Oe(this.auth,W))}else b.onAuthEvent(m)}isEventForConsumer(m,b){const F=null===b.eventId||!!m.eventId&&m.eventId===b.eventId;return b.filter.includes(m.type)&&F}hasEventBeenHandled(m){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(ih(m))}saveEventToCache(m){this.cachedEventUids.add(ih(m)),this.lastProcessedEventTime=Date.now()}}function ih(B){return[B.type,B.eventId,B.sessionId,B.tenantId].filter(m=>m).join("-")}function Rc({type:B,error:m}){return"unknown"===B&&"auth/no-auth-event"===(null==m?void 0:m.code)}function Hs(B){return oh.apply(this,arguments)}function oh(){return(oh=(0,V.A)(function*(B,m={}){return Je(B,"GET","/v1/projects",m)})).apply(this,arguments)}const uc=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Ru=/^https?/;function cc(){return(cc=(0,V.A)(function*(B){if(B.config.emulator)return;const{authorizedDomains:m}=yield Hs(B);for(const b of m)try{if(sh(b))return}catch{}Le(B,"unauthorized-domain")})).apply(this,arguments)}function sh(B){const m=At(),{protocol:b,hostname:F}=new URL(m);if(B.startsWith("chrome-extension://")){const gt=new URL(B);return""===gt.hostname&&""===F?"chrome-extension:"===b&&B.replace("chrome-extension://","")===m.replace("chrome-extension://",""):"chrome-extension:"===b&&gt.hostname===F}if(!Ru.test(b))return!1;if(uc.test(B))return F===B;const W=B.replace(/\./g,"\\.");return new RegExp("^(.+\\."+W+"|"+W+")$","i").test(F)}const gd=new yt(3e4,6e4);function Ps(){const B=uo().___jsl;if(null!=B&&B.H)for(const m of Object.keys(B.H))if(B.H[m].r=B.H[m].r||[],B.H[m].L=B.H[m].L||[],B.H[m].r=[...B.H[m].L],B.CP)for(let b=0;b<B.CP.length;b++)B.CP[b]=null}let cu=null;const Pc=new yt(5e3,15e3),zl="__/auth/iframe",li="emulator/auth/iframe",ah={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},gp=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function FA(B){const m=B.config;Z(m.authDomain,B,"auth-domain-config-required");const b=m.emulator?Te(m,li):`https://${B.config.authDomain}/${zl}`,F={apiKey:m.apiKey,appName:B.name,v:Pt.SDK_VERSION},W=gp.get(B.config.apiHost);W&&(F.eid=W);const Ae=B._getFrameworks();return Ae.length&&(F.fw=Ae.join(",")),`${b}?${(0,he.Am)(F).slice(1)}`}function qd(){return qd=(0,V.A)(function*(B){const m=yield function Wd(B){return cu=cu||function Pu(B){return new Promise((m,b)=>{var F,W,Ae;function gt(){Ps(),gapi.load("gapi.iframes",{callback:()=>{m(gapi.iframes.getContext())},ontimeout:()=>{Ps(),b(Oe(B,"network-request-failed"))},timeout:gd.get()})}if(null!==(W=null===(F=uo().gapi)||void 0===F?void 0:F.iframes)&&void 0!==W&&W.Iframe)m(gapi.iframes.getContext());else{if(null===(Ae=uo().gapi)||void 0===Ae||!Ae.load){const Tt=Ec("iframefcb");return uo()[Tt]=()=>{gapi.load?gt():b(Oe(B,"network-request-failed"))},Or(`${function Rd(){return qa.gapiScript}()}?onload=${Tt}`).catch(yn=>b(yn))}gt()}}).catch(m=>{throw cu=null,m})}(B),cu}(B),b=uo().gapi;return Z(b,B,"internal-error"),m.open({where:document.body,url:FA(B),messageHandlersFilter:b.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ah,dontclear:!0},F=>new Promise(function(){var W=(0,V.A)(function*(Ae,gt){yield F.restyle({setHideOnLeave:!1});const Tt=Oe(B,"network-request-failed"),yn=uo().setTimeout(()=>{gt(Tt)},Pc.get());function Ln(){uo().clearTimeout(yn),Ae(F)}F.ping(Ln).then(Ln,()=>{gt(Tt)})});return function(Ae,gt){return W.apply(this,arguments)}}()))}),qd.apply(this,arguments)}const Nc={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class pt{constructor(m){this.window=m,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const gn="__/auth/handler",ln="emulator/auth/handler",En=encodeURIComponent("fac");function cr(B,m,b,F,W,Ae){return Bi.apply(this,arguments)}function Bi(){return(Bi=(0,V.A)(function*(B,m,b,F,W,Ae){Z(B.config.authDomain,B,"auth-domain-config-required"),Z(B.config.apiKey,B,"invalid-api-key");const gt={apiKey:B.config.apiKey,appName:B.name,authType:b,redirectUrl:F,v:Pt.SDK_VERSION,eventId:W};if(m instanceof Ya){m.setDefaultLanguage(B.languageCode),gt.providerId=m.providerId||"",(0,he.Im)(m.getCustomParameters())||(gt.customParameters=JSON.stringify(m.getCustomParameters()));for(const[Lr,bi]of Object.entries(Ae||{}))gt[Lr]=bi}if(m instanceof ru){const Lr=m.getScopes().filter(bi=>""!==bi);Lr.length>0&&(gt.scopes=Lr.join(","))}B.tenantId&&(gt.tid=B.tenantId);const Tt=gt;for(const Lr of Object.keys(Tt))void 0===Tt[Lr]&&delete Tt[Lr];const yn=yield B._getAppCheckToken(),Ln=yn?`#${En}=${encodeURIComponent(yn)}`:"";return`${function Ki({config:B}){return B.emulator?Te(B,ln):`https://${B.authDomain}/${gn}`}(B)}?${(0,he.Am)(Tt).slice(1)}${Ln}`})).apply(this,arguments)}const Ao="webStorageSupport",Cs=class is{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Fi,this._completeRedirectFn=rh,this._overrideRedirectResult=yi}_openPopup(m,b,F,W){var Ae=this;return(0,V.A)(function*(){var gt;nt(null===(gt=Ae.eventManagers[m._key()])||void 0===gt?void 0:gt.manager,"_initialize() not called before _openPopup()");const Tt=yield cr(m,b,F,At(),W);return function kt(B,m,b,F=500,W=600){const Ae=Math.max((window.screen.availHeight-W)/2,0).toString(),gt=Math.max((window.screen.availWidth-F)/2,0).toString();let Tt="";const yn=Object.assign(Object.assign({},Nc),{width:F.toString(),height:W.toString(),top:Ae,left:gt}),Ln=(0,he.ZQ)().toLowerCase();b&&(Tt=fl(Ln)?"_blank":b),mi(Ln)&&(m=m||"http://localhost",yn.scrollbars="yes");const Lr=Object.entries(yn).reduce((Bs,[$l,tl])=>`${Bs}${$l}=${tl},`,"");if(function Et(B=(0,he.ZQ)()){var m;return sa(B)&&!(null===(m=window.navigator)||void 0===m||!m.standalone)}(Ln)&&"_self"!==Tt)return function Ge(B,m){const b=document.createElement("a");b.href=B,b.target=m;const F=document.createEvent("MouseEvent");F.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),b.dispatchEvent(F)}(m||"",Tt),new pt(null);const bi=window.open(m||"",Tt,Lr);Z(bi,B,"popup-blocked");try{bi.focus()}catch{}return new pt(bi)}(m,Tt,Ti())})()}_openRedirect(m,b,F,W){var Ae=this;return(0,V.A)(function*(){return yield Ae._originValidation(m),function pi(B){uo().location.href=B}(yield cr(m,b,F,At(),W)),new Promise(()=>{})})()}_initialize(m){const b=m._key();if(this.eventManagers[b]){const{manager:W,promise:Ae}=this.eventManagers[b];return W?Promise.resolve(W):(nt(Ae,"If manager is not set, promise should be"),Ae)}const F=this.initAndGetManager(m);return this.eventManagers[b]={promise:F},F.catch(()=>{delete this.eventManagers[b]}),F}initAndGetManager(m){var b=this;return(0,V.A)(function*(){const F=yield function Kd(B){return qd.apply(this,arguments)}(m),W=new da(m);return F.register("authEvent",Ae=>(Z(null==Ae?void 0:Ae.authEvent,m,"invalid-auth-event"),{status:W.onEvent(Ae.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),b.eventManagers[m._key()]={manager:W},b.iframes[m._key()]=F,W})()}_isIframeWebStorageSupported(m,b){this.iframes[m._key()].send(Ao,{type:Ao},W=>{var Ae;const gt=null===(Ae=null==W?void 0:W[0])||void 0===Ae?void 0:Ae[Ao];void 0!==gt&&b(!!gt),Le(m,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(m){const b=m._key();return this.originValidationPromises[b]||(this.originValidationPromises[b]=function el(B){return cc.apply(this,arguments)}(m)),this.originValidationPromises[b]}get _shouldInitProactively(){return Zn()||rs()||sa()}};class _a{constructor(m){this.factorId=m}_process(m,b,F){switch(b.type){case"enroll":return this._finalizeEnroll(m,b.credential,F);case"signin":return this._finalizeSignIn(m,b.credential);default:return Se("unexpected MultiFactorSessionType")}}}class Xs extends _a{constructor(m){super("phone"),this.credential=m}static _fromCredential(m){return new Xs(m)}_finalizeEnroll(m,b,F){return function gr(B,m){return Je(B,"POST","/v2/accounts/mfaEnrollment:finalize",ft(B,m))}(m,{idToken:b,displayName:F,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(m,b){return function rc(B,m){return Je(B,"POST","/v2/accounts/mfaSignIn:finalize",ft(B,m))}(m,{mfaPendingCredential:b,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let du=(()=>{class B{constructor(){}static assertion(b){return Xs._fromCredential(b)}}return B.FACTOR_ID="phone",B})();var Il="@firebase/auth";class Nu{constructor(m){this.auth=m,this.internalListeners=new Map}getUid(){var m;return this.assertAuthConfigured(),(null===(m=this.auth.currentUser)||void 0===m?void 0:m.uid)||null}getToken(m){var b=this;return(0,V.A)(function*(){return b.assertAuthConfigured(),yield b.auth._initializationPromise,b.auth.currentUser?{accessToken:yield b.auth.currentUser.getIdToken(m)}:null})()}addAuthTokenListener(m){if(this.assertAuthConfigured(),this.internalListeners.has(m))return;const b=this.auth.onIdTokenChanged(F=>{m((null==F?void 0:F.stsTokenManager.accessToken)||null)});this.internalListeners.set(m,b),this.updateProactiveRefresh()}removeAuthTokenListener(m){this.assertAuthConfigured();const b=this.internalListeners.get(m);b&&(this.internalListeners.delete(m),b(),this.updateProactiveRefresh())}assertAuthConfigured(){Z(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const vd=(0,he.XA)("authIdTokenMaxAge")||300;let Lc=null;const Oc=B=>function(){var m=(0,V.A)(function*(b){const F=b&&(yield b.getIdTokenResult()),W=F&&((new Date).getTime()-Date.parse(F.issuedAtTime))/1e3;if(W&&W>vd)return;const Ae=null==F?void 0:F.token;Lc!==Ae&&(Lc=Ae,yield fetch(B,{method:Ae?"POST":"DELETE",headers:Ae?{Authorization:`Bearer ${Ae}`}:{}}))});return function(b){return m.apply(this,arguments)}}();function kA(B=(0,Pt.getApp)()){const m=(0,Pt._getProvider)(B,"auth");if(m.isInitialized())return m.getImmediate();const b=function tn(B,m){const b=(0,Pt._getProvider)(B,"auth");if(b.isInitialized()){const W=b.getImmediate(),Ae=b.getOptions();if((0,he.bD)(Ae,null!=m?m:{}))return W;Le(W,"already-initialized")}return b.initialize({options:m})}(B,{popupRedirectResolver:Cs,persistence:[Eo,Mi,Fi]}),F=(0,he.XA)("authTokenSyncURL");if(F&&"boolean"==typeof isSecureContext&&isSecureContext){const Ae=new URL(F,location.origin);if(location.origin===Ae.origin){const gt=Oc(Ae.toString());(function wn(B,m,b){(0,he.Ku)(B).beforeAuthStateChanged(m,b)})(b,gt,()=>gt(b.currentUser)),function Sn(B,m,b,F){(0,he.Ku)(B).onIdTokenChanged(m,b,F)}(b,Tt=>gt(Tt))}}const W=(0,he.Tj)("auth");return W&&Xt(b,`http://${W}`),b}(function Wi(B){qa=B})({loadJS:B=>new Promise((m,b)=>{const F=document.createElement("script");F.setAttribute("src",B),F.onload=m,F.onerror=W=>{const Ae=Oe("internal-error");Ae.customData=W,b(Ae)},F.type="text/javascript",F.charset="UTF-8",function Pa(){var B,m;return null!==(m=null===(B=document.getElementsByTagName("head"))||void 0===B?void 0:B[0])&&void 0!==m?m:document}().appendChild(F)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),function Mc(B){(0,Pt._registerComponent)(new Ht.uA("auth",(m,{options:b})=>{const F=m.getProvider("app").getImmediate(),W=m.getProvider("heartbeat"),Ae=m.getProvider("app-check-internal"),{apiKey:gt,authDomain:Tt}=F.options;Z(gt&&!gt.includes(":"),"invalid-api-key",{appName:F.name});const yn={apiKey:gt,authDomain:Tt,clientPlatform:B,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:oi(B)},Ln=new $r(F,W,Ae,yn);return function _n(B,m){const b=(null==m?void 0:m.persistence)||[],F=(Array.isArray(b)?b:[b]).map(Nn);null!=m&&m.errorMap&&B._updateErrorMap(m.errorMap),B._initializeWithPersistence(F,null==m?void 0:m.popupRedirectResolver)}(Ln,b),Ln},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((m,b,F)=>{m.getProvider("auth-internal").initialize()})),(0,Pt._registerComponent)(new Ht.uA("auth-internal",m=>{const b=Xr(m.getProvider("auth").getImmediate());return new Nu(b)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,Pt.registerVersion)(Il,"1.7.0",function Xd(B){switch(B){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(B)),(0,Pt.registerVersion)(Il,"1.7.0","esm2017")}("Browser")},1076:(vo,Tr,_t)=>{"use strict";_t.d(Tr,{$L:()=>Mn,$g:()=>Rt,A4:()=>Pe,Am:()=>Li,As:()=>Gn,Bd:()=>Se,Cv:()=>Ei,FA:()=>Je,Fy:()=>ut,HN:()=>ii,Hk:()=>he,I9:()=>Vr,Im:()=>en,K3:()=>Ht,KA:()=>Dt,Ku:()=>hl,Ll:()=>Z,OE:()=>Jo,T9:()=>Le,Tj:()=>ce,Uj:()=>$t,XA:()=>Oe,ZQ:()=>se,bD:()=>qr,cY:()=>ot,dI:()=>ys,eX:()=>me,g:()=>ft,gR:()=>on,gz:()=>Ri,hp:()=>Io,jZ:()=>fe,kH:()=>Jn,kj:()=>Gs,lT:()=>Ze,lV:()=>At,nr:()=>yt,oD:()=>Oa,od:()=>Es,qc:()=>Mr,sr:()=>nt,tD:()=>cs,u:()=>ze,vA:()=>Pt,yU:()=>Ve,yw:()=>Qt,zW:()=>Te,zw:()=>dt});const V={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},Pt=function(lt,rt){if(!lt)throw he(rt)},he=function(lt){return new Error("Firebase Database ("+V.SDK_VERSION+") INTERNAL ASSERT FAILED: "+lt)},Gt=function(lt){const rt=[];let de=0;for(let ye=0;ye<lt.length;ye++){let J=lt.charCodeAt(ye);J<128?rt[de++]=J:J<2048?(rt[de++]=J>>6|192,rt[de++]=63&J|128):55296==(64512&J)&&ye+1<lt.length&&56320==(64512&lt.charCodeAt(ye+1))?(J=65536+((1023&J)<<10)+(1023&lt.charCodeAt(++ye)),rt[de++]=J>>18|240,rt[de++]=J>>12&63|128,rt[de++]=J>>6&63|128,rt[de++]=63&J|128):(rt[de++]=J>>12|224,rt[de++]=J>>6&63|128,rt[de++]=63&J|128)}return rt},Ht={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(lt,rt){if(!Array.isArray(lt))throw Error("encodeByteArray takes an array as a parameter");this.init_();const de=rt?this.byteToCharMapWebSafe_:this.byteToCharMap_,ye=[];for(let J=0;J<lt.length;J+=3){const wt=lt[J],Yt=J+1<lt.length,Nn=Yt?lt[J+1]:0,hi=J+2<lt.length,zn=hi?lt[J+2]:0;let sn=(15&Nn)<<2|zn>>6,mi=63&zn;hi||(mi=64,Yt||(sn=64)),ye.push(de[wt>>2],de[(3&wt)<<4|Nn>>4],de[sn],de[mi])}return ye.join("")},encodeString(lt,rt){return this.HAS_NATIVE_SUPPORT&&!rt?btoa(lt):this.encodeByteArray(Gt(lt),rt)},decodeString(lt,rt){return this.HAS_NATIVE_SUPPORT&&!rt?atob(lt):function(lt){const rt=[];let de=0,ye=0;for(;de<lt.length;){const J=lt[de++];if(J<128)rt[ye++]=String.fromCharCode(J);else if(J>191&&J<224){const wt=lt[de++];rt[ye++]=String.fromCharCode((31&J)<<6|63&wt)}else if(J>239&&J<365){const hi=((7&J)<<18|(63&lt[de++])<<12|(63&lt[de++])<<6|63&lt[de++])-65536;rt[ye++]=String.fromCharCode(55296+(hi>>10)),rt[ye++]=String.fromCharCode(56320+(1023&hi))}else{const wt=lt[de++],Yt=lt[de++];rt[ye++]=String.fromCharCode((15&J)<<12|(63&wt)<<6|63&Yt)}}return rt.join("")}(this.decodeStringToByteArray(lt,rt))},decodeStringToByteArray(lt,rt){this.init_();const de=rt?this.charToByteMapWebSafe_:this.charToByteMap_,ye=[];for(let J=0;J<lt.length;){const wt=de[lt.charAt(J++)],Nn=J<lt.length?de[lt.charAt(J)]:0;++J;const zn=J<lt.length?de[lt.charAt(J)]:64;++J;const Yr=J<lt.length?de[lt.charAt(J)]:64;if(++J,null==wt||null==Nn||null==zn||null==Yr)throw new ke;ye.push(wt<<2|Nn>>4),64!==zn&&(ye.push(Nn<<4&240|zn>>2),64!==Yr&&ye.push(zn<<6&192|Yr))}return ye},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let lt=0;lt<this.ENCODED_VALS.length;lt++)this.byteToCharMap_[lt]=this.ENCODED_VALS.charAt(lt),this.charToByteMap_[this.byteToCharMap_[lt]]=lt,this.byteToCharMapWebSafe_[lt]=this.ENCODED_VALS_WEBSAFE.charAt(lt),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[lt]]=lt,lt>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(lt)]=lt,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(lt)]=lt)}}};class ke extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Dt=function(lt){const rt=Gt(lt);return Ht.encodeByteArray(rt,!0)},$t=function(lt){return Dt(lt).replace(/\./g,"")},ze=function(lt){try{return Ht.decodeString(lt,!0)}catch(rt){console.error("base64Decode failed: ",rt)}return null};function Pe(lt){return dt(void 0,lt)}function dt(lt,rt){if(!(rt instanceof Object))return rt;switch(rt.constructor){case Date:return new Date(rt.getTime());case Object:void 0===lt&&(lt={});break;case Array:lt=[];break;default:return rt}for(const de in rt)!rt.hasOwnProperty(de)||!Ie(de)||(lt[de]=dt(lt[de],rt[de]));return lt}function Ie(lt){return"__proto__"!==lt}const te=()=>{try{return function st(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const lt=process.env.__FIREBASE_DEFAULTS__;return lt?JSON.parse(lt):void 0})()||(()=>{if(typeof document>"u")return;let lt;try{lt=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const rt=lt&&ze(lt[1]);return rt&&JSON.parse(rt)})()}catch(lt){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${lt}`)}},ce=lt=>{var rt,de;return null===(de=null===(rt=te())||void 0===rt?void 0:rt.emulatorHosts)||void 0===de?void 0:de[lt]},Ve=lt=>{const rt=ce(lt);if(!rt)return;const de=rt.lastIndexOf(":");if(de<=0||de+1===rt.length)throw new Error(`Invalid host ${rt} with no separate hostname and port!`);const ye=parseInt(rt.substring(de+1),10);return"["===rt[0]?[rt.substring(1,de-1),ye]:[rt.substring(0,de),ye]},Le=()=>{var lt;return null===(lt=te())||void 0===lt?void 0:lt.config},Oe=lt=>{var rt;return null===(rt=te())||void 0===rt?void 0:rt[`_${lt}`]};class ot{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((rt,de)=>{this.resolve=rt,this.reject=de})}wrapCallback(rt){return(de,ye)=>{de?this.reject(de):this.resolve(ye),"function"==typeof rt&&(this.promise.catch(()=>{}),1===rt.length?rt(de):rt(de,ye))}}}function ut(lt,rt){if(lt.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const ye=rt||"demo-project",J=lt.iat||0,wt=lt.sub||lt.user_id;if(!wt)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Yt=Object.assign({iss:`https://securetoken.google.com/${ye}`,aud:ye,iat:J,exp:J+3600,auth_time:J,sub:wt,user_id:wt,firebase:{sign_in_provider:"custom",identities:{}}},lt);return[$t(JSON.stringify({alg:"none",type:"JWT"})),$t(JSON.stringify(Yt)),""].join(".")}function se(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function fe(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(se())}function Z(){var lt;const rt=null===(lt=te())||void 0===lt?void 0:lt.forceEnvironment;if("node"===rt)return!0;if("browser"===rt)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Se(){return"object"==typeof self&&self.self===self}function nt(){const lt="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof lt&&void 0!==lt.id}function At(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Ze(){const lt=se();return lt.indexOf("MSIE ")>=0||lt.indexOf("Trident/")>=0}function Rt(){return!0===V.NODE_CLIENT||!0===V.NODE_ADMIN}function yt(){return!Z()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Te(){try{return"object"==typeof indexedDB}catch{return!1}}function me(){return new Promise((lt,rt)=>{try{let de=!0;const ye="validate-browser-context-for-indexeddb-analytics-module",J=self.indexedDB.open(ye);J.onsuccess=()=>{J.result.close(),de||self.indexedDB.deleteDatabase(ye),lt(!0)},J.onupgradeneeded=()=>{de=!1},J.onerror=()=>{var wt;rt((null===(wt=J.error)||void 0===wt?void 0:wt.message)||"")}}catch(de){rt(de)}})}class ft extends Error{constructor(rt,de,ye){super(de),this.code=rt,this.customData=ye,this.name="FirebaseError",Object.setPrototypeOf(this,ft.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Je.prototype.create)}}class Je{constructor(rt,de,ye){this.service=rt,this.serviceName=de,this.errors=ye}create(rt,...de){const ye=de[0]||{},J=`${this.service}/${rt}`,wt=this.errors[rt],Yt=wt?function In(lt,rt){return lt.replace(Un,(de,ye)=>{const J=rt[ye];return null!=J?String(J):`<${ye}?>`})}(wt,ye):"Error";return new ft(J,`${this.serviceName}: ${Yt} (${J}).`,ye)}}const Un=/\{\$([^}]+)}/g;function Mn(lt){return JSON.parse(lt)}function Gn(lt){return JSON.stringify(lt)}const Pr=function(lt){let rt={},de={},ye={},J="";try{const wt=lt.split(".");rt=Mn(ze(wt[0])||""),de=Mn(ze(wt[1])||""),J=wt[2],ye=de.d||{},delete de.d}catch{}return{header:rt,claims:de,data:ye,signature:J}},Ei=function(lt){const de=Pr(lt).claims;return!!de&&"object"==typeof de&&de.hasOwnProperty("iat")},Mr=function(lt){const rt=Pr(lt).claims;return"object"==typeof rt&&!0===rt.admin};function on(lt,rt){return Object.prototype.hasOwnProperty.call(lt,rt)}function Qt(lt,rt){if(Object.prototype.hasOwnProperty.call(lt,rt))return lt[rt]}function en(lt){for(const rt in lt)if(Object.prototype.hasOwnProperty.call(lt,rt))return!1;return!0}function Jn(lt,rt,de){const ye={};for(const J in lt)Object.prototype.hasOwnProperty.call(lt,J)&&(ye[J]=rt.call(de,lt[J],J,lt));return ye}function qr(lt,rt){if(lt===rt)return!0;const de=Object.keys(lt),ye=Object.keys(rt);for(const J of de){if(!ye.includes(J))return!1;const wt=lt[J],Yt=rt[J];if(zr(wt)&&zr(Yt)){if(!qr(wt,Yt))return!1}else if(wt!==Yt)return!1}for(const J of ye)if(!de.includes(J))return!1;return!0}function zr(lt){return null!==lt&&"object"==typeof lt}function Li(lt){const rt=[];for(const[de,ye]of Object.entries(lt))Array.isArray(ye)?ye.forEach(J=>{rt.push(encodeURIComponent(de)+"="+encodeURIComponent(J))}):rt.push(encodeURIComponent(de)+"="+encodeURIComponent(ye));return rt.length?"&"+rt.join("&"):""}function Vr(lt){const rt={};return lt.replace(/^\?/,"").split("&").forEach(ye=>{if(ye){const[J,wt]=ye.split("=");rt[decodeURIComponent(J)]=decodeURIComponent(wt)}}),rt}function Io(lt){const rt=lt.indexOf("?");if(!rt)return"";const de=lt.indexOf("#",rt);return lt.substring(rt,de>0?de:void 0)}class Ri{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let rt=1;rt<this.blockSize;++rt)this.pad_[rt]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(rt,de){de||(de=0);const ye=this.W_;if("string"==typeof rt)for(let Yr=0;Yr<16;Yr++)ye[Yr]=rt.charCodeAt(de)<<24|rt.charCodeAt(de+1)<<16|rt.charCodeAt(de+2)<<8|rt.charCodeAt(de+3),de+=4;else for(let Yr=0;Yr<16;Yr++)ye[Yr]=rt[de]<<24|rt[de+1]<<16|rt[de+2]<<8|rt[de+3],de+=4;for(let Yr=16;Yr<80;Yr++){const sn=ye[Yr-3]^ye[Yr-8]^ye[Yr-14]^ye[Yr-16];ye[Yr]=4294967295&(sn<<1|sn>>>31)}let zn,Ni,J=this.chain_[0],wt=this.chain_[1],Yt=this.chain_[2],Nn=this.chain_[3],hi=this.chain_[4];for(let Yr=0;Yr<80;Yr++){Yr<40?Yr<20?(zn=Nn^wt&(Yt^Nn),Ni=1518500249):(zn=wt^Yt^Nn,Ni=1859775393):Yr<60?(zn=wt&Yt|Nn&(wt|Yt),Ni=2400959708):(zn=wt^Yt^Nn,Ni=3395469782);const sn=(J<<5|J>>>27)+zn+hi+Ni+ye[Yr]&4294967295;hi=Nn,Nn=Yt,Yt=4294967295&(wt<<30|wt>>>2),wt=J,J=sn}this.chain_[0]=this.chain_[0]+J&4294967295,this.chain_[1]=this.chain_[1]+wt&4294967295,this.chain_[2]=this.chain_[2]+Yt&4294967295,this.chain_[3]=this.chain_[3]+Nn&4294967295,this.chain_[4]=this.chain_[4]+hi&4294967295}update(rt,de){if(null==rt)return;void 0===de&&(de=rt.length);const ye=de-this.blockSize;let J=0;const wt=this.buf_;let Yt=this.inbuf_;for(;J<de;){if(0===Yt)for(;J<=ye;)this.compress_(rt,J),J+=this.blockSize;if("string"==typeof rt){for(;J<de;)if(wt[Yt]=rt.charCodeAt(J),++Yt,++J,Yt===this.blockSize){this.compress_(wt),Yt=0;break}}else for(;J<de;)if(wt[Yt]=rt[J],++Yt,++J,Yt===this.blockSize){this.compress_(wt),Yt=0;break}}this.inbuf_=Yt,this.total_+=de}digest(){const rt=[];let de=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let J=this.blockSize-1;J>=56;J--)this.buf_[J]=255&de,de/=256;this.compress_(this.buf_);let ye=0;for(let J=0;J<5;J++)for(let wt=24;wt>=0;wt-=8)rt[ye]=this.chain_[J]>>wt&255,++ye;return rt}}function cs(lt,rt){const de=new ns(lt,rt);return de.subscribe.bind(de)}class ns{constructor(rt,de){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=de,this.task.then(()=>{rt(this)}).catch(ye=>{this.error(ye)})}next(rt){this.forEachObserver(de=>{de.next(rt)})}error(rt){this.forEachObserver(de=>{de.error(rt)}),this.close(rt)}complete(){this.forEachObserver(rt=>{rt.complete()}),this.close()}subscribe(rt,de,ye){let J;if(void 0===rt&&void 0===de&&void 0===ye)throw new Error("Missing Observer.");J=function Pi(lt,rt){if("object"!=typeof lt||null===lt)return!1;for(const de of rt)if(de in lt&&"function"==typeof lt[de])return!0;return!1}(rt,["next","error","complete"])?rt:{next:rt,error:de,complete:ye},void 0===J.next&&(J.next=Ai),void 0===J.error&&(J.error=Ai),void 0===J.complete&&(J.complete=Ai);const wt=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?J.error(this.finalError):J.complete()}catch{}}),this.observers.push(J),wt}unsubscribeOne(rt){void 0===this.observers||void 0===this.observers[rt]||(delete this.observers[rt],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(rt){if(!this.finalized)for(let de=0;de<this.observers.length;de++)this.sendOne(de,rt)}sendOne(rt,de){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[rt])try{de(this.observers[rt])}catch(ye){typeof console<"u"&&console.error&&console.error(ye)}})}close(rt){this.finalized||(this.finalized=!0,void 0!==rt&&(this.finalError=rt),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Ai(){}const Es=function(lt,rt,de,ye){let J;if(ye<rt?J="at least "+rt:ye>de&&(J=0===de?"none":"no more than "+de),J)throw new Error(lt+" failed: Was called with "+ye+(1===ye?" argument.":" arguments.")+" Expects "+J+".")};function ys(lt,rt){return`${lt} failed: ${rt} argument `}function Oa(lt,rt,de,ye){if((!ye||de)&&"function"!=typeof de)throw new Error(ys(lt,rt)+"must be a valid function.")}function ii(lt,rt,de,ye){if((!ye||de)&&("object"!=typeof de||null===de))throw new Error(ys(lt,rt)+"must be a valid context object.")}const Gs=function(lt){const rt=[];let de=0;for(let ye=0;ye<lt.length;ye++){let J=lt.charCodeAt(ye);if(J>=55296&&J<=56319){const wt=J-55296;ye++,Pt(ye<lt.length,"Surrogate pair missing trail surrogate."),J=65536+(wt<<10)+(lt.charCodeAt(ye)-56320)}J<128?rt[de++]=J:J<2048?(rt[de++]=J>>6|192,rt[de++]=63&J|128):J<65536?(rt[de++]=J>>12|224,rt[de++]=J>>6&63|128,rt[de++]=63&J|128):(rt[de++]=J>>18|240,rt[de++]=J>>12&63|128,rt[de++]=J>>6&63|128,rt[de++]=63&J|128)}return rt},Jo=function(lt){let rt=0;for(let de=0;de<lt.length;de++){const ye=lt.charCodeAt(de);ye<128?rt++:ye<2048?rt+=2:ye>=55296&&ye<=56319?(rt+=4,de++):rt+=3}return rt};function hl(lt){return lt&&lt._delegate?lt._delegate:lt}},1656:(vo,Tr,_t)=>{"use strict";_t.d(Tr,{c:()=>he,r:()=>Pe});const he=(se,fe)=>{se.componentOnReady?se.componentOnReady().then(Z=>fe(Z)):Pe(()=>fe(se))},Pe=se=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(se):"function"==typeof requestAnimationFrame?requestAnimationFrame(se):setTimeout(se)},6031:(vo,Tr,_t)=>{"use strict";_t.d(Tr,{L:()=>V,a:()=>Pt,b:()=>he,c:()=>Gt,d:()=>xn,g:()=>se});const V="ionViewWillEnter",Pt="ionViewDidEnter",he="ionViewWillLeave",Gt="ionViewDidLeave",xn="ionViewWillUnload",se=fe=>fe.classList.contains("ion-page")?fe:fe.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||fe},3503:(vo,Tr,_t)=>{"use strict";_t.d(Tr,{c:()=>Ke});var V=_t(8476),Pt=_t(5638);let he;const xn=_e=>_e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Ht=_e=>(void 0===he&&(he=void 0===_e.style.animationName&&void 0!==_e.style.webkitAnimationName?"-webkit-":""),he),ke=(_e,te,ce)=>{const Ve=te.startsWith("animation")?Ht(_e):"";_e.style.setProperty(Ve+te,ce)},Dt=(_e,te)=>{const ce=te.startsWith("animation")?Ht(_e):"";_e.style.removeProperty(ce+te)},Pe=[],et=(_e=[],te)=>{if(void 0!==te){const ce=Array.isArray(te)?te:[te];return[..._e,...ce]}return _e},Ke=_e=>{let te,ce,Ve,Le,Oe,ot,Se,Te,me,xe,Xe,Un,Mn,ut=[],se=[],fe=[],Z=!1,nt={},At=[],Ne=[],Ze={},Ft=0,Rt=!1,yt=!1,ft=!0,Je=!1,In=!0,Gn=!1;const Pr=_e,Ci=[],or=[],Ei=[],Mr=[],on=[],Qt=[],en=[],Jn=[],qr=[],zr=[],ri=[],Li="function"==typeof AnimationEffect||void 0!==V.w&&"function"==typeof V.w.AnimationEffect,Vr="function"==typeof Element&&"function"==typeof Element.prototype.animate&&Li,Ri=()=>ri,Ai=(Ot,K)=>{const oe=K.findIndex(at=>at.c===Ot);oe>-1&&K.splice(oe,1)},ys=(Ot,K)=>((null!=K&&K.oneTimeCallback?or:Ci).push({c:Ot,o:K}),Mn),Oa=()=>{if(Vr)ri.forEach(Ot=>{Ot.cancel()}),ri.length=0;else{const Ot=Mr.slice();(0,Pt.r)(()=>{Ot.forEach(K=>{Dt(K,"animation-name"),Dt(K,"animation-duration"),Dt(K,"animation-timing-function"),Dt(K,"animation-iteration-count"),Dt(K,"animation-delay"),Dt(K,"animation-play-state"),Dt(K,"animation-fill-mode"),Dt(K,"animation-direction")})})}},ii=()=>{Qt.forEach(Ot=>{null!=Ot&&Ot.parentNode&&Ot.parentNode.removeChild(Ot)}),Qt.length=0},rt=()=>void 0!==Oe?Oe:Se?Se.getFill():"both",de=()=>void 0!==me?me:void 0!==ot?ot:Se?Se.getDirection():"normal",ye=()=>Rt?"linear":void 0!==Ve?Ve:Se?Se.getEasing():"linear",J=()=>yt?0:void 0!==xe?xe:void 0!==ce?ce:Se?Se.getDuration():0,wt=()=>void 0!==Le?Le:Se?Se.getIterations():1,Yt=()=>void 0!==Xe?Xe:void 0!==te?te:Se?Se.getDelay():0,Vt=()=>{0!==Ft&&(Ft--,0===Ft&&((()=>{qa(),qr.forEach(mt=>mt()),zr.forEach(mt=>mt());const Ot=ft?1:0,K=At,oe=Ne,at=Ze;Mr.forEach(mt=>{const Nt=mt.classList;K.forEach(tn=>Nt.add(tn)),oe.forEach(tn=>Nt.remove(tn));for(const tn in at)at.hasOwnProperty(tn)&&ke(mt,tn,at[tn])}),xe=void 0,me=void 0,Xe=void 0,Ci.forEach(mt=>mt.c(Ot,Mn)),or.forEach(mt=>mt.c(Ot,Mn)),or.length=0,In=!0,ft&&(Je=!0),ft=!0})(),Se&&Se.animationFinish()))},Et=(Ot=!0)=>{ii();const K=(_e=>(_e.forEach(te=>{for(const ce in te)if(te.hasOwnProperty(ce)){const Ve=te[ce];if("easing"===ce)te["animation-timing-function"]=Ve,delete te[ce];else{const Le=xn(ce);Le!==ce&&(te[Le]=Ve,delete te[ce])}}}),_e))(ut);Mr.forEach(oe=>{if(K.length>0){const at=((_e=[])=>_e.map(te=>{const ce=te.offset,Ve=[];for(const Le in te)te.hasOwnProperty(Le)&&"offset"!==Le&&Ve.push(`${Le}: ${te[Le]};`);return`${100*ce}% { ${Ve.join(" ")} }`}).join(" "))(K);Un=void 0!==_e?_e:(_e=>{let te=Pe.indexOf(_e);return te<0&&(te=Pe.push(_e)-1),`ion-animation-${te}`})(at);const mt=((_e,te,ce)=>{var Ve;const Le=(_e=>{const te=void 0!==_e.getRootNode?_e.getRootNode():_e;return te.head||te})(ce),Oe=Ht(ce),ot=Le.querySelector("#"+_e);if(ot)return ot;const ut=(null!==(Ve=ce.ownerDocument)&&void 0!==Ve?Ve:document).createElement("style");return ut.id=_e,ut.textContent=`@${Oe}keyframes ${_e} { ${te} } @${Oe}keyframes ${_e}-alt { ${te} }`,Le.appendChild(ut),ut})(Un,at,oe);Qt.push(mt),ke(oe,"animation-duration",`${J()}ms`),ke(oe,"animation-timing-function",ye()),ke(oe,"animation-delay",`${Yt()}ms`),ke(oe,"animation-fill-mode",rt()),ke(oe,"animation-direction",de());const Nt=wt()===1/0?"infinite":wt().toString();ke(oe,"animation-iteration-count",Nt),ke(oe,"animation-play-state","paused"),Ot&&ke(oe,"animation-name",`${mt.id}-alt`),(0,Pt.r)(()=>{ke(oe,"animation-name",mt.id||null)})}})},Zn=(Ot=!0)=>{(()=>{en.forEach(at=>at()),Jn.forEach(at=>at());const Ot=se,K=fe,oe=nt;Mr.forEach(at=>{const mt=at.classList;Ot.forEach(Nt=>mt.add(Nt)),K.forEach(Nt=>mt.remove(Nt));for(const Nt in oe)oe.hasOwnProperty(Nt)&&ke(at,Nt,oe[Nt])})})(),ut.length>0&&(Vr?(Mr.forEach(Ot=>{const K=Ot.animate(ut,{id:Pr,delay:Yt(),duration:J(),easing:ye(),iterations:wt(),fill:rt(),direction:de()});K.pause(),ri.push(K)}),ri.length>0&&(ri[0].onfinish=()=>{Vt()})):Et(Ot)),Z=!0},Sr=Ot=>{if(Ot=Math.min(Math.max(Ot,0),.9999),Vr)ri.forEach(K=>{K.currentTime=K.effect.getComputedTiming().delay+J()*Ot,K.pause()});else{const K=`-${J()*Ot}ms`;Mr.forEach(oe=>{ut.length>0&&(ke(oe,"animation-delay",K),ke(oe,"animation-play-state","paused"))})}},oi=Ot=>{ri.forEach(K=>{K.effect.updateTiming({delay:Yt(),duration:J(),easing:ye(),iterations:wt(),fill:rt(),direction:de()})}),void 0!==Ot&&Sr(Ot)},ur=(Ot=!0,K)=>{(0,Pt.r)(()=>{Mr.forEach(oe=>{ke(oe,"animation-name",Un||null),ke(oe,"animation-duration",`${J()}ms`),ke(oe,"animation-timing-function",ye()),ke(oe,"animation-delay",void 0!==K?`-${K*J()}ms`:`${Yt()}ms`),ke(oe,"animation-fill-mode",rt()||null),ke(oe,"animation-direction",de()||null);const at=wt()===1/0?"infinite":wt().toString();ke(oe,"animation-iteration-count",at),Ot&&ke(oe,"animation-name",`${Un}-alt`),(0,Pt.r)(()=>{ke(oe,"animation-name",Un||null)})})})},Qi=(Ot=!1,K=!0,oe)=>(Ot&&on.forEach(at=>{at.update(Ot,K,oe)}),Vr?oi(oe):ur(K,oe),Mn),$r=()=>{Z&&(Vr?ri.forEach(Ot=>{Ot.pause()}):Mr.forEach(Ot=>{ke(Ot,"animation-play-state","paused")}),Gn=!0)},kd=()=>{Te=void 0,Vt()},qa=()=>{Te&&clearTimeout(Te)},Rd=Ot=>new Promise(K=>{null!=Ot&&Ot.sync&&(yt=!0,ys(()=>yt=!1,{oneTimeCallback:!0})),Z||Zn(),Je&&(Vr?(Sr(0),oi()):ur(),Je=!1),In&&(Ft=on.length+1,In=!1);const oe=()=>{Ai(at,or),K()},at=()=>{Ai(oe,Ei),K()};ys(at,{oneTimeCallback:!0}),((Ot,K)=>{Ei.push({c:Ot,o:{oneTimeCallback:!0}})})(oe),on.forEach(mt=>{mt.play()}),Vr?(ri.forEach(Ot=>{Ot.play()}),(0===ut.length||0===Mr.length)&&Vt()):(()=>{if(qa(),(0,Pt.r)(()=>{Mr.forEach(Ot=>{ut.length>0&&ke(Ot,"animation-play-state","running")})}),0===ut.length||0===Mr.length)Vt();else{const Ot=Yt()||0,K=J()||0,oe=wt()||1;isFinite(oe)&&(Te=setTimeout(kd,Ot+K*oe+100)),((_e,te)=>{let ce;const Ve={passive:!0},Oe=ot=>{_e===ot.target&&(ce&&ce(),qa(),(0,Pt.r)(()=>{Mr.forEach(Ot=>{Dt(Ot,"animation-duration"),Dt(Ot,"animation-delay"),Dt(Ot,"animation-play-state")}),(0,Pt.r)(Vt)}))};_e&&(_e.addEventListener("webkitAnimationEnd",Oe,Ve),_e.addEventListener("animationend",Oe,Ve),ce=()=>{_e.removeEventListener("webkitAnimationEnd",Oe,Ve),_e.removeEventListener("animationend",Oe,Ve)})})(Mr[0])}})(),Gn=!1}),Wu=(Ot,K)=>{const oe=ut[0];return void 0===oe||void 0!==oe.offset&&0!==oe.offset?ut=[{offset:0,[Ot]:K},...ut]:oe[Ot]=K,Mn};return Mn={parentAnimation:Se,elements:Mr,childAnimations:on,id:Pr,animationFinish:Vt,from:Wu,to:(Ot,K)=>{const oe=ut[ut.length-1];return void 0===oe||void 0!==oe.offset&&1!==oe.offset?ut=[...ut,{offset:1,[Ot]:K}]:oe[Ot]=K,Mn},fromTo:(Ot,K,oe)=>Wu(Ot,K).to(Ot,oe),parent:Ot=>(Se=Ot,Mn),play:Rd,pause:()=>(on.forEach(Ot=>{Ot.pause()}),$r(),Mn),stop:()=>{on.forEach(Ot=>{Ot.stop()}),Z&&(Oa(),Z=!1),Rt=!1,yt=!1,In=!0,me=void 0,xe=void 0,Xe=void 0,Ft=0,Je=!1,ft=!0,Gn=!1,Ei.forEach(Ot=>Ot.c(0,Mn)),Ei.length=0},destroy:Ot=>(on.forEach(K=>{K.destroy(Ot)}),(Ot=>{Oa(),Ot&&ii()})(Ot),Mr.length=0,on.length=0,ut.length=0,Ci.length=0,or.length=0,Z=!1,In=!0,Mn),keyframes:Ot=>{const K=ut!==Ot;return ut=Ot,K&&(Ot=>{Vr?Ri().forEach(K=>{const oe=K.effect;if(oe.setKeyframes)oe.setKeyframes(Ot);else{const at=new KeyframeEffect(oe.target,Ot,oe.getTiming());K.effect=at}}):Et()})(ut),Mn},addAnimation:Ot=>{if(null!=Ot)if(Array.isArray(Ot))for(const K of Ot)K.parent(Mn),on.push(K);else Ot.parent(Mn),on.push(Ot);return Mn},addElement:Ot=>{if(null!=Ot)if(1===Ot.nodeType)Mr.push(Ot);else if(Ot.length>=0)for(let K=0;K<Ot.length;K++)Mr.push(Ot[K]);else console.error("Invalid addElement value");return Mn},update:Qi,fill:Ot=>(Oe=Ot,Qi(!0),Mn),direction:Ot=>(ot=Ot,Qi(!0),Mn),iterations:Ot=>(Le=Ot,Qi(!0),Mn),duration:Ot=>(!Vr&&0===Ot&&(Ot=1),ce=Ot,Qi(!0),Mn),easing:Ot=>(Ve=Ot,Qi(!0),Mn),delay:Ot=>(te=Ot,Qi(!0),Mn),getWebAnimations:Ri,getKeyframes:()=>ut,getFill:rt,getDirection:de,getDelay:Yt,getIterations:wt,getEasing:ye,getDuration:J,afterAddRead:Ot=>(qr.push(Ot),Mn),afterAddWrite:Ot=>(zr.push(Ot),Mn),afterClearStyles:(Ot=[])=>{for(const K of Ot)Ze[K]="";return Mn},afterStyles:(Ot={})=>(Ze=Ot,Mn),afterRemoveClass:Ot=>(Ne=et(Ne,Ot),Mn),afterAddClass:Ot=>(At=et(At,Ot),Mn),beforeAddRead:Ot=>(en.push(Ot),Mn),beforeAddWrite:Ot=>(Jn.push(Ot),Mn),beforeClearStyles:(Ot=[])=>{for(const K of Ot)nt[K]="";return Mn},beforeStyles:(Ot={})=>(nt=Ot,Mn),beforeRemoveClass:Ot=>(fe=et(fe,Ot),Mn),beforeAddClass:Ot=>(se=et(se,Ot),Mn),onFinish:ys,isRunning:()=>0!==Ft&&!Gn,progressStart:(Ot=!1,K)=>(on.forEach(oe=>{oe.progressStart(Ot,K)}),$r(),Rt=Ot,Z||Zn(),Qi(!1,!0,K),Mn),progressStep:Ot=>(on.forEach(K=>{K.progressStep(Ot)}),Sr(Ot),Mn),progressEnd:(Ot,K,oe)=>(Rt=!1,on.forEach(at=>{at.progressEnd(Ot,K,oe)}),void 0!==oe&&(xe=oe),Je=!1,ft=!0,0===Ot?(me="reverse"===de()?"normal":"reverse","reverse"===me&&(ft=!1),Vr?(Qi(),Sr(1-K)):(Xe=(1-K)*J()*-1,Qi(!1,!1))):1===Ot&&(Vr?(Qi(),Sr(K)):(Xe=K*J()*-1,Qi(!1,!1))),void 0!==Ot&&!Se&&Rd(),Mn)}}},464:(vo,Tr,_t)=>{"use strict";_t.d(Tr,{E:()=>ze,a:()=>V,s:()=>Dt});const V=Pe=>{try{if(Pe instanceof ke)return Pe.value;if(!Gt()||"string"!=typeof Pe||""===Pe)return Pe;if(Pe.includes("onload="))return"";const dt=document.createDocumentFragment(),Ie=document.createElement("div");dt.appendChild(Ie),Ie.innerHTML=Pe,Ht.forEach(_e=>{const te=dt.querySelectorAll(_e);for(let ce=te.length-1;ce>=0;ce--){const Ve=te[ce];Ve.parentNode?Ve.parentNode.removeChild(Ve):dt.removeChild(Ve);const Le=he(Ve);for(let Oe=0;Oe<Le.length;Oe++)Pt(Le[Oe])}});const st=he(dt);for(let _e=0;_e<st.length;_e++)Pt(st[_e]);const et=document.createElement("div");et.appendChild(dt);const Ke=et.querySelector("div");return null!==Ke?Ke.innerHTML:et.innerHTML}catch(dt){return console.error(dt),""}},Pt=Pe=>{if(Pe.nodeType&&1!==Pe.nodeType)return;if(typeof NamedNodeMap<"u"&&!(Pe.attributes instanceof NamedNodeMap))return void Pe.remove();for(let Ie=Pe.attributes.length-1;Ie>=0;Ie--){const st=Pe.attributes.item(Ie),et=st.name;if(!xn.includes(et.toLowerCase())){Pe.removeAttribute(et);continue}const Ke=st.value,_e=Pe[et];(null!=Ke&&Ke.toLowerCase().includes("javascript:")||null!=_e&&_e.toLowerCase().includes("javascript:"))&&Pe.removeAttribute(et)}const dt=he(Pe);for(let Ie=0;Ie<dt.length;Ie++)Pt(dt[Ie])},he=Pe=>null!=Pe.children?Pe.children:Pe.childNodes,Gt=()=>{var Pe;const dt=window,Ie=null===(Pe=null==dt?void 0:dt.Ionic)||void 0===Pe?void 0:Pe.config;return!Ie||(Ie.get?Ie.get("sanitizerEnabled",!0):!0===Ie.sanitizerEnabled||void 0===Ie.sanitizerEnabled)},xn=["class","id","href","src","name","slot"],Ht=["script","style","iframe","meta","link","object","embed"];class ke{constructor(dt){this.value=dt}}const Dt=Pe=>{const dt=window,Ie=dt.Ionic;if(!Ie||!Ie.config||"Object"===Ie.config.constructor.name)return dt.Ionic=dt.Ionic||{},dt.Ionic.config=Object.assign(Object.assign({},dt.Ionic.config),Pe),dt.Ionic.config},ze=!1},5938:(vo,Tr,_t)=>{"use strict";_t.d(Tr,{C:()=>xn,a:()=>he,d:()=>Gt});var V=_t(467),Pt=_t(5638);const he=function(){var Ht=(0,V.A)(function*(ke,Dt,$t,ze,Pe,dt){var Ie;if(ke)return ke.attachViewToDom(Dt,$t,Pe,ze);if(!(dt||"string"==typeof $t||$t instanceof HTMLElement))throw new Error("framework delegate is missing");const st="string"==typeof $t?null===(Ie=Dt.ownerDocument)||void 0===Ie?void 0:Ie.createElement($t):$t;return ze&&ze.forEach(et=>st.classList.add(et)),Pe&&Object.assign(st,Pe),Dt.appendChild(st),yield new Promise(et=>(0,Pt.c)(st,et)),st});return function(Dt,$t,ze,Pe,dt,Ie){return Ht.apply(this,arguments)}}(),Gt=(Ht,ke)=>{if(ke){if(Ht)return Ht.removeViewFromDom(ke.parentElement,ke);ke.remove()}return Promise.resolve()},xn=()=>{let Ht,ke;return{attachViewToDom:function(){var ze=(0,V.A)(function*(Pe,dt,Ie={},st=[]){var et,Ke;let _e;if(Ht=Pe,dt){const ce="string"==typeof dt?null===(et=Ht.ownerDocument)||void 0===et?void 0:et.createElement(dt):dt;st.forEach(Ve=>ce.classList.add(Ve)),Object.assign(ce,Ie),Ht.appendChild(ce),_e=ce,yield new Promise(Ve=>(0,Pt.c)(ce,Ve))}else if(Ht.children.length>0&&("ION-MODAL"===Ht.tagName||"ION-POPOVER"===Ht.tagName)&&!(_e=Ht.children[0]).classList.contains("ion-delegate-host")){const Ve=null===(Ke=Ht.ownerDocument)||void 0===Ke?void 0:Ke.createElement("div");Ve.classList.add("ion-delegate-host"),st.forEach(Le=>Ve.classList.add(Le)),Ve.append(...Ht.children),Ht.appendChild(Ve),_e=Ve}const te=document.querySelector("ion-app")||document.body;return ke=document.createComment("ionic teleport"),Ht.parentNode.insertBefore(ke,Ht),te.appendChild(Ht),null!=_e?_e:Ht});return function(dt,Ie){return ze.apply(this,arguments)}}(),removeViewFromDom:()=>(Ht&&ke&&(ke.parentNode.insertBefore(Ht,ke),ke.remove()),Promise.resolve())}}},8221:(vo,Tr,_t)=>{"use strict";_t.d(Tr,{G:()=>xn});class Pt{constructor(ke,Dt,$t,ze,Pe){this.id=Dt,this.name=$t,this.disableScroll=Pe,this.priority=1e6*ze+Dt,this.ctrl=ke}canStart(){return!!this.ctrl&&this.ctrl.canStart(this.name)}start(){return!!this.ctrl&&this.ctrl.start(this.name,this.id,this.priority)}capture(){if(!this.ctrl)return!1;const ke=this.ctrl.capture(this.name,this.id,this.priority);return ke&&this.disableScroll&&this.ctrl.disableScroll(this.id),ke}release(){this.ctrl&&(this.ctrl.release(this.id),this.disableScroll&&this.ctrl.enableScroll(this.id))}destroy(){this.release(),this.ctrl=void 0}}class he{constructor(ke,Dt,$t,ze){this.id=Dt,this.disable=$t,this.disableScroll=ze,this.ctrl=ke}block(){if(this.ctrl){if(this.disable)for(const ke of this.disable)this.ctrl.disableGesture(ke,this.id);this.disableScroll&&this.ctrl.disableScroll(this.id)}}unblock(){if(this.ctrl){if(this.disable)for(const ke of this.disable)this.ctrl.enableGesture(ke,this.id);this.disableScroll&&this.ctrl.enableScroll(this.id)}}destroy(){this.unblock(),this.ctrl=void 0}}const Gt="backdrop-no-scroll",xn=new class V{constructor(){this.gestureId=0,this.requestedStart=new Map,this.disabledGestures=new Map,this.disabledScroll=new Set}createGesture(ke){var Dt;return new Pt(this,this.newID(),ke.name,null!==(Dt=ke.priority)&&void 0!==Dt?Dt:0,!!ke.disableScroll)}createBlocker(ke={}){return new he(this,this.newID(),ke.disable,!!ke.disableScroll)}start(ke,Dt,$t){return this.canStart(ke)?(this.requestedStart.set(Dt,$t),!0):(this.requestedStart.delete(Dt),!1)}capture(ke,Dt,$t){if(!this.start(ke,Dt,$t))return!1;const ze=this.requestedStart;let Pe=-1e4;if(ze.forEach(dt=>{Pe=Math.max(Pe,dt)}),Pe===$t){this.capturedId=Dt,ze.clear();const dt=new CustomEvent("ionGestureCaptured",{detail:{gestureName:ke}});return document.dispatchEvent(dt),!0}return ze.delete(Dt),!1}release(ke){this.requestedStart.delete(ke),this.capturedId===ke&&(this.capturedId=void 0)}disableGesture(ke,Dt){let $t=this.disabledGestures.get(ke);void 0===$t&&($t=new Set,this.disabledGestures.set(ke,$t)),$t.add(Dt)}enableGesture(ke,Dt){const $t=this.disabledGestures.get(ke);void 0!==$t&&$t.delete(Dt)}disableScroll(ke){this.disabledScroll.add(ke),1===this.disabledScroll.size&&document.body.classList.add(Gt)}enableScroll(ke){this.disabledScroll.delete(ke),0===this.disabledScroll.size&&document.body.classList.remove(Gt)}canStart(ke){return!(void 0!==this.capturedId||this.isDisabled(ke))}isCaptured(){return void 0!==this.capturedId}isScrollDisabled(){return this.disabledScroll.size>0}isDisabled(ke){const Dt=this.disabledGestures.get(ke);return!!(Dt&&Dt.size>0)}newID(){return this.gestureId++,this.gestureId}}},9457:(vo,Tr,_t)=>{"use strict";_t.r(Tr),_t.d(Tr,{MENU_BACK_BUTTON_PRIORITY:()=>$t,OVERLAY_BACK_BUTTON_PRIORITY:()=>Dt,blockHardwareBackButton:()=>Ht,shouldUseCloseWatcher:()=>xn,startHardwareBackButton:()=>ke});var V=_t(467),Pt=_t(8476),he=_t(8436);_t(9081);const xn=()=>he.c.get("experimentalCloseWatcher",!1)&&void 0!==Pt.w&&"CloseWatcher"in Pt.w,Ht=()=>{document.addEventListener("backbutton",()=>{})},ke=()=>{const ze=document;let Pe=!1;const dt=()=>{if(Pe)return;let Ie=0,st=[];const et=new CustomEvent("ionBackButton",{bubbles:!1,detail:{register(te,ce){st.push({priority:te,handler:ce,id:Ie++})}}});ze.dispatchEvent(et);const Ke=function(){var te=(0,V.A)(function*(ce){try{if(null!=ce&&ce.handler){const Ve=ce.handler(_e);null!=Ve&&(yield Ve)}}catch(Ve){console.error(Ve)}});return function(Ve){return te.apply(this,arguments)}}(),_e=()=>{if(st.length>0){let te={priority:Number.MIN_SAFE_INTEGER,handler:()=>{},id:-1};st.forEach(ce=>{ce.priority>=te.priority&&(te=ce)}),Pe=!0,st=st.filter(ce=>ce.id!==te.id),Ke(te).then(()=>Pe=!1)}};_e()};if(xn()){let Ie;const st=()=>{null==Ie||Ie.destroy(),Ie=new Pt.w.CloseWatcher,Ie.onclose=()=>{dt(),st()}};st()}else ze.addEventListener("backbutton",dt)},Dt=100,$t=99},5638:(vo,Tr,_t)=>{"use strict";_t.d(Tr,{a:()=>Dt,b:()=>$t,c:()=>he,d:()=>Ke,e:()=>et,f:()=>st,g:()=>ze,h:()=>Ie,i:()=>ke,j:()=>Oe,k:()=>xn,l:()=>_e,m:()=>Gt,n:()=>dt,o:()=>te,p:()=>Le,q:()=>ot,r:()=>Pe,s:()=>ut,t:()=>V,u:()=>ce,v:()=>Ve});const V=(se,fe=0)=>new Promise(Z=>{Pt(se,fe,Z)}),Pt=(se,fe=0,Z)=>{let Se,nt;const At={passive:!0},Ze=()=>{Se&&Se()},Ft=Rt=>{(void 0===Rt||se===Rt.target)&&(Ze(),Z(Rt))};return se&&(se.addEventListener("webkitTransitionEnd",Ft,At),se.addEventListener("transitionend",Ft,At),nt=setTimeout(Ft,fe+500),Se=()=>{void 0!==nt&&(clearTimeout(nt),nt=void 0),se.removeEventListener("webkitTransitionEnd",Ft,At),se.removeEventListener("transitionend",Ft,At)}),Ze},he=(se,fe)=>{se.componentOnReady?se.componentOnReady().then(Z=>fe(Z)):Pe(()=>fe(se))},Gt=se=>void 0!==se.componentOnReady,xn=(se,fe=[])=>{const Z={};return fe.forEach(Se=>{se.hasAttribute(Se)&&(null!==se.getAttribute(Se)&&(Z[Se]=se.getAttribute(Se)),se.removeAttribute(Se))}),Z},Ht=["role","aria-activedescendant","aria-atomic","aria-autocomplete","aria-braillelabel","aria-brailleroledescription","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colindextext","aria-colspan","aria-controls","aria-current","aria-describedby","aria-description","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowindextext","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext"],ke=(se,fe)=>{let Z=Ht;return fe&&fe.length>0&&(Z=Z.filter(Se=>!fe.includes(Se))),xn(se,Z)},Dt=(se,fe,Z,Se)=>{var nt;if(typeof window<"u"){const At=window,Ne=null===(nt=null==At?void 0:At.Ionic)||void 0===nt?void 0:nt.config;if(Ne){const Ze=Ne.get("_ael");if(Ze)return Ze(se,fe,Z,Se);if(Ne._ael)return Ne._ael(se,fe,Z,Se)}}return se.addEventListener(fe,Z,Se)},$t=(se,fe,Z,Se)=>{var nt;if(typeof window<"u"){const At=window,Ne=null===(nt=null==At?void 0:At.Ionic)||void 0===nt?void 0:nt.config;if(Ne){const Ze=Ne.get("_rel");if(Ze)return Ze(se,fe,Z,Se);if(Ne._rel)return Ne._rel(se,fe,Z,Se)}}return se.removeEventListener(fe,Z,Se)},ze=(se,fe=se)=>se.shadowRoot||fe,Pe=se=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(se):"function"==typeof requestAnimationFrame?requestAnimationFrame(se):setTimeout(se),dt=se=>!!se.shadowRoot&&!!se.attachShadow,Ie=se=>{const fe=se.closest("ion-item");return fe?fe.querySelector("ion-label"):null},st=se=>{if(se.focus(),se.classList.contains("ion-focusable")){const fe=se.closest("ion-app");fe&&fe.setFocus([se])}},et=(se,fe)=>{let Z;const Se=se.getAttribute("aria-labelledby"),nt=se.id;let At=null!==Se&&""!==Se.trim()?Se:fe+"-lbl",Ne=null!==Se&&""!==Se.trim()?document.getElementById(Se):Ie(se);return Ne?(null===Se&&(Ne.id=At),Z=Ne.textContent,Ne.setAttribute("aria-hidden","true")):""!==nt.trim()&&(Ne=document.querySelector(`label[for="${nt}"]`),Ne&&(""!==Ne.id?At=Ne.id:Ne.id=At=`${nt}-lbl`,Z=Ne.textContent)),{label:Ne,labelId:At,labelText:Z}},Ke=(se,fe,Z,Se,nt)=>{if(se||dt(fe)){let At=fe.querySelector("input.aux-input");At||(At=fe.ownerDocument.createElement("input"),At.type="hidden",At.classList.add("aux-input"),fe.appendChild(At)),At.disabled=nt,At.name=Z,At.value=Se||""}},_e=(se,fe,Z)=>Math.max(se,Math.min(fe,Z)),te=(se,fe)=>{if(!se){const Z="ASSERT: "+fe;throw console.error(Z),new Error(Z)}},ce=se=>se.timeStamp||Date.now(),Ve=se=>{if(se){const fe=se.changedTouches;if(fe&&fe.length>0){const Z=fe[0];return{x:Z.clientX,y:Z.clientY}}if(void 0!==se.pageX)return{x:se.pageX,y:se.pageY}}return{x:0,y:0}},Le=se=>{const fe="rtl"===document.dir;switch(se){case"start":return fe;case"end":return!fe;default:throw new Error(`"${se}" is not a valid value for [side]. Use "start" or "end" instead.`)}},Oe=(se,fe)=>{const Z=se._original||se;return{_original:se,emit:ot(Z.emit.bind(Z),fe)}},ot=(se,fe=0)=>{let Z;return(...Se)=>{clearTimeout(Z),Z=setTimeout(se,fe,...Se)}},ut=(se,fe)=>{if(null!=se||(se={}),null!=fe||(fe={}),se===fe)return!0;const Z=Object.keys(se);if(Z.length!==Object.keys(fe).length)return!1;for(const Se of Z)if(!(Se in fe)||se[Se]!==fe[Se])return!1;return!0}},405:(vo,Tr,_t)=>{"use strict";_t.r(Tr),_t.d(Tr,{GESTURE_CONTROLLER:()=>V.G,createGesture:()=>$t});var V=_t(8221);const Pt=(Ie,st,et,Ke)=>{const _e=he(Ie)?{capture:!!Ke.capture,passive:!!Ke.passive}:!!Ke.capture;let te,ce;return Ie.__zone_symbol__addEventListener?(te="__zone_symbol__addEventListener",ce="__zone_symbol__removeEventListener"):(te="addEventListener",ce="removeEventListener"),Ie[te](st,et,_e),()=>{Ie[ce](st,et,_e)}},he=Ie=>{if(void 0===Gt)try{const st=Object.defineProperty({},"passive",{get:()=>{Gt=!0}});Ie.addEventListener("optsTest",()=>{},st)}catch{Gt=!1}return!!Gt};let Gt;const ke=Ie=>Ie instanceof Document?Ie:Ie.ownerDocument,$t=Ie=>{let st=!1,et=!1,Ke=!0,_e=!1;const te=Object.assign({disableScroll:!1,direction:"x",gesturePriority:0,passive:!0,maxAngle:40,threshold:10},Ie),ce=te.canStart,Ve=te.onWillStart,Le=te.onStart,Oe=te.onEnd,ot=te.notCaptured,ut=te.onMove,se=te.threshold,fe=te.passive,Z=te.blurOnStart,Se={type:"pan",startX:0,startY:0,startTime:0,currentX:0,currentY:0,velocityX:0,velocityY:0,deltaX:0,deltaY:0,currentTime:0,event:void 0,data:void 0},nt=((Ie,st,et)=>{const Ke=et*(Math.PI/180),_e="x"===Ie,te=Math.cos(Ke),ce=st*st;let Ve=0,Le=0,Oe=!1,ot=0;return{start(ut,se){Ve=ut,Le=se,ot=0,Oe=!0},detect(ut,se){if(!Oe)return!1;const fe=ut-Ve,Z=se-Le,Se=fe*fe+Z*Z;if(Se<ce)return!1;const nt=Math.sqrt(Se),At=(_e?fe:Z)/nt;return ot=At>te?1:At<-te?-1:0,Oe=!1,!0},isGesture:()=>0!==ot,getDirection:()=>ot}})(te.direction,te.threshold,te.maxAngle),At=V.G.createGesture({name:Ie.gestureName,priority:Ie.gesturePriority,disableScroll:Ie.disableScroll}),Ft=()=>{st&&(_e=!1,ut&&ut(Se))},Rt=()=>!!At.capture()&&(st=!0,Ke=!1,Se.startX=Se.currentX,Se.startY=Se.currentY,Se.startTime=Se.currentTime,Ve?Ve(Se).then(Te):Te(),!0),Te=()=>{Z&&(()=>{if(typeof document<"u"){const Je=document.activeElement;null!=Je&&Je.blur&&Je.blur()}})(),Le&&Le(Se),Ke=!0},me=()=>{st=!1,et=!1,_e=!1,Ke=!0,At.release()},xe=Je=>{const In=st,Un=Ke;if(me(),Un){if(ze(Se,Je),In)return void(Oe&&Oe(Se));ot&&ot(Se)}},Xe=((Ie,st,et,Ke,_e)=>{let te,ce,Ve,Le,Oe,ot,ut,se=0;const fe=yt=>{se=Date.now()+2e3,st(yt)&&(!ce&&et&&(ce=Pt(Ie,"touchmove",et,_e)),Ve||(Ve=Pt(yt.target,"touchend",Se,_e)),Le||(Le=Pt(yt.target,"touchcancel",Se,_e)))},Z=yt=>{se>Date.now()||st(yt)&&(!ot&&et&&(ot=Pt(ke(Ie),"mousemove",et,_e)),ut||(ut=Pt(ke(Ie),"mouseup",nt,_e)))},Se=yt=>{At(),Ke&&Ke(yt)},nt=yt=>{Ne(),Ke&&Ke(yt)},At=()=>{ce&&ce(),Ve&&Ve(),Le&&Le(),ce=Ve=Le=void 0},Ne=()=>{ot&&ot(),ut&&ut(),ot=ut=void 0},Ze=()=>{At(),Ne()},Ft=(yt=!0)=>{yt?(te||(te=Pt(Ie,"touchstart",fe,_e)),Oe||(Oe=Pt(Ie,"mousedown",Z,_e))):(te&&te(),Oe&&Oe(),te=Oe=void 0,Ze())};return{enable:Ft,stop:Ze,destroy:()=>{Ft(!1),Ke=et=st=void 0}}})(te.el,Je=>{const In=dt(Je);return!(et||!Ke||(Pe(Je,Se),Se.startX=Se.currentX,Se.startY=Se.currentY,Se.startTime=Se.currentTime=In,Se.velocityX=Se.velocityY=Se.deltaX=Se.deltaY=0,Se.event=Je,ce&&!1===ce(Se))||(At.release(),!At.start()))&&(et=!0,0===se?Rt():(nt.start(Se.startX,Se.startY),!0))},Je=>{st?!_e&&Ke&&(_e=!0,ze(Se,Je),requestAnimationFrame(Ft)):(ze(Se,Je),nt.detect(Se.currentX,Se.currentY)&&(!nt.isGesture()||!Rt())&&ft())},xe,{capture:!1,passive:fe}),ft=()=>{me(),Xe.stop(),ot&&ot(Se)};return{enable(Je=!0){Je||(st&&xe(void 0),me()),Xe.enable(Je)},destroy(){At.destroy(),Xe.destroy()}}},ze=(Ie,st)=>{if(!st)return;const et=Ie.currentX,Ke=Ie.currentY,_e=Ie.currentTime;Pe(st,Ie);const te=Ie.currentX,ce=Ie.currentY,Le=(Ie.currentTime=dt(st))-_e;if(Le>0&&Le<100){const ot=(ce-Ke)/Le;Ie.velocityX=(te-et)/Le*.7+.3*Ie.velocityX,Ie.velocityY=.7*ot+.3*Ie.velocityY}Ie.deltaX=te-Ie.startX,Ie.deltaY=ce-Ie.startY,Ie.event=st},Pe=(Ie,st)=>{let et=0,Ke=0;if(Ie){const _e=Ie.changedTouches;if(_e&&_e.length>0){const te=_e[0];et=te.clientX,Ke=te.clientY}else void 0!==Ie.pageX&&(et=Ie.pageX,Ke=Ie.pageY)}st.currentX=et,st.currentY=Ke},dt=Ie=>Ie.timeStamp||Date.now()},7818:(vo,Tr,_t)=>{"use strict";_t.d(Tr,{m:()=>Ie});var V=_t(467),Pt=_t(8476),he=_t(9457),Gt=_t(4929),xn=_t(5638),Ht=_t(8436),ke=_t(3503);const Dt=st=>(0,ke.c)().duration(st?400:300),$t=st=>{let et,Ke;const _e=st.width+8,te=(0,ke.c)(),ce=(0,ke.c)();st.isEndSide?(et=_e+"px",Ke="0px"):(et=-_e+"px",Ke="0px"),te.addElement(st.menuInnerEl).fromTo("transform",`translateX(${et})`,`translateX(${Ke})`);const Le="ios"===(0,Ht.b)(st),Oe=Le?.2:.25;return ce.addElement(st.backdropEl).fromTo("opacity",.01,Oe),Dt(Le).addAnimation([te,ce])},ze=st=>{let et,Ke;const _e=(0,Ht.b)(st),te=st.width;st.isEndSide?(et=-te+"px",Ke=te+"px"):(et=te+"px",Ke=-te+"px");const ce=(0,ke.c)().addElement(st.menuInnerEl).fromTo("transform",`translateX(${Ke})`,"translateX(0px)"),Ve=(0,ke.c)().addElement(st.contentEl).fromTo("transform","translateX(0px)",`translateX(${et})`),Le=(0,ke.c)().addElement(st.backdropEl).fromTo("opacity",.01,.32);return Dt("ios"===_e).addAnimation([ce,Ve,Le])},Pe=st=>{const et=(0,Ht.b)(st),Ke=st.width*(st.isEndSide?-1:1)+"px",_e=(0,ke.c)().addElement(st.contentEl).fromTo("transform","translateX(0px)",`translateX(${Ke})`);return Dt("ios"===et).addAnimation(_e)},Ie=(()=>{const st=new Map,et=[],Ke=function(){var me=(0,V.A)(function*(xe){const Xe=yield ot(xe,!0);return!!Xe&&Xe.open()});return function(Xe){return me.apply(this,arguments)}}(),_e=function(){var me=(0,V.A)(function*(xe){const Xe=yield void 0!==xe?ot(xe,!0):ut();return void 0!==Xe&&Xe.close()});return function(Xe){return me.apply(this,arguments)}}(),te=function(){var me=(0,V.A)(function*(xe){const Xe=yield ot(xe,!0);return!!Xe&&Xe.toggle()});return function(Xe){return me.apply(this,arguments)}}(),ce=function(){var me=(0,V.A)(function*(xe,Xe){const ft=yield ot(Xe);return ft&&(ft.disabled=!xe),ft});return function(Xe,ft){return me.apply(this,arguments)}}(),Ve=function(){var me=(0,V.A)(function*(xe,Xe){const ft=yield ot(Xe);return ft&&(ft.swipeGesture=xe),ft});return function(Xe,ft){return me.apply(this,arguments)}}(),Le=function(){var me=(0,V.A)(function*(xe){if(null!=xe){const Xe=yield ot(xe);return void 0!==Xe&&Xe.isOpen()}return void 0!==(yield ut())});return function(Xe){return me.apply(this,arguments)}}(),Oe=function(){var me=(0,V.A)(function*(xe){const Xe=yield ot(xe);return!!Xe&&!Xe.disabled});return function(Xe){return me.apply(this,arguments)}}(),ot=function(){var me=(0,V.A)(function*(xe,Xe=!1){if(yield Te(),"start"===xe||"end"===xe){const Je=et.filter(Un=>Un.side===xe&&!Un.disabled);if(Je.length>=1)return Je.length>1&&Xe&&(0,Gt.p)(`menuController queried for a menu on the "${xe}" side, but ${Je.length} menus were found. The first menu reference will be used. If this is not the behavior you want then pass the ID of the menu instead of its side.`,Je.map(Un=>Un.el)),Je[0].el;const In=et.filter(Un=>Un.side===xe);if(In.length>=1)return In.length>1&&Xe&&(0,Gt.p)(`menuController queried for a menu on the "${xe}" side, but ${In.length} menus were found. The first menu reference will be used. If this is not the behavior you want then pass the ID of the menu instead of its side.`,In.map(Un=>Un.el)),In[0].el}else if(null!=xe)return yt(Je=>Je.menuId===xe);return yt(Je=>!Je.disabled)||(et.length>0?et[0].el:void 0)});return function(Xe){return me.apply(this,arguments)}}(),ut=function(){var me=(0,V.A)(function*(){return yield Te(),Ze()});return function(){return me.apply(this,arguments)}}(),se=function(){var me=(0,V.A)(function*(){return yield Te(),Ft()});return function(){return me.apply(this,arguments)}}(),fe=function(){var me=(0,V.A)(function*(){return yield Te(),Rt()});return function(){return me.apply(this,arguments)}}(),Z=(me,xe)=>{st.set(me,xe)},At=function(){var me=(0,V.A)(function*(xe,Xe,ft){if(Rt())return!1;if(Xe){const Je=yield ut();Je&&xe.el!==Je&&(yield Je.setOpen(!1,!1))}return xe._setOpen(Xe,ft)});return function(Xe,ft,Je){return me.apply(this,arguments)}}(),Ze=()=>yt(me=>me._isOpen),Ft=()=>et.map(me=>me.el),Rt=()=>et.some(me=>me.isAnimating),yt=me=>{const xe=et.find(me);if(void 0!==xe)return xe.el},Te=()=>Promise.all(Array.from(document.querySelectorAll("ion-menu")).map(me=>new Promise(xe=>(0,xn.c)(me,xe))));return Z("reveal",Pe),Z("push",ze),Z("overlay",$t),null==Pt.d||Pt.d.addEventListener("ionBackButton",me=>{const xe=Ze();xe&&me.detail.register(he.MENU_BACK_BUTTON_PRIORITY,()=>xe.close())}),{registerAnimation:Z,get:ot,getMenus:se,getOpen:ut,isEnabled:Oe,swipeGesture:Ve,isAnimating:fe,isOpen:Le,enable:ce,toggle:te,close:_e,open:Ke,_getOpenSync:Ze,_createAnimation:(me,xe)=>{const Xe=st.get(me);if(!Xe)throw new Error("animation not registered");return Xe(xe)},_register:me=>{et.indexOf(me)<0&&et.push(me)},_unregister:me=>{const xe=et.indexOf(me);xe>-1&&et.splice(xe,1)},_setOpen:At}})()},1497:(vo,Tr,_t)=>{"use strict";_t.d(Tr,{b:()=>Ht,c:()=>ke,d:()=>Dt,e:()=>se,g:()=>Se,l:()=>ot,s:()=>fe,t:()=>Pe,w:()=>ut});var V=_t(467),Pt=_t(9081),he=_t(5638);const Ht="ionViewWillLeave",ke="ionViewDidLeave",Dt="ionViewWillUnload",Pe=nt=>new Promise((At,Ne)=>{(0,Pt.w)(()=>{dt(nt),Ie(nt).then(Ze=>{Ze.animation&&Ze.animation.destroy(),st(nt),At(Ze)},Ze=>{st(nt),Ne(Ze)})})}),dt=nt=>{const At=nt.enteringEl,Ne=nt.leavingEl;Z(At,Ne,nt.direction),nt.showGoBack?At.classList.add("can-go-back"):At.classList.remove("can-go-back"),fe(At,!1),At.style.setProperty("pointer-events","none"),Ne&&(fe(Ne,!1),Ne.style.setProperty("pointer-events","none"))},Ie=function(){var nt=(0,V.A)(function*(At){const Ne=yield et(At);return Ne&&Pt.B.isBrowser?Ke(Ne,At):_e(At)});return function(Ne){return nt.apply(this,arguments)}}(),st=nt=>{const At=nt.enteringEl,Ne=nt.leavingEl;At.classList.remove("ion-page-invisible"),At.style.removeProperty("pointer-events"),void 0!==Ne&&(Ne.classList.remove("ion-page-invisible"),Ne.style.removeProperty("pointer-events"))},et=function(){var nt=(0,V.A)(function*(At){return At.leavingEl&&At.animated&&0!==At.duration?At.animationBuilder?At.animationBuilder:"ios"===At.mode?(yield Promise.resolve().then(_t.bind(_t,2604))).iosTransitionAnimation:(yield Promise.resolve().then(_t.bind(_t,3003))).mdTransitionAnimation:void 0});return function(Ne){return nt.apply(this,arguments)}}(),Ke=function(){var nt=(0,V.A)(function*(At,Ne){yield te(Ne,!0);const Ze=At(Ne.baseEl,Ne);Le(Ne.enteringEl,Ne.leavingEl);const Ft=yield Ve(Ze,Ne);return Ne.progressCallback&&Ne.progressCallback(void 0),Ft&&Oe(Ne.enteringEl,Ne.leavingEl),{hasCompleted:Ft,animation:Ze}});return function(Ne,Ze){return nt.apply(this,arguments)}}(),_e=function(){var nt=(0,V.A)(function*(At){const Ne=At.enteringEl,Ze=At.leavingEl;return yield te(At,!1),Le(Ne,Ze),Oe(Ne,Ze),{hasCompleted:!0}});return function(Ne){return nt.apply(this,arguments)}}(),te=function(){var nt=(0,V.A)(function*(At,Ne){(void 0!==At.deepWait?At.deepWait:Ne)&&(yield Promise.all([se(At.enteringEl),se(At.leavingEl)])),yield ce(At.viewIsReady,At.enteringEl)});return function(Ne,Ze){return nt.apply(this,arguments)}}(),ce=function(){var nt=(0,V.A)(function*(At,Ne){At&&(yield At(Ne))});return function(Ne,Ze){return nt.apply(this,arguments)}}(),Ve=(nt,At)=>{const Ne=At.progressCallback,Ze=new Promise(Ft=>{nt.onFinish(Rt=>Ft(1===Rt))});return Ne?(nt.progressStart(!0),Ne(nt)):nt.play(),Ze},Le=(nt,At)=>{ot(At,Ht),ot(nt,"ionViewWillEnter")},Oe=(nt,At)=>{ot(nt,"ionViewDidEnter"),ot(At,ke)},ot=(nt,At)=>{if(nt){const Ne=new CustomEvent(At,{bubbles:!1,cancelable:!1});nt.dispatchEvent(Ne)}},ut=()=>new Promise(nt=>(0,he.r)(()=>(0,he.r)(()=>nt()))),se=function(){var nt=(0,V.A)(function*(At){const Ne=At;if(Ne){if(null!=Ne.componentOnReady){if(null!=(yield Ne.componentOnReady()))return}else if(null!=Ne.__registerHost)return void(yield new Promise(Ft=>(0,he.r)(Ft)));yield Promise.all(Array.from(Ne.children).map(se))}});return function(Ne){return nt.apply(this,arguments)}}(),fe=(nt,At)=>{At?(nt.setAttribute("aria-hidden","true"),nt.classList.add("ion-page-hidden")):(nt.hidden=!1,nt.removeAttribute("aria-hidden"),nt.classList.remove("ion-page-hidden"))},Z=(nt,At,Ne)=>{void 0!==nt&&(nt.style.zIndex="back"===Ne?"99":"101"),void 0!==At&&(At.style.zIndex="100")},Se=nt=>nt.classList.contains("ion-page")?nt:nt.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||nt},4929:(vo,Tr,_t)=>{"use strict";_t.d(Tr,{a:()=>Pt,b:()=>he,p:()=>V});const V=(Gt,...xn)=>console.warn(`[Ionic Warning]: ${Gt}`,...xn),Pt=(Gt,...xn)=>console.error(`[Ionic Error]: ${Gt}`,...xn),he=(Gt,...xn)=>console.error(`<${Gt.tagName.toLowerCase()}> must be used inside ${xn.join(" or ")}.`)},8476:(vo,Tr,_t)=>{"use strict";_t.d(Tr,{d:()=>Pt,w:()=>V});const V=typeof window<"u"?window:void 0,Pt=typeof document<"u"?document:void 0},9081:(vo,Tr,_t)=>{"use strict";_t.d(Tr,{B:()=>dt,H:()=>Rt,a:()=>Xr,b:()=>rs,c:()=>Un,d:()=>Ci,e:()=>aa,f:()=>Pr,g:()=>Mn,h:()=>Ze,i:()=>rt,j:()=>Ie,r:()=>Et,w:()=>Ot});var V=_t(467);let Gt,xn,Ht,ke=!1,Dt=!1,$t=!1,ze=!1,Pe=!1;const dt={isDev:!1,isBrowser:!0,isServer:!1,isTesting:!1},Ie=K=>{const oe=new URL(K,$r.$resourcesUrl$);return oe.origin!==si.location.origin?oe.href:oe.pathname},Ve="s-id",Le="sty-id",ut="slot-fb{display:contents}slot-fb[hidden]{display:none}",se="http://www.w3.org/1999/xlink",fe={},At=K=>"object"==(K=typeof K)||"function"===K;function Ne(K){var oe,at,mt;return null!==(mt=null===(at=null===(oe=K.head)||void 0===oe?void 0:oe.querySelector('meta[name="csp-nonce"]'))||void 0===at?void 0:at.getAttribute("content"))&&void 0!==mt?mt:void 0}const Ze=(K,oe,...at)=>{let mt=null,Nt=null,tn=null,_n=!1,Xt=!1;const kn=[],Rn=pr=>{for(let Ir=0;Ir<pr.length;Ir++)mt=pr[Ir],Array.isArray(mt)?Rn(mt):null!=mt&&"boolean"!=typeof mt&&((_n="function"!=typeof K&&!At(mt))&&(mt=String(mt)),_n&&Xt?kn[kn.length-1].$text$+=mt:kn.push(_n?Ft(null,mt):mt),Xt=_n)};if(Rn(at),oe){oe.key&&(Nt=oe.key),oe.name&&(tn=oe.name);{const pr=oe.className||oe.class;pr&&(oe.class="object"!=typeof pr?pr:Object.keys(pr).filter(Ir=>pr[Ir]).join(" "))}}if("function"==typeof K)return K(null===oe?{}:oe,kn,Te);const qn=Ft(K,null);return qn.$attrs$=oe,kn.length>0&&(qn.$children$=kn),qn.$key$=Nt,qn.$name$=tn,qn},Ft=(K,oe)=>({$flags$:0,$tag$:K,$text$:oe,$elm$:null,$children$:null,$attrs$:null,$key$:null,$name$:null}),Rt={},Te={forEach:(K,oe)=>K.map(me).forEach(oe),map:(K,oe)=>K.map(me).map(oe).map(xe)},me=K=>({vattrs:K.$attrs$,vchildren:K.$children$,vkey:K.$key$,vname:K.$name$,vtag:K.$tag$,vtext:K.$text$}),xe=K=>{if("function"==typeof K.vtag){const at=Object.assign({},K.vattrs);return K.vkey&&(at.key=K.vkey),K.vname&&(at.name=K.vname),Ze(K.vtag,at,...K.vchildren||[])}const oe=Ft(K.vtag,K.vtext);return oe.$attrs$=K.vattrs,oe.$children$=K.vchildren,oe.$key$=K.vkey,oe.$name$=K.vname,oe},ft=(K,oe,at,mt,Nt,tn,_n)=>{let Xt,kn,Rn,qn;if(1===tn.nodeType){for(Xt=tn.getAttribute("c-id"),Xt&&(kn=Xt.split("."),(kn[0]===_n||"0"===kn[0])&&(Rn={$flags$:0,$hostId$:kn[0],$nodeId$:kn[1],$depth$:kn[2],$index$:kn[3],$tag$:tn.tagName.toLowerCase(),$elm$:tn,$attrs$:null,$children$:null,$key$:null,$name$:null,$text$:null},oe.push(Rn),tn.removeAttribute("c-id"),K.$children$||(K.$children$=[]),K.$children$[Rn.$index$]=Rn,K=Rn,mt&&"0"===Rn.$depth$&&(mt[Rn.$index$]=Rn.$elm$))),qn=tn.childNodes.length-1;qn>=0;qn--)ft(K,oe,at,mt,Nt,tn.childNodes[qn],_n);if(tn.shadowRoot)for(qn=tn.shadowRoot.childNodes.length-1;qn>=0;qn--)ft(K,oe,at,mt,Nt,tn.shadowRoot.childNodes[qn],_n)}else if(8===tn.nodeType)kn=tn.nodeValue.split("."),(kn[1]===_n||"0"===kn[1])&&(Xt=kn[0],Rn={$flags$:0,$hostId$:kn[1],$nodeId$:kn[2],$depth$:kn[3],$index$:kn[4],$elm$:tn,$attrs$:null,$children$:null,$key$:null,$name$:null,$tag$:null,$text$:null},"t"===Xt?(Rn.$elm$=tn.nextSibling,Rn.$elm$&&3===Rn.$elm$.nodeType&&(Rn.$text$=Rn.$elm$.textContent,oe.push(Rn),tn.remove(),K.$children$||(K.$children$=[]),K.$children$[Rn.$index$]=Rn,mt&&"0"===Rn.$depth$&&(mt[Rn.$index$]=Rn.$elm$))):Rn.$hostId$===_n&&("s"===Xt?(Rn.$tag$="slot",tn["s-sn"]=kn[5]?Rn.$name$=kn[5]:"",tn["s-sr"]=!0,mt&&(Rn.$elm$=tr.createElement(Rn.$tag$),Rn.$name$&&Rn.$elm$.setAttribute("name",Rn.$name$),tn.parentNode.insertBefore(Rn.$elm$,tn),tn.remove(),"0"===Rn.$depth$&&(mt[Rn.$index$]=Rn.$elm$)),at.push(Rn),K.$children$||(K.$children$=[]),K.$children$[Rn.$index$]=Rn):"r"===Xt&&(mt?tn.remove():(Nt["s-cr"]=tn,tn["s-cn"]=!0))));else if(K&&"style"===K.$tag$){const pr=Ft(null,tn.textContent);pr.$elm$=tn,pr.$index$="0",K.$children$=[pr]}},Je=(K,oe)=>{if(1===K.nodeType){let at=0;for(;at<K.childNodes.length;at++)Je(K.childNodes[at],oe);if(K.shadowRoot)for(at=0;at<K.shadowRoot.childNodes.length;at++)Je(K.shadowRoot.childNodes[at],oe)}else if(8===K.nodeType){const at=K.nodeValue.split(".");"o"===at[0]&&(oe.set(at[1]+"."+at[2],K),K.nodeValue="",K["s-en"]=at[3])}},Un=K=>Uo.push(K),Mn=K=>Vt(K).$modeName$,Pr=K=>Vt(K).$hostElement$,Ci=(K,oe,at)=>{const mt=Pr(K);return{emit:Nt=>or(mt,oe,{bubbles:!!(4&at),composed:!!(2&at),cancelable:!!(1&at),detail:Nt})}},or=(K,oe,at)=>{const mt=$r.ce(oe,at);return K.dispatchEvent(mt),mt},Ei=new WeakMap,Mr=(K,oe,at)=>{let mt=Qi.get(K);Or&&at?(mt=mt||new CSSStyleSheet,"string"==typeof mt?mt=oe:mt.replaceSync(oe)):mt=oe,Qi.set(K,mt)},on=(K,oe,at)=>{var mt;const Nt=en(oe,at),tn=Qi.get(Nt);if(K=11===K.nodeType?K:tr,tn)if("string"==typeof tn){let Xt,_n=Ei.get(K=K.head||K);if(_n||Ei.set(K,_n=new Set),!_n.has(Nt)){if(K.host&&(Xt=K.querySelector(`[${Le}="${Nt}"]`)))Xt.innerHTML=tn;else{Xt=tr.createElement("style"),Xt.innerHTML=tn;const kn=null!==(mt=$r.$nonce$)&&void 0!==mt?mt:Ne(tr);null!=kn&&Xt.setAttribute("nonce",kn),K.insertBefore(Xt,K.querySelector("link"))}4&oe.$flags$&&(Xt.innerHTML+=ut),_n&&_n.add(Nt)}}else K.adoptedStyleSheets.includes(tn)||(K.adoptedStyleSheets=[...K.adoptedStyleSheets,tn]);return Nt},en=(K,oe)=>"sc-"+(oe&&32&K.$flags$?K.$tagName$+"-"+oe:K.$tagName$),Jn=K=>K.replace(/\/\*!@([^\/]+)\*\/[^\{]+\{/g,"$1{"),qr=(K,oe,at,mt,Nt,tn)=>{if(at!==mt){let _n=Zn(K,oe),Xt=oe.toLowerCase();if("class"===oe){const kn=K.classList,Rn=ri(at),qn=ri(mt);kn.remove(...Rn.filter(pr=>pr&&!qn.includes(pr))),kn.add(...qn.filter(pr=>pr&&!Rn.includes(pr)))}else if("style"===oe){for(const kn in at)(!mt||null==mt[kn])&&(kn.includes("-")?K.style.removeProperty(kn):K.style[kn]="");for(const kn in mt)(!at||mt[kn]!==at[kn])&&(kn.includes("-")?K.style.setProperty(kn,mt[kn]):K.style[kn]=mt[kn])}else if("key"!==oe)if("ref"===oe)mt&&mt(K);else if(_n||"o"!==oe[0]||"n"!==oe[1]){const kn=At(mt);if((_n||kn&&null!==mt)&&!Nt)try{if(K.tagName.includes("-"))K[oe]=mt;else{const qn=null==mt?"":mt;"list"===oe?_n=!1:(null==at||K[oe]!=qn)&&(K[oe]=qn)}}catch{}let Rn=!1;Xt!==(Xt=Xt.replace(/^xlink\:?/,""))&&(oe=Xt,Rn=!0),null==mt||!1===mt?(!1!==mt||""===K.getAttribute(oe))&&(Rn?K.removeAttributeNS(se,oe):K.removeAttribute(oe)):(!_n||4&tn||Nt)&&!kn&&(mt=!0===mt?"":mt,Rn?K.setAttributeNS(se,oe,mt):K.setAttribute(oe,mt))}else if(oe="-"===oe[2]?oe.slice(3):Zn(si,Xt)?Xt.slice(2):Xt[2]+oe.slice(3),at||mt){const kn=oe.endsWith(Li);oe=oe.replace(Vr,""),at&&$r.rel(K,oe,at,kn),mt&&$r.ael(K,oe,mt,kn)}}},zr=/\s/,ri=K=>K?K.split(zr):[],Li="Capture",Vr=new RegExp(Li+"$"),Io=(K,oe,at,mt)=>{const Nt=11===oe.$elm$.nodeType&&oe.$elm$.host?oe.$elm$.host:oe.$elm$,tn=K&&K.$attrs$||fe,_n=oe.$attrs$||fe;for(mt in tn)mt in _n||qr(Nt,mt,tn[mt],void 0,at,oe.$flags$);for(mt in _n)qr(Nt,mt,tn[mt],_n[mt],at,oe.$flags$)},Ri=(K,oe,at,mt)=>{const Nt=oe.$children$[at];let _n,Xt,kn,tn=0;if(ke||($t=!0,"slot"===Nt.$tag$&&(Gt&&mt.classList.add(Gt+"-s"),Nt.$flags$|=Nt.$children$?2:1)),null!==Nt.$text$)_n=Nt.$elm$=tr.createTextNode(Nt.$text$);else if(1&Nt.$flags$)_n=Nt.$elm$=tr.createTextNode("");else{if(ze||(ze="svg"===Nt.$tag$),_n=Nt.$elm$=tr.createElementNS(ze?"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",2&Nt.$flags$?"slot-fb":Nt.$tag$),ze&&"foreignObject"===Nt.$tag$&&(ze=!1),Io(null,Nt,ze),(K=>null!=K)(Gt)&&_n["s-si"]!==Gt&&_n.classList.add(_n["s-si"]=Gt),Nt.$children$)for(tn=0;tn<Nt.$children$.length;++tn)Xt=Ri(K,Nt,tn,_n),Xt&&_n.appendChild(Xt);"svg"===Nt.$tag$?ze=!1:"foreignObject"===_n.tagName&&(ze=!0)}return _n["s-hn"]=Ht,3&Nt.$flags$&&(_n["s-sr"]=!0,_n["s-cr"]=xn,_n["s-sn"]=Nt.$name$||"",kn=K&&K.$children$&&K.$children$[at],kn&&kn.$tag$===Nt.$tag$&&K.$elm$&&cs(K.$elm$,!1)),_n},cs=(K,oe)=>{$r.$flags$|=1;const at=K.childNodes;for(let mt=at.length-1;mt>=0;mt--){const Nt=at[mt];Nt["s-hn"]!==Ht&&Nt["s-ol"]&&(ys(Nt).insertBefore(Nt,Es(Nt)),Nt["s-ol"].remove(),Nt["s-ol"]=void 0,Nt["s-sh"]=void 0,$t=!0),oe&&cs(Nt,oe)}$r.$flags$&=-2},ns=(K,oe,at,mt,Nt,tn)=>{let Xt,_n=K["s-cr"]&&K["s-cr"].parentNode||K;for(_n.shadowRoot&&_n.tagName===Ht&&(_n=_n.shadowRoot);Nt<=tn;++Nt)mt[Nt]&&(Xt=Ri(null,at,Nt,K),Xt&&(mt[Nt].$elm$=Xt,_n.insertBefore(Xt,Es(oe))))},Ji=(K,oe,at)=>{for(let mt=oe;mt<=at;++mt){const Nt=K[mt];if(Nt){const tn=Nt.$elm$;Ua(Nt),tn&&(Dt=!0,tn["s-ol"]?tn["s-ol"].remove():cs(tn,!0),tn.remove())}}},Ai=(K,oe,at=!1)=>K.$tag$===oe.$tag$&&("slot"===K.$tag$?K.$name$===oe.$name$:!!at||K.$key$===oe.$key$),Es=K=>K&&K["s-ol"]||K,ys=K=>(K["s-ol"]?K["s-ol"]:K).parentNode,Xo=(K,oe,at=!1)=>{const mt=oe.$elm$=K.$elm$,Nt=K.$children$,tn=oe.$children$,_n=oe.$tag$,Xt=oe.$text$;let kn;null===Xt?(ze="svg"===_n||"foreignObject"!==_n&&ze,"slot"===_n&&!ke||Io(K,oe,ze),null!==Nt&&null!==tn?((K,oe,at,mt,Nt=!1)=>{let fo,po,tn=0,_n=0,Xt=0,kn=0,Rn=oe.length-1,qn=oe[0],pr=oe[Rn],Ir=mt.length-1,Dn=mt[0],xo=mt[Ir];for(;tn<=Rn&&_n<=Ir;)if(null==qn)qn=oe[++tn];else if(null==pr)pr=oe[--Rn];else if(null==Dn)Dn=mt[++_n];else if(null==xo)xo=mt[--Ir];else if(Ai(qn,Dn,Nt))Xo(qn,Dn,Nt),qn=oe[++tn],Dn=mt[++_n];else if(Ai(pr,xo,Nt))Xo(pr,xo,Nt),pr=oe[--Rn],xo=mt[--Ir];else if(Ai(qn,xo,Nt))("slot"===qn.$tag$||"slot"===xo.$tag$)&&cs(qn.$elm$.parentNode,!1),Xo(qn,xo,Nt),K.insertBefore(qn.$elm$,pr.$elm$.nextSibling),qn=oe[++tn],xo=mt[--Ir];else if(Ai(pr,Dn,Nt))("slot"===qn.$tag$||"slot"===xo.$tag$)&&cs(pr.$elm$.parentNode,!1),Xo(pr,Dn,Nt),K.insertBefore(pr.$elm$,qn.$elm$),pr=oe[--Rn],Dn=mt[++_n];else{for(Xt=-1,kn=tn;kn<=Rn;++kn)if(oe[kn]&&null!==oe[kn].$key$&&oe[kn].$key$===Dn.$key$){Xt=kn;break}Xt>=0?(po=oe[Xt],po.$tag$!==Dn.$tag$?fo=Ri(oe&&oe[_n],at,Xt,K):(Xo(po,Dn,Nt),oe[Xt]=void 0,fo=po.$elm$),Dn=mt[++_n]):(fo=Ri(oe&&oe[_n],at,_n,K),Dn=mt[++_n]),fo&&ys(qn.$elm$).insertBefore(fo,Es(qn.$elm$))}tn>Rn?ns(K,null==mt[Ir+1]?null:mt[Ir+1].$elm$,at,mt,_n,Ir):_n>Ir&&Ji(oe,tn,Rn)})(mt,Nt,oe,tn,at):null!==tn?(null!==K.$text$&&(mt.textContent=""),ns(mt,null,oe,tn,0,tn.length-1)):null!==Nt&&Ji(Nt,0,Nt.length-1),ze&&"svg"===_n&&(ze=!1)):(kn=mt["s-cr"])?kn.parentNode.textContent=Xt:K.$text$!==Xt&&(mt.data=Xt)},Oa=K=>{const oe=K.childNodes;for(const at of oe)if(1===at.nodeType){if(at["s-sr"]){const mt=at["s-sn"];at.hidden=!1;for(const Nt of oe)if(Nt!==at)if(Nt["s-hn"]!==at["s-hn"]||""!==mt){if(1===Nt.nodeType&&(mt===Nt.getAttribute("slot")||mt===Nt["s-sn"])){at.hidden=!0;break}}else if(1===Nt.nodeType||3===Nt.nodeType&&""!==Nt.textContent.trim()){at.hidden=!0;break}}Oa(at)}},ii=[],Gs=K=>{let oe,at,mt;for(const Nt of K.childNodes){if(Nt["s-sr"]&&(oe=Nt["s-cr"])&&oe.parentNode){at=oe.parentNode.childNodes;const tn=Nt["s-sn"];for(mt=at.length-1;mt>=0;mt--)if(oe=at[mt],!oe["s-cn"]&&!oe["s-nr"]&&oe["s-hn"]!==Nt["s-hn"])if(Jo(oe,tn)){let _n=ii.find(Xt=>Xt.$nodeToRelocate$===oe);Dt=!0,oe["s-sn"]=oe["s-sn"]||tn,_n?(_n.$nodeToRelocate$["s-sh"]=Nt["s-hn"],_n.$slotRefNode$=Nt):(oe["s-sh"]=Nt["s-hn"],ii.push({$slotRefNode$:Nt,$nodeToRelocate$:oe})),oe["s-sr"]&&ii.map(Xt=>{Jo(Xt.$nodeToRelocate$,oe["s-sn"])&&(_n=ii.find(kn=>kn.$nodeToRelocate$===oe),_n&&!Xt.$slotRefNode$&&(Xt.$slotRefNode$=_n.$slotRefNode$))})}else ii.some(_n=>_n.$nodeToRelocate$===oe)||ii.push({$nodeToRelocate$:oe})}1===Nt.nodeType&&Gs(Nt)}},Jo=(K,oe)=>1===K.nodeType?null===K.getAttribute("slot")&&""===oe||K.getAttribute("slot")===oe:K["s-sn"]===oe||""===oe,Ua=K=>{K.$attrs$&&K.$attrs$.ref&&K.$attrs$.ref(null),K.$children$&&K.$children$.map(Ua)},_s=(K,oe)=>{oe&&!K.$onRenderResolve$&&oe["s-p"]&&oe["s-p"].push(new Promise(at=>K.$onRenderResolve$=at))},Do=(K,oe)=>{if(K.$flags$|=16,!(4&K.$flags$))return _s(K,K.$ancestorComponent$),Ot(()=>Wa(K,oe));K.$flags$|=512},Wa=(K,oe)=>{const mt=K.$lazyInstance$;let Nt;return oe&&(K.$flags$|=256,K.$queuedListeners$&&(K.$queuedListeners$.map(([tn,_n])=>ye(mt,tn,_n)),K.$queuedListeners$=void 0),Nt=ye(mt,"componentWillLoad")),Nt=Ka(Nt,()=>ye(mt,"componentWillRender")),Ka(Nt,()=>Us(K,mt,oe))},Ka=(K,oe)=>Zi(K)?K.then(oe):oe(),Zi=K=>K instanceof Promise||K&&K.then&&"function"==typeof K.then,Us=function(){var K=(0,V.A)(function*(oe,at,mt){var Nt;const tn=oe.$hostElement$,Xt=tn["s-rc"];mt&&(K=>{const oe=K.$cmpMeta$,at=K.$hostElement$,mt=oe.$flags$,tn=on(at.shadowRoot?at.shadowRoot:at.getRootNode(),oe,K.$modeName$);10&mt&&(at["s-sc"]=tn,at.classList.add(tn+"-h"),2&mt&&at.classList.add(tn+"-s"))})(oe);hl(oe,at,tn,mt),Xt&&(Xt.map(Rn=>Rn()),tn["s-rc"]=void 0);{const Rn=null!==(Nt=tn["s-p"])&&void 0!==Nt?Nt:[],qn=()=>lt(oe);0===Rn.length?qn():(Promise.all(Rn).then(qn),oe.$flags$|=4,Rn.length=0)}});return function(at,mt,Nt){return K.apply(this,arguments)}}(),hl=(K,oe,at,mt)=>{try{oe=oe.render&&oe.render(),K.$flags$&=-17,K.$flags$|=2,((K,oe,at=!1)=>{var mt,Nt,tn,_n;const Xt=K.$hostElement$,kn=K.$cmpMeta$,Rn=K.$vnode$||Ft(null,null),qn=(K=>K&&K.$tag$===Rt)(oe)?oe:Ze(null,null,oe);if(Ht=Xt.tagName,kn.$attrsToReflect$&&(qn.$attrs$=qn.$attrs$||{},kn.$attrsToReflect$.map(([pr,Ir])=>qn.$attrs$[Ir]=Xt[pr])),at&&qn.$attrs$)for(const pr of Object.keys(qn.$attrs$))Xt.hasAttribute(pr)&&!["key","ref","style","class"].includes(pr)&&(qn.$attrs$[pr]=Xt[pr]);if(qn.$tag$=null,qn.$flags$|=4,K.$vnode$=qn,qn.$elm$=Rn.$elm$=Xt.shadowRoot||Xt,Gt=Xt["s-sc"],ke=!!(1&kn.$flags$),xn=Xt["s-cr"],Dt=!1,Xo(Rn,qn,at),$r.$flags$|=1,$t){Gs(qn.$elm$);for(const pr of ii){const Ir=pr.$nodeToRelocate$;if(!Ir["s-ol"]){const Dn=tr.createTextNode("");Dn["s-nr"]=Ir,Ir.parentNode.insertBefore(Ir["s-ol"]=Dn,Ir)}}for(const pr of ii){const Ir=pr.$nodeToRelocate$,Dn=pr.$slotRefNode$;if(Dn){const xo=Dn.parentNode;let fo=Dn.nextSibling;{let po=null===(mt=Ir["s-ol"])||void 0===mt?void 0:mt.previousSibling;for(;po;){let ws=null!==(Nt=po["s-nr"])&&void 0!==Nt?Nt:null;if(ws&&ws["s-sn"]===Ir["s-sn"]&&xo===ws.parentNode&&(ws=ws.nextSibling,!ws||!ws["s-nr"])){fo=ws;break}po=po.previousSibling}}(!fo&&xo!==Ir.parentNode||Ir.nextSibling!==fo)&&Ir!==fo&&(!Ir["s-hn"]&&Ir["s-ol"]&&(Ir["s-hn"]=Ir["s-ol"].parentNode.nodeName),xo.insertBefore(Ir,fo),1===Ir.nodeType&&(Ir.hidden=null!==(tn=Ir["s-ih"])&&void 0!==tn&&tn))}else 1===Ir.nodeType&&(at&&(Ir["s-ih"]=null!==(_n=Ir.hidden)&&void 0!==_n&&_n),Ir.hidden=!0)}}Dt&&Oa(qn.$elm$),$r.$flags$&=-2,ii.length=0,xn=void 0})(K,oe,mt)}catch(Nt){Sr(Nt,K.$hostElement$)}return null},lt=K=>{const at=K.$hostElement$,Nt=K.$lazyInstance$,tn=K.$ancestorComponent$;ye(Nt,"componentDidRender"),64&K.$flags$?ye(Nt,"componentDidUpdate"):(K.$flags$|=64,J(at),ye(Nt,"componentDidLoad"),K.$onReadyResolve$(at),tn||de()),K.$onInstanceResolve$(at),K.$onRenderResolve$&&(K.$onRenderResolve$(),K.$onRenderResolve$=void 0),512&K.$flags$&&$o(()=>Do(K,!1)),K.$flags$&=-517},rt=K=>{{const oe=Vt(K),at=oe.$hostElement$.isConnected;return at&&2==(18&oe.$flags$)&&Do(oe,!1),at}},de=K=>{J(tr.documentElement),$o(()=>or(si,"appload",{detail:{namespace:"ionic"}}))},ye=(K,oe,at)=>{if(K&&K[oe])try{return K[oe](at)}catch(mt){Sr(mt)}},J=K=>K.classList.add("hydrated"),Nn=(K,oe,at)=>{var mt;const Nt=K.prototype;if(oe.$members$){K.watchers&&(oe.$watchers$=K.watchers);const tn=Object.entries(oe.$members$);if(tn.map(([_n,[Xt]])=>{31&Xt||2&at&&32&Xt?Object.defineProperty(Nt,_n,{get(){return((K,oe)=>Vt(this).$instanceValues$.get(oe))(0,_n)},set(kn){((K,oe,at,mt)=>{const Nt=Vt(K),tn=Nt.$hostElement$,_n=Nt.$instanceValues$.get(oe),Xt=Nt.$flags$,kn=Nt.$lazyInstance$;at=((K,oe)=>null==K||At(K)?K:4&oe?"false"!==K&&(""===K||!!K):2&oe?parseFloat(K):1&oe?String(K):K)(at,mt.$members$[oe][0]);const Rn=Number.isNaN(_n)&&Number.isNaN(at);if((!(8&Xt)||void 0===_n)&&at!==_n&&!Rn&&(Nt.$instanceValues$.set(oe,at),kn)){if(mt.$watchers$&&128&Xt){const pr=mt.$watchers$[oe];pr&&pr.map(Ir=>{try{kn[Ir](at,_n,oe)}catch(Dn){Sr(Dn,tn)}})}2==(18&Xt)&&Do(Nt,!1)}})(this,_n,kn,oe)},configurable:!0,enumerable:!0}):1&at&&64&Xt&&Object.defineProperty(Nt,_n,{value(...kn){var Rn;const qn=Vt(this);return null===(Rn=null==qn?void 0:qn.$onInstancePromise$)||void 0===Rn?void 0:Rn.then(()=>{var pr;return null===(pr=qn.$lazyInstance$)||void 0===pr?void 0:pr[_n](...kn)})}})}),1&at){const _n=new Map;Nt.attributeChangedCallback=function(Xt,kn,Rn){$r.jmp(()=>{var qn;const pr=_n.get(Xt);if(this.hasOwnProperty(pr))Rn=this[pr],delete this[pr];else{if(Nt.hasOwnProperty(pr)&&"number"==typeof this[pr]&&this[pr]==Rn)return;if(null==pr){const Ir=Vt(this),Dn=null==Ir?void 0:Ir.$flags$;if(Dn&&!(8&Dn)&&128&Dn&&Rn!==kn){const xo=Ir.$lazyInstance$,fo=null===(qn=oe.$watchers$)||void 0===qn?void 0:qn[Xt];null==fo||fo.forEach(po=>{null!=xo[po]&&xo[po].call(xo,Rn,kn,Xt)})}return}}this[pr]=(null!==Rn||"boolean"!=typeof this[pr])&&Rn})},K.observedAttributes=Array.from(new Set([...Object.keys(null!==(mt=oe.$watchers$)&&void 0!==mt?mt:{}),...tn.filter(([Xt,kn])=>15&kn[0]).map(([Xt,kn])=>{var Rn;const qn=kn[1]||Xt;return _n.set(qn,Xt),512&kn[0]&&(null===(Rn=oe.$attrsToReflect$)||void 0===Rn||Rn.push([Xt,qn])),qn})]))}}return K},hi=function(){var K=(0,V.A)(function*(oe,at,mt,Nt){let tn;if(!(32&at.$flags$)){if(at.$flags$|=32,mt.$lazyBundleId$){if(tn=ur(mt),tn.then){const qn=()=>{};tn=yield tn,qn()}tn.isProxied||(mt.$watchers$=tn.watchers,Nn(tn,mt,2),tn.isProxied=!0);const Rn=()=>{};at.$flags$|=8;try{new tn(at)}catch(qn){Sr(qn)}at.$flags$&=-9,at.$flags$|=128,Rn(),zn(at.$lazyInstance$)}else tn=oe.constructor,customElements.whenDefined(mt.$tagName$).then(()=>at.$flags$|=128);if(tn.style){let Rn=tn.style;"string"!=typeof Rn&&(Rn=Rn[at.$modeName$=(K=>Uo.map(oe=>oe(K)).find(oe=>!!oe))(oe)]);const qn=en(mt,at.$modeName$);if(!Qi.has(qn)){const pr=()=>{};Mr(qn,Rn,!!(1&mt.$flags$)),pr()}}}const _n=at.$ancestorComponent$,Xt=()=>Do(at,!0);_n&&_n["s-rc"]?_n["s-rc"].push(Xt):Xt()});return function(at,mt,Nt,tn){return K.apply(this,arguments)}}(),zn=K=>{ye(K,"connectedCallback")},Yr=K=>{const oe=K["s-cr"]=tr.createComment("");oe["s-cn"]=!0,K.insertBefore(oe,K.firstChild)},sn=K=>{ye(K,"disconnectedCallback")},mi=function(){var K=(0,V.A)(function*(oe){if(!(1&$r.$flags$)){const at=Vt(oe);at.$rmListeners$&&(at.$rmListeners$.map(mt=>mt()),at.$rmListeners$=void 0),null!=at&&at.$lazyInstance$?sn(at.$lazyInstance$):null!=at&&at.$onReadyPromise$&&at.$onReadyPromise$.then(()=>sn(at.$lazyInstance$))}});return function(at){return K.apply(this,arguments)}}(),rs=(K,oe={})=>{var at;const Nt=[],tn=oe.exclude||[],_n=si.customElements,Xt=tr.head,kn=Xt.querySelector("meta[charset]"),Rn=tr.createElement("style"),qn=[],pr=tr.querySelectorAll(`[${Le}]`);let Ir,Dn=!0,xo=0;for(Object.assign($r,oe),$r.$resourcesUrl$=new URL(oe.resourcesUrl||"./",tr.baseURI).href,$r.$flags$|=2;xo<pr.length;xo++)Mr(pr[xo].getAttribute(Le),Jn(pr[xo].innerHTML),!0);let fo=!1;if(K.map(po=>{po[1].map(ws=>{var jr;const go={$flags$:ws[0],$tagName$:ws[1],$members$:ws[2],$listeners$:ws[3]};4&go.$flags$&&(fo=!0),go.$members$=ws[2],go.$listeners$=ws[3],go.$attrsToReflect$=[],go.$watchers$=null!==(jr=ws[4])&&void 0!==jr?jr:{};const ks=go.$tagName$,Rl=class extends HTMLElement{constructor(Va){super(Va),mn(Va=this,go),1&go.$flags$&&Va.attachShadow({mode:"open",delegatesFocus:!!(16&go.$flags$)})}connectedCallback(){Ir&&(clearTimeout(Ir),Ir=null),Dn?qn.push(this):$r.jmp(()=>(K=>{if(!(1&$r.$flags$)){const oe=Vt(K),at=oe.$cmpMeta$,mt=()=>{};if(1&oe.$flags$)fl(K,oe,at.$listeners$),null!=oe&&oe.$lazyInstance$?zn(oe.$lazyInstance$):null!=oe&&oe.$onReadyPromise$&&oe.$onReadyPromise$.then(()=>zn(oe.$lazyInstance$));else{let Nt;if(oe.$flags$|=1,Nt=K.getAttribute(Ve),Nt){if(1&at.$flags$){const tn=on(K.shadowRoot,at,K.getAttribute("s-mode"));K.classList.remove(tn+"-h",tn+"-s")}((K,oe,at,mt)=>{const tn=K.shadowRoot,_n=[],kn=tn?[]:null,Rn=mt.$vnode$=Ft(oe,null);$r.$orgLocNodes$||Je(tr.body,$r.$orgLocNodes$=new Map),K[Ve]=at,K.removeAttribute(Ve),ft(Rn,_n,[],kn,K,K,at),_n.map(qn=>{const pr=qn.$hostId$+"."+qn.$nodeId$,Ir=$r.$orgLocNodes$.get(pr),Dn=qn.$elm$;Ir&&kd&&""===Ir["s-en"]&&Ir.parentNode.insertBefore(Dn,Ir.nextSibling),tn||(Dn["s-hn"]=oe,Ir&&(Dn["s-ol"]=Ir,Dn["s-ol"]["s-nr"]=Dn)),$r.$orgLocNodes$.delete(pr)}),tn&&kn.map(qn=>{qn&&tn.appendChild(qn)})})(K,at.$tagName$,Nt,oe)}Nt||12&at.$flags$&&Yr(K);{let tn=K;for(;tn=tn.parentNode||tn.host;)if(1===tn.nodeType&&tn.hasAttribute("s-id")&&tn["s-p"]||tn["s-p"]){_s(oe,oe.$ancestorComponent$=tn);break}}at.$members$&&Object.entries(at.$members$).map(([tn,[_n]])=>{if(31&_n&&K.hasOwnProperty(tn)){const Xt=K[tn];delete K[tn],K[tn]=Xt}}),hi(K,oe,at)}mt()}})(this))}disconnectedCallback(){$r.jmp(()=>mi(this))}componentOnReady(){return Vt(this).$onReadyPromise$}};go.$lazyBundleId$=po[0],!tn.includes(ks)&&!_n.get(ks)&&(Nt.push(ks),_n.define(ks,Nn(Rl,go,1)))})}),Nt.length>0&&(fo&&(Rn.textContent+=ut),Rn.textContent+=Nt+"{visibility:hidden}.hydrated{visibility:inherit}",Rn.innerHTML.length)){Rn.setAttribute("data-styles","");const po=null!==(at=$r.$nonce$)&&void 0!==at?at:Ne(tr);null!=po&&Rn.setAttribute("nonce",po),Xt.insertBefore(Rn,kn?kn.nextSibling:Xt.firstChild)}Dn=!1,qn.length?qn.map(po=>po.connectedCallback()):$r.jmp(()=>Ir=setTimeout(de,30))},fl=(K,oe,at,mt)=>{at&&at.map(([Nt,tn,_n])=>{const Xt=Fd(K,Nt),kn=rd(oe,_n),Rn=id(Nt);$r.ael(Xt,tn,kn,Rn),(oe.$rmListeners$=oe.$rmListeners$||[]).push(()=>$r.rel(Xt,tn,kn,Rn))})},rd=(K,oe)=>at=>{try{256&K.$flags$?K.$lazyInstance$[oe](at):(K.$queuedListeners$=K.$queuedListeners$||[]).push([oe,at])}catch(mt){Sr(mt)}},Fd=(K,oe)=>4&oe?tr:8&oe?si:16&oe?tr.body:K,id=K=>qa?{passive:!!(1&K),capture:!!(2&K)}:!!(2&K),sa=new WeakMap,Vt=K=>sa.get(K),Et=(K,oe)=>sa.set(oe.$lazyInstance$=K,oe),mn=(K,oe)=>{const at={$flags$:0,$hostElement$:K,$cmpMeta$:oe,$instanceValues$:new Map};return at.$onInstancePromise$=new Promise(mt=>at.$onInstanceResolve$=mt),at.$onReadyPromise$=new Promise(mt=>at.$onReadyResolve$=mt),K["s-p"]=[],K["s-rc"]=[],fl(K,at,oe.$listeners$),sa.set(K,at)},Zn=(K,oe)=>oe in K,Sr=(K,oe)=>(0,console.error)(K,oe),oi=new Map,ur=(K,oe,at)=>{const mt=K.$tagName$.replace(/-/g,"_"),Nt=K.$lazyBundleId$,tn=oi.get(Nt);return tn?tn[mt]:_t(8996)(`./${Nt}.entry.js`).then(_n=>(oi.set(Nt,_n),_n[mt]),Sr)},Qi=new Map,Uo=[],si=typeof window<"u"?window:{},tr=si.document||{head:{}},$r={$flags$:0,$resourcesUrl$:"",jmp:K=>K(),raf:K=>requestAnimationFrame(K),ael:(K,oe,at,mt)=>K.addEventListener(oe,at,mt),rel:(K,oe,at,mt)=>K.removeEventListener(oe,at,mt),ce:(K,oe)=>new CustomEvent(K,oe)},Xr=K=>{Object.assign($r,K)},kd=!0,qa=(()=>{let K=!1;try{tr.addEventListener("e",null,Object.defineProperty({},"passive",{get(){K=!0}}))}catch{}return K})(),Or=(()=>{try{return new CSSStyleSheet,"function"==typeof(new CSSStyleSheet).replaceSync}catch{}return!1})(),eu=[],eo=[],Rd=(K,oe)=>at=>{K.push(at),Pe||(Pe=!0,oe&&4&$r.$flags$?$o(Wu):$r.raf(Wu))},Ec=K=>{for(let oe=0;oe<K.length;oe++)try{K[oe](performance.now())}catch(at){Sr(at)}K.length=0},Wu=()=>{Ec(eu),Ec(eo),(Pe=eu.length>0)&&$r.raf(Wu)},$o=K=>Promise.resolve(void 0).then(K),aa=Rd(eu,!1),Ot=Rd(eo,!0)},8436:(vo,Tr,_t)=>{"use strict";_t.d(Tr,{a:()=>Pe,b:()=>Ft,c:()=>he,i:()=>Rt});var V=_t(9081);class Pt{constructor(){this.m=new Map}reset(Te){this.m=new Map(Object.entries(Te))}get(Te,me){const xe=this.m.get(Te);return void 0!==xe?xe:me}getBoolean(Te,me=!1){const xe=this.m.get(Te);return void 0===xe?me:"string"==typeof xe?"true"===xe:!!xe}getNumber(Te,me){const xe=parseFloat(this.m.get(Te));return isNaN(xe)?void 0!==me?me:NaN:xe}set(Te,me){this.m.set(Te,me)}}const he=new Pt,$t="ionic-persist-config",Pe=(yt,Te)=>("string"==typeof yt&&(Te=yt,yt=void 0),(yt=>dt(yt))(yt).includes(Te)),dt=(yt=window)=>{if(typeof yt>"u")return[];yt.Ionic=yt.Ionic||{};let Te=yt.Ionic.platforms;return null==Te&&(Te=yt.Ionic.platforms=Ie(yt),Te.forEach(me=>yt.document.documentElement.classList.add(`plt-${me}`))),Te},Ie=yt=>{const Te=he.get("platform");return Object.keys(Ne).filter(me=>{const xe=null==Te?void 0:Te[me];return"function"==typeof xe?xe(yt):Ne[me](yt)})},et=yt=>!!(nt(yt,/iPad/i)||nt(yt,/Macintosh/i)&&Oe(yt)),te=yt=>nt(yt,/android|sink/i),Oe=yt=>At(yt,"(any-pointer:coarse)"),ut=yt=>se(yt)||fe(yt),se=yt=>!!(yt.cordova||yt.phonegap||yt.PhoneGap),fe=yt=>{const Te=yt.Capacitor;return!(null==Te||!Te.isNative)},nt=(yt,Te)=>Te.test(yt.navigator.userAgent),At=(yt,Te)=>{var me;return null===(me=yt.matchMedia)||void 0===me?void 0:me.call(yt,Te).matches},Ne={ipad:et,iphone:yt=>nt(yt,/iPhone/i),ios:yt=>nt(yt,/iPhone|iPod/i)||et(yt),android:te,phablet:yt=>{const Te=yt.innerWidth,me=yt.innerHeight,xe=Math.min(Te,me),Xe=Math.max(Te,me);return xe>390&&xe<520&&Xe>620&&Xe<800},tablet:yt=>{const Te=yt.innerWidth,me=yt.innerHeight,xe=Math.min(Te,me),Xe=Math.max(Te,me);return et(yt)||(yt=>te(yt)&&!nt(yt,/mobile/i))(yt)||xe>460&&xe<820&&Xe>780&&Xe<1400},cordova:se,capacitor:fe,electron:yt=>nt(yt,/electron/i),pwa:yt=>{var Te;return!!(null!==(Te=yt.matchMedia)&&void 0!==Te&&Te.call(yt,"(display-mode: standalone)").matches||yt.navigator.standalone)},mobile:Oe,mobileweb:yt=>Oe(yt)&&!ut(yt),desktop:yt=>!Oe(yt),hybrid:ut};let Ze;const Ft=yt=>yt&&(0,V.g)(yt)||Ze,Rt=(yt={})=>{if(typeof window>"u")return;const Te=window.document,me=window,xe=me.Ionic=me.Ionic||{},Xe={};yt._ael&&(Xe.ael=yt._ael),yt._rel&&(Xe.rel=yt._rel),yt._ce&&(Xe.ce=yt._ce),(0,V.a)(Xe);const ft=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},(yt=>{try{const Te=yt.sessionStorage.getItem($t);return null!==Te?JSON.parse(Te):{}}catch{return{}}})(me)),{persistConfig:!1}),xe.config),(yt=>{const Te={};return yt.location.search.slice(1).split("&").map(me=>me.split("=")).map(([me,xe])=>[decodeURIComponent(me),decodeURIComponent(xe)]).filter(([me])=>((yt,Te)=>yt.substr(0,Te.length)===Te)(me,"ionic:")).map(([me,xe])=>[me.slice(6),xe]).forEach(([me,xe])=>{Te[me]=xe}),Te})(me)),yt);he.reset(ft),he.getBoolean("persistConfig")&&((yt,Te)=>{try{yt.sessionStorage.setItem($t,JSON.stringify(Te))}catch{return}})(me,ft),dt(me),xe.config=he,xe.mode=Ze=he.get("mode",Te.documentElement.getAttribute("mode")||(Pe(me,"ios")?"ios":"md")),he.set("mode",Ze),Te.documentElement.setAttribute("mode",Ze),Te.documentElement.classList.add(Ze),he.getBoolean("_testing")&&he.set("animated",!1);const Je=Un=>{var Mn;return null===(Mn=Un.tagName)||void 0===Mn?void 0:Mn.startsWith("ION-")},In=Un=>["ios","md"].includes(Un);(0,V.c)(Un=>{for(;Un;){const Mn=Un.mode||Un.getAttribute("mode");if(Mn){if(In(Mn))return Mn;Je(Un)&&console.warn('Invalid ionic mode: "'+Mn+'", expected: "ios" or "md"')}Un=Un.parentElement}return Ze})}},2604:(vo,Tr,_t)=>{"use strict";_t.r(Tr),_t.d(Tr,{iosTransitionAnimation:()=>Ie,shadow:()=>ke});var V=_t(3503),Pt=_t(1497);_t(8476),_t(9081);const Ht=et=>document.querySelector(`${et}.ion-cloned-element`),ke=et=>et.shadowRoot||et,Dt=et=>{const Ke="ION-TABS"===et.tagName?et:et.querySelector("ion-tabs"),_e="ion-content ion-header:not(.header-collapse-condense-inactive) ion-title.title-large";if(null!=Ke){const te=Ke.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");return null!=te?te.querySelector(_e):null}return et.querySelector(_e)},$t=(et,Ke)=>{const _e="ION-TABS"===et.tagName?et:et.querySelector("ion-tabs");let te=[];if(null!=_e){const ce=_e.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");null!=ce&&(te=ce.querySelectorAll("ion-buttons"))}else te=et.querySelectorAll("ion-buttons");for(const ce of te){const Ve=ce.closest("ion-header"),Le=Ve&&!Ve.classList.contains("header-collapse-condense-inactive"),Oe=ce.querySelector("ion-back-button"),ot=ce.classList.contains("buttons-collapse");if(null!==Oe&&("start"===ce.slot||""===ce.slot)&&(ot&&Le&&Ke||!ot))return Oe}return null},Pe=(et,Ke,_e,te,ce,Ve,Le,Oe,ot)=>{var ut,se;const fe=Ke?`calc(100% - ${ce.right+4}px)`:ce.left-4+"px",Z=Ke?"right":"left",Se=Ke?"left":"right",nt=Ke?"right":"left",At=(null===(ut=Ve.textContent)||void 0===ut?void 0:ut.trim())===(null===(se=Oe.textContent)||void 0===se?void 0:se.trim()),Ze=(ot.height-st)/Le.height,Ft=At?`scale(${ot.width/Le.width}, ${Ze})`:`scale(${Ze})`,Rt="scale(1)",Te=ke(te).querySelector("ion-icon").getBoundingClientRect(),me=Ke?Te.width/2-(Te.right-ce.right)+"px":ce.left-Te.width/2+"px",xe=Ke?`-${window.innerWidth-ce.right}px`:`${ce.left}px`,Xe=`${ot.top}px`,ft=`${ce.top}px`,Un=_e?[{offset:0,transform:`translate3d(${xe}, ${ft}, 0)`},{offset:1,transform:`translate3d(${me}, ${Xe}, 0)`}]:[{offset:0,transform:`translate3d(${me}, ${Xe}, 0)`},{offset:1,transform:`translate3d(${xe}, ${ft}, 0)`}],Pr=_e?[{offset:0,opacity:1,transform:Rt},{offset:1,opacity:0,transform:Ft}]:[{offset:0,opacity:0,transform:Ft},{offset:1,opacity:1,transform:Rt}],Ei=_e?[{offset:0,opacity:1,transform:"scale(1)"},{offset:.2,opacity:0,transform:"scale(0.6)"},{offset:1,opacity:0,transform:"scale(0.6)"}]:[{offset:0,opacity:0,transform:"scale(0.6)"},{offset:.6,opacity:0,transform:"scale(0.6)"},{offset:1,opacity:1,transform:"scale(1)"}],Mr=(0,V.c)(),on=(0,V.c)(),Qt=(0,V.c)(),en=Ht("ion-back-button"),Jn=ke(en).querySelector(".button-text"),qr=ke(en).querySelector("ion-icon");en.text=te.text,en.mode=te.mode,en.icon=te.icon,en.color=te.color,en.disabled=te.disabled,en.style.setProperty("display","block"),en.style.setProperty("position","fixed"),on.addElement(qr),Mr.addElement(Jn),Qt.addElement(en),Qt.beforeStyles({position:"absolute",top:"0px",[nt]:"0px"}).keyframes(Un),Mr.beforeStyles({"transform-origin":`${Z} top`}).beforeAddWrite(()=>{te.style.setProperty("display","none"),en.style.setProperty(Z,fe)}).afterAddWrite(()=>{te.style.setProperty("display",""),en.style.setProperty("display","none"),en.style.removeProperty(Z)}).keyframes(Pr),on.beforeStyles({"transform-origin":`${Se} center`}).keyframes(Ei),et.addAnimation([Mr,on,Qt])},dt=(et,Ke,_e,te,ce,Ve,Le,Oe)=>{var ot,ut;const se=Ke?"right":"left",fe=Ke?`calc(100% - ${ce.right}px)`:`${ce.left}px`,Se=`${ce.top}px`,At=Ke?`-${window.innerWidth-Oe.right-8}px`:Oe.x-8+"px",Ze=Oe.y-2+"px",Ft=(null===(ot=Le.textContent)||void 0===ot?void 0:ot.trim())===(null===(ut=te.textContent)||void 0===ut?void 0:ut.trim()),yt=Oe.height/(Ve.height-st),Te="scale(1)",me=Ft?`scale(${Oe.width/Ve.width}, ${yt})`:`scale(${yt})`,ft=_e?[{offset:0,opacity:0,transform:`translate3d(${At}, ${Ze}, 0) ${me}`},{offset:.1,opacity:0},{offset:1,opacity:1,transform:`translate3d(0px, ${Se}, 0) ${Te}`}]:[{offset:0,opacity:.99,transform:`translate3d(0px, ${Se}, 0) ${Te}`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${At}, ${Ze}, 0) ${me}`}],Je=Ht("ion-title"),In=(0,V.c)();Je.innerText=te.innerText,Je.size=te.size,Je.color=te.color,In.addElement(Je),In.beforeStyles({"transform-origin":`${se} top`,height:`${ce.height}px`,display:"",position:"relative",[se]:fe}).beforeAddWrite(()=>{te.style.setProperty("opacity","0")}).afterAddWrite(()=>{te.style.setProperty("opacity",""),Je.style.setProperty("display","none")}).keyframes(ft),et.addAnimation(In)},Ie=(et,Ke)=>{var _e;try{const te="cubic-bezier(0.32,0.72,0,1)",ce="opacity",Ve="transform",Le="0%",ot="rtl"===et.ownerDocument.dir,ut=ot?"-99.5%":"99.5%",se=ot?"33%":"-33%",fe=Ke.enteringEl,Z=Ke.leavingEl,Se="back"===Ke.direction,nt=fe.querySelector(":scope > ion-content"),At=fe.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *"),Ne=fe.querySelectorAll(":scope > ion-header > ion-toolbar"),Ze=(0,V.c)(),Ft=(0,V.c)();if(Ze.addElement(fe).duration((null!==(_e=Ke.duration)&&void 0!==_e?_e:0)||540).easing(Ke.easing||te).fill("both").beforeRemoveClass("ion-page-invisible"),Z&&null!=et){const me=(0,V.c)();me.addElement(et),Ze.addAnimation(me)}if(nt||0!==Ne.length||0!==At.length?(Ft.addElement(nt),Ft.addElement(At)):Ft.addElement(fe.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),Ze.addAnimation(Ft),Se?Ft.beforeClearStyles([ce]).fromTo("transform",`translateX(${se})`,`translateX(${Le})`).fromTo(ce,.8,1):Ft.beforeClearStyles([ce]).fromTo("transform",`translateX(${ut})`,`translateX(${Le})`),nt){const me=ke(nt).querySelector(".transition-effect");if(me){const xe=me.querySelector(".transition-cover"),Xe=me.querySelector(".transition-shadow"),ft=(0,V.c)(),Je=(0,V.c)(),In=(0,V.c)();ft.addElement(me).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),Je.addElement(xe).beforeClearStyles([ce]).fromTo(ce,0,.1),In.addElement(Xe).beforeClearStyles([ce]).fromTo(ce,.03,.7),ft.addAnimation([Je,In]),Ft.addAnimation([ft])}}const Rt=fe.querySelector("ion-header.header-collapse-condense"),{forward:yt,backward:Te}=((et,Ke,_e,te,ce)=>{const Ve=$t(te,_e),Le=Dt(ce),Oe=Dt(te),ot=$t(ce,_e),ut=null!==Ve&&null!==Le&&!_e,se=null!==Oe&&null!==ot&&_e;if(ut){const fe=Le.getBoundingClientRect(),Z=Ve.getBoundingClientRect(),Se=ke(Ve).querySelector(".button-text"),nt=Se.getBoundingClientRect(),Ne=ke(Le).querySelector(".toolbar-title").getBoundingClientRect();dt(et,Ke,_e,Le,fe,Ne,Se,nt),Pe(et,Ke,_e,Ve,Z,Se,nt,Le,Ne)}else if(se){const fe=Oe.getBoundingClientRect(),Z=ot.getBoundingClientRect(),Se=ke(ot).querySelector(".button-text"),nt=Se.getBoundingClientRect(),Ne=ke(Oe).querySelector(".toolbar-title").getBoundingClientRect();dt(et,Ke,_e,Oe,fe,Ne,Se,nt),Pe(et,Ke,_e,ot,Z,Se,nt,Oe,Ne)}return{forward:ut,backward:se}})(Ze,ot,Se,fe,Z);if(Ne.forEach(me=>{const xe=(0,V.c)();xe.addElement(me),Ze.addAnimation(xe);const Xe=(0,V.c)();Xe.addElement(me.querySelector("ion-title"));const ft=(0,V.c)(),Je=Array.from(me.querySelectorAll("ion-buttons,[menuToggle]")),In=me.closest("ion-header"),Un=null==In?void 0:In.classList.contains("header-collapse-condense-inactive");let Mn;Mn=Je.filter(Se?Ei=>{const Mr=Ei.classList.contains("buttons-collapse");return Mr&&!Un||!Mr}:Ei=>!Ei.classList.contains("buttons-collapse")),ft.addElement(Mn);const Gn=(0,V.c)();Gn.addElement(me.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])"));const Pr=(0,V.c)();Pr.addElement(ke(me).querySelector(".toolbar-background"));const Ci=(0,V.c)(),or=me.querySelector("ion-back-button");if(or&&Ci.addElement(or),xe.addAnimation([Xe,ft,Gn,Pr,Ci]),ft.fromTo(ce,.01,1),Gn.fromTo(ce,.01,1),Se)Un||Xe.fromTo("transform",`translateX(${se})`,`translateX(${Le})`).fromTo(ce,.01,1),Gn.fromTo("transform",`translateX(${se})`,`translateX(${Le})`),Ci.fromTo(ce,.01,1);else if(Rt||Xe.fromTo("transform",`translateX(${ut})`,`translateX(${Le})`).fromTo(ce,.01,1),Gn.fromTo("transform",`translateX(${ut})`,`translateX(${Le})`),Pr.beforeClearStyles([ce,"transform"]),(null==In?void 0:In.translucent)?Pr.fromTo("transform",ot?"translateX(-100%)":"translateX(100%)","translateX(0px)"):Pr.fromTo(ce,.01,"var(--opacity)"),yt||Ci.fromTo(ce,.01,1),or&&!yt){const Mr=(0,V.c)();Mr.addElement(ke(or).querySelector(".button-text")).fromTo("transform",ot?"translateX(-100px)":"translateX(100px)","translateX(0px)"),xe.addAnimation(Mr)}}),Z){const me=(0,V.c)(),xe=Z.querySelector(":scope > ion-content"),Xe=Z.querySelectorAll(":scope > ion-header > ion-toolbar"),ft=Z.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *");if(xe||0!==Xe.length||0!==ft.length?(me.addElement(xe),me.addElement(ft)):me.addElement(Z.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),Ze.addAnimation(me),Se){me.beforeClearStyles([ce]).fromTo("transform",`translateX(${Le})`,ot?"translateX(-100%)":"translateX(100%)");const Je=(0,Pt.g)(Z);Ze.afterAddWrite(()=>{"normal"===Ze.getDirection()&&Je.style.setProperty("display","none")})}else me.fromTo("transform",`translateX(${Le})`,`translateX(${se})`).fromTo(ce,1,.8);if(xe){const Je=ke(xe).querySelector(".transition-effect");if(Je){const In=Je.querySelector(".transition-cover"),Un=Je.querySelector(".transition-shadow"),Mn=(0,V.c)(),Gn=(0,V.c)(),Pr=(0,V.c)();Mn.addElement(Je).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),Gn.addElement(In).beforeClearStyles([ce]).fromTo(ce,.1,0),Pr.addElement(Un).beforeClearStyles([ce]).fromTo(ce,.7,.03),Mn.addAnimation([Gn,Pr]),me.addAnimation([Mn])}}Xe.forEach(Je=>{const In=(0,V.c)();In.addElement(Je);const Un=(0,V.c)();Un.addElement(Je.querySelector("ion-title"));const Mn=(0,V.c)(),Gn=Je.querySelectorAll("ion-buttons,[menuToggle]"),Pr=Je.closest("ion-header"),Ci=null==Pr?void 0:Pr.classList.contains("header-collapse-condense-inactive"),or=Array.from(Gn).filter(Jn=>{const qr=Jn.classList.contains("buttons-collapse");return qr&&!Ci||!qr});Mn.addElement(or);const Ei=(0,V.c)(),Mr=Je.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])");Mr.length>0&&Ei.addElement(Mr);const on=(0,V.c)();on.addElement(ke(Je).querySelector(".toolbar-background"));const Qt=(0,V.c)(),en=Je.querySelector("ion-back-button");if(en&&Qt.addElement(en),In.addAnimation([Un,Mn,Ei,Qt,on]),Ze.addAnimation(In),Qt.fromTo(ce,.99,0),Mn.fromTo(ce,.99,0),Ei.fromTo(ce,.99,0),Se){if(Ci||Un.fromTo("transform",`translateX(${Le})`,ot?"translateX(-100%)":"translateX(100%)").fromTo(ce,.99,0),Ei.fromTo("transform",`translateX(${Le})`,ot?"translateX(-100%)":"translateX(100%)"),on.beforeClearStyles([ce,"transform"]),(null==Pr?void 0:Pr.translucent)?on.fromTo("transform","translateX(0px)",ot?"translateX(-100%)":"translateX(100%)"):on.fromTo(ce,"var(--opacity)",0),en&&!Te){const qr=(0,V.c)();qr.addElement(ke(en).querySelector(".button-text")).fromTo("transform",`translateX(${Le})`,`translateX(${(ot?-124:124)+"px"})`),In.addAnimation(qr)}}else Ci||Un.fromTo("transform",`translateX(${Le})`,`translateX(${se})`).fromTo(ce,.99,0).afterClearStyles([Ve,ce]),Ei.fromTo("transform",`translateX(${Le})`,`translateX(${se})`).afterClearStyles([Ve,ce]),Qt.afterClearStyles([ce]),Un.afterClearStyles([ce]),Mn.afterClearStyles([ce])})}return Ze}catch(te){throw te}},st=10},3003:(vo,Tr,_t)=>{"use strict";_t.r(Tr),_t.d(Tr,{mdTransitionAnimation:()=>xn});var V=_t(3503),Pt=_t(1497);_t(8476),_t(9081);const xn=(Ht,ke)=>{var Dt,$t,ze;const Ie="back"===ke.direction,et=ke.leavingEl,Ke=(0,Pt.g)(ke.enteringEl),_e=Ke.querySelector("ion-toolbar"),te=(0,V.c)();if(te.addElement(Ke).fill("both").beforeRemoveClass("ion-page-invisible"),Ie?te.duration((null!==(Dt=ke.duration)&&void 0!==Dt?Dt:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)"):te.duration((null!==($t=ke.duration)&&void 0!==$t?$t:0)||280).easing("cubic-bezier(0.36,0.66,0.04,1)").fromTo("transform","translateY(40px)","translateY(0px)").fromTo("opacity",.01,1),_e){const ce=(0,V.c)();ce.addElement(_e),te.addAnimation(ce)}if(et&&Ie){te.duration((null!==(ze=ke.duration)&&void 0!==ze?ze:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)");const ce=(0,V.c)();ce.addElement((0,Pt.g)(et)).onFinish(Ve=>{1===Ve&&ce.elements.length>0&&ce.elements[0].style.setProperty("display","none")}).fromTo("transform","translateY(0px)","translateY(40px)").fromTo("opacity",1,0),te.addAnimation(ce)}return te}},4133:(vo,Tr,_t)=>{"use strict";_t.d(Tr,{B:()=>Mn,G:()=>Gn,O:()=>Pr,a:()=>dt,b:()=>Ie,c:()=>_e,d:()=>Ci,e:()=>or,f:()=>Rt,g:()=>Te,h:()=>Xe,i:()=>Je,j:()=>ce,k:()=>Ve,m:()=>et,n:()=>ut,o:()=>Ze,s:()=>Un,t:()=>te});var V=_t(467),Pt=_t(8476),he=_t(9457),Gt=_t(8436),xn=_t(5938),Ht=_t(5638),ke=_t(4929);let Dt=0,$t=0;const ze=new WeakMap,Pe=on=>({create:Qt=>Le(on,Qt),dismiss:(Qt,en,Jn)=>nt(document,Qt,en,on,Jn),getTop:()=>(0,V.A)(function*(){return Ze(document,on)})()}),dt=Pe("ion-alert"),Ie=Pe("ion-action-sheet"),et=Pe("ion-modal"),_e=Pe("ion-popover"),te=Pe("ion-toast"),ce=on=>{typeof document<"u"&&Se(document);const Qt=Dt++;on.overlayIndex=Qt},Ve=on=>(on.hasAttribute("id")||(on.id="ion-overlay-"+ ++$t),on.id),Le=(on,Qt)=>typeof window<"u"&&typeof window.customElements<"u"?window.customElements.whenDefined(on).then(()=>{const en=document.createElement(on);return en.classList.add("overlay-hidden"),Object.assign(en,Object.assign(Object.assign({},Qt),{hasController:!0})),me(document).appendChild(en),new Promise(Jn=>(0,Ht.c)(en,Jn))}):Promise.resolve(),Oe='[tabindex]:not([tabindex^="-"]):not([hidden]):not([disabled]), input:not([type=hidden]):not([tabindex^="-"]):not([hidden]):not([disabled]), textarea:not([tabindex^="-"]):not([hidden]):not([disabled]), button:not([tabindex^="-"]):not([hidden]):not([disabled]), select:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable[disabled="false"]:not([tabindex^="-"]):not([hidden])',ut=(on,Qt)=>{const en=on.querySelector(Oe);fe(en,Qt)},se=(on,Qt)=>{const en=Array.from(on.querySelectorAll(Oe));fe(en.length>0?en[en.length-1]:null,Qt)},fe=(on,Qt)=>{let en=on;const Jn=null==on?void 0:on.shadowRoot;Jn&&(en=Jn.querySelector(Oe)||on),en?(0,Ht.f)(en):Qt.focus()},Se=on=>{0===Dt&&(Dt=1,on.addEventListener("focus",Qt=>{((on,Qt)=>{const en=Ze(Qt,"ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover"),Jn=on.target;en&&Jn&&!en.classList.contains("ion-disable-focus-trap")&&(en.shadowRoot?(()=>{if(en.contains(Jn))en.lastFocus=Jn;else if("ION-TOAST"===Jn.tagName)fe(en.lastFocus,en);else{const ri=en.lastFocus;ut(en,en),ri===Qt.activeElement&&se(en,en),en.lastFocus=Qt.activeElement}})():(()=>{if(en===Jn)en.lastFocus=void 0;else if("ION-TOAST"===Jn.tagName)fe(en.lastFocus,en);else{const ri=(0,Ht.g)(en);if(!ri.contains(Jn))return;const Li=ri.querySelector(".ion-overlay-wrapper");if(!Li)return;if(Li.contains(Jn)||Jn===ri.querySelector("ion-backdrop"))en.lastFocus=Jn;else{const Vr=en.lastFocus;ut(Li,en),Vr===Qt.activeElement&&se(Li,en),en.lastFocus=Qt.activeElement}}})())})(Qt,on)},!0),on.addEventListener("ionBackButton",Qt=>{const en=Ze(on);null!=en&&en.backdropDismiss&&Qt.detail.register(he.OVERLAY_BACK_BUTTON_PRIORITY,()=>{en.dismiss(void 0,Mn)})}),(0,he.shouldUseCloseWatcher)()||on.addEventListener("keydown",Qt=>{if("Escape"===Qt.key){const en=Ze(on);null!=en&&en.backdropDismiss&&en.dismiss(void 0,Mn)}}))},nt=(on,Qt,en,Jn,qr)=>{const zr=Ze(on,Jn,qr);return zr?zr.dismiss(Qt,en):Promise.reject("overlay does not exist")},Ne=(on,Qt)=>((on,Qt)=>(void 0===Qt&&(Qt="ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover,ion-toast"),Array.from(on.querySelectorAll(Qt)).filter(en=>en.overlayIndex>0)))(on,Qt).filter(en=>!(on=>on.classList.contains("overlay-hidden"))(en)),Ze=(on,Qt,en)=>{const Jn=Ne(on,Qt);return void 0===en?Jn[Jn.length-1]:Jn.find(qr=>qr.id===en)},Ft=(on=!1)=>{const en=me(document).querySelector("ion-router-outlet, ion-nav, #ion-view-container-root");en&&(on?en.setAttribute("aria-hidden","true"):en.removeAttribute("aria-hidden"))},Rt=function(){var on=(0,V.A)(function*(Qt,en,Jn,qr,zr){var ri,Li;if(Qt.presented)return;Ft(!0),Ei(Qt.el),Qt.presented=!0,Qt.willPresent.emit(),null===(ri=Qt.willPresentShorthand)||void 0===ri||ri.emit();const Vr=(0,Gt.b)(Qt),Io=Qt.enterAnimation?Qt.enterAnimation:Gt.c.get(en,"ios"===Vr?Jn:qr);(yield xe(Qt,Io,Qt.el,zr))&&(Qt.didPresent.emit(),null===(Li=Qt.didPresentShorthand)||void 0===Li||Li.emit()),"ION-TOAST"!==Qt.el.tagName&&yt(Qt.el),Qt.keyboardClose&&(null===document.activeElement||!Qt.el.contains(document.activeElement))&&Qt.el.focus(),Qt.el.removeAttribute("aria-hidden")});return function(en,Jn,qr,zr,ri){return on.apply(this,arguments)}}(),yt=function(){var on=(0,V.A)(function*(Qt){let en=document.activeElement;if(!en)return;const Jn=null==en?void 0:en.shadowRoot;Jn&&(en=Jn.querySelector(Oe)||en),yield Qt.onDidDismiss(),(null===document.activeElement||document.activeElement===document.body)&&en.focus()});return function(en){return on.apply(this,arguments)}}(),Te=function(){var on=(0,V.A)(function*(Qt,en,Jn,qr,zr,ri,Li){var Vr,Io;if(!Qt.presented)return!1;void 0!==Pt.d&&1===Ne(Pt.d).length&&Ft(!1),Qt.presented=!1;try{Qt.el.style.setProperty("pointer-events","none"),Qt.willDismiss.emit({data:en,role:Jn}),null===(Vr=Qt.willDismissShorthand)||void 0===Vr||Vr.emit({data:en,role:Jn});const Ri=(0,Gt.b)(Qt),cs=Qt.leaveAnimation?Qt.leaveAnimation:Gt.c.get(qr,"ios"===Ri?zr:ri);Jn!==Gn&&(yield xe(Qt,cs,Qt.el,Li)),Qt.didDismiss.emit({data:en,role:Jn}),null===(Io=Qt.didDismissShorthand)||void 0===Io||Io.emit({data:en,role:Jn}),(ze.get(Qt)||[]).forEach(Ji=>Ji.destroy()),ze.delete(Qt),Qt.el.classList.add("overlay-hidden"),Qt.el.style.removeProperty("pointer-events"),void 0!==Qt.el.lastFocus&&(Qt.el.lastFocus=void 0)}catch(Ri){console.error(Ri)}return Qt.el.remove(),Mr(),!0});return function(en,Jn,qr,zr,ri,Li,Vr){return on.apply(this,arguments)}}(),me=on=>on.querySelector("ion-app")||on.body,xe=function(){var on=(0,V.A)(function*(Qt,en,Jn,qr){Jn.classList.remove("overlay-hidden");const ri=en(Qt.el,qr);(!Qt.animated||!Gt.c.getBoolean("animated",!0))&&ri.duration(0),Qt.keyboardClose&&ri.beforeAddWrite(()=>{const Vr=Jn.ownerDocument.activeElement;null!=Vr&&Vr.matches("input,ion-input, ion-textarea")&&Vr.blur()});const Li=ze.get(Qt)||[];return ze.set(Qt,[...Li,ri]),yield ri.play(),!0});return function(en,Jn,qr,zr){return on.apply(this,arguments)}}(),Xe=(on,Qt)=>{let en;const Jn=new Promise(qr=>en=qr);return ft(on,Qt,qr=>{en(qr.detail)}),Jn},ft=(on,Qt,en)=>{const Jn=qr=>{(0,Ht.b)(on,Qt,Jn),en(qr)};(0,Ht.a)(on,Qt,Jn)},Je=on=>"cancel"===on||on===Mn,In=on=>on(),Un=(on,Qt)=>{if("function"==typeof on)return Gt.c.get("_zoneGate",In)(()=>{try{return on(Qt)}catch(Jn){throw Jn}})},Mn="backdrop",Gn="gesture",Pr=39,Ci=on=>{let en,Qt=!1;const Jn=(0,xn.C)(),qr=(Li=!1)=>{if(en&&!Li)return{delegate:en,inline:Qt};const{el:Vr,hasController:Io,delegate:Ri}=on;return Qt=null!==Vr.parentNode&&!Io,en=Qt?Ri||Jn:Ri,{inline:Qt,delegate:en}};return{attachViewToDom:function(){var Li=(0,V.A)(function*(Vr){const{delegate:Io}=qr(!0);if(Io)return yield Io.attachViewToDom(on.el,Vr);const{hasController:Ri}=on;if(Ri&&void 0!==Vr)throw new Error("framework delegate is missing");return null});return function(Io){return Li.apply(this,arguments)}}(),removeViewFromDom:()=>{const{delegate:Li}=qr();Li&&void 0!==on.el&&Li.removeViewFromDom(on.el.parentElement,on.el)}}},or=()=>{let on;const Qt=()=>{on&&(on(),on=void 0)};return{addClickListener:(Jn,qr)=>{Qt();const zr=void 0!==qr?document.getElementById(qr):null;zr?on=((Li,Vr)=>{const Io=()=>{Vr.present()};return Li.addEventListener("click",Io),()=>{Li.removeEventListener("click",Io)}})(zr,Jn):(0,ke.p)(`A trigger element with the ID "${qr}" was not found in the DOM. The trigger element must be in the DOM when the "trigger" property is set on an overlay component.`,Jn)},removeClickListener:Qt}},Ei=on=>{var Qt;if(void 0===Pt.d)return;const en=Ne(Pt.d);for(let Jn=en.length-1;Jn>=0;Jn--){const qr=en[Jn],zr=null!==(Qt=en[Jn+1])&&void 0!==Qt?Qt:on;(zr.hasAttribute("aria-hidden")||"ION-TOAST"!==zr.tagName)&&qr.setAttribute("aria-hidden","true")}},Mr=()=>{if(void 0===Pt.d)return;const on=Ne(Pt.d);for(let Qt=on.length-1;Qt>=0;Qt--){const en=on[Qt];if(en.removeAttribute("aria-hidden"),"ION-TOAST"!==en.tagName)break}}},497:(vo,Tr,_t)=>{"use strict";var V=_t(467);let he=null,xn=1;const Ht=Symbol("SIGNAL");function ke(t){const e=he;return he=t,e}function st(t){if((!ut(t)||t.dirty)&&(t.dirty||t.lastCleanEpoch!==xn)){if(!t.producerMustRecompute(t)&&!Ve(t))return t.dirty=!1,void(t.lastCleanEpoch=xn);t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=xn}}function Ve(t){se(t);for(let e=0;e<t.producerNode.length;e++){const n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(st(n),r!==n.version))return!0}return!1}function ot(t,e){if(function fe(t){var e,n;null!==(e=t.liveConsumerNode)&&void 0!==e||(t.liveConsumerNode=[]),null!==(n=t.liveConsumerIndexOfThis)&&void 0!==n||(t.liveConsumerIndexOfThis=[])}(t),se(t),1===t.liveConsumerNode.length)for(let r=0;r<t.producerNode.length;r++)ot(t.producerNode[r],t.producerIndexOfThis[r]);const n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){const r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];se(i),i.producerIndexOfThis[r]=e}}function ut(t){var e,n;return t.consumerIsAlwaysLive||(null!==(e=null==t||null===(n=t.liveConsumerNode)||void 0===n?void 0:n.length)&&void 0!==e?e:0)>0}function se(t){var e,n,r;null!==(e=t.producerNode)&&void 0!==e||(t.producerNode=[]),null!==(n=t.producerIndexOfThis)&&void 0!==n||(t.producerIndexOfThis=[]),null!==(r=t.producerLastReadVersion)&&void 0!==r||(t.producerLastReadVersion=[])}let Ft=null;function or(t){return"function"==typeof t}function Ei(t){const n=t(r=>{Error.call(r),r.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const Mr=Ei(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function on(t,e){if(t){const n=t.indexOf(e);0<=n&&t.splice(n,1)}}class Qt{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const o of n)o.remove(this);else n.remove(this);const{initialTeardown:r}=this;if(or(r))try{r()}catch(o){e=o instanceof Mr?o.errors:[o]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const o of i)try{qr(o)}catch(s){e=null!=e?e:[],s instanceof Mr?e=[...e,...s.errors]:e.push(s)}}if(e)throw new Mr(e)}}add(e){var n;if(e&&e!==this)if(this.closed)qr(e);else{if(e instanceof Qt){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(e)}}_hasParent(e){const{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){const{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&on(n,e)}remove(e){const{_finalizers:n}=this;n&&on(n,e),e instanceof Qt&&e._removeParent(this)}}Qt.EMPTY=(()=>{const t=new Qt;return t.closed=!0,t})();const en=Qt.EMPTY;function Jn(t){return t instanceof Qt||t&&"closed"in t&&or(t.remove)&&or(t.add)&&or(t.unsubscribe)}function qr(t){or(t)?t():t.unsubscribe()}const zr={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},ri={setTimeout(t,e,...n){const{delegate:r}=ri;return null!=r&&r.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){const{delegate:e}=ri;return((null==e?void 0:e.clearTimeout)||clearTimeout)(t)},delegate:void 0};function Li(t){ri.setTimeout(()=>{const{onUnhandledError:e}=zr;if(!e)throw t;e(t)})}function Vr(){}const Io=ns("C",void 0,void 0);function ns(t,e,n){return{kind:t,value:e,error:n}}let Ji=null;function Pi(t){if(zr.useDeprecatedSynchronousErrorHandling){const e=!Ji;if(e&&(Ji={errorThrown:!1,error:null}),t(),e){const{errorThrown:n,error:r}=Ji;if(Ji=null,n)throw r}}else t()}class Es extends Qt{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Jn(e)&&e.add(this)):this.destination=Fs}static create(e,n,r){return new ii(e,n,r)}next(e){this.isStopped?Ua(function cs(t){return ns("N",t,void 0)}(e),this):this._next(e)}error(e){this.isStopped?Ua(function Ri(t){return ns("E",void 0,t)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Ua(Io,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const ys=Function.prototype.bind;function Xo(t,e){return ys.call(t,e)}class Oa{constructor(e){this.partialObserver=e}next(e){const{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){Gs(r)}}error(e){const{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){Gs(r)}else Gs(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){Gs(n)}}}class ii extends Es{constructor(e,n,r){let i;if(super(),or(e)||!e)i={next:null!=e?e:void 0,error:null!=n?n:void 0,complete:null!=r?r:void 0};else{let o;this&&zr.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Xo(e.next,o),error:e.error&&Xo(e.error,o),complete:e.complete&&Xo(e.complete,o)}):i=e}this.destination=new Oa(i)}}function Gs(t){zr.useDeprecatedSynchronousErrorHandling?function Ai(t){zr.useDeprecatedSynchronousErrorHandling&&Ji&&(Ji.errorThrown=!0,Ji.error=t)}(t):Li(t)}function Ua(t,e){const{onStoppedNotification:n}=zr;n&&ri.setTimeout(()=>n(t,e))}const Fs={closed:!0,next:Vr,error:function Jo(t){throw t},complete:Vr},_s="function"==typeof Symbol&&Symbol.observable||"@@observable";function Do(t){return t}function Ka(t){return 0===t.length?Do:1===t.length?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}let Zi=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){const r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){const o=function lt(t){return t&&t instanceof Es||function hl(t){return t&&or(t.next)&&or(t.error)&&or(t.complete)}(t)&&Jn(t)}(n)?n:new ii(n,r,i);return Pi(()=>{const{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return new(r=Us(r))((i,o)=>{const s=new ii({next:a=>{try{n(a)}catch(l){o(l),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(n)}[_s](){return this}pipe(...n){return Ka(n)(this)}toPromise(n){return new(n=Us(n))((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return t.create=e=>new t(e),t})();function Us(t){var e;return null!==(e=null!=t?t:zr.Promise)&&void 0!==e?e:Promise}const rt=Ei(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let de=(()=>{class t extends Zi{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const r=new ye(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new rt}next(n){Pi(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(n)}})}error(n){Pi(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Pi(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:r,isStopped:i,observers:o}=this;return r||i?en:(this.currentObservers=null,o.push(n),new Qt(()=>{this.currentObservers=null,on(o,n)}))}_checkFinalizedStatuses(n){const{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){const n=new Zi;return n.source=this,n}}return t.create=(e,n)=>new ye(e,n),t})();class ye extends de{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===r||r.call(n,e)}error(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===r||r.call(n,e)}complete(){var e,n;null===(n=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===n||n.call(e)}_subscribe(e){var n,r;return null!==(r=null===(n=this.source)||void 0===n?void 0:n.subscribe(e))&&void 0!==r?r:en}}class J extends de{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){const{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}function wt(t){return or(null==t?void 0:t.lift)}function Yt(t){return e=>{if(wt(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Nn(t,e,n,r,i){return new hi(t,e,n,r,i)}class hi extends Es{constructor(e,n,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(l){e.error(l)}}:super._next,this._error=i?function(a){try{i(a)}catch(l){e.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function zn(t,e){return Yt((n,r)=>{let i=0;n.subscribe(Nn(r,o=>{r.next(t.call(e,o,i++))}))})}const Yr="https://g.co/ng/security#xss";class sn extends Error{constructor(e,n){super(function mi(t,e){return`NG0${Math.abs(t)}${e?": "+e:""}`}(e,n)),this.code=e}}function va(t){return{toString:t}.toString()}const Vt="__parameters__";function Sr(t,e,n){return va(()=>{const r=function Zn(t){return function(...n){if(t){const r=t(...n);for(const i in r)this[i]=r[i]}}}(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;const s=new i(...o);return a.annotation=s,a;function a(l,u,p){const I=l.hasOwnProperty(Vt)?l[Vt]:Object.defineProperty(l,Vt,{value:[]})[Vt];for(;I.length<=p;)I.push(null);return(I[p]=I[p]||[]).push(s),l}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}const ur=globalThis;function si(t){for(let e in t)if(t[e]===si)return e;throw Error("Could not find renamed property on target object.")}function tr(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function $r(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map($r).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function Xr(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const qa=si({__forward_ref__:si});function Wi(t){return t.__forward_ref__=Wi,t.toString=function(){return $r(this())},t}function Or(t){return eu(t)?t():t}function eu(t){return"function"==typeof t&&t.hasOwnProperty(qa)&&t.__forward_ref__===Wi}function Dn(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function fo(t){return{providers:t.providers||[],imports:t.imports||[]}}function po(t){return jr(t,Rl)||jr(t,vi)}function jr(t,e){return t.hasOwnProperty(e)?t[e]:null}function ks(t){return t&&(t.hasOwnProperty(Va)||t.hasOwnProperty(Ku))?t[Va]:null}const Rl=si({\u0275prov:si}),Va=si({\u0275inj:si}),vi=si({ngInjectableDef:si}),Ku=si({ngInjectorDef:si});class $n{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=Dn({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Nd(t){return t&&!!t.\u0275providers}const tu=si({\u0275cmp:si}),Du=si({\u0275dir:si}),od=si({\u0275pipe:si}),XA=si({\u0275mod:si}),la=si({\u0275fac:si}),vA=si({__NG_ELEMENT_ID__:si}),Nl=si({__NG_ENV_ID__:si});function Gr(t){return"string"==typeof t?t:null==t?"":String(t)}function Ll(t,e){throw new sn(-201,!1)}var Jr=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(Jr||{});let Ld;function nu(){return Ld}function Qa(t){const e=Ld;return Ld=t,e}function sd(t,e,n){const r=po(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&Jr.Optional?null:void 0!==e?e:void Ll()}const yr={},Sf="__NG_DI_FLAG__",Fh="ngTempTokenPath",Ap=/\n/gm,kh="__source";let qu;function iu(t){const e=qu;return qu=t,e}function JA(t,e=Jr.Default){if(void 0===qu)throw new sn(-203,!1);return null===qu?sd(t,void 0,e):qu.get(t,e&Jr.Optional?null:void 0,e)}function Pn(t,e=Jr.Default){return(nu()||JA)(Or(t),e)}function An(t,e=Jr.Default){return Pn(t,_A(e))}function _A(t){return typeof t>"u"||"number"==typeof t?t:(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Bc(t){const e=[];for(let n=0;n<t.length;n++){const r=Or(t[n]);if(Array.isArray(r)){if(0===r.length)throw new sn(900,!1);let i,o=Jr.Default;for(let s=0;s<r.length;s++){const a=r[s],l=Vd(a);"number"==typeof l?-1===l?i=a.token:o|=l:i=a}e.push(Pn(i,o))}else e.push(Pn(r))}return e}function Ud(t,e){return t[Sf]=e,t.prototype[Sf]=e,t}function Vd(t){return t[Sf]}const Go=Ud(Sr("Optional"),8),ds=Ud(Sr("SkipSelf"),4);function Fa(t,e){return t.hasOwnProperty(la)?t[la]:null}function Xu(t,e){t.forEach(n=>Array.isArray(n)?Xu(n,e):e(n))}function wA(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function ad(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function Ks(t,e,n){let r=Zo(t,e);return r>=0?t[1|r]=n:(r=~r,function Ju(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function Vs(t,e){const n=Zo(t,e);if(n>=0)return t[1|n]}function Zo(t,e){return function CA(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){const o=r+(i-r>>1),s=t[o<<n];if(e===s)return o<<n;s>e?i=o:r=o+1}return~(i<<n)}(t,e,1)}const pl={},no=[],ec=new $n(""),hp=new $n("",-1),Dc=new $n("");class ou{get(e,n=yr){if(n===yr){const r=new Error(`NullInjectorError: No provider for ${$r(e)}!`);throw r.name="NullInjectorError",r}return n}}var bA=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(bA||{}),su=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(su||{}),Fo=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(Fo||{});function Bf(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}function eh(t,e,n){let r=0;for(;r<n.length;){const i=n[r];if("number"==typeof i){if(0!==i)break;r++;const o=n[r++],s=n[r++],a=n[r++];t.setAttribute(e,s,a,o)}else{const o=i,s=n[++r];gl(o)?t.setProperty(e,o,s):t.setAttribute(e,o,s),r++}}return r}function fp(t){return 3===t||4===t||6===t}function gl(t){return 64===t.charCodeAt(0)}function IA(t,e){if(null!==e&&0!==e.length)if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||C(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function C(t,e,n,r,i){let o=0,s=t.length;if(-1===e)s=-1;else for(;o<t.length;){const a=t[o++];if("number"==typeof a){if(a===e){s=-1;break}if(a>e){s=o-1;break}}}for(;o<t.length;){const a=t[o];if("number"==typeof a)break;if(a===n){if(null===r)return void(null!==i&&(t[o+1]=i));if(r===t[o+1])return void(t[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==s&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),null!==r&&t.splice(o++,0,r),null!==i&&t.splice(o++,0,i)}const g="ng-template";function y(t,e,n,r){let i=0;if(r){for(;i<e.length&&"string"==typeof e[i];i+=2)if("class"===e[i]&&-1!==Bf(e[i+1].toLowerCase(),n,0))return!0}else if(E(t))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&"string"==typeof(o=e[i]);)if(o.toLowerCase()===n)return!0}return!1}function E(t){return 4===t.type&&t.value!==g}function D(t,e,n){return e===(4!==t.type||n?t.value:g)}function T(t,e,n){let r=4;const i=t.attrs,o=null!==i?function re(t){for(let e=0;e<t.length;e++)if(fp(t[e]))return e;return t.length}(i):0;let s=!1;for(let a=0;a<e.length;a++){const l=e[a];if("number"!=typeof l){if(!s)if(4&r){if(r=2|1&r,""!==l&&!D(t,l,n)||""===l&&1===e.length){if(P(r))return!1;s=!0}}else if(8&r){if(null===i||!y(t,i,l,n)){if(P(r))return!1;s=!0}}else{const u=e[++a],p=M(l,i,E(t),n);if(-1===p){if(P(r))return!1;s=!0;continue}if(""!==u){let I;if(I=p>o?"":i[p+1].toLowerCase(),2&r&&u!==I){if(P(r))return!1;s=!0}}}}else{if(!s&&!P(r)&&!P(l))return!1;if(s&&P(l))continue;s=!1,r=l|1&r}}return P(r)||s}function P(t){return!(1&t)}function M(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let o=!1;for(;i<e.length;){const s=e[i];if(s===t)return i;if(3===s||6===s)o=!0;else{if(1===s||2===s){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===s)break;if(0===s){i+=4;continue}}i+=o?1:2}return-1}return function ue(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function L(t,e,n=!1){for(let r=0;r<e.length;r++)if(T(t,e[r],n))return!0;return!1}function ve(t,e){e:for(let n=0;n<e.length;n++){const r=e[n];if(t.length===r.length){for(let i=0;i<t.length;i++)if(t[i]!==r[i])continue e;return!0}}return!1}function H(t,e){return t?":not("+e.trim()+")":e}function Qe(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if("string"==typeof s)if(2&r){const a=t[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+s:4&r&&(i+=" "+s);else""!==i&&!P(s)&&(e+=H(o,i),i=""),r=s,o=o||!P(r);n++}return""!==i&&(e+=H(o,i)),e}function ee(t){return va(()=>{var e;const n=vt(t),r={...n,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===bA.OnPush,directiveDefs:null,pipeDefs:null,dependencies:n.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:null!==(e=t.signals)&&void 0!==e&&e,data:t.data||{},encapsulation:t.encapsulation||su.Emulated,styles:t.styles||no,_:null,schemas:t.schemas||null,tView:null,id:""};ct(r);const i=t.dependencies;return r.directiveDefs=pn(i,!1),r.pipeDefs=pn(i,!0),r.id=function bn(t){let e=0;const n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const i of n)e=Math.imul(31,e)+i.charCodeAt(0)|0;return e+=2147483648,"c"+e}(r),r})}function He(t){return Ue(t)||an(t)}function Ct(t){return null!==t}function Mt(t){return va(()=>({type:t.type,bootstrap:t.bootstrap||no,declarations:t.declarations||no,imports:t.imports||no,exports:t.exports||no,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function hn(t,e){if(null==t)return pl;const n={};for(const i in t)if(t.hasOwnProperty(i)){const o=t[i];let s,a,l=Fo.None;var r;Array.isArray(o)?(l=o[0],s=o[1],a=null!==(r=o[2])&&void 0!==r?r:s):(s=o,a=o),e?(n[s]=l!==Fo.None?[i,l]:i,e[s]=a):n[s]=i}return n}function xt(t){return va(()=>{const e=vt(t);return ct(e),e})}function Lt(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function Ue(t){return t[tu]||null}function an(t){return t[Du]||null}function cn(t){return t[od]||null}function Ee(t,e){const n=t[XA]||null;if(!n&&!0===e)throw new Error(`Type ${$r(t)} does not have '\u0275mod' property.`);return n}function vt(t){const e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||pl,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||no,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:hn(t.inputs,e),outputs:hn(t.outputs),debugInfo:null}}function ct(t){var e;null===(e=t.features)||void 0===e||e.forEach(n=>n(t))}function pn(t,e){if(!t)return null;const n=e?cn:He;return()=>("function"==typeof t?t():t).map(r=>n(r)).filter(Ct)}function Sn(...t){return{\u0275providers:wn(0,t),\u0275fromNgModule:!0}}function wn(t,...e){const n=[],r=new Set;let i;const o=s=>{n.push(s)};return Xu(e,s=>{const a=s;ae(a,o,[],r)&&(i||(i=[]),i.push(a))}),void 0!==i&&lr(i,o),n}function lr(t,e){for(let n=0;n<t.length;n++){const{ngModule:r,providers:i}=t[n];it(i,o=>{e(o,r)})}}function ae(t,e,n,r){if(!(t=Or(t)))return!1;let i=null,o=ks(t);const s=!o&&Ue(t);if(o||s){if(s&&!s.standalone)return!1;i=t}else{const l=t.ngModule;if(o=ks(l),!o)return!1;i=l}const a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){const l="function"==typeof s.dependencies?s.dependencies():s.dependencies;for(const u of l)ae(u,e,n,r)}}else{if(!o)return!1;{if(null!=o.imports&&!a){let u;r.add(i);try{Xu(o.imports,p=>{ae(p,e,n,r)&&(u||(u=[]),u.push(p))})}finally{}void 0!==u&&lr(u,e)}if(!a){const u=Fa(i)||(()=>new i);e({provide:i,useFactory:u,deps:no},i),e({provide:Dc,useValue:i,multi:!0},i),e({provide:ec,useValue:()=>Pn(i),multi:!0},i)}const l=o.providers;if(null!=l&&!a){const u=t;it(l,p=>{e(p,u)})}}}return i!==t&&void 0!==t.providers}function it(t,e){for(let n of t)Nd(n)&&(n=n.\u0275providers),Array.isArray(n)?it(n,e):e(n)}const bt=si({provide:String,useValue:si});function St(t){return null!==t&&"object"==typeof t&&bt in t}function Jt(t){return"function"==typeof t}const Wn=new $n(""),gr={},Dr={};let ui;function vn(){return void 0===ui&&(ui=new ou),ui}class We{}class ai extends We{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,ji(e,s=>this.processProvider(s)),this.records.set(hp,ir(void 0,this)),i.has("environment")&&this.records.set(We,ir(void 0,this));const o=this.records.get(Wn);null!=o&&"string"==typeof o.value&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(Dc,no,Jr.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;const e=ke(null);try{for(const r of this._ngOnDestroyHooks)r.ngOnDestroy();const n=this._onDestroyHooks;this._onDestroyHooks=[];for(const r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),ke(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();const n=iu(this),r=Qa(void 0);try{return e()}finally{iu(n),Qa(r)}}get(e,n=yr,r=Jr.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(Nl))return e[Nl](this);r=_A(r);const o=iu(this),s=Qa(void 0);try{if(!(r&Jr.SkipSelf)){let l=this.records.get(e);if(void 0===l){const u=function Mi(t){return"function"==typeof t||"object"==typeof t&&t instanceof $n}(e)&&po(e);l=u&&this.injectableDefInScope(u)?ir(Qr(e),gr):null,this.records.set(e,l)}if(null!=l)return this.hydrate(e,l)}return(r&Jr.Self?vn():this.parent).get(e,n=r&Jr.Optional&&n===yr?null:n)}catch(a){if("NullInjectorError"===a.name){if((a[Fh]=a[Fh]||[]).unshift($r(e)),o)throw a;return function Ol(t,e,n,r){const i=t[Fh];throw e[kh]&&i.unshift(e[kh]),t.message=function Rh(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let i=$r(e);if(Array.isArray(e))i=e.map($r).join(" -> ");else if("object"==typeof e){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+("string"==typeof a?JSON.stringify(a):$r(a)))}i=`{${o.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(Ap,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t[Fh]=null,t}(a,e,"R3InjectorError",this.source)}throw a}finally{Qa(s),iu(o)}}resolveInjectorInitializers(){const e=ke(null),n=iu(this),r=Qa(void 0);try{const o=this.get(ec,no,Jr.Self);for(const s of o)s()}finally{iu(n),Qa(r),ke(e)}}toString(){const e=[],n=this.records;for(const r of n.keys())e.push($r(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new sn(205,!1)}processProvider(e){let n=Jt(e=Or(e))?e:Or(e&&e.provide);const r=function nr(t){return St(t)?ir(void 0,t.useValue):ir(_r(t),gr)}(e);if(!Jt(e)&&!0===e.multi){let i=this.records.get(n);i||(i=ir(void 0,gr,!0),i.factory=()=>Bc(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){const r=ke(null);try{return n.value===gr&&(n.value=Dr,n.value=n.factory()),"object"==typeof n.value&&n.value&&function Si(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{ke(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;const n=Or(e.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){const n=this._onDestroyHooks.indexOf(e);-1!==n&&this._onDestroyHooks.splice(n,1)}}function Qr(t){const e=po(t),n=null!==e?e.factory:Fa(t);if(null!==n)return n;if(t instanceof $n)throw new sn(204,!1);if(t instanceof Function)return function jn(t){if(t.length>0)throw new sn(204,!1);const n=function go(t){return t&&(t[Rl]||t[vi])||null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new sn(204,!1)}function _r(t,e,n){let r;if(Jt(t)){const i=Or(t);return Fa(i)||Qr(i)}if(St(t))r=()=>Or(t.useValue);else if(function qt(t){return!(!t||!t.useFactory)}(t))r=()=>t.useFactory(...Bc(t.deps||[]));else if(function Kt(t){return!(!t||!t.useExisting)}(t))r=()=>Pn(Or(t.useExisting));else{const i=Or(t&&(t.useClass||t.provide));if(!function Wr(t){return!!t.deps}(t))return Fa(i)||Qr(i);r=()=>new i(...Bc(t.deps))}return r}function ir(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function ji(t,e){for(const n of t)Array.isArray(n)?ji(n,e):n&&Nd(n)?ji(n.\u0275providers,e):e(n)}function Fi(t,e){t instanceof ai&&t.assertNotDestroyed();const r=iu(t),i=Qa(void 0);try{return e()}finally{iu(r),Qa(i)}}function Vo(){return void 0!==nu()||null!=function Tf(){return qu}()}const ti=0,Qn=1,wr=2,co=3,qs=4,kr=5,As=6,Xa=7,zi=8,mo=9,Eo=10,Hr=11,rc=12,ic=13,Ha=14,di=15,ya=16,Ja=17,Qs=18,yl=19,oc=20,_l=21,sc=22,au=23,gi=25,Hd=1,lu=7,sr=9,Ts=10;var xc=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(xc||{});function Ys(t){return Array.isArray(t)&&"object"==typeof t[Hd]}function Po(t){return Array.isArray(t)&&!0===t[Hd]}function th(t){return!!(4&t.flags)}function Za(t){return t.componentOffset>-1}function Ql(t){return!(1&~t.flags)}function so(t){return!!t.template}function EA(t){return!!(512&t[wr])}class Vh{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function yi(t,e,n,r){null!==e?e.applyValueToInputSignal(e,r):t[n]=r}function ca(){return xA}function xA(t){return t.type.prototype.ngOnChanges&&(t.setInput=Qh),Fu}function Fu(){const t=Fc(this),e=null==t?void 0:t.current;if(e){const n=t.previous;if(n===pl)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function Qh(t,e,n,r,i){const o=this.declaredInputs[r],s=Fc(t)||function Gd(t,e){return t[Ad]=e}(t,{previous:pl,current:null}),a=s.current||(s.current={}),l=s.previous,u=l[o];a[o]=new Vh(u&&u.currentValue,n,l===pl),yi(t,e,i,n)}ca.ngInherit=!0;const Ad="__ngSimpleChanges__";function Fc(t){return t[Ad]||null}const jl=function(t,e,n){};let ku=!1;function xi(t){for(;Array.isArray(t);)t=t[ti];return t}function pd(t,e){return xi(e[t])}function da(t,e){return xi(e[t.index])}function Rc(t,e){return t.data[e]}function bl(t,e){return t[e]}function Hs(t,e){const n=e[t];return Ys(n)?n:n[ti]}function uc(t){return!(128&~t[wr])}function el(t,e){return null==e?null:t[e]}function cc(t){t[Ja]=0}function sh(t){1024&t[wr]||(t[wr]|=1024,uc(t)&&cu(t))}function Ps(t){var e;return!!(9216&t[wr]||null!==(e=t[au])&&void 0!==e&&e.dirty)}function Pu(t){var e;if(null===(e=t[Eo].changeDetectionScheduler)||void 0===e||e.notify(1),Ps(t))cu(t);else if(64&t[wr])if(function rh(){return ku}())t[wr]|=1024,cu(t);else{var n;null===(n=t[Eo].changeDetectionScheduler)||void 0===n||n.notify()}}function cu(t){var e;null===(e=t[Eo].changeDetectionScheduler)||void 0===e||e.notify();let n=zl(t);for(;null!==n&&!(8192&n[wr])&&(n[wr]|=8192,uc(n));)n=zl(n)}function Wd(t,e){if(!(256&~t[wr]))throw new sn(911,!1);null===t[_l]&&(t[_l]=[]),t[_l].push(e)}function zl(t){const e=t[co];return Po(e)?e[co]:e}const li={lFrame:b(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Nc(){return li.bindingsEnabled}function dc(){return null!==li.skipHydrationRootTNode}function Ge(){return li.lFrame.lView}function gn(){return li.lFrame.tView}function ln(t){return li.lFrame.contextLView=t,t[zi]}function En(t){return li.lFrame.contextLView=null,t}function cr(){let t=Bi();for(;null!==t&&64===t.type;)t=t.parent;return t}function Bi(){return li.lFrame.currentTNode}function Ao(t,e){const n=li.lFrame;n.currentTNode=t,n.isParent=e}function is(){return li.lFrame.isParent}function Cs(){li.lFrame.isParent=!1}function Qo(){const t=li.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function wa(){return li.lFrame.bindingIndex++}function Il(t){const e=li.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function Xd(t,e){const n=li.lFrame;n.bindingIndex=n.bindingRootIndex=t,ja(e)}function ja(t){li.lFrame.currentDirectiveIndex=t}function Oc(t){li.lFrame.currentQueryIndex=t}function kA(t){const e=t[Qn];return 2===e.type?e.declTNode:1===e.type?t[kr]:null}function Pa(t,e,n){if(n&Jr.SkipSelf){let i=e,o=t;for(;!(i=i.parent,null!==i||n&Jr.Host||(i=kA(o),null===i||(o=o[Ha],10&i.type))););if(null===i)return!1;e=i,t=o}const r=li.lFrame=m();return r.currentTNode=e,r.lView=t,!0}function B(t){const e=m(),n=t[Qn];li.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function m(){const t=li.lFrame,e=null===t?null:t.child;return null===e?b(t):e}function b(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function F(){const t=li.lFrame;return li.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const W=F;function Ae(){const t=F();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Tt(){return li.lFrame.selectedIndex}function yn(t){li.lFrame.selectedIndex=t}function Ln(){const t=li.lFrame;return Rc(t.tView,t.selectedIndex)}let Gl=!0;function Au(){return Gl}function qi(t){Gl=t}function Aa(t,e){for(let u=e.directiveStart,p=e.directiveEnd;u<p;u++){const k=t.data[u].type.prototype,{ngAfterContentInit:O,ngAfterContentChecked:q,ngAfterViewInit:ge,ngAfterViewChecked:Be,ngOnDestroy:Ye}=k;var n,r,i,o,s,a,l;O&&(null!==(n=t.contentHooks)&&void 0!==n?n:t.contentHooks=[]).push(-u,O),q&&((null!==(r=t.contentHooks)&&void 0!==r?r:t.contentHooks=[]).push(u,q),(null!==(i=t.contentCheckHooks)&&void 0!==i?i:t.contentCheckHooks=[]).push(u,q)),ge&&(null!==(o=t.viewHooks)&&void 0!==o?o:t.viewHooks=[]).push(-u,ge),Be&&((null!==(s=t.viewHooks)&&void 0!==s?s:t.viewHooks=[]).push(u,Be),(null!==(a=t.viewCheckHooks)&&void 0!==a?a:t.viewCheckHooks=[]).push(u,Be)),null!=Ye&&(null!==(l=t.destroyHooks)&&void 0!==l?l:t.destroyHooks=[]).push(u,Ye)}}function ba(t,e,n){Ia(t,e,3,n)}function Na(t,e,n,r){(3&t[wr])===n&&Ia(t,e,n,r)}function nl(t,e){let n=t[wr];(3&n)===e&&(n&=16383,n+=1,t[wr]=n)}function Ia(t,e,n,r){const o=null!=r?r:-1,s=e.length-1;let a=0;for(let l=void 0!==r?65535&t[Ja]:0;l<s;l++)if("number"==typeof e[l+1]){if(a=e[l],null!=r&&a>=r)break}else e[l]<0&&(t[Ja]+=65536),(a<o||-1==o)&&(rl(t,n,e,l),t[Ja]=(4294901760&t[Ja])+l+2),l++}function Jd(t,e){jl(4,t,e);const n=ke(null);try{e.call(t)}finally{ke(n),jl(5,t,e)}}function rl(t,e,n,r){const i=n[r]<0,o=n[r+1],a=t[i?-n[r]:n[r]];i?t[wr]>>14<t[Ja]>>16&&(3&t[wr])===e&&(t[wr]+=16384,Jd(a,o)):Jd(a,o)}const il=-1;class No{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function mp(t){return t!==il}function jh(t){return 32767&t}function zh(t,e){let n=function vp(t){return t>>16}(t),r=e;for(;n>0;)r=r[Ha],n--;return r}let yp=!0;function Rf(t){const e=yp;return yp=t,e}const Pf=255,El=5;let hu=0;const fu={};function Nf(t,e){const n=Mf(t,e);if(-1!==n)return n;const r=e[Qn];r.firstCreatePass&&(t.injectorIndex=e.length,lh(r.data,t),lh(e,null),lh(r.blueprint,null));const i=$h(t,e),o=t.injectorIndex;if(mp(i)){const s=jh(i),a=zh(i,e),l=a[Qn].data;for(let u=0;u<8;u++)e[o+u]=a[s+u]|l[s+u]}return e[o+8]=i,o}function lh(t,e){t.push(0,0,0,0,0,0,0,0,e)}function Mf(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function $h(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){if(r=tv(i),null===r)return il;if(n++,i=i[Ha],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return il}function wp(t,e,n){!function _p(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(vA)&&(r=n[vA]),null==r&&(r=n[vA]=hu++);const i=r&Pf;e.data[t+(i>>El)]|=1<<i}(t,e,n)}function Cp(t,e,n){if(n&Jr.Optional||void 0!==t)return t;Ll()}function uh(t,e,n,r){if(n&Jr.Optional&&void 0===r&&(r=null),!(n&(Jr.Self|Jr.Host))){const i=t[mo],o=Qa(void 0);try{return i?i.get(e,r,n&Jr.Optional):sd(e,r,n&Jr.Optional)}finally{Qa(o)}}return Cp(r,0,n)}function bp(t,e,n,r=Jr.Default,i){if(null!==t){if(2048&e[wr]&&!(r&Jr.Self)){const s=function Of(t,e,n,r,i){let o=t,s=e;for(;null!==o&&null!==s&&2048&s[wr]&&!(512&s[wr]);){const a=Ip(o,s,n,r|Jr.Self,fu);if(a!==fu)return a;let l=o.parent;if(!l){const u=s[oc];if(u){const p=u.get(n,fu,r);if(p!==fu)return p}l=tv(s),s=s[Ha]}o=l}return i}(t,e,n,r,fu);if(s!==fu)return s}const o=Ip(t,e,n,r,fu);if(o!==fu)return o}return uh(e,n,r,i)}function Ip(t,e,n,r,i){const o=function Ep(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(vA)?t[vA]:void 0;return"number"==typeof e?e>=0?e&Pf:Lf:e}(n);if("function"==typeof o){if(!Pa(e,t,r))return r&Jr.Host?Cp(i,0,r):uh(e,n,r,i);try{let s;if(s=o(r),null!=s||r&Jr.Optional)return s;Ll()}finally{W()}}else if("number"==typeof o){let s=null,a=Mf(t,e),l=il,u=r&Jr.Host?e[di][kr]:null;for((-1===a||r&Jr.SkipSelf)&&(l=-1===a?$h(t,e):e[a+8],l!==il&&ev(r,!1)?(s=e[Qn],a=jh(l),e=zh(l,e)):a=-1);-1!==a;){const p=e[Qn];if(Mu(o,a,p.data)){const I=Iy(a,e,n,s,r,u);if(I!==fu)return I}l=e[a+8],l!==il&&ev(r,e[Qn].data[a+8]===u)&&Mu(o,a,e)?(s=p,a=jh(l),e=zh(l,e)):a=-1}}return i}function Iy(t,e,n,r,i,o){const s=e[Qn],a=s.data[t+8],p=function mr(t,e,n,r,i){const o=t.providerIndexes,s=e.data,a=1048575&o,l=t.directiveStart,p=o>>20,k=i?a+p:t.directiveEnd;for(let O=r?a:a+p;O<k;O++){const q=s[O];if(O<l&&n===q||O>=l&&q.type===n)return O}if(i){const O=s[l];if(O&&so(O)&&O.type===n)return l}return null}(a,s,n,null==r?Za(a)&&yp:r!=s&&!!(3&a.type),i&Jr.Host&&o===a);return null!==p?hc(e,s,p,a):fu}function hc(t,e,n,r){let i=t[n];const o=e.data;if(function Ko(t){return t instanceof No}(i)){const s=i;s.resolving&&function Md(t,e){throw e&&e.join(" > "),new sn(-200,t)}(function oo(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():Gr(t)}(o[n]));const a=Rf(s.canSeeViewProviders);s.resolving=!0;const u=s.injectImpl?Qa(s.injectImpl):null;Pa(t,r,Jr.Default);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&function Ca(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){var s,a;const I=xA(e);(null!==(s=n.preOrderHooks)&&void 0!==s?s:n.preOrderHooks=[]).push(t,I),(null!==(a=n.preOrderCheckHooks)&&void 0!==a?a:n.preOrderCheckHooks=[]).push(t,I)}var l,u,p;i&&(null!==(l=n.preOrderHooks)&&void 0!==l?l:n.preOrderHooks=[]).push(0-t,i),o&&((null!==(u=n.preOrderHooks)&&void 0!==u?u:n.preOrderHooks=[]).push(t,o),(null!==(p=n.preOrderCheckHooks)&&void 0!==p?p:n.preOrderCheckHooks=[]).push(t,o))}(n,o[n],e)}finally{null!==u&&Qa(u),Rf(a),s.resolving=!1,W()}}return i}function Mu(t,e,n){return!!(n[e+(t>>El)]&1<<t)}function ev(t,e){return!(t&Jr.Self||t&Jr.Host&&e)}class Ms{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return bp(this._tNode,this._lView,e,_A(r),n)}}function Lf(){return new Ms(cr(),Ge())}function os(t){return va(()=>{const e=t.prototype.constructor,n=e[la]||Pg(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const o=i[la]||Pg(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function Pg(t){return eu(t)?()=>{const e=Pg(Or(t));return e&&e()}:Fa(t)}function tv(t){const e=t[Qn],n=e.type;return 2===n?e.declTNode:1===n?t[kr]:null}function Zd(t){return function Rg(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const r=n.length;let i=0;for(;i<r;){const o=n[i];if(fp(o))break;if(0===o)i+=2;else if("number"==typeof o)for(i++;i<r&&"string"==typeof n[i];)i++;else{if(o===e)return n[i+1];i+=2}}}return null}(cr(),t)}function gu(t,e=null,n=null,r){const i=Ng(t,e,n,r);return i.resolveInjectorInitializers(),i}function Ng(t,e=null,n=null,r,i=new Set){const o=[n||no,Sn(t)];return r=r||("object"==typeof t?void 0:$r(t)),new ai(o,e||vn(),r||null,i)}let Mo=(()=>{var t;class e{static create(r,i){if(Array.isArray(r))return gu({name:""},i,r,"");{var o;const s=null!==(o=r.name)&&void 0!==o?o:"";return gu({name:s},r.parent,r.providers,s)}}}return(t=e).THROW_IF_NOT_FOUND=yr,t.NULL=new ou,t.\u0275prov=Dn({token:t,providedIn:"any",factory:()=>Pn(hp)}),t.__NG_ELEMENT_ID__=-1,e})();function tA(t){return t.ngOriginalError}class Ou{constructor(){this._console=console}handleError(e){const n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&tA(e);for(;n&&tA(n);)n=tA(n);return n||null}}const Lg=new $n("",{providedIn:"root",factory:()=>An(Ou).handleError.bind(void 0)});let Qc=(()=>{var t;class e{}return(t=e).__NG_ELEMENT_ID__=Sy,t.__NG_ENV_ID__=n=>n,e})();class Ey extends Qc{constructor(e){super(),this._lView=e}onDestroy(e){return Wd(this._lView,e),()=>function Pc(t,e){if(null===t[_l])return;const n=t[_l].indexOf(e);-1!==n&&t[_l].splice(n,1)}(this._lView,e)}}function Sy(){return new Ey(Ge())}function Dy(){return ch(cr(),Ge())}function ch(t,e){return new f(da(t,e))}let f=(()=>{class e{constructor(r){this.nativeElement=r}}return e.__NG_ELEMENT_ID__=Dy,e})();function Q(t){return e=>{setTimeout(t,void 0,e)}}const X=class N extends de{constructor(e=!1){var n;super(),this.destroyRef=void 0,this.__isAsync=e,Vo()&&(this.destroyRef=null!==(n=An(Qc,{optional:!0}))&&void 0!==n?n:void 0)}emit(e){const n=ke(null);try{super.next(e)}finally{ke(n)}}subscribe(e,n,r){let i=e,o=n||(()=>null),s=r;if(e&&"object"==typeof e){var a,l,u;const I=e;i=null===(a=I.next)||void 0===a?void 0:a.bind(I),o=null===(l=I.error)||void 0===l?void 0:l.bind(I),s=null===(u=I.complete)||void 0===u?void 0:u.bind(I)}this.__isAsync&&(o=Q(o),i&&(i=Q(i)),s&&(s=Q(s)));const p=super.subscribe({next:i,error:o,complete:s});return e instanceof Qt&&e.add(p),p}};function w(t){return!(128&~t.flags)}let x;const z=new $n("",{providedIn:"root",factory:()=>G}),G="ng",Ce=new $n(""),Fe=new $n("",{providedIn:"platform",factory:()=>"unknown"}),nn=new $n("",{providedIn:"root",factory:()=>{var t;return(null===(t=function j(){if(void 0!==x)return x;if(typeof document<"u")return document;throw new sn(210,!1)}().body)||void 0===t||null===(t=t.querySelector("[ngCspNonce]"))||void 0===t?void 0:t.getAttribute("ngCspNonce"))||null}});let ss=()=>null;function mu(t,e,n=!1){return ss(t,e,n)}const Kw=new $n("",{providedIn:"root",factory:()=>!1});let jg;function Pp(t){var e;return(null===(e=function cv(){if(void 0===jg&&(jg=null,ur.trustedTypes))try{jg=ur.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return jg}())||void 0===e?void 0:e.createScriptURL(t))||t}class Ry{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Yr})`}}function Ah(t){return t instanceof Ry?t.changingThisBreaksApplicationSecurity:t}function Np(t,e){const n=function dE(t){return t instanceof Ry&&t.getTypeName()||null}(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${Yr})`)}return n===e}const hv=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var pv=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(pv||{});function jk(t){const e=Oy();return e?e.sanitize(pv.URL,t)||"":Np(t,"URL")?Ah(t):function rA(t){return(t=String(t)).match(hv)?t:"unsafe:"+t}(Gr(t))}function zk(t){const e=Oy();if(e)return Pp(e.sanitize(pv.RESOURCE_URL,t)||"");if(Np(t,"ResourceURL"))return Pp(Ah(t));throw new sn(904,!1)}function Oy(){const t=Ge();return t&&t[Eo].sanitizer}const vE=new Map;let Uz=0;const _E="__ngContext__";function pc(t,e){Ys(e)?(t[_E]=e[yl],function Qz(t){vE.set(t[yl],t)}(e)):t[_E]=e}function iA(t){return t instanceof Function?t():t}var Lp=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Lp||{});let IE;function EE(t,e){return IE(t,e)}function mv(t,e,n,r,i){if(null!=r){let o,s=!1;Po(r)?o=r:Ys(r)&&(s=!0,r=r[ti]);const a=xi(r);0===t&&null!==n?null==i?cR(e,n,a):Kg(e,n,a,i||null,!0):1===t&&null!==n?Kg(e,n,a,i||null,!0):2===t?function Hy(t,e,n){const r=iC(t,e);r&&function u$(t,e,n,r){t.removeChild(e,n,r)}(t,r,e,n)}(e,a,s):3===t&&e.destroyNode(a),null!=o&&function A$(t,e,n,r,i){const o=n[lu];o!==xi(n)&&mv(e,t,r,o,i);for(let a=Ts;a<n.length;a++){const l=n[a];sC(l[Qn],l,t,e,r,o)}}(e,t,o,n,i)}}function nC(t,e,n){return t.createElement(e,n)}function aR(t,e){var n;null===(n=e[Eo].changeDetectionScheduler)||void 0===n||n.notify(1),sC(t,e,e[Hr],2,null,null)}function lR(t,e){const n=t[sr],r=n.indexOf(e);n.splice(r,1)}function Vy(t,e){if(t.length<=Ts)return;const n=Ts+e,r=t[n];if(r){const i=r[ya];null!==i&&i!==t&&lR(i,r),e>0&&(t[n-1][qs]=r[qs]);const o=ad(t,Ts+e);!function n$(t,e){aR(t,e),e[ti]=null,e[kr]=null}(r[Qn],r);const s=o[Qs];null!==s&&s.detachView(o[Qn]),r[co]=null,r[qs]=null,r[wr]&=-129}return r}function rC(t,e){if(!(256&e[wr])){const n=e[Hr];n.destroyNode&&sC(t,e,n,3,null,null),function i$(t){let e=t[rc];if(!e)return BE(t[Qn],t);for(;e;){let n=null;if(Ys(e))n=e[rc];else{const r=e[Ts];r&&(n=r)}if(!n){for(;e&&!e[qs]&&e!==t;)Ys(e)&&BE(e[Qn],e),e=e[co];null===e&&(e=t),Ys(e)&&BE(e[Qn],e),n=e&&e[qs]}e=n}}(e)}}function BE(t,e){if(256&e[wr])return;const n=ke(null);try{e[wr]&=-129,e[wr]|=256,e[au]&&function Le(t){if(se(t),ut(t))for(let e=0;e<t.producerNode.length;e++)ot(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}(e[au]),function l$(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const i=e[n[r]];if(!(i instanceof No)){const o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){const a=i[o[s]],l=o[s+1];jl(4,a,l);try{l.call(a)}finally{jl(5,a,l)}}else{jl(4,i,o);try{o.call(i)}finally{jl(5,i,o)}}}}}(t,e),function a$(t,e){const n=t.cleanup,r=e[Xa];if(null!==n)for(let o=0;o<n.length-1;o+=2)if("string"==typeof n[o]){const s=n[o+3];s>=0?r[s]():r[-s].unsubscribe(),o+=2}else n[o].call(r[n[o+1]]);null!==r&&(e[Xa]=null);const i=e[_l];if(null!==i){e[_l]=null;for(let o=0;o<i.length;o++)(0,i[o])()}}(t,e),1===e[Qn].type&&e[Hr].destroy();const r=e[ya];if(null!==r&&Po(e[co])){r!==e[co]&&lR(r,e);const i=e[Qs];null!==i&&i.detachView(t)}!function Hz(t){vE.delete(t[yl])}(e)}finally{ke(n)}}function DE(t,e,n){return function uR(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[ti];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:o}=t.data[r.directiveStart+i];if(o===su.None||o===su.Emulated)return null}return da(r,n)}}(t,e.parent,n)}function Kg(t,e,n,r,i){t.insertBefore(e,n,r,i)}function cR(t,e,n){t.appendChild(e,n)}function dR(t,e,n,r,i){null!==r?Kg(t,e,n,r,i):cR(t,e,n)}function iC(t,e){return t.parentNode(e)}function AR(t,e,n){return fR(t,e,n)}let xE,fR=function hR(t,e,n){return 40&t.type?da(t,n):null};function oC(t,e,n,r){const i=DE(t,r,e),o=e[Hr],a=AR(r.parent||e[kr],r,e);if(null!=i)if(Array.isArray(n))for(let l=0;l<n.length;l++)dR(o,i,n[l],a,!1);else dR(o,i,n,a,!1);void 0!==xE&&xE(o,r,e,n,i)}function Qy(t,e){if(null!==e){const n=e.type;if(3&n)return da(e,t);if(4&n)return FE(-1,t[e.index]);if(8&n){const r=e.child;if(null!==r)return Qy(t,r);{const i=t[e.index];return Po(i)?FE(-1,i):xi(i)}}if(32&n)return EE(e,t)()||xi(t[e.index]);{const r=gR(t,e);return null!==r?Array.isArray(r)?r[0]:Qy(zl(t[di]),r):Qy(t,e.next)}}return null}function gR(t,e){return null!==e?t[di][kr].projection[e.projection]:null}function FE(t,e){const n=Ts+t+1;if(n<e.length){const r=e[n],i=r[Qn].firstChild;if(null!==i)return Qy(r,i)}return e[lu]}function kE(t,e,n,r,i,o,s){for(;null!=n;){const a=r[n.index],l=n.type;if(s&&0===e&&(a&&pc(xi(a),r),n.flags|=2),32&~n.flags)if(8&l)kE(t,e,n.child,r,i,o,!1),mv(e,t,i,a,o);else if(32&l){const u=EE(n,r);let p;for(;p=u();)mv(e,t,i,p,o);mv(e,t,i,a,o)}else 16&l?vR(t,e,r,n,i,o):mv(e,t,i,a,o);n=s?n.projectionNext:n.next}}function sC(t,e,n,r,i,o){kE(n,r,t.firstChild,e,i,o,!1)}function vR(t,e,n,r,i,o){const s=n[di],l=s[kr].projection[r.projection];if(Array.isArray(l))for(let u=0;u<l.length;u++)mv(e,t,i,l[u],o);else{let u=l;const p=s[co];w(r)&&(u.flags|=128),kE(t,e,u,p,i,o,!0)}}function yR(t,e,n){""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function _R(t,e,n){const{mergedAttrs:r,classes:i,styles:o}=n;null!==r&&eh(t,e,r),null!==i&&yR(t,e,i),null!==o&&function f$(t,e,n){t.setAttribute(e,"style",n)}(t,e,o)}const Yi={};function jt(t=1){wR(gn(),Ge(),Tt()+t,!1)}function wR(t,e,n,r){if(!r)if(3&~e[wr]){const o=t.preOrderHooks;null!==o&&Na(e,o,0,n)}else{const o=t.preOrderCheckHooks;null!==o&&ba(e,o,n)}yn(n)}function Y(t,e=Jr.Default){const n=Ge();return null===n?Pn(t,e):bp(cr(),n,Or(t),e)}function bR(t,e,n,r,i,o){const s=ke(null);try{let a=null;i&Fo.SignalBased&&(a=e[r][Ht]),null!==a&&void 0!==a.transformFn&&(o=a.transformFn(o)),i&Fo.HasDecoratorInputTransform&&(o=t.inputTransforms[r].call(e,o)),null!==t.setInput?t.setInput(e,a,o,n,r):yi(e,a,r,o)}finally{ke(s)}}function aC(t,e,n,r,i,o,s,a,l,u,p){const I=e.blueprint.slice();return I[ti]=i,I[wr]=204|r,(null!==u||t&&2048&t[wr])&&(I[wr]|=2048),cc(I),I[co]=I[Ha]=t,I[zi]=n,I[Eo]=s||t&&t[Eo],I[Hr]=a||t&&t[Hr],I[mo]=l||t&&t[mo]||null,I[kr]=o,I[yl]=function Vz(){return Uz++}(),I[As]=p,I[oc]=u,I[di]=2==e.type?t[di]:I,I}function vv(t,e,n,r,i){let o=t.data[e];if(null===o)o=function RE(t,e,n,r,i){const o=Bi(),s=is(),l=t.data[e]=function C$(t,e,n,r,i,o){let s=e?e.injectorIndex:-1,a=0;return dc()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=l),null!==o&&(s?null==o.child&&null!==l.parent&&(o.child=l):null===o.next&&(o.next=l,l.prev=o)),l}(t,e,n,r,i),function md(){return li.lFrame.inI18n}()&&(o.flags|=32);else if(64&o.type){o.type=n,o.value=r,o.attrs=i;const s=function Ki(){const t=li.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();o.injectorIndex=null===s?-1:s.injectorIndex}return Ao(o,!0),o}function jy(t,e,n,r){if(0===n)return-1;const i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function IR(t,e,n,r,i){const o=Tt(),s=2&r;try{yn(-1),s&&e.length>gi&&wR(t,e,gi,!1),jl(s?2:0,i),n(r,i)}finally{yn(o),jl(s?3:1,i)}}function PE(t,e,n){if(th(e)){const r=ke(null);try{const o=e.directiveEnd;for(let s=e.directiveStart;s<o;s++){const a=t.data[s];a.contentQueries&&a.contentQueries(1,n[s],s)}}finally{ke(r)}}}function NE(t,e,n){Nc()&&(function D$(t,e,n,r){const i=n.directiveStart,o=n.directiveEnd;Za(n)&&function M$(t,e,n){const r=da(e,t),i=ER(n);let s=16;n.signals?s=4096:n.onPush&&(s=64);const a=lC(t,aC(t,i,null,s,r,e,null,t[Eo].rendererFactory.createRenderer(r,n),null,null,null));t[e.index]=a}(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||Nf(n,e),pc(r,e);const s=n.initialInputs;for(let a=i;a<o;a++){const l=t.data[a],u=hc(e,t,a,n);pc(u,e),null!==s&&L$(0,a-i,u,l,0,s),so(l)&&(Hs(n.index,e)[zi]=hc(e,t,a,n))}}(t,e,n,da(n,e)),!(64&~n.flags)&&xR(t,e,n))}function ME(t,e,n=da){const r=e.localNames;if(null!==r){let i=e.index+1;for(let o=0;o<r.length;o+=2){const s=r[o+1],a=-1===s?n(e,t):t[s];t[i++]=a}}}function ER(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=LE(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function LE(t,e,n,r,i,o,s,a,l,u,p){const I=gi+r,k=I+i,O=function g$(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:Yi);return n}(I,k),q="function"==typeof u?u():u;return O[Qn]={type:t,blueprint:O,template:n,queries:null,viewQuery:a,declTNode:e,data:O.slice().fill(null,I),bindingStartIndex:I,expandoStartIndex:k,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:l,consts:q,incompleteFirstPass:!1,ssrId:p}}let SR=()=>null;function TR(t,e,n,r,i){for(let s in e){var o;if(!e.hasOwnProperty(s))continue;const a=e[s];if(void 0===a)continue;null!==(o=r)&&void 0!==o||(r={});let l,u=Fo.None;Array.isArray(a)?(l=a[0],u=a[1]):l=a;let p=s;if(null!==i){if(!i.hasOwnProperty(s))continue;p=i[s]}0===t?BR(r,n,p,l,u):BR(r,n,p,l)}return r}function BR(t,e,n,r,i){let o;t.hasOwnProperty(n)?(o=t[n]).push(e,r):o=t[n]=[e,r],void 0!==i&&o.push(i)}function wd(t,e,n,r,i,o,s,a){const l=da(e,n);let p,u=e.inputs;!a&&null!=u&&(p=u[r])?(HE(t,n,p,r,i),Za(e)&&function E$(t,e){const n=Hs(e,t);16&n[wr]||(n[wr]|=64)}(n,e.index)):3&e.type&&(r=function I$(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=s?s(i,e.value||"",r):i,o.setProperty(l,r,i))}function OE(t,e,n,r){if(Nc()){const i=null===r?null:{"":-1},o=function F$(t,e){const n=t.directiveRegistry;let r=null,i=null;if(n)for(let s=0;s<n.length;s++){const a=n[s];if(L(e,a.selectors,!1))if(r||(r=[]),so(a))if(null!==a.findHostDirectiveDefs){const l=[];i=i||new Map,a.findHostDirectiveDefs(a,l,i),r.unshift(...l,a),UE(t,e,l.length)}else r.unshift(a),UE(t,e,0);else{var o;i=i||new Map,null===(o=a.findHostDirectiveDefs)||void 0===o||o.call(a,a,r,i),r.push(a)}}return null===r?null:[r,i]}(t,n);let s,a;null===o?s=a=null:[s,a]=o,null!==s&&DR(t,e,n,s,i,a),i&&function k$(t,e,n){if(e){const r=t.localNames=[];for(let i=0;i<e.length;i+=2){const o=n[e[i+1]];if(null==o)throw new sn(-301,!1);r.push(e[i],o)}}}(n,r,i)}n.mergedAttrs=IA(n.mergedAttrs,n.attrs)}function DR(t,e,n,r,i,o){for(let I=0;I<r.length;I++)wp(Nf(n,e),t,r[I].type);!function P$(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}(n,t.data.length,r.length);for(let I=0;I<r.length;I++){const k=r[I];k.providersResolver&&k.providersResolver(k)}let s=!1,a=!1,l=jy(t,e,r.length,null);for(let I=0;I<r.length;I++){const k=r[I];n.mergedAttrs=IA(n.mergedAttrs,k.hostAttrs),N$(t,n,e,l,k),R$(l,k,i),null!==k.contentQueries&&(n.flags|=4),(null!==k.hostBindings||null!==k.hostAttrs||0!==k.hostVars)&&(n.flags|=64);const O=k.type.prototype;var u,p;!s&&(O.ngOnChanges||O.ngOnInit||O.ngDoCheck)&&((null!==(u=t.preOrderHooks)&&void 0!==u?u:t.preOrderHooks=[]).push(n.index),s=!0),a||!O.ngOnChanges&&!O.ngDoCheck||((null!==(p=t.preOrderCheckHooks)&&void 0!==p?p:t.preOrderCheckHooks=[]).push(n.index),a=!0),l++}!function b$(t,e,n){const i=e.directiveEnd,o=t.data,s=e.attrs,a=[];let l=null,u=null;for(let p=e.directiveStart;p<i;p++){const I=o[p],k=n?n.get(I):null,q=k?k.outputs:null;l=TR(0,I.inputs,p,l,k?k.inputs:null),u=TR(1,I.outputs,p,u,q);const ge=null===l||null===s||E(e)?null:O$(l,p,s);a.push(ge)}null!==l&&(l.hasOwnProperty("class")&&(e.flags|=8),l.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=l,e.outputs=u}(t,n,o)}function xR(t,e,n){const r=n.directiveStart,i=n.directiveEnd,o=n.index,s=function Mc(){return li.lFrame.currentDirectiveIndex}();try{yn(o);for(let a=r;a<i;a++){const l=t.data[a],u=e[a];ja(a),(null!==l.hostBindings||0!==l.hostVars||null!==l.hostAttrs)&&x$(l,u)}}finally{yn(-1),ja(s)}}function x$(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function UE(t,e,n){var r;e.componentOffset=n,(null!==(r=t.components)&&void 0!==r?r:t.components=[]).push(e.index)}function R$(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;so(e)&&(n[""]=t)}}function N$(t,e,n,r,i){t.data[r]=i;const o=i.factory||(i.factory=Fa(i.type)),s=new No(o,so(i),Y);t.blueprint[r]=s,n[r]=s,function T$(t,e,n,r,i){const o=i.hostBindings;if(o){let s=t.hostBindingOpCodes;null===s&&(s=t.hostBindingOpCodes=[]);const a=~e.index;(function B$(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(s)!=a&&s.push(a),s.push(n,r,o)}}(t,e,r,jy(t,n,i.hostVars,Yi),i)}function qh(t,e,n,r,i,o){const s=da(t,e);!function VE(t,e,n,r,i,o,s){if(null==o)t.removeAttribute(e,i,n);else{const a=null==s?Gr(o):s(o,r||"",i);t.setAttribute(e,i,a,n)}}(e[Hr],s,o,t.value,n,r,i)}function L$(t,e,n,r,i,o){const s=o[e];if(null!==s)for(let a=0;a<s.length;)bR(r,n,s[a++],s[a++],s[a++],s[a++])}function O$(t,e,n){let r=null,i=0;for(;i<n.length;){const o=n[i];if(0!==o)if(5!==o){if("number"==typeof o)break;if(t.hasOwnProperty(o)){null===r&&(r=[]);const s=t[o];for(let a=0;a<s.length;a+=3)if(s[a]===e){r.push(o,s[a+1],s[a+2],n[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function FR(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function kR(t,e){const n=t.contentQueries;if(null!==n){const r=ke(null);try{for(let i=0;i<n.length;i+=2){const s=n[i+1];if(-1!==s){const a=t.data[s];Oc(n[i]),a.contentQueries(2,e[s],s)}}}finally{ke(r)}}}function lC(t,e){return t[rc]?t[ic][qs]=e:t[rc]=e,t[ic]=e,e}function QE(t,e,n){Oc(0);const r=ke(null);try{e(t,n)}finally{ke(r)}}function uC(t,e){const n=t[mo],r=n?n.get(Ou,null):null;r&&r.handleError(e)}function HE(t,e,n,r,i){for(let o=0;o<n.length;){const s=n[o++],a=n[o++],l=n[o++];bR(t.data[s],e[s],r,a,l,i)}}function Vf(t,e,n){const r=pd(e,t);!function sR(t,e,n){t.setValue(e,n)}(t[Hr],r,n)}function U$(t,e){const n=Hs(e,t),r=n[Qn];!function V$(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n);const i=n[ti];null!==i&&null===n[As]&&(n[As]=mu(i,n[mo])),jE(r,n,n[zi])}function jE(t,e,n){B(e);try{var r;const i=t.viewQuery;null!==i&&QE(1,i,n);const o=t.template;null!==o&&IR(t,e,o,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),null===(r=e[Qs])||void 0===r||r.finishViewCreation(t),t.staticContentQueries&&kR(t,e),t.staticViewQueries&&QE(2,t.viewQuery,n);const s=t.components;null!==s&&function Q$(t,e){for(let n=0;n<e.length;n++)U$(t,e[n])}(e,s)}catch(i){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),i}finally{e[wr]&=-5,Ae()}}function yv(t,e){return!e||null===e.firstChild||w(t)}function $y(t,e,n,r=!0){const i=e[Qn];if(function o$(t,e,n,r){const i=Ts+r,o=n.length;r>0&&(n[i-1][qs]=e),r<o-Ts?(e[qs]=n[i],wA(n,Ts+r,e)):(n.push(e),e[qs]=null),e[co]=n;const s=e[ya];null!==s&&n!==s&&function s$(t,e){const n=t[sr];e[di]!==e[co][co][di]&&(t[wr]|=xc.HasTransplantedViews),null===n?t[sr]=[e]:n.push(e)}(s,e);const a=e[Qs];null!==a&&a.insertView(t),Pu(e),e[wr]|=128}(i,e,t,n),r){const s=FE(n,t),a=e[Hr],l=iC(a,t[lu]);null!==l&&function r$(t,e,n,r,i,o){r[ti]=i,r[kr]=e,sC(t,r,n,1,i,o)}(i,t[kr],a,e,l,s)}const o=e[As];null!==o&&null!==o.firstChild&&(o.firstChild=null)}function Gy(t,e,n,r,i=!1){for(;null!==n;){const o=e[n.index];null!==o&&r.push(xi(o)),Po(o)&&LR(o,r);const s=n.type;if(8&s)Gy(t,e,n.child,r);else if(32&s){const a=EE(n,e);let l;for(;l=a();)r.push(l)}else if(16&s){const a=gR(e,n);if(Array.isArray(a))r.push(...a);else{const l=zl(e[di]);Gy(l[Qn],l,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function LR(t,e){for(let n=Ts;n<t.length;n++){const r=t[n],i=r[Qn].firstChild;null!==i&&Gy(r[Qn],r,i,e)}t[lu]!==t[ti]&&e.push(t[lu])}let OR=[];const $$={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{},consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{cu(t.lView)},consumerOnSignalRead(){this.lView[au]=this}};function UR(t){return QR(t[rc])}function VR(t){return QR(t[qs])}function QR(t){for(;null!==t&&!Po(t);)t=t[qs];return t}const HR=100;function cC(t,e=!0,n=0){const r=t[Eo],i=r.rendererFactory;var s;null===(s=i.begin)||void 0===s||s.call(i);try{!function K$(t,e){$E(t,e);let n=0;for(;Ps(t);){if(n===HR)throw new sn(103,!1);n++,$E(t,1)}}(t,n)}catch(u){throw e&&uC(t,u),u}finally{var a,l;null===(a=i.end)||void 0===a||a.call(i),null===(l=r.inlineEffectRunner)||void 0===l||l.flush()}}function q$(t,e,n,r){var i;const o=e[wr];if(!(256&~o))return;null===(i=e[Eo].inlineEffectRunner)||void 0===i||i.flush(),B(e);let a=null,l=null;(function Y$(t){return 2!==t.type})(t)&&(l=function H$(t){var e;return null!==(e=t[au])&&void 0!==e?e:function j$(t){var e;const n=null!==(e=OR.pop())&&void 0!==e?e:Object.create($$);return n.lView=t,n}(t)}(e),a=function te(t){return t&&(t.nextProducerIndex=0),ke(t)}(l));try{cc(e),function Yd(t){return li.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==n&&IR(t,e,n,2,r);const u=!(3&~o);if(u){const k=t.preOrderCheckHooks;null!==k&&ba(e,k,null)}else{const k=t.preOrderHooks;null!==k&&Na(e,k,0,null),nl(e,0)}if(function X$(t){for(let e=UR(t);null!==e;e=VR(e)){if(!(e[wr]&xc.HasTransplantedViews))continue;const n=e[sr];for(let r=0;r<n.length;r++){sh(n[r])}}}(e),jR(e,0),null!==t.contentQueries&&kR(t,e),u){const k=t.contentCheckHooks;null!==k&&ba(e,k)}else{const k=t.contentHooks;null!==k&&Na(e,k,1),nl(e,1)}!function p$(t,e){const n=t.hostBindingOpCodes;if(null!==n)try{for(let r=0;r<n.length;r++){const i=n[r];if(i<0)yn(~i);else{const o=i,s=n[++r],a=n[++r];Xd(s,o),a(2,e[o])}}}finally{yn(-1)}}(t,e);const p=t.components;null!==p&&$R(e,p,0);const I=t.viewQuery;if(null!==I&&QE(2,I,r),u){const k=t.viewCheckHooks;null!==k&&ba(e,k)}else{const k=t.viewHooks;null!==k&&Na(e,k,2),nl(e,2)}if(!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),e[sc]){for(const k of e[sc])k();e[sc]=null}e[wr]&=-73}catch(u){throw cu(e),u}finally{null!==l&&(function ce(t,e){if(ke(e),t&&void 0!==t.producerNode&&void 0!==t.producerIndexOfThis&&void 0!==t.producerLastReadVersion){if(ut(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)ot(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}(l,a),function z$(t){t.lView[au]!==t&&(t.lView=null,OR.push(t))}(l)),Ae()}}function jR(t,e){for(let n=UR(t);null!==n;n=VR(n))for(let r=Ts;r<n.length;r++)zR(n[r],e)}function J$(t,e,n){zR(Hs(e,t),n)}function zR(t,e){uc(t)&&$E(t,e)}function $E(t,e){const r=t[Qn],i=t[wr],o=t[au];let s=!!(0===e&&16&i);if(s||(s=!!(64&i&&0===e)),s||(s=!!(1024&i)),s||(s=!(null==o||!o.dirty||!Ve(o))),o&&(o.dirty=!1),t[wr]&=-9217,s)q$(r,t,r.template,t[zi]);else if(8192&i){jR(t,1);const a=r.components;null!==a&&$R(t,a,1)}}function $R(t,e,n){for(let r=0;r<e.length;r++)J$(t,e[r],n)}function Wy(t){var e;for(null===(e=t[Eo].changeDetectionScheduler)||void 0===e||e.notify();t;){t[wr]|=64;const n=zl(t);if(EA(t)&&!n)return t;t=n}return null}class Ky{get rootNodes(){const e=this._lView,n=e[Qn];return Gy(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[zi]}set context(e){this._lView[zi]=e}get destroyed(){return!(256&~this._lView[wr])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[co];if(Po(e)){const n=e[8],r=n?n.indexOf(this):-1;r>-1&&(Vy(e,r),ad(n,r))}this._attachedToViewContainer=!1}rC(this._lView[Qn],this._lView)}onDestroy(e){Wd(this._lView,e)}markForCheck(){Wy(this._cdRefInjectingView||this._lView)}detach(){this._lView[wr]&=-129}reattach(){Pu(this._lView),this._lView[wr]|=128}detectChanges(){this._lView[wr]|=1024,cC(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new sn(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,aR(this._lView[Qn],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new sn(902,!1);this._appRef=e,Pu(this._lView)}}let hh=(()=>{class e{}return e.__NG_ELEMENT_ID__=tG,e})();const Z$=hh,eG=class extends Z${constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){var e;return(null===(e=this._declarationTContainer.tView)||void 0===e?void 0:e.ssrId)||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){const i=function zy(t,e,n,r){const i=ke(null);try{var o,s;const a=e.tView,p=aC(t,a,n,4096&t[wr]?4096:16,null,e,null,null,null,null!==(o=null==r?void 0:r.injector)&&void 0!==o?o:null,null!==(s=null==r?void 0:r.dehydratedView)&&void 0!==s?s:null);p[ya]=t[e.index];const k=t[Qs];return null!==k&&(p[Qs]=k.createEmbeddedView(a)),jE(a,p,n),p}finally{ke(i)}}(this._declarationLView,this._declarationTContainer,e,{injector:n,dehydratedView:r});return new Ky(i)}};function tG(){return function dC(t,e){return 4&t.type?new eG(e,t,ch(t,e)):null}(cr(),Ge())}class XE{}class EG{}class JR{}class TG{resolveComponentFactory(e){throw function SG(t){const e=Error(`No component factory found for ${$r(t)}.`);return e.ngComponent=t,e}(e)}}let gC=(()=>{class e{}return e.NULL=new TG,e})();class eP{}let Qf=(()=>{class e{constructor(){this.destroyNode=null}}return e.__NG_ELEMENT_ID__=()=>function BG(){const t=Ge(),n=Hs(cr().index,t);return(Ys(n)?n:t)[Hr]}(),e})(),DG=(()=>{var t;class e{}return(t=e).\u0275prov=Dn({token:t,providedIn:"root",factory:()=>null}),e})();const JE={},tP=new Set;function Yh(t){var e,n;tP.has(t)||(tP.add(t),null===(e=performance)||void 0===e||null===(n=e.mark)||void 0===n||n.call(e,"mark_feature_usage",{detail:{feature:t}}))}function nP(...t){}class Tn{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new X(!1),this.onMicrotaskEmpty=new X(!1),this.onStable=new X(!1),this.onError=new X(!1),typeof Zone>"u")throw new sn(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function xG(){const t="function"==typeof ur.requestAnimationFrame;let e=ur[t?"requestAnimationFrame":"setTimeout"],n=ur[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&n){const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);const i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}().nativeRequestAnimationFrame,function RG(t){const e=()=>{!function kG(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(ur,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,eS(t),t.isCheckStableRunning=!0,ZE(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),eS(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,o,s,a)=>{if(function PG(t){var e;return!(!Array.isArray(t)||1!==t.length)&&!0===(null===(e=t[0].data)||void 0===e?void 0:e.__ignore_ng_zone__)}(a))return n.invokeTask(i,o,s,a);try{return rP(t),n.invokeTask(i,o,s,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||t.shouldCoalesceRunChangeDetection)&&e(),iP(t)}},onInvoke:(n,r,i,o,s,a,l)=>{try{return rP(t),n.invoke(i,o,s,a,l)}finally{t.shouldCoalesceRunChangeDetection&&e(),iP(t)}},onHasTask:(n,r,i,o)=>{n.hasTask(i,o),r===i&&("microTask"==o.change?(t._hasPendingMicrotasks=o.microTask,eS(t),ZE(t)):"macroTask"==o.change&&(t.hasPendingMacrotasks=o.macroTask))},onHandleError:(n,r,i,o)=>(n.handleError(i,o),t.runOutsideAngular(()=>t.onError.emit(o)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Tn.isInAngularZone())throw new sn(909,!1)}static assertNotInAngularZone(){if(Tn.isInAngularZone())throw new sn(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){const o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,FG,nP,nP);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}}const FG={};function ZE(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function eS(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function rP(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function iP(t){t._nesting--,ZE(t)}class oP{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new X,this.onMicrotaskEmpty=new X,this.onStable=new X,this.onError=new X}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}}var qg=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(qg||{});const sP={destroy(){}};function aP(t,e){var n,r,i;!e&&function fi(t){if(!Vo())throw new sn(-203,!1)}();const o=null!==(n=null==e?void 0:e.injector)&&void 0!==n?n:An(Mo);if(!function Mp(t){return"browser"===(null!=t?t:An(Mo)).get(Fe)}(o))return sP;Yh("NgAfterNextRender");const s=o.get(Zy),a=null!==(r=s.handler)&&void 0!==r?r:s.handler=new uP,l=null!==(i=null==e?void 0:e.phase)&&void 0!==i?i:qg.MixedReadWrite,u=()=>{a.unregister(I),p()},p=o.get(Qc).onDestroy(u),I=Fi(o,()=>new lP(l,()=>{u(),t()}));return a.register(I),{destroy:u}}class lP{constructor(e,n){var r;this.phase=e,this.callbackFn=n,this.zone=An(Tn),this.errorHandler=An(Ou,{optional:!0}),null===(r=An(XE,{optional:!0}))||void 0===r||r.notify(1)}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(n){var e;null===(e=this.errorHandler)||void 0===e||e.handleError(n)}}}class uP{constructor(){this.executingCallbacks=!1,this.buckets={[qg.EarlyRead]:new Set,[qg.Write]:new Set,[qg.MixedReadWrite]:new Set,[qg.Read]:new Set},this.deferredCallbacks=new Set}register(e){(this.executingCallbacks?this.deferredCallbacks:this.buckets[e.phase]).add(e)}unregister(e){this.buckets[e.phase].delete(e),this.deferredCallbacks.delete(e)}execute(){this.executingCallbacks=!0;for(const e of Object.values(this.buckets))for(const n of e)n.invoke();this.executingCallbacks=!1;for(const e of this.deferredCallbacks)this.buckets[e.phase].add(e);this.deferredCallbacks.clear()}destroy(){for(const e of Object.values(this.buckets))e.clear();this.deferredCallbacks.clear()}}let Zy=(()=>{var t;class e{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){var r;this.executeInternalCallbacks(),null===(r=this.handler)||void 0===r||r.execute()}executeInternalCallbacks(){const r=[...this.internalCallbacks];this.internalCallbacks.length=0;for(const i of r)i()}ngOnDestroy(){var r;null===(r=this.handler)||void 0===r||r.destroy(),this.handler=null,this.internalCallbacks.length=0}}return(t=e).\u0275prov=Dn({token:t,providedIn:"root",factory:()=>new t}),e})();function vC(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(null!==e)for(let s=0;s<e.length;s++){const a=e[s];"number"==typeof a?o=a:1==o?i=Xr(i,a):2==o&&(r=Xr(r,a+": "+e[++s]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}class AP extends gC{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const n=Ue(e);return new n_(n,this.ngModule)}}function hP(t){const e=[];for(const n in t){if(!t.hasOwnProperty(n))continue;const r=t[n];void 0!==r&&e.push({propName:Array.isArray(r)?r[0]:r,templateName:n})}return e}class VG{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=_A(r);const i=this.injector.get(e,JE,r);return i!==JE||n===JE?i:this.parentInjector.get(e,n,r)}}class n_ extends JR{get inputs(){const e=this.componentDef,n=e.inputTransforms,r=hP(e.inputs);if(null!==n)for(const i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return hP(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=function De(t){return t.map(Qe).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){const o=ke(null);try{var a;let l=(i=i||this.ngModule)instanceof We?i:null===(a=i)||void 0===a?void 0:a.injector;l&&null!==this.componentDef.getStandaloneInjector&&(l=this.componentDef.getStandaloneInjector(l)||l);const u=l?new VG(e,l):e,p=u.get(eP,null);if(null===p)throw new sn(407,!1);const I=u.get(DG,null),q={rendererFactory:p,sanitizer:I,inlineEffectRunner:null,afterRenderEventManager:u.get(Zy,null),changeDetectionScheduler:u.get(XE,null)},ge=p.createRenderer(null,this.componentDef),Be=this.componentDef.selectors[0][0]||"div",Ye=r?function m$(t,e,n,r){const o=r.get(Kw,!1)||n===su.ShadowDom,s=t.selectRootElement(e,o);return function v$(t){SR(t)}(s),s}(ge,r,this.componentDef.encapsulation,u):nC(ge,Be,function UG(t){const e=t.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(Be));let tt=512;this.componentDef.signals?tt|=4096:this.componentDef.onPush||(tt|=16);let Bt=null;null!==Ye&&(Bt=mu(Ye,u,!0));const Ut=LE(0,null,null,1,0,null,null,null,null,null,null),Fn=aC(null,Ut,null,tt,null,null,q,ge,u,null,Bt);let Kn,Ii;B(Fn);try{const Bo=this.componentDef;let Bu,If=null;Bo.findHostDirectiveDefs?(Bu=[],If=new Map,Bo.findHostDirectiveDefs(Bo,Bu,If),Bu.push(Bo)):Bu=[Bo];const Xm=function HG(t,e){const n=t[Qn],r=gi;return t[r]=e,vv(n,r,2,"#host",null)}(Fn,Ye),jw=function jG(t,e,n,r,i,o,s){const a=i[Qn];!function zG(t,e,n,r){for(const i of t)e.mergedAttrs=IA(e.mergedAttrs,i.hostAttrs);null!==e.mergedAttrs&&(vC(e,e.mergedAttrs,!0),null!==n&&_R(r,n,e))}(r,t,e,s);let l=null;null!==e&&(l=mu(e,i[mo]));const u=o.rendererFactory.createRenderer(e,n);let p=16;n.signals?p=4096:n.onPush&&(p=64);const I=aC(i,ER(n),null,p,i[t.index],t,o,u,null,null,l);return a.firstCreatePass&&UE(a,t,r.length-1),lC(i,I),i[t.index]=I}(Xm,Ye,Bo,Bu,Fn,q,ge);Ii=Rc(Ut,gi),Ye&&function GG(t,e,n,r){if(r)eh(t,n,["ng-version","17.3.0"]);else{const{attrs:i,classes:o}=function qe(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let o=t[r];if("string"==typeof o)2===i?""!==o&&e.push(o,t[++r]):8===i&&n.push(o);else{if(!P(i))break;i=o}r++}return{attrs:e,classes:n}}(e.selectors[0]);i&&eh(t,n,i),o&&o.length>0&&yR(t,n,o.join(" "))}}(ge,Bo,Ye,r),void 0!==n&&function WG(t,e,n){const r=t.projection=[];for(let i=0;i<e.length;i++){const o=n[i];r.push(null!=o?Array.from(o):null)}}(Ii,this.ngContentSelectors,n),Kn=function $G(t,e,n,r,i,o){const s=cr(),a=i[Qn],l=da(s,i);DR(a,i,s,n,null,r);for(let p=0;p<n.length;p++)pc(hc(i,a,s.directiveStart+p,s),i);xR(a,i,s),l&&pc(l,i);const u=hc(i,a,s.directiveStart+s.componentOffset,s);if(t[zi]=i[zi]=u,null!==o)for(const p of o)p(u,e);return PE(a,s,i),u}(jw,Bo,Bu,If,Fn,[KG]),jE(Ut,Fn,null)}finally{Ae()}return new QG(this.componentType,Kn,ch(Ii,Fn),Fn,Ii)}finally{ke(o)}}}class QG extends EG{constructor(e,n,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new Ky(i,void 0,!1),this.componentType=e}setInput(e,n){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[e])){var o;if(null!==(o=this.previousInputValues)&&void 0!==o||(this.previousInputValues=new Map),this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;const s=this._rootLView;HE(s[Qn],s,i,e,n),this.previousInputValues.set(e,n),Wy(Hs(this._tNode.index,s))}}get injector(){return new Ms(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function KG(){const t=cr();Aa(Ge()[Qn],t)}let MA=(()=>{class e{}return e.__NG_ELEMENT_ID__=qG,e})();function qG(){return function gP(t,e){let n;const r=e[t.index];return Po(r)?n=r:(n=FR(r,e,null,t),e[t.index]=n,lC(e,n)),mP(n,e,t,r),new fP(n,t,e)}(cr(),Ge())}const YG=MA,fP=class extends YG{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return ch(this._hostTNode,this._hostLView)}get injector(){return new Ms(this._hostTNode,this._hostLView)}get parentInjector(){const e=$h(this._hostTNode,this._hostLView);if(mp(e)){const n=zh(e,this._hostLView),r=jh(e);return new Ms(n[Qn].data[r+8],n)}return new Ms(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const n=pP(this._lContainer);return null!==n&&n[e]||null}get length(){return this._lContainer.length-Ts}createEmbeddedView(e,n,r){let i,o;"number"==typeof r?i=r:null!=r&&(i=r.index,o=r.injector);const a=e.createEmbeddedViewImpl(n||{},o,null);return this.insertImpl(a,i,yv(this._hostTNode,null)),a}createComponent(e,n,r,i,o){var s,l;const u=e&&!function ko(t){return"function"==typeof t}(e);let p;if(u)p=n;else{const Ye=n||{};p=Ye.index,r=Ye.injector,i=Ye.projectableNodes,o=Ye.environmentInjector||Ye.ngModuleRef}const I=u?e:new n_(Ue(e)),k=r||this.parentInjector;if(!o&&null==I.ngModule){const tt=(u?k:this.parentInjector).get(We,null);tt&&(o=tt)}const O=Ue(null!==(s=I.componentType)&&void 0!==s?s:{}),q=(null==O?void 0:O.id,null),ge=null!==(l=null==q?void 0:q.firstChild)&&void 0!==l?l:null,Be=I.create(k,i,ge,o);return this.insertImpl(Be.hostView,p,yv(this._hostTNode,q)),Be}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){const i=e._lView;if(function Ru(t){return Po(t[co])}(i)){const a=this.indexOf(e);if(-1!==a)this.detach(a);else{const l=i[co],u=new fP(l,l[kr],l[co]);u.detach(u.indexOf(e))}}const o=this._adjustIndex(n),s=this._lContainer;return $y(s,i,o,r),e.attachToViewContainerRef(),wA(iS(s),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){const n=pP(this._lContainer);return null!==n?n.indexOf(e):-1}remove(e){const n=this._adjustIndex(e,-1),r=Vy(this._lContainer,n);r&&(ad(iS(this._lContainer),n),rC(r[Qn],r))}detach(e){const n=this._adjustIndex(e,-1),r=Vy(this._lContainer,n);return r&&null!=ad(iS(this._lContainer),n)?new Ky(r):null}_adjustIndex(e,n=0){return null==e?this.length+n:e}};function pP(t){return t[8]}function iS(t){return t[8]||(t[8]=[])}let mP=function yP(t,e,n,r){if(t[lu])return;let i;i=8&n.type?xi(r):function XG(t,e){const n=t[Hr],r=n.createComment(""),i=da(e,t);return Kg(n,iC(n,i),r,function c$(t,e){return t.nextSibling(e)}(n,i),!1),r}(e,n),t[lu]=i},oS=()=>!1;function DP(t){return function TP(t){return"function"==typeof t&&void 0!==t[Ht]}(t)&&"function"==typeof t.set}function Xi(t){let e=function VP(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),n=!0;const r=[t];for(;e;){let i;if(so(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new sn(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);const s=t;s.inputs=_C(t.inputs),s.inputTransforms=_C(t.inputTransforms),s.declaredInputs=_C(t.declaredInputs),s.outputs=_C(t.outputs);const a=i.hostBindings;a&&wW(t,a);const l=i.viewQuery,u=i.contentQueries;if(l&&yW(t,l),u&&_W(t,u),mW(t,i),tr(t.outputs,i.outputs),so(i)&&i.data.animation){const p=t.data;p.animation=(p.animation||[]).concat(i.data.animation)}}const o=i.features;if(o)for(let s=0;s<o.length;s++){const a=o[s];a&&a.ngInherit&&a(t),a===Xi&&(n=!1)}}e=Object.getPrototypeOf(e)}!function vW(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=IA(i.hostAttrs,n=IA(n,i.hostAttrs))}}(r)}function mW(t,e){for(const r in e.inputs){if(!e.inputs.hasOwnProperty(r)||t.inputs.hasOwnProperty(r))continue;const i=e.inputs[r];if(void 0!==i&&(t.inputs[r]=i,t.declaredInputs[r]=e.declaredInputs[r],null!==e.inputTransforms)){var n;const o=Array.isArray(i)?i[0]:i;if(!e.inputTransforms.hasOwnProperty(o))continue;null!==(n=t.inputTransforms)&&void 0!==n||(t.inputTransforms={}),t.inputTransforms[o]=e.inputTransforms[o]}}}function _C(t){return t===pl?{}:t===no?[]:t}function yW(t,e){const n=t.viewQuery;t.viewQuery=n?(r,i)=>{e(r,i),n(r,i)}:e}function _W(t,e){const n=t.contentQueries;t.contentQueries=n?(r,i,o)=>{e(r,i,o),n(r,i,o)}:e}function wW(t,e){const n=t.hostBindings;t.hostBindings=n?(r,i)=>{e(r,i),n(r,i)}:e}function zP(t){const e=t.inputConfig,n={};for(const r in e)if(e.hasOwnProperty(r)){const i=e[r];Array.isArray(i)&&i[3]&&(n[r]=i[3])}t.inputTransforms=n}class Yg{}class $P{}class fS extends Yg{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new AP(this);const i=Ee(e);this._bootstrapComponents=iA(i.bootstrap),this._r3Injector=Ng(e,n,[{provide:Yg,useValue:this},{provide:gC,useValue:this.componentFactoryResolver},...r],$r(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class pS extends $P{constructor(e){super(),this.moduleType=e}create(e){return new fS(this.moduleType,e,[])}}class GP extends Yg{constructor(e){super(),this.componentFactoryResolver=new AP(this),this.instance=null;const n=new ai([...e.providers,{provide:Yg,useValue:this},{provide:gC,useValue:this.componentFactoryResolver}],e.parent||vn(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function wC(t,e,n=null){return new GP({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}let Cv=(()=>{var t;class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new J(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);const r=this.taskId++;return this.pendingTasks.add(r),r}remove(r){this.pendingTasks.delete(r),0===this.pendingTasks.size&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Dn({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function bC(t){return!!function gS(t){return null!==t&&("function"==typeof t||"object"==typeof t)}(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function Xh(t,e,n){return t[e]=n}function sl(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function Xg(t,e,n,r){const i=sl(t,e,n);return sl(t,e+1,r)||i}function $i(t,e,n,r,i,o,s,a){const l=Ge(),u=gn(),p=t+gi,I=u.firstCreatePass?function PW(t,e,n,r,i,o,s,a,l){const u=e.consts,p=vv(e,t,4,s||null,el(u,a));OE(e,n,p,el(u,l)),Aa(e,p);const I=p.tView=LE(2,p,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,u,null);return null!==e.queries&&(e.queries.template(e,p),I.queries=e.queries.embeddedTView(p)),p}(p,u,l,e,n,r,i,o,s):u.data[p];Ao(I,!1);const k=WP(u,l,I,t);Au()&&oC(u,l,k,I),pc(k,l);const O=FR(k,l,k,I);return l[p]=O,lC(l,O),function vP(t,e,n){return oS(t,e,n)}(O,I,l),Ql(I)&&NE(u,l,I),null!=s&&ME(l,I,a),$i}let WP=function KP(t,e,n,r){return qi(!0),e[Hr].createComment("")};function ul(t,e,n,r){const i=Ge();return sl(i,wa(),e)&&(gn(),qh(Ln(),i,t,e,n,r)),ul}function xv(t,e,n,r){return sl(t,wa(),n)?e+Gr(n)+r:Yi}function Fv(t,e,n,r,i,o){const a=Xg(t,function Js(){return li.lFrame.bindingIndex}(),n,i);return Il(2),a?e+Gr(n)+r+Gr(i)+o:Yi}function xC(t,e){return t<<17|e<<2}function Qp(t){return t>>17&32767}function SS(t){return 2|t}function Zg(t){return(131068&t)>>2}function TS(t,e){return-131069&t|e<<2}function BS(t){return 1|t}function E4(t,e,n,r){const i=t[n+1],o=null===e;let s=r?Qp(i):Zg(i),a=!1;for(;0!==s&&(!1===a||o);){const u=t[s+1];vK(t[s],e)&&(a=!0,t[s+1]=r?BS(u):SS(u)),s=r?Qp(u):Zg(u)}a&&(t[n+1]=r?SS(i):BS(i))}function vK(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&Zo(t,e)>=0}function Kr(t,e,n){const r=Ge();return sl(r,wa(),e)&&wd(gn(),Ln(),r,t,e,r[Hr],n,!1),Kr}function DS(t,e,n,r,i){const s=i?"class":"style";HE(t,n,e.inputs[s],s,r)}function FC(t,e){return function fh(t,e,n,r){const i=Ge(),o=gn(),s=Il(2);o.firstUpdatePass&&function P4(t,e,n,r){const i=t.data;if(null===i[n+1]){const o=i[Tt()],s=function R4(t,e){return e>=t.expandoStartIndex}(t,n);(function O4(t,e){return!!(t.flags&(e?8:16))})(o,r)&&null===e&&!s&&(e=!1),e=function TK(t,e,n,r){const i=function vd(t){const e=li.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let o=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=u_(n=xS(null,t,e,n,r),e.attrs,r),o=null);else{const s=e.directiveStylingLast;if(-1===s||t[s]!==i)if(n=xS(i,t,e,n,r),null===o){let l=function BK(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==Zg(r))return t[Qp(r)]}(t,e,r);void 0!==l&&Array.isArray(l)&&(l=xS(null,t,e,l[1],r),l=u_(l,e.attrs,r),function DK(t,e,n,r){t[Qp(n?e.classBindings:e.styleBindings)]=r}(t,e,r,l))}else o=function xK(t,e,n){let r;const i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++)r=u_(r,t[o].hostAttrs,n);return u_(r,e.attrs,n)}(t,e,r)}return void 0!==o&&(r?e.residualClasses=o:e.residualStyles=o),n}(i,o,e,r),function gK(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,a=Qp(s),l=Zg(s);t[r]=n;let p,u=!1;if(Array.isArray(n)?(p=n[1],(null===p||Zo(n,p)>0)&&(u=!0)):p=n,i)if(0!==l){const k=Qp(t[a+1]);t[r+1]=xC(k,a),0!==k&&(t[k+1]=TS(t[k+1],r)),t[a+1]=function fK(t,e){return 131071&t|e<<17}(t[a+1],r)}else t[r+1]=xC(a,0),0!==a&&(t[a+1]=TS(t[a+1],r)),a=r;else t[r+1]=xC(l,0),0===a?a=r:t[l+1]=TS(t[l+1],r),l=r;u&&(t[r+1]=SS(t[r+1])),E4(t,p,r,!0),E4(t,p,r,!1),function mK(t,e,n,r,i){const o=i?t.residualClasses:t.residualStyles;null!=o&&"string"==typeof e&&Zo(o,e)>=0&&(n[r+1]=BS(n[r+1]))}(e,p,t,r,o),s=xC(a,l),o?e.classBindings=s:e.styleBindings=s}(i,o,e,n,s,r)}}(o,t,s,r),e!==Yi&&sl(i,s,e)&&function M4(t,e,n,r,i,o,s,a){if(!(3&e.type))return;const l=t.data,u=l[a+1],p=function pK(t){return!(1&~t)}(u)?L4(l,e,n,i,Zg(u),s):void 0;kC(p)||(kC(o)||function hK(t){return!(2&~t)}(u)&&(o=L4(l,null,n,i,a,s)),function h$(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let o=-1===r.indexOf("-")?void 0:Lp.DashCase;null==i?t.removeStyle(n,r,o):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Lp.Important),t.setStyle(n,r,i,o))}}(r,s,pd(Tt(),n),i,o))}(o,o.data[Tt()],i,i[Hr],t,i[s+1]=function PK(t,e){return null==t||""===t||("string"==typeof e?t+=e:"object"==typeof t&&(t=$r(Ah(t)))),t}(e,n),r,s)}(t,e,null,!0),FC}function xS(t,e,n,r,i){let o=null;const s=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<s&&(o=e[a],r=u_(r,o.hostAttrs,i),o!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function u_(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let o=0;o<e.length;o++){const s=e[o];"number"==typeof s?i=s:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),Ks(t,s,!!n||e[++o]))}return void 0===t?null:t}function L4(t,e,n,r,i,o){const s=null===e;let a;for(;i>0;){const l=t[i],u=Array.isArray(l),p=u?l[1]:l,I=null===p;let k=n[i+1];k===Yi&&(k=I?no:void 0);let O=I?Vs(k,r):p===r?k:void 0;if(u&&!kC(O)&&(O=Vs(l,r)),kC(O)&&(a=O,s))return a;const q=t[i+1];i=s?Qp(q):Zg(q)}if(null!==e){let l=o?e.residualClasses:e.residualStyles;null!=l&&(a=Vs(l,r))}return a}function kC(t){return void 0!==t}function c(t,e,n,r){const i=Ge(),o=gn(),s=gi+t,a=i[Hr],l=o.firstCreatePass?function rq(t,e,n,r,i,o){const s=e.consts,l=vv(e,t,2,r,el(s,i));return OE(e,n,l,el(s,o)),null!==l.attrs&&vC(l,l.attrs,!1),null!==l.mergedAttrs&&vC(l,l.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,l),l}(s,o,i,e,n,r):o.data[s],u=H4(o,i,l,a,e,t);i[s]=u;const p=Ql(l);return Ao(l,!0),_R(a,u,l),!function o_(t){return!(32&~t.flags)}(l)&&Au()&&oC(o,i,u,l),0===function FA(){return li.lFrame.elementDepthCount}()&&pc(u,i),function Kd(){li.lFrame.elementDepthCount++}(),p&&(NE(o,i,l),PE(o,l,i)),null!==r&&ME(i,l),c}function h(){let t=cr();is()?Cs():(t=t.parent,Ao(t,!1));const e=t;(function R(t){return li.skipHydrationRootTNode===t})(e)&&function kt(){li.skipHydrationRootTNode=null}(),function qd(){li.lFrame.elementDepthCount--}();const n=gn();return n.firstCreatePass&&(Aa(n,t),th(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function Ac(t){return!!(8&t.flags)}(e)&&DS(n,e,Ge(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function RA(t){return!!(16&t.flags)}(e)&&DS(n,e,Ge(),e.stylesWithoutHost,!1),h}function ht(t,e,n,r){return c(t,e,n,r),h(),ht}let H4=(t,e,n,r,i,o)=>(qi(!0),nC(r,i,function tl(){return li.lFrame.currentNamespace}()));function fs(){return Ge()}const em=void 0;var cq=["en",[["a","p"],["AM","PM"],em],[["AM","PM"],em,em],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],em,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],em,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",em,"{1} 'at' {0}",em],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function uq(t){const n=Math.floor(Math.abs(t)),r=t.toString().replace(/^[^.]*\.?/,"").length;return 1===n&&0===r?1:5}];let Uv={};function jc(t){const e=function dq(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=W4(e);if(n)return n;const r=e.split("-")[0];if(n=W4(r),n)return n;if("en"===r)return cq;throw new sn(701,!1)}function W4(t){return t in Uv||(Uv[t]=ur.ng&&ur.ng.common&&ur.ng.common.locales&&ur.ng.common.locales[t]),Uv[t]}var Zs=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(Zs||{});const Vv="en-US";let K4=Vv;function fn(t,e,n,r){const i=Ge(),o=gn(),s=cr();return US(o,i,i[Hr],s,t,e,r),fn}function US(t,e,n,r,i,o,s){const a=Ql(r),u=t.firstCreatePass&&function PR(t){return t.cleanup||(t.cleanup=[])}(t),p=e[zi],I=function RR(t){return t[Xa]||(t[Xa]=[])}(e);let k=!0;if(3&r.type||s){const ge=da(r,e),Be=s?s(ge):ge,Ye=I.length,tt=s?Ut=>s(xi(Ut[r.index])):r.index;let Bt=null;if(!s&&a&&(Bt=function aY(t,e,n,r){const i=t.cleanup;if(null!=i)for(let o=0;o<i.length-1;o+=2){const s=i[o];if(s===n&&i[o+1]===r){const a=e[Xa],l=i[o+2];return a.length>l?a[l]:null}"string"==typeof s&&(o+=2)}return null}(t,e,i,r.index)),null!==Bt)(Bt.__ngLastListenerFn__||Bt).__ngNextListenerFn__=o,Bt.__ngLastListenerFn__=o,k=!1;else{o=CN(r,e,p,o,!1);const Ut=n.listen(Be,i,o);I.push(o,Ut),u&&u.push(i,tt,Ye,Ye+1)}}else o=CN(r,e,p,o,!1);const O=r.outputs;let q;if(k&&null!==O&&(q=O[i])){const ge=q.length;if(ge)for(let Be=0;Be<ge;Be+=2){const Fn=e[q[Be]][q[Be+1]].subscribe(o),Kn=I.length;I.push(o,Fn),u&&u.push(i,r.index,Kn,-(Kn+1))}}}function wN(t,e,n,r){const i=ke(null);try{return jl(6,e,n),!1!==n(r)}catch(o){return uC(t,o),!1}finally{jl(7,e,n),ke(i)}}function CN(t,e,n,r,i){return function o(s){if(s===Function)return r;Wy(t.componentOffset>-1?Hs(t.index,e):e);let l=wN(e,n,r,s),u=o.__ngNextListenerFn__;for(;u;)l=wN(e,n,u,s)&&l,u=u.__ngNextListenerFn__;return i&&!1===l&&s.preventDefault(),l}}function ki(t=1){return function gt(t){return(li.lFrame.contextLView=function gd(t,e){for(;t>0;)e=e[Ha],t--;return e}(t,li.lFrame.contextLView))[zi]}(t)}function lY(t,e){let n=null;const r=function $(t){const e=t.attrs;if(null!=e){const n=e.indexOf(5);if(!(1&n))return e[n+1]}return null}(t);for(let i=0;i<e.length;i++){const o=e[i];if("*"!==o){if(null===r?L(t,o,!0):ve(r,o))return i}else n=i}return n}function hr(t){const e=Ge()[di][kr];if(!e.projection){const r=e.projection=function ka(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}(t?t.length:1,null),i=r.slice();let o=e.child;for(;null!==o;){const s=t?lY(o,t):0;null!==s&&(i[s]?i[s].projectionNext=o:r[s]=o,i[s]=o),o=o.next}}}function dr(t,e=0,n){const r=Ge(),i=gn(),o=vv(i,gi+t,16,null,n||null);null===o.projection&&(o.projection=e),Cs(),(!r[As]||dc())&&32&~o.flags&&function d$(t,e,n){vR(e[Hr],0,e,n,DE(t,n,e),AR(n.parent||e[kr],n,e))}(i,r,o)}function VS(t,e,n){return Qv(t,"",e,"",n),VS}function Qv(t,e,n,r,i){const o=Ge(),s=xv(o,e,n,r);return s!==Yi&&wd(gn(),Ln(),o,t,s,o[Hr],i,!1),Qv}function v(t,e=""){const n=Ge(),r=gn(),i=t+gi,o=r.firstCreatePass?vv(r,i,1,e,null):r.data[i],s=VN(r,n,o,e,t);n[i]=s,Au()&&oC(r,n,s,o),Ao(o,!1)}let VN=(t,e,n,r,i)=>(qi(!0),function SE(t,e){return t.createText(e)}(e[Hr],r));function ar(t){return zp("",t,""),ar}function zp(t,e,n){const r=Ge(),i=xv(r,t,e,n);return i!==Yi&&Vf(r,Tt(),i),zp}function OC(t,e,n,r,i){const o=Ge(),s=Fv(o,t,e,n,r,i);return s!==Yi&&Vf(o,Tt(),s),OC}function Bl(t,e,n){DP(e)&&(e=e());const r=Ge();return sl(r,wa(),e)&&wd(gn(),Ln(),r,t,e,r[Hr],n,!1),Bl}function Kl(t,e){const n=DP(t);return n&&t.set(e),n}function Dl(t,e){const n=Ge(),r=gn(),i=cr();return US(r,n,n[Hr],i,t,e),Dl}function HS(t,e,n,r,i){if(t=Or(t),Array.isArray(t))for(let o=0;o<t.length;o++)HS(t[o],e,n,r,i);else{const o=gn(),s=Ge(),a=cr();let l=Jt(t)?t:Or(t.provide);const u=_r(t),p=1048575&a.providerIndexes,I=a.directiveStart,k=a.providerIndexes>>20;if(Jt(t)||!t.multi){const O=new No(u,i,Y),q=zS(l,e,i?p:p+k,I);-1===q?(wp(Nf(a,s),o,l),jS(o,t,e.length),e.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(O),s.push(O)):(n[q]=O,s[q]=O)}else{const O=zS(l,e,p+k,I),q=zS(l,e,p,p+k),Be=q>=0&&n[q];if(i&&!Be||!i&&!(O>=0&&n[O])){wp(Nf(a,s),o,l);const Ye=function BY(t,e,n,r,i){const o=new No(t,n,Y);return o.multi=[],o.index=e,o.componentProviders=0,KN(o,i,r&&!n),o}(i?TY:SY,n.length,i,r,u);!i&&Be&&(n[q].providerFactory=Ye),jS(o,t,e.length,0),e.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(Ye),s.push(Ye)}else jS(o,t,O>-1?O:q,KN(n[i?q:O],u,!i&&r));!i&&r&&Be&&n[q].componentProviders++}}}function jS(t,e,n,r){const i=Jt(e),o=function Xn(t){return!!t.useClass}(e);if(i||o){const l=(o?Or(e.useClass):e).prototype.ngOnDestroy;if(l){const u=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const p=u.indexOf(n);-1===p?u.push(n,[r,l]):u[p+1].push(r,l)}else u.push(n,l)}}}function KN(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function zS(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function SY(t,e,n,r){return $S(this.multi,[])}function TY(t,e,n,r){const i=this.multi;let o;if(this.providerFactory){const s=this.providerFactory.componentProviders,a=hc(n,n[Qn],this.providerFactory.index,r);o=a.slice(0,s),$S(i,o);for(let l=s;l<a.length;l++)o.push(a[l])}else o=[],$S(i,o);return o}function $S(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function ps(t,e=[]){return n=>{n.providersResolver=(r,i)=>function EY(t,e,n){const r=gn();if(r.firstCreatePass){const i=so(t);HS(n,r.data,r.blueprint,i,!0),HS(e,r.data,r.blueprint,i,!1)}}(r,i?i(t):t,e)}}let DY=(()=>{var t;class e{constructor(r){this._injector=r,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){const i=wn(0,r.type),o=i.length>0?wC([i],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,o)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(const r of this.cachedInjectors.values())null!==r&&r.destroy()}finally{this.cachedInjectors.clear()}}}return(t=e).\u0275prov=Dn({token:t,providedIn:"environment",factory:()=>new t(Pn(We))}),e})();function qN(t){Yh("NgStandalone"),t.getStandaloneInjector=e=>e.get(DY).getOrCreateStandaloneInjector(t)}function g_(t,e){const n=t[e];return n===Yi?void 0:n}function zc(t,e){const n=gn();let r;const i=t+gi;var o;n.firstCreatePass?(r=function qY(t,e){if(e)for(let n=e.length-1;n>=0;n--){const r=e[n];if(t===r.name)return r}}(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(null!==(o=n.destroyHooks)&&void 0!==o?o:n.destroyHooks=[]).push(i,r.onDestroy)):r=n.data[i];const s=r.factory||(r.factory=Fa(r.type)),l=Qa(Y);try{const u=Rf(!1),p=s();return Rf(u),function AY(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}(n,Ge(),i,p),p}finally{Qa(l)}}function OA(t,e,n){const r=t+gi,i=Ge(),o=bl(i,r);return m_(i,r)?function iM(t,e,n,r,i,o){const s=e+n;return sl(t,s,i)?Xh(t,s+1,o?r.call(o,i):r(i)):g_(t,s+1)}(i,Qo(),e,o.transform,n,o):o.transform(n)}function VC(t,e,n,r){const i=t+gi,o=Ge(),s=bl(o,i);return m_(o,i)?function oM(t,e,n,r,i,o,s){const a=e+n;return Xg(t,a,i,o)?Xh(t,a+2,s?r.call(s,i,o):r(i,o)):g_(t,a+2)}(o,Qo(),e,s.transform,n,r,s):s.transform(n,r)}function m_(t,e){return t[Qn].data[e].pure}class $v{constructor(e){this.full=e;const n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}}const wX=new $v("17.3.0");let IM=(()=>{var t;class e{log(r){console.log(r)}warn(r){console.warn(r)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Dn({token:t,factory:t.\u0275fac,providedIn:"platform"}),e})();const BM=new $n(""),jC=new $n("");let tT,ZS=(()=>{var t;class e{constructor(r,i,o){this._ngZone=r,this.registry=i,this._pendingCount=0,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,tT||(function WX(t){tT=t}(o),o.addToWindow(i)),this._watchAngularEvents(),r.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Tn.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let r=this._callbacks.pop();clearTimeout(r.timeoutId),r.doneCb()}});else{let r=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>!i.updateCb||!i.updateCb(r)||(clearTimeout(i.timeoutId),!1))}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(r=>({source:r.source,creationLocation:r.creationLocation,data:r.data})):[]}addCallback(r,i,o){let s=-1;i&&i>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(a=>a.timeoutId!==s),r()},i)),this._callbacks.push({doneCb:r,timeoutId:s,updateCb:o})}whenStable(r,i,o){if(o&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(r,i,o),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(r){this.registry.registerApplication(r,this)}unregisterApplication(r){this.registry.unregisterApplication(r)}findProviders(r,i,o){return[]}}return(t=e).\u0275fac=function(r){return new(r||t)(Pn(Tn),Pn(eT),Pn(jC))},t.\u0275prov=Dn({token:t,factory:t.\u0275fac}),e})(),eT=(()=>{var t;class e{constructor(){this._applications=new Map}registerApplication(r,i){this._applications.set(r,i)}unregisterApplication(r){this._applications.delete(r)}unregisterAllApplications(){this._applications.clear()}getTestability(r){return this._applications.get(r)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(r,i=!0){var o,s;return null!==(o=null===(s=tT)||void 0===s?void 0:s.findTestabilityInTree(this,r,i))&&void 0!==o?o:null}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Dn({token:t,factory:t.\u0275fac,providedIn:"platform"}),e})();function __(t){return!!t&&"function"==typeof t.then}function DM(t){return!!t&&"function"==typeof t.subscribe}const zC=new $n("");let nT=(()=>{var t;class e{constructor(){var r;this.initialized=!1,this.done=!1,this.donePromise=new Promise((i,o)=>{this.resolve=i,this.reject=o}),this.appInits=null!==(r=An(zC,{optional:!0}))&&void 0!==r?r:[]}runInitializers(){if(this.initialized)return;const r=[];for(const o of this.appInits){const s=o();if(__(s))r.push(s);else if(DM(s)){const a=new Promise((l,u)=>{s.subscribe({complete:l,error:u})});r.push(a)}}const i=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{i()}).catch(o=>{this.reject(o)}),0===r.length&&i(),this.initialized=!0}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Dn({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();const rT=new $n("");function kM(t,e){return Array.isArray(e)?e.reduce(kM,t):{...t,...e}}let Hf=(()=>{var t;class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=An(Lg),this.afterRenderEffectManager=An(Zy),this.externalTestViews=new Set,this.beforeRender=new de,this.afterTick=new de,this.componentTypes=[],this.components=[],this.isStable=An(Cv).hasPendingTasks.pipe(zn(r=>!r)),this._injector=An(We)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(r,i){const o=r instanceof JR;if(!this._injector.get(nT).done)throw!o&&function Re(t){const e=Ue(t)||an(t)||cn(t);return null!==e&&e.standalone}(r),new sn(405,!1);let a;a=o?r:this._injector.get(gC).resolveComponentFactory(r),this.componentTypes.push(a.componentType);const l=function KX(t){return t.isBoundToModule}(a)?void 0:this._injector.get(Yg),p=a.create(Mo.NULL,[],i||a.selector,l),I=p.location.nativeElement,k=p.injector.get(BM,null);return null==k||k.registerApplication(I),p.onDestroy(()=>{this.detachView(p.hostView),$C(this.components,p),null==k||k.unregisterApplication(I)}),this._loadComponent(p),p}tick(){this._tick(!0)}_tick(r){if(this._runningTick)throw new sn(101,!1);const i=ke(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(r)}catch(o){this.internalErrorHandler(o)}finally{this.afterTick.next(),this._runningTick=!1,ke(i)}}detectChangesInAttachedViews(r){let i=0;const o=this.afterRenderEffectManager;for(;;){if(i===HR)throw new sn(103,!1);if(r){const s=0===i;this.beforeRender.next(s);for(let{_lView:a,notifyErrorHandler:l}of this._views)YX(a,s,l)}if(i++,o.executeInternalCallbacks(),![...this.externalTestViews.keys(),...this._views].some(({_lView:s})=>iT(s))&&(o.execute(),![...this.externalTestViews.keys(),...this._views].some(({_lView:s})=>iT(s))))break}}attachView(r){const i=r;this._views.push(i),i.attachToAppRef(this)}detachView(r){const i=r;$C(this._views,i),i.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r);const i=this._injector.get(rT,[]);[...this._bootstrapListeners,...i].forEach(o=>o(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>$C(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new sn(406,!1);const r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Dn({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function $C(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}function YX(t,e,n){!e&&!iT(t)||function XX(t,e,n){let r;n?(r=0,t[wr]|=1024):r=64&t[wr]?0:1,cC(t,e,r)}(t,n,e)}function iT(t){return Ps(t)}class JX{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}}let RM=(()=>{var t;class e{compileModuleSync(r){return new pS(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){const i=this.compileModuleSync(r),s=iA(Ee(r).declarations).reduce((a,l)=>{const u=Ue(l);return u&&a.push(new n_(u)),a},[]);return new JX(i,s)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Dn({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),tJ=(()=>{var t;class e{constructor(){this.zone=An(Tn),this.applicationRef=An(Hf)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){var r;null===(r=this._onMicrotaskEmptySubscription)||void 0===r||r.unsubscribe()}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Dn({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function nJ(){const t=An(Tn),e=An(Ou);return n=>t.runOutsideAngular(()=>e.handleError(n))}let iJ=(()=>{var t;class e{constructor(){this.subscription=new Qt,this.initialized=!1,this.zone=An(Tn),this.pendingTasks=An(Cv)}initialize(){if(this.initialized)return;this.initialized=!0;let r=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(r=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Tn.assertNotInAngularZone(),queueMicrotask(()=>{null!==r&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(r),r=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{var i;Tn.assertInAngularZone(),null!==(i=r)&&void 0!==i||(r=this.pendingTasks.add())}))}ngOnDestroy(){this.subscription.unsubscribe()}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Dn({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();const jf=new $n("",{providedIn:"root",factory:()=>An(jf,Jr.Optional|Jr.SkipSelf)||function oJ(){return typeof $localize<"u"&&$localize.locale||Vv}()}),oT=new $n("");let LM=(()=>{var t;class e{constructor(r){this._injector=r,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(r,i){const o=function NG(t="zone.js",e){return"noop"===t?new oP:"zone.js"===t?new Tn(e):t}(null==i?void 0:i.ngZone,function MM(t){var e,n;return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:null!==(e=null==t?void 0:t.eventCoalescing)&&void 0!==e&&e,shouldCoalesceRunChangeDetection:null!==(n=null==t?void 0:t.runCoalescing)&&void 0!==n&&n}}({eventCoalescing:null==i?void 0:i.ngZoneEventCoalescing,runCoalescing:null==i?void 0:i.ngZoneRunCoalescing}));return o.run(()=>{const s=function BW(t,e,n){return new fS(t,e,n)}(r.moduleType,this.injector,function NM(t){return[{provide:Tn,useFactory:t},{provide:ec,multi:!0,useFactory:()=>{const e=An(tJ,{optional:!0});return()=>e.initialize()}},{provide:ec,multi:!0,useFactory:()=>{const e=An(iJ);return()=>{e.initialize()}}},{provide:Lg,useFactory:nJ}]}(()=>o)),a=s.injector.get(Ou,null);return o.runOutsideAngular(()=>{const l=o.onError.subscribe({next:u=>{a.handleError(u)}});s.onDestroy(()=>{$C(this._modules,s),l.unsubscribe()})}),function FM(t,e,n){try{const r=n();return __(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(a,o,()=>{const l=s.injector.get(nT);return l.runInitializers(),l.donePromise.then(()=>(function q4(t){"string"==typeof t&&(K4=t.toLowerCase().replace(/_/g,"-"))}(s.injector.get(jf,Vv)||Vv),this._moduleDoBootstrap(s),s))})})}bootstrapModule(r,i=[]){const o=kM({},i);return function eJ(t,e,n){const r=new pS(n);return Promise.resolve(r)}(0,0,r).then(s=>this.bootstrapModuleFactory(s,o))}_moduleDoBootstrap(r){const i=r.injector.get(Hf);if(r._bootstrapComponents.length>0)r._bootstrapComponents.forEach(o=>i.bootstrap(o));else{if(!r.instance.ngDoBootstrap)throw new sn(-403,!1);r.instance.ngDoBootstrap(i)}this._modules.push(r)}onDestroy(r){this._destroyListeners.push(r)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new sn(404,!1);this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i());const r=this._injector.get(oT,null);r&&(r.forEach(i=>i()),r.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return(t=e).\u0275fac=function(r){return new(r||t)(Pn(Mo))},t.\u0275prov=Dn({token:t,factory:t.\u0275fac,providedIn:"platform"}),e})(),$p=null;const OM=new $n("");function UM(t,e,n=[]){const r=`Platform: ${e}`,i=new $n(r);return(o=[])=>{let s=sT();if(!s||s.injector.get(OM,!1)){const a=[...n,...o,{provide:i,useValue:!0}];t?t(a):function lJ(t){if($p&&!$p.get(OM,!1))throw new sn(400,!1);(function xM(){!function yt(t){Ft=t}(()=>{throw new sn(600,!1)})})(),$p=t;const e=t.get(LM);(function QM(t){const e=t.get(Ce,null);null==e||e.forEach(n=>n())})(t)}(function VM(t=[],e){return Mo.create({name:e,providers:[{provide:Wn,useValue:"platform"},{provide:oT,useValue:new Set([()=>$p=null])},...t]})}(a,r))}return function uJ(t){const e=sT();if(!e)throw new sn(401,!1);return e}()}}function sT(){var t,e;return null!==(t=null===(e=$p)||void 0===e?void 0:e.get(LM))&&void 0!==t?t:null}let er=(()=>{class e{}return e.__NG_ELEMENT_ID__=dJ,e})();function dJ(t){return function AJ(t,e,n){if(Za(t)&&!n){const r=Hs(t.index,e);return new Ky(r,r)}return 47&t.type?new Ky(e[di],e):null}(cr(),Ge(),!(16&~t))}class WM{constructor(){}supports(e){return bC(e)}create(e){return new mJ(e)}}const gJ=(t,e)=>e;class mJ{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||gJ}forEachItem(e){let n;for(n=this._itHead;null!==n;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,o=null;for(;n||r;){const s=!r||n&&n.currentIndex<qM(r,i,o)?n:r,a=qM(s,i,o),l=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(n=n._next,null==s.previousIndex)i++;else{o||(o=[]);const u=a-i,p=l-i;if(u!=p){for(let k=0;k<u;k++){const O=k<o.length?o[k]:o[k]=0,q=O+k;p<=q&&q<u&&(o[k]=O+1)}o[s.previousIndex]=p-u}}a!==l&&e(s,a,l)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)e(n)}diff(e){if(null==e&&(e=[]),!bC(e))throw new sn(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,o,s,n=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),null!==n&&Object.is(n.trackById,s)?(r&&(n=this._verifyReinsertion(n,o,s,a)),Object.is(n.item,o)||this._addIdentityChange(n,o)):(n=this._mismatch(n,o,s,a),r=!0),n=n._next}else i=0,function kW(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[Symbol.iterator]();let r;for(;!(r=n.next()).done;)e(r.value)}}(e,a=>{s=this._trackByFn(i,a),null!==n&&Object.is(n.trackById,s)?(r&&(n=this._verifyReinsertion(n,a,s,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)):(n=this._mismatch(n,a,s,i),r=!0),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let o;return null===e?o=this._itTail:(o=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,o,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,o,i)):e=this._addAfter(new vJ(n,r),o,i),e}_verifyReinsertion(e,n,r,i){let o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==o?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const n=e._next;this._addToRemovals(this._unlink(e)),e=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,o=e._nextRemoved;return null===i?this._removalsHead=o:i._nextRemoved=o,null===o?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){const i=null===n?this._itHead:n._next;return e._next=i,e._prev=n,null===i?this._itTail=e:i._prev=e,null===n?this._itHead=e:n._next=e,null===this._linkedRecords&&(this._linkedRecords=new KM),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const n=e._prev,r=e._next;return null===n?this._itHead=r:n._next=r,null===r?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new KM),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class vJ{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class yJ{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===n||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const n=e._prevDup,r=e._nextDup;return null===n?this._head=r:n._nextDup=r,null===r?this._tail=n:r._prevDup=n,null===this._head}}class KM{constructor(){this.map=new Map}put(e){const n=e.trackById;let r=this.map.get(n);r||(r=new yJ,this.map.set(n,r)),r.add(e)}get(e,n){const i=this.map.get(e);return i?i.get(e,n):null}remove(e){const n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function qM(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}function XM(){return new dT([new WM])}let dT=(()=>{var t;class e{constructor(r){this.factories=r}static create(r,i){if(null!=i){const o=i.factories.slice();r=r.concat(o)}return new e(r)}static extend(r){return{provide:e,useFactory:i=>e.create(r,i||XM()),deps:[[e,new ds,new Go]]}}find(r){const i=this.factories.find(o=>o.supports(r));if(null!=i)return i;throw new sn(901,!1)}}return(t=e).\u0275prov=Dn({token:t,providedIn:"root",factory:XM}),e})();const IJ=UM(null,"core",[]);let EJ=(()=>{var t;class e{constructor(r){}}return(t=e).\u0275fac=function(r){return new(r||t)(Pn(Hf))},t.\u0275mod=Mt({type:t}),t.\u0275inj=fo({}),e})();function Wv(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}function _3(t){const e=ke(null);try{return t()}finally{ke(e)}}function w3(t){const e=Ue(t);if(!e)return null;const n=new n_(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}let fT=null;function Gp(){return fT}class lZ{}const bd=new $n("");let pT=(()=>{var t;class e{historyGo(r){throw new Error("")}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Dn({token:t,factory:()=>An(cZ),providedIn:"platform"}),e})();const uZ=new $n("");let cZ=(()=>{var t;class e extends pT{constructor(){super(),this._doc=An(bd),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Gp().getBaseHref(this._doc)}onPopState(r){const i=Gp().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",r,!1),()=>i.removeEventListener("popstate",r)}onHashChange(r){const i=Gp().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",r,!1),()=>i.removeEventListener("hashchange",r)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(r){this._location.pathname=r}pushState(r,i,o){this._history.pushState(r,i,o)}replaceState(r,i,o){this._history.replaceState(r,i,o)}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Dn({token:t,factory:()=>new t,providedIn:"platform"}),e})();function gT(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function C3(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function zf(t){return t&&"?"!==t[0]?"?"+t:t}let ef=(()=>{var t;class e{historyGo(r){throw new Error("")}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Dn({token:t,factory:()=>An(I3),providedIn:"root"}),e})();const b3=new $n("");let I3=(()=>{var t;class e extends ef{constructor(r,i){var o,s,a;super(),this._platformLocation=r,this._removeListenerFns=[],this._baseHref=null!==(o=null!==(s=null!=i?i:this._platformLocation.getBaseHrefFromDOM())&&void 0!==s?s:null===(a=An(bd).location)||void 0===a?void 0:a.origin)&&void 0!==o?o:""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}prepareExternalUrl(r){return gT(this._baseHref,r)}path(r=!1){const i=this._platformLocation.pathname+zf(this._platformLocation.search),o=this._platformLocation.hash;return o&&r?`${i}${o}`:i}pushState(r,i,o,s){const a=this.prepareExternalUrl(o+zf(s));this._platformLocation.pushState(r,i,a)}replaceState(r,i,o,s){const a=this.prepareExternalUrl(o+zf(s));this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){var i,o;null===(i=(o=this._platformLocation).historyGo)||void 0===i||i.call(o,r)}}return(t=e).\u0275fac=function(r){return new(r||t)(Pn(pT),Pn(b3,8))},t.\u0275prov=Dn({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),E3=(()=>{var t;class e extends ef{constructor(r,i){super(),this._platformLocation=r,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}path(r=!1){var i;const o=null!==(i=this._platformLocation.hash)&&void 0!==i?i:"#";return o.length>0?o.substring(1):o}prepareExternalUrl(r){const i=gT(this._baseHref,r);return i.length>0?"#"+i:i}pushState(r,i,o,s){let a=this.prepareExternalUrl(o+zf(s));0==a.length&&(a=this._platformLocation.pathname),this._platformLocation.pushState(r,i,a)}replaceState(r,i,o,s){let a=this.prepareExternalUrl(o+zf(s));0==a.length&&(a=this._platformLocation.pathname),this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){var i,o;null===(i=(o=this._platformLocation).historyGo)||void 0===i||i.call(o,r)}}return(t=e).\u0275fac=function(r){return new(r||t)(Pn(pT),Pn(b3,8))},t.\u0275prov=Dn({token:t,factory:t.\u0275fac}),e})(),gh=(()=>{var t;class e{constructor(r){this._subject=new X,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=r;const i=this._locationStrategy.getBaseHref();this._basePath=function hZ(t){if(new RegExp("^(https?:)?//").test(t)){const[,n]=t.split(/\/\/[^\/]+/);return n}return t}(C3(S3(i))),this._locationStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){var r;null===(r=this._urlChangeSubscription)||void 0===r||r.unsubscribe(),this._urlChangeListeners=[]}path(r=!1){return this.normalize(this._locationStrategy.path(r))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(r,i=""){return this.path()==this.normalize(r+zf(i))}normalize(r){return e.stripTrailingSlash(function AZ(t,e){if(!t||!e.startsWith(t))return e;const n=e.substring(t.length);return""===n||["/",";","?","#"].includes(n[0])?n:e}(this._basePath,S3(r)))}prepareExternalUrl(r){return r&&"/"!==r[0]&&(r="/"+r),this._locationStrategy.prepareExternalUrl(r)}go(r,i="",o=null){this._locationStrategy.pushState(o,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+zf(i)),o)}replaceState(r,i="",o=null){this._locationStrategy.replaceState(o,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+zf(i)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(r=0){var i,o;null===(i=(o=this._locationStrategy).historyGo)||void 0===i||i.call(o,r)}onUrlChange(r){var i;return this._urlChangeListeners.push(r),null!==(i=this._urlChangeSubscription)&&void 0!==i||(this._urlChangeSubscription=this.subscribe(o=>{this._notifyUrlChangeListeners(o.url,o.state)})),()=>{const o=this._urlChangeListeners.indexOf(r);var s;this._urlChangeListeners.splice(o,1),0===this._urlChangeListeners.length&&(null===(s=this._urlChangeSubscription)||void 0===s||s.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(r="",i){this._urlChangeListeners.forEach(o=>o(r,i))}subscribe(r,i,o){return this._subject.subscribe({next:r,error:i,complete:o})}}return(t=e).normalizeQueryParams=zf,t.joinWithSlash=gT,t.stripTrailingSlash=C3,t.\u0275fac=function(r){return new(r||t)(Pn(ef))},t.\u0275prov=Dn({token:t,factory:()=>function dZ(){return new gh(Pn(ef))}(),providedIn:"root"}),e})();function S3(t){return t.replace(/\/index.html$/,"")}var eb=function(t){return t[t.Decimal=0]="Decimal",t[t.Percent=1]="Percent",t[t.Currency=2]="Currency",t[t.Scientific=3]="Scientific",t}(eb||{});const xl={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function UA(t,e){const n=jc(t),r=n[Zs.NumberSymbols][e];if(typeof r>"u"){if(e===xl.CurrencyDecimal)return n[Zs.NumberSymbols][xl.Decimal];if(e===xl.CurrencyGroup)return n[Zs.NumberSymbols][xl.Group]}return r}const VZ=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function IT(t){const e=parseInt(t);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+t);return e}class eee{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Wc=(()=>{var t;class e{set ngForOf(r){this._ngForOf=r,this._ngForOfDirty=!0}set ngForTrackBy(r){this._trackByFn=r}get ngForTrackBy(){return this._trackByFn}constructor(r,i,o){this._viewContainer=r,this._template=i,this._differs=o,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(r){r&&(this._template=r)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const r=this._ngForOf;!this._differ&&r&&(this._differ=this._differs.find(r).create(this.ngForTrackBy))}if(this._differ){const r=this._differ.diff(this._ngForOf);r&&this._applyChanges(r)}}_applyChanges(r){const i=this._viewContainer;r.forEachOperation((o,s,a)=>{if(null==o.previousIndex)i.createEmbeddedView(this._template,new eee(o.item,this._ngForOf,-1,-1),null===a?void 0:a);else if(null==a)i.remove(null===s?void 0:s);else if(null!==s){const l=i.get(s);i.move(l,a),L3(l,o)}});for(let o=0,s=i.length;o<s;o++){const l=i.get(o).context;l.index=o,l.count=s,l.ngForOf=this._ngForOf}r.forEachIdentityChange(o=>{L3(i.get(o.currentIndex),o)})}static ngTemplateContextGuard(r,i){return!0}}return(t=e).\u0275fac=function(r){return new(r||t)(Y(MA),Y(hh),Y(dT))},t.\u0275dir=xt({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),e})();function L3(t,e){t.context.$implicit=e.item}let vh=(()=>{var t;class e{constructor(r,i){this._viewContainer=r,this._context=new tee,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(r){this._context.$implicit=this._context.ngIf=r,this._updateView()}set ngIfThen(r){O3("ngIfThen",r),this._thenTemplateRef=r,this._thenViewRef=null,this._updateView()}set ngIfElse(r){O3("ngIfElse",r),this._elseTemplateRef=r,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(r,i){return!0}}return(t=e).\u0275fac=function(r){return new(r||t)(Y(MA),Y(hh))},t.\u0275dir=xt({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),e})();class tee{constructor(){this.$implicit=null,this.ngIf=null}}function O3(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${$r(e)}'.`)}function yh(t,e){return new sn(2100,!1)}class aee{createSubscription(e,n){return _3(()=>e.subscribe({next:n,error:r=>{throw r}}))}dispose(e){_3(()=>e.unsubscribe())}}class lee{createSubscription(e,n){return e.then(n,r=>{throw r})}dispose(e){}}const uee=new lee,cee=new aee;let Wp=(()=>{var t;class e{constructor(r){this._latestValue=null,this.markForCheckOnValueUpdate=!0,this._subscription=null,this._obj=null,this._strategy=null,this._ref=r}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(r){if(!this._obj){if(r)try{this.markForCheckOnValueUpdate=!1,this._subscribe(r)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return r!==this._obj?(this._dispose(),this.transform(r)):this._latestValue}_subscribe(r){this._obj=r,this._strategy=this._selectStrategy(r),this._subscription=this._strategy.createSubscription(r,i=>this._updateLatestValue(r,i))}_selectStrategy(r){if(__(r))return uee;if(DM(r))return cee;throw yh()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(r,i){var o;r===this._obj&&(this._latestValue=i,this.markForCheckOnValueUpdate)&&(null===(o=this._ref)||void 0===o||o.markForCheck())}}return(t=e).\u0275fac=function(r){return new(r||t)(Y(er,16))},t.\u0275pipe=Lt({name:"async",type:t,pure:!1,standalone:!0}),e})(),cb=(()=>{var t;class e{constructor(r){this._locale=r}transform(r,i,o){if(!function xT(t){return!(null==t||""===t||t!=t)}(r))return null;o||(o=this._locale);try{return function GZ(t,e,n){return function CT(t,e,n,r,i,o,s=!1){let a="",l=!1;if(isFinite(t)){let u=function KZ(t){let r,i,o,s,a,e=Math.abs(t)+"",n=0;for((i=e.indexOf("."))>-1&&(e=e.replace(".","")),(o=e.search(/e/i))>0?(i<0&&(i=o),i+=+e.slice(o+1),e=e.substring(0,o)):i<0&&(i=e.length),o=0;"0"===e.charAt(o);o++);if(o===(a=e.length))r=[0],i=1;else{for(a--;"0"===e.charAt(a);)a--;for(i-=o,r=[],s=0;o<=a;o++,s++)r[s]=Number(e.charAt(o))}return i>22&&(r=r.splice(0,21),n=i-1,i=1),{digits:r,exponent:n,integerLen:i}}(t);s&&(u=function WZ(t){if(0===t.digits[0])return t;const e=t.digits.length-t.integerLen;return t.exponent?t.exponent+=2:(0===e?t.digits.push(0,0):1===e&&t.digits.push(0),t.integerLen+=2),t}(u));let p=e.minInt,I=e.minFrac,k=e.maxFrac;if(o){const tt=o.match(VZ);if(null===tt)throw new Error(`${o} is not a valid digit info`);const Bt=tt[1],Ut=tt[3],Fn=tt[5];null!=Bt&&(p=IT(Bt)),null!=Ut&&(I=IT(Ut)),null!=Fn?k=IT(Fn):null!=Ut&&I>k&&(k=I)}!function qZ(t,e,n){if(e>n)throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${n}).`);let r=t.digits,i=r.length-t.integerLen;const o=Math.min(Math.max(e,i),n);let s=o+t.integerLen,a=r[s];if(s>0){r.splice(Math.max(t.integerLen,s));for(let I=s;I<r.length;I++)r[I]=0}else{i=Math.max(0,i),t.integerLen=1,r.length=Math.max(1,s=o+1),r[0]=0;for(let I=1;I<s;I++)r[I]=0}if(a>=5)if(s-1<0){for(let I=0;I>s;I--)r.unshift(0),t.integerLen++;r.unshift(1),t.integerLen++}else r[s-1]++;for(;i<Math.max(0,o);i++)r.push(0);let l=0!==o;const u=e+t.integerLen,p=r.reduceRight(function(I,k,O,q){return q[O]=(k+=I)<10?k:k-10,l&&(0===q[O]&&O>=u?q.pop():l=!1),k>=10?1:0},0);p&&(r.unshift(p),t.integerLen++)}(u,I,k);let O=u.digits,q=u.integerLen;const ge=u.exponent;let Be=[];for(l=O.every(tt=>!tt);q<p;q++)O.unshift(0);for(;q<0;q++)O.unshift(0);q>0?Be=O.splice(q,O.length):(Be=O,O=[0]);const Ye=[];for(O.length>=e.lgSize&&Ye.unshift(O.splice(-e.lgSize,O.length).join(""));O.length>e.gSize;)Ye.unshift(O.splice(-e.gSize,O.length).join(""));O.length&&Ye.unshift(O.join("")),a=Ye.join(UA(n,r)),Be.length&&(a+=UA(n,i)+Be.join("")),ge&&(a+=UA(n,xl.Exponential)+"+"+ge)}else a=UA(n,xl.Infinity);return a=t<0&&!l?e.negPre+a+e.negSuf:e.posPre+a+e.posSuf,a}(t,function bT(t,e="-"){const n={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=t.split(";"),i=r[0],o=r[1],s=-1!==i.indexOf(".")?i.split("."):[i.substring(0,i.lastIndexOf("0")+1),i.substring(i.lastIndexOf("0")+1)],a=s[0],l=s[1]||"";n.posPre=a.substring(0,a.indexOf("#"));for(let p=0;p<l.length;p++){const I=l.charAt(p);"0"===I?n.minFrac=n.maxFrac=p+1:"#"===I?n.maxFrac=p+1:n.posSuf+=I}const u=a.split(",");if(n.gSize=u[1]?u[1].length:0,n.lgSize=u[2]||u[1]?(u[2]||u[1]).length:0,o){const p=i.length-n.posPre.length-n.posSuf.length,I=o.indexOf("#");n.negPre=o.substring(0,I).replace(/'/g,""),n.negSuf=o.slice(I+p).replace(/'/g,"")}else n.negPre=e+n.posPre,n.negSuf=n.posSuf;return n}(function mT(t,e){return jc(t)[Zs.NumberFormats][e]}(e,eb.Decimal),UA(e,xl.MinusSign)),e,xl.Group,xl.Decimal,n)}(function FT(t){if("string"==typeof t&&!isNaN(Number(t)-parseFloat(t)))return Number(t);if("number"!=typeof t)throw new Error(`${t} is not a number`);return t}(r),o,i)}catch(s){throw yh()}}}return(t=e).\u0275fac=function(r){return new(r||t)(Y(jf,16))},t.\u0275pipe=Lt({name:"number",type:t,pure:!0,standalone:!0}),e})();let kT=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=Mt({type:t}),t.\u0275inj=fo({}),e})();const Q3="browser";function db(t){return"server"===t}let Fee=(()=>{var t;class e{}return(t=e).\u0275prov=Dn({token:t,providedIn:"root",factory:()=>function xee(t){return t===Q3}(An(Fe))?new kee(An(bd),window):new Pee}),e})();class kee{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){const n=function Ree(t,e){const n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if("function"==typeof t.createTreeWalker&&t.body&&"function"==typeof t.body.attachShadow){const r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const o=i.shadowRoot;if(o){const s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}i=r.nextNode()}}return null}(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){const n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}}class Pee{setOffset(e){}getScrollPosition(){return[0,0]}scrollToPosition(e){}scrollToAnchor(e){}setHistoryScrollRestoration(e){}}class ute extends lZ{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class PT extends ute{static makeCurrent(){!function aZ(t){var e;null!==(e=fT)&&void 0!==e||(fT=t)}(new PT)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return(n=n||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return"window"===n?window:"document"===n?e:"body"===n?e.body:null}getBaseHref(e){const n=function cte(){return B_=B_||document.querySelector("base"),B_?B_.getAttribute("href"):null}();return null==n?null:function dte(t){return new URL(t,document.baseURI).pathname}(n)}resetBaseElement(){B_=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function XZ(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const r=n.indexOf("="),[i,o]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}(document.cookie,e)}}let B_=null,hte=(()=>{var t;class e{build(){return new XMLHttpRequest}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Dn({token:t,factory:t.\u0275fac}),e})();const NT=new $n("");let Y3=(()=>{var t;class e{constructor(r,i){this._zone=i,this._eventNameToPlugin=new Map,r.forEach(o=>{o.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,i,o){return this._findPluginFor(i).addEventListener(r,i,o)}getZone(){return this._zone}_findPluginFor(r){let i=this._eventNameToPlugin.get(r);if(i)return i;if(i=this._plugins.find(s=>s.supports(r)),!i)throw new sn(5101,!1);return this._eventNameToPlugin.set(r,i),i}}return(t=e).\u0275fac=function(r){return new(r||t)(Pn(NT),Pn(Tn))},t.\u0275prov=Dn({token:t,factory:t.\u0275fac}),e})();class X3{constructor(e){this._doc=e}}const MT="ng-app-id";let J3=(()=>{var t;class e{constructor(r,i,o,s={}){this.doc=r,this.appId=i,this.nonce=o,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=db(s),this.resetHostNodes()}addStyles(r){for(const i of r)1===this.changeUsageCount(i,1)&&this.onStyleAdded(i)}removeStyles(r){for(const i of r)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){const r=this.styleNodesInDOM;r&&(r.forEach(i=>i.remove()),r.clear());for(const i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(r){this.hostNodes.add(r);for(const i of this.getAllStyles())this.addStyleToHost(r,i)}removeHost(r){this.hostNodes.delete(r)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(r){for(const i of this.hostNodes)this.addStyleToHost(i,r)}onStyleRemoved(r){var i;const o=this.styleRef;null===(i=o.get(r))||void 0===i||null===(i=i.elements)||void 0===i||i.forEach(s=>s.remove()),o.delete(r)}collectServerRenderedStyles(){var r;const i=null===(r=this.doc.head)||void 0===r?void 0:r.querySelectorAll(`style[${MT}="${this.appId}"]`);if(null!=i&&i.length){const o=new Map;return i.forEach(s=>{null!=s.textContent&&o.set(s.textContent,s)}),o}return null}changeUsageCount(r,i){const o=this.styleRef;if(o.has(r)){const s=o.get(r);return s.usage+=i,s.usage}return o.set(r,{usage:i,elements:[]}),i}getStyleElement(r,i){const o=this.styleNodesInDOM,s=null==o?void 0:o.get(i);if((null==s?void 0:s.parentNode)===r)return o.delete(i),s.removeAttribute(MT),s;{const a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=i,this.platformIsServer&&a.setAttribute(MT,this.appId),r.appendChild(a),a}}addStyleToHost(r,i){var o;const s=this.getStyleElement(r,i),a=this.styleRef,l=null===(o=a.get(i))||void 0===o?void 0:o.elements;l?l.push(s):a.set(i,{elements:[s],usage:1})}resetHostNodes(){const r=this.hostNodes;r.clear(),r.add(this.doc.head)}}return(t=e).\u0275fac=function(r){return new(r||t)(Pn(bd),Pn(z),Pn(nn,8),Pn(Fe))},t.\u0275prov=Dn({token:t,factory:t.\u0275fac}),e})();const LT={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},OT=/%COMP%/g,mte=new $n("",{providedIn:"root",factory:()=>!0});function eL(t,e){return e.map(n=>n.replace(OT,t))}let tL=(()=>{var t;class e{constructor(r,i,o,s,a,l,u,p=null){this.eventManager=r,this.sharedStylesHost=i,this.appId=o,this.removeStylesOnCompDestroy=s,this.doc=a,this.platformId=l,this.ngZone=u,this.nonce=p,this.rendererByCompId=new Map,this.platformIsServer=db(l),this.defaultRenderer=new UT(r,a,u,this.platformIsServer)}createRenderer(r,i){if(!r||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===su.ShadowDom&&(i={...i,encapsulation:su.Emulated});const o=this.getOrCreateRenderer(r,i);return o instanceof rL?o.applyToHost(r):o instanceof VT&&o.applyStyles(),o}getOrCreateRenderer(r,i){const o=this.rendererByCompId;let s=o.get(i.id);if(!s){const a=this.doc,l=this.ngZone,u=this.eventManager,p=this.sharedStylesHost,I=this.removeStylesOnCompDestroy,k=this.platformIsServer;switch(i.encapsulation){case su.Emulated:s=new rL(u,p,i,this.appId,I,a,l,k);break;case su.ShadowDom:return new wte(u,p,r,i,a,l,this.nonce,k);default:s=new VT(u,p,i,I,a,l,k)}o.set(i.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}}return(t=e).\u0275fac=function(r){return new(r||t)(Pn(Y3),Pn(J3),Pn(z),Pn(mte),Pn(bd),Pn(Fe),Pn(Tn),Pn(nn))},t.\u0275prov=Dn({token:t,factory:t.\u0275fac}),e})();class UT{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(LT[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(nL(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(nL(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r="string"==typeof e?this.doc.querySelector(e):e;if(!r)throw new sn(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;const o=LT[i];o?e.setAttributeNS(o,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){const i=LT[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(Lp.DashCase|Lp.Important)?e.style.setProperty(n,r,i&Lp.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&Lp.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){null!=e&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if("string"==typeof e&&!(e=Gp().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if("__ngUnwrap__"===n)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))&&n.preventDefault()}}}function nL(t){return"TEMPLATE"===t.tagName&&void 0!==t.content}class wte extends UT{constructor(e,n,r,i,o,s,a,l){super(e,o,s,l),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const u=eL(i.id,i.styles);for(const p of u){const I=document.createElement("style");a&&I.setAttribute("nonce",a),I.textContent=p,this.shadowRoot.appendChild(I)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class VT extends UT{constructor(e,n,r,i,o,s,a,l){super(e,o,s,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=l?eL(l,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class rL extends VT{constructor(e,n,r,i,o,s,a,l){const u=i+"-"+r.id;super(e,n,r,o,s,a,l,u),this.contentAttr=function vte(t){return"_ngcontent-%COMP%".replace(OT,t)}(u),this.hostAttr=function yte(t){return"_nghost-%COMP%".replace(OT,t)}(u)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){const r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}}let Cte=(()=>{var t;class e extends X3{constructor(r){super(r)}supports(r){return!0}addEventListener(r,i,o){return r.addEventListener(i,o,!1),()=>this.removeEventListener(r,i,o)}removeEventListener(r,i,o){return r.removeEventListener(i,o)}}return(t=e).\u0275fac=function(r){return new(r||t)(Pn(bd))},t.\u0275prov=Dn({token:t,factory:t.\u0275fac}),e})();const iL=["alt","control","meta","shift"],bte={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Ite={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let Ete=(()=>{var t;class e extends X3{constructor(r){super(r)}supports(r){return null!=e.parseEventName(r)}addEventListener(r,i,o){const s=e.parseEventName(i),a=e.eventCallback(s.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Gp().onAndCancel(r,s.domEventName,a))}static parseEventName(r){const i=r.toLowerCase().split("."),o=i.shift();if(0===i.length||"keydown"!==o&&"keyup"!==o)return null;const s=e._normalizeKey(i.pop());let a="",l=i.indexOf("code");if(l>-1&&(i.splice(l,1),a="code."),iL.forEach(p=>{const I=i.indexOf(p);I>-1&&(i.splice(I,1),a+=p+".")}),a+=s,0!=i.length||0===s.length)return null;const u={};return u.domEventName=o,u.fullKey=a,u}static matchEventFullKeyCode(r,i){let o=bte[r.key]||r.key,s="";return i.indexOf("code.")>-1&&(o=r.code,s="code."),!(null==o||!o)&&(o=o.toLowerCase()," "===o?o="space":"."===o&&(o="dot"),iL.forEach(a=>{a!==o&&(0,Ite[a])(r)&&(s+=a+".")}),s+=o,s===i)}static eventCallback(r,i,o){return s=>{e.matchEventFullKeyCode(s,r)&&o.runGuarded(()=>i(s))}}static _normalizeKey(r){return"esc"===r?"escape":r}}return(t=e).\u0275fac=function(r){return new(r||t)(Pn(bd))},t.\u0275prov=Dn({token:t,factory:t.\u0275fac}),e})();const sL=[{provide:Fe,useValue:Q3},{provide:Ce,useValue:function Ste(){PT.makeCurrent()},multi:!0},{provide:bd,useFactory:function Bte(){return function U(t){x=t}(document),document},deps:[]}],Dte=UM(IJ,"browser",sL),xte=new $n(""),aL=[{provide:jC,useClass:class Ate{addToWindow(e){ur.getAngularTestability=(r,i=!0)=>{const o=e.findTestabilityInTree(r,i);if(null==o)throw new sn(5103,!1);return o},ur.getAllAngularTestabilities=()=>e.getAllTestabilities(),ur.getAllAngularRootElements=()=>e.getAllRootElements(),ur.frameworkStabilizers||(ur.frameworkStabilizers=[]),ur.frameworkStabilizers.push(r=>{const i=ur.getAllAngularTestabilities();let o=i.length;const s=function(){o--,0==o&&r()};i.forEach(a=>{a.whenStable(s)})})}findTestabilityInTree(e,n,r){if(null==n)return null;const i=e.getTestability(n);return null!=i?i:r?Gp().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null}},deps:[]},{provide:BM,useClass:ZS,deps:[Tn,eT,jC]},{provide:ZS,useClass:ZS,deps:[Tn,eT,jC]}],lL=[{provide:Wn,useValue:"root"},{provide:Ou,useFactory:function Tte(){return new Ou},deps:[]},{provide:NT,useClass:Cte,multi:!0,deps:[bd,Tn,Fe]},{provide:NT,useClass:Ete,multi:!0,deps:[bd]},tL,J3,Y3,{provide:eP,useExisting:tL},{provide:class Nee{},useClass:hte,deps:[]},[]];let Fte=(()=>{var t;class e{constructor(r){}static withServerTransition(r){return{ngModule:e,providers:[{provide:z,useValue:r.appId}]}}}return(t=e).\u0275fac=function(r){return new(r||t)(Pn(xte,12))},t.\u0275mod=Mt({type:t}),t.\u0275inj=fo({providers:[...lL,...aL],imports:[kT,EJ]}),e})(),kte=(()=>{var t;class e{constructor(r){this._doc=r}getTitle(){return this._doc.title}setTitle(r){this._doc.title=r||""}}return(t=e).\u0275fac=function(r){return new(r||t)(Pn(bd))},t.\u0275prov=Dn({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();var rr=_t(1635);const QT=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function AL(t){return or(null==t?void 0:t.then)}function hL(t){return or(t[_s])}function fL(t){return Symbol.asyncIterator&&or(null==t?void 0:t[Symbol.asyncIterator])}function pL(t){return new TypeError(`You provided ${null!==t&&"object"==typeof t?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const gL=function Mte(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function mL(t){return or(null==t?void 0:t[gL])}function vL(t){return(0,rr.AQ)(this,arguments,function*(){const n=t.getReader();try{for(;;){const{value:r,done:i}=yield(0,rr.N3)(n.read());if(i)return yield(0,rr.N3)(void 0);yield yield(0,rr.N3)(r)}}finally{n.releaseLock()}})}function yL(t){return or(null==t?void 0:t.getReader)}function Id(t){if(t instanceof Zi)return t;if(null!=t){if(hL(t))return function Lte(t){return new Zi(e=>{const n=t[_s]();if(or(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(t);if(QT(t))return function Ote(t){return new Zi(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}(t);if(AL(t))return function Ute(t){return new Zi(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,Li)})}(t);if(fL(t))return _L(t);if(mL(t))return function Vte(t){return new Zi(e=>{for(const n of t)if(e.next(n),e.closed)return;e.complete()})}(t);if(yL(t))return function Qte(t){return _L(vL(t))}(t)}throw pL(t)}function _L(t){return new Zi(e=>{(function Hte(t,e){var n,r,i,o;return(0,rr.sH)(this,void 0,void 0,function*(){try{for(n=(0,rr.xN)(t);!(r=yield n.next()).done;)if(e.next(r.value),e.closed)return}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}e.complete()})})(t,e).catch(n=>e.error(n))})}function Wf(t,e,n,r=0,i=!1){const o=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}function nm(t,e=0){return Yt((n,r)=>{n.subscribe(Nn(r,i=>Wf(r,t,()=>r.next(i),e),()=>Wf(r,t,()=>r.complete(),e),i=>Wf(r,t,()=>r.error(i),e)))})}function qv(t,e=0){return Yt((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function wL(t,e){if(!t)throw new Error("Iterable cannot be null");return new Zi(n=>{Wf(n,e,()=>{const r=t[Symbol.asyncIterator]();Wf(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function ha(t,e){return e?function Kte(t,e){if(null!=t){if(hL(t))return function jte(t,e){return Id(t).pipe(qv(e),nm(e))}(t,e);if(QT(t))return function $te(t,e){return new Zi(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}(t,e);if(AL(t))return function zte(t,e){return Id(t).pipe(qv(e),nm(e))}(t,e);if(fL(t))return wL(t,e);if(mL(t))return function Gte(t,e){return new Zi(n=>{let r;return Wf(n,e,()=>{r=t[gL](),Wf(n,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){return void n.error(s)}o?n.complete():n.next(i)},0,!0)}),()=>or(null==r?void 0:r.return)&&r.return()})}(t,e);if(yL(t))return function Wte(t,e){return wL(vL(t),e)}(t,e)}throw pL(t)}(t,e):Id(t)}const{isArray:qte}=Array,{getPrototypeOf:Yte,prototype:Xte,keys:Jte}=Object;function CL(t){if(1===t.length){const e=t[0];if(qte(e))return{args:e,keys:null};if(function Zte(t){return t&&"object"==typeof t&&Yte(t)===Xte}(e)){const n=Jte(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function HT(t){return t[t.length-1]}function bL(t){return or(HT(t))?t.pop():void 0}function x_(t){return function ene(t){return t&&or(t.schedule)}(HT(t))?t.pop():void 0}const{isArray:nne}=Array;function jT(t){return zn(e=>function rne(t,e){return nne(e)?t(...e):t(e)}(t,e))}function IL(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}let EL=(()=>{var t;class e{constructor(r,i){this._renderer=r,this._elementRef=i,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(r,i){this._renderer.setProperty(this._elementRef.nativeElement,r,i)}registerOnTouched(r){this.onTouched=r}registerOnChange(r){this.onChange=r}setDisabledState(r){this.setProperty("disabled",r)}}return(t=e).\u0275fac=function(r){return new(r||t)(Y(Qf),Y(f))},t.\u0275dir=xt({type:t}),e})(),rm=(()=>{var t;class e extends EL{}return(t=e).\u0275fac=(()=>{let n;return function(i){return(n||(n=os(t)))(i||t)}})(),t.\u0275dir=xt({type:t,features:[Xi]}),e})();const Kc=new $n(""),one={provide:Kc,useExisting:Wi(()=>zT),multi:!0};let zT=(()=>{var t;class e extends rm{writeValue(r){this.setProperty("checked",r)}}return(t=e).\u0275fac=(()=>{let n;return function(i){return(n||(n=os(t)))(i||t)}})(),t.\u0275dir=xt({type:t,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(r,i){1&r&&fn("change",function(s){return i.onChange(s.target.checked)})("blur",function(){return i.onTouched()})},features:[ps([one]),Xi]}),e})();const sne={provide:Kc,useExisting:Wi(()=>im),multi:!0},lne=new $n("");let im=(()=>{var t;class e extends EL{constructor(r,i,o){super(r,i),this._compositionMode=o,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function ane(){const t=Gp()?Gp().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(r){this.setProperty("value",null==r?"":r)}_handleInput(r){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(r)}_compositionStart(){this._composing=!0}_compositionEnd(r){this._composing=!1,this._compositionMode&&this.onChange(r)}}return(t=e).\u0275fac=function(r){return new(r||t)(Y(Qf),Y(f),Y(lne,8))},t.\u0275dir=xt({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){1&r&&fn("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},features:[ps([sne]),Xi]}),e})();function Kp(t){return null==t||("string"==typeof t||Array.isArray(t))&&0===t.length}const yu=new $n(""),qp=new $n("");function fb(t){return null}function NL(t){return null!=t}function ML(t){return __(t)?ha(t):t}function LL(t){let e={};return t.forEach(n=>{e=null!=n?{...e,...n}:e}),0===Object.keys(e).length?null:e}function OL(t,e){return e.map(n=>n(t))}function UL(t){return t.map(e=>function cne(t){return!t.validate}(e)?e:n=>e.validate(n))}function $T(t){return null!=t?function VL(t){if(!t)return null;const e=t.filter(NL);return 0==e.length?null:function(n){return LL(OL(n,e))}}(UL(t)):null}function GT(t){return null!=t?function QL(t){if(!t)return null;const e=t.filter(NL);return 0==e.length?null:function(n){return function ine(...t){const e=bL(t),{args:n,keys:r}=CL(t),i=new Zi(o=>{const{length:s}=n;if(!s)return void o.complete();const a=new Array(s);let l=s,u=s;for(let p=0;p<s;p++){let I=!1;Id(n[p]).subscribe(Nn(o,k=>{I||(I=!0,u--),a[p]=k},()=>l--,void 0,()=>{(!l||!I)&&(u||o.next(r?IL(r,a):a),o.complete())}))}});return e?i.pipe(jT(e)):i}(OL(n,e).map(ML)).pipe(zn(LL))}}(UL(t)):null}function HL(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}function WT(t){return t?Array.isArray(t)?t:[t]:[]}function pb(t,e){return Array.isArray(t)?t.includes(e):t===e}function $L(t,e){const n=WT(e);return WT(t).forEach(i=>{pb(n,i)||n.push(i)}),n}function GL(t,e){return WT(e).filter(n=>!pb(t,n))}class WL{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=$T(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=GT(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return!!this.control&&this.control.hasError(e,n)}getError(e,n){return this.control?this.control.getError(e,n):null}}class qc extends WL{get formDirective(){return null}get path(){return null}}class Kf extends WL{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class KL{constructor(e){this._cd=e}get isTouched(){var e;return!(null===(e=this._cd)||void 0===e||null===(e=e.control)||void 0===e||!e.touched)}get isUntouched(){var e;return!(null===(e=this._cd)||void 0===e||null===(e=e.control)||void 0===e||!e.untouched)}get isPristine(){var e;return!(null===(e=this._cd)||void 0===e||null===(e=e.control)||void 0===e||!e.pristine)}get isDirty(){var e;return!(null===(e=this._cd)||void 0===e||null===(e=e.control)||void 0===e||!e.dirty)}get isValid(){var e;return!(null===(e=this._cd)||void 0===e||null===(e=e.control)||void 0===e||!e.valid)}get isInvalid(){var e;return!(null===(e=this._cd)||void 0===e||null===(e=e.control)||void 0===e||!e.invalid)}get isPending(){var e;return!(null===(e=this._cd)||void 0===e||null===(e=e.control)||void 0===e||!e.pending)}get isSubmitted(){var e;return!(null===(e=this._cd)||void 0===e||!e.submitted)}}let Yv=(()=>{var t;class e extends KL{constructor(r){super(r)}}return(t=e).\u0275fac=function(r){return new(r||t)(Y(Kf,2))},t.\u0275dir=xt({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){2&r&&FC("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[Xi]}),e})();const F_="VALID",mb="INVALID",Xv="PENDING",k_="DISABLED";function vb(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class JT{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===F_}get invalid(){return this.status===mb}get pending(){return this.status==Xv}get disabled(){return this.status===k_}get enabled(){return this.status!==k_}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators($L(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators($L(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(GL(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(GL(e,this._rawAsyncValidators))}hasValidator(e){return pb(this._rawValidators,e)}hasAsyncValidator(e){return pb(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Xv,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=k_,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=F_,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===F_||this.status===Xv)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?k_:F_}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Xv,this._hasOwnPendingAsyncValidator=!0;const n=ML(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(!1!==n.emitEvent)}get(e){let n=e;return null==n||(Array.isArray(n)||(n=n.split(".")),0===n.length)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){const r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new X,this.statusChanges=new X}_calculateStatus(){return this._allControlsDisabled()?k_:this.errors?mb:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Xv)?Xv:this._anyControlsHaveStatus(mb)?mb:F_}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){vb(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function pne(t){return Array.isArray(t)?$T(t):t||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function gne(t){return Array.isArray(t)?GT(t):t||null}(this._rawAsyncValidators)}}const Jv=new $n("CallSetDisabledState",{providedIn:"root",factory:()=>yb}),yb="always";function R_(t,e,n=yb){var r,i;(function eB(t,e){const n=function jL(t){return t._rawValidators}(t);null!==e.validator?t.setValidators(HL(n,e.validator)):"function"==typeof n&&t.setValidators([n]);const r=function zL(t){return t._rawAsyncValidators}(t);null!==e.asyncValidator?t.setAsyncValidators(HL(r,e.asyncValidator)):"function"==typeof r&&t.setAsyncValidators([r]);const i=()=>t.updateValueAndValidity();Cb(e._rawValidators,i),Cb(e._rawAsyncValidators,i)})(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||"always"===n)&&(null===(r=(i=e.valueAccessor).setDisabledState)||void 0===r||r.call(i,t.disabled)),function yne(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&JL(t,e)})}(t,e),function wne(t,e){const n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}(t,e),function _ne(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&JL(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function vne(t,e){if(e.valueAccessor.setDisabledState){const n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}(t,e)}function Cb(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function JL(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function tO(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}function nO(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}Promise.resolve();const rO=class extends JT{constructor(e=null,n,r){super(function YT(t){return(vb(t)?t.validators:t)||null}(n),function XT(t,e){return(vb(e)?e.asyncValidators:t)||null}(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),vb(n)&&(n.nonNullable||n.initialValueIsDefault)&&(this.defaultValue=nO(e)?e.value:e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==n.emitViewToModelChange)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){tO(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){tO(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){nO(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},Dne={provide:Kf,useExisting:Wi(()=>om)},sO=Promise.resolve();let om=(()=>{var t;class e extends Kf{constructor(r,i,o,s,a,l){super(),this._changeDetectorRef=a,this.callSetDisabledState=l,this.control=new rO,this._registered=!1,this.name="",this.update=new X,this._parent=r,this._setValidators(i),this._setAsyncValidators(o),this.valueAccessor=function rB(t,e){if(!e)return null;let n,r,i;return Array.isArray(e),e.forEach(o=>{o.constructor===im?n=o:function Ine(t){return Object.getPrototypeOf(t.constructor)===rm}(o)?r=o:i=o}),i||r||n||null}(0,s)}ngOnChanges(r){if(this._checkForErrors(),!this._registered||"name"in r){if(this._registered&&(this._checkName(),this.formDirective)){const i=r.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in r&&this._updateDisabled(r),function nB(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}(r,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(r){this.viewModel=r,this.update.emit(r)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){R_(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(r){sO.then(()=>{var i;this.control.setValue(r,{emitViewToModelChange:!1}),null===(i=this._changeDetectorRef)||void 0===i||i.markForCheck()})}_updateDisabled(r){const i=r.isDisabled.currentValue,o=0!==i&&Wv(i);sO.then(()=>{var s;o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable(),null===(s=this._changeDetectorRef)||void 0===s||s.markForCheck()})}_getPath(r){return this._parent?function _b(t,e){return[...e.path,t]}(r,this._parent):[r]}}return(t=e).\u0275fac=function(r){return new(r||t)(Y(qc,9),Y(yu,10),Y(qp,10),Y(Kc,10),Y(er,8),Y(Jv,8))},t.\u0275dir=xt({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[Fo.None,"disabled","isDisabled"],model:[Fo.None,"ngModel","model"],options:[Fo.None,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[ps([Dne]),Xi,ca]}),e})();const Vne={provide:Kc,useExisting:Wi(()=>lB),multi:!0};function fO(t,e){return null==t?`${e}`:(e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}let lB=(()=>{var t;class e extends rm{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(r){this._compareWith=r}writeValue(r){this.value=r;const o=fO(this._getOptionId(r),r);this.setProperty("value",o)}registerOnChange(r){this.onChange=i=>{this.value=this._getOptionValue(i),r(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(r){for(const i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i),r))return i;return null}_getOptionValue(r){const i=function Qne(t){return t.split(":")[0]}(r);return this._optionMap.has(i)?this._optionMap.get(i):r}}return(t=e).\u0275fac=(()=>{let n;return function(i){return(n||(n=os(t)))(i||t)}})(),t.\u0275dir=xt({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){1&r&&fn("change",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[ps([Vne]),Xi]}),e})(),QA=(()=>{var t;class e{constructor(r,i,o){this._element=r,this._renderer=i,this._select=o,this._select&&(this.id=this._select._registerOption())}set ngValue(r){null!=this._select&&(this._select._optionMap.set(this.id,r),this._setElementValue(fO(this.id,r)),this._select.writeValue(this._select.value))}set value(r){this._setElementValue(r),this._select&&this._select.writeValue(this._select.value)}_setElementValue(r){this._renderer.setProperty(this._element.nativeElement,"value",r)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return(t=e).\u0275fac=function(r){return new(r||t)(Y(f),Y(Qf),Y(lB,9))},t.\u0275dir=xt({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),e})();const Hne={provide:Kc,useExisting:Wi(()=>uB),multi:!0};function pO(t,e){return null==t?`${e}`:("string"==typeof e&&(e=`'${e}'`),e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}let uB=(()=>{var t;class e extends rm{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(r){this._compareWith=r}writeValue(r){let i;if(this.value=r,Array.isArray(r)){const o=r.map(s=>this._getOptionId(s));i=(s,a)=>{s._setSelected(o.indexOf(a.toString())>-1)}}else i=(o,s)=>{o._setSelected(!1)};this._optionMap.forEach(i)}registerOnChange(r){this.onChange=i=>{const o=[],s=i.selectedOptions;if(void 0!==s){const a=s;for(let l=0;l<a.length;l++){const p=this._getOptionValue(a[l].value);o.push(p)}}else{const a=i.options;for(let l=0;l<a.length;l++){const u=a[l];if(u.selected){const p=this._getOptionValue(u.value);o.push(p)}}}this.value=o,r(o)}}_registerOption(r){const i=(this._idCounter++).toString();return this._optionMap.set(i,r),i}_getOptionId(r){for(const i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i)._value,r))return i;return null}_getOptionValue(r){const i=function jne(t){return t.split(":")[0]}(r);return this._optionMap.has(i)?this._optionMap.get(i)._value:r}}return(t=e).\u0275fac=(()=>{let n;return function(i){return(n||(n=os(t)))(i||t)}})(),t.\u0275dir=xt({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){1&r&&fn("change",function(s){return i.onChange(s.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[ps([Hne]),Xi]}),e})(),HA=(()=>{var t;class e{constructor(r,i,o){this._element=r,this._renderer=i,this._select=o,this._select&&(this.id=this._select._registerOption(this))}set ngValue(r){null!=this._select&&(this._value=r,this._setElementValue(pO(this.id,r)),this._select.writeValue(this._select.value))}set value(r){this._select?(this._value=r,this._setElementValue(pO(this.id,r)),this._select.writeValue(this._select.value)):this._setElementValue(r)}_setElementValue(r){this._renderer.setProperty(this._element.nativeElement,"value",r)}_setSelected(r){this._renderer.setProperty(this._element.nativeElement,"selected",r)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return(t=e).\u0275fac=function(r){return new(r||t)(Y(f),Y(Qf),Y(uB,9))},t.\u0275dir=xt({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),e})();function mO(t){return"number"==typeof t?t:parseFloat(t)}let sm=(()=>{var t;class e{constructor(){this._validator=fb}ngOnChanges(r){if(this.inputName in r){const i=this.normalizeInput(r[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):fb,this._onChange&&this._onChange()}}validate(r){return this._validator(r)}registerOnValidatorChange(r){this._onChange=r}enabled(r){return null!=r}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275dir=xt({type:t,features:[ca]}),e})();const zne={provide:yu,useExisting:Wi(()=>cB),multi:!0};let cB=(()=>{var t;class e extends sm{constructor(){super(...arguments),this.inputName="max",this.normalizeInput=r=>mO(r),this.createValidator=r=>function BL(t){return e=>{if(Kp(e.value)||Kp(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}(r)}}return(t=e).\u0275fac=(()=>{let n;return function(i){return(n||(n=os(t)))(i||t)}})(),t.\u0275dir=xt({type:t,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(r,i){2&r&&ul("max",i._enabled?i.max:null)},inputs:{max:"max"},features:[ps([zne]),Xi]}),e})();const $ne={provide:yu,useExisting:Wi(()=>dB),multi:!0};let dB=(()=>{var t;class e extends sm{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=r=>mO(r),this.createValidator=r=>function TL(t){return e=>{if(Kp(e.value)||Kp(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}(r)}}return(t=e).\u0275fac=(()=>{let n;return function(i){return(n||(n=os(t)))(i||t)}})(),t.\u0275dir=xt({type:t,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(r,i){2&r&&ul("min",i._enabled?i.min:null)},inputs:{min:"min"},features:[ps([$ne]),Xi]}),e})(),Jne=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=Mt({type:t}),t.\u0275inj=fo({}),e})(),ere=(()=>{var t;class e{static withConfig(r){var i;return{ngModule:e,providers:[{provide:Jv,useValue:null!==(i=r.callSetDisabledState)&&void 0!==i?i:yb}]}}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=Mt({type:t}),t.\u0275inj=fo({imports:[Jne]}),e})();const bO_firebaseConfig={apiKey:"AIzaSyAipRt_Sm7B4kxudco4oWc6Sbj25BXd5f0",databaseURL:"https://llgrndb-default-rtdb.europe-west1.firebasedatabase.app",authDomain:"llgrndb.firebaseapp.com",projectId:"llgrndb",storageBucket:"llgrndb.appspot.com",messagingSenderId:"62260699036",appId:"1:62260699036:web:669a3d0f1e26ed264bb259",measurementId:"G-JK52G81385"};function wi(...t){return ha(t,x_(t))}function Ib(...t){const e=x_(t),n=bL(t),{args:r,keys:i}=CL(t);if(0===r.length)return ha([],e);const o=new Zi(function nre(t,e,n=Do){return r=>{IO(e,()=>{const{length:i}=t,o=new Array(i);let s=i,a=i;for(let l=0;l<i;l++)IO(e,()=>{const u=ha(t[l],e);let p=!1;u.subscribe(Nn(r,I=>{o[l]=I,p||(p=!0,a--),a||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}(r,e,i?s=>IL(i,s):Do));return n?o.pipe(jT(n)):o}function IO(t,e,n){t?Wf(n,t,e):e()}const Eb=Ei(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function Vu(t,e,n=1/0){return or(e)?Vu((r,i)=>zn((o,s)=>e(r,o,i,s))(Id(t(r,i))),n):("number"==typeof e&&(n=e),Yt((r,i)=>function rre(t,e,n,r,i,o,s,a){const l=[];let u=0,p=0,I=!1;const k=()=>{I&&!l.length&&!u&&e.complete()},O=ge=>u<r?q(ge):l.push(ge),q=ge=>{o&&e.next(ge),u++;let Be=!1;Id(n(ge,p++)).subscribe(Nn(e,Ye=>{null==i||i(Ye),o?O(Ye):e.next(Ye)},()=>{Be=!0},void 0,()=>{if(Be)try{for(u--;l.length&&u<r;){const Ye=l.shift();s?Wf(e,s,()=>q(Ye)):q(Ye)}k()}catch(Ye){e.error(Ye)}}))};return t.subscribe(Nn(e,O,()=>{I=!0,k()})),()=>{null==a||a()}}(r,i,t,n)))}function Zv(t=1/0){return Vu(Do,t)}function hB(...t){return function ire(){return Zv(1)}()(ha(t,x_(t)))}function EO(t){return new Zi(e=>{Id(t()).subscribe(e)})}function Sb(t,e){const n=or(t)?t:()=>t,r=i=>i.error(n());return new Zi(e?i=>e.schedule(r,0,i):r)}const _h=new Zi(t=>t.complete());function fB(){return Yt((t,e)=>{let n=null;t._refCount++;const r=Nn(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount)return void(n=null);const i=t._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}class SO extends Zi{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,wt(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,null==e||e.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Qt;const n=this.getSubject();e.add(this.source.subscribe(Nn(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Qt.EMPTY)}return e}refCount(){return fB()(this)}}function cl(t,e){return Yt((n,r)=>{let i=null,o=0,s=!1;const a=()=>s&&!i&&r.complete();n.subscribe(Nn(r,l=>{null==i||i.unsubscribe();let u=0;const p=o++;Id(t(l,p)).subscribe(i=Nn(r,I=>r.next(e?e(l,I,p,u++):I),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function am(t){return t<=0?()=>_h:Yt((e,n)=>{let r=0;e.subscribe(Nn(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function Tb(...t){const e=x_(t);return Yt((n,r)=>{(e?hB(t,n,e):hB(t,n)).subscribe(r)})}function aA(t,e){return Yt((n,r)=>{let i=0;n.subscribe(Nn(r,o=>t.call(e,o,i++)&&r.next(o)))})}function Bb(t){return Yt((e,n)=>{let r=!1;e.subscribe(Nn(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function TO(t=sre){return Yt((e,n)=>{let r=!1;e.subscribe(Nn(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function sre(){return new Eb}function Yp(t,e){const n=arguments.length>=2;return r=>r.pipe(t?aA((i,o)=>t(i,o,r)):Do,am(1),n?Bb(e):TO(()=>new Eb))}function N_(t,e){return or(e)?Vu(t,e,1):Vu(t,1)}function gc(t,e,n){const r=or(t)||e||n?{next:t,error:e,complete:n}:t;return r?Yt((i,o)=>{var s;null===(s=r.subscribe)||void 0===s||s.call(r);let a=!0;i.subscribe(Nn(o,l=>{var u;null===(u=r.next)||void 0===u||u.call(r,l),o.next(l)},()=>{var l;a=!1,null===(l=r.complete)||void 0===l||l.call(r),o.complete()},l=>{var u;a=!1,null===(u=r.error)||void 0===u||u.call(r,l),o.error(l)},()=>{var l,u;a&&(null===(l=r.unsubscribe)||void 0===l||l.call(r)),null===(u=r.finalize)||void 0===u||u.call(r)}))}):Do}function lm(t){return Yt((e,n)=>{let o,r=null,i=!1;r=e.subscribe(Nn(n,void 0,void 0,s=>{o=Id(t(s,lm(t)(e))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function Db(t,e){return Yt(function are(t,e,n,r,i){return(o,s)=>{let a=n,l=e,u=0;o.subscribe(Nn(s,p=>{const I=u++;l=a?t(l,p,I):(a=!0,p),r&&s.next(l)},i&&(()=>{a&&s.next(l),s.complete()})))}}(t,e,arguments.length>=2,!0))}function pB(t){return t<=0?()=>_h:Yt((e,n)=>{let r=[];e.subscribe(Nn(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(const i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function gB(t){return Yt((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}const ro="primary",M_=Symbol("RouteTitle");class dre{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function e0(t){return new dre(t)}function Are(t,e,n){const r=n.path.split("/");if(r.length>t.length||"full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let o=0;o<r.length;o++){const s=r[o],a=t[o];if(s.startsWith(":"))i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function tf(t,e){const n=t?mB(t):void 0,r=e?mB(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!BO(t[i],e[i]))return!1;return!0}function mB(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function BO(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((i,o)=>r[o]===i)}return t===e}function DO(t){return t.length>0?t[t.length-1]:null}function Xp(t){return function tre(t){return!!t&&(t instanceof Zi||or(t.lift)&&or(t.subscribe))}(t)?t:__(t)?ha(Promise.resolve(t)):wi(t)}const fre={exact:function kO(t,e,n){if(!um(t.segments,e.segments)||!xb(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!t.children[r]||!kO(t.children[r],e.children[r],n))return!1;return!0},subset:RO},xO={exact:function pre(t,e){return tf(t,e)},subset:function gre(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>BO(t[n],e[n]))},ignored:()=>!0};function FO(t,e,n){return fre[n.paths](t.root,e.root,n.matrixParams)&&xO[n.queryParams](t.queryParams,e.queryParams)&&!("exact"===n.fragment&&t.fragment!==e.fragment)}function RO(t,e,n){return PO(t,e,e.segments,n)}function PO(t,e,n,r){if(t.segments.length>n.length){const i=t.segments.slice(0,n.length);return!(!um(i,n)||e.hasChildren()||!xb(i,n,r))}if(t.segments.length===n.length){if(!um(t.segments,n)||!xb(t.segments,n,r))return!1;for(const i in e.children)if(!t.children[i]||!RO(t.children[i],e.children[i],r))return!1;return!0}{const i=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!!(um(t.segments,i)&&xb(t.segments,i,r)&&t.children[ro])&&PO(t.children[ro],e,o,r)}}function xb(t,e,n){return e.every((r,i)=>xO[n](t[i].parameters,r.parameters))}class t0{constructor(e=new Ls([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){var e;return null!==(e=this._queryParamMap)&&void 0!==e||(this._queryParamMap=e0(this.queryParams)),this._queryParamMap}toString(){return yre.serialize(this)}}class Ls{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Fb(this)}}class L_{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){var e;return null!==(e=this._parameterMap)&&void 0!==e||(this._parameterMap=e0(this.parameters)),this._parameterMap}toString(){return LO(this)}}function um(t,e){return t.length===e.length&&t.every((n,r)=>n.path===e[r].path)}let cm=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Dn({token:t,factory:()=>new vB,providedIn:"root"}),e})();class vB{parse(e){const n=new xre(e);return new t0(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){const n=`/${O_(e.root,!0)}`,r=function Cre(t){const e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${kb(n)}=${kb(i)}`).join("&"):`${kb(n)}=${kb(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${n}${r}${"string"==typeof e.fragment?`#${function _re(t){return encodeURI(t)}(e.fragment)}`:""}`}}const yre=new vB;function Fb(t){return t.segments.map(e=>LO(e)).join("/")}function O_(t,e){if(!t.hasChildren())return Fb(t);if(e){const n=t.children[ro]?O_(t.children[ro],!1):"",r=[];return Object.entries(t.children).forEach(([i,o])=>{i!==ro&&r.push(`${i}:${O_(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=function vre(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===ro&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==ro&&(n=n.concat(e(i,r)))}),n}(t,(r,i)=>i===ro?[O_(t.children[ro],!1)]:[`${i}:${O_(r,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children[ro]?`${Fb(t)}/${n[0]}`:`${Fb(t)}/(${n.join("//")})`}}function NO(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function kb(t){return NO(t).replace(/%3B/gi,";")}function yB(t){return NO(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Rb(t){return decodeURIComponent(t)}function MO(t){return Rb(t.replace(/\+/g,"%20"))}function LO(t){return`${yB(t.path)}${function wre(t){return Object.entries(t).map(([e,n])=>`;${yB(e)}=${yB(n)}`).join("")}(t.parameters)}`}const bre=/^[^\/()?;#]+/;function _B(t){const e=t.match(bre);return e?e[0]:""}const Ire=/^[^\/()?;=#]+/,Sre=/^[^=?&#]+/,Bre=/^[^&#]+/;class xre{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ls([],{}):new Ls([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[ro]=new Ls(e,n)),r}parseSegment(){const e=_B(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new sn(4009,!1);return this.capture(e),new L_(Rb(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const n=function Ere(t){const e=t.match(Ire);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const i=_B(this.remaining);i&&(r=i,this.capture(r))}e[Rb(n)]=Rb(r)}parseQueryParam(e){const n=function Tre(t){const e=t.match(Sre);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const s=function Dre(t){const e=t.match(Bre);return e?e[0]:""}(this.remaining);s&&(r=s,this.capture(r))}const i=MO(n),o=MO(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=_B(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new sn(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=ro);const s=this.parseChildren();n[o]=1===Object.keys(s).length?s[ro]:new Ls([],s),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new sn(4011,!1)}}function OO(t){return t.segments.length>0?new Ls([],{[ro]:t}):t}function UO(t){const e={};for(const[r,i]of Object.entries(t.children)){const o=UO(i);if(r===ro&&0===o.segments.length&&o.hasChildren())for(const[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}return function Fre(t){if(1===t.numberOfChildren&&t.children[ro]){const e=t.children[ro];return new Ls(t.segments.concat(e.segments),e.children)}return t}(new Ls(t.segments,e))}function n0(t){return t instanceof t0}function VO(t){var e;let n;const o=OO(function r(s){const a={};for(const u of s.children){const p=r(u);a[u.outlet]=p}const l=new Ls(s.url,a);return s===t&&(n=l),l}(t.root));return null!==(e=n)&&void 0!==e?e:o}function QO(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(0===e.length)return wB(i,i,i,n,r);const o=function Rre(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new jO(!0,0,t);let e=0,n=!1;const r=t.reduce((i,o,s)=>{if("object"==typeof o&&null!=o){if(o.outlets){const a={};return Object.entries(o.outlets).forEach(([l,u])=>{a[l]="string"==typeof u?u.split("/"):u}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return"string"!=typeof o?[...i,o]:0===s?(o.split("/").forEach((a,l)=>{0==l&&"."===a||(0==l&&""===a?n=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,o]},[]);return new jO(n,e,r)}(e);if(o.toRoot())return wB(i,i,new Ls([],{}),n,r);const s=function Pre(t,e,n){if(t.isAbsolute)return new Nb(e,!0,0);if(!n)return new Nb(e,!1,NaN);if(null===n.parent)return new Nb(n,!0,0);const r=Pb(t.commands[0])?0:1;return function Nre(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new sn(4005,!1);i=r.segments.length}return new Nb(r,!1,i-o)}(n,n.segments.length-1+r,t.numberOfDoubleDots)}(o,i,t),a=s.processChildren?V_(s.segmentGroup,s.index,o.commands):zO(s.segmentGroup,s.index,o.commands);return wB(i,s.segmentGroup,a,n,r)}function Pb(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function U_(t){return"object"==typeof t&&null!=t&&t.outlets}function wB(t,e,n,r,i){let s,o={};r&&Object.entries(r).forEach(([l,u])=>{o[l]=Array.isArray(u)?u.map(p=>`${p}`):`${u}`}),s=t===e?n:HO(t,e,n);const a=OO(UO(s));return new t0(a,o,i)}function HO(t,e,n){const r={};return Object.entries(t.children).forEach(([i,o])=>{r[i]=o===e?n:HO(o,e,n)}),new Ls(t.segments,r)}class jO{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&Pb(r[0]))throw new sn(4003,!1);const i=r.find(U_);if(i&&i!==DO(r))throw new sn(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Nb{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}}function zO(t,e,n){var r;if(null!==(r=t)&&void 0!==r||(t=new Ls([],{})),0===t.segments.length&&t.hasChildren())return V_(t,e,n);const i=function Lre(t,e,n){let r=0,i=e;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;const s=t.segments[i],a=n[r];if(U_(a))break;const l=`${a}`,u=r<n.length-1?n[r+1]:null;if(i>0&&void 0===l)break;if(l&&u&&"object"==typeof u&&void 0===u.outlets){if(!GO(l,u,s))return o;r+=2}else{if(!GO(l,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),o=n.slice(i.commandIndex);if(i.match&&i.pathIndex<t.segments.length){const s=new Ls(t.segments.slice(0,i.pathIndex),{});return s.children[ro]=new Ls(t.segments.slice(i.pathIndex),t.children),V_(s,0,o)}return i.match&&0===o.length?new Ls(t.segments,{}):i.match&&!t.hasChildren()?CB(t,e,n):i.match?V_(t,0,o):CB(t,e,n)}function V_(t,e,n){if(0===n.length)return new Ls(t.segments,{});{const r=function Mre(t){return U_(t[0])?t[0].outlets:{[ro]:t}}(n),i={};if(Object.keys(r).some(o=>o!==ro)&&t.children[ro]&&1===t.numberOfChildren&&0===t.children[ro].segments.length){const o=V_(t.children[ro],e,n);return new Ls(t.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{"string"==typeof s&&(s=[s]),null!==s&&(i[o]=zO(t.children[o],e,s))}),Object.entries(t.children).forEach(([o,s])=>{void 0===r[o]&&(i[o]=s)}),new Ls(t.segments,i)}}function CB(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const o=n[i];if(U_(o)){const l=Ore(o.outlets);return new Ls(r,l)}if(0===i&&Pb(n[0])){r.push(new L_(t.segments[e].path,$O(n[0]))),i++;continue}const s=U_(o)?o.outlets[ro]:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&Pb(a)?(r.push(new L_(s,$O(a))),i+=2):(r.push(new L_(s,{})),i++)}return new Ls(r,{})}function Ore(t){const e={};return Object.entries(t).forEach(([n,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(e[n]=CB(new Ls([],{}),0,r))}),e}function $O(t){const e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function GO(t,e,n){return t==n.path&&tf(e,n.parameters)}const Q_="imperative";var jo=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(jo||{});class nf{constructor(e,n){this.id=e,this.url=n}}class H_ extends nf{constructor(e,n,r="imperative",i=null){super(e,n),this.type=jo.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class qf extends nf{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=jo.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}var lA=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(lA||{}),Mb=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(Mb||{});class r0 extends nf{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=jo.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class o0 extends nf{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=jo.NavigationSkipped}}class Lb extends nf{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=jo.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class WO extends nf{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=jo.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ure extends nf{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=jo.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Vre extends nf{constructor(e,n,r,i,o){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=jo.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Qre extends nf{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=jo.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Hre extends nf{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=jo.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class jre{constructor(e){this.route=e,this.type=jo.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class zre{constructor(e){this.route=e,this.type=jo.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class $re{constructor(e){this.snapshot=e,this.type=jo.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Gre{constructor(e){this.snapshot=e,this.type=jo.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Wre{constructor(e){this.snapshot=e,this.type=jo.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Kre{constructor(e){this.snapshot=e,this.type=jo.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class KO{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r,this.type=jo.Scroll}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class bB{}class IB{constructor(e){this.url=e}}class qre{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new dm,this.attachRef=null}}let dm=(()=>{var t;class e{constructor(){this.contexts=new Map}onChildOutletCreated(r,i){const o=this.getOrCreateContext(r);o.outlet=i,this.contexts.set(r,o)}onChildOutletDestroyed(r){const i=this.getContext(r);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let i=this.getContext(r);return i||(i=new qre,this.contexts.set(r,i)),i}getContext(r){return this.contexts.get(r)||null}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Dn({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();class qO{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){const n=EB(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){const n=EB(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){const n=SB(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return SB(e,this._root).map(n=>n.value)}}function EB(t,e){if(t===e.value)return e;for(const n of e.children){const r=EB(t,n);if(r)return r}return null}function SB(t,e){if(t===e.value)return[e];for(const n of e.children){const r=SB(t,n);if(r.length)return r.unshift(e),r}return[]}class wh{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}}function s0(t){const e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}class YO extends qO{constructor(e,n){super(e),this.snapshot=n,DB(this,e)}toString(){return this.snapshot.toString()}}function XO(t){const e=function Yre(t){const o=new BB([],{},{},"",{},ro,t,null,{});return new JO("",new wh(o,[]))}(t),n=new J([new L_("",{})]),r=new J({}),i=new J({}),o=new J({}),s=new J(""),a=new rf(n,r,o,s,i,ro,t,e.root);return a.snapshot=e.root,new YO(new wh(a,[]),e)}class rf{constructor(e,n,r,i,o,s,a,l){var u,p;this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=l,this.title=null!==(u=null===(p=this.dataSubject)||void 0===p?void 0:p.pipe(zn(I=>I[M_])))&&void 0!==u?u:wi(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){var e;return null!==(e=this._paramMap)&&void 0!==e||(this._paramMap=this.params.pipe(zn(n=>e0(n)))),this._paramMap}get queryParamMap(){var e;return null!==(e=this._queryParamMap)&&void 0!==e||(this._queryParamMap=this.queryParams.pipe(zn(n=>e0(n)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function TB(t,e,n="emptyOnly"){var r;let i;const{routeConfig:o}=t;var s;return i=null===e||"always"!==n&&""!==(null==o?void 0:o.path)&&(e.component||null!==(r=e.routeConfig)&&void 0!==r&&r.loadComponent)?{params:{...t.params},data:{...t.data},resolve:{...t.data,...null!==(s=t._resolvedData)&&void 0!==s?s:{}}}:{params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.data,...null==o?void 0:o.data,...t._resolvedData}},o&&eU(o)&&(i.resolve[M_]=o.title),i}class BB{get title(){var e;return null===(e=this.data)||void 0===e?void 0:e[M_]}constructor(e,n,r,i,o,s,a,l,u){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=l,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){var e;return null!==(e=this._paramMap)&&void 0!==e||(this._paramMap=e0(this.params)),this._paramMap}get queryParamMap(){var e;return null!==(e=this._queryParamMap)&&void 0!==e||(this._queryParamMap=e0(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class JO extends qO{constructor(e,n){super(n),this.url=e,DB(this,n)}toString(){return ZO(this._root)}}function DB(t,e){e.value._routerState=t,e.children.forEach(n=>DB(t,n))}function ZO(t){const e=t.children.length>0?` { ${t.children.map(ZO).join(", ")} } `:"";return`${t.value}${e}`}function xB(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,tf(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),tf(e.params,n.params)||t.paramsSubject.next(n.params),function hre(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!tf(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.urlSubject.next(n.url),tf(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function FB(t,e){const n=tf(t.params,e.params)&&function mre(t,e){return um(t,e)&&t.every((n,r)=>tf(n.parameters,e[r].parameters))}(t.url,e.url);return n&&!(!t.parent!=!e.parent)&&(!t.parent||FB(t.parent,e.parent))}function eU(t){return"string"==typeof t.title||null===t.title}let tU=(()=>{var t;class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=ro,this.activateEvents=new X,this.deactivateEvents=new X,this.attachEvents=new X,this.detachEvents=new X,this.parentContexts=An(dm),this.location=An(MA),this.changeDetector=An(er),this.environmentInjector=An(We),this.inputBinder=An(Ob,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(r){if(r.name){const{firstChange:i,previousValue:o}=r.name;if(i)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){var r;this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),null===(r=this.inputBinder)||void 0===r||r.unsubscribeFromRouteData(this)}isTrackedInParentContexts(r){var i;return(null===(i=this.parentContexts.getContext(r))||void 0===i?void 0:i.outlet)===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const r=this.parentContexts.getContext(this.name);null!=r&&r.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new sn(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new sn(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new sn(4012,!1);this.location.detach();const r=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(r.instance),r}attach(r,i){var o;this.activated=r,this._activatedRoute=i,this.location.insert(r.hostView),null===(o=this.inputBinder)||void 0===o||o.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(r.instance)}deactivate(){if(this.activated){const r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,i){var o;if(this.isActivated)throw new sn(4013,!1);this._activatedRoute=r;const s=this.location,l=r.snapshot.component,u=this.parentContexts.getOrCreateContext(this.name).children,p=new Xre(r,u,s.injector);this.activated=s.createComponent(l,{index:s.length,injector:p,environmentInjector:null!=i?i:this.environmentInjector}),this.changeDetector.markForCheck(),null===(o=this.inputBinder)||void 0===o||o.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275dir=xt({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[ca]}),e})();class Xre{constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===rf?this.route:e===dm?this.childContexts:this.parent.get(e,n)}}const Ob=new $n("");let nU=(()=>{var t;class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(r){this.unsubscribeFromRouteData(r),this.subscribeToRouteData(r)}unsubscribeFromRouteData(r){var i;null===(i=this.outletDataSubscriptions.get(r))||void 0===i||i.unsubscribe(),this.outletDataSubscriptions.delete(r)}subscribeToRouteData(r){const{activatedRoute:i}=r,o=Ib([i.queryParams,i.params,i.data]).pipe(cl(([s,a,l],u)=>(l={...s,...a,...l},0===u?wi(l):Promise.resolve(l)))).subscribe(s=>{if(!r.isActivated||!r.activatedComponentRef||r.activatedRoute!==i||null===i.component)return void this.unsubscribeFromRouteData(r);const a=w3(i.component);if(a)for(const{templateName:l}of a.inputs)r.activatedComponentRef.setInput(l,s[l]);else this.unsubscribeFromRouteData(r)});this.outletDataSubscriptions.set(r,o)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Dn({token:t,factory:t.\u0275fac}),e})();function j_(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function Zre(t,e,n){return e.children.map(r=>{for(const i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return j_(t,r,i);return j_(t,r)})}(t,e,n);return new wh(r,i)}{if(t.shouldAttach(e.value)){const o=t.retrieve(e.value);if(null!==o){const s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>j_(t,a)),s}}const r=function eie(t){return new rf(new J(t.url),new J(t.params),new J(t.queryParams),new J(t.fragment),new J(t.data),t.outlet,t.component,t)}(e.value),i=e.children.map(o=>j_(t,o));return new wh(r,i)}}const rU="ngNavigationCancelingError";function iU(t,e){const{redirectTo:n,navigationBehaviorOptions:r}=n0(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=oU(!1,lA.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function oU(t,e){const n=new Error(`NavigationCancelingError: ${t||""}`);return n[rU]=!0,n.cancellationCode=e,n}function sU(t){return!!t&&t[rU]}let aU=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=ee({type:t,selectors:[["ng-component"]],standalone:!0,features:[qN],decls:1,vars:0,template:function(r,i){1&r&&ht(0,"router-outlet")},dependencies:[tU],encapsulation:2}),e})();function kB(t){const e=t.children&&t.children.map(kB),n=e?{...t,children:e}:{...t};return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==ro&&(n.component=aU),n}function sf(t){return t.outlet||ro}function z_(t){var e;if(!t)return null;if(null!==(e=t.routeConfig)&&void 0!==e&&e._injector)return t.routeConfig._injector;for(let n=t.parent;n;n=n.parent){const r=n.routeConfig;if(null!=r&&r._loadedInjector)return r._loadedInjector;if(null!=r&&r._injector)return r._injector}return null}class lie{constructor(e,n,r,i,o){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){const n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),xB(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){const i=s0(n);e.children.forEach(o=>{const s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,n,r){const i=e.value,o=n?n.value:null;if(i===o)if(i.component){const s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,n,s.children)}else this.deactivateChildRoutes(e,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=s0(e);for(const s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){const s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=s0(e);for(const s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){const i=s0(n);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new Kre(o.value.snapshot))}),e.children.length&&this.forwardEvent(new Gre(e.value.snapshot))}activateRoutes(e,n,r){const i=e.value,o=n?n.value:null;if(xB(i),i===o)if(i.component){const s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,s.children)}else this.activateChildRoutes(e,n,r);else if(i.component){const s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),xB(a.route.value),this.activateChildRoutes(e,null,s.children)}else{const a=z_(i.snapshot);s.attachRef=null,s.route=i,s.injector=a,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}}else this.activateChildRoutes(e,null,r)}}class lU{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Ub{constructor(e,n){this.component=e,this.route=n}}function uie(t,e,n){const r=t._root;return $_(r,e?e._root:null,n,[r.value])}function a0(t,e){const n=Symbol(),r=e.get(t,n);return r===n?"function"!=typeof t||function ws(t){return null!==po(t)}(t)?e.get(t):t:r}function $_(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=s0(e);return t.children.forEach(s=>{(function die(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const l=function Aie(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!um(t.url,e.url);case"pathParamsOrQueryParamsChange":return!um(t.url,e.url)||!tf(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!FB(t,e)||!tf(t.queryParams,e.queryParams);default:return!FB(t,e)}}(s,o,o.routeConfig.runGuardsAndResolvers);l?i.canActivateChecks.push(new lU(r)):(o.data=s.data,o._resolvedData=s._resolvedData),$_(t,e,o.component?a?a.children:null:n,r,i),l&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Ub(a.outlet.component,s))}else s&&G_(e,a,i),i.canActivateChecks.push(new lU(r)),$_(t,null,o.component?a?a.children:null:n,r,i)})(s,o[s.value.outlet],n,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>G_(a,n.getContext(s),i)),i}function G_(t,e,n){const r=s0(t),i=t.value;Object.entries(r).forEach(([o,s])=>{G_(s,i.component?e?e.children.getContext(o):null:e,n)}),n.canDeactivateChecks.push(new Ub(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function W_(t){return"function"==typeof t}function uU(t){return t instanceof Eb||"EmptyError"===(null==t?void 0:t.name)}const Vb=Symbol("INITIAL_VALUE");function l0(){return cl(t=>Ib(t.map(e=>e.pipe(am(1),Tb(Vb)))).pipe(zn(e=>{for(const n of e)if(!0!==n){if(n===Vb)return Vb;if(!1===n||n instanceof t0)return n}return!0}),aA(e=>e!==Vb),am(1)))}function cU(t){return function Wa(...t){return Ka(t)}(gc(e=>{if(n0(e))throw iU(0,e)}),zn(e=>!0===e))}class RB{constructor(e){this.segmentGroup=e||null}}class PB extends Error{constructor(e){super(),this.urlTree=e}}function u0(t){return Sb(new RB(t))}class Fie{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return wi(r);if(i.numberOfChildren>1||!i.children[ro])return Sb(new sn(4e3,!1));i=i.children[ro]}}applyRedirectCommands(e,n,r){const i=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n.startsWith("/"))throw new PB(i);return i}applyRedirectCreateUrlTree(e,n,r,i){const o=this.createSegmentGroup(e,n.root,r,i);return new t0(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){const r={};return Object.entries(e).forEach(([i,o])=>{if("string"==typeof o&&o.startsWith(":")){const a=o.substring(1);r[i]=n[a]}else r[i]=o}),r}createSegmentGroup(e,n,r,i){const o=this.createSegments(e,n.segments,r,i);let s={};return Object.entries(n.children).forEach(([a,l])=>{s[a]=this.createSegmentGroup(e,l,r,i)}),new Ls(o,s)}createSegments(e,n,r,i){return n.map(o=>o.path.startsWith(":")?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,n,r){const i=r[n.path.substring(1)];if(!i)throw new sn(4001,!1);return i}findOrReturn(e,n){let r=0;for(const i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}}const NB={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function kie(t,e,n,r,i){const o=MB(t,e,n);return o.matched?(r=function nie(t,e){var n;return t.providers&&!t._injector&&(t._injector=wC(t.providers,e,`Route: ${t.path}`)),null!==(n=t._injector)&&void 0!==n?n:e}(e,r),function Bie(t,e,n,r){const i=e.canMatch;return i&&0!==i.length?wi(i.map(s=>{const a=a0(s,t);return Xp(function vie(t){return t&&W_(t.canMatch)}(a)?a.canMatch(e,n):Fi(t,()=>a(e,n)))})).pipe(l0(),cU()):wi(!0)}(r,e,n).pipe(zn(s=>!0===s?o:{...NB}))):wi(o)}function MB(t,e,n){var r,i;if("**"===e.path)return function Rie(t){return{matched:!0,parameters:t.length>0?DO(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}(n);if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{...NB}:{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};const s=(e.matcher||Are)(n,t,e);if(!s)return{...NB};const a={};Object.entries(null!==(r=s.posParams)&&void 0!==r?r:{}).forEach(([u,p])=>{a[u]=p.path});const l=s.consumed.length>0?{...a,...s.consumed[s.consumed.length-1].parameters}:a;return{matched:!0,consumedSegments:s.consumed,remainingSegments:n.slice(s.consumed.length),parameters:l,positionalParamSegments:null!==(i=s.posParams)&&void 0!==i?i:{}}}function dU(t,e,n,r){return n.length>0&&function Mie(t,e,n){return n.some(r=>Qb(t,e,r)&&sf(r)!==ro)}(t,n,r)?{segmentGroup:new Ls(e,Nie(r,new Ls(n,t.children))),slicedSegments:[]}:0===n.length&&function Lie(t,e,n){return n.some(r=>Qb(t,e,r))}(t,n,r)?{segmentGroup:new Ls(t.segments,Pie(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new Ls(t.segments,t.children),slicedSegments:n}}function Pie(t,e,n,r){const i={};for(const o of n)if(Qb(t,e,o)&&!r[sf(o)]){const s=new Ls([],{});i[sf(o)]=s}return{...r,...i}}function Nie(t,e){const n={};n[ro]=e;for(const r of t)if(""===r.path&&sf(r)!==ro){const i=new Ls([],{});n[sf(r)]=i}return n}function Qb(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}class Vie{}class jie{constructor(e,n,r,i,o,s,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new Fie(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new sn(4002,`'${e.segmentGroup}'`)}recognize(){const e=dU(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(zn(n=>{const r=new BB([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},ro,this.rootComponentType,null,{}),i=new wh(r,n),o=new JO("",i),s=function kre(t,e,n=null,r=null){return QO(VO(t),e,n,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),this.inheritParamsAndData(o._root,null),{state:o,tree:s}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e,ro).pipe(lm(r=>{if(r instanceof PB)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof RB?this.noMatchError(r):r}))}inheritParamsAndData(e,n){const r=e.value,i=TB(r,n,this.paramsInheritanceStrategy);r.params=Object.freeze(i.params),r.data=Object.freeze(i.data),e.children.forEach(o=>this.inheritParamsAndData(o,r))}processSegmentGroup(e,n,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,i,!0).pipe(zn(o=>o instanceof wh?[o]:[]))}processChildren(e,n,r){const i=[];for(const o of Object.keys(r.children))"primary"===o?i.unshift(o):i.push(o);return ha(i).pipe(N_(o=>{const s=r.children[o],a=function sie(t,e){const n=t.filter(r=>sf(r)===e);return n.push(...t.filter(r=>sf(r)!==e)),n}(n,o);return this.processSegmentGroup(e,a,s,o)}),Db((o,s)=>(o.push(...s),o)),Bb(null),function lre(t,e){const n=arguments.length>=2;return r=>r.pipe(t?aA((i,o)=>t(i,o,r)):Do,pB(1),n?Bb(e):TO(()=>new Eb))}(),Vu(o=>{if(null===o)return u0(r);const s=AU(o);return function zie(t){t.sort((e,n)=>e.value.outlet===ro?-1:n.value.outlet===ro?1:e.value.outlet.localeCompare(n.value.outlet))}(s),wi(s)}))}processSegment(e,n,r,i,o,s){return ha(n).pipe(N_(a=>{var l;return this.processSegmentAgainstRoute(null!==(l=a._injector)&&void 0!==l?l:e,n,a,r,i,o,s).pipe(lm(u=>{if(u instanceof RB)return wi(null);throw u}))}),Yp(a=>!!a),lm(a=>{if(uU(a))return function Uie(t,e,n){return 0===e.length&&!t.children[n]}(r,i,o)?wi(new Vie):u0(r);throw a}))}processSegmentAgainstRoute(e,n,r,i,o,s,a){return function Oie(t,e,n,r){return!!(sf(t)===r||r!==ro&&Qb(e,n,t))&&MB(e,t,n).matched}(r,i,o,s)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,i,r,o,s):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,o,s):u0(i):u0(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s){const{matched:a,consumedSegments:l,positionalParamSegments:u,remainingSegments:p}=MB(n,i,o);if(!a)return u0(n);i.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const I=this.applyRedirects.applyRedirectCommands(l,i.redirectTo,u);return this.applyRedirects.lineralizeSegments(i,I).pipe(Vu(k=>this.processSegment(e,r,n,k.concat(p),s,!1)))}matchSegmentAgainstRoute(e,n,r,i,o){const s=kie(n,r,i,e);return"**"===r.path&&(n.children={}),s.pipe(cl(a=>{var l;return a.matched?(e=null!==(l=r._injector)&&void 0!==l?l:e,this.getChildConfig(e,r,i).pipe(cl(({routes:u})=>{var p,I,k;const O=null!==(p=r._loadedInjector)&&void 0!==p?p:e,{consumedSegments:q,remainingSegments:ge,parameters:Be}=a,Ye=new BB(q,Be,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,function Gie(t){return t.data||{}}(r),sf(r),null!==(I=null!==(k=r.component)&&void 0!==k?k:r._loadedComponent)&&void 0!==I?I:null,r,function Wie(t){return t.resolve||{}}(r)),{segmentGroup:tt,slicedSegments:Bt}=dU(n,q,ge,u);if(0===Bt.length&&tt.hasChildren())return this.processChildren(O,u,tt).pipe(zn(Fn=>null===Fn?null:new wh(Ye,Fn)));if(0===u.length&&0===Bt.length)return wi(new wh(Ye,[]));const Ut=sf(r)===o;return this.processSegment(O,u,tt,Bt,Ut?ro:o,!0).pipe(zn(Fn=>new wh(Ye,Fn instanceof wh?[Fn]:[])))}))):u0(n)}))}getChildConfig(e,n,r){return n.children?wi({routes:n.children,injector:e}):n.loadChildren?void 0!==n._loadedRoutes?wi({routes:n._loadedRoutes,injector:n._loadedInjector}):function Tie(t,e,n,r){const i=e.canLoad;return void 0===i||0===i.length?wi(!0):wi(i.map(s=>{const a=a0(s,t);return Xp(function fie(t){return t&&W_(t.canLoad)}(a)?a.canLoad(e,n):Fi(t,()=>a(e,n)))})).pipe(l0(),cU())}(e,n,r).pipe(Vu(i=>i?this.configLoader.loadChildren(e,n).pipe(gc(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):function xie(t){return Sb(oU(!1,lA.GuardRejected))}())):wi({routes:[],injector:e})}}function $ie(t){const e=t.value.routeConfig;return e&&""===e.path}function AU(t){const e=[],n=new Set;for(const r of t){if(!$ie(r)){e.push(r);continue}const i=e.find(o=>r.value.routeConfig===o.value.routeConfig);void 0!==i?(i.children.push(...r.children),n.add(i)):e.push(r)}for(const r of n){const i=AU(r.children);e.push(new wh(r.value,i))}return e.filter(r=>!n.has(r))}function hU(t){const e=t.children.map(n=>hU(n)).flat();return[t,...e]}function LB(t){return cl(e=>{const n=t(e);return n?ha(n).pipe(zn(()=>e)):wi(e)})}let fU=(()=>{var t;class e{buildTitle(r){let i,o=r.root;for(;void 0!==o;){var s;i=null!==(s=this.getResolvedTitleForRoute(o))&&void 0!==s?s:i,o=o.children.find(a=>a.outlet===ro)}return i}getResolvedTitleForRoute(r){return r.data[M_]}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Dn({token:t,factory:()=>An(Zie),providedIn:"root"}),e})(),Zie=(()=>{var t;class e extends fU{constructor(r){super(),this.title=r}updateTitle(r){const i=this.buildTitle(r);void 0!==i&&this.title.setTitle(i)}}return(t=e).\u0275fac=function(r){return new(r||t)(Pn(kte))},t.\u0275prov=Dn({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();const c0=new $n("",{providedIn:"root",factory:()=>({})}),d0=new $n("");let OB=(()=>{var t;class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=An(RM)}loadComponent(r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return wi(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);const i=Xp(r.loadComponent()).pipe(zn(pU),gc(s=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=s}),gB(()=>{this.componentLoaders.delete(r)})),o=new SO(i,()=>new de).pipe(fB());return this.componentLoaders.set(r,o),o}loadChildren(r,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return wi({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const s=function eoe(t,e,n,r){return Xp(t.loadChildren()).pipe(zn(pU),Vu(i=>i instanceof $P||Array.isArray(i)?wi(i):ha(e.compileModuleAsync(i))),zn(i=>{r&&r(t);let o,s,a=!1;return Array.isArray(i)?(s=i,!0):(o=i.create(n).injector,s=o.get(d0,[],{optional:!0,self:!0}).flat()),{routes:s.map(kB),injector:o}}))}(i,this.compiler,r,this.onLoadEndListener).pipe(gB(()=>{this.childrenLoaders.delete(i)})),a=new SO(s,()=>new de).pipe(fB());return this.childrenLoaders.set(i,a),a}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Dn({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function pU(t){return function toe(t){return t&&"object"==typeof t&&"default"in t}(t)?t.default:t}let UB=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Dn({token:t,factory:()=>An(noe),providedIn:"root"}),e})(),noe=(()=>{var t;class e{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,i){return r}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Dn({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();const gU=new $n(""),mU=new $n("");function roe(t,e,n){const r=t.get(mU),i=t.get(bd);return t.get(Tn).runOutsideAngular(()=>{if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,Promise.resolve();let o;const s=new Promise(u=>{o=u}),a=i.startViewTransition(()=>(o(),function ioe(t){return new Promise(e=>{aP(e,{injector:t})})}(t))),{onViewTransitionCreated:l}=r;return l&&Fi(t,()=>l({transition:a,from:e,to:n})),s})}let Hb=(()=>{var t;class e{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new de,this.transitionAbortSubject=new de,this.configLoader=An(OB),this.environmentInjector=An(We),this.urlSerializer=An(cm),this.rootContexts=An(dm),this.location=An(gh),this.inputBindingEnabled=null!==An(Ob,{optional:!0}),this.titleStrategy=An(fU),this.options=An(c0,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=An(UB),this.createViewTransition=An(gU,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>wi(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=o=>this.events.next(new zre(o)),this.configLoader.onLoadStartListener=o=>this.events.next(new jre(o))}complete(){var r;null===(r=this.transitions)||void 0===r||r.complete()}handleNavigationRequest(r){var i;const o=++this.navigationId;null===(i=this.transitions)||void 0===i||i.next({...this.transitions.value,...r,id:o})}setupNavigations(r,i,o){return this.transitions=new J({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Q_,restoredState:null,currentSnapshot:o.snapshot,targetSnapshot:null,currentRouterState:o,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(aA(s=>0!==s.id),zn(s=>({...s,extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),cl(s=>{let a=!1,l=!1;return wi(s).pipe(cl(u=>{var p;if(this.navigationId>s.id)return this.cancelNavigationTransition(s,"",lA.SupersededByNewNavigation),_h;this.currentTransition=s,this.currentNavigation={id:u.id,initialUrl:u.rawUrl,extractedUrl:u.extractedUrl,trigger:u.source,extras:u.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null};const I=!r.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),k=null!==(p=u.extras.onSameUrlNavigation)&&void 0!==p?p:r.onSameUrlNavigation;if(!I&&"reload"!==k){const O="";return this.events.next(new o0(u.id,this.urlSerializer.serialize(u.rawUrl),O,Mb.IgnoredSameUrlNavigation)),u.resolve(null),_h}if(this.urlHandlingStrategy.shouldProcessUrl(u.rawUrl))return wi(u).pipe(cl(O=>{var q,ge;const Be=null===(q=this.transitions)||void 0===q?void 0:q.getValue();return this.events.next(new H_(O.id,this.urlSerializer.serialize(O.extractedUrl),O.source,O.restoredState)),Be!==(null===(ge=this.transitions)||void 0===ge?void 0:ge.getValue())?_h:Promise.resolve(O)}),function Kie(t,e,n,r,i,o){return Vu(s=>function Qie(t,e,n,r,i,o,s="emptyOnly"){return new jie(t,e,n,r,i,s,o).recognize()}(t,e,n,r,s.extractedUrl,i,o).pipe(zn(({state:a,tree:l})=>({...s,targetSnapshot:a,urlAfterRedirects:l}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,r.config,this.urlSerializer,this.paramsInheritanceStrategy),gc(O=>{s.targetSnapshot=O.targetSnapshot,s.urlAfterRedirects=O.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:O.urlAfterRedirects};const q=new WO(O.id,this.urlSerializer.serialize(O.extractedUrl),this.urlSerializer.serialize(O.urlAfterRedirects),O.targetSnapshot);this.events.next(q)}));if(I&&this.urlHandlingStrategy.shouldProcessUrl(u.currentRawUrl)){const{id:O,extractedUrl:q,source:ge,restoredState:Be,extras:Ye}=u,tt=new H_(O,this.urlSerializer.serialize(q),ge,Be);this.events.next(tt);const Bt=XO(this.rootComponentType).snapshot;return this.currentTransition=s={...u,targetSnapshot:Bt,urlAfterRedirects:q,extras:{...Ye,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.finalUrl=q,wi(s)}{const O="";return this.events.next(new o0(u.id,this.urlSerializer.serialize(u.extractedUrl),O,Mb.IgnoredByUrlHandlingStrategy)),u.resolve(null),_h}}),gc(u=>{const p=new Ure(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(p)}),zn(u=>(this.currentTransition=s={...u,guards:uie(u.targetSnapshot,u.currentSnapshot,this.rootContexts)},s)),function yie(t,e){return Vu(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return 0===s.length&&0===o.length?wi({...n,guardsResult:!0}):function _ie(t,e,n,r){return ha(t).pipe(Vu(i=>function Sie(t,e,n,r,i){const o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return o&&0!==o.length?wi(o.map(a=>{var l;const u=null!==(l=z_(e))&&void 0!==l?l:i,p=a0(a,u);return Xp(function mie(t){return t&&W_(t.canDeactivate)}(p)?p.canDeactivate(t,e,n,r):Fi(u,()=>p(t,e,n,r))).pipe(Yp())})).pipe(l0()):wi(!0)}(i.component,i.route,n,e,r)),Yp(i=>!0!==i,!0))}(s,r,i,t).pipe(Vu(a=>a&&function hie(t){return"boolean"==typeof t}(a)?function wie(t,e,n,r){return ha(e).pipe(N_(i=>hB(function bie(t,e){return null!==t&&e&&e(new $re(t)),wi(!0)}(i.route.parent,r),function Cie(t,e){return null!==t&&e&&e(new Wre(t)),wi(!0)}(i.route,r),function Eie(t,e,n){const r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>function cie(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(s)).filter(s=>null!==s).map(s=>EO(()=>wi(s.guards.map(l=>{var u;const p=null!==(u=z_(s.node))&&void 0!==u?u:n,I=a0(l,p);return Xp(function gie(t){return t&&W_(t.canActivateChild)}(I)?I.canActivateChild(r,t):Fi(p,()=>I(r,t))).pipe(Yp())})).pipe(l0())));return wi(o).pipe(l0())}(t,i.path,n),function Iie(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return wi(!0);const i=r.map(o=>EO(()=>{var s;const a=null!==(s=z_(e))&&void 0!==s?s:n,l=a0(o,a);return Xp(function pie(t){return t&&W_(t.canActivate)}(l)?l.canActivate(e,t):Fi(a,()=>l(e,t))).pipe(Yp())}));return wi(i).pipe(l0())}(t,i.route,n))),Yp(i=>!0!==i,!0))}(r,o,t,e):wi(a)),zn(a=>({...n,guardsResult:a})))})}(this.environmentInjector,u=>this.events.next(u)),gc(u=>{if(s.guardsResult=u.guardsResult,n0(u.guardsResult))throw iU(0,u.guardsResult);const p=new Vre(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot,!!u.guardsResult);this.events.next(p)}),aA(u=>!!u.guardsResult||(this.cancelNavigationTransition(u,"",lA.GuardRejected),!1)),LB(u=>{if(u.guards.canActivateChecks.length)return wi(u).pipe(gc(p=>{const I=new Qre(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot);this.events.next(I)}),cl(p=>{let I=!1;return wi(p).pipe(function qie(t,e){return Vu(n=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return wi(n);const o=new Set(i.map(l=>l.route)),s=new Set;for(const l of o)if(!s.has(l))for(const u of hU(l))s.add(u);let a=0;return ha(s).pipe(N_(l=>o.has(l)?function Yie(t,e,n,r){const i=t.routeConfig,o=t._resolve;return void 0!==(null==i?void 0:i.title)&&!eU(i)&&(o[M_]=i.title),function Xie(t,e,n,r){const i=mB(t);if(0===i.length)return wi({});const o={};return ha(i).pipe(Vu(s=>function Jie(t,e,n,r){var i;const o=null!==(i=z_(e))&&void 0!==i?i:r,s=a0(t,o);return Xp(s.resolve?s.resolve(e,n):Fi(o,()=>s(e,n)))}(t[s],e,n,r).pipe(Yp(),gc(a=>{o[s]=a}))),pB(1),function ure(t){return zn(()=>t)}(o),lm(s=>uU(s)?_h:Sb(s)))}(o,t,e,r).pipe(zn(s=>(t._resolvedData=s,t.data=TB(t,t.parent,n).resolve,null)))}(l,r,t,e):(l.data=TB(l,l.parent,t).resolve,wi(void 0))),gc(()=>a++),pB(1),Vu(l=>a===s.size?wi(n):_h))})}(this.paramsInheritanceStrategy,this.environmentInjector),gc({next:()=>I=!0,complete:()=>{I||this.cancelNavigationTransition(p,"",lA.NoDataFromResolver)}}))}),gc(p=>{const I=new Hre(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot);this.events.next(I)}))}),LB(u=>{const p=I=>{var k;const O=[];null!==(k=I.routeConfig)&&void 0!==k&&k.loadComponent&&!I.routeConfig._loadedComponent&&O.push(this.configLoader.loadComponent(I.routeConfig).pipe(gc(q=>{I.component=q}),zn(()=>{})));for(const q of I.children)O.push(...p(q));return O};return Ib(p(u.targetSnapshot.root)).pipe(Bb(null),am(1))}),LB(()=>this.afterPreactivation()),cl(()=>{var u;const{currentSnapshot:p,targetSnapshot:I}=s,k=null===(u=this.createViewTransition)||void 0===u?void 0:u.call(this,this.environmentInjector,p.root,I.root);return k?ha(k).pipe(zn(()=>s)):wi(s)}),zn(u=>{const p=function Jre(t,e,n){const r=j_(t,e._root,n?n._root:void 0);return new YO(r,e)}(r.routeReuseStrategy,u.targetSnapshot,u.currentRouterState);return this.currentTransition=s={...u,targetRouterState:p},this.currentNavigation.targetRouterState=p,s}),gc(()=>{this.events.next(new bB)}),((t,e,n,r)=>zn(i=>(new lie(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)))(this.rootContexts,r.routeReuseStrategy,u=>this.events.next(u),this.inputBindingEnabled),am(1),gc({next:u=>{var p;a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new qf(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects))),null===(p=this.titleStrategy)||void 0===p||p.updateTitle(u.targetRouterState.snapshot),u.resolve(!0)},complete:()=>{a=!0}}),function cre(t){return Yt((e,n)=>{Id(t).subscribe(Nn(n,()=>n.complete(),Vr)),!n.closed&&e.subscribe(n)})}(this.transitionAbortSubject.pipe(gc(u=>{throw u}))),gB(()=>{var u;!a&&!l&&this.cancelNavigationTransition(s,"",lA.SupersededByNewNavigation),(null===(u=this.currentTransition)||void 0===u?void 0:u.id)===s.id&&(this.currentNavigation=null,this.currentTransition=null)}),lm(u=>{if(l=!0,sU(u))this.events.next(new r0(s.id,this.urlSerializer.serialize(s.extractedUrl),u.message,u.cancellationCode)),function tie(t){return sU(t)&&n0(t.url)}(u)?this.events.next(new IB(u.url)):s.resolve(!1);else{var p;this.events.next(new Lb(s.id,this.urlSerializer.serialize(s.extractedUrl),u,null!==(p=s.targetSnapshot)&&void 0!==p?p:void 0));try{s.resolve(r.errorHandler(u))}catch(I){this.options.resolveNavigationPromiseOnError?s.resolve(!1):s.reject(I)}}return _h}))}))}cancelNavigationTransition(r,i,o){const s=new r0(r.id,this.urlSerializer.serialize(r.extractedUrl),i,o);this.events.next(s),r.resolve(!1)}isUpdatingInternalState(){var r,i;return(null===(r=this.currentTransition)||void 0===r?void 0:r.extractedUrl.toString())!==(null===(i=this.currentTransition)||void 0===i?void 0:i.currentUrlTree.toString())}isUpdatedBrowserUrl(){var r,i;return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==(null===(r=this.currentTransition)||void 0===r?void 0:r.extractedUrl.toString())&&!(null!==(i=this.currentTransition)&&void 0!==i&&i.extras.skipLocationChange)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Dn({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function ooe(t){return t!==Q_}let soe=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Dn({token:t,factory:()=>An(loe),providedIn:"root"}),e})();class aoe{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}}let loe=(()=>{var t;class e extends aoe{}return(t=e).\u0275fac=(()=>{let n;return function(i){return(n||(n=os(t)))(i||t)}})(),t.\u0275prov=Dn({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),vU=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Dn({token:t,factory:()=>An(uoe),providedIn:"root"}),e})(),uoe=(()=>{var t;class e extends vU{constructor(){super(...arguments),this.location=An(gh),this.urlSerializer=An(cm),this.options=An(c0,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=An(UB),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new t0,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=XO(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){var r,i;return"computed"!==this.canceledNavigationResolution?this.currentPageId:null!==(r=null===(i=this.restoredState())||void 0===i?void 0:i.\u0275routerPageId)&&void 0!==r?r:this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(r){return this.location.subscribe(i=>{"popstate"===i.type&&r(i.url,i.state)})}handleRouterEvent(r,i){if(r instanceof H_)this.stateMemento=this.createStateMemento();else if(r instanceof o0)this.rawUrlTree=i.initialUrl;else if(r instanceof WO){if("eager"===this.urlUpdateStrategy&&!i.extras.skipLocationChange){const o=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(o,i)}}else r instanceof bB?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,"deferred"===this.urlUpdateStrategy&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i))):r instanceof r0&&(r.code===lA.GuardRejected||r.code===lA.NoDataFromResolver)?this.restoreHistory(i):r instanceof Lb?this.restoreHistory(i,!0):r instanceof qf&&(this.lastSuccessfulId=r.id,this.currentPageId=this.browserPageId)}setBrowserUrl(r,i){const o=this.urlSerializer.serialize(r);if(this.location.isCurrentPathEqualTo(o)||i.extras.replaceUrl){const a={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId)};this.location.replaceState(o,"",a)}else{const s={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId+1)};this.location.go(o,"",s)}}restoreHistory(r,i=!1){if("computed"===this.canceledNavigationResolution){const s=this.currentPageId-this.browserPageId;0!==s?this.location.historyGo(s):this.currentUrlTree===r.finalUrl&&0===s&&(this.resetState(r),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){var i;this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,null!==(i=r.finalUrl)&&void 0!==i?i:this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(r,i){return"computed"===this.canceledNavigationResolution?{navigationId:r,\u0275routerPageId:i}:{navigationId:r}}}return(t=e).\u0275fac=(()=>{let n;return function(i){return(n||(n=os(t)))(i||t)}})(),t.\u0275prov=Dn({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();var K_=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(K_||{});function yU(t,e){t.events.pipe(aA(n=>n instanceof qf||n instanceof r0||n instanceof Lb||n instanceof o0),zn(n=>n instanceof qf||n instanceof o0?K_.COMPLETE:n instanceof r0&&(n.code===lA.Redirect||n.code===lA.SupersededByNewNavigation)?K_.REDIRECTING:K_.FAILED),aA(n=>n!==K_.REDIRECTING),am(1)).subscribe(()=>{e()})}function coe(t){throw t}const doe={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Aoe={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let zo=(()=>{var t;class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){var r,i;this.disposed=!1,this.isNgZoneEnabled=!1,this.console=An(IM),this.stateManager=An(vU),this.options=An(c0,{optional:!0})||{},this.pendingTasks=An(Cv),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=An(Hb),this.urlSerializer=An(cm),this.location=An(gh),this.urlHandlingStrategy=An(UB),this._events=new de,this.errorHandler=this.options.errorHandler||coe,this.navigated=!1,this.routeReuseStrategy=An(soe),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=null!==(r=null===(i=An(d0,{optional:!0}))||void 0===i?void 0:i.flat())&&void 0!==r?r:[],this.componentInputBindingEnabled=!!An(Ob,{optional:!0}),this.eventsSubscription=new Qt,this.isNgZoneEnabled=An(Tn)instanceof Tn&&Tn.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:o=>{this.console.warn(o)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const r=this.navigationTransitions.events.subscribe(i=>{try{const o=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(null!==o&&null!==s)if(this.stateManager.handleRouterEvent(i,s),i instanceof r0&&i.code!==lA.Redirect&&i.code!==lA.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof qf)this.navigated=!0;else if(i instanceof IB){const a=this.urlHandlingStrategy.merge(i.url,o.currentRawUrl),l={info:o.extras.info,skipLocationChange:o.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||ooe(o.source)};this.scheduleNavigation(a,Q_,null,l,{resolve:o.resolve,reject:o.reject,promise:o.promise})}(function foe(t){return!(t instanceof bB||t instanceof IB)})(i)&&this._events.next(i)}catch(o){this.navigationTransitions.transitionAbortSubject.next(o)}});this.eventsSubscription.add(r)}resetRootComponentType(r){this.routerState.root.component=r,this.navigationTransitions.rootComponentType=r}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Q_,this.stateManager.restoredState())}setUpLocationChangeListener(){var r;null!==(r=this.nonRouterCurrentEntryChangeSubscription)&&void 0!==r||(this.nonRouterCurrentEntryChangeSubscription=this.stateManager.registerNonRouterCurrentEntryChangeListener((i,o)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(i,"popstate",o)},0)}))}navigateToSyncWithBrowser(r,i,o){const s={replaceUrl:!0},a=null!=o&&o.navigationId?o:null;if(o){const u={...o};delete u.navigationId,delete u.\u0275routerPageId,0!==Object.keys(u).length&&(s.state=u)}const l=this.parseUrl(r);this.scheduleNavigation(l,i,a,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(r){this.config=r.map(kB),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(r,i={}){const{relativeTo:o,queryParams:s,fragment:a,queryParamsHandling:l,preserveFragment:u}=i,p=u?this.currentUrlTree.fragment:a;let k,I=null;switch(l){case"merge":I={...this.currentUrlTree.queryParams,...s};break;case"preserve":I=this.currentUrlTree.queryParams;break;default:I=s||null}null!==I&&(I=this.removeEmptyProps(I));try{k=VO(o?o.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof r[0]||!r[0].startsWith("/"))&&(r=[]),k=this.currentUrlTree.root}return QO(k,r,I,null!=p?p:null)}navigateByUrl(r,i={skipLocationChange:!1}){const o=n0(r)?r:this.parseUrl(r),s=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(s,Q_,null,i)}navigate(r,i={skipLocationChange:!1}){return function hoe(t){for(let e=0;e<t.length;e++)if(null==t[e])throw new sn(4008,!1)}(r),this.navigateByUrl(this.createUrlTree(r,i),i)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){try{return this.urlSerializer.parse(r)}catch{return this.urlSerializer.parse("/")}}isActive(r,i){let o;if(o=!0===i?{...doe}:!1===i?{...Aoe}:i,n0(r))return FO(this.currentUrlTree,r,o);const s=this.parseUrl(r);return FO(this.currentUrlTree,s,o)}removeEmptyProps(r){return Object.entries(r).reduce((i,[o,s])=>(null!=s&&(i[o]=s),i),{})}scheduleNavigation(r,i,o,s,a){if(this.disposed)return Promise.resolve(!1);let l,u,p;a?(l=a.resolve,u=a.reject,p=a.promise):p=new Promise((k,O)=>{l=k,u=O});const I=this.pendingTasks.add();return yU(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(I))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:r,extras:s,resolve:l,reject:u,promise:p,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),p.catch(k=>Promise.reject(k))}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Dn({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),_u=(()=>{var t;class e{constructor(r,i,o,s,a,l){var u;this.router=r,this.route=i,this.tabIndexAttribute=o,this.renderer=s,this.el=a,this.locationStrategy=l,this.href=null,this.commands=null,this.onChanges=new de,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const p=null===(u=a.nativeElement.tagName)||void 0===u?void 0:u.toLowerCase();this.isAnchorElement="a"===p||"area"===p,this.isAnchorElement?this.subscription=r.events.subscribe(I=>{I instanceof qf&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(r){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",r)}ngOnChanges(r){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(r){null!=r?(this.commands=Array.isArray(r)?r:[r],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(r,i,o,s,a){const l=this.urlTree;return!!(null===l||this.isAnchorElement&&(0!==r||i||o||s||a||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(l,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info}),!this.isAnchorElement)}ngOnDestroy(){var r;null===(r=this.subscription)||void 0===r||r.unsubscribe()}updateHref(){var r;const i=this.urlTree;this.href=null!==i&&this.locationStrategy?null===(r=this.locationStrategy)||void 0===r?void 0:r.prepareExternalUrl(this.router.serializeUrl(i)):null;const o=null===this.href?null:function $k(t,e,n){return function Fz(t,e){return"src"===e&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===e&&("base"===t||"link"===t)?zk:jk}(e,n)(t)}(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",o)}applyAttributeValue(r,i){const o=this.renderer,s=this.el.nativeElement;null!==i?o.setAttribute(s,r,i):o.removeAttribute(s,r)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return(t=e).\u0275fac=function(r){return new(r||t)(Y(zo),Y(rf),Zd("tabindex"),Y(Qf),Y(f),Y(ef))},t.\u0275dir=xt({type:t,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){1&r&&fn("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),2&r&&ul("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[Fo.HasDecoratorInputTransform,"preserveFragment","preserveFragment",Wv],skipLocationChange:[Fo.HasDecoratorInputTransform,"skipLocationChange","skipLocationChange",Wv],replaceUrl:[Fo.HasDecoratorInputTransform,"replaceUrl","replaceUrl",Wv],routerLink:"routerLink"},standalone:!0,features:[zP,ca]}),e})();class _U{}let moe=(()=>{var t;class e{preload(r,i){return i().pipe(lm(()=>wi(null)))}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Dn({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),voe=(()=>{var t;class e{constructor(r,i,o,s,a){this.router=r,this.injector=o,this.preloadingStrategy=s,this.loader=a}setUpPreloading(){this.subscription=this.router.events.pipe(aA(r=>r instanceof qf),N_(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(r,i){const o=[];for(const u of i){var s,a;u.providers&&!u._injector&&(u._injector=wC(u.providers,r,`Route: ${u.path}`));const p=null!==(s=u._injector)&&void 0!==s?s:r,I=null!==(a=u._loadedInjector)&&void 0!==a?a:p;var l;(u.loadChildren&&!u._loadedRoutes&&void 0===u.canLoad||u.loadComponent&&!u._loadedComponent)&&o.push(this.preloadConfig(p,u)),(u.children||u._loadedRoutes)&&o.push(this.processRoutes(I,null!==(l=u.children)&&void 0!==l?l:u._loadedRoutes))}return ha(o).pipe(Zv())}preloadConfig(r,i){return this.preloadingStrategy.preload(i,()=>{let o;o=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(r,i):wi(null);const s=o.pipe(Vu(a=>{var l;return null===a?wi(void 0):(i._loadedRoutes=a.routes,i._loadedInjector=a.injector,this.processRoutes(null!==(l=a.injector)&&void 0!==l?l:r,a.routes))}));return i.loadComponent&&!i._loadedComponent?ha([s,this.loader.loadComponent(i)]).pipe(Zv()):s})}}return(t=e).\u0275fac=function(r){return new(r||t)(Pn(zo),Pn(RM),Pn(We),Pn(_U),Pn(OB))},t.\u0275prov=Dn({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();const VB=new $n("");let wU=(()=>{var t;class e{constructor(r,i,o,s,a={}){this.urlSerializer=r,this.transitions=i,this.viewportScroller=o,this.zone=s,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},a.scrollPositionRestoration||(a.scrollPositionRestoration="disabled"),a.anchorScrolling||(a.anchorScrolling="disabled")}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(r=>{r instanceof H_?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=r.navigationTrigger,this.restoredId=r.restoredState?r.restoredState.navigationId:0):r instanceof qf?(this.lastId=r.id,this.scheduleScrollEvent(r,this.urlSerializer.parse(r.urlAfterRedirects).fragment)):r instanceof o0&&r.code===Mb.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(r,this.urlSerializer.parse(r.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(r=>{r instanceof KO&&(r.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(r.position):r.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(r.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(r,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new KO(r,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){var r,i;null===(r=this.routerEventsSubscription)||void 0===r||r.unsubscribe(),null===(i=this.scrollEventsSubscription)||void 0===i||i.unsubscribe()}}return(t=e).\u0275fac=function(r){!function CR(){throw new Error("invalid")}()},t.\u0275prov=Dn({token:t,factory:t.\u0275fac}),e})();function af(t,e){return{\u0275kind:t,\u0275providers:e}}function bU(){const t=An(Mo);return e=>{var n,r;const i=t.get(Hf);if(e!==i.components[0])return;const o=t.get(zo),s=t.get(IU);1===t.get(QB)&&o.initialNavigation(),null===(n=t.get(EU,null,Jr.Optional))||void 0===n||n.setUpPreloading(),null===(r=t.get(VB,null,Jr.Optional))||void 0===r||r.init(),o.resetRootComponentType(i.componentTypes[0]),s.closed||(s.next(),s.complete(),s.unsubscribe())}}const IU=new $n("",{factory:()=>new de}),QB=new $n("",{providedIn:"root",factory:()=>1}),EU=new $n("");function Coe(t){return af(0,[{provide:EU,useExisting:voe},{provide:_U,useExisting:t}])}function Ioe(t){return af(9,[{provide:gU,useValue:roe},{provide:mU,useValue:{skipNextTransition:!(null==t||!t.skipInitialTransition),...t}}])}const SU=new $n("ROUTER_FORROOT_GUARD"),Eoe=[gh,{provide:cm,useClass:vB},zo,dm,{provide:rf,useFactory:function CU(t){return t.routerState.root},deps:[zo]},OB,[]];let TU=(()=>{var t;class e{constructor(r){}static forRoot(r,i){return{ngModule:e,providers:[Eoe,[],{provide:d0,multi:!0,useValue:r},{provide:SU,useFactory:Doe,deps:[[zo,new Go,new ds]]},{provide:c0,useValue:i||{}},null!=i&&i.useHash?{provide:ef,useClass:E3}:{provide:ef,useClass:I3},{provide:VB,useFactory:()=>{const t=An(Fee),e=An(Tn),n=An(c0),r=An(Hb),i=An(cm);return n.scrollOffset&&t.setOffset(n.scrollOffset),new wU(i,r,t,e,n)}},null!=i&&i.preloadingStrategy?Coe(i.preloadingStrategy).\u0275providers:[],null!=i&&i.initialNavigation?xoe(i):[],null!=i&&i.bindToComponentInputs?af(8,[nU,{provide:Ob,useExisting:nU}]).\u0275providers:[],null!=i&&i.enableViewTransitions?Ioe().\u0275providers:[],[{provide:BU,useFactory:bU},{provide:rT,multi:!0,useExisting:BU}]]}}static forChild(r){return{ngModule:e,providers:[{provide:d0,multi:!0,useValue:r}]}}}return(t=e).\u0275fac=function(r){return new(r||t)(Pn(SU,8))},t.\u0275mod=Mt({type:t}),t.\u0275inj=fo({}),e})();function Doe(t){return"guarded"}function xoe(t){return["disabled"===t.initialNavigation?af(3,[{provide:zC,multi:!0,useFactory:()=>{const e=An(zo);return()=>{e.setUpLocationChangeListener()}}},{provide:QB,useValue:2}]).\u0275providers:[],"enabledBlocking"===t.initialNavigation?af(2,[{provide:QB,useValue:0},{provide:zC,multi:!0,deps:[Mo],useFactory:e=>{const n=e.get(uZ,Promise.resolve());return()=>n.then(()=>new Promise(r=>{const i=e.get(zo),o=e.get(IU);yU(i,()=>{r(!0)}),e.get(Hb).afterPreactivation=()=>(r(!0),o.closed?wi(void 0):o),i.initialNavigation()}))}}]).\u0275providers:[]]}const BU=new $n("");class koe{constructor(){this.m=new Map}reset(e){this.m=new Map(Object.entries(e))}get(e,n){const r=this.m.get(e);return void 0!==r?r:n}getBoolean(e,n=!1){const r=this.m.get(e);return void 0===r?n:"string"==typeof r?"true"===r:!!r}getNumber(e,n){const r=parseFloat(this.m.get(e));return isNaN(r)?void 0!==n?n:NaN:r}set(e,n){this.m.set(e,n)}}const Jp=new koe,FU=t=>RU(t),RU=(t=window)=>{if(typeof t>"u")return[];t.Ionic=t.Ionic||{};let e=t.Ionic.platforms;return null==e&&(e=t.Ionic.platforms=Loe(t),e.forEach(n=>t.document.documentElement.classList.add(`plt-${n}`))),e},Loe=t=>{const e=Jp.get("platform");return Object.keys(OU).filter(n=>{const r=null==e?void 0:e[n];return"function"==typeof r?r(t):OU[n](t)})},HB=t=>!!(Am(t,/iPad/i)||Am(t,/Macintosh/i)&&jb(t)),PU=t=>Am(t,/android|sink/i),jb=t=>Woe(t,"(any-pointer:coarse)"),NU=t=>MU(t)||LU(t),MU=t=>!!(t.cordova||t.phonegap||t.PhoneGap),LU=t=>{const e=t.Capacitor;return!(null==e||!e.isNative)},Am=(t,e)=>e.test(t.navigator.userAgent),Woe=(t,e)=>{var n;return null===(n=t.matchMedia)||void 0===n?void 0:n.call(t,e).matches},OU={ipad:HB,iphone:t=>Am(t,/iPhone/i),ios:t=>Am(t,/iPhone|iPod/i)||HB(t),android:PU,phablet:t=>{const e=t.innerWidth,n=t.innerHeight,r=Math.min(e,n),i=Math.max(e,n);return r>390&&r<520&&i>620&&i<800},tablet:t=>{const e=t.innerWidth,n=t.innerHeight,r=Math.min(e,n),i=Math.max(e,n);return HB(t)||(t=>PU(t)&&!Am(t,/mobile/i))(t)||r>460&&r<820&&i>780&&i<1400},cordova:MU,capacitor:LU,electron:t=>Am(t,/electron/i),pwa:t=>{var e;return!!(null!==(e=t.matchMedia)&&void 0!==e&&e.call(t,"(display-mode: standalone)").matches||t.navigator.standalone)},mobile:jb,mobileweb:t=>jb(t)&&!NU(t),desktop:t=>!jb(t),hybrid:NU};var q_=_t(6031),Koe=_t(1656);function VU(t,e=Do){return t=null!=t?t:tse,Yt((n,r)=>{let i,o=!0;n.subscribe(Nn(r,s=>{const a=e(s);(o||!t(i,a))&&(o=!1,i=a,r.next(s))}))})}function tse(t,e){return t===e}class rse{constructor(e){this.menuController=e}open(e){return this.menuController.open(e)}close(e){return this.menuController.close(e)}toggle(e){return this.menuController.toggle(e)}enable(e,n){return this.menuController.enable(e,n)}swipeGesture(e,n){return this.menuController.swipeGesture(e,n)}isOpen(e){return this.menuController.isOpen(e)}isEnabled(e){return this.menuController.isEnabled(e)}get(e){return this.menuController.get(e)}getOpen(){return this.menuController.getOpen()}getMenus(){return this.menuController.getMenus()}registerAnimation(e,n){return this.menuController.registerAnimation(e,n)}isAnimating(){return this.menuController.isAnimating()}_getOpenSync(){return this.menuController._getOpenSync()}_createAnimation(e,n){return this.menuController._createAnimation(e,n)}_register(e){return this.menuController._register(e)}_unregister(e){return this.menuController._unregister(e)}_setOpen(e,n,r){return this.menuController._setOpen(e,n,r)}}let ise=(()=>{class t{constructor(n,r){this.doc=n,this.backButton=new de,this.keyboardDidShow=new de,this.keyboardDidHide=new de,this.pause=new de,this.resume=new de,this.resize=new de,r.run(()=>{var i;let o;this.win=n.defaultView,this.backButton.subscribeWithPriority=function(s,a){return this.subscribe(l=>l.register(s,u=>r.run(()=>a(u))))},h0(this.pause,n,"pause",r),h0(this.resume,n,"resume",r),h0(this.backButton,n,"ionBackButton",r),h0(this.resize,this.win,"resize",r),h0(this.keyboardDidShow,this.win,"ionKeyboardDidShow",r),h0(this.keyboardDidHide,this.win,"ionKeyboardDidHide",r),this._readyPromise=new Promise(s=>{o=s}),null!==(i=this.win)&&void 0!==i&&i.cordova?n.addEventListener("deviceready",()=>{o("cordova")},{once:!0}):o("dom")})}is(n){return((t,e)=>("string"==typeof t&&(e=t,t=void 0),FU(t).includes(e)))(this.win,n)}platforms(){return FU(this.win)}ready(){return this._readyPromise}get isRTL(){return"rtl"===this.doc.dir}getQueryParam(n){return ose(this.win.location.href,n)}isLandscape(){return!this.isPortrait()}isPortrait(){var n,r;return null===(n=(r=this.win).matchMedia)||void 0===n?void 0:n.call(r,"(orientation: portrait)").matches}testUserAgent(n){const r=this.win.navigator;return!!(null!=r&&r.userAgent&&r.userAgent.indexOf(n)>=0)}url(){return this.win.location.href}width(){return this.win.innerWidth}height(){return this.win.innerHeight}}return t.\u0275fac=function(n){return new(n||t)(Pn(bd),Pn(Tn))},t.\u0275prov=Dn({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const ose=(t,e)=>{e=e.replace(/[[\]\\]/g,"\\$&");const r=new RegExp("[\\?&]"+e+"=([^&#]*)").exec(t);return r?decodeURIComponent(r[1].replace(/\+/g," ")):null},h0=(t,e,n,r)=>{e&&e.addEventListener(n,i=>{r.run(()=>{t.next(null!=i?i.detail:void 0)})})};let hm=(()=>{class t{constructor(n,r,i,o){this.location=r,this.serializer=i,this.router=o,this.direction=QU,this.animated=HU,this.guessDirection="forward",this.lastNavId=-1,o&&o.events.subscribe(s=>{if(s instanceof H_){const a=s.restoredState?s.restoredState.navigationId:s.id;this.guessDirection=a<this.lastNavId?"back":"forward",this.guessAnimation=s.restoredState?void 0:this.guessDirection,this.lastNavId="forward"===this.guessDirection?s.id:a}}),n.backButton.subscribeWithPriority(0,s=>{this.pop(),s()})}navigateForward(n,r={}){return this.setDirection("forward",r.animated,r.animationDirection,r.animation),this.navigate(n,r)}navigateBack(n,r={}){return this.setDirection("back",r.animated,r.animationDirection,r.animation),this.navigate(n,r)}navigateRoot(n,r={}){return this.setDirection("root",r.animated,r.animationDirection,r.animation),this.navigate(n,r)}back(n={animated:!0,animationDirection:"back"}){return this.setDirection("back",n.animated,n.animationDirection,n.animation),this.location.back()}pop(){var n=this;return(0,V.A)(function*(){let r=n.topOutlet;for(;r;){if(yield r.pop())return!0;r=r.parentOutlet}return!1})()}setDirection(n,r,i,o){this.direction=n,this.animated=sse(n,r,i),this.animationBuilder=o}setTopOutlet(n){this.topOutlet=n}consumeTransition(){let r,n="root";const i=this.animationBuilder;return"auto"===this.direction?(n=this.guessDirection,r=this.guessAnimation):(r=this.animated,n=this.direction),this.direction=QU,this.animated=HU,this.animationBuilder=void 0,{direction:n,animation:r,animationBuilder:i}}navigate(n,r){if(Array.isArray(n))return this.router.navigate(n,r);{const i=this.serializer.parse(n.toString());return void 0!==r.queryParams&&(i.queryParams={...r.queryParams}),void 0!==r.fragment&&(i.fragment=r.fragment),this.router.navigateByUrl(i,r)}}}return t.\u0275fac=function(n){return new(n||t)(Pn(ise),Pn(gh),Pn(cm),Pn(zo,8))},t.\u0275prov=Dn({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const sse=(t,e,n)=>{if(!1!==e){if(void 0!==n)return n;if("forward"===t||"back"===t)return t;if("root"===t&&!0===e)return"forward"}},QU="auto",HU=void 0;let jB=(()=>{class t{get(n,r){const i=zB();return i?i.get(n,r):null}getBoolean(n,r){const i=zB();return!!i&&i.getBoolean(n,r)}getNumber(n,r){const i=zB();return i?i.getNumber(n,r):0}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=Dn({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const jU=new $n("USERCONFIG"),zB=()=>{if(typeof window<"u"){const t=window.Ionic;if(null!=t&&t.config)return t.config}return null};class zU{constructor(e={}){this.data=e}get(e){return this.data[e]}}let Y_=(()=>{class t{constructor(){this.zone=An(Tn),this.applicationRef=An(Hf)}create(n,r,i){return new ase(n,r,this.applicationRef,this.zone,i)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=Dn({token:t,factory:t.\u0275fac}),t})();class ase{constructor(e,n,r,i,o){this.environmentInjector=e,this.injector=n,this.applicationRef=r,this.zone=i,this.elementReferenceKey=o,this.elRefMap=new WeakMap,this.elEventsMap=new WeakMap}attachViewToDom(e,n,r,i){return this.zone.run(()=>new Promise(o=>{const s={...r};void 0!==this.elementReferenceKey&&(s[this.elementReferenceKey]=e),o(lse(this.zone,this.environmentInjector,this.injector,this.applicationRef,this.elRefMap,this.elEventsMap,e,n,s,i,this.elementReferenceKey))}))}removeViewFromDom(e,n){return this.zone.run(()=>new Promise(r=>{const i=this.elRefMap.get(n);if(i){i.destroy(),this.elRefMap.delete(n);const o=this.elEventsMap.get(n);o&&(o(),this.elEventsMap.delete(n))}r()}))}}const lse=(t,e,n,r,i,o,s,a,l,u,p)=>{const k=function sZ(t,e){const n=Ue(t),r=e.elementInjector||vn();return new n_(n).create(r,e.projectableNodes,e.hostElement,e.environmentInjector)}(a,{environmentInjector:e,elementInjector:Mo.create({providers:cse(l),parent:n})}),O=k.instance,q=k.location.nativeElement;if(l&&(p&&void 0!==O[p]&&console.error(`[Ionic Error]: ${p} is a reserved property when using ${s.tagName.toLowerCase()}. Rename or remove the "${p}" property from ${a.name}.`),Object.assign(O,l)),u)for(const Be of u)q.classList.add(Be);const ge=$U(t,O,q);return s.appendChild(q),r.attachView(k.hostView),i.set(q,k),o.set(q,ge),q},use=[q_.L,q_.a,q_.b,q_.c,q_.d],$U=(t,e,n)=>t.run(()=>{const r=use.filter(i=>"function"==typeof e[i]).map(i=>{const o=s=>e[i](s.detail);return n.addEventListener(i,o),()=>n.removeEventListener(i,o)});return()=>r.forEach(i=>i())}),GU=new $n("NavParamsToken"),cse=t=>[{provide:GU,useValue:t},{provide:zU,useFactory:dse,deps:[GU]}],dse=t=>new zU(t),WU=(t,e)=>((t=t.filter(n=>n.stackId!==e.stackId)).push(e),t),GB=(t,e)=>{const n=t.createUrlTree(["."],{relativeTo:e});return t.serializeUrl(n)},KU=(t,e)=>!e||t.stackId!==e.stackId,bse=(t,e)=>{if(!t)return;const n=qU(e);for(let r=0;r<n.length;r++){if(r>=t.length)return n[r];if(n[r]!==t[r])return}},qU=t=>t.split("/").map(e=>e.trim()).filter(e=>""!==e),YU=t=>{t&&(t.ref.destroy(),t.unlistenEvents())};class Ise{constructor(e,n,r,i,o,s){this.containerEl=n,this.router=r,this.navCtrl=i,this.zone=o,this.location=s,this.views=[],this.skipTransition=!1,this.nextId=0,this.tabsPrefix=void 0!==e?qU(e):void 0}createView(e,n){var r;const i=GB(this.router,n),o=null==e||null===(r=e.location)||void 0===r?void 0:r.nativeElement,s=$U(this.zone,e.instance,o);return{id:this.nextId++,stackId:bse(this.tabsPrefix,i),unlistenEvents:s,element:o,ref:e,url:i}}getExistingView(e){const n=GB(this.router,e),r=this.views.find(i=>i.url===n);return r&&r.ref.changeDetectorRef.reattach(),r}setActive(e){var n,r;const i=this.navCtrl.consumeTransition();let{direction:o,animation:s,animationBuilder:a}=i;const l=this.activeView,u=KU(e,l);u&&(o="back",s=void 0);const p=this.views.slice();let I;const k=this.router;k.getCurrentNavigation?I=k.getCurrentNavigation():null!==(n=k.navigations)&&void 0!==n&&n.value&&(I=k.navigations.value),null!==(r=I)&&void 0!==r&&null!==(r=r.extras)&&void 0!==r&&r.replaceUrl&&this.views.length>0&&this.views.splice(-1,1);const O=this.views.includes(e),q=this.insertView(e,o);O||e.ref.changeDetectorRef.detectChanges();const ge=e.animationBuilder;return void 0===a&&"back"===o&&!u&&void 0!==ge&&(a=ge),l&&(l.animationBuilder=a),this.zone.runOutsideAngular(()=>this.wait(()=>(l&&l.ref.changeDetectorRef.detach(),e.ref.changeDetectorRef.reattach(),this.transition(e,l,s,this.canGoBack(1),!1,a).then(()=>Ese(e,q,p,this.location,this.zone)).then(()=>({enteringView:e,direction:o,animation:s,tabSwitch:u})))))}canGoBack(e,n=this.getActiveStackId()){return this.getStack(n).length>e}pop(e,n=this.getActiveStackId()){return this.zone.run(()=>{const r=this.getStack(n);if(r.length<=e)return Promise.resolve(!1);const i=r[r.length-e-1];let o=i.url;const s=i.savedData;if(s){var a;const u=s.get("primary");null!=u&&null!==(a=u.route)&&void 0!==a&&null!==(a=a._routerState)&&void 0!==a&&a.snapshot.url&&(o=u.route._routerState.snapshot.url)}const{animationBuilder:l}=this.navCtrl.consumeTransition();return this.navCtrl.navigateBack(o,{...i.savedExtras,animation:l}).then(()=>!0)})}startBackTransition(){const e=this.activeView;if(e){const n=this.getStack(e.stackId),r=n[n.length-2],i=r.animationBuilder;return this.wait(()=>this.transition(r,e,"back",this.canGoBack(2),!0,i))}return Promise.resolve()}endBackTransition(e){e?(this.skipTransition=!0,this.pop(1)):this.activeView&&XU(this.activeView,this.views,this.views,this.location,this.zone)}getLastUrl(e){const n=this.getStack(e);return n.length>0?n[n.length-1]:void 0}getRootUrl(e){const n=this.getStack(e);return n.length>0?n[0]:void 0}getActiveStackId(){return this.activeView?this.activeView.stackId:void 0}getActiveView(){return this.activeView}hasRunningTask(){return void 0!==this.runningTask}destroy(){this.containerEl=void 0,this.views.forEach(YU),this.activeView=void 0,this.views=[]}getStack(e){return this.views.filter(n=>n.stackId===e)}insertView(e,n){return this.activeView=e,this.views=((t,e,n)=>"root"===n?WU(t,e):"forward"===n?((t,e)=>(t.indexOf(e)>=0?t=t.filter(r=>r.stackId!==e.stackId||r.id<=e.id):t.push(e),t))(t,e):((t,e)=>t.indexOf(e)>=0?t.filter(r=>r.stackId!==e.stackId||r.id<=e.id):WU(t,e))(t,e))(this.views,e,n),this.views.slice()}transition(e,n,r,i,o,s){if(this.skipTransition)return this.skipTransition=!1,Promise.resolve(!1);if(n===e)return Promise.resolve(!1);const a=e?e.element:void 0,l=n?n.element:void 0,u=this.containerEl;return a&&a!==l&&(a.classList.add("ion-page"),a.classList.add("ion-page-invisible"),a.parentElement!==u&&u.appendChild(a),u.commit)?u.commit(a,l,{duration:void 0===r?0:void 0,direction:r,showGoBack:i,progressAnimation:o,animationBuilder:s}):Promise.resolve(!1)}wait(e){var n=this;return(0,V.A)(function*(){void 0!==n.runningTask&&(yield n.runningTask,n.runningTask=void 0);const r=n.runningTask=e();return r.finally(()=>n.runningTask=void 0),r})()}}const Ese=(t,e,n,r,i)=>"function"==typeof requestAnimationFrame?new Promise(o=>{requestAnimationFrame(()=>{XU(t,e,n,r,i),o()})}):Promise.resolve(),XU=(t,e,n,r,i)=>{i.run(()=>n.filter(o=>!e.includes(o)).forEach(YU)),e.forEach(o=>{const a=r.path().split("?")[0].split("#")[0];if(o!==t&&o.url!==a){const l=o.element;l.setAttribute("aria-hidden","true"),l.classList.add("ion-page-hidden"),o.ref.changeDetectorRef.detach()}})};let JU=(()=>{class t{constructor(n,r,i,o,s,a,l,u){this.parentOutlet=u,this.activatedView=null,this.proxyMap=new WeakMap,this.currentActivatedRoute$=new J(null),this.activated=null,this._activatedRoute=null,this.name=ro,this.stackWillChange=new X,this.stackDidChange=new X,this.activateEvents=new X,this.deactivateEvents=new X,this.parentContexts=An(dm),this.location=An(MA),this.environmentInjector=An(We),this.inputBinder=An(ZU,{optional:!0}),this.supportsBindingToComponentInputs=!0,this.config=An(jB),this.navCtrl=An(hm),this.nativeEl=o.nativeElement,this.name=n||ro,this.tabsPrefix="true"===r?GB(s,l):void 0,this.stackCtrl=new Ise(this.tabsPrefix,this.nativeEl,s,this.navCtrl,a,i),this.parentContexts.onChildOutletCreated(this.name,this)}get activatedComponentRef(){return this.activated}set animation(n){this.nativeEl.animation=n}set animated(n){this.nativeEl.animated=n}set swipeGesture(n){this._swipeGesture=n,this.nativeEl.swipeHandler=n?{canStart:()=>this.stackCtrl.canGoBack(1)&&!this.stackCtrl.hasRunningTask(),onStart:()=>this.stackCtrl.startBackTransition(),onEnd:r=>this.stackCtrl.endBackTransition(r)}:void 0}ngOnDestroy(){var n;this.stackCtrl.destroy(),null===(n=this.inputBinder)||void 0===n||n.unsubscribeFromRouteData(this)}getContext(){return this.parentContexts.getContext(this.name)}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(!this.activated){const n=this.getContext();null!=n&&n.route&&this.activateWith(n.route,n.injector)}new Promise(n=>(0,Koe.c)(this.nativeEl,n)).then(()=>{void 0===this._swipeGesture&&(this.swipeGesture=this.config.getBoolean("swipeBackEnabled","ios"===this.nativeEl.mode))})}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){throw new Error("incompatible reuse strategy")}attach(n,r){throw new Error("incompatible reuse strategy")}deactivate(){if(this.activated){if(this.activatedView){const r=this.getContext();this.activatedView.savedData=new Map(r.children.contexts);const i=this.activatedView.savedData.get("primary");if(i&&r.route&&(i.route={...r.route}),this.activatedView.savedExtras={},r.route){const o=r.route.snapshot;this.activatedView.savedExtras.queryParams=o.queryParams,this.activatedView.savedExtras.fragment=o.fragment}}const n=this.component;this.activatedView=null,this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){var i;if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=n;let o,s=this.stackCtrl.getExistingView(n);if(s){o=this.activated=s.ref;const u=s.savedData;u&&(this.getContext().children.contexts=u),this.updateActivatedRouteProxy(o.instance,n)}else{var a;const u=n._futureSnapshot,p=this.parentContexts.getOrCreateContext(this.name).children,I=new J(null),k=this.createActivatedRouteProxy(I,n),O=new Sse(k,p,this.location.injector),q=null!==(a=u.routeConfig.component)&&void 0!==a?a:u.component;o=this.activated=this.location.createComponent(q,{index:this.location.length,injector:O,environmentInjector:null!=r?r:this.environmentInjector}),I.next(o.instance),s=this.stackCtrl.createView(this.activated,n),this.proxyMap.set(o.instance,k),this.currentActivatedRoute$.next({component:o.instance,activatedRoute:n})}null===(i=this.inputBinder)||void 0===i||i.bindActivatedRouteToOutletComponent(this),this.activatedView=s,this.navCtrl.setTopOutlet(this);const l=this.stackCtrl.getActiveView();this.stackWillChange.emit({enteringView:s,tabSwitch:KU(s,l)}),this.stackCtrl.setActive(s).then(u=>{this.activateEvents.emit(o.instance),this.stackDidChange.emit(u)})}canGoBack(n=1,r){return this.stackCtrl.canGoBack(n,r)}pop(n=1,r){return this.stackCtrl.pop(n,r)}getLastUrl(n){const r=this.stackCtrl.getLastUrl(n);return r?r.url:void 0}getLastRouteView(n){return this.stackCtrl.getLastUrl(n)}getRootView(n){return this.stackCtrl.getRootUrl(n)}getActiveStackId(){return this.stackCtrl.getActiveStackId()}createActivatedRouteProxy(n,r){const i=new rf;return i._futureSnapshot=r._futureSnapshot,i._routerState=r._routerState,i.snapshot=r.snapshot,i.outlet=r.outlet,i.component=r.component,i._paramMap=this.proxyObservable(n,"paramMap"),i._queryParamMap=this.proxyObservable(n,"queryParamMap"),i.url=this.proxyObservable(n,"url"),i.params=this.proxyObservable(n,"params"),i.queryParams=this.proxyObservable(n,"queryParams"),i.fragment=this.proxyObservable(n,"fragment"),i.data=this.proxyObservable(n,"data"),i}proxyObservable(n,r){return n.pipe(aA(i=>!!i),cl(i=>this.currentActivatedRoute$.pipe(aA(o=>null!==o&&o.component===i),cl(o=>o&&o.activatedRoute[r]),VU())))}updateActivatedRouteProxy(n,r){const i=this.proxyMap.get(n);if(!i)throw new Error("Could not find activated route proxy for view");i._futureSnapshot=r._futureSnapshot,i._routerState=r._routerState,i.snapshot=r.snapshot,i.outlet=r.outlet,i.component=r.component,this.currentActivatedRoute$.next({component:n,activatedRoute:r})}}return t.\u0275fac=function(n){return new(n||t)(Zd("name"),Zd("tabs"),Y(gh),Y(f),Y(zo),Y(Tn),Y(rf),Y(t,12))},t.\u0275dir=xt({type:t,selectors:[["ion-router-outlet"]],inputs:{animated:"animated",animation:"animation",mode:"mode",swipeGesture:"swipeGesture",name:"name"},outputs:{stackWillChange:"stackWillChange",stackDidChange:"stackDidChange",activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),t})();class Sse{constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===rf?this.route:e===dm?this.childContexts:this.parent.get(e,n)}}const ZU=new $n("");let Tse=(()=>{class t{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(n){this.unsubscribeFromRouteData(n),this.subscribeToRouteData(n)}unsubscribeFromRouteData(n){var r;null===(r=this.outletDataSubscriptions.get(n))||void 0===r||r.unsubscribe(),this.outletDataSubscriptions.delete(n)}subscribeToRouteData(n){const{activatedRoute:r}=n,i=Ib([r.queryParams,r.params,r.data]).pipe(cl(([o,s,a],l)=>(a={...o,...s,...a},0===l?wi(a):Promise.resolve(a)))).subscribe(o=>{if(!n.isActivated||!n.activatedComponentRef||n.activatedRoute!==r||null===r.component)return void this.unsubscribeFromRouteData(n);const s=w3(r.component);if(s)for(const{templateName:a}of s.inputs)n.activatedComponentRef.setInput(a,o[a]);else this.unsubscribeFromRouteData(n)});this.outletDataSubscriptions.set(n,i)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=Dn({token:t,factory:t.\u0275fac}),t})();function Dse(t){return null!=t&&t.componentInputBindingEnabled?new Tse:null}let kse=(()=>{class t{constructor(n,r,i,o,s){this.locationStrategy=n,this.navCtrl=r,this.elementRef=i,this.router=o,this.routerLink=s,this.routerDirection="forward"}ngOnInit(){this.updateTargetUrlAndHref()}ngOnChanges(){this.updateTargetUrlAndHref()}updateTargetUrlAndHref(){var n;if(null!==(n=this.routerLink)&&void 0!==n&&n.urlTree){const r=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.routerLink.urlTree));this.elementRef.nativeElement.href=r}}onClick(n){this.navCtrl.setDirection(this.routerDirection,void 0,void 0,this.routerAnimation),n.preventDefault()}}return t.\u0275fac=function(n){return new(n||t)(Y(ef),Y(hm),Y(f),Y(zo),Y(_u,8))},t.\u0275dir=xt({type:t,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(n,r){1&n&&fn("click",function(o){return r.onClick(o)})},inputs:{routerDirection:"routerDirection",routerAnimation:"routerAnimation"},features:[ca]}),t})();const e6=t=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(t):"function"==typeof requestAnimationFrame?requestAnimationFrame(t):setTimeout(t);class KB{constructor(e){this.ctrl=e}create(e){return this.ctrl.create(e||{})}dismiss(e,n,r){return this.ctrl.dismiss(e,n,r)}getTop(){return this.ctrl.getTop()}}_t(3503),_t(1497),_t(2604),_t(3003),_t(405);var Vse=_t(8436),Qse=_t(464),Hse=_t(7818),qB=_t(4133),jse=(_t(8476),_t(9081));_t(8221),_t(9457);const $se=Vse.i,Gse=function(){var t=(0,V.A)(function*(e,n){if(!(typeof window>"u"))return yield $se(),(0,jse.b)(JSON.parse('[["ion-menu_3",[[33,"ion-menu-button",{"color":[513],"disabled":[4],"menu":[1],"autoHide":[4,"auto-hide"],"type":[1],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]],[33,"ion-menu",{"contentId":[513,"content-id"],"menuId":[513,"menu-id"],"type":[1025],"disabled":[1028],"side":[513],"swipeGesture":[4,"swipe-gesture"],"maxEdgeStart":[2,"max-edge-start"],"isPaneVisible":[32],"isEndSide":[32],"isOpen":[64],"isActive":[64],"open":[64],"close":[64],"toggle":[64],"setOpen":[64]},[[16,"ionSplitPaneVisible","onSplitPaneChanged"],[2,"click","onBackdropClick"]],{"type":["typeChanged"],"disabled":["disabledChanged"],"side":["sideChanged"],"swipeGesture":["swipeGestureChanged"]}],[1,"ion-menu-toggle",{"menu":[1],"autoHide":[4,"auto-hide"],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]]]],["ion-fab_3",[[33,"ion-fab-button",{"color":[513],"activated":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1],"show":[4],"translucent":[4],"type":[1],"size":[1],"closeIcon":[1,"close-icon"]}],[1,"ion-fab",{"horizontal":[1],"vertical":[1],"edge":[4],"activated":[1028],"close":[64],"toggle":[64]},null,{"activated":["activatedChanged"]}],[1,"ion-fab-list",{"activated":[4],"side":[1]},null,{"activated":["activatedChanged"]}]]],["ion-refresher_2",[[0,"ion-refresher-content",{"pullingIcon":[1025,"pulling-icon"],"pullingText":[1,"pulling-text"],"refreshingSpinner":[1025,"refreshing-spinner"],"refreshingText":[1,"refreshing-text"]}],[32,"ion-refresher",{"pullMin":[2,"pull-min"],"pullMax":[2,"pull-max"],"closeDuration":[1,"close-duration"],"snapbackDuration":[1,"snapback-duration"],"pullFactor":[2,"pull-factor"],"disabled":[4],"nativeRefresher":[32],"state":[32],"complete":[64],"cancel":[64],"getProgress":[64]},null,{"disabled":["disabledChanged"]}]]],["ion-back-button",[[33,"ion-back-button",{"color":[513],"defaultHref":[1025,"default-href"],"disabled":[516],"icon":[1],"text":[1],"type":[1],"routerAnimation":[16]}]]],["ion-toast",[[33,"ion-toast",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"color":[513],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"duration":[2],"header":[1],"layout":[1],"message":[1],"keyboardClose":[4,"keyboard-close"],"position":[1],"positionAnchor":[1,"position-anchor"],"buttons":[16],"translucent":[4],"animated":[4],"icon":[1],"htmlAttributes":[16],"swipeGesture":[1,"swipe-gesture"],"isOpen":[4,"is-open"],"trigger":[1],"revealContentToScreenReader":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"swipeGesture":["swipeGestureChanged"],"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-card_5",[[33,"ion-card",{"color":[513],"button":[4],"type":[1],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}],[32,"ion-card-content"],[33,"ion-card-header",{"color":[513],"translucent":[4]}],[33,"ion-card-subtitle",{"color":[513]}],[33,"ion-card-title",{"color":[513]}]]],["ion-item-option_3",[[33,"ion-item-option",{"color":[513],"disabled":[4],"download":[1],"expandable":[4],"href":[1],"rel":[1],"target":[1],"type":[1]}],[32,"ion-item-options",{"side":[1],"fireSwipeEvent":[64]}],[0,"ion-item-sliding",{"disabled":[4],"state":[32],"getOpenAmount":[64],"getSlidingRatio":[64],"open":[64],"close":[64],"closeOpened":[64]},null,{"disabled":["disabledChanged"]}]]],["ion-accordion_2",[[49,"ion-accordion",{"value":[1],"disabled":[4],"readonly":[4],"toggleIcon":[1,"toggle-icon"],"toggleIconSlot":[1,"toggle-icon-slot"],"state":[32],"isNext":[32],"isPrevious":[32]},null,{"value":["valueChanged"]}],[33,"ion-accordion-group",{"animated":[4],"multiple":[4],"value":[1025],"disabled":[4],"readonly":[4],"expand":[1],"requestAccordionToggle":[64],"getAccordions":[64]},[[0,"keydown","onKeydown"]],{"value":["valueChanged"],"disabled":["disabledChanged"],"readonly":["readonlyChanged"]}]]],["ion-infinite-scroll_2",[[32,"ion-infinite-scroll-content",{"loadingSpinner":[1025,"loading-spinner"],"loadingText":[1,"loading-text"]}],[0,"ion-infinite-scroll",{"threshold":[1],"disabled":[4],"position":[1],"isLoading":[32],"complete":[64]},null,{"threshold":["thresholdChanged"],"disabled":["disabledChanged"]}]]],["ion-reorder_2",[[33,"ion-reorder",null,[[2,"click","onClick"]]],[0,"ion-reorder-group",{"disabled":[4],"state":[32],"complete":[64]},null,{"disabled":["disabledChanged"]}]]],["ion-segment_2",[[33,"ion-segment-button",{"disabled":[1028],"layout":[1],"type":[1],"value":[8],"checked":[32],"setFocus":[64]},null,{"value":["valueChanged"]}],[33,"ion-segment",{"color":[513],"disabled":[4],"scrollable":[4],"swipeGesture":[4,"swipe-gesture"],"value":[1032],"selectOnFocus":[4,"select-on-focus"],"activated":[32]},[[0,"keydown","onKeyDown"]],{"color":["colorChanged"],"swipeGesture":["swipeGestureChanged"],"value":["valueChanged"],"disabled":["disabledChanged"]}]]],["ion-tab-bar_2",[[33,"ion-tab-button",{"disabled":[4],"download":[1],"href":[1],"rel":[1],"layout":[1025],"selected":[1028],"tab":[1],"target":[1]},[[8,"ionTabBarChanged","onTabBarChanged"]]],[33,"ion-tab-bar",{"color":[513],"selectedTab":[1,"selected-tab"],"translucent":[4],"keyboardVisible":[32]},null,{"selectedTab":["selectedTabChanged"]}]]],["ion-chip",[[33,"ion-chip",{"color":[513],"outline":[4],"disabled":[4]}]]],["ion-datetime-button",[[33,"ion-datetime-button",{"color":[513],"disabled":[516],"datetime":[1],"datetimePresentation":[32],"dateText":[32],"timeText":[32],"datetimeActive":[32],"selectedButton":[32]}]]],["ion-input",[[38,"ion-input",{"color":[513],"accept":[1],"autocapitalize":[1],"autocomplete":[1],"autocorrect":[1],"autofocus":[4],"clearInput":[4,"clear-input"],"clearOnEdit":[4,"clear-on-edit"],"counter":[4],"counterFormatter":[16],"debounce":[2],"disabled":[4],"enterkeyhint":[1],"errorText":[1,"error-text"],"fill":[1],"inputmode":[1],"helperText":[1,"helper-text"],"label":[1],"labelPlacement":[1,"label-placement"],"legacy":[4],"max":[8],"maxlength":[2],"min":[8],"minlength":[2],"multiple":[4],"name":[1],"pattern":[1],"placeholder":[1],"readonly":[4],"required":[4],"shape":[1],"spellcheck":[4],"step":[1],"size":[2],"type":[1],"value":[1032],"hasFocus":[32],"setFocus":[64],"getInputElement":[64]},null,{"debounce":["debounceChanged"],"disabled":["disabledChanged"],"placeholder":["placeholderChanged"],"value":["valueChanged"]}]]],["ion-searchbar",[[34,"ion-searchbar",{"color":[513],"animated":[4],"autocapitalize":[1],"autocomplete":[1],"autocorrect":[1],"cancelButtonIcon":[1,"cancel-button-icon"],"cancelButtonText":[1,"cancel-button-text"],"clearIcon":[1,"clear-icon"],"debounce":[2],"disabled":[4],"inputmode":[1],"enterkeyhint":[1],"maxlength":[2],"minlength":[2],"name":[1],"placeholder":[1],"searchIcon":[1,"search-icon"],"showCancelButton":[1,"show-cancel-button"],"showClearButton":[1,"show-clear-button"],"spellcheck":[4],"type":[1],"value":[1025],"focused":[32],"noAnimate":[32],"setFocus":[64],"getInputElement":[64]},null,{"lang":["onLangChanged"],"dir":["onDirChanged"],"debounce":["debounceChanged"],"value":["valueChanged"],"showCancelButton":["showCancelButtonChanged"]}]]],["ion-toggle",[[33,"ion-toggle",{"color":[513],"name":[1],"checked":[1028],"disabled":[4],"value":[1],"enableOnOffLabels":[4,"enable-on-off-labels"],"labelPlacement":[1,"label-placement"],"legacy":[4],"justify":[1],"alignment":[1],"activated":[32]},null,{"disabled":["disabledChanged"]}]]],["ion-nav_2",[[1,"ion-nav",{"delegate":[16],"swipeGesture":[1028,"swipe-gesture"],"animated":[4],"animation":[16],"rootParams":[16],"root":[1],"push":[64],"insert":[64],"insertPages":[64],"pop":[64],"popTo":[64],"popToRoot":[64],"removeIndex":[64],"setRoot":[64],"setPages":[64],"setRouteId":[64],"getRouteId":[64],"getActive":[64],"getByIndex":[64],"canGoBack":[64],"getPrevious":[64]},null,{"swipeGesture":["swipeGestureChanged"],"root":["rootChanged"]}],[0,"ion-nav-link",{"component":[1],"componentProps":[16],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}]]],["ion-textarea",[[38,"ion-textarea",{"color":[513],"autocapitalize":[1],"autofocus":[4],"clearOnEdit":[4,"clear-on-edit"],"debounce":[2],"disabled":[4],"fill":[1],"inputmode":[1],"enterkeyhint":[1],"maxlength":[2],"minlength":[2],"name":[1],"placeholder":[1],"readonly":[4],"required":[4],"spellcheck":[4],"cols":[514],"rows":[2],"wrap":[1],"autoGrow":[516,"auto-grow"],"value":[1025],"counter":[4],"counterFormatter":[16],"errorText":[1,"error-text"],"helperText":[1,"helper-text"],"label":[1],"labelPlacement":[1,"label-placement"],"legacy":[4],"shape":[1],"hasFocus":[32],"setFocus":[64],"getInputElement":[64]},null,{"debounce":["debounceChanged"],"disabled":["disabledChanged"],"value":["valueChanged"]}]]],["ion-backdrop",[[33,"ion-backdrop",{"visible":[4],"tappable":[4],"stopPropagation":[4,"stop-propagation"]},[[2,"click","onMouseDown"]]]]],["ion-loading",[[34,"ion-loading",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"message":[1],"cssClass":[1,"css-class"],"duration":[2],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"spinner":[1025],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-breadcrumb_2",[[33,"ion-breadcrumb",{"collapsed":[4],"last":[4],"showCollapsedIndicator":[4,"show-collapsed-indicator"],"color":[1],"active":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"separator":[4],"target":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}],[33,"ion-breadcrumbs",{"color":[513],"maxItems":[2,"max-items"],"itemsBeforeCollapse":[2,"items-before-collapse"],"itemsAfterCollapse":[2,"items-after-collapse"],"collapsed":[32],"activeChanged":[32]},[[0,"collapsedClick","onCollapsedClick"]],{"maxItems":["maxItemsChanged"],"itemsBeforeCollapse":["maxItemsChanged"],"itemsAfterCollapse":["maxItemsChanged"]}]]],["ion-modal",[[33,"ion-modal",{"hasController":[4,"has-controller"],"overlayIndex":[2,"overlay-index"],"delegate":[16],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"breakpoints":[16],"initialBreakpoint":[2,"initial-breakpoint"],"backdropBreakpoint":[2,"backdrop-breakpoint"],"handle":[4],"handleBehavior":[1,"handle-behavior"],"component":[1],"componentProps":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"animated":[4],"presentingElement":[16],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"keepContentsMounted":[4,"keep-contents-mounted"],"canDismiss":[4,"can-dismiss"],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"setCurrentBreakpoint":[64],"getCurrentBreakpoint":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-route_4",[[0,"ion-route",{"url":[1],"component":[1],"componentProps":[16],"beforeLeave":[16],"beforeEnter":[16]},null,{"url":["onUpdate"],"component":["onUpdate"],"componentProps":["onComponentProps"]}],[0,"ion-route-redirect",{"from":[1],"to":[1]},null,{"from":["propDidChange"],"to":["propDidChange"]}],[0,"ion-router",{"root":[1],"useHash":[4,"use-hash"],"canTransition":[64],"push":[64],"back":[64],"printDebug":[64],"navChanged":[64]},[[8,"popstate","onPopState"],[4,"ionBackButton","onBackButton"]]],[1,"ion-router-link",{"color":[513],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}]]],["ion-avatar_3",[[33,"ion-avatar"],[33,"ion-badge",{"color":[513]}],[1,"ion-thumbnail"]]],["ion-col_3",[[1,"ion-col",{"offset":[1],"offsetXs":[1,"offset-xs"],"offsetSm":[1,"offset-sm"],"offsetMd":[1,"offset-md"],"offsetLg":[1,"offset-lg"],"offsetXl":[1,"offset-xl"],"pull":[1],"pullXs":[1,"pull-xs"],"pullSm":[1,"pull-sm"],"pullMd":[1,"pull-md"],"pullLg":[1,"pull-lg"],"pullXl":[1,"pull-xl"],"push":[1],"pushXs":[1,"push-xs"],"pushSm":[1,"push-sm"],"pushMd":[1,"push-md"],"pushLg":[1,"push-lg"],"pushXl":[1,"push-xl"],"size":[1],"sizeXs":[1,"size-xs"],"sizeSm":[1,"size-sm"],"sizeMd":[1,"size-md"],"sizeLg":[1,"size-lg"],"sizeXl":[1,"size-xl"]},[[9,"resize","onResize"]]],[1,"ion-grid",{"fixed":[4]}],[1,"ion-row"]]],["ion-tab_2",[[1,"ion-tab",{"active":[1028],"delegate":[16],"tab":[1],"component":[1],"setActive":[64]},null,{"active":["changeActive"]}],[1,"ion-tabs",{"useRouter":[1028,"use-router"],"selectedTab":[32],"select":[64],"getTab":[64],"getSelected":[64],"setRouteId":[64],"getRouteId":[64]}]]],["ion-img",[[1,"ion-img",{"alt":[1],"src":[1],"loadSrc":[32],"loadError":[32]},null,{"src":["srcChanged"]}]]],["ion-progress-bar",[[33,"ion-progress-bar",{"type":[1],"reversed":[4],"value":[2],"buffer":[2],"color":[513]}]]],["ion-range",[[33,"ion-range",{"color":[513],"debounce":[2],"name":[1],"label":[1],"dualKnobs":[4,"dual-knobs"],"min":[2],"max":[2],"pin":[4],"pinFormatter":[16],"snaps":[4],"step":[2],"ticks":[4],"activeBarStart":[1026,"active-bar-start"],"disabled":[4],"value":[1026],"labelPlacement":[1,"label-placement"],"legacy":[4],"ratioA":[32],"ratioB":[32],"pressedKnob":[32]},null,{"debounce":["debounceChanged"],"min":["minChanged"],"max":["maxChanged"],"activeBarStart":["activeBarStartChanged"],"disabled":["disabledChanged"],"value":["valueChanged"]}]]],["ion-split-pane",[[33,"ion-split-pane",{"contentId":[513,"content-id"],"disabled":[4],"when":[8],"visible":[32]},null,{"visible":["visibleChanged"],"disabled":["updateState"],"when":["updateState"]}]]],["ion-text",[[1,"ion-text",{"color":[513]}]]],["ion-item_8",[[33,"ion-item-divider",{"color":[513],"sticky":[4]}],[32,"ion-item-group"],[1,"ion-skeleton-text",{"animated":[4]}],[32,"ion-list",{"lines":[1],"inset":[4],"closeSlidingItems":[64]}],[33,"ion-list-header",{"color":[513],"lines":[1]}],[49,"ion-item",{"color":[513],"button":[4],"detail":[4],"detailIcon":[1,"detail-icon"],"disabled":[4],"download":[1],"fill":[1],"shape":[1],"href":[1],"rel":[1],"lines":[1],"counter":[4],"routerAnimation":[16],"routerDirection":[1,"router-direction"],"target":[1],"type":[1],"counterFormatter":[16],"multipleInputs":[32],"focusable":[32],"counterString":[32]},[[0,"ionInput","handleIonInput"],[0,"ionColor","labelColorChanged"],[0,"ionStyle","itemStyle"]],{"button":["buttonChanged"],"counterFormatter":["counterFormatterChanged"]}],[34,"ion-label",{"color":[513],"position":[1],"noAnimate":[32]},null,{"color":["colorChanged"],"position":["positionChanged"]}],[33,"ion-note",{"color":[513]}]]],["ion-select_3",[[33,"ion-select",{"cancelText":[1,"cancel-text"],"color":[513],"compareWith":[1,"compare-with"],"disabled":[4],"fill":[1],"interface":[1],"interfaceOptions":[8,"interface-options"],"justify":[1],"label":[1],"labelPlacement":[1,"label-placement"],"legacy":[4],"multiple":[4],"name":[1],"okText":[1,"ok-text"],"placeholder":[1],"selectedText":[1,"selected-text"],"toggleIcon":[1,"toggle-icon"],"expandedIcon":[1,"expanded-icon"],"shape":[1],"value":[1032],"isExpanded":[32],"open":[64]},null,{"disabled":["styleChanged"],"isExpanded":["styleChanged"],"placeholder":["styleChanged"],"value":["styleChanged"]}],[1,"ion-select-option",{"disabled":[4],"value":[8]}],[34,"ion-select-popover",{"header":[1],"subHeader":[1,"sub-header"],"message":[1],"multiple":[4],"options":[16]}]]],["ion-picker-internal",[[33,"ion-picker-internal",{"exitInputMode":[64]},[[1,"touchstart","preventTouchStartPropagation"]]]]],["ion-datetime_3",[[33,"ion-datetime",{"color":[1],"name":[1],"disabled":[4],"formatOptions":[16],"readonly":[4],"isDateEnabled":[16],"min":[1025],"max":[1025],"presentation":[1],"cancelText":[1,"cancel-text"],"doneText":[1,"done-text"],"clearText":[1,"clear-text"],"yearValues":[8,"year-values"],"monthValues":[8,"month-values"],"dayValues":[8,"day-values"],"hourValues":[8,"hour-values"],"minuteValues":[8,"minute-values"],"locale":[1],"firstDayOfWeek":[2,"first-day-of-week"],"titleSelectedDatesFormatter":[16],"multiple":[4],"highlightedDates":[16],"value":[1025],"showDefaultTitle":[4,"show-default-title"],"showDefaultButtons":[4,"show-default-buttons"],"showClearButton":[4,"show-clear-button"],"showDefaultTimeLabel":[4,"show-default-time-label"],"hourCycle":[1,"hour-cycle"],"size":[1],"preferWheel":[4,"prefer-wheel"],"showMonthAndYear":[32],"activeParts":[32],"workingParts":[32],"isTimePopoverOpen":[32],"forceRenderDate":[32],"confirm":[64],"reset":[64],"cancel":[64]},null,{"formatOptions":["formatOptionsChanged"],"disabled":["disabledChanged"],"min":["minChanged"],"max":["maxChanged"],"presentation":["presentationChanged"],"yearValues":["yearValuesChanged"],"monthValues":["monthValuesChanged"],"dayValues":["dayValuesChanged"],"hourValues":["hourValuesChanged"],"minuteValues":["minuteValuesChanged"],"value":["valueChanged"]}],[34,"ion-picker",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"columns":[16],"cssClass":[1,"css-class"],"duration":[2],"showBackdrop":[4,"show-backdrop"],"backdropDismiss":[4,"backdrop-dismiss"],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"getColumn":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}],[32,"ion-picker-column",{"col":[16]},null,{"col":["colChanged"]}]]],["ion-radio_2",[[33,"ion-radio",{"color":[513],"name":[1],"disabled":[4],"value":[8],"labelPlacement":[1,"label-placement"],"legacy":[4],"justify":[1],"alignment":[1],"checked":[32],"buttonTabindex":[32],"setFocus":[64],"setButtonTabindex":[64]},null,{"value":["valueChanged"],"checked":["styleChanged"],"color":["styleChanged"],"disabled":["styleChanged"]}],[0,"ion-radio-group",{"allowEmptySelection":[4,"allow-empty-selection"],"compareWith":[1,"compare-with"],"name":[1],"value":[1032]},[[4,"keydown","onKeydown"]],{"value":["valueChanged"]}]]],["ion-ripple-effect",[[1,"ion-ripple-effect",{"type":[1],"addRipple":[64]}]]],["ion-button_2",[[33,"ion-button",{"color":[513],"buttonType":[1025,"button-type"],"disabled":[516],"expand":[513],"fill":[1537],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"download":[1],"href":[1],"rel":[1],"shape":[513],"size":[513],"strong":[4],"target":[1],"type":[1],"form":[1]},null,{"disabled":["disabledChanged"]}],[1,"ion-icon",{"mode":[1025],"color":[1],"ios":[1],"md":[1],"flipRtl":[4,"flip-rtl"],"name":[513],"src":[1],"icon":[8],"size":[1],"lazy":[4],"sanitize":[4],"svgContent":[32],"isVisible":[32]},null,{"name":["loadIcon"],"src":["loadIcon"],"icon":["loadIcon"],"ios":["loadIcon"],"md":["loadIcon"]}]]],["ion-action-sheet",[[34,"ion-action-sheet",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"header":[1],"subHeader":[1,"sub-header"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-alert",[[34,"ion-alert",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"header":[1],"subHeader":[1,"sub-header"],"message":[1],"buttons":[16],"inputs":[1040],"backdropDismiss":[4,"backdrop-dismiss"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},[[4,"keydown","onKeydown"]],{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"],"buttons":["buttonsChanged"],"inputs":["inputsChanged"]}]]],["ion-app_8",[[0,"ion-app",{"setFocus":[64]}],[1,"ion-content",{"color":[513],"fullscreen":[4],"forceOverscroll":[1028,"force-overscroll"],"scrollX":[4,"scroll-x"],"scrollY":[4,"scroll-y"],"scrollEvents":[4,"scroll-events"],"getScrollElement":[64],"getBackgroundElement":[64],"scrollToTop":[64],"scrollToBottom":[64],"scrollByPoint":[64],"scrollToPoint":[64]},[[9,"resize","onResize"]]],[36,"ion-footer",{"collapse":[1],"translucent":[4],"keyboardVisible":[32]}],[36,"ion-header",{"collapse":[1],"translucent":[4]}],[1,"ion-router-outlet",{"mode":[1025],"delegate":[16],"animated":[4],"animation":[16],"swipeHandler":[16],"commit":[64],"setRouteId":[64],"getRouteId":[64]},null,{"swipeHandler":["swipeHandlerChanged"]}],[33,"ion-title",{"color":[513],"size":[1]},null,{"size":["sizeChanged"]}],[33,"ion-toolbar",{"color":[513]},[[0,"ionStyle","childrenStyle"]]],[34,"ion-buttons",{"collapse":[4]}]]],["ion-picker-column-internal",[[33,"ion-picker-column-internal",{"disabled":[4],"items":[16],"value":[1032],"color":[513],"numericInput":[4,"numeric-input"],"isActive":[32],"scrollActiveItemIntoView":[64],"setValue":[64]},null,{"value":["valueChange"]}]]],["ion-popover",[[33,"ion-popover",{"hasController":[4,"has-controller"],"delegate":[16],"overlayIndex":[2,"overlay-index"],"enterAnimation":[16],"leaveAnimation":[16],"component":[1],"componentProps":[16],"keyboardClose":[4,"keyboard-close"],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"event":[8],"showBackdrop":[4,"show-backdrop"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"triggerAction":[1,"trigger-action"],"trigger":[1],"size":[1],"dismissOnSelect":[4,"dismiss-on-select"],"reference":[1],"side":[1],"alignment":[1025],"arrow":[4],"isOpen":[4,"is-open"],"keyboardEvents":[4,"keyboard-events"],"keepContentsMounted":[4,"keep-contents-mounted"],"presented":[32],"presentFromTrigger":[64],"present":[64],"dismiss":[64],"getParentPopover":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"trigger":["onTriggerChange"],"triggerAction":["onTriggerChange"],"isOpen":["onIsOpenChange"]}]]],["ion-checkbox",[[33,"ion-checkbox",{"color":[513],"name":[1],"checked":[1028],"indeterminate":[1028],"disabled":[4],"value":[8],"labelPlacement":[1,"label-placement"],"justify":[1],"alignment":[1],"legacy":[4]},null,{"checked":["styleChanged"],"disabled":["styleChanged"]}]]],["ion-spinner",[[1,"ion-spinner",{"color":[513],"duration":[2],"name":[1],"paused":[4]}]]]]'),n)});return function(n,r){return t.apply(this,arguments)}}(),Cr=["*"],rae=(t,e)=>{const n=t.prototype;e.forEach(r=>{Object.defineProperty(n,r,{get(){return this.el[r]},set(i){this.z.runOutsideAngular(()=>this.el[r]=i)},configurable:!0})})},iae=(t,e)=>{const n=t.prototype;e.forEach(r=>{n[r]=function(){const i=arguments;return this.z.runOutsideAngular(()=>this.el[r].apply(this.el,i))}})};function Er(t){return function(n){const{defineCustomElementFn:r,inputs:i,methods:o}=t;return void 0!==r&&r(),i&&rae(n,i),o&&iae(n,o),n}}let t6=(()=>{let t=class{constructor(n,r,i){this.z=i,n.detach(),this.el=r.nativeElement}};return t.\u0275fac=function(n){return new(n||t)(Y(er),Y(f),Y(Tn))},t.\u0275cmp=ee({type:t,selectors:[["ion-app"]],ngContentSelectors:Cr,decls:1,vars:0,template:function(n,r){1&n&&(hr(),dr(0))},encapsulation:2,changeDetection:0}),t=(0,rr.Cg)([Er({})],t),t})(),Yl=(()=>{let t=class{constructor(n,r,i){this.z=i,n.detach(),this.el=r.nativeElement}};return t.\u0275fac=function(n){return new(n||t)(Y(er),Y(f),Y(Tn))},t.\u0275cmp=ee({type:t,selectors:[["ion-icon"]],inputs:{color:"color",flipRtl:"flipRtl",icon:"icon",ios:"ios",lazy:"lazy",md:"md",mode:"mode",name:"name",sanitize:"sanitize",size:"size",src:"src"},ngContentSelectors:Cr,decls:1,vars:0,template:function(n,r){1&n&&(hr(),dr(0))},encapsulation:2,changeDetection:0}),t=(0,rr.Cg)([Er({inputs:["color","flipRtl","icon","ios","lazy","md","mode","name","sanitize","size","src"]})],t),t})(),n6=(()=>{let t=class{constructor(n,r,i){this.z=i,n.detach(),this.el=r.nativeElement}};return t.\u0275fac=function(n){return new(n||t)(Y(er),Y(f),Y(Tn))},t.\u0275cmp=ee({type:t,selectors:[["ion-label"]],inputs:{color:"color",mode:"mode",position:"position"},ngContentSelectors:Cr,decls:1,vars:0,template:function(n,r){1&n&&(hr(),dr(0))},encapsulation:2,changeDetection:0}),t=(0,rr.Cg)([Er({inputs:["color","mode","position"]})],t),t})(),J_=(()=>{class t extends JU{constructor(n,r,i,o,s,a,l,u){super(n,r,i,o,s,a,l,u),this.parentOutlet=u}}return t.\u0275fac=function(n){return new(n||t)(Zd("name"),Zd("tabs"),Y(gh),Y(f),Y(zo),Y(Tn),Y(rf),Y(t,12))},t.\u0275dir=xt({type:t,selectors:[["ion-router-outlet"]],features:[Xi]}),t})(),Ed=(()=>{class t extends kse{}return t.\u0275fac=(()=>{let e;return function(r){return(e||(e=os(t)))(r||t)}})(),t.\u0275dir=xt({type:t,selectors:[["","routerLink","",5,"a",5,"area"]],features:[Xi]}),t})();const xle={provide:yu,useExisting:Wi(()=>r6),multi:!0};let r6=(()=>{class t extends cB{}return t.\u0275fac=(()=>{let e;return function(r){return(e||(e=os(t)))(r||t)}})(),t.\u0275dir=xt({type:t,selectors:[["ion-input","type","number","max","","formControlName",""],["ion-input","type","number","max","","formControl",""],["ion-input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(n,r){2&n&&ul("max",r._enabled?r.max:null)},features:[ps([xle]),Xi]}),t})();const Fle={provide:yu,useExisting:Wi(()=>i6),multi:!0};let i6=(()=>{class t extends dB{}return t.\u0275fac=(()=>{let e;return function(r){return(e||(e=os(t)))(r||t)}})(),t.\u0275dir=xt({type:t,selectors:[["ion-input","type","number","min","","formControlName",""],["ion-input","type","number","min","","formControl",""],["ion-input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(n,r){2&n&&ul("min",r._enabled?r.min:null)},features:[ps([Fle]),Xi]}),t})(),kle=(()=>{class t extends rse{constructor(){super(Hse.m)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=Dn({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Rle=(()=>{class t extends KB{constructor(){super(qB.m),this.angularDelegate=An(Y_),this.injector=An(Mo),this.environmentInjector=An(We)}create(n){return super.create({...n,delegate:this.angularDelegate.create(this.environmentInjector,this.injector,"modal")})}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=Dn({token:t,factory:t.\u0275fac}),t})();class Ple extends KB{constructor(){super(qB.c),this.angularDelegate=An(Y_),this.injector=An(Mo),this.environmentInjector=An(We)}create(e){return super.create({...e,delegate:this.angularDelegate.create(this.environmentInjector,this.injector,"popover")})}}let Nle=(()=>{class t extends KB{constructor(){super(qB.t)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=Dn({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const Mle=(t,e,n)=>()=>{const r=e.defaultView;if(r&&typeof window<"u"){(0,Qse.s)({...t,_zoneGate:o=>n.run(o)});const i="__zone_symbol__addEventListener"in e.body?"__zone_symbol__addEventListener":"addEventListener";return function zse(){var t=[];if(typeof window<"u"){var e=window;(!e.customElements||e.Element&&(!e.Element.prototype.closest||!e.Element.prototype.matches||!e.Element.prototype.remove||!e.Element.prototype.getRootNode))&&t.push(_t.e(7278).then(_t.t.bind(_t,2190,23))),("function"!=typeof Object.assign||!Object.entries||!Array.prototype.find||!Array.prototype.includes||!String.prototype.startsWith||!String.prototype.endsWith||e.NodeList&&!e.NodeList.prototype.forEach||!e.fetch||!function(){try{var r=new URL("b","http://a");return r.pathname="c%20d","http://a/c%20d"===r.href&&r.searchParams}catch{return!1}}()||typeof WeakMap>"u")&&t.push(_t.e(9329).then(_t.t.bind(_t,7783,23)))}return Promise.all(t)}().then(()=>Gse(r,{exclude:["ion-tabs","ion-tab"],syncQueue:!0,raf:e6,jmp:o=>n.runOutsideAngular(o),ael(o,s,a,l){o[i](s,a,l)},rel(o,s,a,l){o.removeEventListener(s,a,l)}}))}};let Lle=(()=>{class t{static forRoot(n){return{ngModule:t,providers:[{provide:jU,useValue:n},{provide:zC,useFactory:Mle,multi:!0,deps:[jU,bd,Tn]},{provide:ZU,useFactory:Dse,deps:[zo]}]}}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Mt({type:t}),t.\u0275inj=fo({providers:[Y_,Rle,Ple],imports:[kT]}),t})();var So=_t(1660),mc=_t(7852);(0,mc.registerVersion)("firebase","10.10.0","app");class Vle extends Qt{constructor(e,n){super()}schedule(e,n=0){return this}}const Gb={setInterval(t,e,...n){const{delegate:r}=Gb;return null!=r&&r.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){const{delegate:e}=Gb;return((null==e?void 0:e.clearInterval)||clearInterval)(t)},delegate:void 0};class o6 extends Vle{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;const i=this.id,o=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(o,i,n)),this.pending=!0,this.delay=n,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(o,this.id,n),this}requestAsyncId(e,n,r=0){return Gb.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return n;null!=n&&Gb.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,n);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let i,r=!1;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,on(r,this),null!=e&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}}const XB={now:()=>(XB.delegate||Date).now(),delegate:void 0};class Z_{constructor(e,n=Z_.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}}Z_.now=XB.now;class s6 extends Z_{constructor(e,n=Z_.now){super(e,n),this.actions=[],this._active=!1}flush(e){const{actions:n}=this;if(this._active)return void n.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}}const jle=new class Hle extends s6{}(class Qle extends o6{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}}),a6=new s6(o6),Wb=new $v("ANGULARFIRE2_VERSION");class l6{constructor(){return((t,e)=>{const n=(0,mc.getApps)(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r})($le)}}const $le="app-check";function p0(){}class u6{constructor(e,n=jle){(0,So.A)(this,"zone",void 0),(0,So.A)(this,"delegate",void 0),this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){const i=this.zone;return this.delegate.schedule(function(s){i.runGuarded(()=>{e.apply(this,[s])})},n,r)}}class Gle{constructor(e){(0,So.A)(this,"zone",void 0),(0,So.A)(this,"task",null),this.zone=e}call(e,n){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",p0,{},p0,p0)),n.pipe(gc({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let c6=(()=>{var t;class e{constructor(r){(0,So.A)(this,"ngZone",void 0),(0,So.A)(this,"outsideAngular",void 0),(0,So.A)(this,"insideAngular",void 0),this.ngZone=r,this.outsideAngular=r.runOutsideAngular(()=>new u6(Zone.current)),this.insideAngular=r.run(()=>new u6(Zone.current,a6)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return t=e,(0,So.A)(e,"\u0275fac",function(r){return new(r||t)(Pn(Tn))}),(0,So.A)(e,"\u0275prov",Dn({token:t,factory:t.\u0275fac,providedIn:"root"})),e})();function uA(t){return function Kle(t){return function(n){return(n=n.lift(new Gle(t.ngZone))).pipe(qv(t.outsideAngular),nm(t.insideAngular))}}(function g0(){const t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return t}())(t)}var Cn=_t(3345);Cn.A.registerVersion("firebase","10.10.0","app-compat");const Jle=["ngOnDestroy"];class d6{constructor(e){return e}}const Kb=new $n("angularfire2.app.options"),qb=new $n("angularfire2.app.name");function JB(t,e,n){const i="object"==typeof n&&n||{};i.name=i.name||"string"==typeof n&&n||"[DEFAULT]";const s=Cn.A.apps.filter(a=>a&&a.name===i.name)[0]||e.runOutsideAngular(()=>Cn.A.initializeApp(t,i));try{if(JSON.stringify(t)!==JSON.stringify(s.options)){const a=!!module.hot;tue("error",`${s.name} Firebase App already initialized with different options${a?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new d6(s)}const tue=(t,...e)=>{},nue={provide:d6,useFactory:JB,deps:[Kb,Tn,[new Go,qb]]};let rue=(()=>{var t;class e{static initializeApp(r,i){return{ngModule:e,providers:[{provide:Kb,useValue:r},{provide:qb,useValue:i}]}}constructor(r){Cn.A.registerVersion("angularfire",Wb.full,"core"),Cn.A.registerVersion("angularfire",Wb.full,"app-compat"),Cn.A.registerVersion("angular",wX.full,r.toString())}}return t=e,(0,So.A)(e,"\u0275fac",function(r){return new(r||t)(Pn(Fe))}),(0,So.A)(e,"\u0275mod",Mt({type:t})),(0,So.A)(e,"\u0275inj",fo({providers:[nue]})),e})();function A6(t,e,n,r,i){const[,o,s]=globalThis.\u0275AngularfireInstanceCache.find(a=>a[0]===t)||[];if(o)return function iue(t,e){try{return t.toString()===e.toString()}catch{return t===e}}(i,s)||(h6("error",`${e} was already initialized on the ${n} Firebase App with different settings.${oue?" You may need to reload as Firebase is not HMR aware.":""}`),h6("warn",{is:i,was:s})),o;{const a=r();return globalThis.\u0275AngularfireInstanceCache.push([t,a,i]),a}}const oue=typeof module<"u"&&!!module.hot,h6=(t,...e)=>{};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[]),_t(2438);class aue extends de{constructor(e=1/0,n=1/0,r=XB){super(),this._bufferSize=e,this._windowTime=n,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=n===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,n)}next(e){const{isStopped:n,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:o,_windowTime:s}=this;n||(r.push(e),!i&&r.push(o.now()+s)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const n=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,o=i.slice();for(let s=0;s<o.length&&!e.closed;s+=r?1:2)e.next(o[s]);return this._checkFinalizedStatuses(e),n}_trimBuffer(){const{_bufferSize:e,_timestampProvider:n,_buffer:r,_infiniteTimeWindow:i}=this,o=(i?1:2)*e;if(e<1/0&&o<r.length&&r.splice(0,r.length-o),!i){const s=n.now();let a=0;for(let l=1;l<r.length&&r[l]<=s;l+=2)a=l;a&&r.splice(0,a+1)}}}function ZB(t,e,...n){if(!0===e)return void t();if(!1===e)return;const r=new ii({next:()=>{r.unsubscribe(),t()}});return Id(e(...n)).subscribe(r)}function f6(t,e,n){let r,i=!1;return t&&"object"==typeof t?({bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:n}=t):r=null!=t?t:1/0,function lue(t={}){const{connector:e=(()=>new de),resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=t;return o=>{let s,a,l,u=0,p=!1,I=!1;const k=()=>{null==a||a.unsubscribe(),a=void 0},O=()=>{k(),s=l=void 0,p=I=!1},q=()=>{const ge=s;O(),null==ge||ge.unsubscribe()};return Yt((ge,Be)=>{u++,!I&&!p&&k();const Ye=l=null!=l?l:e();Be.add(()=>{u--,0===u&&!I&&!p&&(a=ZB(q,i))}),Ye.subscribe(Be),!s&&u>0&&(s=new ii({next:tt=>Ye.next(tt),error:tt=>{I=!0,k(),a=ZB(O,n,tt),Ye.error(tt)},complete:()=>{p=!0,k(),a=ZB(O,r),Ye.complete()}}),Id(ge).subscribe(s))})(o)}}({connector:()=>new aue(r,e,n),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function p6(t,e){return or(e)?cl(()=>t,e):cl(()=>t)}const g6=new $n("angularfire2.auth.use-emulator"),m6=new $n("angularfire2.auth.settings"),v6=new $n("angularfire2.auth.tenant-id"),y6=new $n("angularfire2.auth.langugage-code"),_6=new $n("angularfire2.auth.use-device-language"),w6=new $n("angularfire.auth.persistence"),C6=(t,e,n,r,i,o,s,a)=>A6(`${t.name}.auth`,"AngularFireAuth",t.name,()=>{const l=e.runOutsideAngular(()=>t.auth());if(n&&l.useEmulator(...n),r&&(l.tenantId=r),l.languageCode=i,o&&l.useDeviceLanguage(),s)for(const[u,p]of Object.entries(s))l.settings[u]=p;return a&&l.setPersistence(a),l},[n,r,i,o,s,a]);let jA=(()=>{var t;class e{constructor(r,i,o,s,a,l,u,p,I,k,O,q){(0,So.A)(this,"authState",void 0),(0,So.A)(this,"idToken",void 0),(0,So.A)(this,"user",void 0),(0,So.A)(this,"idTokenResult",void 0),(0,So.A)(this,"credential",void 0);const ge=new de,Be=wi(void 0).pipe(nm(a.outsideAngular),cl(()=>s.runOutsideAngular(()=>Promise.resolve().then(_t.bind(_t,2438)))),zn(()=>JB(r,s,i)),zn(Ye=>C6(Ye,s,l,p,I,k,u,O)),f6({bufferSize:1,refCount:!1}));if(db(o))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=wi(null);else{Be.pipe(Yp()).subscribe();const Ye=Be.pipe(cl(Ut=>Ut.getRedirectResult().then(Fn=>Fn,()=>null)),uA,f6({bufferSize:1,refCount:!1})),tt=Be.pipe(cl(Ut=>new Zi(Fn=>({unsubscribe:s.runOutsideAngular(()=>Ut.onAuthStateChanged(Kn=>Fn.next(Kn),Kn=>Fn.error(Kn),()=>Fn.complete()))})))),Bt=Be.pipe(cl(Ut=>new Zi(Fn=>({unsubscribe:s.runOutsideAngular(()=>Ut.onIdTokenChanged(Kn=>Fn.next(Kn),Kn=>Fn.error(Kn),()=>Fn.complete()))}))));this.authState=Ye.pipe(p6(tt),qv(a.outsideAngular),nm(a.insideAngular)),this.user=Ye.pipe(p6(Bt),qv(a.outsideAngular),nm(a.insideAngular)),this.idToken=this.user.pipe(cl(Ut=>Ut?ha(Ut.getIdToken()):wi(null))),this.idTokenResult=this.user.pipe(cl(Ut=>Ut?ha(Ut.getIdTokenResult()):wi(null))),this.credential=function sue(...t){const e=x_(t),n=function tne(t,e){return"number"==typeof HT(t)?t.pop():e}(t,1/0),r=t;return r.length?1===r.length?Id(r[0]):Zv(n)(ha(r,e)):_h}(Ye,ge,this.authState.pipe(aA(Ut=>!Ut))).pipe(zn(Ut=>null!=Ut&&Ut.user?Ut:null),qv(a.outsideAngular),nm(a.insideAngular))}return((t,e,n,r={})=>new Proxy(t,{get:(i,o)=>n.runOutsideAngular(()=>{var s;if(t[o])return null!=r&&null!==(s=r.spy)&&void 0!==s&&s.get&&r.spy.get(o,t[o]),t[o];if(Jle.indexOf(o)>-1)return()=>{};const a=e.toPromise().then(l=>{const u=null==l?void 0:l[o];return"function"==typeof u?u.bind(l):null!=u&&u.then?u.then(p=>n.run(()=>p)):n.run(()=>u)});return new Proxy(()=>{},{get:(l,u)=>a[u],apply:(l,u,p)=>a.then(I=>{var k;const O=null==I?void 0:I(...p);return null!=r&&null!==(k=r.spy)&&void 0!==k&&k.apply&&r.spy.apply(o,p,O),O})})})}))(this,Be,s,{spy:{apply:(Ye,tt,Bt)=>{(Ye.startsWith("signIn")||Ye.startsWith("createUser"))&&Bt.then(Ut=>ge.next(Ut))}}})}}return t=e,(0,So.A)(e,"\u0275fac",function(r){return new(r||t)(Pn(Kb),Pn(qb,8),Pn(Fe),Pn(Tn),Pn(c6),Pn(g6,8),Pn(m6,8),Pn(v6,8),Pn(y6,8),Pn(_6,8),Pn(w6,8),Pn(l6,8))}),(0,So.A)(e,"\u0275prov",Dn({token:t,factory:t.\u0275fac,providedIn:"any"})),e})(),cue=(()=>{var t;class e{constructor(){Cn.A.registerVersion("angularfire",Wb.full,"auth-compat")}}return t=e,(0,So.A)(e,"\u0275fac",function(r){return new(r||t)}),(0,So.A)(e,"\u0275mod",Mt({type:t})),(0,So.A)(e,"\u0275inj",fo({providers:[jA]})),e})();function eD(){return Yt((t,e)=>{let n,r=!1;t.subscribe(Nn(e,i=>{const o=n;n=i,r&&e.next([o,i]),r=!0}))})}var Br,Ch=_t(1362),cA=_t(8041),be=_t(1076),due=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},bh={},tD=tD||{},Gi=due||self;function Yb(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function e1(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var nD="closure_uid_"+(1e9*Math.random()>>>0),hue=0;function fue(t,e,n){return t.call.apply(t.bind,arguments)}function pue(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function vc(t,e,n){return(vc=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?fue:pue).apply(null,arguments)}function Xb(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function wu(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,o){for(var s=Array(arguments.length-2),a=2;a<arguments.length;a++)s[a-2]=arguments[a];return e.prototype[i].apply(r,s)}}function Zp(){this.s=this.s,this.o=this.o}Zp.prototype.s=!1,Zp.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function Aue(t){Object.prototype.hasOwnProperty.call(t,nD)&&t[nD]||(t[nD]=++hue)}(this)},Zp.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const b6=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function rD(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function I6(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(Yb(r)){const i=t.length||0,o=r.length||0;t.length=i+o;for(let s=0;s<o;s++)t[i+s]=r[s]}else t.push(r)}}function yc(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}yc.prototype.h=function(){this.defaultPrevented=!0};var mue=function(){if(!Gi.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{const n=()=>{};Gi.addEventListener("test",n,e),Gi.removeEventListener("test",n,e)}catch{}return t}();function t1(t){return/^[\s\xa0]*$/.test(t)}function Jb(){var t=Gi.navigator;return t&&(t=t.userAgent)?t:""}function lf(t){return-1!=Jb().indexOf(t)}function iD(t){return iD[" "](t),t}iD[" "]=function(){};var sD,t,yue=lf("Opera"),m0=lf("Trident")||lf("MSIE"),E6=lf("Edge"),oD=E6||m0,S6=lf("Gecko")&&!(-1!=Jb().toLowerCase().indexOf("webkit")&&!lf("Edge"))&&!(lf("Trident")||lf("MSIE"))&&!lf("Edge"),_ue=-1!=Jb().toLowerCase().indexOf("webkit")&&!lf("Edge");function T6(){var t=Gi.document;return t?t.documentMode:void 0}e:{var aD="",lD=(t=Jb(),S6?/rv:([^\);]+)(\)|;)/.exec(t):E6?/Edge\/([\d\.]+)/.exec(t):m0?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):_ue?/WebKit\/(\S+)/.exec(t):yue?/(?:Version)[ \/]?(\S+)/.exec(t):void 0);if(lD&&(aD=lD?lD[1]:""),m0){var uD=T6();if(null!=uD&&uD>parseFloat(aD)){sD=String(uD);break e}}sD=aD}var wue=Gi.document&&m0&&(T6()||parseInt(sD,10))||void 0;function n1(t,e){if(yc.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(S6){e:{try{iD(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:Cue[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&n1.$.h.call(this)}}wu(n1,yc);var Cue={2:"touch",3:"pen",4:"mouse"};n1.prototype.h=function(){n1.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var r1="closure_listenable_"+(1e6*Math.random()|0),bue=0;function Iue(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++bue,this.fa=this.ia=!1}function Zb(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function dD(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function D6(t){const e={};for(const n in t)e[n]=t[n];return e}const x6="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function F6(t,e){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)t[n]=r[n];for(let o=0;o<x6.length;o++)n=x6[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function eI(t){this.src=t,this.g={},this.h=0}function AD(t,e){var n=e.type;if(n in t.g){var o,r=t.g[n],i=b6(r,e);(o=0<=i)&&Array.prototype.splice.call(r,i,1),o&&(Zb(e),0==t.g[n].length&&(delete t.g[n],t.h--))}}function hD(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.fa&&o.listener==e&&o.capture==!!n&&o.la==r)return i}return-1}eI.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.g[o])||(t=this.g[o]=[],this.h++);var s=hD(t,e,r,i);return-1<s?(e=t[s],n||(e.ia=!1)):((e=new Iue(e,this.src,o,!!r,i)).ia=n,t.push(e)),e};var fD="closure_lm_"+(1e6*Math.random()|0),pD={};function k6(t,e,n,r,i){if(r&&r.once)return P6(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)k6(t,e[o],n,r,i);return null}return n=yD(n),t&&t[r1]?t.O(e,n,e1(r)?!!r.capture:!!r,i):R6(t,e,n,!1,r,i)}function R6(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=e1(i)?!!i.capture:!!i,a=mD(t);if(a||(t[fD]=a=new eI(t)),(n=a.add(e,n,r,s,o)).proxy)return n;if(r=function Sue(){const e=Tue;return function t(n){return e.call(t.src,t.listener,n)}}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)mue||(i=s),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(M6(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function P6(t,e,n,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)P6(t,e[o],n,r,i);return null}return n=yD(n),t&&t[r1]?t.P(e,n,e1(r)?!!r.capture:!!r,i):R6(t,e,n,!0,r,i)}function N6(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)N6(t,e[o],n,r,i);else r=e1(r)?!!r.capture:!!r,n=yD(n),t&&t[r1]?(t=t.i,(e=String(e).toString())in t.g&&-1<(n=hD(o=t.g[e],n,r,i))&&(Zb(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.g[e],t.h--))):t&&(t=mD(t))&&(e=t.g[e.toString()],t=-1,e&&(t=hD(e,n,r,i)),(n=-1<t?e[t]:null)&&gD(n))}function gD(t){if("number"!=typeof t&&t&&!t.fa){var e=t.src;if(e&&e[r1])AD(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(M6(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=mD(e))?(AD(n,t),0==n.h&&(n.src=null,e[fD]=null)):Zb(t)}}}function M6(t){return t in pD?pD[t]:pD[t]="on"+t}function Tue(t,e){if(t.fa)t=!0;else{e=new n1(e,this);var n=t.listener,r=t.la||t.src;t.ia&&gD(t),t=n.call(r,e)}return t}function mD(t){return(t=t[fD])instanceof eI?t:null}var vD="__closure_events_fn_"+(1e9*Math.random()>>>0);function yD(t){return"function"==typeof t?t:(t[vD]||(t[vD]=function(e){return t.handleEvent(e)}),t[vD])}function Cu(){Zp.call(this),this.i=new eI(this),this.S=this,this.J=null}function Qu(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,"string"==typeof e)e=new yc(e,t);else if(e instanceof yc)e.target=e.target||t;else{var i=e;F6(e=new yc(r,t),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=e.g=n[o];i=tI(s,r,!0,e)&&i}if(i=tI(s=e.g=t,r,!0,e)&&i,i=tI(s,r,!1,e)&&i,n)for(o=0;o<n.length;o++)i=tI(s=e.g=n[o],r,!1,e)&&i}function tI(t,e,n,r){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.fa&&s.capture==n){var a=s.listener,l=s.la||s.src;s.ia&&AD(t.i,s),i=!1!==a.call(l,r)&&i}}return i&&!r.defaultPrevented}wu(Cu,Zp),Cu.prototype[r1]=!0,Cu.prototype.removeEventListener=function(t,e,n,r){N6(this,t,e,n,r)},Cu.prototype.N=function(){if(Cu.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Zb(n[r]);delete t.g[e],t.h--}}this.J=null},Cu.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)},Cu.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};var _D=Gi.JSON.stringify;function Due(){var t=wD;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var L6=new class Bue{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new Fue,t=>t.reset());class Fue{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function kue(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function Rue(t){Gi.setTimeout(()=>{throw t},0)}let i1,o1=!1,wD=new class xue{constructor(){this.h=this.g=null}add(e,n){const r=L6.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}},O6=()=>{const t=Gi.Promise.resolve(void 0);i1=()=>{t.then(Pue)}};var Pue=()=>{for(var t;t=Due();){try{t.h.call(t.g)}catch(n){Rue(n)}var e=L6;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}o1=!1};function nI(t,e){Cu.call(this),this.h=t||1,this.g=e||Gi,this.j=vc(this.qb,this),this.l=Date.now()}function CD(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}function bD(t,e,n){if("function"==typeof t)n&&(t=vc(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=vc(t.handleEvent,t)}return 2147483647<Number(e)?-1:Gi.setTimeout(t,e||0)}function U6(t){t.g=bD(()=>{t.g=null,t.i&&(t.i=!1,U6(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}wu(nI,Cu),(Br=nI.prototype).ga=!1,Br.T=null,Br.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Qu(this,"tick"),this.ga&&(CD(this),this.start()))}},Br.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Br.N=function(){nI.$.N.call(this),CD(this),delete this.g};class Nue extends Zp{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:U6(this)}N(){super.N(),this.g&&(Gi.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function s1(t){Zp.call(this),this.h=t,this.g={}}wu(s1,Zp);var V6=[];function Q6(t,e,n,r){Array.isArray(n)||(n&&(V6[0]=n.toString()),n=V6);for(var i=0;i<n.length;i++){var o=k6(e,n[i],r||t.handleEvent,!1,t.h||t);if(!o)break;t.g[o.key]=o}}function H6(t){dD(t.g,function(e,n){this.g.hasOwnProperty(n)&&gD(e)},t),t.g={}}function rI(){this.g=!0}function v0(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function Uue(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<i.length;s++)i[s]=""}}}return _D(n)}catch{return e}}(t,n)+(r?" "+r:"")})}s1.prototype.N=function(){s1.$.N.call(this),H6(this)},s1.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},rI.prototype.Ea=function(){this.g=!1},rI.prototype.info=function(){};var pm={},j6=null;function iI(){return j6=j6||new Cu}function z6(t){yc.call(this,pm.Ta,t)}function a1(t){const e=iI();Qu(e,new z6(e))}function $6(t,e){yc.call(this,pm.STAT_EVENT,t),this.stat=e}function Yc(t){const e=iI();Qu(e,new $6(e,t))}function G6(t,e){yc.call(this,pm.Ua,t),this.size=e}function l1(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return Gi.setTimeout(function(){t()},e)}pm.Ta="serverreachability",wu(z6,yc),pm.STAT_EVENT="statevent",wu($6,yc),pm.Ua="timingevent",wu(G6,yc);var oI={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},W6={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function ID(){}function q6(){}ID.prototype.h=null;var TD,u1={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function ED(){yc.call(this,"d")}function SD(){yc.call(this,"c")}function sI(){}function c1(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new s1(this),this.P=Vue,this.V=new nI(t=oD?125:void 0),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new Y6}function Y6(){this.i=null,this.g="",this.h=!1}wu(ED,yc),wu(SD,yc),wu(sI,ID),sI.prototype.g=function(){return new XMLHttpRequest},sI.prototype.i=function(){return{}},TD=new sI;var Vue=45e3,X6={},BD={};function DD(t,e,n){t.L=1,t.A=cI(Yf(e)),t.u=n,t.S=!0,J6(t,null)}function J6(t,e){t.G=Date.now(),d1(t),t.B=Yf(t.A);var n=t.B,r=t.W;Array.isArray(r)||(r=[String(r)]),lV(n.i,"t",r),t.o=0,n=t.l.J,t.h=new Y6,t.g=kV(t.l,n?e:null,!t.u),0<t.O&&(t.M=new Nue(vc(t.Pa,t,t.g),t.O)),Q6(t.U,t.g,"readystatechange",t.nb),e=t.I?D6(t.I):{},t.u?(t.v||(t.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.B,t.v,t.u,e)):(t.v="GET",t.g.ha(t.B,t.v,null,e)),a1(),function Mue(t,e,n,r,i,o){t.info(function(){if(t.g)if(o)for(var s="",a=o.split("&"),l=0;l<a.length;l++){var u=a[l].split("=");if(1<u.length){var p=u[0];u=u[1];var I=p.split("_");s=2<=I.length&&"type"==I[1]?s+(p+"=")+u+"&":s+(p+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+s})}(t.j,t.v,t.B,t.m,t.W,t.u)}function Z6(t){return!!t.g&&"GET"==t.v&&2!=t.L&&t.l.Ha}function eV(t,e,n){let i,r=!0;for(;!t.J&&t.o<n.length;){if(i=Que(t,n),i==BD){4==e&&(t.s=4,Yc(14),r=!1),v0(t.j,t.m,null,"[Incomplete Response]");break}if(i==X6){t.s=4,Yc(15),v0(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}v0(t.j,t.m,i,null),xD(t,i)}Z6(t)&&0!=t.o&&(t.h.g=t.h.g.slice(t.o),t.o=0),4!=e||0!=n.length||t.h.h||(t.s=1,Yc(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,(e=t.l).g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),LD(e),e.M=!0,Yc(11))):(v0(t.j,t.m,n,"[Invalid Chunked Response]"),gm(t),A1(t))}function Que(t,e){var n=t.o,r=e.indexOf("\n",n);return-1==r?BD:(n=Number(e.substring(n,r)),isNaN(n)?X6:(r+=1)+n>e.length?BD:(e=e.slice(r,r+n),t.o=r+n,e))}function d1(t){t.Y=Date.now()+t.P,tV(t,t.P)}function tV(t,e){if(null!=t.C)throw Error("WatchDog timer not null");t.C=l1(vc(t.lb,t),e)}function aI(t){t.C&&(Gi.clearTimeout(t.C),t.C=null)}function A1(t){0==t.l.H||t.J||BV(t.l,t)}function gm(t){aI(t);var e=t.M;e&&"function"==typeof e.sa&&e.sa(),t.M=null,CD(t.V),H6(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function xD(t,e){try{var n=t.l;if(0!=n.H&&(n.g==t||FD(n.i,t)))if(!t.K&&FD(n.i,t)&&3==n.H){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<t.G))break e;gI(n),fI(n)}MD(n),Yc(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=l1(vc(n.ib,n),6e3));if(1>=dV(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else vm(n,11)}else if((t.K||n.g==t)&&gI(n),!t1(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let u=i[e];if(n.V=u[0],u=u[1],2==n.H)if("c"==u[0]){n.K=u[1],n.pa=u[2];const p=u[3];null!=p&&(n.ra=p,n.l.info("VER="+n.ra));const I=u[4];null!=I&&(n.Ga=I,n.l.info("SVER="+n.Ga));const k=u[5];null!=k&&"number"==typeof k&&0<k&&(n.L=r=1.5*k,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const O=t.g;if(O){const q=O.g?O.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(q){var o=r.i;o.g||-1==q.indexOf("spdy")&&-1==q.indexOf("quic")&&-1==q.indexOf("h2")||(o.j=o.l,o.g=new Set,o.h&&(kD(o,o.h),o.h=null))}if(r.F){const ge=O.g?O.g.getResponseHeader("X-HTTP-Session-Id"):null;ge&&(r.Da=ge,fa(r.I,r.F,ge))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms"));var s=t;if((r=n).wa=FV(r,r.J?r.pa:null,r.Y),s.K){AV(r.i,s);var a=s,l=r.L;l&&a.setTimeout(l),a.C&&(aI(a),d1(a)),r.g=s}else SV(r);0<n.j.length&&pI(n)}else"stop"!=u[0]&&"close"!=u[0]||vm(n,7);else 3==n.H&&("stop"==u[0]||"close"==u[0]?"stop"==u[0]?vm(n,7):ND(n):"noop"!=u[0]&&n.h&&n.h.Aa(u),n.A=0)}a1()}catch{}}function nV(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(Yb(t)||"string"==typeof t)Array.prototype.forEach.call(t,e,void 0);else for(var n=function jue(t){if(t.ta&&"function"==typeof t.ta)return t.ta();if(!t.Z||"function"!=typeof t.Z){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(Yb(t)||"string"==typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}(t),r=function Hue(t){if(t.Z&&"function"==typeof t.Z)return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if("string"==typeof t)return t.split("");if(Yb(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t),i=r.length,o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}(Br=c1.prototype).setTimeout=function(t){this.P=t},Br.nb=function(t){t=t.target;const e=this.M;e&&3==uf(t)?e.l():this.Pa(t)},Br.Pa=function(t){try{if(t==this.g)e:{const p=uf(this.g);var e=this.g.Ia();if(this.g.da(),!(3>p)&&(3!=p||oD||this.g&&(this.h.h||this.g.ja()||_V(this.g)))){this.J||4!=p||7==e||a1(),aI(this);var n=this.g.da();this.ca=n;t:if(Z6(this)){var r=_V(this.g);t="";var i=r.length,o=4==uf(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){gm(this),A1(this);var s="";break t}this.h.i=new Gi.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:o&&e==i-1});r.length=0,this.h.g+=t,this.o=0,s=this.h.g}else s=this.g.ja();if(this.i=200==n,function Lue(t,e,n,r,i,o,s){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+o+" "+s})}(this.j,this.v,this.B,this.m,this.W,p,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!t1(a)){var u=a;break t}}u=null}if(!(n=u)){this.i=!1,this.s=3,Yc(12),gm(this),A1(this);break e}v0(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,xD(this,n)}this.S?(eV(this,p,s),oD&&this.i&&3==p&&(Q6(this.U,this.V,"tick",this.mb),this.V.start())):(v0(this.j,this.m,s,null),xD(this,s)),4==p&&gm(this),this.i&&!this.J&&(4==p?BV(this.l,this):(this.i=!1,d1(this)))}else(function ace(t){const e={};t=(t.g&&2<=uf(t)&&t.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<t.length;r++){if(t1(t[r]))continue;var n=kue(t[r]);const i=n[0];if("string"!=typeof(n=n[1]))continue;n=n.trim();const o=e[i]||[];e[i]=o,o.push(n)}!function Eue(t,e){for(const n in t)e.call(void 0,t[n],n,t)}(e,function(r){return r.join(", ")})})(this.g),400==n&&0<s.indexOf("Unknown SID")?(this.s=3,Yc(12)):(this.s=0,Yc(13)),gm(this),A1(this)}}}catch{}},Br.mb=function(){if(this.g){var t=uf(this.g),e=this.g.ja();this.o<e.length&&(aI(this),eV(this,t,e),this.i&&4!=t&&d1(this))}},Br.cancel=function(){this.J=!0,gm(this)},Br.lb=function(){this.C=null;const t=Date.now();0<=t-this.Y?(function Oue(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.j,this.B),2!=this.L&&(a1(),Yc(17)),gm(this),this.s=2,A1(this)):tV(this,this.Y-t)};var rV=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function mm(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof mm){this.h=t.h,lI(this,t.j),this.s=t.s,this.g=t.g,uI(this,t.m),this.l=t.l;var e=t.i,n=new p1;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),iV(this,n),this.o=t.o}else t&&(e=String(t).match(rV))?(this.h=!1,lI(this,e[1]||"",!0),this.s=h1(e[2]||""),this.g=h1(e[3]||"",!0),uI(this,e[4]),this.l=h1(e[5]||"",!0),iV(this,e[6]||"",!0),this.o=h1(e[7]||"")):(this.h=!1,this.i=new p1(null,this.h))}function Yf(t){return new mm(t)}function lI(t,e,n){t.j=n?h1(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function uI(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function iV(t,e,n){e instanceof p1?(t.i=e,function Yue(t,e){e&&!t.j&&(eg(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(sV(this,r),lV(this,i,n))},t)),t.j=e}(t.i,t.h)):(n||(e=f1(e,Kue)),t.i=new p1(e,t.h))}function fa(t,e,n){t.i.set(e,n)}function cI(t){return fa(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function h1(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function f1(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,$ue),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function $ue(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}mm.prototype.toString=function(){var t=[],e=this.j;e&&t.push(f1(e,oV,!0),":");var n=this.g;return(n||"file"==e)&&(t.push("//"),(e=this.s)&&t.push(f1(e,oV,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&t.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&t.push("/"),t.push(f1(n,"/"==n.charAt(0)?Wue:Gue,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",f1(n,que)),t.join("")};var oV=/[#\/\?@]/g,Gue=/[#\?:]/g,Wue=/[#\?]/g,Kue=/[#\?@]/g,que=/#/g;function p1(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function eg(t){t.g||(t.g=new Map,t.h=0,t.i&&function zue(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function sV(t,e){eg(t),e=y0(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function aV(t,e){return eg(t),e=y0(t,e),t.g.has(e)}function lV(t,e,n){sV(t,e),0<n.length&&(t.i=null,t.g.set(y0(t,e),rD(n)),t.h+=n.length)}function y0(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}(Br=p1.prototype).add=function(t,e){eg(this),this.i=null,t=y0(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},Br.forEach=function(t,e){eg(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)},Br.ta=function(){eg(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let o=0;o<i.length;o++)n.push(e[r])}return n},Br.Z=function(t){eg(this);let e=[];if("string"==typeof t)aV(this,t)&&(e=e.concat(this.g.get(y0(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e},Br.set=function(t,e){return eg(this),this.i=null,aV(this,t=y0(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},Br.get=function(t,e){return t&&0<(t=this.Z(t)).length?String(t[0]):e},Br.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const o=encodeURIComponent(String(r)),s=this.Z(r);for(r=0;r<s.length;r++){var i=o;""!==s[r]&&(i+="="+encodeURIComponent(String(s[r]))),t.push(i)}}return this.i=t.join("&")};var Xue=class{constructor(t,e){this.g=t,this.map=e}};function uV(t){this.l=t||Jue,t=Gi.PerformanceNavigationTiming?0<(t=Gi.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(Gi.g&&Gi.g.Ka&&Gi.g.Ka()&&Gi.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Jue=10;function cV(t){return!!t.h||!!t.g&&t.g.size>=t.j}function dV(t){return t.h?1:t.g?t.g.size:0}function FD(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function kD(t,e){t.g?t.g.add(e):t.h=e}function AV(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function hV(t){if(null!=t.h)return t.i.concat(t.h.F);if(null!=t.g&&0!==t.g.size){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return rD(t.i)}uV.prototype.cancel=function(){if(this.i=hV(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const t of this.g.values())t.cancel();this.g.clear()}};var Zue=class{stringify(t){return Gi.JSON.stringify(t,void 0)}parse(t){return Gi.JSON.parse(t,void 0)}};function ece(){this.g=new Zue}function tce(t,e,n){const r=n||"";try{nV(t,function(i,o){let s=i;e1(i)&&(s=_D(i)),e.push(r+o+"="+encodeURIComponent(s))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function dI(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function g1(t){this.l=t.ec||null,this.j=t.ob||!1}function AI(t,e){Cu.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=RD,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}wu(g1,ID),g1.prototype.g=function(){return new AI(this.l,this.j)},g1.prototype.i=function(t){return function(){return t}}({}),wu(AI,Cu);var RD=0;function fV(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}function m1(t){t.readyState=4,t.l=null,t.j=null,t.A=null,v1(t)}function v1(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(Br=AI.prototype).open=function(t,e){if(this.readyState!=RD)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,v1(this)},Br.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||Gi).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},Br.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,m1(this)),this.readyState=RD},Br.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,v1(this)),this.g&&(this.readyState=3,v1(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Gi.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;fV(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))},Br.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?m1(this):v1(this),3==this.readyState&&fV(this)}},Br.Za=function(t){this.g&&(this.response=this.responseText=t,m1(this))},Br.Ya=function(t){this.g&&(this.response=t,m1(this))},Br.ka=function(){this.g&&m1(this)},Br.setRequestHeader=function(t,e){this.v.append(t,e)},Br.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},Br.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(AI.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var rce=Gi.JSON.parse;function za(t){Cu.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=pV,this.L=this.M=!1}wu(za,Cu);var pV="",ice=/^https?$/i,oce=["POST","PUT"];function gV(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,mV(t),hI(t)}function mV(t){t.F||(t.F=!0,Qu(t,"complete"),Qu(t,"error"))}function vV(t){if(t.h&&typeof tD<"u"&&(!t.C[1]||4!=uf(t)||2!=t.da()))if(t.v&&4==uf(t))bD(t.La,0,t);else if(Qu(t,"readystatechange"),4==uf(t)){t.h=!1;try{const s=t.da();e:switch(s){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=0===s){var i=String(t.I).match(rV)[1]||null;!i&&Gi.self&&Gi.self.location&&(i=Gi.self.location.protocol.slice(0,-1)),r=!ice.test(i?i.toLowerCase():"")}n=r}if(n)Qu(t,"complete"),Qu(t,"success");else{t.m=6;try{var o=2<uf(t)?t.g.statusText:""}catch{o=""}t.j=o+" ["+t.da()+"]",mV(t)}}finally{hI(t)}}}function hI(t,e){if(t.g){yV(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||Qu(t,"ready");try{n.onreadystatechange=r}catch{}}}function yV(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(Gi.clearTimeout(t.A),t.A=null)}function uf(t){return t.g?t.g.readyState:0}function _V(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case pV:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function wV(t){let e="";return dD(t,function(n,r){e+=r,e+=":",e+=n,e+="\r\n"}),e}function PD(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=wV(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):fa(t,e,n))}function y1(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function CV(t){this.Ga=0,this.j=[],this.l=new rI,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=y1("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=y1("baseRetryDelayMs",5e3,t),this.hb=y1("retryDelaySeedMs",1e4,t),this.eb=y1("forwardChannelMaxRetries",2,t),this.xa=y1("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new uV(t&&t.concurrentRequestLimit),this.Ja=new ece,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function ND(t){if(bV(t),3==t.H){var e=t.W++,n=Yf(t.I);if(fa(n,"SID",t.K),fa(n,"RID",e),fa(n,"TYPE","terminate"),_1(t,n),(e=new c1(t,t.l,e)).L=2,e.A=cI(Yf(n)),n=!1,Gi.navigator&&Gi.navigator.sendBeacon)try{n=Gi.navigator.sendBeacon(e.A.toString(),"")}catch{}!n&&Gi.Image&&((new Image).src=e.A,n=!0),n||(e.g=kV(e.l,null),e.g.ha(e.A)),e.G=Date.now(),d1(e)}xV(t)}function fI(t){t.g&&(LD(t),t.g.cancel(),t.g=null)}function bV(t){fI(t),t.u&&(Gi.clearTimeout(t.u),t.u=null),gI(t),t.i.cancel(),t.m&&("number"==typeof t.m&&Gi.clearTimeout(t.m),t.m=null)}function pI(t){if(!cV(t.i)&&!t.m){t.m=!0;var e=t.Na;i1||O6(),o1||(i1(),o1=!0),wD.add(e,t),t.C=0}}function IV(t,e){var n;n=e?e.m:t.W++;const r=Yf(t.I);fa(r,"SID",t.K),fa(r,"RID",n),fa(r,"AID",t.V),_1(t,r),t.o&&t.s&&PD(r,t.o,t.s),n=new c1(t,t.l,n,t.C+1),null===t.o&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=EV(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),kD(t.i,n),DD(n,r,e)}function _1(t,e){t.na&&dD(t.na,function(n,r){fa(e,r,n)}),t.h&&nV({},function(n,r){fa(e,r,n)})}function EV(t,e,n){n=Math.min(t.j.length,n);var r=t.h?vc(t.h.Va,t.h,t):null;e:{var i=t.j;let o=-1;for(;;){const s=["count="+n];-1==o?0<n?(o=i[0].g,s.push("ofs="+o)):o=0:s.push("ofs="+o);let a=!0;for(let l=0;l<n;l++){let u=i[l].g;const p=i[l].map;if(u-=o,0>u)o=Math.max(0,i[l].g-100),a=!1;else try{tce(p,s,"req"+u+"_")}catch{r&&r(p)}}if(a){r=s.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function SV(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;i1||O6(),o1||(i1(),o1=!0),wD.add(e,t),t.A=0}}function MD(t){return!(t.g||t.u||3<=t.A||(t.ba++,t.u=l1(vc(t.Ma,t),DV(t,t.A)),t.A++,0))}function LD(t){null!=t.B&&(Gi.clearTimeout(t.B),t.B=null)}function TV(t){t.g=new c1(t,t.l,"rpc",t.ba),null===t.o&&(t.g.I=t.s),t.g.O=0;var e=Yf(t.wa);fa(e,"RID","rpc"),fa(e,"SID",t.K),fa(e,"AID",t.V),fa(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&fa(e,"TO",t.qa),fa(e,"TYPE","xmlhttp"),_1(t,e),t.o&&t.s&&PD(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.A=cI(Yf(e)),n.u=null,n.S=!0,J6(n,t)}function gI(t){null!=t.v&&(Gi.clearTimeout(t.v),t.v=null)}function BV(t,e){var n=null;if(t.g==e){gI(t),LD(t),t.g=null;var r=2}else{if(!FD(t.i,e))return;n=e.F,AV(t.i,e),r=1}if(0!=t.H)if(e.i)if(1==r){n=e.u?e.u.length:0,e=Date.now()-e.G;var i=t.C;Qu(r=iI(),new G6(r,n)),pI(t)}else SV(t);else if(3==(i=e.s)||0==i&&0<e.ca||!(1==r&&function lce(t,e){return!(dV(t.i)>=t.i.j-(t.m?1:0)||(t.m?(t.j=e.F.concat(t.j),0):1==t.H||2==t.H||t.C>=(t.cb?0:t.eb)||(t.m=l1(vc(t.Na,t,e),DV(t,t.C)),t.C++,0)))}(t,e)||2==r&&MD(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:vm(t,5);break;case 4:vm(t,10);break;case 3:vm(t,6);break;default:vm(t,2)}}function DV(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function vm(t,e){if(t.l.info("Error code "+e),2==e){var n=null;t.h&&(n=null);var r=vc(t.pb,t);n||(n=new mm("//www.google.com/images/cleardot.gif"),Gi.location&&"http"==Gi.location.protocol||lI(n,"https"),cI(n)),function nce(t,e){const n=new rI;if(Gi.Image){const r=new Image;r.onload=Xb(dI,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Xb(dI,n,r,"TestLoadImage: error",!1,e),r.onabort=Xb(dI,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Xb(dI,n,r,"TestLoadImage: timeout",!1,e),Gi.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else Yc(2);t.H=0,t.h&&t.h.za(e),xV(t),bV(t)}function xV(t){if(t.H=0,t.ma=[],t.h){const e=hV(t.i);(0!=e.length||0!=t.j.length)&&(I6(t.ma,e),I6(t.ma,t.j),t.i.i.length=0,rD(t.j),t.j.length=0),t.h.ya()}}function FV(t,e,n){var r=n instanceof mm?Yf(n):new mm(n);if(""!=r.g)e&&(r.g=e+"."+r.g),uI(r,r.m);else{var i=Gi.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var o=new mm(null);r&&lI(o,r),e&&(o.g=e),i&&uI(o,i),n&&(o.l=n),r=o}return e=t.Da,(n=t.F)&&e&&fa(r,n,e),fa(r,"VER",t.ra),_1(t,r),r}function kV(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new za(t.Ha&&!t.va?new g1({ob:n}):t.va)).Oa(t.J),e}function RV(){}function mI(){if(m0&&!(10<=Number(wue)))throw Error("Environmental error: no available transport.")}function dA(t,e){Cu.call(this),this.g=new CV(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!t1(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!t1(e)&&(this.g.F=e,null!==(t=this.h)&&e in t&&e in(t=this.h)&&delete t[e]),this.j=new _0(this)}function PV(t){ED.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function NV(){SD.call(this),this.status=1}function _0(t){this.g=t}function Ih(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function OD(t,e,n){n||(n=0);var r=Array(16);if("string"==typeof e)for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;var o=t.g[3],s=(e=t.g[0])+(o^(n=t.g[1])&((i=t.g[2])^o))+r[0]+3614090360&4294967295;s=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=n+(s<<7&4294967295|s>>>25))+((s=o+(i^e&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(e^n))+r[2]+606105819&4294967295)<<17&4294967295|s>>>15))+((s=n+(e^i&(o^e))+r[3]+3250441966&4294967295)<<22&4294967295|s>>>10))+((s=e+(o^n&(i^o))+r[4]+4118548399&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^e&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(e^n))+r[6]+2821735955&4294967295)<<17&4294967295|s>>>15))+((s=n+(e^i&(o^e))+r[7]+4249261313&4294967295)<<22&4294967295|s>>>10))+((s=e+(o^n&(i^o))+r[8]+1770035416&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^e&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(e^n))+r[10]+4294925233&4294967295)<<17&4294967295|s>>>15))+((s=n+(e^i&(o^e))+r[11]+2304563134&4294967295)<<22&4294967295|s>>>10))+((s=e+(o^n&(i^o))+r[12]+1804603682&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^e&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(e^n))+r[14]+2792965006&4294967295)<<17&4294967295|s>>>15))+((s=n+(e^i&(o^e))+r[15]+1236535329&4294967295)<<22&4294967295|s>>>10))+((s=e+(i^o&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(e^n))+r[6]+3225465664&4294967295)<<9&4294967295|s>>>23))+((s=i+(e^n&(o^e))+r[11]+643717713&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^e&(i^o))+r[0]+3921069994&4294967295)<<20&4294967295|s>>>12))+((s=e+(i^o&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(e^n))+r[10]+38016083&4294967295)<<9&4294967295|s>>>23))+((s=i+(e^n&(o^e))+r[15]+3634488961&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^e&(i^o))+r[4]+3889429448&4294967295)<<20&4294967295|s>>>12))+((s=e+(i^o&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(e^n))+r[14]+3275163606&4294967295)<<9&4294967295|s>>>23))+((s=i+(e^n&(o^e))+r[3]+4107603335&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^e&(i^o))+r[8]+1163531501&4294967295)<<20&4294967295|s>>>12))+((s=e+(i^o&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(e^n))+r[2]+4243563512&4294967295)<<9&4294967295|s>>>23))+((s=i+(e^n&(o^e))+r[7]+1735328473&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^e&(i^o))+r[12]+2368359562&4294967295)<<20&4294967295|s>>>12))+((s=e+(n^i^o)+r[5]+4294588738&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^e^n)+r[11]+1839030562&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^e)+r[14]+4259657740&4294967295)<<23&4294967295|s>>>9))+((s=e+(n^i^o)+r[1]+2763975236&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^e^n)+r[7]+4139469664&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^e)+r[10]+3200236656&4294967295)<<23&4294967295|s>>>9))+((s=e+(n^i^o)+r[13]+681279174&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^e^n)+r[3]+3572445317&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^e)+r[6]+76029189&4294967295)<<23&4294967295|s>>>9))+((s=e+(n^i^o)+r[9]+3654602809&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^e^n)+r[15]+530742520&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^e)+r[2]+3299628645&4294967295)<<23&4294967295|s>>>9))+((s=e+(i^(n|~o))+r[0]+4096336452&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(e|~i))+r[7]+1126891415&4294967295)<<10&4294967295|s>>>22))+((s=i+(e^(o|~n))+r[14]+2878612391&4294967295)<<15&4294967295|s>>>17))+((s=n+(o^(i|~e))+r[5]+4237533241&4294967295)<<21&4294967295|s>>>11))+((s=e+(i^(n|~o))+r[12]+1700485571&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(e|~i))+r[3]+2399980690&4294967295)<<10&4294967295|s>>>22))+((s=i+(e^(o|~n))+r[10]+4293915773&4294967295)<<15&4294967295|s>>>17))+((s=n+(o^(i|~e))+r[1]+2240044497&4294967295)<<21&4294967295|s>>>11))+((s=e+(i^(n|~o))+r[8]+1873313359&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(e|~i))+r[15]+4264355552&4294967295)<<10&4294967295|s>>>22))+((s=i+(e^(o|~n))+r[6]+2734768916&4294967295)<<15&4294967295|s>>>17))+((s=n+(o^(i|~e))+r[13]+1309151649&4294967295)<<21&4294967295|s>>>11))+((o=(e=n+((s=e+(i^(n|~o))+r[4]+4149444226&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(e|~i))+r[11]+3174756917&4294967295)<<10&4294967295|s>>>22))^((i=o+((s=i+(e^(o|~n))+r[2]+718787259&4294967295)<<15&4294967295|s>>>17))|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(s<<21&4294967295|s>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+o&4294967295}function Ds(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var o=0|t[i];r&&o==e||(n[i]=o,r=!1)}this.g=n}(Br=za.prototype).Oa=function(t){this.M=t},Br.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():TD.g(),this.C=function K6(t){return t.h||(t.h=t.i())}(this.u?this.u:TD),this.g.onreadystatechange=vc(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(o){return void gV(this,o)}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const o of r.keys())n.set(o,r.get(o))}r=Array.from(n.keys()).find(o=>"content-type"==o.toLowerCase()),i=Gi.FormData&&t instanceof Gi.FormData,!(0<=b6(oce,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[o,s]of n)this.g.setRequestHeader(o,s);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{yV(this),0<this.B&&((this.L=function sce(t){return m0&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=vc(this.ua,this)):this.A=bD(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(o){gV(this,o)}},Br.ua=function(){typeof tD<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Qu(this,"timeout"),this.abort(8))},Br.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Qu(this,"complete"),Qu(this,"abort"),hI(this))},Br.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),hI(this,!0)),za.$.N.call(this)},Br.La=function(){this.s||(this.G||this.v||this.l?vV(this):this.kb())},Br.kb=function(){vV(this)},Br.isActive=function(){return!!this.g},Br.da=function(){try{return 2<uf(this)?this.g.status:-1}catch{return-1}},Br.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},Br.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),rce(e)}},Br.Ia=function(){return this.m},Br.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(Br=CV.prototype).ra=8,Br.H=1,Br.Na=function(t){if(this.m)if(this.m=null,1==this.H){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new c1(this,this.l,t);let o=this.s;if(this.U&&(o?(o=D6(o),F6(o,this.U)):o=this.U),null!==this.o||this.O||(i.I=o,o=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){var r=this.j[n];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=n;break e}if(4096===e||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=EV(this,i,e),fa(n=Yf(this.I),"RID",t),fa(n,"CVER",22),this.F&&fa(n,"X-HTTP-Session-Id",this.F),_1(this,n),o&&(this.O?e="headers="+encodeURIComponent(String(wV(o)))+"&"+e:this.o&&PD(n,this.o,o)),kD(this.i,i),this.bb&&fa(n,"TYPE","init"),this.P?(fa(n,"$req",e),fa(n,"SID","null"),i.aa=!0,DD(i,n,null)):DD(i,n,e),this.H=2}}else 3==this.H&&(t?IV(this,t):0==this.j.length||cV(this.i)||IV(this))},Br.Ma=function(){if(this.u=null,TV(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=l1(vc(this.jb,this),t)}},Br.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Yc(10),fI(this),TV(this))},Br.ib=function(){null!=this.v&&(this.v=null,fI(this),MD(this),Yc(19))},Br.pb=function(t){t?(this.l.info("Successfully pinged google.com"),Yc(2)):(this.l.info("Failed to ping google.com"),Yc(1))},Br.isActive=function(){return!!this.h&&this.h.isActive(this)},(Br=RV.prototype).Ba=function(){},Br.Aa=function(){},Br.za=function(){},Br.ya=function(){},Br.isActive=function(){return!0},Br.Va=function(){},mI.prototype.g=function(t,e){return new dA(t,e)},wu(dA,Cu),dA.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;Yc(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=FV(t,null,t.Y),pI(t)},dA.prototype.close=function(){ND(this.g)},dA.prototype.u=function(t){var e=this.g;if("string"==typeof t){var n={};n.__data__=t,t=n}else this.v&&((n={}).__data__=_D(t),t=n);e.j.push(new Xue(e.fb++,t)),3==e.H&&pI(e)},dA.prototype.N=function(){this.g.h=null,delete this.j,ND(this.g),delete this.g,dA.$.N.call(this)},wu(PV,ED),wu(NV,SD),wu(_0,RV),_0.prototype.Ba=function(){Qu(this.g,"a")},_0.prototype.Aa=function(t){Qu(this.g,new PV(t))},_0.prototype.za=function(t){Qu(this.g,new NV)},_0.prototype.ya=function(){Qu(this.g,"b")},wu(Ih,function uce(){this.blockSize=-1}),Ih.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Ih.prototype.j=function(t,e){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,o=0;o<e;){if(0==i)for(;o<=n;)OD(this,t,o),o+=this.blockSize;if("string"==typeof t){for(;o<e;)if(r[i++]=t.charCodeAt(o++),i==this.blockSize){OD(this,r),i=0;break}}else for(;o<e;)if(r[i++]=t[o++],i==this.blockSize){OD(this,r),i=0;break}}this.h=i,this.i+=e},Ih.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=255&n,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};var cce={};function UD(t){return-128<=t&&128>t?function vue(t,e){var n=cce;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}(t,function(e){return new Ds([0|e],0>e?-1:0)}):new Ds([0|t],0>t?-1:0)}function cf(t){if(isNaN(t)||!isFinite(t))return w0;if(0>t)return Hu(cf(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=VD;return new Ds(e,0)}var VD=4294967296,w0=UD(0),QD=UD(1),LV=UD(16777216);function Xf(t){if(0!=t.h)return!1;for(var e=0;e<t.g.length;e++)if(0!=t.g[e])return!1;return!0}function zA(t){return-1==t.h}function Hu(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new Ds(n,~t.h).add(QD)}function vI(t,e){return t.add(Hu(e))}function yI(t,e){for(;(65535&t[e])!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function w1(t,e){this.g=t,this.h=e}function _I(t,e){if(Xf(e))throw Error("division by zero");if(Xf(t))return new w1(w0,w0);if(zA(t))return e=_I(Hu(t),e),new w1(Hu(e.g),Hu(e.h));if(zA(e))return e=_I(t,Hu(e)),new w1(Hu(e.g),e.h);if(30<t.g.length){if(zA(t)||zA(e))throw Error("slowDivide_ only works with positive integers.");for(var n=QD,r=e;0>=r.X(t);)n=OV(n),r=OV(r);var i=C0(n,1),o=C0(r,1);for(r=C0(r,2),n=C0(n,2);!Xf(r);){var s=o.add(r);0>=s.X(t)&&(i=i.add(n),o=s),r=C0(r,1),n=C0(n,1)}return e=vI(t,i.R(e)),new w1(i,e)}for(i=w0;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),s=(o=cf(n)).R(e);zA(s)||0<s.X(t);)s=(o=cf(n-=r)).R(e);Xf(o)&&(o=QD),i=i.add(o),t=vI(t,s)}return new w1(i,t)}function OV(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new Ds(n,t.h)}function C0(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],o=0;o<r;o++)i[o]=0<e?t.D(o+n)>>>e|t.D(o+n+1)<<32-e:t.D(o+n);return new Ds(i,t.h)}(Br=Ds.prototype).ea=function(){if(zA(this))return-Hu(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:VD+r)*e,e*=VD}return t},Br.toString=function(t){if(2>(t=t||10)||36<t)throw Error("radix out of range: "+t);if(Xf(this))return"0";if(zA(this))return"-"+Hu(this).toString(t);for(var e=cf(Math.pow(t,6)),n=this,r="";;){var i=_I(n,e).g,o=((0<(n=vI(n,i.R(e))).g.length?n.g[0]:n.h)>>>0).toString(t);if(Xf(n=i))return o+r;for(;6>o.length;)o="0"+o;r=o+r}},Br.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h},Br.X=function(t){return zA(t=vI(this,t))?-1:Xf(t)?0:1},Br.abs=function(){return zA(this)?Hu(this):this},Br.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var o=r+(65535&this.D(i))+(65535&t.D(i)),s=(o>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=s>>>16,n[i]=(s&=65535)<<16|(o&=65535)}return new Ds(n,-2147483648&n[n.length-1]?-1:0)},Br.R=function(t){if(Xf(this)||Xf(t))return w0;if(zA(this))return zA(t)?Hu(this).R(Hu(t)):Hu(Hu(this).R(t));if(zA(t))return Hu(this.R(Hu(t)));if(0>this.X(LV)&&0>t.X(LV))return cf(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var o=this.D(r)>>>16,s=65535&this.D(r),a=t.D(i)>>>16,l=65535&t.D(i);n[2*r+2*i]+=s*l,yI(n,2*r+2*i),n[2*r+2*i+1]+=o*l,yI(n,2*r+2*i+1),n[2*r+2*i+1]+=s*a,yI(n,2*r+2*i+1),n[2*r+2*i+2]+=o*a,yI(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new Ds(n,0)},Br.gb=function(t){return _I(this,t).h},Br.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new Ds(n,this.h&t.h)},Br.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new Ds(n,this.h|t.h)},Br.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new Ds(n,this.h^t.h)},mI.prototype.createWebChannel=mI.prototype.g,dA.prototype.send=dA.prototype.u,dA.prototype.open=dA.prototype.m,dA.prototype.close=dA.prototype.close,oI.NO_ERROR=0,oI.TIMEOUT=8,oI.HTTP_ERROR=6,W6.COMPLETE="complete",q6.EventType=u1,u1.OPEN="a",u1.CLOSE="b",u1.ERROR="c",u1.MESSAGE="d",Cu.prototype.listen=Cu.prototype.O,za.prototype.listenOnce=za.prototype.P,za.prototype.getLastError=za.prototype.Sa,za.prototype.getLastErrorCode=za.prototype.Ia,za.prototype.getStatus=za.prototype.da,za.prototype.getResponseJson=za.prototype.Wa,za.prototype.getResponseText=za.prototype.ja,za.prototype.send=za.prototype.ha,za.prototype.setWithCredentials=za.prototype.Oa,Ih.prototype.digest=Ih.prototype.l,Ih.prototype.reset=Ih.prototype.reset,Ih.prototype.update=Ih.prototype.j,Ds.prototype.add=Ds.prototype.add,Ds.prototype.multiply=Ds.prototype.R,Ds.prototype.modulo=Ds.prototype.gb,Ds.prototype.compare=Ds.prototype.X,Ds.prototype.toNumber=Ds.prototype.ea,Ds.prototype.toString=Ds.prototype.toString,Ds.prototype.getBits=Ds.prototype.D,Ds.fromNumber=cf,Ds.fromString=function MV(t,e){if(0==t.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==t.charAt(0))return Hu(MV(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=cf(Math.pow(e,8)),r=w0,i=0;i<t.length;i+=8){var o=Math.min(8,t.length-i),s=parseInt(t.substring(i,i+o),e);8>o?(o=cf(Math.pow(e,o)),r=r.R(o).add(cf(s))):r=(r=r.R(n)).add(cf(s))}return r};var dce=bh.createWebChannelTransport=function(){return new mI},Ace=bh.getStatEventTarget=function(){return iI()},HD=bh.ErrorCode=oI,hce=bh.EventType=W6,fce=bh.Event=pm,UV=bh.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},wI=(bh.FetchXmlHttpFactory=g1,bh.WebChannel=q6),pce=bh.XhrIo=za,gce=bh.Md5=Ih,b0=bh.Integer=Ds;const VV="@firebase/firestore";class bu{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}bu.UNAUTHENTICATED=new bu(null),bu.GOOGLE_CREDENTIALS=new bu("google-credentials-uid"),bu.FIRST_PARTY=new bu("first-party-uid"),bu.MOCK_USER=new bu("mock-user");let I0="10.10.0";const tg=new cA.Vy("@firebase/firestore");function E0(){return tg.logLevel}function Vn(t,...e){if(tg.logLevel<=cA.$b.DEBUG){const n=e.map(jD);tg.debug(`Firestore (${I0}): ${t}`,...n)}}function dl(t,...e){if(tg.logLevel<=cA.$b.ERROR){const n=e.map(jD);tg.error(`Firestore (${I0}): ${t}`,...n)}}function Sd(t,...e){if(tg.logLevel<=cA.$b.WARN){const n=e.map(jD);tg.warn(`Firestore (${I0}): ${t}`,...n)}}function jD(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch{return t}}function Ur(t="Unexpected state"){const e=`FIRESTORE (${I0}) INTERNAL ASSERTION FAILED: `+t;throw dl(e),new Error(e)}function Zr(t,e){t||Ur()}function fr(t,e){return t}const un={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class On extends be.g{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Xl{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}class QV{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class yce{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(bu.UNAUTHENTICATED))}shutdown(){}}class _ce{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class wce{constructor(e){this.t=e,this.currentUser=bu.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){var r=this;let i=this.i;const o=u=>this.i!==i?(i=this.i,n(u)):Promise.resolve();let s=new Xl;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Xl,e.enqueueRetryable(()=>o(this.currentUser))};const a=()=>{const u=s;e.enqueueRetryable((0,V.A)(function*(){yield u.promise,yield o(r.currentUser)}))},l=u=>{Vn("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(u=>l(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?l(u):(Vn("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Xl)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Vn("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Zr("string"==typeof r.accessToken),new QV(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Zr(null===e||"string"==typeof e),new bu(e)}}class Cce{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=bu.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class bce{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new Cce(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(bu.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class HV{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Ice{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=o=>{null!=o.error&&Vn("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.R;return this.R=o.token,Vn("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{Vn("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?i(o):Vn("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Zr("string"==typeof n.token),this.R=n.token,new HV(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Ece(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}class jV{static newId(){const n=62*Math.floor(256/62);let r="";for(;r.length<20;){const i=Ece(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(i[o]%62))}return r}}function Hi(t,e){return t<e?-1:t>e?1:0}function S0(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}function zV(t){return t+"\0"}class Sa{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new On(un.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new On(un.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new On(un.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new On(un.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Sa.fromMillis(Date.now())}static fromDate(e){return Sa.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Sa(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Hi(this.nanoseconds,e.nanoseconds):Hi(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class ni{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ni(e)}static min(){return new ni(new Sa(0,0))}static max(){return new ni(new Sa(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class C1{constructor(e,n,r){void 0===n?n=0:n>e.length&&Ur(),void 0===r?r=e.length-n:r>e.length-n&&Ur(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return 0===C1.comparator(this,e)}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof C1?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=e.get(i),s=n.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Lo extends C1{construct(e,n,r){return new Lo(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new On(un.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Lo(n)}static emptyPath(){return new Lo([])}}const Sce=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class pa extends C1{construct(e,n,r){return new pa(e,n,r)}static isValidIdentifier(e){return Sce.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),pa.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new pa(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(0===r.length)throw new On(un.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<e.length;){const a=e[i];if("\\"===a){if(i+1===e.length)throw new On(un.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if("\\"!==l&&"."!==l&&"`"!==l)throw new On(un.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else"`"===a?(s=!s,i++):"."!==a||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new On(un.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new pa(n)}static emptyPath(){return new pa([])}}class br{constructor(e){this.path=e}static fromPath(e){return new br(Lo.fromString(e))}static fromName(e){return new br(Lo.fromString(e).popFirst(5))}static empty(){return new br(Lo.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Lo.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,n){return Lo.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new br(new Lo(e.slice()))}}class T0{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}}function zD(t){return t.fields.find(e=>2===e.kind)}function ym(t){return t.fields.filter(e=>2!==e.kind)}T0.UNKNOWN_ID=-1;class _m{constructor(e,n){this.fieldPath=e,this.kind=n}}class B0{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new B0(0,AA.min())}}function $V(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ni.fromTimestamp(1e9===r?new Sa(n+1,0):new Sa(n,r));return new AA(i,br.empty(),e)}function GV(t){return new AA(t.readTime,t.key,-1)}class AA{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new AA(ni.min(),br.empty(),-1)}static max(){return new AA(ni.max(),br.empty(),-1)}}function $D(t,e){let n=t.readTime.compareTo(e.readTime);return 0!==n?n:(n=br.comparator(t.documentKey,e.documentKey),0!==n?n:Hi(t.largestBatchId,e.largestBatchId))}const WV="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class KV{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function ng(t){return GD.apply(this,arguments)}function GD(){return GD=(0,V.A)(function*(t){if(t.code!==un.FAILED_PRECONDITION||t.message!==WV)throw t;Vn("LocalStore","Unexpectedly lost primary lease")}),GD.apply(this,arguments)}class zt{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ur(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new zt((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof zt?n:zt.resolve(n)}catch(n){return zt.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):zt.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):zt.reject(n)}static resolve(e){return new zt((n,r)=>{n(e)})}static reject(e){return new zt((n,r)=>{r(e)})}static waitFor(e){return new zt((n,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},l=>r(l))}),s=!0,o===i&&n()})}static or(e){let n=zt.resolve(!1);for(const r of e)n=n.next(i=>i?zt.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new zt((r,i)=>{const o=e.length,s=new Array(o);let a=0;for(let l=0;l<o;l++){const u=l;n(e[u]).next(p=>{s[u]=p,++a,a===o&&r(s)},p=>i(p))}})}static doWhile(e,n){return new zt((r,i)=>{const o=()=>{!0===e()?n().next(()=>{o()},i):r()};o()})}}class CI{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.V=new Xl,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{n.error?this.V.reject(new b1(e,n.error)):this.V.resolve()},this.transaction.onerror=r=>{const i=WD(r.target.error);this.V.reject(new b1(e,i))}}static open(e,n,r,i){try{return new CI(n,e.transaction(i,r))}catch(o){throw new b1(n,o)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(Vn("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const n=this.transaction.objectStore(e);return new xce(n)}}class $A{constructor(e,n,r){this.name=e,this.version=n,this.p=r,12.2===$A.S((0,be.ZQ)())&&dl("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Vn("SimpleDb","Removing database:",e),wm(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,be.zW)())return!1;if($A.C())return!0;const e=(0,be.ZQ)(),n=$A.S(e),r=0<n&&n<10,i=$A.v(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)}static C(){var e;return typeof process<"u"&&"YES"===(null===(e=process.__PRIVATE_env)||void 0===e?void 0:e.F)}static M(e,n){return e.store(n)}static S(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static v(e){const n=e.match(/Android ([\d.]+)/i),r=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(r)}O(e){var n=this;return(0,V.A)(function*(){return n.db||(Vn("SimpleDb","Opening database:",n.name),n.db=yield new Promise((r,i)=>{const o=indexedDB.open(n.name,n.version);o.onsuccess=s=>{r(s.target.result)},o.onblocked=()=>{i(new b1(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},o.onerror=s=>{const a=s.target.error;i("VersionError"===a.name?new On(un.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===a.name?new On(un.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+a):new b1(e,a))},o.onupgradeneeded=s=>{Vn("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',s.oldVersion),n.p.N(s.target.result,o.transaction,s.oldVersion,n.version).next(()=>{Vn("SimpleDb","Database upgrade to version "+n.version+" complete")})}})),n.L&&(n.db.onversionchange=r=>n.L(r)),n.db})()}B(e){this.L=e,this.db&&(this.db.onversionchange=n=>e(n))}runTransaction(e,n,r,i){var o=this;return(0,V.A)(function*(){const s="readonly"===n;let a=0;for(;;){++a;try{o.db=yield o.O(e);const l=CI.open(o.db,e,s?"readonly":"readwrite",r),u=i(l).next(p=>(l.g(),p)).catch(p=>(l.abort(p),zt.reject(p))).toPromise();return u.catch(()=>{}),yield l.m,u}catch(l){const u=l,p="FirebaseError"!==u.name&&a<3;if(Vn("SimpleDb","Transaction failed with error:",u.message,"Retrying:",p),o.close(),!p)return Promise.reject(u)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class Dce{constructor(e){this.k=e,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(e){this.k=e}done(){this.q=!0}U(e){this.K=e}delete(){return wm(this.k.delete())}}class b1 extends On{constructor(e,n){super(un.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function rg(t){return"IndexedDbTransactionError"===t.name}class xce{constructor(e){this.store=e}put(e,n){let r;return void 0!==n?(Vn("SimpleDb","PUT",this.store.name,e,n),r=this.store.put(n,e)):(Vn("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),wm(r)}add(e){return Vn("SimpleDb","ADD",this.store.name,e,e),wm(this.store.add(e))}get(e){return wm(this.store.get(e)).next(n=>(void 0===n&&(n=null),Vn("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return Vn("SimpleDb","DELETE",this.store.name,e),wm(this.store.delete(e))}count(){return Vn("SimpleDb","COUNT",this.store.name),wm(this.store.count())}W(e,n){const r=this.options(e,n),i=r.index?this.store.index(r.index):this.store;if("function"==typeof i.getAll){const o=i.getAll(r.range);return new zt((s,a)=>{o.onerror=l=>{a(l.target.error)},o.onsuccess=l=>{s(l.target.result)}})}{const o=this.cursor(r),s=[];return this.G(o,(a,l)=>{s.push(l)}).next(()=>s)}}j(e,n){const r=this.store.getAll(e,null===n?void 0:n);return new zt((i,o)=>{r.onerror=s=>{o(s.target.error)},r.onsuccess=s=>{i(s.target.result)}})}H(e,n){Vn("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,n);r.J=!1;const i=this.cursor(r);return this.G(i,(o,s,a)=>a.delete())}Y(e,n){let r;n?r=e:(r={},n=e);const i=this.cursor(r);return this.G(i,n)}Z(e){const n=this.cursor({});return new zt((r,i)=>{n.onerror=o=>{const s=WD(o.target.error);i(s)},n.onsuccess=o=>{const s=o.target.result;s?e(s.primaryKey,s.value).next(a=>{a?s.continue():r()}):r()}})}G(e,n){const r=[];return new zt((i,o)=>{e.onerror=s=>{o(s.target.error)},e.onsuccess=s=>{const a=s.target.result;if(!a)return void i();const l=new Dce(a),u=n(a.primaryKey,a.value,l);if(u instanceof zt){const p=u.catch(I=>(l.done(),zt.reject(I)));r.push(p)}l.isDone?i():null===l.$?a.continue():a.continue(l.$)}}).next(()=>zt.waitFor(r))}options(e,n){let r;return void 0!==e&&("string"==typeof e?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.J?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function wm(t){return new zt((e,n)=>{t.onsuccess=r=>{e(r.target.result)},t.onerror=r=>{const i=WD(r.target.error);n(i)}})}let qV=!1;function WD(t){const e=$A.S((0,be.ZQ)());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new On("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return qV||(qV=!0,setTimeout(()=>{throw r},0)),r}}return t}class Fce{constructor(e,n){this.asyncQueue=e,this.X=n,this.task=null}start(){this.ee(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}ee(e){var n=this;Vn("IndexBackfiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,V.A)(function*(){n.task=null;try{Vn("IndexBackfiller",`Documents written: ${yield n.X.te()}`)}catch(r){rg(r)?Vn("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",r):yield ng(r)}yield n.ee(6e4)}))}}class kce{constructor(e,n){this.localStore=e,this.persistence=n}te(e=50){var n=this;return(0,V.A)(function*(){return n.persistence.runTransaction("Backfill Indexes","readwrite-primary",r=>n.ne(r,e))})()}ne(e,n){const r=new Set;let i=n,o=!0;return zt.doWhile(()=>!0===o&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(s=>{if(null!==s&&!r.has(s))return Vn("IndexBackfiller",`Processing collection: ${s}`),this.re(e,s,i).next(a=>{i-=a,r.add(s)});o=!1})).next(()=>n-i)}re(e,n,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,n).next(i=>this.localStore.localDocuments.getNextDocuments(e,n,i,r).next(o=>{const s=o.changes;return this.localStore.indexManager.updateIndexEntries(e,s).next(()=>this.ie(i,o)).next(a=>(Vn("IndexBackfiller",`Updating offset: ${a}`),this.localStore.indexManager.updateCollectionGroup(e,n,a))).next(()=>s.size)}))}ie(e,n){let r=e;return n.changes.forEach((i,o)=>{const s=GV(o);$D(s,r)>0&&(r=s)}),new AA(r.readTime,r.documentKey,Math.max(n.batchId,e.largestBatchId))}}let hA=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.se(i),this.oe=i=>r.writeSequenceNumber(i))}se(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){const n=++this.previousValue;return this.oe&&this.oe(n),n}}return t._e=-1,t})();function I1(t){return null==t}function E1(t){return 0===t&&1/t==-1/0}function YV(t){return"number"==typeof t&&Number.isInteger(t)&&!E1(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}function _c(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=XV(e)),e=Rce(t.get(n),e);return XV(e)}function Rce(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const o=t.charAt(i);switch(o){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=o}}return n}function XV(t){return t+"\x01\x01"}function df(t){const e=t.length;if(Zr(e>=2),2===e)return Zr("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),Lo.emptyPath();const n=e-2,r=[];let i="";for(let o=0;o<e;){const s=t.indexOf("\x01",o);switch((s<0||s>n)&&Ur(),t.charAt(s+1)){case"\x01":const a=t.substring(o,s);let l;0===i.length?l=a:(i+=a,l=i,i=""),r.push(l);break;case"\x10":i+=t.substring(o,s),i+="\0";break;case"\x11":i+=t.substring(o,s+1);break;default:Ur()}o=s+2}return new Lo(r)}const JV=["userId","batchId"];function bI(t,e){return[t,_c(e)]}function ZV(t,e,n){return[t,_c(e),n]}const Pce={},Nce=["prefixPath","collectionGroup","readTime","documentId"],Mce=["prefixPath","collectionGroup","documentId"],Lce=["collectionGroup","readTime","prefixPath","documentId"],Oce=["canonicalId","targetId"],Uce=["targetId","path"],Vce=["path","targetId"],Qce=["collectionId","parent"],Hce=["indexId","uid"],jce=["uid","sequenceNumber"],zce=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],$ce=["indexId","uid","orderedDocumentKey"],Gce=["userId","collectionPath","documentId"],Wce=["userId","collectionPath","largestBatchId"],Kce=["userId","collectionGroup","largestBatchId"],eQ=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],qce=[...eQ,"documentOverlays"],tQ=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],nQ=tQ,Yce=[...nQ,"indexConfiguration","indexState","indexEntries"];class KD extends KV{constructor(e,n){super(),this.ae=e,this.currentSequenceNumber=n}}function Iu(t,e){const n=fr(t);return $A.M(n.ae,e)}function rQ(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ig(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function iQ(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class na{constructor(e,n){this.comparator=e,this.root=n||ju.EMPTY}insert(e,n){return new na(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,ju.BLACK,null,null))}remove(e){return new na(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ju.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new II(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new II(this.root,e,this.comparator,!1)}getReverseIterator(){return new II(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new II(this.root,e,this.comparator,!0)}}class II{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(0===o){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ju{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:ju.RED,this.left=null!=i?i:ju.EMPTY,this.right=null!=o?o:ju.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new ju(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):0===o?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return ju.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return ju.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ju.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ju.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ur();const e=this.left.check();if(e!==this.right.check())throw Ur();return e+(this.isRed()?0:1)}}ju.EMPTY=null,ju.RED=!0,ju.BLACK=!1,ju.EMPTY=new class{constructor(){this.size=0}get key(){throw Ur()}get value(){throw Ur()}get color(){throw Ur()}get left(){throw Ur()}get right(){throw Ur()}copy(e,n,r,i,o){return this}insert(e,n,r){return new ju(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Os{constructor(e){this.comparator=e,this.data=new na(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new oQ(this.data.getIterator())}getIteratorFrom(e){return new oQ(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Os)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Os(this.comparator);return n.data=e,n}}class oQ{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function D0(t){return t.hasNext()?t.getNext():void 0}class Td{constructor(e){this.fields=e,e.sort(pa.comparator)}static empty(){return new Td([])}unionWith(e){let n=new Os(pa.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Td(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return S0(this.fields,e.fields,(n,r)=>n.isEqual(r))}}class sQ extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Jl{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new sQ("Invalid base64 string: "+o):o}}(e);return new Jl(n)}static fromUint8Array(e){const n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new Jl(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Hi(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Jl.EMPTY_BYTE_STRING=new Jl("");const Jce=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function og(t){if(Zr(!!t),"string"==typeof t){let e=0;const n=Jce.exec(t);if(Zr(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:$a(t.seconds),nanos:$a(t.nanos)}}function $a(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function Jf(t){return"string"==typeof t?Jl.fromBase64String(t):Jl.fromUint8Array(t)}function EI(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function SI(t){const e=t.mapValue.fields.__previous_value__;return EI(e)?SI(e):e}function S1(t){const e=og(t.mapValue.fields.__local_write_time__.timestampValue);return new Sa(e.seconds,e.nanos)}class Zce{constructor(e,n,r,i,o,s,a,l,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}}class sg{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new sg("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof sg&&e.projectId===this.projectId&&e.database===this.database}}const ag={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},TI={nullValue:"NULL_VALUE"};function lg(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?EI(t)?4:cQ(t)?9007199254740991:10:Ur()}function Af(t,e){if(t===e)return!0;const n=lg(t);if(n!==lg(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return S1(t).isEqual(S1(e));case 3:return function(i,o){if("string"==typeof i.timestampValue&&"string"==typeof o.timestampValue&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const s=og(i.timestampValue),a=og(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return o=e,Jf(t.bytesValue).isEqual(Jf(o.bytesValue));case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return $a(i.geoPointValue.latitude)===$a(o.geoPointValue.latitude)&&$a(i.geoPointValue.longitude)===$a(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return $a(i.integerValue)===$a(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const s=$a(i.doubleValue),a=$a(o.doubleValue);return s===a?E1(s)===E1(a):isNaN(s)&&isNaN(a)}return!1}(t,e);case 9:return S0(t.arrayValue.values||[],e.arrayValue.values||[],Af);case 10:return function(i,o){const s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(rQ(s)!==rQ(a))return!1;for(const l in s)if(s.hasOwnProperty(l)&&(void 0===a[l]||!Af(s[l],a[l])))return!1;return!0}(t,e);default:return Ur()}var o}function T1(t,e){return void 0!==(t.values||[]).find(n=>Af(n,e))}function ug(t,e){if(t===e)return 0;const n=lg(t),r=lg(e);if(n!==r)return Hi(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Hi(t.booleanValue,e.booleanValue);case 2:return function(o,s){const a=$a(o.integerValue||o.doubleValue),l=$a(s.integerValue||s.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return aQ(t.timestampValue,e.timestampValue);case 4:return aQ(S1(t),S1(e));case 5:return Hi(t.stringValue,e.stringValue);case 6:return function(o,s){const a=Jf(o),l=Jf(s);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){const a=o.split("/"),l=s.split("/");for(let u=0;u<a.length&&u<l.length;u++){const p=Hi(a[u],l[u]);if(0!==p)return p}return Hi(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){const a=Hi($a(o.latitude),$a(s.latitude));return 0!==a?a:Hi($a(o.longitude),$a(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(o,s){const a=o.values||[],l=s.values||[];for(let u=0;u<a.length&&u<l.length;++u){const p=ug(a[u],l[u]);if(p)return p}return Hi(a.length,l.length)}(t.arrayValue,e.arrayValue);case 10:return function(o,s){if(o===ag.mapValue&&s===ag.mapValue)return 0;if(o===ag.mapValue)return 1;if(s===ag.mapValue)return-1;const a=o.fields||{},l=Object.keys(a),u=s.fields||{},p=Object.keys(u);l.sort(),p.sort();for(let I=0;I<l.length&&I<p.length;++I){const k=Hi(l[I],p[I]);if(0!==k)return k;const O=ug(a[l[I]],u[p[I]]);if(0!==O)return O}return Hi(l.length,p.length)}(t.mapValue,e.mapValue);default:throw Ur()}}function aQ(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return Hi(t,e);const n=og(t),r=og(e),i=Hi(n.seconds,r.seconds);return 0!==i?i:Hi(n.nanos,r.nanos)}function x0(t){return qD(t)}function qD(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=og(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Jf(t.bytesValue).toBase64():"referenceValue"in t?br.fromName(t.referenceValue).toString():"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=qD(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const s of r)o?o=!1:i+=",",i+=`${s}:${qD(n.fields[s])}`;return i+"}"}(t.mapValue):Ur()}function Cm(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function YD(t){return!!t&&"integerValue"in t}function B1(t){return!!t&&"arrayValue"in t}function lQ(t){return!!t&&"nullValue"in t}function uQ(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function DI(t){return!!t&&"mapValue"in t}function D1(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return ig(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=D1(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=D1(t.arrayValue.values[n]);return e}return Object.assign({},t)}function cQ(t){return"__max__"===(((t.mapValue||{}).fields||{}).__type__||{}).stringValue}function ede(t){return"nullValue"in t?TI:"booleanValue"in t?{booleanValue:!1}:"integerValue"in t||"doubleValue"in t?{doubleValue:NaN}:"timestampValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in t?{stringValue:""}:"bytesValue"in t?{bytesValue:""}:"referenceValue"in t?Cm(sg.empty(),br.empty()):"geoPointValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in t?{arrayValue:{}}:"mapValue"in t?{mapValue:{}}:Ur()}function tde(t){return"nullValue"in t?{booleanValue:!1}:"booleanValue"in t?{doubleValue:NaN}:"integerValue"in t||"doubleValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in t?{stringValue:""}:"stringValue"in t?{bytesValue:""}:"bytesValue"in t?Cm(sg.empty(),br.empty()):"referenceValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in t?{arrayValue:{}}:"arrayValue"in t?{mapValue:{}}:"mapValue"in t?ag:Ur()}function dQ(t,e){const n=ug(t.value,e.value);return 0!==n?n:t.inclusive&&!e.inclusive?-1:!t.inclusive&&e.inclusive?1:0}function AQ(t,e){const n=ug(t.value,e.value);return 0!==n?n:t.inclusive&&!e.inclusive?1:!t.inclusive&&e.inclusive?-1:0}class zu{constructor(e){this.value=e}static empty(){return new zu({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!DI(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=D1(n)}setAll(e){let n=pa.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=D1(s):i.push(a.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());DI(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Af(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];DI(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){ig(n,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new zu(D1(this.value))}}function hQ(t){const e=[];return ig(t.fields,(n,r)=>{const i=new pa([n]);if(DI(r)){const o=hQ(r.mapValue).fields;if(0===o.length)e.push(i);else for(const s of o)e.push(i.child(s))}else e.push(i)}),new Td(e)}class ga{constructor(e,n,r,i,o,s,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new ga(e,0,ni.min(),ni.min(),ni.min(),zu.empty(),0)}static newFoundDocument(e,n,r,i){return new ga(e,1,n,ni.min(),r,i,0)}static newNoDocument(e,n){return new ga(e,2,n,ni.min(),ni.min(),zu.empty(),0)}static newUnknownDocument(e,n){return new ga(e,3,n,ni.min(),ni.min(),zu.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ni.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=zu.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=zu.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ni.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof ga&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ga(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class cg{constructor(e,n){this.position=e,this.inclusive=n}}function fQ(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],s=t.position[i];if(r=o.field.isKeyField()?br.comparator(br.fromName(s.referenceValue),n.key):ug(s,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return r}function pQ(t,e){if(null===t)return null===e;if(null===e||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Af(t.position[n],e.position[n]))return!1;return!0}class x1{constructor(e,n="asc"){this.field=e,this.dir=n}}function nde(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class gQ{}class Oo extends gQ{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?"in"===n||"not-in"===n?this.createKeyFieldInFilter(e,n,r):new rde(e,n,r):"array-contains"===n?new sde(e,r):"in"===n?new CQ(e,r):"not-in"===n?new ade(e,r):"array-contains-any"===n?new lde(e,r):new Oo(e,n,r)}static createKeyFieldInFilter(e,n,r){return"in"===n?new ide(e,r):new ode(e,r)}matches(e){const n=e.data.field(this.field);return"!="===this.op?null!==n&&this.matchesComparison(ug(n,this.value)):null!==n&&lg(this.value)===lg(n)&&this.matchesComparison(ug(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Ur()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class xs extends gQ{constructor(e,n){super(),this.filters=e,this.op=n,this.ue=null}static create(e,n){return new xs(e,n)}matches(e){return F0(this)?void 0===this.filters.find(n=>!n.matches(e)):void 0!==this.filters.find(n=>n.matches(e))}getFlattenedFilters(){return null!==this.ue||(this.ue=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function F0(t){return"and"===t.op}function XD(t){return"or"===t.op}function JD(t){return mQ(t)&&F0(t)}function mQ(t){for(const e of t.filters)if(e instanceof xs)return!1;return!0}function ZD(t){if(t instanceof Oo)return t.field.canonicalString()+t.op.toString()+x0(t.value);if(JD(t))return t.filters.map(e=>ZD(e)).join(",");{const e=t.filters.map(n=>ZD(n)).join(",");return`${t.op}(${e})`}}function vQ(t,e){return t instanceof Oo?(r=t,(i=e)instanceof Oo&&r.op===i.op&&r.field.isEqual(i.field)&&Af(r.value,i.value)):t instanceof xs?function(r,i){return i instanceof xs&&r.op===i.op&&r.filters.length===i.filters.length&&r.filters.reduce((o,s,a)=>o&&vQ(s,i.filters[a]),!0)}(t,e):void Ur();var r,i}function yQ(t,e){const n=t.filters.concat(e);return xs.create(n,t.op)}function _Q(t){return t instanceof Oo?`${(n=t).field.canonicalString()} ${n.op} ${x0(n.value)}`:t instanceof xs?function(n){return n.op.toString()+" {"+n.getFilters().map(_Q).join(" ,")+"}"}(t):"Filter";var n}class rde extends Oo{constructor(e,n,r){super(e,n,r),this.key=br.fromName(r.referenceValue)}matches(e){const n=br.comparator(e.key,this.key);return this.matchesComparison(n)}}class ide extends Oo{constructor(e,n){super(e,"in",n),this.keys=wQ(0,n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class ode extends Oo{constructor(e,n){super(e,"not-in",n),this.keys=wQ(0,n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function wQ(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(r=>br.fromName(r.referenceValue))}class sde extends Oo{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return B1(n)&&T1(n.arrayValue,this.value)}}class CQ extends Oo{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return null!==n&&T1(this.value.arrayValue,n)}}class ade extends Oo{constructor(e,n){super(e,"not-in",n)}matches(e){if(T1(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return null!==n&&!T1(this.value.arrayValue,n)}}class lde extends Oo{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!B1(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>T1(this.value.arrayValue,r))}}class ude{constructor(e,n=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.ce=null}}function ex(t,e=null,n=[],r=[],i=null,o=null,s=null){return new ude(t,e,n,r,i,o,s)}function bm(t){const e=fr(t);if(null===e.ce){let n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>ZD(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>{return(o=r).field.canonicalString()+o.dir;var o}).join(","),I1(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>x0(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>x0(r)).join(",")),e.ce=n}return e.ce}function F1(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!nde(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!vQ(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!pQ(t.startAt,e.startAt)&&pQ(t.endAt,e.endAt)}function xI(t){return br.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}function FI(t,e){return t.filters.filter(n=>n instanceof Oo&&n.field.isEqual(e))}function bQ(t,e,n){let r=TI,i=!0;for(const o of FI(t,e)){let s=TI,a=!0;switch(o.op){case"<":case"<=":s=ede(o.value);break;case"==":case"in":case">=":s=o.value;break;case">":s=o.value,a=!1;break;case"!=":case"not-in":s=TI}dQ({value:r,inclusive:i},{value:s,inclusive:a})<0&&(r=s,i=a)}if(null!==n)for(let o=0;o<t.orderBy.length;++o)if(t.orderBy[o].field.isEqual(e)){const s=n.position[o];dQ({value:r,inclusive:i},{value:s,inclusive:n.inclusive})<0&&(r=s,i=n.inclusive);break}return{value:r,inclusive:i}}function IQ(t,e,n){let r=ag,i=!0;for(const o of FI(t,e)){let s=ag,a=!0;switch(o.op){case">=":case">":s=tde(o.value),a=!1;break;case"==":case"in":case"<=":s=o.value;break;case"<":s=o.value,a=!1;break;case"!=":case"not-in":s=ag}AQ({value:r,inclusive:i},{value:s,inclusive:a})>0&&(r=s,i=a)}if(null!==n)for(let o=0;o<t.orderBy.length;++o)if(t.orderBy[o].field.isEqual(e)){const s=n.position[o];AQ({value:r,inclusive:i},{value:s,inclusive:n.inclusive})>0&&(r=s,i=n.inclusive);break}return{value:r,inclusive:i}}class Zf{constructor(e,n=null,r=[],i=[],o=null,s="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=l,this.le=null,this.he=null,this.Pe=null}}function EQ(t,e,n,r,i,o,s,a){return new Zf(t,e,n,r,i,o,s,a)}function k0(t){return new Zf(t)}function SQ(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}function tx(t){return null!==t.collectionGroup}function R0(t){const e=fr(t);if(null===e.le){e.le=[];const n=new Set;for(const o of e.explicitOrderBy)e.le.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new Os(pa.comparator);return s.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.le.push(new x1(o,r))}),n.has(pa.keyField().canonicalString())||e.le.push(new x1(pa.keyField(),r))}return e.le}function Xc(t){const e=fr(t);return e.he||(e.he=TQ(e,R0(t))),e.he}function TQ(t,e){if("F"===t.limitType)return ex(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>new x1(i.field,"desc"===i.dir?"asc":"desc"));const n=t.endAt?new cg(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new cg(t.startAt.position,t.startAt.inclusive):null;return ex(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function nx(t,e){const n=t.filters.concat([e]);return new Zf(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function kI(t,e,n){return new Zf(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function k1(t,e){return F1(Xc(t),Xc(e))&&t.limitType===e.limitType}function BQ(t){return`${bm(Xc(t))}|lt:${t.limitType}`}function P0(t){return`Query(target=${function(n){let r=n.path.canonicalString();return null!==n.collectionGroup&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>_Q(i)).join(", ")}]`),I1(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>{return`${(s=i).field.canonicalString()} (${s.dir})`;var s}).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>x0(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>x0(i)).join(",")),`Target(${r})`}(Xc(t))}; limitType=${t.limitType})`}function R1(t,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return null!==r.collectionGroup?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):br.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(const o of R0(r))if(!o.field.isKeyField()&&null===i.data.field(o.field))return!1;return!0}(t,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&(i=e,!((r=t).startAt&&!function(s,a,l){const u=fQ(s,a,l);return s.inclusive?u<=0:u<0}(r.startAt,R0(r),i)||r.endAt&&!function(s,a,l){const u=fQ(s,a,l);return s.inclusive?u>=0:u>0}(r.endAt,R0(r),i)));var r,i}function DQ(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function xQ(t){return(e,n)=>{let r=!1;for(const i of R0(t)){const o=cde(i,e,n);if(0!==o)return o;r=r||i.field.isKeyField()}return 0}}function cde(t,e,n){const r=t.field.isKeyField()?br.comparator(e.key,n.key):function(o,s,a){const l=s.data.field(o),u=a.data.field(o);return null!==l&&null!==u?ug(l,u):Ur()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Ur()}}class ep{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r)for(const[i,o]of r)if(this.equalsFn(i,e))return o}has(e){return void 0!==this.get(e)}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){ig(this.inner,(n,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return iQ(this.inner)}size(){return this.innerSize}}const dde=new na(br.comparator);function Bd(){return dde}const FQ=new na(br.comparator);function P1(...t){let e=FQ;for(const n of t)e=e.insert(n.key,n);return e}function kQ(t){let e=FQ;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function hf(){return N1()}function RQ(){return N1()}function N1(){return new ep(t=>t.toString(),(t,e)=>t.isEqual(e))}const Ade=new na(br.comparator),hde=new Os(br.comparator);function lo(...t){let e=hde;for(const n of t)e=e.add(n);return e}const fde=new Os(Hi);function rx(){return fde}function PQ(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:E1(e)?"-0":e}}function NQ(t){return{integerValue:""+t}}function MQ(t,e){return YV(e)?NQ(e):PQ(t,e)}class RI{constructor(){this._=void 0}}function pde(t,e,n){return t instanceof N0?function(i,o){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&EI(o)&&(o=SI(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(n,e):t instanceof Im?OQ(t,e):t instanceof Em?UQ(t,e):function(i,o){const s=LQ(i,o),a=VQ(s)+VQ(i.Ie);return YD(s)&&YD(i.Ie)?NQ(a):PQ(i.serializer,a)}(t,e)}function gde(t,e,n){return t instanceof Im?OQ(t,e):t instanceof Em?UQ(t,e):n}function LQ(t,e){return t instanceof M0?YD(r=e)||(o=r)&&"doubleValue"in o?e:{integerValue:0}:null;var r,o}class N0 extends RI{}class Im extends RI{constructor(e){super(),this.elements=e}}function OQ(t,e){const n=QQ(e);for(const r of t.elements)n.some(i=>Af(i,r))||n.push(r);return{arrayValue:{values:n}}}class Em extends RI{constructor(e){super(),this.elements=e}}function UQ(t,e){let n=QQ(e);for(const r of t.elements)n=n.filter(i=>!Af(i,r));return{arrayValue:{values:n}}}class M0 extends RI{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function VQ(t){return $a(t.integerValue||t.doubleValue)}function QQ(t){return B1(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class M1{constructor(e,n){this.field=e,this.transform=n}}class vde{constructor(e,n){this.version=e,this.transformResults=n}}class Ta{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Ta}static exists(e){return new Ta(void 0,e)}static updateTime(e){return new Ta(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function PI(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}class NI{}function HQ(t,e){if(!t.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return t.isNoDocument()?new O0(t.key,Ta.none()):new L0(t.key,t.data,Ta.none());{const n=t.data,r=zu.empty();let i=new Os(pa.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);null===s&&o.length>1&&(o=o.popLast(),s=n.field(o)),null===s?r.delete(o):r.set(o,s),i=i.add(o)}return new tp(t.key,r,new Td(i.toArray()),Ta.none())}}function yde(t,e,n){t instanceof L0?function(i,o,s){const a=i.value.clone(),l=$Q(i.fieldTransforms,o,s.transformResults);a.setAll(l),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):t instanceof tp?function(i,o,s){if(!PI(i.precondition,o))return void o.convertToUnknownDocument(s.version);const a=$Q(i.fieldTransforms,o,s.transformResults),l=o.data;l.setAll(zQ(i)),l.setAll(a),o.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(t,e,n):e.convertToNoDocument(n.version).setHasCommittedMutations()}function L1(t,e,n,r){return t instanceof L0?function(o,s,a,l){if(!PI(o.precondition,s))return a;const u=o.value.clone(),p=GQ(o.fieldTransforms,l,s);return u.setAll(p),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof tp?function(o,s,a,l){if(!PI(o.precondition,s))return a;const u=GQ(o.fieldTransforms,l,s),p=s.data;return p.setAll(zQ(o)),p.setAll(u),s.convertToFoundDocument(s.version,p).setHasLocalMutations(),null===a?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(I=>I.field))}(t,e,n,r):(a=n,PI(t.precondition,s=e)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a);var s,a}function _de(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=LQ(r.transform,i||null);null!=o&&(null===n&&(n=zu.empty()),n.set(r.field,o))}return n||null}function jQ(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&(i=e.fieldTransforms,!!(void 0===(r=t.fieldTransforms)&&void 0===i||r&&i&&S0(r,i,(o,s)=>function mde(t,e){return t.field.isEqual(e.field)&&(i=e.transform,(r=t.transform)instanceof Im&&i instanceof Im||r instanceof Em&&i instanceof Em?S0(r.elements,i.elements,Af):r instanceof M0&&i instanceof M0?Af(r.Ie,i.Ie):r instanceof N0&&i instanceof N0);var r,i}(o,s))))&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask));var r,i}class L0 extends NI{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class tp extends NI{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function zQ(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function $Q(t,e,n){const r=new Map;Zr(t.length===n.length);for(let i=0;i<n.length;i++){const o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,gde(s,a,n[i]))}return r}function GQ(t,e,n){const r=new Map;for(const i of t){const o=i.transform,s=n.data.field(i.field);r.set(i.field,pde(o,s,e))}return r}class O0 extends NI{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class ix extends NI{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class ox{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&yde(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=L1(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=L1(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=RQ();return this.mutations.forEach(i=>{const o=e.get(i.key),s=o.overlayedDocument;let a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;const l=HQ(s,a);null!==l&&r.set(i.key,l),s.isValidDocument()||s.convertToNoDocument(ni.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),lo())}isEqual(e){return this.batchId===e.batchId&&S0(this.mutations,e.mutations,(n,r)=>jQ(n,r))&&S0(this.baseMutations,e.baseMutations,(n,r)=>jQ(n,r))}}class sx{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Zr(e.mutations.length===r.length);let i=function(){return Ade}();const o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new sx(e,n,r,i)}}class ax{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class wde{constructor(e,n,r){this.alias=e,this.aggregateType=n,this.fieldPath=r}}class Cde{constructor(e,n){this.count=e,this.unchangedNames=n}}var kl,Yo;function WQ(t){switch(t){default:return Ur();case un.CANCELLED:case un.UNKNOWN:case un.DEADLINE_EXCEEDED:case un.RESOURCE_EXHAUSTED:case un.INTERNAL:case un.UNAVAILABLE:case un.UNAUTHENTICATED:return!1;case un.INVALID_ARGUMENT:case un.NOT_FOUND:case un.ALREADY_EXISTS:case un.PERMISSION_DENIED:case un.FAILED_PRECONDITION:case un.ABORTED:case un.OUT_OF_RANGE:case un.UNIMPLEMENTED:case un.DATA_LOSS:return!0}}function KQ(t){if(void 0===t)return dl("GRPC error has no .code"),un.UNKNOWN;switch(t){case kl.OK:return un.OK;case kl.CANCELLED:return un.CANCELLED;case kl.UNKNOWN:return un.UNKNOWN;case kl.DEADLINE_EXCEEDED:return un.DEADLINE_EXCEEDED;case kl.RESOURCE_EXHAUSTED:return un.RESOURCE_EXHAUSTED;case kl.INTERNAL:return un.INTERNAL;case kl.UNAVAILABLE:return un.UNAVAILABLE;case kl.UNAUTHENTICATED:return un.UNAUTHENTICATED;case kl.INVALID_ARGUMENT:return un.INVALID_ARGUMENT;case kl.NOT_FOUND:return un.NOT_FOUND;case kl.ALREADY_EXISTS:return un.ALREADY_EXISTS;case kl.PERMISSION_DENIED:return un.PERMISSION_DENIED;case kl.FAILED_PRECONDITION:return un.FAILED_PRECONDITION;case kl.ABORTED:return un.ABORTED;case kl.OUT_OF_RANGE:return un.OUT_OF_RANGE;case kl.UNIMPLEMENTED:return un.UNIMPLEMENTED;case kl.DATA_LOSS:return un.DATA_LOSS;default:return Ur()}}(Yo=kl||(kl={}))[Yo.OK=0]="OK",Yo[Yo.CANCELLED=1]="CANCELLED",Yo[Yo.UNKNOWN=2]="UNKNOWN",Yo[Yo.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Yo[Yo.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Yo[Yo.NOT_FOUND=5]="NOT_FOUND",Yo[Yo.ALREADY_EXISTS=6]="ALREADY_EXISTS",Yo[Yo.PERMISSION_DENIED=7]="PERMISSION_DENIED",Yo[Yo.UNAUTHENTICATED=16]="UNAUTHENTICATED",Yo[Yo.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Yo[Yo.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Yo[Yo.ABORTED=10]="ABORTED",Yo[Yo.OUT_OF_RANGE=11]="OUT_OF_RANGE",Yo[Yo.UNIMPLEMENTED=12]="UNIMPLEMENTED",Yo[Yo.INTERNAL=13]="INTERNAL",Yo[Yo.UNAVAILABLE=14]="UNAVAILABLE",Yo[Yo.DATA_LOSS=15]="DATA_LOSS";function qQ(){return new TextEncoder}const bde=new b0([4294967295,4294967295],0);function YQ(t){const e=qQ().encode(t),n=new gce;return n.update(e),new Uint8Array(n.digest())}function XQ(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new b0([n,r],0),new b0([i,o],0)]}class lx{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new O1(`Invalid padding: ${n}`);if(r<0)throw new O1(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new O1(`Invalid hash count: ${r}`);if(0===e.length&&0!==n)throw new O1(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ee=b0.fromNumber(this.Te)}de(e,n,r){let i=e.add(n.multiply(b0.fromNumber(r)));return 1===i.compare(bde)&&(i=new b0([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ee).toNumber()}Ae(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Te)return!1;const n=YQ(e),[r,i]=XQ(n);for(let o=0;o<this.hashCount;o++){const s=this.de(r,i,o);if(!this.Ae(s))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new lx(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(e){if(0===this.Te)return;const n=YQ(e),[r,i]=XQ(n);for(let o=0;o<this.hashCount;o++){const s=this.de(r,i,o);this.Re(s)}}Re(e){const n=Math.floor(e/8);this.bitmap[n]|=1<<e%8}}class O1 extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class U1{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,V1.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new U1(ni.min(),i,new na(Hi),Bd(),lo())}}class V1{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new V1(r,n,lo(),lo(),lo())}}class LI{constructor(e,n,r,i){this.Ve=e,this.removedTargetIds=n,this.key=r,this.me=i}}class JQ{constructor(e,n){this.targetId=e,this.fe=n}}class ZQ{constructor(e,n,r=Jl.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class e8{constructor(){this.ge=0,this.pe=n8(),this.ye=Jl.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return 0!==this.ge}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=lo(),n=lo(),r=lo();return this.pe.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Ur()}}),new V1(this.ye,this.we,e,n,r)}Fe(){this.Se=!1,this.pe=n8()}Me(e,n){this.Se=!0,this.pe=this.pe.insert(e,n)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1,Zr(this.ge>=0)}Le(){this.Se=!0,this.we=!0}}class Ide{constructor(e){this.Be=e,this.ke=new Map,this.qe=Bd(),this.Qe=t8(),this.Ke=new na(Hi)}$e(e){for(const n of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(n,e.me):this.We(n,e.key,e.me);for(const n of e.removedTargetIds)this.We(n,e.key,e.me)}Ge(e){this.forEachTarget(e,n=>{const r=this.ze(n);switch(e.state){case 0:this.je(n)&&r.Ce(e.resumeToken);break;case 1:r.Ne(),r.be||r.Fe(),r.Ce(e.resumeToken);break;case 2:r.Ne(),r.be||this.removeTarget(n);break;case 3:this.je(n)&&(r.Le(),r.Ce(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),r.Ce(e.resumeToken));break;default:Ur()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ke.forEach((r,i)=>{this.je(i)&&n(i)})}Je(e){const n=e.targetId,r=e.fe.count,i=this.Ye(n);if(i){const o=i.target;if(xI(o))if(0===r){const s=new br(o.path);this.We(n,s,ga.newNoDocument(s,ni.min()))}else Zr(1===r);else{const s=this.Ze(n);if(s!==r){const a=this.Xe(e),l=a?this.et(a,e,s):1;0!==l&&(this.He(n),this.Ke=this.Ke.insert(n,2===l?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Xe(e){const n=e.fe.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n;let s,a;try{s=Jf(r).toUint8Array()}catch(l){if(l instanceof sQ)return Sd("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new lx(s,i,o)}catch(l){return Sd(l instanceof O1?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return 0===a.Te?null:a}et(e,n,r){return n.fe.count===r-this.rt(e,n.targetId)?0:2}rt(e,n){const r=this.Be.getRemoteKeysForTarget(n);let i=0;return r.forEach(o=>{const s=this.Be.nt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.We(n,o,null),i++)}),i}it(e){const n=new Map;this.ke.forEach((o,s)=>{const a=this.Ye(s);if(a){if(o.current&&xI(a.target)){const l=new br(a.target.path);null!==this.qe.get(l)||this.st(s,l)||this.We(s,l,ga.newNoDocument(l,e))}o.De&&(n.set(s,o.ve()),o.Fe())}});let r=lo();this.Qe.forEach((o,s)=>{let a=!0;s.forEachWhile(l=>{const u=this.Ye(l);return!u||"TargetPurposeLimboResolution"===u.purpose||(a=!1,!1)}),a&&(r=r.add(o))}),this.qe.forEach((o,s)=>s.setReadTime(e));const i=new U1(e,n,this.Ke,this.qe,r);return this.qe=Bd(),this.Qe=t8(),this.Ke=new na(Hi),i}Ue(e,n){if(!this.je(e))return;const r=this.st(e,n.key)?2:0;this.ze(e).Me(n.key,r),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(e))}We(e,n,r){if(!this.je(e))return;const i=this.ze(e);this.st(e,n)?i.Me(n,1):i.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(e)),r&&(this.qe=this.qe.insert(n,r))}removeTarget(e){this.ke.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Be.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let n=this.ke.get(e);return n||(n=new e8,this.ke.set(e,n)),n}ot(e){let n=this.Qe.get(e);return n||(n=new Os(Hi),this.Qe=this.Qe.insert(e,n)),n}je(e){const n=null!==this.Ye(e);return n||Vn("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.ke.get(e);return n&&n.be?null:this.Be._t(e)}He(e){this.ke.set(e,new e8),this.Be.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}st(e,n){return this.Be.getRemoteKeysForTarget(e).has(n)}}function t8(){return new na(br.comparator)}function n8(){return new na(br.comparator)}const Ede={asc:"ASCENDING",desc:"DESCENDING"},Sde={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Tde={and:"AND",or:"OR"};class Bde{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function ux(t,e){return t.useProto3Json||I1(e)?e:{value:e}}function U0(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function r8(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Dde(t,e){return U0(t,e.toTimestamp())}function Al(t){return Zr(!!t),ni.fromTimestamp(function(n){const r=og(n);return new Sa(r.seconds,r.nanos)}(t))}function cx(t,e){return dx(t,e).canonicalString()}function dx(t,e){const n=(i=t,new Lo(["projects",i.projectId,"databases",i.database])).child("documents");var i;return void 0===e?n:n.child(e)}function i8(t){const e=Lo.fromString(t);return Zr(f8(e)),e}function Q1(t,e){return cx(t.databaseId,e.path)}function ff(t,e){const n=i8(e);if(n.get(1)!==t.databaseId.projectId)throw new On(un.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new On(un.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new br(a8(n))}function o8(t,e){return cx(t.databaseId,e)}function s8(t){const e=i8(t);return 4===e.length?Lo.emptyPath():a8(e)}function Ax(t){return new Lo(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function a8(t){return Zr(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function l8(t,e,n){return{name:Q1(t,e),fields:n.value.mapValue.fields}}function u8(t,e,n){const r=ff(t,e.name),i=Al(e.updateTime),o=e.createTime?Al(e.createTime):ni.min(),s=new zu({mapValue:{fields:e.fields}}),a=ga.newFoundDocument(r,i,o,s);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function H1(t,e){let n;if(e instanceof L0)n={update:l8(t,e.key,e.value)};else if(e instanceof O0)n={delete:Q1(t,e.key)};else if(e instanceof tp)n={update:l8(t,e.key,e.data),updateMask:Lde(e.fieldMask)};else{if(!(e instanceof ix))return Ur();n={verify:Q1(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,s){const a=s.transform;if(a instanceof N0)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Im)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Em)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof M0)return{fieldPath:s.field.canonicalString(),increment:a.Ie};throw Ur()}(0,r))),e.precondition.isNone||(n.currentDocument=void 0!==(o=e.precondition).updateTime?{updateTime:Dde(t,o.updateTime)}:void 0!==o.exists?{exists:o.exists}:Ur()),n;var o}function hx(t,e){const n=e.currentDocument?void 0!==(o=e.currentDocument).updateTime?Ta.updateTime(Al(o.updateTime)):void 0!==o.exists?Ta.exists(o.exists):Ta.none():Ta.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(s,a){let l=null;"setToServerValue"in a?(Zr("REQUEST_TIME"===a.setToServerValue),l=new N0):"appendMissingElements"in a?l=new Im(a.appendMissingElements.values||[]):"removeAllFromArray"in a?l=new Em(a.removeAllFromArray.values||[]):"increment"in a?l=new M0(s,a.increment):Ur();const u=pa.fromServerFormat(a.fieldPath);return new M1(u,l)}(t,i)):[];var o;if(e.update){const i=ff(t,e.update.name),o=new zu({mapValue:{fields:e.update.fields}});if(e.updateMask){const s=new Td((e.updateMask.fieldPaths||[]).map(p=>pa.fromServerFormat(p)));return new tp(i,o,s,n,r)}return new L0(i,o,n,r)}if(e.delete){const i=ff(t,e.delete);return new O0(i,n)}if(e.verify){const i=ff(t,e.verify);return new ix(i,n)}return Ur()}function c8(t,e){return{documents:[o8(t,e.path)]}}function fx(t,e){const n={structuredQuery:{}},r=e.path;let i;null!==e.collectionGroup?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=o8(t,i);const o=function(u){if(0!==u.length)return h8(xs.create(u,"and"))}(e.filters);o&&(n.structuredQuery.where=o);const s=function(u){if(0!==u.length)return u.map(p=>{return{field:dg((k=p).field),direction:Pde(k.dir)};var k})}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const a=ux(t,e.limit);return null!==a&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt={before:(u=e.startAt).inclusive,values:u.position}),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{ut:n,parent:i};var u}function d8(t){let e=s8(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Zr(1===r);const p=n.from[0];p.allDescendants?i=p.collectionId:e=e.child(p.collectionId)}let o=[];n.where&&(o=function(I){const k=A8(I);return k instanceof xs&&JD(k)?k.getFilters():[k]}(n.where));let s=[];n.orderBy&&(s=n.orderBy.map(k=>{return new x1(V0((q=k).field),function(Be){switch(Be){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(q.direction));var q}));let a=null;n.limit&&(a=function(I){let k;return k="object"==typeof I?I.value:I,I1(k)?null:k}(n.limit));let l=null;var I;n.startAt&&(l=new cg((I=n.startAt).values||[],!!I.before));let u=null;return n.endAt&&(u=function(I){return new cg(I.values||[],!I.before)}(n.endAt)),EQ(e,i,s,o,a,"F",l,u)}function A8(t){return void 0!==t.unaryFilter?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=V0(n.unaryFilter.field);return Oo.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=V0(n.unaryFilter.field);return Oo.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=V0(n.unaryFilter.field);return Oo.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=V0(n.unaryFilter.field);return Oo.create(s,"!=",{nullValue:"NULL_VALUE"});default:return Ur()}}(t):void 0!==t.fieldFilter?Oo.create(V0((n=t).fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ur()}}(n.fieldFilter.op),n.fieldFilter.value):void 0!==t.compositeFilter?function(n){return xs.create(n.compositeFilter.filters.map(r=>A8(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Ur()}}(n.compositeFilter.op))}(t):Ur();var n}function Pde(t){return Ede[t]}function Nde(t){return Sde[t]}function Mde(t){return Tde[t]}function dg(t){return{fieldPath:t.canonicalString()}}function V0(t){return pa.fromServerFormat(t.fieldPath)}function h8(t){return t instanceof Oo?function(n){if("=="===n.op){if(uQ(n.value))return{unaryFilter:{field:dg(n.field),op:"IS_NAN"}};if(lQ(n.value))return{unaryFilter:{field:dg(n.field),op:"IS_NULL"}}}else if("!="===n.op){if(uQ(n.value))return{unaryFilter:{field:dg(n.field),op:"IS_NOT_NAN"}};if(lQ(n.value))return{unaryFilter:{field:dg(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:dg(n.field),op:Nde(n.op),value:n.value}}}(t):t instanceof xs?function(n){const r=n.getFilters().map(i=>h8(i));return 1===r.length?r[0]:{compositeFilter:{op:Mde(n.op),filters:r}}}(t):Ur()}function Lde(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function f8(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}class np{constructor(e,n,r,i,o=ni.min(),s=ni.min(),a=Jl.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new np(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new np(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new np(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new np(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class p8{constructor(e){this.ct=e}}function g8(t,e){const n=e.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:OI(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document={name:Q1(o=t.ct,(s=e).key),fields:s.data.value.mapValue.fields,updateTime:U0(o,s.version.toTimestamp()),createTime:U0(o,s.createTime.toTimestamp())};else if(e.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:Sm(e.version)};else{if(!e.isUnknownDocument())return Ur();r.unknownDocument={path:n.path.toArray(),version:Sm(e.version)}}var o,s;return r}function OI(t){const e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function Sm(t){const e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Tm(t){const e=new Sa(t.seconds,t.nanoseconds);return ni.fromTimestamp(e)}function Bm(t,e){const n=(e.baseMutations||[]).map(o=>hx(t.ct,o));for(let o=0;o<e.mutations.length-1;++o)o+1<e.mutations.length&&void 0!==e.mutations[o+1].transform&&(e.mutations[o].updateTransforms=e.mutations[o+1].transform.fieldTransforms,e.mutations.splice(o+1,1),++o);const r=e.mutations.map(o=>hx(t.ct,o)),i=Sa.fromMillis(e.localWriteTimeMs);return new ox(e.batchId,i,n,r)}function j1(t){const e=Tm(t.readTime),n=void 0!==t.lastLimboFreeSnapshotVersion?Tm(t.lastLimboFreeSnapshotVersion):ni.min();let r;return r=void 0!==t.query.documents?(Zr(1===(o=t.query).documents.length),Xc(k0(s8(o.documents[0])))):function(o){return Xc(d8(o))}(t.query),new np(r,t.targetId,"TargetPurposeListen",t.lastListenSequenceNumber,e,n,Jl.fromBase64String(t.resumeToken));var o}function m8(t,e){const n=Sm(e.snapshotVersion),r=Sm(e.lastLimboFreeSnapshotVersion);let i;i=xI(e.target)?c8(t.ct,e.target):fx(t.ct,e.target).ut;const o=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:bm(e.target),readTime:n,resumeToken:o,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function px(t){const e=d8({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?kI(e,e.limit,"L"):e}function gx(t,e){return new ax(e.largestBatchId,hx(t.ct,e.overlayMutation))}function v8(t,e){const n=e.path.lastSegment();return[t,_c(e.path.popLast()),n]}function y8(t,e,n,r){return{indexId:t,uid:e,sequenceNumber:n,readTime:Sm(r.readTime),documentKey:_c(r.documentKey.path),largestBatchId:r.largestBatchId}}class Ude{getBundleMetadata(e,n){return _8(e).get(n).next(r=>{if(r)return{id:(o=r).bundleId,createTime:Tm(o.createTime),version:o.version};var o})}saveBundleMetadata(e,n){return _8(e).put({bundleId:(i=n).id,createTime:Sm(Al(i.createTime)),version:i.version});var i}getNamedQuery(e,n){return w8(e).get(n).next(r=>{if(r)return{name:(o=r).name,query:px(o.bundledQuery),readTime:Tm(o.readTime)};var o})}saveNamedQuery(e,n){return w8(e).put({name:(i=n).name,readTime:Sm(Al(i.readTime)),bundledQuery:i.bundledQuery});var i}}function _8(t){return Iu(t,"bundles")}function w8(t){return Iu(t,"namedQueries")}class UI{constructor(e,n){this.serializer=e,this.userId=n}static lt(e,n){return new UI(e,n.uid||"")}getOverlay(e,n){return z1(e).get(v8(this.userId,n)).next(r=>r?gx(this.serializer,r):null)}getOverlays(e,n){const r=hf();return zt.forEach(n,i=>this.getOverlay(e,i).next(o=>{null!==o&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){const i=[];return r.forEach((o,s)=>{const a=new ax(n,s);i.push(this.ht(e,a))}),zt.waitFor(i)}removeOverlaysForBatchId(e,n,r){const i=new Set;n.forEach(s=>i.add(_c(s.getCollectionPath())));const o=[];return i.forEach(s=>{const a=IDBKeyRange.bound([this.userId,s,r],[this.userId,s,r+1],!1,!0);o.push(z1(e).H("collectionPathOverlayIndex",a))}),zt.waitFor(o)}getOverlaysForCollection(e,n,r){const i=hf(),o=_c(n),s=IDBKeyRange.bound([this.userId,o,r],[this.userId,o,Number.POSITIVE_INFINITY],!0);return z1(e).W("collectionPathOverlayIndex",s).next(a=>{for(const l of a){const u=gx(this.serializer,l);i.set(u.getKey(),u)}return i})}getOverlaysForCollectionGroup(e,n,r,i){const o=hf();let s;const a=IDBKeyRange.bound([this.userId,n,r],[this.userId,n,Number.POSITIVE_INFINITY],!0);return z1(e).Y({index:"collectionGroupOverlayIndex",range:a},(l,u,p)=>{const I=gx(this.serializer,u);o.size()<i||I.largestBatchId===s?(o.set(I.getKey(),I),s=I.largestBatchId):p.done()}).next(()=>o)}ht(e,n){return z1(e).put(function(i,o,s){const[a,l,u]=v8(o,s.mutation.key);return{userId:o,collectionPath:l,documentId:u,collectionGroup:s.mutation.key.getCollectionGroup(),largestBatchId:s.largestBatchId,overlayMutation:H1(i.ct,s.mutation)}}(this.serializer,this.userId,n))}}function z1(t){return Iu(t,"documentOverlays")}class Dm{constructor(){}Pt(e,n){this.It(e,n),n.Tt()}It(e,n){if("nullValue"in e)this.Et(n,5);else if("booleanValue"in e)this.Et(n,10),n.dt(e.booleanValue?1:0);else if("integerValue"in e)this.Et(n,15),n.dt($a(e.integerValue));else if("doubleValue"in e){const r=$a(e.doubleValue);isNaN(r)?this.Et(n,13):(this.Et(n,15),E1(r)?n.dt(0):n.dt(r))}else if("timestampValue"in e){const r=e.timestampValue;this.Et(n,20),"string"==typeof r?n.At(r):(n.At(`${r.seconds||""}`),n.dt(r.nanos||0))}else if("stringValue"in e)this.Rt(e.stringValue,n),this.Vt(n);else if("bytesValue"in e)this.Et(n,30),n.ft(Jf(e.bytesValue)),this.Vt(n);else if("referenceValue"in e)this.gt(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.Et(n,45),n.dt(r.latitude||0),n.dt(r.longitude||0)}else"mapValue"in e?cQ(e)?this.Et(n,Number.MAX_SAFE_INTEGER):(this.yt(e.mapValue,n),this.Vt(n)):"arrayValue"in e?(this.wt(e.arrayValue,n),this.Vt(n)):Ur()}Rt(e,n){this.Et(n,25),this.St(e,n)}St(e,n){n.At(e)}yt(e,n){const r=e.fields||{};this.Et(n,55);for(const i of Object.keys(r))this.Rt(i,n),this.It(r[i],n)}wt(e,n){const r=e.values||[];this.Et(n,50);for(const i of r)this.It(i,n)}gt(e,n){this.Et(n,37),br.fromName(e).path.forEach(r=>{this.Et(n,60),this.St(r,n)})}Et(e,n){e.dt(n)}Vt(e){e.dt(2)}}function Vde(t){if(0===t)return 8;let e=0;return!(t>>4)&&(e+=4,t<<=4),!(t>>6)&&(e+=2,t<<=2),!(t>>7)&&(e+=1),e}function C8(t){const e=64-function(r){let i=0;for(let o=0;o<8;++o){const s=Vde(255&r[o]);if(i+=s,8!==s)break}return i}(t);return Math.ceil(e/8)}Dm.bt=new Dm;class Qde{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Dt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Ct(r.value),r=n.next();this.vt()}Ft(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Mt(r.value),r=n.next();this.xt()}Ot(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Ct(r);else if(r<2048)this.Ct(960|r>>>6),this.Ct(128|63&r);else if(n<"\ud800"||"\udbff"<n)this.Ct(480|r>>>12),this.Ct(128|63&r>>>6),this.Ct(128|63&r);else{const i=n.codePointAt(0);this.Ct(240|i>>>18),this.Ct(128|63&i>>>12),this.Ct(128|63&i>>>6),this.Ct(128|63&i)}}this.vt()}Nt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Mt(r);else if(r<2048)this.Mt(960|r>>>6),this.Mt(128|63&r);else if(n<"\ud800"||"\udbff"<n)this.Mt(480|r>>>12),this.Mt(128|63&r>>>6),this.Mt(128|63&r);else{const i=n.codePointAt(0);this.Mt(240|i>>>18),this.Mt(128|63&i>>>12),this.Mt(128|63&i>>>6),this.Mt(128|63&i)}}this.xt()}Lt(e){const n=this.Bt(e),r=C8(n);this.kt(1+r),this.buffer[this.position++]=255&r;for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=255&n[i]}qt(e){const n=this.Bt(e),r=C8(n);this.kt(1+r),this.buffer[this.position++]=~(255&r);for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=~(255&n[i])}Qt(){this.Kt(255),this.Kt(255)}$t(){this.Ut(255),this.Ut(255)}reset(){this.position=0}seed(e){this.kt(e.length),this.buffer.set(e,this.position),this.position+=e.length}Wt(){return this.buffer.slice(0,this.position)}Bt(e){const n=function(o){const s=new DataView(new ArrayBuffer(8));return s.setFloat64(0,o,!1),new Uint8Array(s.buffer)}(e),r=!!(128&n[0]);n[0]^=r?255:128;for(let i=1;i<n.length;++i)n[i]^=r?255:0;return n}Ct(e){const n=255&e;0===n?(this.Kt(0),this.Kt(255)):255===n?(this.Kt(255),this.Kt(0)):this.Kt(n)}Mt(e){const n=255&e;0===n?(this.Ut(0),this.Ut(255)):255===n?(this.Ut(255),this.Ut(0)):this.Ut(e)}vt(){this.Kt(0),this.Kt(1)}xt(){this.Ut(0),this.Ut(1)}Kt(e){this.kt(1),this.buffer[this.position++]=e}Ut(e){this.kt(1),this.buffer[this.position++]=~e}kt(e){const n=e+this.position;if(n<=this.buffer.length)return;let r=2*this.buffer.length;r<n&&(r=n);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class Hde{constructor(e){this.Gt=e}ft(e){this.Gt.Dt(e)}At(e){this.Gt.Ot(e)}dt(e){this.Gt.Lt(e)}Tt(){this.Gt.Qt()}}class jde{constructor(e){this.Gt=e}ft(e){this.Gt.Ft(e)}At(e){this.Gt.Nt(e)}dt(e){this.Gt.qt(e)}Tt(){this.Gt.$t()}}class $1{constructor(){this.Gt=new Qde,this.zt=new Hde(this.Gt),this.jt=new jde(this.Gt)}seed(e){this.Gt.seed(e)}Ht(e){return 0===e?this.zt:this.jt}Wt(){return this.Gt.Wt()}reset(){this.Gt.reset()}}class xm{constructor(e,n,r,i){this.indexId=e,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}Jt(){const e=this.directionalValue.length,n=0===e||255===this.directionalValue[e-1]?e+1:e,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new xm(this.indexId,this.documentKey,this.arrayValue,r)}}function Ag(t,e){let n=t.indexId-e.indexId;return 0!==n?n:(n=b8(t.arrayValue,e.arrayValue),0!==n?n:(n=b8(t.directionalValue,e.directionalValue),0!==n?n:br.comparator(t.documentKey,e.documentKey)))}function b8(t,e){for(let n=0;n<t.length&&n<e.length;++n){const r=t[n]-e[n];if(0!==r)return r}return t.length-e.length}class I8{constructor(e){this.Yt=new Os((n,r)=>pa.comparator(n.field,r.field)),this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Zt=e.orderBy,this.Xt=[];for(const n of e.filters){const r=n;r.isInequality()?this.Yt=this.Yt.add(r):this.Xt.push(r)}}get en(){return this.Yt.size>1}tn(e){if(Zr(e.collectionGroup===this.collectionId),this.en)return!1;const n=zD(e);if(void 0!==n&&!this.nn(n))return!1;const r=ym(e);let i=new Set,o=0,s=0;for(;o<r.length&&this.nn(r[o]);++o)i=i.add(r[o].fieldPath.canonicalString());if(o===r.length)return!0;if(this.Yt.size>0){const a=this.Yt.getIterator().getNext();if(!i.has(a.field.canonicalString())){const l=r[o];if(!this.rn(a,l)||!this.sn(this.Zt[s++],l))return!1}++o}for(;o<r.length;++o)if(s>=this.Zt.length||!this.sn(this.Zt[s++],r[o]))return!1;return!0}on(){if(this.en)return null;let e=new Os(pa.comparator);const n=[];for(const r of this.Xt)if(!r.field.isKeyField())if("array-contains"===r.op||"array-contains-any"===r.op)n.push(new _m(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),n.push(new _m(r.field,0))}for(const r of this.Zt)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),n.push(new _m(r.field,"asc"===r.dir?0:1)));return new T0(T0.UNKNOWN_ID,this.collectionId,n,B0.empty())}nn(e){for(const n of this.Xt)if(this.rn(n,e))return!0;return!1}rn(e,n){return!(void 0===e||!e.field.isEqual(n.fieldPath))&&2===n.kind==("array-contains"===e.op||"array-contains-any"===e.op)}sn(e,n){return!!e.field.isEqual(n.fieldPath)&&(0===n.kind&&"asc"===e.dir||1===n.kind&&"desc"===e.dir)}}function E8(t){var e,n;if(Zr(t instanceof Oo||t instanceof xs),t instanceof Oo){if(t instanceof CQ){const i=(null===(n=null===(e=t.value.arrayValue)||void 0===e?void 0:e.values)||void 0===n?void 0:n.map(o=>Oo.create(t.field,"==",o)))||[];return xs.create(i,"or")}return t}const r=t.filters.map(i=>E8(i));return xs.create(r,t.op)}function zde(t){if(0===t.getFilters().length)return[];const e=yx(E8(t));return Zr(S8(e)),mx(e)||vx(e)?[e]:e.getFilters()}function mx(t){return t instanceof Oo}function vx(t){return t instanceof xs&&JD(t)}function S8(t){return mx(t)||vx(t)||function(n){if(n instanceof xs&&XD(n)){for(const r of n.getFilters())if(!mx(r)&&!vx(r))return!1;return!0}return!1}(t)}function yx(t){if(Zr(t instanceof Oo||t instanceof xs),t instanceof Oo)return t;if(1===t.filters.length)return yx(t.filters[0]);const e=t.filters.map(r=>yx(r));let n=xs.create(e,t.op);return n=VI(n),S8(n)?n:(Zr(n instanceof xs),Zr(F0(n)),Zr(n.filters.length>1),n.filters.reduce((r,i)=>_x(r,i)))}function _x(t,e){let n;return Zr(t instanceof Oo||t instanceof xs),Zr(e instanceof Oo||e instanceof xs),n=t instanceof Oo?e instanceof Oo?xs.create([t,e],"and"):T8(t,e):e instanceof Oo?T8(e,t):function(i,o){if(Zr(i.filters.length>0&&o.filters.length>0),F0(i)&&F0(o))return yQ(i,o.getFilters());const s=XD(i)?i:o,a=XD(i)?o:i,l=s.filters.map(u=>_x(u,a));return xs.create(l,"or")}(t,e),VI(n)}function T8(t,e){if(F0(e))return yQ(e,t.getFilters());{const n=e.filters.map(r=>_x(t,r));return xs.create(n,"or")}}function VI(t){if(Zr(t instanceof Oo||t instanceof xs),t instanceof Oo)return t;const e=t.getFilters();if(1===e.length)return VI(e[0]);if(mQ(t))return t;const n=e.map(i=>VI(i)),r=[];return n.forEach(i=>{i instanceof Oo?r.push(i):i instanceof xs&&(i.op===t.op?r.push(...i.filters):r.push(i))}),1===r.length?r[0]:xs.create(r,t.op)}class $de{constructor(){this._n=new wx}addToCollectionParentIndex(e,n){return this._n.add(n),zt.resolve()}getCollectionParents(e,n){return zt.resolve(this._n.getEntries(n))}addFieldIndex(e,n){return zt.resolve()}deleteFieldIndex(e,n){return zt.resolve()}deleteAllFieldIndexes(e){return zt.resolve()}createTargetIndexes(e,n){return zt.resolve()}getDocumentsMatchingTarget(e,n){return zt.resolve(null)}getIndexType(e,n){return zt.resolve(0)}getFieldIndexes(e,n){return zt.resolve([])}getNextCollectionGroupToUpdate(e){return zt.resolve(null)}getMinOffset(e,n){return zt.resolve(AA.min())}getMinOffsetFromCollectionGroup(e,n){return zt.resolve(AA.min())}updateCollectionGroup(e,n,r){return zt.resolve()}updateIndexEntries(e,n){return zt.resolve()}}class wx{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Os(Lo.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Os(Lo.comparator)).toArray()}}const QI=new Uint8Array(0);class Gde{constructor(e,n){this.databaseId=n,this.an=new wx,this.un=new ep(r=>bm(r),(r,i)=>F1(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this.an.has(n)){const r=n.lastSegment(),i=n.popLast();e.addOnCommittedListener(()=>{this.an.add(n)});const o={collectionId:r,parent:_c(i)};return B8(e).put(o)}return zt.resolve()}getCollectionParents(e,n){const r=[],i=IDBKeyRange.bound([n,""],[zV(n),""],!1,!0);return B8(e).W(i).next(o=>{for(const s of o){if(s.collectionId!==n)break;r.push(df(s.parent))}return r})}addFieldIndex(e,n){const r=G1(e),i={indexId:(a=n).indexId,collectionGroup:a.collectionGroup,fields:a.fields.map(l=>[l.fieldPath.canonicalString(),l.kind])};var a;delete i.indexId;const o=r.add(i);if(n.indexState){const s=H0(e);return o.next(a=>{s.put(y8(a,this.uid,n.indexState.sequenceNumber,n.indexState.offset))})}return o.next()}deleteFieldIndex(e,n){const r=G1(e),i=H0(e),o=Q0(e);return r.delete(n.indexId).next(()=>i.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))).next(()=>o.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const n=G1(e),r=Q0(e),i=H0(e);return n.H().next(()=>r.H()).next(()=>i.H())}createTargetIndexes(e,n){return zt.forEach(this.cn(n),r=>this.getIndexType(e,r).next(i=>{if(0===i||1===i){const o=new I8(r).on();if(null!=o)return this.addFieldIndex(e,o)}}))}getDocumentsMatchingTarget(e,n){const r=Q0(e);let i=!0;const o=new Map;return zt.forEach(this.cn(n),s=>this.ln(e,s).next(a=>{i&&(i=!!a),o.set(s,a)})).next(()=>{if(i){let s=lo();const a=[];return zt.forEach(o,(l,u)=>{var Bt;Vn("IndexedDbIndexManager",`Using index ${Bt=l,`id=${Bt.indexId}|cg=${Bt.collectionGroup}|f=${Bt.fields.map(Ut=>`${Ut.fieldPath}:${Ut.kind}`).join(",")}`} to execute ${bm(n)}`);const p=function(Bt,Ut){const Fn=zD(Ut);if(void 0===Fn)return null;for(const Kn of FI(Bt,Fn.fieldPath))switch(Kn.op){case"array-contains-any":return Kn.value.arrayValue.values||[];case"array-contains":return[Kn.value]}return null}(u,l),I=function(Bt,Ut){const Fn=new Map;for(const Kn of ym(Ut))for(const Ii of FI(Bt,Kn.fieldPath))switch(Ii.op){case"==":case"in":Fn.set(Kn.fieldPath.canonicalString(),Ii.value);break;case"not-in":case"!=":return Fn.set(Kn.fieldPath.canonicalString(),Ii.value),Array.from(Fn.values())}return null}(u,l),k=function(Bt,Ut){const Fn=[];let Kn=!0;for(const Ii of ym(Ut)){const Bo=0===Ii.kind?bQ(Bt,Ii.fieldPath,Bt.startAt):IQ(Bt,Ii.fieldPath,Bt.startAt);Fn.push(Bo.value),Kn&&(Kn=Bo.inclusive)}return new cg(Fn,Kn)}(u,l),O=function(Bt,Ut){const Fn=[];let Kn=!0;for(const Ii of ym(Ut)){const Bo=0===Ii.kind?IQ(Bt,Ii.fieldPath,Bt.endAt):bQ(Bt,Ii.fieldPath,Bt.endAt);Fn.push(Bo.value),Kn&&(Kn=Bo.inclusive)}return new cg(Fn,Kn)}(u,l),q=this.hn(l,u,k),ge=this.hn(l,u,O),Be=this.Pn(l,u,I),Ye=this.In(l.indexId,p,q,k.inclusive,ge,O.inclusive,Be);return zt.forEach(Ye,tt=>r.j(tt,n.limit).next(Bt=>{Bt.forEach(Ut=>{const Fn=br.fromSegments(Ut.documentKey);s.has(Fn)||(s=s.add(Fn),a.push(Fn))})}))}).next(()=>a)}return zt.resolve(null)})}cn(e){let n=this.un.get(e);return n||(n=0===e.filters.length?[e]:zde(xs.create(e.filters,"and")).map(r=>ex(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.un.set(e,n),n)}In(e,n,r,i,o,s,a){const l=(null!=n?n.length:1)*Math.max(r.length,o.length),u=l/(null!=n?n.length:1),p=[];for(let I=0;I<l;++I){const k=n?this.Tn(n[I/u]):QI,O=this.En(e,k,r[I%u],i),q=this.dn(e,k,o[I%u],s),ge=a.map(Be=>this.En(e,k,Be,!0));p.push(...this.createRange(O,q,ge))}return p}En(e,n,r,i){const o=new xm(e,br.empty(),n,r);return i?o:o.Jt()}dn(e,n,r,i){const o=new xm(e,br.empty(),n,r);return i?o.Jt():o}ln(e,n){const r=new I8(n),i=null!=n.collectionGroup?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,i).next(o=>{let s=null;for(const a of o)r.tn(a)&&(!s||a.fields.length>s.fields.length)&&(s=a);return s})}getIndexType(e,n){let r=2;const i=this.cn(n);return zt.forEach(i,o=>this.ln(e,o).next(s=>{s?0!==r&&s.fields.length<function(l){let u=new Os(pa.comparator),p=!1;for(const I of l.filters)for(const k of I.getFlattenedFilters())k.field.isKeyField()||("array-contains"===k.op||"array-contains-any"===k.op?p=!0:u=u.add(k.field));for(const I of l.orderBy)I.field.isKeyField()||(u=u.add(I.field));return u.size+(p?1:0)}(o)&&(r=1):r=0})).next(()=>null!==n.limit&&i.length>1&&2===r?1:r)}An(e,n){const r=new $1;for(const i of ym(e)){const o=n.data.field(i.fieldPath);if(null==o)return null;const s=r.Ht(i.kind);Dm.bt.Pt(o,s)}return r.Wt()}Tn(e){const n=new $1;return Dm.bt.Pt(e,n.Ht(0)),n.Wt()}Rn(e,n){const r=new $1;return Dm.bt.Pt(Cm(this.databaseId,n),r.Ht(function(o){const s=ym(o);return 0===s.length?0:s[s.length-1].kind}(e))),r.Wt()}Pn(e,n,r){if(null===r)return[];let i=[];i.push(new $1);let o=0;for(const s of ym(e)){const a=r[o++];for(const l of i)if(this.Vn(n,s.fieldPath)&&B1(a))i=this.mn(i,s,a);else{const u=l.Ht(s.kind);Dm.bt.Pt(a,u)}}return this.fn(i)}hn(e,n,r){return this.Pn(e,n,r.position)}fn(e){const n=[];for(let r=0;r<e.length;++r)n[r]=e[r].Wt();return n}mn(e,n,r){const i=[...e],o=[];for(const s of r.arrayValue.values||[])for(const a of i){const l=new $1;l.seed(a.Wt()),Dm.bt.Pt(s,l.Ht(n.kind)),o.push(l)}return o}Vn(e,n){return!!e.filters.find(r=>r instanceof Oo&&r.field.isEqual(n)&&("in"===r.op||"not-in"===r.op))}getFieldIndexes(e,n){const r=G1(e),i=H0(e);return(n?r.W("collectionGroupIndex",IDBKeyRange.bound(n,n)):r.W()).next(o=>{const s=[];return zt.forEach(o,a=>i.get([a.indexId,this.uid]).next(l=>{s.push(function(p,I){const k=I?new B0(I.sequenceNumber,new AA(Tm(I.readTime),new br(df(I.documentKey)),I.largestBatchId)):B0.empty(),O=p.fields.map(([q,ge])=>new _m(pa.fromServerFormat(q),ge));return new T0(p.indexId,p.collectionGroup,O,k)}(a,l))})).next(()=>s)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(n=>0===n.length?null:(n.sort((r,i)=>{const o=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return 0!==o?o:Hi(r.collectionGroup,i.collectionGroup)}),n[0].collectionGroup))}updateCollectionGroup(e,n,r){const i=G1(e),o=H0(e);return this.gn(e).next(s=>i.W("collectionGroupIndex",IDBKeyRange.bound(n,n)).next(a=>zt.forEach(a,l=>o.put(y8(l.indexId,this.uid,s,r)))))}updateIndexEntries(e,n){const r=new Map;return zt.forEach(n,(i,o)=>{const s=r.get(i.collectionGroup);return(s?zt.resolve(s):this.getFieldIndexes(e,i.collectionGroup)).next(a=>(r.set(i.collectionGroup,a),zt.forEach(a,l=>this.pn(e,i,l).next(u=>{const p=this.yn(o,l);return u.isEqual(p)?zt.resolve():this.wn(e,o,l,u,p)}))))})}Sn(e,n,r,i){return Q0(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.Rn(r,n.key),documentKey:n.key.path.toArray()})}bn(e,n,r,i){return Q0(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.Rn(r,n.key),n.key.path.toArray()])}pn(e,n,r){const i=Q0(e);let o=new Os(Ag);return i.Y({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.Rn(r,n)])},(s,a)=>{o=o.add(new xm(r.indexId,n,a.arrayValue,a.directionalValue))}).next(()=>o)}yn(e,n){let r=new Os(Ag);const i=this.An(n,e);if(null==i)return r;const o=zD(n);if(null!=o){const s=e.data.field(o.fieldPath);if(B1(s))for(const a of s.arrayValue.values||[])r=r.add(new xm(n.indexId,e.key,this.Tn(a),i))}else r=r.add(new xm(n.indexId,e.key,QI,i));return r}wn(e,n,r,i,o){Vn("IndexedDbIndexManager","Updating index entries for document '%s'",n.key);const s=[];return function(l,u,p,I,k){const O=l.getIterator(),q=u.getIterator();let ge=D0(O),Be=D0(q);for(;ge||Be;){let Ye=!1,tt=!1;if(ge&&Be){const Bt=p(ge,Be);Bt<0?tt=!0:Bt>0&&(Ye=!0)}else null!=ge?tt=!0:Ye=!0;Ye?(I(Be),Be=D0(q)):tt?(k(ge),ge=D0(O)):(ge=D0(O),Be=D0(q))}}(i,o,Ag,a=>{s.push(this.Sn(e,n,r,a))},a=>{s.push(this.bn(e,n,r,a))}),zt.waitFor(s)}gn(e){let n=1;return H0(e).Y({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,o)=>{o.done(),n=i.sequenceNumber+1}).next(()=>n)}createRange(e,n,r){r=r.sort((s,a)=>Ag(s,a)).filter((s,a,l)=>!a||0!==Ag(s,l[a-1]));const i=[];i.push(e);for(const s of r){const a=Ag(s,e),l=Ag(s,n);if(0===a)i[0]=e.Jt();else if(a>0&&l<0)i.push(s),i.push(s.Jt());else if(l>0)break}i.push(n);const o=[];for(let s=0;s<i.length;s+=2){if(this.Dn(i[s],i[s+1]))return[];o.push(IDBKeyRange.bound([i[s].indexId,this.uid,i[s].arrayValue,i[s].directionalValue,QI,[]],[i[s+1].indexId,this.uid,i[s+1].arrayValue,i[s+1].directionalValue,QI,[]]))}return o}Dn(e,n){return Ag(e,n)>0}getMinOffsetFromCollectionGroup(e,n){return this.getFieldIndexes(e,n).next(D8)}getMinOffset(e,n){return zt.mapArray(this.cn(n),r=>this.ln(e,r).next(i=>i||Ur())).next(D8)}}function B8(t){return Iu(t,"collectionParents")}function Q0(t){return Iu(t,"indexEntries")}function G1(t){return Iu(t,"indexConfiguration")}function H0(t){return Iu(t,"indexState")}function D8(t){Zr(0!==t.length);let e=t[0].indexState.offset,n=e.largestBatchId;for(let r=1;r<t.length;r++){const i=t[r].indexState.offset;$D(i,e)<0&&(e=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new AA(e.readTime,e.documentKey,n)}const x8={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class wc{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new wc(e,wc.DEFAULT_COLLECTION_PERCENTILE,wc.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function F8(t,e,n){const r=t.store("mutations"),i=t.store("documentMutations"),o=[],s=IDBKeyRange.only(n.batchId);let a=0;const l=r.Y({range:s},(p,I,k)=>(a++,k.delete()));o.push(l.next(()=>{Zr(1===a)}));const u=[];for(const p of n.mutations){const I=ZV(e,p.key.path,n.batchId);o.push(i.delete(I)),u.push(p.key)}return zt.waitFor(o).next(()=>u)}function HI(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw Ur();e=t.noDocument}return JSON.stringify(e).length}wc.DEFAULT_COLLECTION_PERCENTILE=10,wc.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,wc.DEFAULT=new wc(41943040,wc.DEFAULT_COLLECTION_PERCENTILE,wc.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),wc.DISABLED=new wc(-1,0,0);class jI{constructor(e,n,r,i){this.userId=e,this.serializer=n,this.indexManager=r,this.referenceDelegate=i,this.Cn={}}static lt(e,n,r,i){Zr(""!==e.uid);const o=e.isAuthenticated()?e.uid:"";return new jI(o,n,r,i)}checkEmpty(e){let n=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return hg(e).Y({index:"userMutationsIndex",range:r},(i,o,s)=>{n=!1,s.done()}).next(()=>n)}addMutationBatch(e,n,r,i){const o=j0(e),s=hg(e);return s.add({}).next(a=>{Zr("number"==typeof a);const l=new ox(a,n,r,i),u=function(O,q,ge){const Be=ge.baseMutations.map(tt=>H1(O.ct,tt)),Ye=ge.mutations.map(tt=>H1(O.ct,tt));return{userId:q,batchId:ge.batchId,localWriteTimeMs:ge.localWriteTime.toMillis(),baseMutations:Be,mutations:Ye}}(this.serializer,this.userId,l),p=[];let I=new Os((k,O)=>Hi(k.canonicalString(),O.canonicalString()));for(const k of i){const O=ZV(this.userId,k.key.path,a);I=I.add(k.key.path.popLast()),p.push(s.put(u)),p.push(o.put(O,Pce))}return I.forEach(k=>{p.push(this.indexManager.addToCollectionParentIndex(e,k))}),e.addOnCommittedListener(()=>{this.Cn[a]=l.keys()}),zt.waitFor(p).next(()=>l)})}lookupMutationBatch(e,n){return hg(e).get(n).next(r=>r?(Zr(r.userId===this.userId),Bm(this.serializer,r)):null)}vn(e,n){return this.Cn[n]?zt.resolve(this.Cn[n]):this.lookupMutationBatch(e,n).next(r=>{if(r){const i=r.keys();return this.Cn[n]=i,i}return null})}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=IDBKeyRange.lowerBound([this.userId,r]);let o=null;return hg(e).Y({index:"userMutationsIndex",range:i},(s,a,l)=>{a.userId===this.userId&&(Zr(a.batchId>=r),o=Bm(this.serializer,a)),l.done()}).next(()=>o)}getHighestUnacknowledgedBatchId(e){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return hg(e).Y({index:"userMutationsIndex",range:n,reverse:!0},(i,o,s)=>{r=o.batchId,s.done()}).next(()=>r)}getAllMutationBatches(e){const n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return hg(e).W("userMutationsIndex",n).next(r=>r.map(i=>Bm(this.serializer,i)))}getAllMutationBatchesAffectingDocumentKey(e,n){const r=bI(this.userId,n.path),i=IDBKeyRange.lowerBound(r),o=[];return j0(e).Y({range:i},(s,a,l)=>{const[u,p,I]=s,k=df(p);if(u===this.userId&&n.path.isEqual(k))return hg(e).get(I).next(O=>{if(!O)throw Ur();Zr(O.userId===this.userId),o.push(Bm(this.serializer,O))});l.done()}).next(()=>o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Os(Hi);const i=[];return n.forEach(o=>{const s=bI(this.userId,o.path),a=IDBKeyRange.lowerBound(s),l=j0(e).Y({range:a},(u,p,I)=>{const[k,O,q]=u,ge=df(O);k===this.userId&&o.path.isEqual(ge)?r=r.add(q):I.done()});i.push(l)}),zt.waitFor(i).next(()=>this.Fn(e,r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1,o=bI(this.userId,r),s=IDBKeyRange.lowerBound(o);let a=new Os(Hi);return j0(e).Y({range:s},(l,u,p)=>{const[I,k,O]=l,q=df(k);I===this.userId&&r.isPrefixOf(q)?q.length===i&&(a=a.add(O)):p.done()}).next(()=>this.Fn(e,a))}Fn(e,n){const r=[],i=[];return n.forEach(o=>{i.push(hg(e).get(o).next(s=>{if(null===s)throw Ur();Zr(s.userId===this.userId),r.push(Bm(this.serializer,s))}))}),zt.waitFor(i).next(()=>r)}removeMutationBatch(e,n){return F8(e.ae,this.userId,n).next(r=>(e.addOnCommittedListener(()=>{this.Mn(n.batchId)}),zt.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}Mn(e){delete this.Cn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(n=>{if(!n)return zt.resolve();const r=IDBKeyRange.lowerBound(function(s){return[s]}(this.userId)),i=[];return j0(e).Y({range:r},(o,s,a)=>{if(o[0]===this.userId){const l=df(o[1]);i.push(l)}else a.done()}).next(()=>{Zr(0===i.length)})})}containsKey(e,n){return k8(e,this.userId,n)}xn(e){return R8(e).get(this.userId).next(n=>n||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function k8(t,e,n){const r=bI(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r);let s=!1;return j0(t).Y({range:o,J:!0},(a,l,u)=>{const[p,I,k]=a;p===e&&I===i&&(s=!0),u.done()}).next(()=>s)}function hg(t){return Iu(t,"mutations")}function j0(t){return Iu(t,"documentMutations")}function R8(t){return Iu(t,"mutationQueues")}class Fm{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new Fm(0)}static Ln(){return new Fm(-1)}}class Wde{constructor(e,n){this.referenceDelegate=e,this.serializer=n}allocateTargetId(e){return this.Bn(e).next(n=>{const r=new Fm(n.highestTargetId);return n.highestTargetId=r.next(),this.kn(e,n).next(()=>n.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Bn(e).next(n=>ni.fromTimestamp(new Sa(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Bn(e).next(n=>n.highestListenSequenceNumber)}setTargetsMetadata(e,n,r){return this.Bn(e).next(i=>(i.highestListenSequenceNumber=n,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),n>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=n),this.kn(e,i)))}addTargetData(e,n){return this.qn(e,n).next(()=>this.Bn(e).next(r=>(r.targetCount+=1,this.Qn(n,r),this.kn(e,r))))}updateTargetData(e,n){return this.qn(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next(()=>z0(e).delete(n.targetId)).next(()=>this.Bn(e)).next(r=>(Zr(r.targetCount>0),r.targetCount-=1,this.kn(e,r)))}removeTargets(e,n,r){let i=0;const o=[];return z0(e).Y((s,a)=>{const l=j1(a);l.sequenceNumber<=n&&null===r.get(l.targetId)&&(i++,o.push(this.removeTargetData(e,l)))}).next(()=>zt.waitFor(o)).next(()=>i)}forEachTarget(e,n){return z0(e).Y((r,i)=>{const o=j1(i);n(o)})}Bn(e){return P8(e).get("targetGlobalKey").next(n=>(Zr(null!==n),n))}kn(e,n){return P8(e).put("targetGlobalKey",n)}qn(e,n){return z0(e).put(m8(this.serializer,n))}Qn(e,n){let r=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,r=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.Bn(e).next(n=>n.targetCount)}getTargetData(e,n){const r=bm(n),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let o=null;return z0(e).Y({range:i,index:"queryTargetsIndex"},(s,a,l)=>{const u=j1(a);F1(n,u.target)&&(o=u,l.done())}).next(()=>o)}addMatchingKeys(e,n,r){const i=[],o=fg(e);return n.forEach(s=>{const a=_c(s.path);i.push(o.put({targetId:r,path:a})),i.push(this.referenceDelegate.addReference(e,r,s))}),zt.waitFor(i)}removeMatchingKeys(e,n,r){const i=fg(e);return zt.forEach(n,o=>{const s=_c(o.path);return zt.waitFor([i.delete([r,s]),this.referenceDelegate.removeReference(e,r,o)])})}removeMatchingKeysForTargetId(e,n){const r=fg(e),i=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,n){const r=IDBKeyRange.bound([n],[n+1],!1,!0),i=fg(e);let o=lo();return i.Y({range:r,J:!0},(s,a,l)=>{const u=df(s[1]),p=new br(u);o=o.add(p)}).next(()=>o)}containsKey(e,n){const r=_c(n.path),i=IDBKeyRange.bound([r],[zV(r)],!1,!0);let o=0;return fg(e).Y({index:"documentTargetsIndex",J:!0,range:i},([s,a],l,u)=>{0!==s&&(o++,u.done())}).next(()=>o>0)}_t(e,n){return z0(e).get(n).next(r=>r?j1(r):null)}}function z0(t){return Iu(t,"targets")}function P8(t){return Iu(t,"targetGlobal")}function fg(t){return Iu(t,"targetDocuments")}function N8([t,e],[n,r]){const i=Hi(t,n);return 0===i?Hi(e,r):i}class Kde{constructor(e){this.Kn=e,this.buffer=new Os(N8),this.$n=0}Un(){return++this.$n}Wn(e){const n=[e,this.Un()];if(this.buffer.size<this.Kn)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();N8(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class M8{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Gn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.zn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return null!==this.Gn}zn(e){var n=this;Vn("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,V.A)(function*(){n.Gn=null;try{yield n.localStore.collectGarbage(n.garbageCollector)}catch(r){rg(r)?Vn("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):yield ng(r)}yield n.zn(3e5)}))}}class qde{constructor(e,n){this.jn=e,this.params=n}calculateTargetCount(e,n){return this.jn.Hn(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(0===n)return zt.resolve(hA._e);const r=new Kde(n);return this.jn.forEachTarget(e,i=>r.Wn(i.sequenceNumber)).next(()=>this.jn.Jn(e,i=>r.Wn(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.jn.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.jn.removeOrphanedDocuments(e,n)}collect(e,n){return-1===this.params.cacheSizeCollectionThreshold?(Vn("LruGarbageCollector","Garbage collection skipped; disabled"),zt.resolve(x8)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Vn("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),x8):this.Yn(e,n))}getCacheSize(e){return this.jn.getCacheSize(e)}Yn(e,n){let r,i,o,s,a,l,u;const p=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(I=>(I>this.params.maximumSequenceNumbersToCollect?(Vn("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${I}`),i=this.params.maximumSequenceNumbersToCollect):i=I,s=Date.now(),this.nthSequenceNumber(e,i))).next(I=>(r=I,a=Date.now(),this.removeTargets(e,r,n))).next(I=>(o=I,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(I=>(u=Date.now(),E0()<=cA.$b.DEBUG&&Vn("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${s-p}ms\n\tDetermined least recently used ${i} in `+(a-s)+`ms\n\tRemoved ${o} targets in `+(l-a)+`ms\n\tRemoved ${I} documents in `+(u-l)+`ms\nTotal Duration: ${u-p}ms`),zt.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:I})))}}class Yde{constructor(e,n){this.db=e,this.garbageCollector=function L8(t,e){return new qde(t,e)}(this,n)}Hn(e){const n=this.Zn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}Zn(e){let n=0;return this.Jn(e,r=>{n++}).next(()=>n)}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}Jn(e,n){return this.Xn(e,(r,i)=>n(i))}addReference(e,n,r){return zI(e,r)}removeReference(e,n,r){return zI(e,r)}removeTargets(e,n,r){return this.db.getTargetCache().removeTargets(e,n,r)}markPotentiallyOrphaned(e,n){return zI(e,n)}er(e,n){return function(i,o){let s=!1;return R8(i).Z(a=>k8(i,a,o).next(l=>(l&&(s=!0),zt.resolve(!l)))).next(()=>s)}(e,n)}removeOrphanedDocuments(e,n){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let o=0;return this.Xn(e,(s,a)=>{if(a<=n){const l=this.er(e,s).next(u=>{if(!u)return o++,r.getEntry(e,s).next(()=>(r.removeEntry(s,ni.min()),fg(e).delete([0,_c(s.path)])))});i.push(l)}}).next(()=>zt.waitFor(i)).next(()=>r.apply(e)).next(()=>o)}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,n){return zI(e,n)}Xn(e,n){const r=fg(e);let i,o=hA._e;return r.Y({index:"documentTargetsIndex"},([s,a],{path:l,sequenceNumber:u})=>{0===s?(o!==hA._e&&n(new br(df(i)),o),o=u,i=l):o=hA._e}).next(()=>{o!==hA._e&&n(new br(df(i)),o)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function zI(t,e){return fg(t).put((i=t.currentSequenceNumber,{targetId:0,path:_c(e.path),sequenceNumber:i}));var i}class O8{constructor(){this.changes=new ep(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,ga.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return void 0!==r?zt.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Xde{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,r){return km(e).put(r)}removeEntry(e,n,r){return km(e).delete(function(o,s){const a=o.path.toArray();return[a.slice(0,a.length-2),a[a.length-2],OI(s),a[a.length-1]]}(n,r))}updateMetadata(e,n){return this.getMetadata(e).next(r=>(r.byteSize+=n,this.tr(e,r)))}getEntry(e,n){let r=ga.newInvalidDocument(n);return km(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(W1(n))},(i,o)=>{r=this.nr(n,o)}).next(()=>r)}rr(e,n){let r={size:0,document:ga.newInvalidDocument(n)};return km(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(W1(n))},(i,o)=>{r={document:this.nr(n,o),size:HI(o)}}).next(()=>r)}getEntries(e,n){let r=Bd();return this.ir(e,n,(i,o)=>{const s=this.nr(i,o);r=r.insert(i,s)}).next(()=>r)}sr(e,n){let r=Bd(),i=new na(br.comparator);return this.ir(e,n,(o,s)=>{const a=this.nr(o,s);r=r.insert(o,a),i=i.insert(o,HI(s))}).next(()=>({documents:r,_r:i}))}ir(e,n,r){if(n.isEmpty())return zt.resolve();let i=new Os(H8);n.forEach(l=>i=i.add(l));const o=IDBKeyRange.bound(W1(i.first()),W1(i.last())),s=i.getIterator();let a=s.getNext();return km(e).Y({index:"documentKeyIndex",range:o},(l,u,p)=>{const I=br.fromSegments([...u.prefixPath,u.collectionGroup,u.documentId]);for(;a&&H8(a,I)<0;)r(a,null),a=s.getNext();a&&a.isEqual(I)&&(r(a,u),a=s.hasNext()?s.getNext():null),a?p.U(W1(a)):p.done()}).next(()=>{for(;a;)r(a,null),a=s.hasNext()?s.getNext():null})}getDocumentsMatchingQuery(e,n,r,i,o){const s=n.path,a=[s.popLast().toArray(),s.lastSegment(),OI(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],l=[s.popLast().toArray(),s.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return km(e).W(IDBKeyRange.bound(a,l,!0)).next(u=>{null==o||o.incrementDocumentReadCount(u.length);let p=Bd();for(const I of u){const k=this.nr(br.fromSegments(I.prefixPath.concat(I.collectionGroup,I.documentId)),I);k.isFoundDocument()&&(R1(n,k)||i.has(k.key))&&(p=p.insert(k.key,k))}return p})}getAllFromCollectionGroup(e,n,r,i){let o=Bd();const s=Q8(n,r),a=Q8(n,AA.max());return km(e).Y({index:"collectionGroupIndex",range:IDBKeyRange.bound(s,a,!0)},(l,u,p)=>{const I=this.nr(br.fromSegments(u.prefixPath.concat(u.collectionGroup,u.documentId)),u);o=o.insert(I.key,I),o.size===i&&p.done()}).next(()=>o)}newChangeBuffer(e){return new Jde(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(n=>n.byteSize)}getMetadata(e){return V8(e).get("remoteDocumentGlobalKey").next(n=>(Zr(!!n),n))}tr(e,n){return V8(e).put("remoteDocumentGlobalKey",n)}nr(e,n){if(n){const r=function Ode(t,e){let n;if(e.document)n=u8(t.ct,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=br.fromSegments(e.noDocument.path),i=Tm(e.noDocument.readTime);n=ga.newNoDocument(r,i),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return Ur();{const r=br.fromSegments(e.unknownDocument.path),i=Tm(e.unknownDocument.version);n=ga.newUnknownDocument(r,i)}}return e.readTime&&n.setReadTime(function(i){const o=new Sa(i[0],i[1]);return ni.fromTimestamp(o)}(e.readTime)),n}(this.serializer,n);if(!r.isNoDocument()||!r.version.isEqual(ni.min()))return r}return ga.newInvalidDocument(e)}}function U8(t){return new Xde(t)}class Jde extends O8{constructor(e,n){super(),this.ar=e,this.trackRemovals=n,this.ur=new ep(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const n=[];let r=0,i=new Os((o,s)=>Hi(o.canonicalString(),s.canonicalString()));return this.changes.forEach((o,s)=>{const a=this.ur.get(o);if(n.push(this.ar.removeEntry(e,o,a.readTime)),s.isValidDocument()){const l=g8(this.ar.serializer,s);i=i.add(o.path.popLast());const u=HI(l);r+=u-a.size,n.push(this.ar.addEntry(e,o,l))}else if(r-=a.size,this.trackRemovals){const l=g8(this.ar.serializer,s.convertToNoDocument(ni.min()));n.push(this.ar.addEntry(e,o,l))}}),i.forEach(o=>{n.push(this.ar.indexManager.addToCollectionParentIndex(e,o))}),n.push(this.ar.updateMetadata(e,r)),zt.waitFor(n)}getFromCache(e,n){return this.ar.rr(e,n).next(r=>(this.ur.set(n,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,n){return this.ar.sr(e,n).next(({documents:r,_r:i})=>(i.forEach((o,s)=>{this.ur.set(o,{size:s,readTime:r.get(o).readTime})}),r))}}function V8(t){return Iu(t,"remoteDocumentGlobal")}function km(t){return Iu(t,"remoteDocumentsV14")}function W1(t){const e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function Q8(t,e){const n=e.documentKey.path.toArray();return[t,OI(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function H8(t,e){const n=t.path.toArray(),r=e.path.toArray();let i=0;for(let o=0;o<n.length-2&&o<r.length-2;++o)if(i=Hi(n[o],r[o]),i)return i;return i=Hi(n.length,r.length),i||(i=Hi(n[n.length-2],r[r.length-2]),i||Hi(n[n.length-1],r[r.length-1]))}class Zde{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class j8{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(null!==r&&L1(r.mutation,i,Td.empty(),Sa.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,lo()).next(()=>r))}getLocalViewOfDocuments(e,n,r=lo()){const i=hf();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=P1();return o.forEach((a,l)=>{s=s.insert(a,l.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){const r=hf();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,lo()))}populateOverlays(e,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,i){let o=Bd();const s=N1(),a=N1();return n.forEach((l,u)=>{const p=r.get(u.key);i.has(u.key)&&(void 0===p||p.mutation instanceof tp)?o=o.insert(u.key,u):void 0!==p?(s.set(u.key,p.mutation.getFieldMask()),L1(p.mutation,u,p.mutation.getFieldMask(),Sa.now())):s.set(u.key,Td.empty())}),this.recalculateAndSaveOverlays(e,o).next(l=>(l.forEach((u,p)=>s.set(u,p)),n.forEach((u,p)=>{var I;return a.set(u,new Zde(p,null!==(I=s.get(u))&&void 0!==I?I:null))}),a))}recalculateAndSaveOverlays(e,n){const r=N1();let i=new na((s,a)=>s-a),o=lo();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(const a of s)a.keys().forEach(l=>{const u=n.get(l);if(null===u)return;let p=r.get(l)||Td.empty();p=a.applyToLocalView(u,p),r.set(l,p);const I=(i.get(a.batchId)||lo()).add(l);i=i.insert(a.batchId,I)})}).next(()=>{const s=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,p=l.value,I=RQ();p.forEach(k=>{if(!o.has(k)){const O=HQ(n.get(k),r.get(k));null!==O&&I.set(k,O),o=o.add(k)}}),s.push(this.documentOverlayCache.saveOverlays(e,u,I))}return zt.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return br.isDocumentKey((s=n).path)&&null===s.collectionGroup&&0===s.filters.length?this.getDocumentsMatchingDocumentQuery(e,n.path):tx(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i);var s}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{const s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):zt.resolve(hf());let a=-1,l=o;return s.next(u=>zt.forEach(u,(p,I)=>(a<I.largestBatchId&&(a=I.largestBatchId),o.get(p)?zt.resolve():this.remoteDocumentCache.getEntry(e,p).next(k=>{l=l.insert(p,k)}))).next(()=>this.populateOverlays(e,u,o)).next(()=>this.computeViews(e,l,u,lo())).next(p=>({batchId:a,changes:kQ(p)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new br(n)).next(r=>{let i=P1();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const o=n.collectionGroup;let s=P1();return this.indexManager.getCollectionParents(e,o).next(a=>zt.forEach(a,l=>{const u=(I=n,k=l.child(o),new Zf(k,null,I.explicitOrderBy.slice(),I.filters.slice(),I.limit,I.limitType,I.startAt,I.endAt));var I,k;return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(p=>{p.forEach((I,k)=>{s=s.insert(I,k)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((l,u)=>{const p=u.getKey();null===s.get(p)&&(s=s.insert(p,ga.newInvalidDocument(p)))});let a=P1();return s.forEach((l,u)=>{const p=o.get(l);void 0!==p&&L1(p.mutation,u,Td.empty(),Sa.now()),R1(n,u)&&(a=a.insert(l,u))}),a})}}class eAe{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,n){return zt.resolve(this.cr.get(n))}saveBundleMetadata(e,n){return this.cr.set(n.id,{id:(i=n).id,version:i.version,createTime:Al(i.createTime)}),zt.resolve();var i}getNamedQuery(e,n){return zt.resolve(this.lr.get(n))}saveNamedQuery(e,n){return this.lr.set(n.name,{name:(i=n).name,query:px(i.bundledQuery),readTime:Al(i.readTime)}),zt.resolve();var i}}class tAe{constructor(){this.overlays=new na(br.comparator),this.hr=new Map}getOverlay(e,n){return zt.resolve(this.overlays.get(n))}getOverlays(e,n){const r=hf();return zt.forEach(n,i=>this.getOverlay(e,i).next(o=>{null!==o&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.ht(e,n,o)}),zt.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.hr.get(r);return void 0!==i&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.hr.delete(r)),zt.resolve()}getOverlaysForCollection(e,n,r){const i=hf(),o=n.length+1,s=new br(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===o&&l.largestBatchId>r&&i.set(l.getKey(),l)}return zt.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new na((u,p)=>u-p);const s=this.overlays.getIterator();for(;s.hasNext();){const u=s.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let p=o.get(u.largestBatchId);null===p&&(p=hf(),o=o.insert(u.largestBatchId,p)),p.set(u.getKey(),u)}}const a=hf(),l=o.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,p)=>a.set(u,p)),!(a.size()>=i)););return zt.resolve(a)}ht(e,n,r){const i=this.overlays.get(r.key);if(null!==i){const s=this.hr.get(i.largestBatchId).delete(r.key);this.hr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new ax(n,r));let o=this.hr.get(n);void 0===o&&(o=lo(),this.hr.set(n,o)),this.hr.set(n,o.add(r.key))}}class Cx{constructor(){this.Pr=new Os(Eu.Ir),this.Tr=new Os(Eu.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,n){const r=new Eu(e,n);this.Pr=this.Pr.add(r),this.Tr=this.Tr.add(r)}dr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Ar(new Eu(e,n))}Rr(e,n){e.forEach(r=>this.removeReference(r,n))}Vr(e){const n=new br(new Lo([])),r=new Eu(n,e),i=new Eu(n,e+1),o=[];return this.Tr.forEachInRange([r,i],s=>{this.Ar(s),o.push(s.key)}),o}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const n=new br(new Lo([])),r=new Eu(n,e),i=new Eu(n,e+1);let o=lo();return this.Tr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){const n=new Eu(e,0),r=this.Pr.firstAfterOrEqual(n);return null!==r&&e.isEqual(r.key)}}class Eu{constructor(e,n){this.key=e,this.pr=n}static Ir(e,n){return br.comparator(e.key,n.key)||Hi(e.pr,n.pr)}static Er(e,n){return Hi(e.pr,n.pr)||br.comparator(e.key,n.key)}}class nAe{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new Os(Eu.Ir)}checkEmpty(e){return zt.resolve(0===this.mutationQueue.length)}addMutationBatch(e,n,r,i){const o=this.yr;this.yr++;const s=new ox(o,n,r,i);this.mutationQueue.push(s);for(const a of i)this.wr=this.wr.add(new Eu(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return zt.resolve(s)}lookupMutationBatch(e,n){return zt.resolve(this.Sr(n))}getNextMutationBatchAfterBatchId(e,n){const i=this.br(n+1),o=i<0?0:i;return zt.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return zt.resolve(0===this.mutationQueue.length?-1:this.yr-1)}getAllMutationBatches(e){return zt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Eu(n,0),i=new Eu(n,Number.POSITIVE_INFINITY),o=[];return this.wr.forEachInRange([r,i],s=>{const a=this.Sr(s.pr);o.push(a)}),zt.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Os(Hi);return n.forEach(i=>{const o=new Eu(i,0),s=new Eu(i,Number.POSITIVE_INFINITY);this.wr.forEachInRange([o,s],a=>{r=r.add(a.pr)})}),zt.resolve(this.Dr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;br.isDocumentKey(o)||(o=o.child(""));const s=new Eu(new br(o),0);let a=new Os(Hi);return this.wr.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.pr)),!0)},s),zt.resolve(this.Dr(a))}Dr(e){const n=[];return e.forEach(r=>{const i=this.Sr(r);null!==i&&n.push(i)}),n}removeMutationBatch(e,n){Zr(0===this.Cr(n.batchId,"removed")),this.mutationQueue.shift();let r=this.wr;return zt.forEach(n.mutations,i=>{const o=new Eu(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.wr=r})}Mn(e){}containsKey(e,n){const r=new Eu(n,0),i=this.wr.firstAfterOrEqual(r);return zt.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return zt.resolve()}Cr(e,n){return this.br(e)}br(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Sr(e){const n=this.br(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class rAe{constructor(e){this.vr=e,this.docs=new na(br.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.vr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return zt.resolve(r?r.document.mutableCopy():ga.newInvalidDocument(n))}getEntries(e,n){let r=Bd();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():ga.newInvalidDocument(i))}),zt.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=Bd();const s=n.path,a=new br(s.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:p}}=l.getNext();if(!s.isPrefixOf(u.path))break;u.path.length>s.length+1||$D(GV(p),r)<=0||(i.has(p.key)||R1(n,p))&&(o=o.insert(p.key,p.mutableCopy()))}return zt.resolve(o)}getAllFromCollectionGroup(e,n,r,i){Ur()}Fr(e,n){return zt.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new iAe(this)}getSize(e){return zt.resolve(this.size)}}class iAe extends O8{constructor(e){super(),this.ar=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.ar.addEntry(e,i)):this.ar.removeEntry(r)}),zt.waitFor(n)}getFromCache(e,n){return this.ar.getEntry(e,n)}getAllFromCache(e,n){return this.ar.getEntries(e,n)}}class oAe{constructor(e){this.persistence=e,this.Mr=new ep(n=>bm(n),F1),this.lastRemoteSnapshotVersion=ni.min(),this.highestTargetId=0,this.Or=0,this.Nr=new Cx,this.targetCount=0,this.Lr=Fm.Nn()}forEachTarget(e,n){return this.Mr.forEach((r,i)=>n(i)),zt.resolve()}getLastRemoteSnapshotVersion(e){return zt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return zt.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Lr.next(),zt.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Or&&(this.Or=n),zt.resolve()}qn(e){this.Mr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Lr=new Fm(n),this.highestTargetId=n),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,n){return this.qn(n),this.targetCount+=1,zt.resolve()}updateTargetData(e,n){return this.qn(n),zt.resolve()}removeTargetData(e,n){return this.Mr.delete(n.target),this.Nr.Vr(n.targetId),this.targetCount-=1,zt.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.Mr.forEach((s,a)=>{a.sequenceNumber<=n&&null===r.get(a.targetId)&&(this.Mr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),zt.waitFor(o).next(()=>i)}getTargetCount(e){return zt.resolve(this.targetCount)}getTargetData(e,n){const r=this.Mr.get(n)||null;return zt.resolve(r)}addMatchingKeys(e,n,r){return this.Nr.dr(n,r),zt.resolve()}removeMatchingKeys(e,n,r){this.Nr.Rr(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),zt.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Nr.Vr(n),zt.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Nr.gr(n);return zt.resolve(r)}containsKey(e,n){return zt.resolve(this.Nr.containsKey(n))}}class bx{constructor(e,n){this.Br={},this.overlays={},this.kr=new hA(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new oAe(this),this.indexManager=new $de,this.remoteDocumentCache=new rAe(r=>this.referenceDelegate.Kr(r)),this.serializer=new p8(n),this.$r=new eAe(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new tAe,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Br[e.toKey()];return r||(r=new nAe(n,this.referenceDelegate),this.Br[e.toKey()]=r),r}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,n,r){Vn("MemoryPersistence","Starting transaction:",e);const i=new sAe(this.kr.next());return this.referenceDelegate.Ur(),r(i).next(o=>this.referenceDelegate.Wr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Gr(e,n){return zt.or(Object.values(this.Br).map(r=>()=>r.containsKey(e,n)))}}class sAe extends KV{constructor(e){super(),this.currentSequenceNumber=e}}class $I{constructor(e){this.persistence=e,this.zr=new Cx,this.jr=null}static Hr(e){return new $I(e)}get Jr(){if(this.jr)return this.jr;throw Ur()}addReference(e,n,r){return this.zr.addReference(r,n),this.Jr.delete(r.toString()),zt.resolve()}removeReference(e,n,r){return this.zr.removeReference(r,n),this.Jr.add(r.toString()),zt.resolve()}markPotentiallyOrphaned(e,n){return this.Jr.add(n.toString()),zt.resolve()}removeTarget(e,n){this.zr.Vr(n.targetId).forEach(i=>this.Jr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.Jr.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}Ur(){this.jr=new Set}Wr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return zt.forEach(this.Jr,r=>{const i=br.fromPath(r);return this.Yr(e,i).next(o=>{o||n.removeEntry(i,ni.min())})}).next(()=>(this.jr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Yr(e,n).next(r=>{r?this.Jr.delete(n.toString()):this.Jr.add(n.toString())})}Kr(e){return 0}Yr(e,n){return zt.or([()=>zt.resolve(this.zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gr(e,n)])}}class aAe{constructor(e){this.serializer=e}N(e,n,r,i){const o=new CI("createOrUpgrade",n);var l;r<1&&i>=1&&(e.createObjectStore("owner"),(l=e).createObjectStore("mutationQueues",{keyPath:"userId"}),l.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",JV,{unique:!0}),l.createObjectStore("documentMutations"),z8(e),function(l){l.createObjectStore("remoteDocuments")}(e));let s=zt.resolve();return r<3&&i>=3&&(0!==r&&(function(l){l.deleteObjectStore("targetDocuments"),l.deleteObjectStore("targets"),l.deleteObjectStore("targetGlobal")}(e),z8(e)),s=s.next(()=>function(l){const u=l.store("targetGlobal"),p={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:ni.min().toTimestamp(),targetCount:0};return u.put("targetGlobalKey",p)}(o))),r<4&&i>=4&&(0!==r&&(s=s.next(()=>function(l,u){return u.store("mutations").W().next(p=>{l.deleteObjectStore("mutations"),l.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",JV,{unique:!0});const I=u.store("mutations"),k=p.map(O=>I.put(O));return zt.waitFor(k)})}(e,o))),s=s.next(()=>{!function(l){l.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),r<5&&i>=5&&(s=s.next(()=>this.Xr(o))),r<6&&i>=6&&(s=s.next(()=>(function(l){l.createObjectStore("remoteDocumentGlobal")}(e),this.ei(o)))),r<7&&i>=7&&(s=s.next(()=>this.ti(o))),r<8&&i>=8&&(s=s.next(()=>this.ni(e,o))),r<9&&i>=9&&(s=s.next(()=>{!function(l){l.objectStoreNames.contains("remoteDocumentChanges")&&l.deleteObjectStore("remoteDocumentChanges")}(e)})),r<10&&i>=10&&(s=s.next(()=>this.ri(o))),r<11&&i>=11&&(s=s.next(()=>{(function(l){l.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(l){l.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(s=s.next(()=>{!function(l){const u=l.createObjectStore("documentOverlays",{keyPath:Gce});u.createIndex("collectionPathOverlayIndex",Wce,{unique:!1}),u.createIndex("collectionGroupOverlayIndex",Kce,{unique:!1})}(e)})),r<13&&i>=13&&(s=s.next(()=>function(l){const u=l.createObjectStore("remoteDocumentsV14",{keyPath:Nce});u.createIndex("documentKeyIndex",Mce),u.createIndex("collectionGroupIndex",Lce)}(e)).next(()=>this.ii(e,o)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(s=s.next(()=>this.si(e,o))),r<15&&i>=15&&(s=s.next(()=>function(l){l.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),l.createObjectStore("indexState",{keyPath:Hce}).createIndex("sequenceNumberIndex",jce,{unique:!1}),l.createObjectStore("indexEntries",{keyPath:zce}).createIndex("documentKeyIndex",$ce,{unique:!1})}(e))),s}ei(e){let n=0;return e.store("remoteDocuments").Y((r,i)=>{n+=HI(i)}).next(()=>{const r={byteSize:n};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Xr(e){const n=e.store("mutationQueues"),r=e.store("mutations");return n.W().next(i=>zt.forEach(i,o=>{const s=IDBKeyRange.bound([o.userId,-1],[o.userId,o.lastAcknowledgedBatchId]);return r.W("userMutationsIndex",s).next(a=>zt.forEach(a,l=>{Zr(l.userId===o.userId);const u=Bm(this.serializer,l);return F8(e,o.userId,u).next(()=>{})}))}))}ti(e){const n=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const o=[];return r.Y((s,a)=>{const l=new Lo(s),u=[0,_c(l)];o.push(n.get(u).next(p=>p?zt.resolve():n.put({targetId:0,path:_c(l),sequenceNumber:i.highestListenSequenceNumber})))}).next(()=>zt.waitFor(o))})}ni(e,n){e.createObjectStore("collectionParents",{keyPath:Qce});const r=n.store("collectionParents"),i=new wx,o=s=>{if(i.add(s)){const a=s.lastSegment(),l=s.popLast();return r.put({collectionId:a,parent:_c(l)})}};return n.store("remoteDocuments").Y({J:!0},(s,a)=>{const l=new Lo(s);return o(l.popLast())}).next(()=>n.store("documentMutations").Y({J:!0},([s,a,l],u)=>{const p=df(a);return o(p.popLast())}))}ri(e){const n=e.store("targets");return n.Y((r,i)=>{const o=j1(i),s=m8(this.serializer,o);return n.put(s)})}ii(e,n){const r=n.store("remoteDocuments"),i=[];return r.Y((o,s)=>{const a=n.store("remoteDocumentsV14"),l=(I=s,I.document?new br(Lo.fromString(I.document.name).popFirst(5)):I.noDocument?br.fromSegments(I.noDocument.path):I.unknownDocument?br.fromSegments(I.unknownDocument.path):Ur()).path.toArray(),u={prefixPath:l.slice(0,l.length-2),collectionGroup:l[l.length-2],documentId:l[l.length-1],readTime:s.readTime||[0,0],unknownDocument:s.unknownDocument,noDocument:s.noDocument,document:s.document,hasCommittedMutations:!!s.hasCommittedMutations};var I;i.push(a.put(u))}).next(()=>zt.waitFor(i))}si(e,n){const r=n.store("mutations"),i=U8(this.serializer),o=new bx($I.Hr,this.serializer.ct);return r.W().next(s=>{const a=new Map;return s.forEach(l=>{var u;let p=null!==(u=a.get(l.userId))&&void 0!==u?u:lo();Bm(this.serializer,l).keys().forEach(I=>p=p.add(I)),a.set(l.userId,p)}),zt.forEach(a,(l,u)=>{const p=new bu(u),I=UI.lt(this.serializer,p),k=o.getIndexManager(p),O=jI.lt(p,this.serializer,k,o.referenceDelegate);return new j8(i,O,I,k).recalculateAndSaveOverlaysForDocumentKeys(new KD(n,hA._e),l).next()})})}}function z8(t){t.createObjectStore("targetDocuments",{keyPath:Uce}).createIndex("documentTargetsIndex",Vce,{unique:!0}),t.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Oce,{unique:!0}),t.createObjectStore("targetGlobal")}const Ix="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Ex{constructor(e,n,r,i,o,s,a,l,u,p,I=15){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.oi=o,this.window=s,this.document=a,this._i=u,this.ai=p,this.ui=I,this.kr=null,this.qr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.li=null,this.hi=null,this.Pi=Number.NEGATIVE_INFINITY,this.Ii=k=>Promise.resolve(),!Ex.D())throw new On(un.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Yde(this,i),this.Ti=n+"main",this.serializer=new p8(l),this.Ei=new $A(this.Ti,this.ui,new aAe(this.serializer)),this.Qr=new Wde(this.referenceDelegate,this.serializer),this.remoteDocumentCache=U8(this.serializer),this.$r=new Ude,this.window&&this.window.localStorage?this.di=this.window.localStorage:(this.di=null,!1===p&&dl("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Ai().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new On(un.FAILED_PRECONDITION,Ix);return this.Ri(),this.Vi(),this.mi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Qr.getHighestSequenceNumber(e))}).then(e=>{this.kr=new hA(e,this._i)}).then(()=>{this.qr=!0}).catch(e=>(this.Ei&&this.Ei.close(),Promise.reject(e)))}fi(e){var n=this;return this.Ii=function(){var r=(0,V.A)(function*(i){if(n.started)return e(i)});return function(i){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ei.B(function(){var n=(0,V.A)(function*(r){null===r.newVersion&&(yield e())});return function(r){return n.apply(this,arguments)}}())}setNetworkEnabled(e){var n=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.oi.enqueueAndForget((0,V.A)(function*(){n.started&&(yield n.Ai())})))}Ai(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>WI(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.gi(e).next(n=>{n||(this.isPrimary=!1,this.oi.enqueueRetryable(()=>this.Ii(!1)))})}).next(()=>this.pi(e)).next(n=>this.isPrimary&&!n?this.yi(e).next(()=>!1):!!n&&this.wi(e).next(()=>!0))).catch(e=>{if(rg(e))return Vn("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Vn("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.oi.enqueueRetryable(()=>this.Ii(e)),this.isPrimary=e})}gi(e){return K1(e).get("owner").next(n=>zt.resolve(this.Si(n)))}bi(e){return WI(e).delete(this.clientId)}Di(){var e=this;return(0,V.A)(function*(){if(e.isPrimary&&!e.Ci(e.Pi,18e5)){e.Pi=Date.now();const n=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const i=Iu(r,"clientMetadata");return i.W().next(o=>{const s=e.vi(o,18e5),a=o.filter(l=>-1===s.indexOf(l));return zt.forEach(a,l=>i.delete(l.clientId)).next(()=>a)})}).catch(()=>[]);if(e.di)for(const r of n)e.di.removeItem(e.Fi(r.clientId))}})()}mi(){this.hi=this.oi.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Ai().then(()=>this.Di()).then(()=>this.mi()))}Si(e){return!!e&&e.ownerId===this.clientId}pi(e){return this.ai?zt.resolve(!0):K1(e).get("owner").next(n=>{if(null!==n&&this.Ci(n.leaseTimestampMs,5e3)&&!this.Mi(n.ownerId)){if(this.Si(n)&&this.networkEnabled)return!0;if(!this.Si(n)){if(!n.allowTabSynchronization)throw new On(un.FAILED_PRECONDITION,Ix);return!1}}return!(!this.networkEnabled||!this.inForeground)||WI(e).W().next(r=>void 0===this.vi(r,5e3).find(i=>!(this.clientId===i.clientId||!(!this.networkEnabled&&i.networkEnabled||!this.inForeground&&i.inForeground&&this.networkEnabled===i.networkEnabled))))}).next(n=>(this.isPrimary!==n&&Vn("IndexedDbPersistence",`Client ${n?"is":"is not"} eligible for a primary lease.`),n))}shutdown(){var e=this;return(0,V.A)(function*(){e.qr=!1,e.xi(),e.hi&&(e.hi.cancel(),e.hi=null),e.Oi(),e.Ni(),yield e.Ei.runTransaction("shutdown","readwrite",["owner","clientMetadata"],n=>{const r=new KD(n,hA._e);return e.yi(r).next(()=>e.bi(r))}),e.Ei.close(),e.Li()})()}vi(e,n){return e.filter(r=>this.Ci(r.updateTimeMs,n)&&!this.Mi(r.clientId))}Bi(){return this.runTransaction("getActiveClients","readonly",e=>WI(e).W().next(n=>this.vi(n,18e5).map(r=>r.clientId)))}get started(){return this.qr}getMutationQueue(e,n){return jI.lt(e,this.serializer,n,this.referenceDelegate)}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new Gde(e,this.serializer.ct.databaseId)}getDocumentOverlayCache(e){return UI.lt(this.serializer,e)}getBundleCache(){return this.$r}runTransaction(e,n,r){Vn("IndexedDbPersistence","Starting transaction:",e);const i="readonly"===n?"readonly":"readwrite",o=15===(l=this.ui)?Yce:14===l?nQ:13===l?tQ:12===l?qce:11===l?eQ:void Ur();var l;let s;return this.Ei.runTransaction(e,i,o,a=>(s=new KD(a,this.kr?this.kr.next():hA._e),"readwrite-primary"===n?this.gi(s).next(l=>!!l||this.pi(s)).next(l=>{if(!l)throw dl(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.oi.enqueueRetryable(()=>this.Ii(!1)),new On(un.FAILED_PRECONDITION,WV);return r(s)}).next(l=>this.wi(s).next(()=>l)):this.ki(s).next(()=>r(s)))).then(a=>(s.raiseOnCommittedEvent(),a))}ki(e){return K1(e).get("owner").next(n=>{if(null!==n&&this.Ci(n.leaseTimestampMs,5e3)&&!this.Mi(n.ownerId)&&!this.Si(n)&&!(this.ai||this.allowTabSynchronization&&n.allowTabSynchronization))throw new On(un.FAILED_PRECONDITION,Ix)})}wi(e){const n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return K1(e).put("owner",n)}static D(){return $A.D()}yi(e){const n=K1(e);return n.get("owner").next(r=>this.Si(r)?(Vn("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):zt.resolve())}Ci(e,n){const r=Date.now();return!(e<r-n||e>r&&(dl(`Detected an update time that is in the future: ${e} > ${r}`),1))}Ri(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.li=()=>{this.oi.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.Ai()))},this.document.addEventListener("visibilitychange",this.li),this.inForeground="visible"===this.document.visibilityState)}Oi(){this.li&&(this.document.removeEventListener("visibilitychange",this.li),this.li=null)}Vi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ci=()=>{this.xi();const n=/(?:Version|Mobile)\/1[456]/;(0,be.nr)()&&(navigator.appVersion.match(n)||navigator.userAgent.match(n))&&this.oi.enterRestrictedMode(!0),this.oi.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}Ni(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Mi(e){var n;try{const r=null!==(null===(n=this.di)||void 0===n?void 0:n.getItem(this.Fi(e)));return Vn("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return dl("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}xi(){if(this.di)try{this.di.setItem(this.Fi(this.clientId),String(Date.now()))}catch(e){dl("Failed to set zombie client id.",e)}}Li(){if(this.di)try{this.di.removeItem(this.Fi(this.clientId))}catch{}}Fi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function K1(t){return Iu(t,"owner")}function WI(t){return Iu(t,"clientMetadata")}function Sx(t,e){let n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}class Tx{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.qi=r,this.Qi=i}static Ki(e,n){let r=lo(),i=lo();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new Tx(e,n.fromCache,r,i)}}class lAe{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class $8{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=(0,be.nr)()?8:$A.v((0,be.ZQ)())>0?6:4}initialize(e,n){this.zi=e,this.indexManager=n,this.$i=!0}getDocumentsMatchingQuery(e,n,r,i){const o={result:null};return this.ji(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.Hi(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;const s=new lAe;return this.Ji(e,n,s).next(a=>{if(o.result=a,this.Ui)return this.Yi(e,n,s,a.size)})}).next(()=>o.result)}Yi(e,n,r,i){return r.documentReadCount<this.Wi?(E0()<=cA.$b.DEBUG&&Vn("QueryEngine","SDK will not create cache indexes for query:",P0(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),zt.resolve()):(E0()<=cA.$b.DEBUG&&Vn("QueryEngine","Query:",P0(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Gi*i?(E0()<=cA.$b.DEBUG&&Vn("QueryEngine","The SDK decides to create cache indexes for query:",P0(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Xc(n))):zt.resolve())}ji(e,n){if(SQ(n))return zt.resolve(null);let r=Xc(n);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==n.limit&&1===i&&(n=kI(n,null,"F"),r=Xc(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const s=lo(...o);return this.zi.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.Zi(n,a);return this.Xi(n,u,s,l.readTime)?this.ji(e,kI(n,null,"F")):this.es(e,u,n,l)}))})))}Hi(e,n,r,i){return SQ(n)||i.isEqual(ni.min())?zt.resolve(null):this.zi.getDocuments(e,r).next(o=>{const s=this.Zi(n,o);return this.Xi(n,s,r,i)?zt.resolve(null):(E0()<=cA.$b.DEBUG&&Vn("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),P0(n)),this.es(e,s,n,$V(i,-1)).next(a=>a))})}Zi(e,n){let r=new Os(xQ(e));return n.forEach((i,o)=>{R1(e,o)&&(r=r.add(o))}),r}Xi(e,n,r,i){if(null===e.limit)return!1;if(r.size!==n.size)return!0;const o="F"===e.limitType?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Ji(e,n,r){return E0()<=cA.$b.DEBUG&&Vn("QueryEngine","Using full collection scan to execute query:",P0(n)),this.zi.getDocumentsMatchingQuery(e,n,AA.min(),r)}es(e,n,r,i){return this.zi.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}}class uAe{constructor(e,n,r,i){this.persistence=e,this.ts=n,this.serializer=i,this.ns=new na(Hi),this.rs=new ep(o=>bm(o),F1),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(r)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new j8(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ns))}}function G8(t,e,n,r){return new uAe(t,e,n,r)}function W8(t,e){return Bx.apply(this,arguments)}function Bx(){return Bx=(0,V.A)(function*(t,e){const n=fr(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n._s(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const s=[],a=[];let l=lo();for(const u of i){s.push(u.batchId);for(const p of u.mutations)l=l.add(p.key)}for(const u of o){a.push(u.batchId);for(const p of u.mutations)l=l.add(p.key)}return n.localDocuments.getDocuments(r,l).next(u=>({us:u,removedBatchIds:s,addedBatchIds:a}))})})}),Bx.apply(this,arguments)}function K8(t){const e=fr(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Qr.getLastRemoteSnapshotVersion(n))}function q8(t,e,n){let r=lo(),i=lo();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=Bd();return n.forEach((a,l)=>{const u=o.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(ni.min())?(e.removeEntry(a,l.readTime),s=s.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||0===l.version.compareTo(u.version)&&u.hasPendingWrites?(e.addEntry(l),s=s.insert(a,l)):Vn("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{cs:s,ls:i}})}function AAe(t,e){const n=fr(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function $0(t,e){const n=fr(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Qr.getTargetData(r,e).next(o=>o?(i=o,zt.resolve(i)):n.Qr.allocateTargetId(r).next(s=>(i=new np(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.Qr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.ns.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ns=n.ns.insert(r.targetId,r),n.rs.set(e,r.targetId)),r})}function G0(t,e,n){return Dx.apply(this,arguments)}function Dx(){return Dx=(0,V.A)(function*(t,e,n){const r=fr(t),i=r.ns.get(e),o=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!rg(s))throw s;Vn("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.ns=r.ns.remove(e),r.rs.delete(i.target)}),Dx.apply(this,arguments)}function KI(t,e,n){const r=fr(t);let i=ni.min(),o=lo();return r.persistence.runTransaction("Execute query","readwrite",s=>function(l,u,p){const I=fr(l),k=I.rs.get(p);return void 0!==k?zt.resolve(I.ns.get(k)):I.Qr.getTargetData(u,p)}(r,s,Xc(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(s,a.targetId).next(l=>{o=l})}).next(()=>r.ts.getDocumentsMatchingQuery(s,e,n?i:ni.min(),n?o:lo())).next(a=>(J8(r,DQ(e),a),{documents:a,hs:o})))}function Y8(t,e){const n=fr(t),r=fr(n.Qr),i=n.ns.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",o=>r._t(o,e).next(s=>s?s.target:null))}function X8(t,e){const n=fr(t),r=n.ss.get(e)||ni.min();return n.persistence.runTransaction("Get new document changes","readonly",i=>n.os.getAllFromCollectionGroup(i,e,$V(r,-1),Number.MAX_SAFE_INTEGER)).then(i=>(J8(n,e,i),i))}function J8(t,e,n){let r=t.ss.get(e)||ni.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.ss.set(e,r)}function xx(){return xx=(0,V.A)(function*(t,e,n,r){const i=fr(t);let o=lo(),s=Bd();for(const u of n){const p=e.Ps(u.metadata.name);u.document&&(o=o.add(p));const I=e.Is(u);I.setReadTime(e.Ts(u.metadata.readTime)),s=s.insert(p,I)}const a=i.os.newChangeBuffer({trackRemovals:!0}),l=yield $0(i,(p=r,Xc(k0(Lo.fromString(`__bundle__/docs/${p}`)))));var p;return i.persistence.runTransaction("Apply bundle documents","readwrite",u=>q8(u,a,s).next(p=>(a.apply(u),p)).next(p=>i.Qr.removeMatchingKeysForTargetId(u,l.targetId).next(()=>i.Qr.addMatchingKeys(u,o,l.targetId)).next(()=>i.localDocuments.getLocalViewOfDocuments(u,p.cs,p.ls)).next(()=>p.cs)))}),xx.apply(this,arguments)}function fAe(t,e){return Fx.apply(this,arguments)}function Fx(){return Fx=(0,V.A)(function*(t,e,n=lo()){const r=yield $0(t,Xc(px(e.bundledQuery))),i=fr(t);return i.persistence.runTransaction("Save named query","readwrite",o=>{const s=Al(e.readTime);if(r.snapshotVersion.compareTo(s)>=0)return i.$r.saveNamedQuery(o,e);const a=r.withResumeToken(Jl.EMPTY_BYTE_STRING,s);return i.ns=i.ns.insert(a.targetId,a),i.Qr.updateTargetData(o,a).next(()=>i.Qr.removeMatchingKeysForTargetId(o,r.targetId)).next(()=>i.Qr.addMatchingKeys(o,n,r.targetId)).next(()=>i.$r.saveNamedQuery(o,e))})}),Fx.apply(this,arguments)}function Z8(t,e){return`firestore_clients_${t}_${e}`}function eH(t,e,n){let r=`firestore_mutations_${t}_${n}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function kx(t,e){return`firestore_targets_${t}_${e}`}class qI{constructor(e,n,r,i){this.user=e,this.batchId=n,this.state=r,this.error=i}static Es(e,n,r){const i=JSON.parse(r);let o,s="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return s&&i.error&&(s="string"==typeof i.error.message&&"string"==typeof i.error.code,s&&(o=new On(i.error.code,i.error.message))),s?new qI(e,n,i.state,o):(dl("SharedClientState",`Failed to parse mutation state for ID '${n}': ${r}`),null)}ds(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class q1{constructor(e,n,r){this.targetId=e,this.state=n,this.error=r}static Es(e,n){const r=JSON.parse(n);let i,o="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return o&&r.error&&(o="string"==typeof r.error.message&&"string"==typeof r.error.code,o&&(i=new On(r.error.code,r.error.message))),o?new q1(e,r.state,i):(dl("SharedClientState",`Failed to parse target state for ID '${e}': ${n}`),null)}ds(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class YI{constructor(e,n){this.clientId=e,this.activeTargetIds=n}static Es(e,n){const r=JSON.parse(n);let i="object"==typeof r&&r.activeTargetIds instanceof Array,o=rx();for(let s=0;i&&s<r.activeTargetIds.length;++s)i=YV(r.activeTargetIds[s]),o=o.add(r.activeTargetIds[s]);return i?new YI(e,o):(dl("SharedClientState",`Failed to parse client data for instance '${e}': ${n}`),null)}}class Rx{constructor(e,n){this.clientId=e,this.onlineState=n}static Es(e){const n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new Rx(n.clientId,n.onlineState):(dl("SharedClientState",`Failed to parse online state: ${e}`),null)}}class Px{constructor(){this.activeTargetIds=rx()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Nx{constructor(e,n,r,i,o){this.window=e,this.oi=n,this.persistenceKey=r,this.Vs=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.fs=this.gs.bind(this),this.ps=new na(Hi),this.started=!1,this.ys=[];const s=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=o,this.ws=Z8(this.persistenceKey,this.Vs),this.Ss=`firestore_sequence_number_${this.persistenceKey}`,this.ps=this.ps.insert(this.Vs,new Px),this.bs=new RegExp(`^firestore_clients_${s}_([^_]*)$`),this.Ds=new RegExp(`^firestore_mutations_${s}_(\\d+)(?:_(.*))?$`),this.Cs=new RegExp(`^firestore_targets_${s}_(\\d+)$`),this.vs=`firestore_online_state_${this.persistenceKey}`,this.Fs=function(l){return`firestore_bundle_loaded_v2_${l}`}(this.persistenceKey),this.window.addEventListener("storage",this.fs)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,V.A)(function*(){const n=yield e.syncEngine.Bi();for(const i of n){if(i===e.Vs)continue;const o=e.getItem(Z8(e.persistenceKey,i));if(o){const s=YI.Es(i,o);s&&(e.ps=e.ps.insert(s.clientId,s))}}e.Ms();const r=e.storage.getItem(e.vs);if(r){const i=e.xs(r);i&&e.Os(i)}for(const i of e.ys)e.gs(i);e.ys=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.Ss,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Ns(this.ps)}isActiveQueryTarget(e){let n=!1;return this.ps.forEach((r,i)=>{i.activeTargetIds.has(e)&&(n=!0)}),n}addPendingMutation(e){this.Ls(e,"pending")}updateMutationState(e,n,r){this.Ls(e,n,r),this.Bs(e)}addLocalQueryTarget(e){let n="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(kx(this.persistenceKey,e));if(r){const i=q1.Es(e,r);i&&(n=i.state)}}return this.ks.As(e),this.Ms(),n}removeLocalQueryTarget(e){this.ks.Rs(e),this.Ms()}isLocalQueryTarget(e){return this.ks.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(kx(this.persistenceKey,e))}updateQueryState(e,n,r){this.qs(e,n,r)}handleUserChange(e,n,r){n.forEach(i=>{this.Bs(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.Qs(e)}notifyBundleLoaded(e){this.Ks(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.fs),this.removeItem(this.ws),this.started=!1)}getItem(e){const n=this.storage.getItem(e);return Vn("SharedClientState","READ",e,n),n}setItem(e,n){Vn("SharedClientState","SET",e,n),this.storage.setItem(e,n)}removeItem(e){Vn("SharedClientState","REMOVE",e),this.storage.removeItem(e)}gs(e){var n=this;const r=e;if(r.storageArea===this.storage){if(Vn("SharedClientState","EVENT",r.key,r.newValue),r.key===this.ws)return void dl("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.oi.enqueueRetryable((0,V.A)(function*(){if(n.started){if(null!==r.key)if(n.bs.test(r.key)){if(null==r.newValue){const i=n.$s(r.key);return n.Us(i,null)}{const i=n.Ws(r.key,r.newValue);if(i)return n.Us(i.clientId,i)}}else if(n.Ds.test(r.key)){if(null!==r.newValue){const i=n.Gs(r.key,r.newValue);if(i)return n.zs(i)}}else if(n.Cs.test(r.key)){if(null!==r.newValue){const i=n.js(r.key,r.newValue);if(i)return n.Hs(i)}}else if(r.key===n.vs){if(null!==r.newValue){const i=n.xs(r.newValue);if(i)return n.Os(i)}}else if(r.key===n.Ss){const i=function(s){let a=hA._e;if(null!=s)try{const l=JSON.parse(s);Zr("number"==typeof l),a=l}catch(l){dl("SharedClientState","Failed to read sequence number from WebStorage",l)}return a}(r.newValue);i!==hA._e&&n.sequenceNumberHandler(i)}else if(r.key===n.Fs){const i=n.Js(r.newValue);yield Promise.all(i.map(o=>n.syncEngine.Ys(o)))}}else n.ys.push(r)}))}}get ks(){return this.ps.get(this.Vs)}Ms(){this.setItem(this.ws,this.ks.ds())}Ls(e,n,r){const i=new qI(this.currentUser,e,n,r),o=eH(this.persistenceKey,this.currentUser,e);this.setItem(o,i.ds())}Bs(e){const n=eH(this.persistenceKey,this.currentUser,e);this.removeItem(n)}Qs(e){this.storage.setItem(this.vs,JSON.stringify({clientId:this.Vs,onlineState:e}))}qs(e,n,r){const i=kx(this.persistenceKey,e),o=new q1(e,n,r);this.setItem(i,o.ds())}Ks(e){const n=JSON.stringify(Array.from(e));this.setItem(this.Fs,n)}$s(e){const n=this.bs.exec(e);return n?n[1]:null}Ws(e,n){const r=this.$s(e);return YI.Es(r,n)}Gs(e,n){const r=this.Ds.exec(e),i=Number(r[1]);return qI.Es(new bu(void 0!==r[2]?r[2]:null),i,n)}js(e,n){const r=this.Cs.exec(e),i=Number(r[1]);return q1.Es(i,n)}xs(e){return Rx.Es(e)}Js(e){return JSON.parse(e)}zs(e){var n=this;return(0,V.A)(function*(){if(e.user.uid===n.currentUser.uid)return n.syncEngine.Zs(e.batchId,e.state,e.error);Vn("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Hs(e){return this.syncEngine.Xs(e.targetId,e.state,e.error)}Us(e,n){const r=n?this.ps.insert(e,n):this.ps.remove(e),i=this.Ns(this.ps),o=this.Ns(r),s=[],a=[];return o.forEach(l=>{i.has(l)||s.push(l)}),i.forEach(l=>{o.has(l)||a.push(l)}),this.syncEngine.eo(s,a).then(()=>{this.ps=r})}Os(e){this.ps.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Ns(e){let n=rx();return e.forEach((r,i)=>{n=n.unionWith(i.activeTargetIds)}),n}}class tH{constructor(){this.no=new Px,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,n,r){this.ro[e]=n}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new Px,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class pAe{io(e){}shutdown(){}}class nH{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){Vn("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.uo)e(0)}ao(){Vn("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.uo)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let XI=null;function Mx(){return null===XI?XI=268435456+Math.round(2147483648*Math.random()):XI++,"0x"+XI.toString(16)}const gAe={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class mAe{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}onMessage(e){this.Ao=e}close(){this.ho()}send(e){this.lo(e)}Ro(){this.Io()}Vo(e){this.Eo(e)}mo(e){this.Ao(e)}}const Cc="WebChannelConnection";class vAe extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.fo=r+"://"+n.host,this.po=`projects/${i}/databases/${o}`,this.yo="(default)"===this.databaseId.database?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get wo(){return!1}So(n,r,i,o,s){const a=Mx(),l=this.bo(n,r.toUriEncodedString());Vn("RestConnection",`Sending RPC '${n}' ${a}:`,l,i);const u={"google-cloud-resource-prefix":this.po,"x-goog-request-params":this.yo};return this.Do(u,o,s),this.Co(n,l,u,i).then(p=>(Vn("RestConnection",`Received RPC '${n}' ${a}: `,p),p),p=>{throw Sd("RestConnection",`RPC '${n}' ${a} failed with error: `,p,"url: ",l,"request:",i),p})}vo(n,r,i,o,s,a){return this.So(n,r,i,o,s)}Do(n,r,i){n["X-Goog-Api-Client"]="gl-js/ fire/"+I0,n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,s)=>n[s]=o),i&&i.headers.forEach((o,s)=>n[s]=o)}bo(n,r){return`${this.fo}/v1/${r}:${gAe[n]}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Co(e,n,r,i){const o=Mx();return new Promise((s,a)=>{const l=new pce;l.setWithCredentials(!0),l.listenOnce(hce.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case HD.NO_ERROR:const p=l.getResponseJson();Vn(Cc,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(p)),s(p);break;case HD.TIMEOUT:Vn(Cc,`RPC '${e}' ${o} timed out`),a(new On(un.DEADLINE_EXCEEDED,"Request time out"));break;case HD.HTTP_ERROR:const I=l.getStatus();if(Vn(Cc,`RPC '${e}' ${o} failed with status:`,I,"response text:",l.getResponseText()),I>0){let k=l.getResponseJson();Array.isArray(k)&&(k=k[0]);const O=null==k?void 0:k.error;if(O&&O.status&&O.message){const q=function(Be){const Ye=Be.toLowerCase().replace(/_/g,"-");return Object.values(un).indexOf(Ye)>=0?Ye:un.UNKNOWN}(O.status);a(new On(q,O.message))}else a(new On(un.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new On(un.UNAVAILABLE,"Connection failed."));break;default:Ur()}}finally{Vn(Cc,`RPC '${e}' ${o} completed.`)}});const u=JSON.stringify(i);Vn(Cc,`RPC '${e}' ${o} sending request:`,i),l.send(n,"POST",u,r,15)})}Fo(e,n,r){const i=Mx(),o=[this.fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=dce(),a=Ace(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;void 0!==u&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Do(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const p=o.join("");Vn(Cc,`Creating RPC '${e}' stream ${i}: ${p}`,l);const I=s.createWebChannel(p,l);let k=!1,O=!1;const q=new mAe({lo:Be=>{O?Vn(Cc,`Not sending because RPC '${e}' stream ${i} is closed:`,Be):(k||(Vn(Cc,`Opening RPC '${e}' stream ${i} transport.`),I.open(),k=!0),Vn(Cc,`RPC '${e}' stream ${i} sending:`,Be),I.send(Be))},ho:()=>I.close()}),ge=(Be,Ye,tt)=>{Be.listen(Ye,Bt=>{try{tt(Bt)}catch(Ut){setTimeout(()=>{throw Ut},0)}})};return ge(I,wI.EventType.OPEN,()=>{O||Vn(Cc,`RPC '${e}' stream ${i} transport opened.`)}),ge(I,wI.EventType.CLOSE,()=>{O||(O=!0,Vn(Cc,`RPC '${e}' stream ${i} transport closed`),q.Vo())}),ge(I,wI.EventType.ERROR,Be=>{O||(O=!0,Sd(Cc,`RPC '${e}' stream ${i} transport errored:`,Be),q.Vo(new On(un.UNAVAILABLE,"The operation could not be completed")))}),ge(I,wI.EventType.MESSAGE,Be=>{var Ye;if(!O){const tt=Be.data[0];Zr(!!tt);const Ut=tt.error||(null===(Ye=tt[0])||void 0===Ye?void 0:Ye.error);if(Ut){Vn(Cc,`RPC '${e}' stream ${i} received error:`,Ut);const Fn=Ut.status;let Kn=function(Bu){const If=kl[Bu];if(void 0!==If)return KQ(If)}(Fn),Ii=Ut.message;void 0===Kn&&(Kn=un.INTERNAL,Ii="Unknown error status: "+Fn+" with message "+Ut.message),O=!0,q.Vo(new On(Kn,Ii)),I.close()}else Vn(Cc,`RPC '${e}' stream ${i} received:`,tt),q.mo(tt)}}),ge(a,fce.STAT_EVENT,Be=>{Be.stat===UV.PROXY?Vn(Cc,`RPC '${e}' stream ${i} detected buffering proxy`):Be.stat===UV.NOPROXY&&Vn(Cc,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{q.Ro()},0),q}}function rH(){return typeof window<"u"?window:null}function JI(){return typeof document<"u"?document:null}function Y1(t){return new Bde(t,!0)}class Lx{constructor(e,n,r=1e3,i=1.5,o=6e4){this.oi=e,this.timerId=n,this.Mo=r,this.xo=i,this.Oo=o,this.No=0,this.Lo=null,this.Bo=Date.now(),this.reset()}reset(){this.No=0}ko(){this.No=this.Oo}qo(e){this.cancel();const n=Math.floor(this.No+this.Qo()),r=Math.max(0,Date.now()-this.Bo),i=Math.max(0,n-r);i>0&&Vn("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.No} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Lo=this.oi.enqueueAfterDelay(this.timerId,i,()=>(this.Bo=Date.now(),e())),this.No*=this.xo,this.No<this.Mo&&(this.No=this.Mo),this.No>this.Oo&&(this.No=this.Oo)}Ko(){null!==this.Lo&&(this.Lo.skipDelay(),this.Lo=null)}cancel(){null!==this.Lo&&(this.Lo.cancel(),this.Lo=null)}Qo(){return(Math.random()-.5)*this.No}}class iH{constructor(e,n,r,i,o,s,a,l){this.oi=e,this.$o=r,this.Uo=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Wo=0,this.Go=null,this.zo=null,this.stream=null,this.jo=new Lx(e,n)}Ho(){return 1===this.state||5===this.state||this.Jo()}Jo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Yo()}stop(){var e=this;return(0,V.A)(function*(){e.Ho()&&(yield e.close(0))})()}Zo(){this.state=0,this.jo.reset()}Xo(){this.Jo()&&null===this.Go&&(this.Go=this.oi.enqueueAfterDelay(this.$o,6e4,()=>this.e_()))}t_(e){this.n_(),this.stream.send(e)}e_(){var e=this;return(0,V.A)(function*(){if(e.Jo())return e.close(0)})()}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}r_(){this.zo&&(this.zo.cancel(),this.zo=null)}close(e,n){var r=this;return(0,V.A)(function*(){r.n_(),r.r_(),r.jo.cancel(),r.Wo++,4!==e?r.jo.reset():n&&n.code===un.RESOURCE_EXHAUSTED?(dl(n.toString()),dl("Using maximum backoff delay to prevent overloading the backend."),r.jo.ko()):n&&n.code===un.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.i_(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.To(n)})()}i_(){}auth(){this.state=1;const e=this.s_(this.Wo),n=this.Wo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Wo===n&&this.o_(r,i)},r=>{e(()=>{const i=new On(un.UNKNOWN,"Fetching auth token failed: "+r.message);return this.__(i)})})}o_(e,n){const r=this.s_(this.Wo);this.stream=this.a_(e,n),this.stream.Po(()=>{r(()=>(this.state=2,this.zo=this.oi.enqueueAfterDelay(this.Uo,1e4,()=>(this.Jo()&&(this.state=3),Promise.resolve())),this.listener.Po()))}),this.stream.To(i=>{r(()=>this.__(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Yo(){var e=this;this.state=5,this.jo.qo((0,V.A)(function*(){e.state=0,e.start()}))}__(e){return Vn("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}s_(e){return n=>{this.oi.enqueueAndForget(()=>this.Wo===e?n():(Vn("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class yAe extends iH{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}a_(e,n){return this.connection.Fo("Listen",e,n)}onMessage(e){this.jo.reset();const n=function Fde(t,e){let n;if("targetChange"in e){const r="NO_CHANGE"===(u=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===u?1:"REMOVE"===u?2:"CURRENT"===u?3:"RESET"===u?4:Ur(),i=e.targetChange.targetIds||[],o=function(u,p){return u.useProto3Json?(Zr(void 0===p||"string"==typeof p),Jl.fromBase64String(p||"")):(Zr(void 0===p||p instanceof Uint8Array),Jl.fromUint8Array(p||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(u){const p=void 0===u.code?un.UNKNOWN:KQ(u.code);return new On(p,u.message||"")}(s);n=new ZQ(r,i,o,a||null)}else if("documentChange"in e){const r=e.documentChange,i=ff(t,r.document.name),o=Al(r.document.updateTime),s=r.document.createTime?Al(r.document.createTime):ni.min(),a=new zu({mapValue:{fields:r.document.fields}}),l=ga.newFoundDocument(i,o,s,a);n=new LI(r.targetIds||[],r.removedTargetIds||[],l.key,l)}else if("documentDelete"in e){const r=e.documentDelete,i=ff(t,r.document),o=r.readTime?Al(r.readTime):ni.min(),s=ga.newNoDocument(i,o);n=new LI([],r.removedTargetIds||[],s.key,s)}else if("documentRemove"in e){const r=e.documentRemove,i=ff(t,r.document);n=new LI([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return Ur();{const r=e.filter,{count:i=0,unchangedNames:o}=r,s=new Cde(i,o);n=new JQ(r.targetId,s)}}var u;return n}(this.serializer,e),r=function(o){if(!("targetChange"in o))return ni.min();const s=o.targetChange;return s.targetIds&&s.targetIds.length?ni.min():s.readTime?Al(s.readTime):ni.min()}(e);return this.listener.u_(n,r)}c_(e){const n={};n.database=Ax(this.serializer),n.addTarget=function(o,s){let a;const l=s.target;if(a=xI(l)?{documents:c8(o,l)}:{query:fx(o,l).ut},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=r8(o,s.resumeToken);const u=ux(o,s.expectedCount);null!==u&&(a.expectedCount=u)}else if(s.snapshotVersion.compareTo(ni.min())>0){a.readTime=U0(o,s.snapshotVersion.toTimestamp());const u=ux(o,s.expectedCount);null!==u&&(a.expectedCount=u)}return a}(this.serializer,e);const r=function Rde(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ur()}}(e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);r&&(n.labels=r),this.t_(n)}l_(e){const n={};n.database=Ax(this.serializer),n.removeTarget=e,this.t_(n)}}class _Ae extends iH{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o,this.h_=!1}get P_(){return this.h_}start(){this.h_=!1,this.lastStreamToken=void 0,super.start()}i_(){this.h_&&this.I_([])}a_(e,n){return this.connection.Fo("Write",e,n)}onMessage(e){if(Zr(!!e.streamToken),this.lastStreamToken=e.streamToken,this.h_){this.jo.reset();const n=function kde(t,e){return t&&t.length>0?(Zr(void 0!==e),t.map(n=>function(i,o){let s=Al(i.updateTime?i.updateTime:o);return s.isEqual(ni.min())&&(s=Al(o)),new vde(s,i.transformResults||[])}(n,e))):[]}(e.writeResults,e.commitTime),r=Al(e.commitTime);return this.listener.T_(r,n)}return Zr(!e.writeResults||0===e.writeResults.length),this.h_=!0,this.listener.E_()}d_(){const e={};e.database=Ax(this.serializer),this.t_(e)}I_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>H1(this.serializer,r))};this.t_(n)}}class wAe extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.A_=!1}R_(){if(this.A_)throw new On(un.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,n,r,i){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.So(e,dx(n,r),i,o,s)).catch(o=>{throw"FirebaseError"===o.name?(o.code===un.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new On(un.UNKNOWN,o.toString())})}vo(e,n,r,i,o){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.vo(e,dx(n,r),i,s,a,o)).catch(s=>{throw"FirebaseError"===s.name?(s.code===un.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new On(un.UNKNOWN,s.toString())})}terminate(){this.A_=!0,this.connection.terminate()}}function Ox(){return Ox=(0,V.A)(function*(t,e,n){var r;const i=fr(t),{request:o,V_:s,parent:a}=function(I,k,O){const{ut:q,parent:ge}=fx(I,k),Be={},Ye=[];let tt=0;return O.forEach(Bt=>{const Ut="aggregate_"+tt++;Be[Ut]=Bt.alias,"count"===Bt.aggregateType?Ye.push({alias:Ut,count:{}}):"avg"===Bt.aggregateType?Ye.push({alias:Ut,avg:{field:dg(Bt.fieldPath)}}):"sum"===Bt.aggregateType&&Ye.push({alias:Ut,sum:{field:dg(Bt.fieldPath)}})}),{request:{structuredAggregationQuery:{aggregations:Ye,structuredQuery:q.structuredQuery},parent:q.parent},V_:Be,parent:ge}}(i.serializer,function(I){const k=fr(I);return k.Pe||(k.Pe=TQ(k,I.explicitOrderBy)),k.Pe}(e),n);i.connection.wo||delete o.parent;const l=(yield i.vo("RunAggregationQuery",i.serializer.databaseId,a,o,1)).filter(p=>!!p.result);Zr(1===l.length);const u=null===(r=l[0].result)||void 0===r?void 0:r.aggregateFields;return Object.keys(u).reduce((p,I)=>(p[s[I]]=u[I],p),{})}),Ox.apply(this,arguments)}class bAe{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.m_=0,this.f_=null,this.g_=!0}p_(){0===this.m_&&(this.y_("Unknown"),this.f_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.f_=null,this.w_("Backend didn't respond within 10 seconds."),this.y_("Offline"),Promise.resolve())))}S_(e){"Online"===this.state?this.y_("Unknown"):(this.m_++,this.m_>=1&&(this.b_(),this.w_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.y_("Offline")))}set(e){this.b_(),this.m_=0,"Online"===e&&(this.g_=!1),this.y_(e)}y_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}w_(e){const n=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.g_?(dl(n),this.g_=!1):Vn("OnlineStateTracker",n)}b_(){null!==this.f_&&(this.f_.cancel(),this.f_=null)}}class IAe{constructor(e,n,r,i,o){var s=this;this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.D_=[],this.C_=new Map,this.v_=new Set,this.F_=[],this.M_=o,this.M_.io(a=>{r.enqueueAndForget((0,V.A)(function*(){var l;pg(s)&&(Vn("RemoteStore","Restarting streams for network reachability change."),yield(l=(0,V.A)(function*(p){const I=fr(p);I.v_.add(4),yield W0(I),I.x_.set("Unknown"),I.v_.delete(4),yield X1(I)}),function u(p){return l.apply(this,arguments)})(s))}))}),this.x_=new bAe(r,i)}}function X1(t){return Ux.apply(this,arguments)}function Ux(){return Ux=(0,V.A)(function*(t){if(pg(t))for(const e of t.F_)yield e(!0)}),Ux.apply(this,arguments)}function W0(t){return Vx.apply(this,arguments)}function Vx(){return Vx=(0,V.A)(function*(t){for(const e of t.F_)yield e(!1)}),Vx.apply(this,arguments)}function ZI(t,e){const n=fr(t);n.C_.has(e.targetId)||(n.C_.set(e.targetId,e),jx(n)?Hx(n):Y0(n).Jo()&&Qx(n,e))}function K0(t,e){const n=fr(t),r=Y0(n);n.C_.delete(e),r.Jo()&&oH(n,e),0===n.C_.size&&(r.Jo()?r.Xo():pg(n)&&n.x_.set("Unknown"))}function Qx(t,e){if(t.O_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ni.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Y0(t).c_(e)}function oH(t,e){t.O_.Oe(e),Y0(t).l_(e)}function Hx(t){t.O_=new Ide({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>t.C_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),Y0(t).start(),t.x_.p_()}function jx(t){return pg(t)&&!Y0(t).Ho()&&t.C_.size>0}function pg(t){return 0===fr(t).v_.size}function sH(t){t.O_=void 0}function EAe(t){return zx.apply(this,arguments)}function zx(){return zx=(0,V.A)(function*(t){t.C_.forEach((e,n)=>{Qx(t,e)})}),zx.apply(this,arguments)}function SAe(t,e){return $x.apply(this,arguments)}function $x(){return $x=(0,V.A)(function*(t,e){sH(t),jx(t)?(t.x_.S_(e),Hx(t)):t.x_.set("Unknown")}),$x.apply(this,arguments)}function TAe(t,e,n){return Gx.apply(this,arguments)}function Gx(){return Gx=(0,V.A)(function*(t,e,n){if(t.x_.set("Online"),e instanceof ZQ&&2===e.state&&e.cause)try{yield(r=(0,V.A)(function*(o,s){const a=s.cause;for(const l of s.targetIds)o.C_.has(l)&&(yield o.remoteSyncer.rejectListen(l,a),o.C_.delete(l),o.O_.removeTarget(l))}),function i(o,s){return r.apply(this,arguments)})(t,e)}catch(r){Vn("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield e2(t,r)}else if(e instanceof LI?t.O_.$e(e):e instanceof JQ?t.O_.Je(e):t.O_.Ge(e),!n.isEqual(ni.min()))try{const r=yield K8(t.localStore);n.compareTo(r)>=0&&(yield function(o,s){const a=o.O_.it(s);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const p=o.C_.get(u);p&&o.C_.set(u,p.withResumeToken(l.resumeToken,s))}}),a.targetMismatches.forEach((l,u)=>{const p=o.C_.get(l);if(!p)return;o.C_.set(l,p.withResumeToken(Jl.EMPTY_BYTE_STRING,p.snapshotVersion)),oH(o,l);const I=new np(p.target,l,u,p.sequenceNumber);Qx(o,I)}),o.remoteSyncer.applyRemoteEvent(a)}(t,n))}catch(r){Vn("RemoteStore","Failed to raise snapshot:",r),yield e2(t,r)}var r}),Gx.apply(this,arguments)}function e2(t,e,n){return Wx.apply(this,arguments)}function Wx(){return Wx=(0,V.A)(function*(t,e,n){if(!rg(e))throw e;t.v_.add(1),yield W0(t),t.x_.set("Offline"),n||(n=()=>K8(t.localStore)),t.asyncQueue.enqueueRetryable((0,V.A)(function*(){Vn("RemoteStore","Retrying IndexedDB access"),yield n(),t.v_.delete(1),yield X1(t)}))}),Wx.apply(this,arguments)}function aH(t,e){return e().catch(n=>e2(t,n,e))}function q0(t){return Kx.apply(this,arguments)}function Kx(){return Kx=(0,V.A)(function*(t){const e=fr(t),n=gg(e);let r=e.D_.length>0?e.D_[e.D_.length-1].batchId:-1;for(;BAe(e);)try{const i=yield AAe(e.localStore,r);if(null===i){0===e.D_.length&&n.Xo();break}r=i.batchId,DAe(e,i)}catch(i){yield e2(e,i)}lH(e)&&uH(e)}),Kx.apply(this,arguments)}function BAe(t){return pg(t)&&t.D_.length<10}function DAe(t,e){t.D_.push(e);const n=gg(t);n.Jo()&&n.P_&&n.I_(e.mutations)}function lH(t){return pg(t)&&!gg(t).Ho()&&t.D_.length>0}function uH(t){gg(t).start()}function xAe(t){return qx.apply(this,arguments)}function qx(){return qx=(0,V.A)(function*(t){gg(t).d_()}),qx.apply(this,arguments)}function FAe(t){return Yx.apply(this,arguments)}function Yx(){return Yx=(0,V.A)(function*(t){const e=gg(t);for(const n of t.D_)e.I_(n.mutations)}),Yx.apply(this,arguments)}function kAe(t,e,n){return Xx.apply(this,arguments)}function Xx(){return Xx=(0,V.A)(function*(t,e,n){const r=t.D_.shift(),i=sx.from(r,e,n);yield aH(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield q0(t)}),Xx.apply(this,arguments)}function RAe(t,e){return Jx.apply(this,arguments)}function Jx(){return Jx=(0,V.A)(function*(t,e){var n;e&&gg(t).P_&&(yield(n=(0,V.A)(function*(i,o){if(WQ(a=o.code)&&a!==un.ABORTED){const s=i.D_.shift();gg(i).Zo(),yield aH(i,()=>i.remoteSyncer.rejectFailedWrite(s.batchId,o)),yield q0(i)}var a}),function r(i,o){return n.apply(this,arguments)})(t,e)),lH(t)&&uH(t)}),Jx.apply(this,arguments)}function cH(t,e){return Zx.apply(this,arguments)}function Zx(){return Zx=(0,V.A)(function*(t,e){const n=fr(t);n.asyncQueue.verifyOperationInProgress(),Vn("RemoteStore","RemoteStore received new credentials");const r=pg(n);n.v_.add(3),yield W0(n),r&&n.x_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.v_.delete(3),yield X1(n)}),Zx.apply(this,arguments)}function e5(t,e){return t5.apply(this,arguments)}function t5(){return t5=(0,V.A)(function*(t,e){const n=fr(t);e?(n.v_.delete(2),yield X1(n)):e||(n.v_.add(2),yield W0(n),n.x_.set("Unknown"))}),t5.apply(this,arguments)}function Y0(t){return t.N_||(t.N_=function(n,r,i){const o=fr(n);return o.R_(),new yAe(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Po:EAe.bind(null,t),To:SAe.bind(null,t),u_:TAe.bind(null,t)}),t.F_.push(function(){var e=(0,V.A)(function*(n){n?(t.N_.Zo(),jx(t)?Hx(t):t.x_.set("Unknown")):(yield t.N_.stop(),sH(t))});return function(n){return e.apply(this,arguments)}}())),t.N_}function gg(t){return t.L_||(t.L_=function(n,r,i){const o=fr(n);return o.R_(),new _Ae(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Po:xAe.bind(null,t),To:RAe.bind(null,t),E_:FAe.bind(null,t),T_:kAe.bind(null,t)}),t.F_.push(function(){var e=(0,V.A)(function*(n){n?(t.L_.Zo(),yield q0(t)):(yield t.L_.stop(),t.D_.length>0&&(Vn("RemoteStore",`Stopping write stream with ${t.D_.length} pending writes`),t.D_=[]))});return function(n){return e.apply(this,arguments)}}())),t.L_}class n5{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Xl,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){const s=Date.now()+r,a=new n5(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new On(un.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function X0(t,e){if(dl("AsyncQueue",`${e}: ${t}`),rg(t))return new On(un.UNAVAILABLE,`${e}: ${t}`);throw t}class J0{constructor(e){this.comparator=e?(n,r)=>e(n,r)||br.comparator(n.key,r.key):(n,r)=>br.comparator(n.key,r.key),this.keyedMap=P1(),this.sortedSet=new na(this.comparator)}static emptySet(e){return new J0(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof J0)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,n){const r=new J0;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class dH{constructor(){this.B_=new na(br.comparator)}track(e){const n=e.doc.key,r=this.B_.get(n);r?0!==e.type&&3===r.type?this.B_=this.B_.insert(n,e):3===e.type&&1!==r.type?this.B_=this.B_.insert(n,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.B_=this.B_.insert(n,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.B_=this.B_.remove(n):1===e.type&&2===r.type?this.B_=this.B_.insert(n,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):Ur():this.B_=this.B_.insert(n,e)}k_(){const e=[];return this.B_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Z0{constructor(e,n,r,i,o,s,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,o){const s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new Z0(e,n,J0.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&k1(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}class PAe{constructor(){this.q_=void 0,this.Q_=[]}K_(){return this.Q_.some(e=>e.U_())}}class NAe{constructor(){this.queries=new ep(e=>BQ(e),k1),this.onlineState="Unknown",this.W_=new Set}}function r5(t,e){return i5.apply(this,arguments)}function i5(){return i5=(0,V.A)(function*(t,e){const n=fr(t);let r=3;const i=e.query;let o=n.queries.get(i);o?!o.K_()&&e.U_()&&(r=2):(o=new PAe,r=e.U_()?0:1);try{switch(r){case 0:o.q_=yield n.onListen(i,!0);break;case 1:o.q_=yield n.onListen(i,!1);break;case 2:yield n.onFirstRemoteStoreListen(i)}}catch(s){const a=X0(s,`Initialization of query '${P0(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,o),o.Q_.push(e),e.G_(n.onlineState),o.q_&&e.z_(o.q_)&&a5(n)}),i5.apply(this,arguments)}function o5(t,e){return s5.apply(this,arguments)}function s5(){return s5=(0,V.A)(function*(t,e){const n=fr(t),r=e.query;let i=3;const o=n.queries.get(r);if(o){const s=o.Q_.indexOf(e);s>=0&&(o.Q_.splice(s,1),0===o.Q_.length?i=e.U_()?0:1:!o.K_()&&e.U_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}),s5.apply(this,arguments)}function MAe(t,e){const n=fr(t);let r=!1;for(const i of e){const s=n.queries.get(i.query);if(s){for(const a of s.Q_)a.z_(i)&&(r=!0);s.q_=i}}r&&a5(n)}function LAe(t,e,n){const r=fr(t),i=r.queries.get(e);if(i)for(const o of i.Q_)o.onError(n);r.queries.delete(e)}function a5(t){t.W_.forEach(e=>{e.next()})}var l5,AH;(AH=l5||(l5={})).j_="default",AH.Cache="cache";class u5{constructor(e,n,r){this.query=e,this.H_=n,this.J_=!1,this.Y_=null,this.onlineState="Unknown",this.options=r||{}}z_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new Z0(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.J_?this.Z_(e)&&(this.H_.next(e),n=!0):this.X_(e,this.onlineState)&&(this.ea(e),n=!0),this.Y_=e,n}onError(e){this.H_.error(e)}G_(e){this.onlineState=e;let n=!1;return this.Y_&&!this.J_&&this.X_(this.Y_,e)&&(this.ea(this.Y_),n=!0),n}X_(e,n){return!e.fromCache||!this.U_()||(!this.options.ta||!("Offline"!==n))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===n)}Z_(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Y_&&this.Y_.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}ea(e){e=Z0.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.J_=!0,this.H_.next(e)}U_(){return this.options.source!==l5.Cache}}class OAe{constructor(e,n){this.na=e,this.byteLength=n}ra(){return"metadata"in this.na}}class hH{constructor(e){this.serializer=e}Ps(e){return ff(this.serializer,e)}Is(e){return e.metadata.exists?u8(this.serializer,e.document,!1):ga.newNoDocument(this.Ps(e.metadata.name),this.Ts(e.metadata.readTime))}Ts(e){return Al(e)}}class UAe{constructor(e,n,r){this.ia=e,this.localStore=n,this.serializer=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=fH(e)}sa(e){this.progress.bytesLoaded+=e.byteLength;let n=this.progress.documentsLoaded;if(e.na.namedQuery)this.queries.push(e.na.namedQuery);else if(e.na.documentMetadata){this.documents.push({metadata:e.na.documentMetadata}),e.na.documentMetadata.exists||++n;const r=Lo.fromString(e.na.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.na.document&&(this.documents[this.documents.length-1].document=e.na.document,++n);return n!==this.progress.documentsLoaded?(this.progress.documentsLoaded=n,Object.assign({},this.progress)):null}oa(e){const n=new Map,r=new hH(this.serializer);for(const i of e)if(i.metadata.queries){const o=r.Ps(i.metadata.name);for(const s of i.metadata.queries){const a=(n.get(s)||lo()).add(o);n.set(s,a)}}return n}complete(){var e=this;return(0,V.A)(function*(){const n=yield function hAe(t,e,n,r){return xx.apply(this,arguments)}(e.localStore,new hH(e.serializer),e.documents,e.ia.id),r=e.oa(e.documents);for(const i of e.queries)yield fAe(e.localStore,i,r.get(i.name));return e.progress.taskState="Success",{progress:e.progress,_a:e.collectionGroups,aa:n}})()}}function fH(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}class pH{constructor(e){this.key=e}}class gH{constructor(e){this.key=e}}class mH{constructor(e,n){this.query=e,this.ua=n,this.ca=null,this.hasCachedResults=!1,this.current=!1,this.la=lo(),this.mutatedKeys=lo(),this.ha=xQ(e),this.Pa=new J0(this.ha)}get Ia(){return this.ua}Ta(e,n){const r=n?n.Ea:new dH,i=n?n.Pa:this.Pa;let o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1;const l="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,u="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((p,I)=>{const k=i.get(p),O=R1(this.query,I)?I:null,q=!!k&&this.mutatedKeys.has(k.key),ge=!!O&&(O.hasLocalMutations||this.mutatedKeys.has(O.key)&&O.hasCommittedMutations);let Be=!1;k&&O?k.data.isEqual(O.data)?q!==ge&&(r.track({type:3,doc:O}),Be=!0):this.da(k,O)||(r.track({type:2,doc:O}),Be=!0,(l&&this.ha(O,l)>0||u&&this.ha(O,u)<0)&&(a=!0)):!k&&O?(r.track({type:0,doc:O}),Be=!0):k&&!O&&(r.track({type:1,doc:k}),Be=!0,(l||u)&&(a=!0)),Be&&(O?(s=s.add(O),o=ge?o.add(p):o.delete(p)):(s=s.delete(p),o=o.delete(p)))}),null!==this.query.limit)for(;s.size>this.query.limit;){const p="F"===this.query.limitType?s.last():s.first();s=s.delete(p.key),o=o.delete(p.key),r.track({type:1,doc:p})}return{Pa:s,Ea:r,Xi:a,mutatedKeys:o}}da(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const o=this.Pa;this.Pa=e.Pa,this.mutatedKeys=e.mutatedKeys;const s=e.Ea.k_();s.sort((p,I)=>function(O,q){const ge=Be=>{switch(Be){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ur()}};return ge(O)-ge(q)}(p.type,I.type)||this.ha(p.doc,I.doc)),this.Aa(r),i=null!=i&&i;const a=n&&!i?this.Ra():[],l=0===this.la.size&&this.current&&!i?1:0,u=l!==this.ca;return this.ca=l,0!==s.length||u?{snapshot:new Z0(this.query,e.Pa,o,s,e.mutatedKeys,0===l,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),Va:a}:{Va:a}}G_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Pa:this.Pa,Ea:new dH,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{Va:[]}}ma(e){return!this.ua.has(e)&&!!this.Pa.has(e)&&!this.Pa.get(e).hasLocalMutations}Aa(e){e&&(e.addedDocuments.forEach(n=>this.ua=this.ua.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.ua=this.ua.delete(n)),this.current=e.current)}Ra(){if(!this.current)return[];const e=this.la;this.la=lo(),this.Pa.forEach(r=>{this.ma(r.key)&&(this.la=this.la.add(r.key))});const n=[];return e.forEach(r=>{this.la.has(r)||n.push(new gH(r))}),this.la.forEach(r=>{e.has(r)||n.push(new pH(r))}),n}fa(e){this.ua=e.hs,this.la=lo();const n=this.Ta(e.documents);return this.applyChanges(n,!0)}ga(){return Z0.fromInitialDocuments(this.query,this.Pa,this.mutatedKeys,0===this.ca,this.hasCachedResults)}}class VAe{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class QAe{constructor(e){this.key=e,this.pa=!1}}class HAe{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.ya={},this.wa=new ep(a=>BQ(a),k1),this.Sa=new Map,this.ba=new Set,this.Da=new na(br.comparator),this.Ca=new Map,this.va=new Cx,this.Fa={},this.Ma=new Map,this.xa=Fm.Ln(),this.onlineState="Unknown",this.Oa=void 0}get isPrimaryClient(){return!0===this.Oa}}function jAe(t,e){return c5.apply(this,arguments)}function c5(){return c5=(0,V.A)(function*(t,e,n=!0){const r=t2(t);let i;const o=r.wa.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.ga()):i=yield vH(r,e,n,!0),i}),c5.apply(this,arguments)}function zAe(t,e){return d5.apply(this,arguments)}function d5(){return d5=(0,V.A)(function*(t,e){const n=t2(t);yield vH(n,e,!0,!1)}),d5.apply(this,arguments)}function vH(t,e,n,r){return A5.apply(this,arguments)}function A5(){return A5=(0,V.A)(function*(t,e,n,r){const i=yield $0(t.localStore,Xc(e)),o=i.targetId,s=n?t.sharedClientState.addLocalQueryTarget(o):"not-current";let a;return r&&(a=yield h5(t,e,o,"current"===s,i.resumeToken)),t.isPrimaryClient&&n&&ZI(t.remoteStore,i),a}),A5.apply(this,arguments)}function h5(t,e,n,r,i){return f5.apply(this,arguments)}function f5(){return f5=(0,V.A)(function*(t,e,n,r,i){t.Na=(I,k,O)=>{return(q=(0,V.A)(function*(Be,Ye,tt,Bt){let Ut=Ye.view.Ta(tt);Ut.Xi&&(Ut=yield KI(Be.localStore,Ye.query,!1).then(({documents:Bo})=>Ye.view.Ta(Bo,Ut)));const Fn=Bt&&Bt.targetChanges.get(Ye.targetId),Kn=Bt&&null!=Bt.targetMismatches.get(Ye.targetId),Ii=Ye.view.applyChanges(Ut,Be.isPrimaryClient,Fn,Kn);return E5(Be,Ye.targetId,Ii.Va),Ii.snapshot}),function ge(Be,Ye,tt,Bt){return q.apply(this,arguments)})(t,I,k,O);var q};const o=yield KI(t.localStore,e,!0),s=new mH(e,o.hs),a=s.Ta(o.documents),l=V1.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState,i),u=s.applyChanges(a,t.isPrimaryClient,l);E5(t,n,u.Va);const p=new VAe(e,n,s);return t.wa.set(e,p),t.Sa.has(n)?t.Sa.get(n).push(e):t.Sa.set(n,[e]),u.snapshot}),f5.apply(this,arguments)}function $Ae(t,e,n){return p5.apply(this,arguments)}function p5(){return p5=(0,V.A)(function*(t,e,n){const r=fr(t),i=r.wa.get(e),o=r.Sa.get(i.targetId);if(o.length>1)return r.Sa.set(i.targetId,o.filter(s=>!k1(s,e))),void r.wa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield G0(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&K0(r.remoteStore,i.targetId),ey(r,i.targetId)}).catch(ng))):(ey(r,i.targetId),yield G0(r.localStore,i.targetId,!0))}),p5.apply(this,arguments)}function GAe(t,e){return g5.apply(this,arguments)}function g5(){return g5=(0,V.A)(function*(t,e){const n=fr(t),r=n.wa.get(e),i=n.Sa.get(r.targetId);n.isPrimaryClient&&1===i.length&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),K0(n.remoteStore,r.targetId))}),g5.apply(this,arguments)}function m5(){return m5=(0,V.A)(function*(t,e,n){const r=M5(t);try{const i=yield function(s,a){const l=fr(s),u=Sa.now(),p=a.reduce((O,q)=>O.add(q.key),lo());let I,k;return l.persistence.runTransaction("Locally write mutations","readwrite",O=>{let q=Bd(),ge=lo();return l.os.getEntries(O,p).next(Be=>{q=Be,q.forEach((Ye,tt)=>{tt.isValidDocument()||(ge=ge.add(Ye))})}).next(()=>l.localDocuments.getOverlayedDocuments(O,q)).next(Be=>{I=Be;const Ye=[];for(const tt of a){const Bt=_de(tt,I.get(tt.key).overlayedDocument);null!=Bt&&Ye.push(new tp(tt.key,Bt,hQ(Bt.value.mapValue),Ta.exists(!0)))}return l.mutationQueue.addMutationBatch(O,u,Ye,a)}).next(Be=>{k=Be;const Ye=Be.applyToLocalDocumentSet(I,ge);return l.documentOverlayCache.saveOverlays(O,Be.batchId,Ye)})}).then(()=>({batchId:k.batchId,changes:kQ(I)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,l){let u=s.Fa[s.currentUser.toKey()];u||(u=new na(Hi)),u=u.insert(a,l),s.Fa[s.currentUser.toKey()]=u}(r,i.batchId,n),yield rp(r,i.changes),yield q0(r.remoteStore)}catch(i){const o=X0(i,"Failed to persist write");n.reject(o)}}),m5.apply(this,arguments)}function yH(t,e){return v5.apply(this,arguments)}function v5(){return v5=(0,V.A)(function*(t,e){const n=fr(t);try{const r=yield function dAe(t,e){const n=fr(t),r=e.snapshotVersion;let i=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=n.os.newChangeBuffer({trackRemovals:!0});i=n.ns;const a=[];e.targetChanges.forEach((p,I)=>{const k=i.get(I);if(!k)return;a.push(n.Qr.removeMatchingKeys(o,p.removedDocuments,I).next(()=>n.Qr.addMatchingKeys(o,p.addedDocuments,I)));let O=k.withSequenceNumber(o.currentSequenceNumber);var ge,Be,Ye;null!==e.targetMismatches.get(I)?O=O.withResumeToken(Jl.EMPTY_BYTE_STRING,ni.min()).withLastLimboFreeSnapshotVersion(ni.min()):p.resumeToken.approximateByteSize()>0&&(O=O.withResumeToken(p.resumeToken,r)),i=i.insert(I,O),Be=O,Ye=p,(0===(ge=k).resumeToken.approximateByteSize()||Be.snapshotVersion.toMicroseconds()-ge.snapshotVersion.toMicroseconds()>=3e8||Ye.addedDocuments.size+Ye.modifiedDocuments.size+Ye.removedDocuments.size>0)&&a.push(n.Qr.updateTargetData(o,O))});let l=Bd(),u=lo();if(e.documentUpdates.forEach(p=>{e.resolvedLimboDocuments.has(p)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,p))}),a.push(q8(o,s,e.documentUpdates).next(p=>{l=p.cs,u=p.ls})),!r.isEqual(ni.min())){const p=n.Qr.getLastRemoteSnapshotVersion(o).next(I=>n.Qr.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(p)}return zt.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,l,u)).next(()=>l)}).then(o=>(n.ns=i,o))}(n.localStore,e);e.targetChanges.forEach((i,o)=>{const s=n.Ca.get(o);s&&(Zr(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.pa=!0:i.modifiedDocuments.size>0?Zr(s.pa):i.removedDocuments.size>0&&(Zr(s.pa),s.pa=!1))}),yield rp(n,r,e)}catch(r){yield ng(r)}}),v5.apply(this,arguments)}function _H(t,e,n){const r=fr(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const i=[];r.wa.forEach((o,s)=>{const a=s.view.G_(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){const l=fr(s);l.onlineState=a;let u=!1;l.queries.forEach((p,I)=>{for(const k of I.Q_)k.G_(a)&&(u=!0)}),u&&a5(l)}(r.eventManager,e),i.length&&r.ya.u_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function KAe(t,e,n){return y5.apply(this,arguments)}function y5(){return y5=(0,V.A)(function*(t,e,n){const r=fr(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Ca.get(e),o=i&&i.key;if(o){let s=new na(br.comparator);s=s.insert(o,ga.newNoDocument(o,ni.min()));const a=lo().add(o),l=new U1(ni.min(),new Map,new na(Hi),s,a);yield yH(r,l),r.Da=r.Da.remove(o),r.Ca.delete(e),S5(r)}else yield G0(r.localStore,e,!1).then(()=>ey(r,e,n)).catch(ng)}),y5.apply(this,arguments)}function qAe(t,e){return _5.apply(this,arguments)}function _5(){return _5=(0,V.A)(function*(t,e){const n=fr(t),r=e.batch.batchId;try{const i=yield function cAe(t,e){const n=fr(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=n.os.newChangeBuffer({trackRemovals:!0});return function(a,l,u,p){const I=u.batch,k=I.keys();let O=zt.resolve();return k.forEach(q=>{O=O.next(()=>p.getEntry(l,q)).next(ge=>{const Be=u.docVersions.get(q);Zr(null!==Be),ge.version.compareTo(Be)<0&&(I.applyToRemoteDocument(ge,u),ge.isValidDocument()&&(ge.setReadTime(u.commitVersion),p.addEntry(ge)))})}),O.next(()=>a.mutationQueue.removeMutationBatch(l,I))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=lo();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}(n.localStore,e);I5(n,r,null),b5(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield rp(n,i)}catch(i){yield ng(i)}}),_5.apply(this,arguments)}function YAe(t,e,n){return w5.apply(this,arguments)}function w5(){return w5=(0,V.A)(function*(t,e,n){const r=fr(t);try{const i=yield function(s,a){const l=fr(s);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let p;return l.mutationQueue.lookupMutationBatch(u,a).next(I=>(Zr(null!==I),p=I.keys(),l.mutationQueue.removeMutationBatch(u,I))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,p,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,p)).next(()=>l.localDocuments.getDocuments(u,p))})}(r.localStore,e);I5(r,e,n),b5(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield rp(r,i)}catch(i){yield ng(i)}}),w5.apply(this,arguments)}function C5(){return C5=(0,V.A)(function*(t,e){const n=fr(t);pg(n.remoteStore)||Vn("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(s){const a=fr(s);return a.persistence.runTransaction("Get highest unacknowledged batch id","readonly",l=>a.mutationQueue.getHighestUnacknowledgedBatchId(l))}(n.localStore);if(-1===r)return void e.resolve();const i=n.Ma.get(r)||[];i.push(e),n.Ma.set(r,i)}catch(r){const i=X0(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}),C5.apply(this,arguments)}function b5(t,e){(t.Ma.get(e)||[]).forEach(n=>{n.resolve()}),t.Ma.delete(e)}function I5(t,e,n){const r=fr(t);let i=r.Fa[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Fa[r.currentUser.toKey()]=i}}function ey(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Sa.get(e))t.wa.delete(r),n&&t.ya.La(r,n);t.Sa.delete(e),t.isPrimaryClient&&t.va.Vr(e).forEach(r=>{t.va.containsKey(r)||wH(t,r)})}function wH(t,e){t.ba.delete(e.path.canonicalString());const n=t.Da.get(e);null!==n&&(K0(t.remoteStore,n),t.Da=t.Da.remove(e),t.Ca.delete(n),S5(t))}function E5(t,e,n){for(const r of n)r instanceof pH?(t.va.addReference(r.key,e),JAe(t,r)):r instanceof gH?(Vn("SyncEngine","Document no longer in limbo: "+r.key),t.va.removeReference(r.key,e),t.va.containsKey(r.key)||wH(t,r.key)):Ur()}function JAe(t,e){const n=e.key,r=n.path.canonicalString();t.Da.get(n)||t.ba.has(r)||(Vn("SyncEngine","New document in limbo: "+n),t.ba.add(r),S5(t))}function S5(t){for(;t.ba.size>0&&t.Da.size<t.maxConcurrentLimboResolutions;){const e=t.ba.values().next().value;t.ba.delete(e);const n=new br(Lo.fromString(e)),r=t.xa.next();t.Ca.set(r,new QAe(n)),t.Da=t.Da.insert(n,r),ZI(t.remoteStore,new np(Xc(k0(n.path)),r,"TargetPurposeLimboResolution",hA._e))}}function rp(t,e,n){return T5.apply(this,arguments)}function T5(){return T5=(0,V.A)(function*(t,e,n){const r=fr(t),i=[],o=[],s=[];var a;r.wa.isEmpty()||(r.wa.forEach((a,l)=>{s.push(r.Na(l,e,n).then(u=>{if((u||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,null!=u&&u.fromCache?"not-current":"current"),u){i.push(u);const p=Tx.Ki(l.targetId,u);o.push(p)}}))}),yield Promise.all(s),r.ya.u_(i),yield(a=(0,V.A)(function*(u,p){const I=fr(u);try{yield I.persistence.runTransaction("notifyLocalViewChanges","readwrite",k=>zt.forEach(p,O=>zt.forEach(O.qi,q=>I.persistence.referenceDelegate.addReference(k,O.targetId,q)).next(()=>zt.forEach(O.Qi,q=>I.persistence.referenceDelegate.removeReference(k,O.targetId,q)))))}catch(k){if(!rg(k))throw k;Vn("LocalStore","Failed to update sequence numbers: "+k)}for(const k of p){const O=k.targetId;if(!k.fromCache){const q=I.ns.get(O),Be=q.withLastLimboFreeSnapshotVersion(q.snapshotVersion);I.ns=I.ns.insert(O,Be)}}}),function l(u,p){return a.apply(this,arguments)})(r.localStore,o))}),T5.apply(this,arguments)}function ZAe(t,e){return B5.apply(this,arguments)}function B5(){return B5=(0,V.A)(function*(t,e){const n=fr(t);if(!n.currentUser.isEqual(e)){Vn("SyncEngine","User change. New user:",e.toKey());const r=yield W8(n.localStore,e);n.currentUser=e,(o=n).Ma.forEach(a=>{a.forEach(l=>{l.reject(new On(un.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),o.Ma.clear(),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield rp(n,r.us)}var o}),B5.apply(this,arguments)}function ehe(t,e){const n=fr(t),r=n.Ca.get(e);if(r&&r.pa)return lo().add(r.key);{let i=lo();const o=n.Sa.get(e);if(!o)return i;for(const s of o){const a=n.wa.get(s);i=i.unionWith(a.view.Ia)}return i}}function the(t,e){return D5.apply(this,arguments)}function D5(){return D5=(0,V.A)(function*(t,e){const n=fr(t),r=yield KI(n.localStore,e.query,!0),i=e.view.fa(r);return n.isPrimaryClient&&E5(n,e.targetId,i.Va),i}),D5.apply(this,arguments)}function nhe(t,e){return x5.apply(this,arguments)}function x5(){return x5=(0,V.A)(function*(t,e){const n=fr(t);return X8(n.localStore,e).then(r=>rp(n,r))}),x5.apply(this,arguments)}function rhe(t,e,n,r){return F5.apply(this,arguments)}function F5(){return F5=(0,V.A)(function*(t,e,n,r){const i=fr(t),o=yield function(a,l){const u=fr(a),p=fr(u.mutationQueue);return u.persistence.runTransaction("Lookup mutation documents","readonly",I=>p.vn(I,l).next(k=>k?u.localDocuments.getDocuments(I,k):zt.resolve(null)))}(i.localStore,e);var l;null!==o?("pending"===n?yield q0(i.remoteStore):"acknowledged"===n||"rejected"===n?(I5(i,e,r||null),b5(i,e),l=e,fr(fr(i.localStore).mutationQueue).Mn(l)):Ur(),yield rp(i,o)):Vn("SyncEngine","Cannot apply mutation batch with id: "+e)}),F5.apply(this,arguments)}function k5(){return k5=(0,V.A)(function*(t,e){const n=fr(t);if(t2(n),M5(n),!0===e&&!0!==n.Oa){const r=n.sharedClientState.getAllActiveQueryTargets(),i=yield CH(n,r.toArray());n.Oa=!0,yield e5(n.remoteStore,!0);for(const o of i)ZI(n.remoteStore,o)}else if(!1===e&&!1!==n.Oa){const r=[];let i=Promise.resolve();n.Sa.forEach((o,s)=>{n.sharedClientState.isLocalQueryTarget(s)?r.push(s):i=i.then(()=>(ey(n,s),G0(n.localStore,s,!0))),K0(n.remoteStore,s)}),yield i,yield CH(n,r),function(s){const a=fr(s);a.Ca.forEach((l,u)=>{K0(a.remoteStore,u)}),a.va.mr(),a.Ca=new Map,a.Da=new na(br.comparator)}(n),n.Oa=!1,yield e5(n.remoteStore,!1)}}),k5.apply(this,arguments)}function CH(t,e,n){return R5.apply(this,arguments)}function R5(){return R5=(0,V.A)(function*(t,e,n){const r=fr(t),i=[],o=[];for(const s of e){let a;const l=r.Sa.get(s);if(l&&0!==l.length){a=yield $0(r.localStore,Xc(l[0]));for(const u of l){const p=r.wa.get(u),I=yield the(r,p);I.snapshot&&o.push(I.snapshot)}}else{const u=yield Y8(r.localStore,s);a=yield $0(r.localStore,u),yield h5(r,bH(u),s,!1,a.resumeToken)}i.push(a)}return r.ya.u_(o),i}),R5.apply(this,arguments)}function bH(t){return EQ(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function ohe(t){return n=fr(t).localStore,fr(fr(n).persistence).Bi();var n}function she(t,e,n,r){return P5.apply(this,arguments)}function P5(){return P5=(0,V.A)(function*(t,e,n,r){const i=fr(t);if(i.Oa)return void Vn("SyncEngine","Ignoring unexpected query state notification.");const o=i.Sa.get(e);if(o&&o.length>0)switch(n){case"current":case"not-current":{const s=yield X8(i.localStore,DQ(o[0])),a=U1.createSynthesizedRemoteEventForCurrentChange(e,"current"===n,Jl.EMPTY_BYTE_STRING);yield rp(i,s,a);break}case"rejected":yield G0(i.localStore,e,!0),ey(i,e,r);break;default:Ur()}}),P5.apply(this,arguments)}function ahe(t,e,n){return N5.apply(this,arguments)}function N5(){return N5=(0,V.A)(function*(t,e,n){const r=t2(t);if(r.Oa){for(const i of e){if(r.Sa.has(i)&&r.sharedClientState.isActiveQueryTarget(i)){Vn("SyncEngine","Adding an already active target "+i);continue}const o=yield Y8(r.localStore,i),s=yield $0(r.localStore,o);yield h5(r,bH(o),s.targetId,!1,s.resumeToken),ZI(r.remoteStore,s)}for(const i of n)r.Sa.has(i)&&(yield G0(r.localStore,i,!1).then(()=>{K0(r.remoteStore,i),ey(r,i)}).catch(ng))}}),N5.apply(this,arguments)}function t2(t){const e=fr(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=yH.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=ehe.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=KAe.bind(null,e),e.ya.u_=MAe.bind(null,e.eventManager),e.ya.La=LAe.bind(null,e.eventManager),e}function M5(t){const e=fr(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=qAe.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=YAe.bind(null,e),e}class ty{constructor(){this.synchronizeTabs=!1}initialize(e){var n=this;return(0,V.A)(function*(){n.serializer=Y1(e.databaseInfo.databaseId),n.sharedClientState=n.createSharedClientState(e),n.persistence=n.createPersistence(e),yield n.persistence.start(),n.localStore=n.createLocalStore(e),n.gcScheduler=n.createGarbageCollectionScheduler(e,n.localStore),n.indexBackfillerScheduler=n.createIndexBackfillerScheduler(e,n.localStore)})()}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return G8(this.persistence,new $8,e.initialUser,this.serializer)}createPersistence(e){return new bx($I.Hr,this.serializer)}createSharedClientState(e){return new tH}terminate(){var e=this;return(0,V.A)(function*(){var n,r;null===(n=e.gcScheduler)||void 0===n||n.stop(),null===(r=e.indexBackfillerScheduler)||void 0===r||r.stop(),e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class L5 extends ty{constructor(e,n,r){super(),this.ka=e,this.cacheSizeBytes=n,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var n=()=>super.initialize,r=this;return(0,V.A)(function*(){yield n().call(r,e),yield r.ka.initialize(r,e),yield M5(r.ka.syncEngine),yield q0(r.ka.remoteStore),yield r.persistence.fi(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return G8(this.persistence,new $8,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,n){return new M8(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,n)}createIndexBackfillerScheduler(e,n){const r=new kce(n,this.persistence);return new Fce(e.asyncQueue,r)}createPersistence(e){const n=Sx(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?wc.withCacheSize(this.cacheSizeBytes):wc.DEFAULT;return new Ex(this.synchronizeTabs,n,e.clientId,r,e.asyncQueue,rH(),JI(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new tH}}class IH extends L5{constructor(e,n){super(e,n,!1),this.ka=e,this.cacheSizeBytes=n,this.synchronizeTabs=!0}initialize(e){var n=()=>super.initialize,r=this;return(0,V.A)(function*(){yield n().call(r,e);const i=r.ka.syncEngine;r.sharedClientState instanceof Nx&&(r.sharedClientState.syncEngine={Zs:rhe.bind(null,i),Xs:she.bind(null,i),eo:ahe.bind(null,i),Bi:ohe.bind(null,i),Ys:nhe.bind(null,i)},yield r.sharedClientState.start()),yield r.persistence.fi(function(){var o=(0,V.A)(function*(s){yield function ihe(t,e){return k5.apply(this,arguments)}(r.ka.syncEngine,s),r.gcScheduler&&(s&&!r.gcScheduler.started?r.gcScheduler.start():s||r.gcScheduler.stop()),r.indexBackfillerScheduler&&(s&&!r.indexBackfillerScheduler.started?r.indexBackfillerScheduler.start():s||r.indexBackfillerScheduler.stop())});return function(s){return o.apply(this,arguments)}}())})()}createSharedClientState(e){const n=rH();if(!Nx.D(n))throw new On(un.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=Sx(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Nx(n,e.asyncQueue,r,e.clientId,e.initialUser)}}class ny{initialize(e,n){var r=this;return(0,V.A)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(n),r.remoteStore=r.createRemoteStore(n),r.eventManager=r.createEventManager(n),r.syncEngine=r.createSyncEngine(n,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>_H(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=ZAe.bind(null,r.syncEngine),yield e5(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new NAe}createDatastore(e){const n=Y1(e.databaseInfo.databaseId),r=new vAe(e.databaseInfo);return new wAe(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return r=this.localStore,i=this.datastore,o=e.asyncQueue,s=n=>_H(this.syncEngine,n,0),a=nH.D()?new nH:new pAe,new IAe(r,i,o,s,a);var r,i,o,s,a}createSyncEngine(e,n){return function(i,o,s,a,l,u,p){const I=new HAe(i,o,s,a,l,u);return p&&(I.Oa=!0),I}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){var e=this;return(0,V.A)(function*(){var n,r;yield(r=(0,V.A)(function*(o){const s=fr(o);Vn("RemoteStore","RemoteStore shutting down."),s.v_.add(5),yield W0(s),s.M_.shutdown(),s.x_.set("Unknown")}),function i(o){return r.apply(this,arguments)})(e.remoteStore),null===(n=e.datastore)||void 0===n||n.terminate()})()}}function EH(t,e=10240){let n=0;return{read:()=>(0,V.A)(function*(){if(n<t.byteLength){const r={value:t.slice(n,n+e),done:!1};return n+=e,r}return{done:!0}})(),cancel:()=>(0,V.A)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class n2{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.qa(this.observer.next,e)}error(e){this.observer.error?this.qa(this.observer.error,e):dl("Uncaught Error in snapshot listener:",e.toString())}Qa(){this.muted=!0}qa(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}class che{constructor(e,n){this.Ka=e,this.serializer=n,this.metadata=new Xl,this.buffer=new Uint8Array,this.$a=new TextDecoder("utf-8"),this.Ua().then(r=>{r&&r.ra()?this.metadata.resolve(r.na.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==r?void 0:r.na)}`))},r=>this.metadata.reject(r))}close(){return this.Ka.cancel()}getMetadata(){var e=this;return(0,V.A)(function*(){return e.metadata.promise})()}Ba(){var e=this;return(0,V.A)(function*(){return yield e.getMetadata(),e.Ua()})()}Ua(){var e=this;return(0,V.A)(function*(){const n=yield e.Wa();if(null===n)return null;const r=e.$a.decode(n),i=Number(r);isNaN(i)&&e.Ga(`length string (${r}) is not valid number`);const o=yield e.za(i);return new OAe(JSON.parse(o),n.length+i)})()}ja(){return this.buffer.findIndex(e=>123===e)}Wa(){var e=this;return(0,V.A)(function*(){for(;e.ja()<0&&!(yield e.Ha()););if(0===e.buffer.length)return null;const n=e.ja();n<0&&e.Ga("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,n);return e.buffer=e.buffer.slice(n),r})()}za(e){var n=this;return(0,V.A)(function*(){for(;n.buffer.length<e;)(yield n.Ha())&&n.Ga("Reached the end of bundle when more is expected.");const r=n.$a.decode(n.buffer.slice(0,e));return n.buffer=n.buffer.slice(e),r})()}Ga(e){throw this.Ka.cancel(),new Error(`Invalid bundle format: ${e}`)}Ha(){var e=this;return(0,V.A)(function*(){const n=yield e.Ka.read();if(!n.done){const r=new Uint8Array(e.buffer.length+n.value.length);r.set(e.buffer),r.set(n.value,e.buffer.length),e.buffer=r}return n.done})()}}class dhe{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}lookup(e){var n=this;return(0,V.A)(function*(){if(n.ensureCommitNotCalled(),n.mutations.length>0)throw n.lastTransactionError=new On(un.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),n.lastTransactionError;const r=yield(i=(0,V.A)(function*(s,a){const l=fr(s),u={documents:a.map(O=>Q1(l.serializer,O))},p=yield l.vo("BatchGetDocuments",l.serializer.databaseId,Lo.emptyPath(),u,a.length),I=new Map;p.forEach(O=>{const q=function xde(t,e){return"found"in e?function(r,i){Zr(!!i.found);const o=ff(r,i.found.name),s=Al(i.found.updateTime),a=i.found.createTime?Al(i.found.createTime):ni.min(),l=new zu({mapValue:{fields:i.found.fields}});return ga.newFoundDocument(o,s,a,l)}(t,e):"missing"in e?function(r,i){Zr(!!i.missing),Zr(!!i.readTime);const o=ff(r,i.missing),s=Al(i.readTime);return ga.newNoDocument(o,s)}(t,e):Ur()}(l.serializer,O);I.set(q.key.toString(),q)});const k=[];return a.forEach(O=>{const q=I.get(O.toString());Zr(!!q),k.push(q)}),k}),function o(s,a){return i.apply(this,arguments)})(n.datastore,e);var i;return r.forEach(i=>n.recordVersion(i)),r})()}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastTransactionError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new O0(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,V.A)(function*(){if(e.ensureCommitNotCalled(),e.lastTransactionError)throw e.lastTransactionError;const n=e.readVersions;var r;e.mutations.forEach(r=>{n.delete(r.key.toString())}),n.forEach((r,i)=>{const o=br.fromPath(i);e.mutations.push(new ix(o,e.precondition(o)))}),yield(r=(0,V.A)(function*(o,s){const a=fr(o),l={writes:s.map(u=>H1(a.serializer,u))};yield a.So("Commit",a.serializer.databaseId,Lo.emptyPath(),l)}),function i(o,s){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw Ur();n=ni.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!n.isEqual(r))throw new On(un.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){const n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?n.isEqual(ni.min())?Ta.exists(!1):Ta.updateTime(n):Ta.none()}preconditionForUpdate(e){const n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(ni.min()))throw new On(un.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Ta.updateTime(n)}return Ta.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class Ahe{constructor(e,n,r,i,o){this.asyncQueue=e,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=o,this.Ja=r.maxAttempts,this.jo=new Lx(this.asyncQueue,"transaction_retry")}Ya(){this.Ja-=1,this.Za()}Za(){var e=this;this.jo.qo((0,V.A)(function*(){const n=new dhe(e.datastore),r=e.Xa(n);r&&r.then(i=>{e.asyncQueue.enqueueAndForget(()=>n.commit().then(()=>{e.deferred.resolve(i)}).catch(o=>{e.eu(o)}))}).catch(i=>{e.eu(i)})}))}Xa(e){try{const n=this.updateFunction(e);return!I1(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}eu(e){this.Ja>0&&this.tu(e)?(this.Ja-=1,this.asyncQueue.enqueueAndForget(()=>(this.Za(),Promise.resolve()))):this.deferred.reject(e)}tu(e){if("FirebaseError"===e.name){const n=e.code;return"aborted"===n||"failed-precondition"===n||"already-exists"===n||!WQ(n)}return!1}}class hhe{constructor(e,n,r,i){var o=this;this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=bu.UNAUTHENTICATED,this.clientId=jV.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var s=(0,V.A)(function*(a){Vn("FirestoreClient","Received user=",a.uid),yield o.authCredentialListener(a),o.user=a});return function(a){return s.apply(this,arguments)}}()),this.appCheckCredentials.start(r,s=>(Vn("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new On(un.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const n=new Xl;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,V.A)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),n.resolve()}catch(r){const i=X0(r,"Failed to shutdown persistence");n.reject(i)}})),n.promise}}function r2(t,e){return O5.apply(this,arguments)}function O5(){return O5=(0,V.A)(function*(t,e){t.asyncQueue.verifyOperationInProgress(),Vn("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(function(){var i=(0,V.A)(function*(o){r.isEqual(o)||(yield W8(e.localStore,o),r=o)});return function(o){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}),O5.apply(this,arguments)}function U5(t,e){return V5.apply(this,arguments)}function V5(){return V5=(0,V.A)(function*(t,e){t.asyncQueue.verifyOperationInProgress();const n=yield Q5(t);Vn("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>cH(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>cH(e.remoteStore,i)),t._onlineComponents=e}),V5.apply(this,arguments)}function SH(t){return"FirebaseError"===t.name?t.code===un.FAILED_PRECONDITION||t.code===un.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}function Q5(t){return H5.apply(this,arguments)}function H5(){return H5=(0,V.A)(function*(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Vn("FirestoreClient","Using user provided OfflineComponentProvider");try{yield r2(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!SH(n))throw n;Sd("Error using user provided cache. Falling back to memory cache: "+n),yield r2(t,new ty)}}else Vn("FirestoreClient","Using default OfflineComponentProvider"),yield r2(t,new ty);return t._offlineComponents}),H5.apply(this,arguments)}function i2(t){return j5.apply(this,arguments)}function j5(){return j5=(0,V.A)(function*(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Vn("FirestoreClient","Using user provided OnlineComponentProvider"),yield U5(t,t._uninitializedComponentsProvider._online)):(Vn("FirestoreClient","Using default OnlineComponentProvider"),yield U5(t,new ny))),t._onlineComponents}),j5.apply(this,arguments)}function TH(t){return Q5(t).then(e=>e.persistence)}function ry(t){return Q5(t).then(e=>e.localStore)}function BH(t){return i2(t).then(e=>e.remoteStore)}function z5(t){return i2(t).then(e=>e.syncEngine)}function DH(t){return i2(t).then(e=>e.datastore)}function iy(t){return $5.apply(this,arguments)}function $5(){return $5=(0,V.A)(function*(t){const e=yield i2(t),n=e.eventManager;return n.onListen=jAe.bind(null,e.syncEngine),n.onUnlisten=$Ae.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=zAe.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=GAe.bind(null,e.syncEngine),n}),$5.apply(this,arguments)}function xH(t,e,n={}){const r=new Xl;return t.asyncQueue.enqueueAndForget((0,V.A)(function*(){return function(o,s,a,l,u){const p=new n2({next:k=>{s.enqueueAndForget(()=>o5(o,I));const O=k.docs.has(a);!O&&k.fromCache?u.reject(new On(un.UNAVAILABLE,"Failed to get document because the client is offline.")):O&&k.fromCache&&l&&"server"===l.source?u.reject(new On(un.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(k)},error:k=>u.reject(k)}),I=new u5(k0(a.path),p,{includeMetadataChanges:!0,ta:!0});return r5(o,I)}(yield iy(t),t.asyncQueue,e,n,r)})),r.promise}function FH(t,e,n={}){const r=new Xl;return t.asyncQueue.enqueueAndForget((0,V.A)(function*(){return function(o,s,a,l,u){const p=new n2({next:k=>{s.enqueueAndForget(()=>o5(o,I)),k.fromCache&&"server"===l.source?u.reject(new On(un.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(k)},error:k=>u.reject(k)}),I=new u5(a,p,{includeMetadataChanges:!0,ta:!0});return r5(o,I)}(yield iy(t),t.asyncQueue,e,n,r)})),r.promise}function kH(t){const e={};return void 0!==t.timeoutSeconds&&(e.timeoutSeconds=t.timeoutSeconds),e}const RH=new Map;function G5(t,e,n){if(!n)throw new On(un.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function PH(t,e,n,r){if(!0===e&&!0===r)throw new On(un.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function NH(t){if(!br.isDocumentKey(t))throw new On(un.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function MH(t){if(br.isDocumentKey(t))throw new On(un.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function o2(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";{const e=(r=t).constructor?r.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var r;return"function"==typeof t?"a function":Ur()}function To(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new On(un.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=o2(t);throw new On(un.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function LH(t,e){if(e<=0)throw new On(un.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}class OH{constructor(e){var n,r;if(void 0===e.host){if(void 0!==e.ssl)throw new On(un.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(n=e.ssl)||void 0===n||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new On(un.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}PH("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=kH(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(o){if(void 0!==o.timeoutSeconds){if(isNaN(o.timeoutSeconds))throw new On(un.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new On(un.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new On(un.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class J1{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new OH({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new On(un.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new On(un.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new OH(e),void 0!==e.credentials&&(this._authCredentials=function(r){if(!r)return new yce;switch(r.type){case"firstParty":return new bce(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new On(un.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=RH.get(n);r&&(Vn("ComponentProvider","Removing Datastore"),RH.delete(n),r.terminate())}(this),Promise.resolve()}}function UH(t,e,n,r={}){var i;const o=(t=To(t,J1))._getSettings(),s=`${e}:${n}`;if("firestore.googleapis.com"!==o.host&&o.host!==s&&Sd("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let a,l;if("string"==typeof r.mockUserToken)a=r.mockUserToken,l=bu.MOCK_USER;else{a=(0,be.Fy)(r.mockUserToken,null===(i=t._app)||void 0===i?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new On(un.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new bu(u)}t._authCredentials=new _ce(new QV(a,l))}}class $u{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new $u(this.firestore,e,this._query)}}class ma{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new pf(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ma(this.firestore,e,this._key)}}class pf extends $u{constructor(e,n,r){super(e,n,k0(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ma(this.firestore,null,new br(e))}withConverter(e){return new pf(this.firestore,e,this._path)}}function ls(t,e,...n){if(t=(0,be.Ku)(t),G5("collection","path",e),t instanceof J1){const r=Lo.fromString(e,...n);return MH(r),new pf(t,null,r)}{if(!(t instanceof ma||t instanceof pf))throw new On(un.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Lo.fromString(e,...n));return MH(r),new pf(t.firestore,null,r)}}function s2(t,e,...n){if(t=(0,be.Ku)(t),1===arguments.length&&(e=jV.newId()),G5("doc","path",e),t instanceof J1){const r=Lo.fromString(e,...n);return NH(r),new ma(t,null,new br(r))}{if(!(t instanceof ma||t instanceof pf))throw new On(un.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Lo.fromString(e,...n));return NH(r),new ma(t.firestore,t instanceof pf?t.converter:null,new br(r))}}function VH(t,e){return t=(0,be.Ku)(t),e=(0,be.Ku)(e),(t instanceof ma||t instanceof pf)&&(e instanceof ma||e instanceof pf)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function W5(t,e){return t=(0,be.Ku)(t),e=(0,be.Ku)(e),t instanceof $u&&e instanceof $u&&t.firestore===e.firestore&&k1(t._query,e._query)&&t.converter===e.converter}class Ehe{constructor(){this.nu=Promise.resolve(),this.ru=[],this.iu=!1,this.su=[],this.ou=null,this._u=!1,this.au=!1,this.uu=[],this.jo=new Lx(this,"async_queue_retry"),this.cu=()=>{const n=JI();n&&Vn("AsyncQueue","Visibility state changed to "+n.visibilityState),this.jo.Ko()};const e=JI();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.cu)}get isShuttingDown(){return this.iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.lu(),this.hu(e)}enterRestrictedMode(e){if(!this.iu){this.iu=!0,this.au=e||!1;const n=JI();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this.cu)}}enqueue(e){if(this.lu(),this.iu)return new Promise(()=>{});const n=new Xl;return this.hu(()=>this.iu&&this.au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.ru.push(e),this.Pu()))}Pu(){var e=this;return(0,V.A)(function*(){if(0!==e.ru.length){try{yield e.ru[0](),e.ru.shift(),e.jo.reset()}catch(n){if(!rg(n))throw n;Vn("AsyncQueue","Operation failed with retryable error: "+n)}e.ru.length>0&&e.jo.qo(()=>e.Pu())}})()}hu(e){const n=this.nu.then(()=>(this._u=!0,e().catch(r=>{throw this.ou=r,this._u=!1,dl("INTERNAL UNHANDLED ERROR: ",function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),a}(r)),r}).then(r=>(this._u=!1,r))));return this.nu=n,n}enqueueAfterDelay(e,n,r){this.lu(),this.uu.indexOf(e)>-1&&(n=0);const i=n5.createAndSchedule(this,e,n,r,o=>this.Iu(o));return this.su.push(i),i}lu(){this.ou&&Ur()}verifyOperationInProgress(){}Tu(){var e=this;return(0,V.A)(function*(){let n;do{n=e.nu,yield n}while(n!==e.nu)})()}Eu(e){for(const n of this.su)if(n.timerId===e)return!0;return!1}du(e){return this.Tu().then(()=>{this.su.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.su)if(n.skipDelay(),"all"!==e&&n.timerId===e)break;return this.Tu()})}Au(e){this.uu.push(e)}Iu(e){const n=this.su.indexOf(e);this.su.splice(n,1)}}function K5(t){return function(n,r){if("object"!=typeof n||null===n)return!1;const i=n;for(const o of["next","error","complete"])if(o in i&&"function"==typeof i[o])return!0;return!1}(t)}class She{constructor(){this._progressObserver={},this._taskCompletionResolver=new Xl,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,n,r){this._progressObserver={next:e,error:n,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,n){return this._taskCompletionResolver.promise.then(e,n)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class ra extends J1{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new Ehe,this._persistenceKey=(null==i?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||QH(this),this._firestoreClient.terminate()}}function Z1(t,e){const n="object"==typeof t?t:(0,mc.getApp)(),r="string"==typeof t?t:e||"(default)",i=(0,mc._getProvider)(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=(0,be.yU)("firestore");o&&UH(i,...o)}return i}function Ga(t){return t._firestoreClient||QH(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function QH(t){var e,n,r;const i=t._freezeSettings(),o=(l=(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",new Zce(t._databaseId,l,t._persistenceKey,(p=i).host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,kH(p.experimentalLongPollingOptions),p.useFetchStreams));var l,p;t._firestoreClient=new hhe(t._authCredentials,t._appCheckCredentials,t._queue,o),null!==(n=i.localCache)&&void 0!==n&&n._offlineComponentProvider&&null!==(r=i.localCache)&&void 0!==r&&r._onlineComponentProvider&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}function HH(t,e,n){const r=new Xl;return t.asyncQueue.enqueue((0,V.A)(function*(){try{yield r2(t,n),yield U5(t,e),r.resolve()}catch(i){const o=i;if(!SH(o))throw o;Sd("Error enabling indexeddb cache. Falling back to memory cache: "+o),r.reject(o)}})).then(()=>r.promise)}function jH(t){if(t._initialized||t._terminated)throw new On(un.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class ew{constructor(e="count",n){this._internalFieldPath=n,this.type="AggregateField",this.aggregateType=e}}class Mhe{constructor(e,n,r){this._userDataWriter=n,this._data=r,this.type="AggregateQuerySnapshot",this.query=e}data(){return this._userDataWriter.convertObjectMap(this._data)}}class gf{constructor(e){this._byteString=e}static fromBase64String(e){try{return new gf(Jl.fromBase64String(e))}catch(n){throw new On(un.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new gf(Jl.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class ip{constructor(...e){for(let n=0;n<e.length;++n)if(0===e[n].length)throw new On(un.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new pa(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Rm{constructor(e){this._methodName=e}}class a2{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new On(un.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new On(un.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Hi(this._lat,e._lat)||Hi(this._long,e._long)}}const Lhe=/^__.*__$/;class Ohe{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return null!==this.fieldMask?new tp(e,this.data,this.fieldMask,n,this.fieldTransforms):new L0(e,this.data,n,this.fieldTransforms)}}class zH{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new tp(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function $H(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ur()}}class l2{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===o&&this.Ru(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Vu(){return this.settings.Vu}mu(e){return new l2(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}fu(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.mu({path:r,gu:!1});return i.pu(e),i}yu(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.mu({path:r,gu:!1});return i.Ru(),i}wu(e){return this.mu({path:void 0,gu:!0})}Su(e){return d2(e,this.settings.methodName,this.settings.bu||!1,this.path,this.settings.Du)}contains(e){return void 0!==this.fieldMask.find(n=>e.isPrefixOf(n))||void 0!==this.fieldTransforms.find(n=>e.isPrefixOf(n.field))}Ru(){if(this.path)for(let e=0;e<this.path.length;e++)this.pu(this.path.get(e))}pu(e){if(0===e.length)throw this.Su("Document fields must not be empty");if($H(this.Vu)&&Lhe.test(e))throw this.Su('Document fields cannot begin and end with "__"')}}class Uhe{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Y1(e)}Cu(e,n,r,i=!1){return new l2({Vu:e,methodName:n,Du:r,path:pa.emptyPath(),gu:!1,bu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Pm(t){const e=t._freezeSettings(),n=Y1(t._databaseId);return new Uhe(t._databaseId,!!e.ignoreUndefinedProperties,n)}function u2(t,e,n,r,i,o={}){const s=t.Cu(o.merge||o.mergeFields?2:0,e,n,i);tF("Data must be an object, but it was:",s,r);const a=KH(r,s);let l,u;if(o.merge)l=new Td(s.fieldMask),u=s.fieldTransforms;else if(o.mergeFields){const p=[];for(const I of o.mergeFields){const k=nw(e,I,n);if(!s.contains(k))throw new On(un.INVALID_ARGUMENT,`Field '${k}' is specified in your field mask but missing from your input data.`);YH(p,k)||p.push(k)}l=new Td(p),u=s.fieldTransforms.filter(I=>l.covers(I.field))}else l=null,u=s.fieldTransforms;return new Ohe(new zu(a),l,u)}class tw extends Rm{_toFieldTransform(e){if(2!==e.Vu)throw e.Su(1===e.Vu?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof tw}}function GH(t,e,n){return new l2({Vu:3,Du:e.settings.Du,methodName:t._methodName,gu:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class q5 extends Rm{_toFieldTransform(e){return new M1(e.path,new N0)}isEqual(e){return e instanceof q5}}class Y5 extends Rm{constructor(e,n){super(e),this.vu=n}_toFieldTransform(e){const n=GH(this,e,!0),r=this.vu.map(o=>Nm(o,n)),i=new Im(r);return new M1(e.path,i)}isEqual(e){return e instanceof Y5&&(0,be.bD)(this.vu,e.vu)}}class X5 extends Rm{constructor(e,n){super(e),this.vu=n}_toFieldTransform(e){const n=GH(this,e,!0),r=this.vu.map(o=>Nm(o,n)),i=new Em(r);return new M1(e.path,i)}isEqual(e){return e instanceof X5&&(0,be.bD)(this.vu,e.vu)}}class J5 extends Rm{constructor(e,n){super(e),this.Fu=n}_toFieldTransform(e){const n=new M0(e.serializer,MQ(e.serializer,this.Fu));return new M1(e.path,n)}isEqual(e){return e instanceof J5&&this.Fu===e.Fu}}function Z5(t,e,n,r){const i=t.Cu(1,e,n);tF("Data must be an object, but it was:",i,r);const o=[],s=zu.empty();ig(r,(l,u)=>{const p=c2(e,l,n);u=(0,be.Ku)(u);const I=i.yu(p);if(u instanceof tw)o.push(p);else{const k=Nm(u,I);null!=k&&(o.push(p),s.set(p,k))}});const a=new Td(o);return new zH(s,a,i.fieldTransforms)}function eF(t,e,n,r,i,o){const s=t.Cu(1,e,n),a=[nw(e,r,n)],l=[i];if(o.length%2!=0)throw new On(un.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let k=0;k<o.length;k+=2)a.push(nw(e,o[k])),l.push(o[k+1]);const u=[],p=zu.empty();for(let k=a.length-1;k>=0;--k)if(!YH(u,a[k])){const O=a[k];let q=l[k];q=(0,be.Ku)(q);const ge=s.yu(O);if(q instanceof tw)u.push(O);else{const Be=Nm(q,ge);null!=Be&&(u.push(O),p.set(O,Be))}}const I=new Td(u);return new zH(p,I,s.fieldTransforms)}function WH(t,e,n,r=!1){return Nm(n,t.Cu(r?4:3,e))}function Nm(t,e){if(qH(t=(0,be.Ku)(t)))return tF("Unsupported field value:",e,t),KH(t,e);if(t instanceof Rm)return function(r,i){if(!$H(i.Vu))throw i.Su(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Su(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.gu&&4!==e.Vu)throw e.Su("Nested arrays are not supported");return function(r,i){const o=[];let s=0;for(const a of r){let l=Nm(a,i.wu(s));null==l&&(l={nullValue:"NULL_VALUE"}),o.push(l),s++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if(null===(r=(0,be.Ku)(r)))return{nullValue:"NULL_VALUE"};if("number"==typeof r)return MQ(i.serializer,r);if("boolean"==typeof r)return{booleanValue:r};if("string"==typeof r)return{stringValue:r};if(r instanceof Date){const o=Sa.fromDate(r);return{timestampValue:U0(i.serializer,o)}}if(r instanceof Sa){const o=new Sa(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:U0(i.serializer,o)}}if(r instanceof a2)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof gf)return{bytesValue:r8(i.serializer,r._byteString)};if(r instanceof ma){const o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Su(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:cx(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.Su(`Unsupported field value: ${o2(r)}`)}(t,e)}function KH(t,e){const n={};return iQ(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ig(t,(r,i)=>{const o=Nm(i,e.fu(r));null!=o&&(n[r]=o)}),{mapValue:{fields:n}}}function qH(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof Sa||t instanceof a2||t instanceof gf||t instanceof ma||t instanceof Rm)}function tF(t,e,n){if(!qH(n)||"object"!=typeof(i=n)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const r=o2(n);throw e.Su("an object"===r?t+" a custom object":t+" "+r)}var i}function nw(t,e,n){if((e=(0,be.Ku)(e))instanceof ip)return e._internalPath;if("string"==typeof e)return c2(t,e);throw d2("Field path arguments must be of type string or ",t,!1,void 0,n)}const Vhe=new RegExp("[~\\*/\\[\\]]");function c2(t,e,n){if(e.search(Vhe)>=0)throw d2(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new ip(...e.split("."))._internalPath}catch{throw d2(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function d2(t,e,n,r,i){const o=r&&!r.isEmpty(),s=void 0!==i;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(o||s)&&(l+=" (found",o&&(l+=` in field ${r}`),s&&(l+=` in document ${i}`),l+=")"),new On(un.INVALID_ARGUMENT,a+t+l)}function YH(t,e){return t.some(n=>n.isEqual(e))}class rw{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new ma(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Qhe(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(A2("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n)}}}class Qhe extends rw{data(){return super.data()}}function A2(t,e){return"string"==typeof e?c2(t,e):e instanceof ip?e._internalPath:e._delegate._internalPath}function XH(t){if("L"===t.limitType&&0===t.explicitOrderBy.length)throw new On(un.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class nF{}class iw extends nF{}function Co(t,e,...n){let r=[];e instanceof nF&&r.push(e),r=r.concat(n),function(o){const s=o.filter(l=>l instanceof oy).length,a=o.filter(l=>l instanceof ow).length;if(s>1||s>0&&a>0)throw new On(un.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class ow extends iw{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new ow(e,n,r)}_apply(e){const n=this._parse(e);return t7(e._query,n),new $u(e.firestore,e.converter,nx(e._query,n))}_parse(e){const n=Pm(e.firestore);return function(o,s,a,l,u,p,I){let k;if(u.isKeyField()){if("array-contains"===p||"array-contains-any"===p)throw new On(un.INVALID_ARGUMENT,`Invalid Query. You can't perform '${p}' queries on documentId().`);if("in"===p||"not-in"===p){e7(I,p);const O=[];for(const q of I)O.push(ZH(l,o,q));k={arrayValue:{values:O}}}else k=ZH(l,o,I)}else"in"!==p&&"not-in"!==p&&"array-contains-any"!==p||e7(I,p),k=WH(a,"where",I,"in"===p||"not-in"===p);return Oo.create(u,p,k)}(e._query,0,n,e.firestore._databaseId,this._field,this._op,this._value)}}function Vi(t,e,n){const r=e,i=A2("where",t);return ow._create(i,r,n)}class oy extends nF{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new oy(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return 1===n.length?n[0]:xs.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return 0===n.getFilters().length?e:(function(i,o){let s=i;const a=o.getFlattenedFilters();for(const l of a)t7(s,l),s=nx(s,l)}(e._query,n),new $u(e.firestore,e.converter,nx(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class rF extends iw{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new rF(e,n)}_apply(e){const n=function(i,o,s){if(null!==i.startAt)throw new On(un.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==i.endAt)throw new On(un.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new x1(o,s)}(e._query,this._field,this._direction);return new $u(e.firestore,e.converter,function(i,o){const s=i.explicitOrderBy.concat([o]);return new Zf(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}class h2 extends iw{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new h2(e,n,r)}_apply(e){return new $u(e.firestore,e.converter,kI(e._query,this._limit,this._limitType))}}class f2 extends iw{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new f2(e,n,r)}_apply(e){const n=JH(e,this.type,this._docOrFields,this._inclusive);return new $u(e.firestore,e.converter,(o=n,new Zf((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,o,i.endAt)));var i,o}}class p2 extends iw{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new p2(e,n,r)}_apply(e){const n=JH(e,this.type,this._docOrFields,this._inclusive);return new $u(e.firestore,e.converter,(o=n,new Zf((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,o)));var i,o}}function JH(t,e,n,r){if(n[0]=(0,be.Ku)(n[0]),n[0]instanceof rw)return function(o,s,a,l,u){if(!l)throw new On(un.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${a}().`);const p=[];for(const I of R0(o))if(I.field.isKeyField())p.push(Cm(s,l.key));else{const k=l.data.field(I.field);if(EI(k))throw new On(un.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+I.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===k){const O=I.field.canonicalString();throw new On(un.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${O}' (used as the orderBy) does not exist.`)}p.push(k)}return new cg(p,u)}(t._query,t.firestore._databaseId,e,n[0]._document,r);{const i=Pm(t.firestore);return function(s,a,l,u,p,I){const k=s.explicitOrderBy;if(p.length>k.length)throw new On(un.INVALID_ARGUMENT,`Too many arguments provided to ${u}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const O=[];for(let q=0;q<p.length;q++){const ge=p[q];if(k[q].field.isKeyField()){if("string"!=typeof ge)throw new On(un.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${u}(), but got a ${typeof ge}`);if(!tx(s)&&-1!==ge.indexOf("/"))throw new On(un.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${u}() must be a plain document ID, but '${ge}' contains a slash.`);const Be=s.path.child(Lo.fromString(ge));if(!br.isDocumentKey(Be))throw new On(un.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${u}() must result in a valid document path, but '${Be}' is not because it contains an odd number of segments.`);const Ye=new br(Be);O.push(Cm(a,Ye))}else{const Be=WH(l,u,ge);O.push(Be)}}return new cg(O,I)}(t._query,t.firestore._databaseId,i,e,n,r)}}function ZH(t,e,n){if("string"==typeof(n=(0,be.Ku)(n))){if(""===n)throw new On(un.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!tx(e)&&-1!==n.indexOf("/"))throw new On(un.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Lo.fromString(n));if(!br.isDocumentKey(r))throw new On(un.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Cm(t,new br(r))}if(n instanceof ma)return Cm(t,n._key);throw new On(un.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${o2(n)}.`)}function e7(t,e){if(!Array.isArray(t)||0===t.length)throw new On(un.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function t7(t,e){const n=function(i,o){for(const s of i)for(const a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==n)throw new On(un.INVALID_ARGUMENT,n===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class iF{convertValue(e,n="none"){switch(lg(e)){case 0:return null;case 1:return e.booleanValue;case 2:return $a(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Jf(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw Ur()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return ig(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertGeoPoint(e){return new a2($a(e.latitude),$a(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=SI(e);return null==r?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(S1(e));default:return null}}convertTimestamp(e){const n=og(e);return new Sa(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Lo.fromString(e);Zr(f8(r));const i=new sg(r.get(1),r.get(3)),o=new br(r.popFirst(5));return i.isEqual(n)||dl(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}function g2(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class qhe extends iF{constructor(e){super(),this.firestore=e}convertBytes(e){return new gf(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new ma(this.firestore,null,n)}}class Mm{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class op extends rw{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new sw(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(A2("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class sw extends op{data(e={}){return super.data(e)}}class mg{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Mm(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new sw(this._firestore,this._userDataWriter,r.key,r,new Mm(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new On(un.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>({type:"added",doc:new sw(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Mm(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:s++}))}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||3!==a.type).map(a=>{const l=new sw(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Mm(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,p=-1;return 0!==a.type&&(u=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),1!==a.type&&(s=s.add(a.doc),p=s.indexOf(a.doc.key)),{type:Xhe(a.type),doc:l,oldIndex:u,newIndex:p}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function Xhe(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ur()}}function r7(t,e){return t instanceof op&&e instanceof op?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(null===t._document?null===e._document:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof mg&&e instanceof mg&&t._firestore===e._firestore&&W5(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}class vg extends iF{constructor(e){super(),this.firestore=e}convertBytes(e){return new gf(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new ma(this.firestore,null,n)}}function i7(t,e,n){t=To(t,ma);const r=To(t.firestore,ra),i=g2(t.converter,e,n);return sy(r,[u2(Pm(r),"setDoc",t._key,i,null!==t.converter,n).toMutation(t._key,Ta.none())])}function o7(t,e,n,...r){t=To(t,ma);const i=To(t.firestore,ra),o=Pm(i);let s;return s="string"==typeof(e=(0,be.Ku)(e))||e instanceof ip?eF(o,"updateDoc",t._key,e,n,r):Z5(o,"updateDoc",t._key,e),sy(i,[s.toMutation(t._key,Ta.exists(!0))])}function s7(t,...e){var n,r,i;t=(0,be.Ku)(t);let o={includeMetadataChanges:!1,source:"default"},s=0;"object"!=typeof e[s]||K5(e[s])||(o=e[s],s++);const a={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(K5(e[s])){const I=e[s];e[s]=null===(n=I.next)||void 0===n?void 0:n.bind(I),e[s+1]=null===(r=I.error)||void 0===r?void 0:r.bind(I),e[s+2]=null===(i=I.complete)||void 0===i?void 0:i.bind(I)}let l,u,p;if(t instanceof ma)u=To(t.firestore,ra),p=k0(t._key.path),l={next:I=>{e[s]&&e[s](oF(u,t,I))},error:e[s+1],complete:e[s+2]};else{const I=To(t,$u);u=To(I.firestore,ra),p=I._query;const k=new vg(u);l={next:O=>{e[s]&&e[s](new mg(u,k,I,O))},error:e[s+1],complete:e[s+2]},XH(t._query)}return function(k,O,q,ge){const Be=new n2(ge),Ye=new u5(O,Be,q);return k.asyncQueue.enqueueAndForget((0,V.A)(function*(){return r5(yield iy(k),Ye)})),()=>{Be.Qa(),k.asyncQueue.enqueueAndForget((0,V.A)(function*(){return o5(yield iy(k),Ye)}))}}(Ga(u),p,a,l)}function sy(t,e){return function(r,i){const o=new Xl;return r.asyncQueue.enqueueAndForget((0,V.A)(function*(){return function WAe(t,e,n){return m5.apply(this,arguments)}(yield z5(r),i,o)})),o.promise}(Ga(t),e)}function oF(t,e,n){const r=n.docs.get(e._key),i=new vg(t);return new op(t,i,e._key,r,new Mm(n.hasPendingWrites,n.fromCache),e.converter)}function bs(t){return function afe(t,e){const n=To(t.firestore,ra),r=Ga(n),i=function(s,a){const l=[];for(const u in s)Object.prototype.hasOwnProperty.call(s,u)&&l.push(a(s[u],u));return l}(e,(o,s)=>new wde(s,o.aggregateType,o._internalFieldPath));return function(s,a,l){const u=new Xl;return s.asyncQueue.enqueueAndForget((0,V.A)(function*(){try{const p=yield DH(s);u.resolve(function CAe(t,e,n){return Ox.apply(this,arguments)}(p,a,l))}catch(p){u.reject(p)}})),u.promise}(r,t._query,i).then(o=>function(a,l,u){const p=new vg(a);return new Mhe(l,p,u)}(n,t,o))}(t,{count:new ew("count")})}const pfe={maxAttempts:5};class a7{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Pm(e)}set(e,n,r){this._verifyNotCommitted();const i=yg(e,this._firestore),o=g2(i.converter,n,r),s=u2(this._dataReader,"WriteBatch.set",i._key,o,null!==i.converter,r);return this._mutations.push(s.toMutation(i._key,Ta.none())),this}update(e,n,r,...i){this._verifyNotCommitted();const o=yg(e,this._firestore);let s;return s="string"==typeof(n=(0,be.Ku)(n))||n instanceof ip?eF(this._dataReader,"WriteBatch.update",o._key,n,r,i):Z5(this._dataReader,"WriteBatch.update",o._key,n),this._mutations.push(s.toMutation(o._key,Ta.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=yg(e,this._firestore);return this._mutations=this._mutations.concat(new O0(n._key,Ta.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new On(un.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function yg(t,e){if((t=(0,be.Ku)(t)).firestore!==e)throw new On(un.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}class gfe extends class{constructor(n,r){this._firestore=n,this._transaction=r,this._dataReader=Pm(n)}get(n){const r=yg(n,this._firestore),i=new qhe(this._firestore);return this._transaction.lookup([r._key]).then(o=>{if(!o||1!==o.length)return Ur();const s=o[0];if(s.isFoundDocument())return new rw(this._firestore,i,s.key,s,r.converter);if(s.isNoDocument())return new rw(this._firestore,i,r._key,null,r.converter);throw Ur()})}set(n,r,i){const o=yg(n,this._firestore),s=g2(o.converter,r,i),a=u2(this._dataReader,"Transaction.set",o._key,s,null!==o.converter,i);return this._transaction.set(o._key,a),this}update(n,r,i,...o){const s=yg(n,this._firestore);let a;return a="string"==typeof(r=(0,be.Ku)(r))||r instanceof ip?eF(this._dataReader,"Transaction.update",s._key,r,i,o):Z5(this._dataReader,"Transaction.update",s._key,r),this._transaction.update(s._key,a),this}delete(n){const r=yg(n,this._firestore);return this._transaction.delete(r._key),this}}{constructor(e,n){super(e,n),this._firestore=e}get(e){const n=yg(e,this._firestore),r=new vg(this._firestore);return super.get(e).then(i=>new op(this._firestore,r,n._key,i._document,new Mm(!1,!1),n.converter))}}function aF(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new On("invalid-argument",`Invalid options passed to function ${t}(): You cannot specify both "merge" and "mergeFields".`);return e}function d7(){if(typeof Uint8Array>"u")throw new On("unimplemented","Uint8Arrays are not available in this environment.")}function A7(){if(!function Xce(){return typeof atob<"u"}())throw new On("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(e,n=!0){I0=mc.SDK_VERSION,(0,mc._registerComponent)(new Ch.uA("firestore",(r,{instanceIdentifier:i,options:o})=>{const s=r.getProvider("app").getImmediate(),a=new ra(new wce(r.getProvider("auth-internal")),new Ice(r.getProvider("app-check-internal")),function(u,p){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new On(un.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new sg(u.options.projectId,p)}(s,i),s);return o=Object.assign({useFetchStreams:n},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),(0,mc.registerVersion)(VV,"4.5.1",e),(0,mc.registerVersion)(VV,"4.5.1","esm2017")}();class aw{constructor(e){this._delegate=e}static fromBase64String(e){return A7(),new aw(gf.fromBase64String(e))}static fromUint8Array(e){return d7(),new aw(gf.fromUint8Array(e))}toBase64(){return A7(),this._delegate.toBase64()}toUint8Array(){return d7(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function lF(t){return function Sfe(t,e){if("object"!=typeof t||null===t)return!1;const n=t;for(const r of e)if(r in n&&"function"==typeof n[r])return!0;return!1}(t,["next","error","complete"])}class Tfe{enableIndexedDbPersistence(e,n){return function Bhe(t,e){jH(t=To(t,ra));const n=Ga(t);if(n._uninitializedComponentsProvider)throw new On(un.FAILED_PRECONDITION,"SDK cache is already specified.");Sd("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=t._freezeSettings(),i=new ny;return HH(n,i,new L5(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(e._delegate,{forceOwnership:n})}enableMultiTabIndexedDbPersistence(e){return function Dhe(t){jH(t=To(t,ra));const e=Ga(t);if(e._uninitializedComponentsProvider)throw new On(un.FAILED_PRECONDITION,"SDK cache is already specified.");Sd("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=t._freezeSettings(),r=new ny;return HH(e,r,new IH(r,n.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function xhe(t){if(t._initialized&&!t._terminated)throw new On(un.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Xl;return t._queue.enqueueAndForgetEvenWhileRestricted((0,V.A)(function*(){try{yield(n=(0,V.A)(function*(i){if(!$A.D())return Promise.resolve();const o=i+"main";yield $A.delete(o)}),function r(i){return n.apply(this,arguments)})(Sx(t._databaseId,t._persistenceKey)),e.resolve()}catch(n){e.reject(n)}var n})),e.promise}(e._delegate)}}class h7{constructor(e,n,r){this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof sg||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const n=this._delegate._getSettings();!e.merge&&n.host!==e.host&&Sd("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},n),e)).merge,this._delegate._setSettings(e)}useEmulator(e,n,r={}){UH(this._delegate,e,n,r)}enableNetwork(){return function khe(t){return function fhe(t){return t.asyncQueue.enqueue((0,V.A)(function*(){const e=yield TH(t),n=yield BH(t);return e.setNetworkEnabled(!0),function(i){const o=fr(i);return o.v_.delete(0),X1(o)}(n)}))}(Ga(t=To(t,ra)))}(this._delegate)}disableNetwork(){return function Rhe(t){return function phe(t){return t.asyncQueue.enqueue((0,V.A)(function*(){const e=yield TH(t),n=yield BH(t);return e.setNetworkEnabled(!1),(r=(0,V.A)(function*(o){const s=fr(o);s.v_.add(0),yield W0(s),s.x_.set("Offline")}),function i(o){return r.apply(this,arguments)})(n);var r}))}(Ga(t=To(t,ra)))}(this._delegate)}enablePersistence(e){let n=!1,r=!1;return e&&(n=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,PH("synchronizeTabs",n,"experimentalForceOwningTab",r)),n?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function Fhe(t){return function(n){const r=new Xl;return n.asyncQueue.enqueueAndForget((0,V.A)(function*(){return function XAe(t,e){return C5.apply(this,arguments)}(yield z5(n),r)})),r.promise}(Ga(t=To(t,ra)))}(this._delegate)}onSnapshotsInSync(e){return function sfe(t,e){return function vhe(t,e){const n=new n2(e);return t.asyncQueue.enqueueAndForget((0,V.A)(function*(){return i=yield iy(t),o=n,fr(i).W_.add(o),void o.next();var i,o})),()=>{n.Qa(),t.asyncQueue.enqueueAndForget((0,V.A)(function*(){return i=yield iy(t),o=n,void fr(i).W_.delete(o);var i,o}))}}(Ga(t=To(t,ra)),K5(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new On("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new ay(this,ls(this._delegate,e))}catch(n){throw Jc(n,"collection()","Firestore.collection()")}}doc(e){try{return new GA(this,s2(this._delegate,e))}catch(n){throw Jc(n,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Zc(this,function Ihe(t,e){if(t=To(t,J1),G5("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new On(un.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new $u(t,null,(r=e,new Zf(Lo.emptyPath(),r)));var r}(this._delegate,e))}catch(n){throw Jc(n,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function mfe(t,e,n){t=To(t,ra);const r=Object.assign(Object.assign({},pfe),n);return function(o){if(o.maxAttempts<1)throw new On(un.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(o,s,a){const l=new Xl;return o.asyncQueue.enqueueAndForget((0,V.A)(function*(){const u=yield DH(o);new Ahe(o.asyncQueue,u,a,s,l).Ya()})),l.promise}(Ga(t),i=>e(new gfe(t,i)),r)}(this._delegate,n=>e(new f7(this,n)))}batch(){return Ga(this._delegate),new p7(new a7(this._delegate,e=>sy(this._delegate,e)))}loadBundle(e){return function Phe(t,e){const n=Ga(t=To(t,ra)),r=new She;return function yhe(t,e,n,r){const i=function(s,a){let l;return l="string"==typeof s?qQ().encode(s):s,p=function(p,I){if(p instanceof Uint8Array)return EH(p,I);if(p instanceof ArrayBuffer)return EH(new Uint8Array(p),I);if(p instanceof ReadableStream)return p.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(l),new che(p,a);var p}(n,Y1(e));t.asyncQueue.enqueueAndForget((0,V.A)(function*(){!function lhe(t,e,n){const r=fr(t);var i;(i=(0,V.A)(function*(s,a,l){try{const u=yield a.getMetadata();if(yield function(q,ge){const Be=fr(q),Ye=Al(ge.createTime);return Be.persistence.runTransaction("hasNewerBundle","readonly",tt=>Be.$r.getBundleMetadata(tt,ge.id)).then(tt=>!!tt&&tt.createTime.compareTo(Ye)>=0)}(s.localStore,u))return yield a.close(),l._completeWith({taskState:"Success",documentsLoaded:(q=u).totalDocuments,bytesLoaded:q.totalBytes,totalDocuments:q.totalDocuments,totalBytes:q.totalBytes}),Promise.resolve(new Set);l._updateProgress(fH(u));const p=new UAe(u,s.localStore,a.serializer);let I=yield a.Ba();for(;I;){const O=yield p.sa(I);O&&l._updateProgress(O),I=yield a.Ba()}const k=yield p.complete();return yield rp(s,k.aa,void 0),yield function(q,ge){const Be=fr(q);return Be.persistence.runTransaction("Save bundle","readwrite",Ye=>Be.$r.saveBundleMetadata(Ye,ge))}(s.localStore,u),l._completeWith(k.progress),Promise.resolve(k._a)}catch(u){return Sd("SyncEngine",`Loading bundle failed with ${u}`),l._failWith(u),Promise.resolve(new Set)}var q}),function o(s,a,l){return i.apply(this,arguments)})(r,e,n).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}(yield z5(t),i,r)}))}(n,t._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function Nhe(t,e){return function _he(t,e){return t.asyncQueue.enqueue((0,V.A)(function*(){return function(r,i){const o=fr(r);return o.persistence.runTransaction("Get named query","readonly",s=>o.$r.getNamedQuery(s,i))}(yield ry(t),e)}))}(Ga(t=To(t,ra)),e).then(n=>n?new $u(t,null,n.query):null)}(this._delegate,e).then(n=>n?new Zc(this,n):null)}}class v2 extends iF{constructor(e){super(),this.firestore=e}convertBytes(e){return new aw(new gf(e))}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return GA.forKey(n,this.firestore,null)}}class f7{constructor(e,n){this._firestore=e,this._delegate=n,this._userDataWriter=new v2(e)}get(e){const n=Om(e);return this._delegate.get(n).then(r=>new lw(this._firestore,new op(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,n.converter)))}set(e,n,r){const i=Om(e);return r?(aF("Transaction.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this}update(e,n,r,...i){const o=Om(e);return 2===arguments.length?this._delegate.update(o,n):this._delegate.update(o,n,r,...i),this}delete(e){const n=Om(e);return this._delegate.delete(n),this}}class p7{constructor(e){this._delegate=e}set(e,n,r){const i=Om(e);return r?(aF("WriteBatch.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this}update(e,n,r,...i){const o=Om(e);return 2===arguments.length?this._delegate.update(o,n):this._delegate.update(o,n,r,...i),this}delete(e){const n=Om(e);return this._delegate.delete(n),this}commit(){return this._delegate.commit()}}class Lm{constructor(e,n,r){this._firestore=e,this._userDataWriter=n,this._delegate=r}fromFirestore(e,n){const r=new sw(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new uw(this._firestore,r),null!=n?n:{})}toFirestore(e,n){return n?this._delegate.toFirestore(e,n):this._delegate.toFirestore(e)}static getInstance(e,n){const r=Lm.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let o=i.get(n);return o||(o=new Lm(e,new v2(e),n),i.set(n,o)),o}}Lm.INSTANCES=new WeakMap;class GA{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new v2(e)}static forPath(e,n,r){if(e.length%2!=0)throw new On("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new GA(n,new ma(n._delegate,r,new br(e)))}static forKey(e,n,r){return new GA(n,new ma(n._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new ay(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new ay(this.firestore,ls(this._delegate,e))}catch(n){throw Jc(n,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,be.Ku)(e))instanceof ma&&VH(this._delegate,e)}set(e,n){n=aF("DocumentReference.set",n);try{return n?i7(this._delegate,e,n):i7(this._delegate,e)}catch(r){throw Jc(r,"setDoc()","DocumentReference.set()")}}update(e,n,...r){try{return 1===arguments.length?o7(this._delegate,e):o7(this._delegate,e,n,...r)}catch(i){throw Jc(i,"updateDoc()","DocumentReference.update()")}}delete(){return function ife(t){return sy(To(t.firestore,ra),[new O0(t._key,Ta.none())])}(this._delegate)}onSnapshot(...e){const n=g7(e),r=m7(e,i=>new lw(this.firestore,new op(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return s7(this._delegate,n,r)}get(e){let n;return n="cache"===(null==e?void 0:e.source)?function Zhe(t){t=To(t,ma);const e=To(t.firestore,ra),n=Ga(e),r=new vg(e);return function ghe(t,e){const n=new Xl;return t.asyncQueue.enqueueAndForget((0,V.A)(function*(){return(r=(0,V.A)(function*(o,s,a){try{const l=yield function(p,I){const k=fr(p);return k.persistence.runTransaction("read document","readonly",O=>k.localDocuments.getDocument(O,I))}(o,s);l.isFoundDocument()?a.resolve(l):l.isNoDocument()?a.resolve(null):a.reject(new On(un.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(l){const u=X0(l,`Failed to get document '${s} from cache`);a.reject(u)}}),function i(o,s,a){return r.apply(this,arguments)})(yield ry(t),e,n);var r})),n.promise}(n,t._key).then(i=>new op(e,r,t._key,i,new Mm(null!==i&&i.hasLocalMutations,!0),t.converter))}(this._delegate):"server"===(null==e?void 0:e.source)?function efe(t){t=To(t,ma);const e=To(t.firestore,ra);return xH(Ga(e),t._key,{source:"server"}).then(n=>oF(e,t,n))}(this._delegate):function Jhe(t){t=To(t,ma);const e=To(t.firestore,ra);return xH(Ga(e),t._key).then(n=>oF(e,t,n))}(this._delegate),n.then(r=>new lw(this.firestore,new op(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new GA(this.firestore,this._delegate.withConverter(e?Lm.getInstance(this.firestore,e):null))}}function Jc(t,e,n){return t.message=t.message.replace(e,n),t}function g7(t){for(const e of t)if("object"==typeof e&&!lF(e))return e;return{}}function m7(t,e){var n,r;let i;return i=lF(t[0])?t[0]:lF(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]},{next:o=>{i.next&&i.next(e(o))},error:null===(n=i.error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class lw{constructor(e,n){this._firestore=e,this._delegate=n}get ref(){return new GA(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,n){return this._delegate.get(e,n)}isEqual(e){return r7(this._delegate,e._delegate)}}class uw extends lw{data(e){const n=this._delegate.data(e);return this._delegate._converter||function vce(t,e){t||Ur()}(void 0!==n),n}}class Zc{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new v2(e)}where(e,n,r){try{return new Zc(this.firestore,Co(this._delegate,Vi(e,n,r)))}catch(i){throw Jc(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,n){try{return new Zc(this.firestore,Co(this._delegate,function Hhe(t,e="asc"){const n=e,r=A2("orderBy",t);return rF._create(r,n)}(e,n)))}catch(r){throw Jc(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Zc(this.firestore,Co(this._delegate,function jhe(t){return LH("limit",t),h2._create("limit",t,"F")}(e)))}catch(n){throw Jc(n,"limit()","Query.limit()")}}limitToLast(e){try{return new Zc(this.firestore,Co(this._delegate,function zhe(t){return LH("limitToLast",t),h2._create("limitToLast",t,"L")}(e)))}catch(n){throw Jc(n,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Zc(this.firestore,Co(this._delegate,function $he(...t){return f2._create("startAt",t,!0)}(...e)))}catch(n){throw Jc(n,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Zc(this.firestore,Co(this._delegate,function Ghe(...t){return f2._create("startAfter",t,!1)}(...e)))}catch(n){throw Jc(n,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Zc(this.firestore,Co(this._delegate,function Whe(...t){return p2._create("endBefore",t,!1)}(...e)))}catch(n){throw Jc(n,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Zc(this.firestore,Co(this._delegate,function Khe(...t){return p2._create("endAt",t,!0)}(...e)))}catch(n){throw Jc(n,"endAt()","Query.endAt()")}}isEqual(e){return W5(this._delegate,e._delegate)}get(e){let n;return n="cache"===(null==e?void 0:e.source)?function nfe(t){t=To(t,$u);const e=To(t.firestore,ra),n=Ga(e),r=new vg(e);return function mhe(t,e){const n=new Xl;return t.asyncQueue.enqueueAndForget((0,V.A)(function*(){return(r=(0,V.A)(function*(o,s,a){try{const l=yield KI(o,s,!0),u=new mH(s,l.hs),p=u.Ta(l.documents),I=u.applyChanges(p,!1);a.resolve(I.snapshot)}catch(l){const u=X0(l,`Failed to execute query '${s} against cache`);a.reject(u)}}),function i(o,s,a){return r.apply(this,arguments)})(yield ry(t),e,n);var r})),n.promise}(n,t._query).then(i=>new mg(e,r,t,i))}(this._delegate):"server"===(null==e?void 0:e.source)?function rfe(t){t=To(t,$u);const e=To(t.firestore,ra),n=Ga(e),r=new vg(e);return FH(n,t._query,{source:"server"}).then(i=>new mg(e,r,t,i))}(this._delegate):function tfe(t){t=To(t,$u);const e=To(t.firestore,ra),n=Ga(e),r=new vg(e);return XH(t._query),FH(n,t._query).then(i=>new mg(e,r,t,i))}(this._delegate),n.then(r=>new uF(this.firestore,new mg(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const n=g7(e),r=m7(e,i=>new uF(this.firestore,new mg(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return s7(this._delegate,n,r)}withConverter(e){return new Zc(this.firestore,this._delegate.withConverter(e?Lm.getInstance(this.firestore,e):null))}}class Dfe{constructor(e,n){this._firestore=e,this._delegate=n}get type(){return this._delegate.type}get doc(){return new uw(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class uF{constructor(e,n){this._firestore=e,this._delegate=n}get query(){return new Zc(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new uw(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(n=>new Dfe(this._firestore,n))}forEach(e,n){this._delegate.forEach(r=>{e.call(n,new uw(this._firestore,r))})}isEqual(e){return r7(this._delegate,e._delegate)}}class ay extends Zc{constructor(e,n){super(e,n),this.firestore=e,this._delegate=n}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new GA(this.firestore,e):null}doc(e){try{return new GA(this.firestore,void 0===e?s2(this._delegate):s2(this._delegate,e))}catch(n){throw Jc(n,"doc()","CollectionReference.doc()")}}add(e){return function ofe(t,e){const n=To(t.firestore,ra),r=s2(t),i=g2(t.converter,e);return sy(n,[u2(Pm(t.firestore),"addDoc",r._key,i,null!==t.converter,{}).toMutation(r._key,Ta.exists(!1))]).then(()=>r)}(this._delegate,e).then(n=>new GA(this.firestore,n))}isEqual(e){return VH(this._delegate,e._delegate)}withConverter(e){return new ay(this.firestore,this._delegate.withConverter(e?Lm.getInstance(this.firestore,e):null))}}function Om(t){return To(t,ma)}class cF{constructor(...e){this._delegate=new ip(...e)}static documentId(){return new cF(pa.keyField().canonicalString())}isEqual(e){return(e=(0,be.Ku)(e))instanceof ip&&this._delegate._internalPath.isEqual(e._internalPath)}}class Um{constructor(e){this._delegate=e}static serverTimestamp(){const e=function yfe(){return new q5("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new Um(e)}static delete(){const e=function vfe(){return new tw("deleteField")}();return e._methodName="FieldValue.delete",new Um(e)}static arrayUnion(...e){const n=function _fe(...t){return new Y5("arrayUnion",t)}(...e);return n._methodName="FieldValue.arrayUnion",new Um(n)}static arrayRemove(...e){const n=function wfe(...t){return new X5("arrayRemove",t)}(...e);return n._methodName="FieldValue.arrayRemove",new Um(n)}static increment(e){const n=function Cfe(t){return new J5("increment",t)}(e);return n._methodName="FieldValue.increment",new Um(n)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const xfe={Firestore:h7,GeoPoint:a2,Timestamp:Sa,Blob:aw,Transaction:f7,WriteBatch:p7,DocumentReference:GA,DocumentSnapshot:lw,Query:Zc,QueryDocumentSnapshot:uw,QuerySnapshot:uF,CollectionReference:ay,FieldPath:cF,FieldValue:Um,setLogLevel:function Bfe(t){!function mce(t){tg.setLogLevel(t)}(t)},CACHE_SIZE_UNLIMITED:-1};function v7(t,e){return function Rfe(t,e=a6){return new Zi(n=>{let r;return null!=e?e.schedule(()=>{r=t.onSnapshot({includeMetadataChanges:!0},n)}):r=t.onSnapshot({includeMetadataChanges:!0},n),()=>{null!=r&&r()}})}(t,e)}function dF(t,e){return v7(t,e).pipe(zn(n=>({payload:n,type:"query"})))}!function kfe(t){(function Ffe(t,e){t.INTERNAL.registerComponent(new Ch.uA("firestore-compat",n=>{const r=n.getProvider("app-compat").getImmediate(),i=n.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},xfe)))})(t,(e,n)=>new h7(e,n,new Tfe)),t.registerVersion("@firebase/firestore-compat","0.3.28")}(Cn.A);class y7{constructor(e,n){(0,So.A)(this,"ref",void 0),(0,So.A)(this,"afs",void 0),this.ref=e,this.afs=n}set(e,n){return this.ref.set(e,n)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,n){const r=this.ref.collection(e),{ref:i,query:o}=E7(r,n);return new C7(i,o,this.afs)}snapshotChanges(){return function Pfe(t,e){return v7(t,e).pipe(Tb(void 0),eD(),zn(n=>{const[r,i]=n;return i.exists?null!=r&&r.exists?{payload:i,type:"modified"}:{payload:i,type:"added"}:{payload:i,type:"removed"}}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(uA)}valueChanges(e={}){return this.snapshotChanges().pipe(zn(({payload:n})=>e.idField?{...n.data(),[e.idField]:n.id}:n.data()))}get(e){return ha(this.ref.get(e)).pipe(uA)}}function y2(t,e){return dF(t,e).pipe(Tb(void 0),eD(),zn(n=>{const[r,i]=n,o=i.payload.docChanges(),s=o.map(a=>({type:a.type,payload:a}));return r&&JSON.stringify(r.payload.metadata)!==JSON.stringify(i.payload.metadata)&&i.payload.docs.forEach((a,l)=>{const u=o.find(I=>I.doc.ref.isEqual(a.ref)),p=null==r?void 0:r.payload.docs.find(I=>I.ref.isEqual(a.ref));u&&JSON.stringify(u.doc.metadata)===JSON.stringify(a.metadata)||!u&&p&&JSON.stringify(p.metadata)===JSON.stringify(a.metadata)||s.push({type:"modified",payload:{oldIndex:l,newIndex:l,type:"modified",doc:a}})}),s}))}function _7(t,e,n){return y2(t,n).pipe(Db((r,i)=>function Nfe(t,e,n){return e.forEach(r=>{n.indexOf(r.type)>-1&&(t=function Mfe(t,e){switch(e.type){case"added":if(!t[e.newIndex]||!t[e.newIndex].doc.ref.isEqual(e.doc.ref))return AF(t,e.newIndex,0,e);break;case"modified":if(null==t[e.oldIndex]||t[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const n=t.slice();return n.splice(e.oldIndex,1),n.splice(e.newIndex,0,e),n}return AF(t,e.newIndex,1,e)}break;case"removed":if(t[e.oldIndex]&&t[e.oldIndex].doc.ref.isEqual(e.doc.ref))return AF(t,e.oldIndex,1)}return t}(t,r))}),t}(r,i.map(o=>o.payload),e),[]),VU(),zn(r=>r.map(i=>({type:i.type,payload:i}))))}function AF(t,e,n,...r){const i=t.slice();return i.splice(e,n,...r),i}function w7(t){return(!t||0===t.length)&&(t=["added","removed","modified"]),t}class C7{constructor(e,n,r){(0,So.A)(this,"ref",void 0),(0,So.A)(this,"query",void 0),(0,So.A)(this,"afs",void 0),this.ref=e,this.query=n,this.afs=r}stateChanges(e){let n=y2(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(n=n.pipe(zn(r=>r.filter(i=>e.indexOf(i.type)>-1)))),n.pipe(Tb(void 0),eD(),aA(([r,i])=>i.length>0||!r),zn(([,r])=>r),uA)}auditTrail(e){return this.stateChanges(e).pipe(Db((n,r)=>[...n,...r],[]))}snapshotChanges(e){const n=w7(e);return _7(this.query,n,this.afs.schedulers.outsideAngular).pipe(uA)}valueChanges(e={}){return dF(this.query,this.afs.schedulers.outsideAngular).pipe(zn(n=>n.payload.docs.map(r=>e.idField?{...r.data(),[e.idField]:r.id}:r.data())),uA)}get(e){return ha(this.query.get(e)).pipe(uA)}add(e){return this.ref.add(e)}doc(e){return new y7(this.ref.doc(e),this.afs)}}class Lfe{constructor(e,n){(0,So.A)(this,"query",void 0),(0,So.A)(this,"afs",void 0),this.query=e,this.afs=n}stateChanges(e){return e&&0!==e.length?y2(this.query,this.afs.schedulers.outsideAngular).pipe(zn(n=>n.filter(r=>e.indexOf(r.type)>-1)),aA(n=>n.length>0),uA):y2(this.query,this.afs.schedulers.outsideAngular).pipe(uA)}auditTrail(e){return this.stateChanges(e).pipe(Db((n,r)=>[...n,...r],[]))}snapshotChanges(e){const n=w7(e);return _7(this.query,n,this.afs.schedulers.outsideAngular).pipe(uA)}valueChanges(e={}){return dF(this.query,this.afs.schedulers.outsideAngular).pipe(zn(r=>r.payload.docs.map(i=>e.idField?{[e.idField]:i.id,...i.data()}:i.data())),uA)}get(e){return ha(this.query.get(e)).pipe(uA)}}const b7=new $n("angularfire2.enableFirestorePersistence"),I7=new $n("angularfire2.firestore.persistenceSettings"),Ofe=new $n("angularfire2.firestore.settings"),Ufe=new $n("angularfire2.firestore.use-emulator");function E7(t,e=(n=>n)){return{query:e(t),ref:t}}let Zl=(()=>{var t;class e{constructor(r,i,o,s,a,l,u,p,I,k,O,q,ge,Be,Ye,tt,Bt){(0,So.A)(this,"schedulers",void 0),(0,So.A)(this,"firestore",void 0),(0,So.A)(this,"persistenceEnabled$",void 0),this.schedulers=u;const Ut=JB(r,l,i),Fn=I;k&&C6(Ut,l,O,ge,Be,Ye,q,tt),[this.firestore,this.persistenceEnabled$]=A6(`${Ut.name}.firestore`,"AngularFirestore",Ut.name,()=>{const Kn=l.runOutsideAngular(()=>Ut.firestore());if(s&&Kn.settings(s),Fn&&Kn.useEmulator(...Fn),o&&!db(a)){const Ii=()=>{try{return ha(Kn.enablePersistence(p||void 0).then(()=>!0,()=>!1))}catch(Bo){return typeof console<"u"&&console.warn(Bo),wi(!1)}};return[Kn,l.runOutsideAngular(Ii)]}return[Kn,wi(!1)]},[s,Fn,o])}collection(r,i){let o;o="string"==typeof r?this.firestore.collection(r):r;const{ref:s,query:a}=E7(o,i),l=this.schedulers.ngZone.run(()=>s);return new C7(l,a,this)}collectionGroup(r,i){const o=i||(a=>a),s=this.firestore.collectionGroup(r);return new Lfe(o(s),this)}doc(r){let i;i="string"==typeof r?this.firestore.doc(r):r;const o=this.schedulers.ngZone.run(()=>i);return new y7(o,this)}createId(){return this.firestore.collection("_").doc().id}}return t=e,(0,So.A)(e,"\u0275fac",function(r){return new(r||t)(Pn(Kb),Pn(qb,8),Pn(b7,8),Pn(Ofe,8),Pn(Fe),Pn(Tn),Pn(c6),Pn(I7,8),Pn(Ufe,8),Pn(jA,8),Pn(g6,8),Pn(m6,8),Pn(v6,8),Pn(y6,8),Pn(_6,8),Pn(w6,8),Pn(l6,8))}),(0,So.A)(e,"\u0275prov",Dn({token:t,factory:t.\u0275fac,providedIn:"any"})),e})(),Vfe=(()=>{var t;class e{constructor(){Cn.A.registerVersion("angularfire",Wb.full,"fst-compat")}static enablePersistence(r){return{ngModule:e,providers:[{provide:b7,useValue:!0},{provide:I7,useValue:r}]}}}return t=e,(0,So.A)(e,"\u0275fac",function(r){return new(r||t)}),(0,So.A)(e,"\u0275mod",Mt({type:t})),(0,So.A)(e,"\u0275inj",fo({providers:[Zl]})),e})();const S7="firebasestorage.googleapis.com",T7="storageBucket";class Ma extends be.g{constructor(e,n,r=0){super(hF(e),`Firebase Storage: ${n} (${hF(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Ma.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return hF(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var Ba=function(t){return t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment",t}(Ba||{});function hF(t){return"storage/"+t}function fF(){return new Ma(Ba.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function B7(){return new Ma(Ba.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function D7(){return new Ma(Ba.CANCELED,"User canceled the upload/download.")}function x7(){return new Ma(Ba.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function ly(t){return new Ma(Ba.INVALID_ARGUMENT,t)}function F7(){return new Ma(Ba.APP_DELETED,"The Firebase app was deleted.")}function k7(t){return new Ma(Ba.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function cw(t,e){return new Ma(Ba.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function dw(t){throw new Ma(Ba.INTERNAL_ERROR,"Internal error: "+t)}class bc{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=bc.makeFromUrl(e,n)}catch{return new bc(e,"")}if(""===r.path)return r;throw function Yfe(t){return new Ma(Ba.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)",a=new RegExp("^gs://"+i+"(/(.*))?$","i");function u(Ut){Ut.path_=decodeURIComponent(Ut.path)}const I=n.replace(/[.]/g,"\\."),Bt=[{regex:a,indices:{bucket:1,path:3},postModify:function o(Ut){"/"===Ut.path.charAt(Ut.path.length-1)&&(Ut.path_=Ut.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${I}/v[A-Za-z0-9_]+/b/${i}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:u},{regex:new RegExp(`^https?://${n===S7?"(?:storage.googleapis.com|storage.cloud.google.com)":n}/${i}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:u}];for(let Ut=0;Ut<Bt.length;Ut++){const Fn=Bt[Ut],Kn=Fn.regex.exec(e);if(Kn){let Bo=Kn[Fn.indices.path];Bo||(Bo=""),r=new bc(Kn[Fn.indices.bucket],Bo),Fn.postModify(r);break}}if(null==r)throw function qfe(t){return new Ma(Ba.INVALID_URL,"Invalid URL '"+t+"'.")}(e);return r}}class tpe{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function _2(t){return"string"==typeof t||t instanceof String}function R7(t){return pF()&&t instanceof Blob}function pF(){return typeof Blob<"u"}function gF(t,e,n,r){if(r<e)throw ly(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw ly(`Invalid value for '${t}'. Expected ${n} or less.`)}function sp(t,e,n){let r=e;return null==n&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function P7(t){const e=encodeURIComponent;let n="?";for(const r in t)t.hasOwnProperty(r)&&(n=n+(e(r)+"=")+e(t[r])+"&");return n=n.slice(0,-1),n}var uy=function(t){return t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT",t}(uy||{});function N7(t,e){const n=t>=500&&t<600,i=-1!==[408,429].indexOf(t),o=-1!==e.indexOf(t);return n||i||o}class ape{constructor(e,n,r,i,o,s,a,l,u,p,I,k=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=o,this.additionalRetryCodes_=s,this.callback_=a,this.errorCallback_=l,this.timeout_=u,this.progressCallback_=p,this.connectionFactory_=I,this.retry=k,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((O,q)=>{this.resolve_=O,this.reject_=q,this.start_()})}start_(){const n=(r,i)=>{const o=this.resolve_,s=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());!function ipe(t){return void 0!==t}(l)?o():o(l)}catch(l){s(l)}else if(null!==a){const l=fF();l.serverResponse=a.getErrorText(),s(this.errorCallback_?this.errorCallback_(a,l):l)}else s(i.canceled?this.appDelete_?F7():D7():B7())};this.canceled_?n(0,new w2(!1,null,!0)):this.backoffId_=function npe(t,e,n){let r=1,i=null,o=null,s=!1,a=0;function l(){return 2===a}let u=!1;function p(...Be){u||(u=!0,e.apply(null,Be))}function I(Be){i=setTimeout(()=>{i=null,t(O,l())},Be)}function k(){o&&clearTimeout(o)}function O(Be,...Ye){if(u)return void k();if(Be)return k(),void p.call(null,Be,...Ye);if(l()||s)return k(),void p.call(null,Be,...Ye);let Bt;r<64&&(r*=2),1===a?(a=2,Bt=0):Bt=1e3*(r+Math.random()),I(Bt)}let q=!1;function ge(Be){q||(q=!0,k(),!u&&(null!==i?(Be||(a=2),clearTimeout(i),I(0)):Be||(a=1)))}return I(0),o=setTimeout(()=>{s=!0,ge(!0)},n),ge}((r,i)=>{if(i)return void r(!1,new w2(!1,null,!0));const o=this.connectionFactory_();this.pendingConnection_=o;const s=a=>{null!==this.progressCallback_&&this.progressCallback_(a.loaded,a.lengthComputable?a.total:-1)};null!==this.progressCallback_&&o.addUploadProgressListener(s),o.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&o.removeUploadProgressListener(s),this.pendingConnection_=null;const a=o.getErrorCode()===uy.NO_ERROR,l=o.getStatus();if(!a||N7(l,this.additionalRetryCodes_)&&this.retry){const p=o.getErrorCode()===uy.ABORT;return void r(!1,new w2(!1,null,p))}const u=-1!==this.successCodes_.indexOf(l);r(!0,new w2(u,o))})},n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function rpe(t){t(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class w2{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function fpe(...t){const e=function hpe(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==e){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}if(pF())return new Blob(t);throw new Ma(Ba.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}const fA={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class mF{constructor(e,n){this.data=e,this.contentType=n||null}}function vF(t,e){switch(t){case fA.RAW:return new mF(M7(e));case fA.BASE64:case fA.BASE64URL:return new mF(L7(t,e));case fA.DATA_URL:return new mF(function vpe(t){const e=new O7(t);return e.base64?L7(fA.BASE64,e.rest):function mpe(t){let e;try{e=decodeURIComponent(t)}catch{throw cw(fA.DATA_URL,"Malformed data URL.")}return M7(e)}(e.rest)}(e),function ype(t){return new O7(t).contentType}(e))}throw fF()}function M7(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);r<=127?e.push(r):r<=2047?e.push(192|r>>6,128|63&r):55296==(64512&r)?n<t.length-1&&56320==(64512&t.charCodeAt(n+1))?(r=65536|(1023&r)<<10|1023&t.charCodeAt(++n),e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)):e.push(239,191,189):56320==(64512&r)?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(e)}function L7(t,e){switch(t){case fA.BASE64:{const i=-1!==e.indexOf("-"),o=-1!==e.indexOf("_");if(i||o)throw cw(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case fA.BASE64URL:{const i=-1!==e.indexOf("+"),o=-1!==e.indexOf("/");if(i||o)throw cw(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=function gpe(t){if(typeof atob>"u")throw function epe(t){return new Ma(Ba.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(t)}(e)}catch(i){throw i.message.includes("polyfill")?i:cw(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class O7{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(null===n)throw cw(fA.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;null!=r&&(this.base64=function _pe(t,e){return t.length>=e.length&&t.substring(t.length-e.length)===e}(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}class mf{constructor(e,n){let r=0,i="";R7(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(R7(this.data_)){const i=function ppe(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}(this.data_,e,n);return null===i?null:new mf(i)}{const r=new Uint8Array(this.data_.buffer,e,n-e);return new mf(r,!0)}}static getBlob(...e){if(pF()){const n=e.map(r=>r instanceof mf?r.data_:r);return new mf(fpe.apply(null,n))}{const n=e.map(s=>_2(s)?vF(fA.RAW,s).data:s.data_);let r=0;n.forEach(s=>{r+=s.byteLength});const i=new Uint8Array(r);let o=0;return n.forEach(s=>{for(let a=0;a<s.length;a++)i[o++]=s[a]}),new mf(i,!0)}}uploadData(){return this.data_}}function yF(t){let e;try{e=JSON.parse(t)}catch{return null}return function spe(t){return"object"==typeof t&&!Array.isArray(t)}(e)?e:null}function U7(t){const e=t.lastIndexOf("/",t.length-2);return-1===e?t:t.slice(e+1)}function bpe(t,e){return e}class ed{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||bpe}}let C2=null;function Aw(){if(C2)return C2;const t=[];t.push(new ed("bucket")),t.push(new ed("generation")),t.push(new ed("metageneration")),t.push(new ed("name","fullPath",!0));const n=new ed("name");n.xform=function e(o,s){return function Ipe(t){return!_2(t)||t.length<2?t:U7(t)}(s)},t.push(n);const i=new ed("size");return i.xform=function r(o,s){return void 0!==s?Number(s):s},t.push(i),t.push(new ed("timeCreated")),t.push(new ed("updated")),t.push(new ed("md5Hash",null,!0)),t.push(new ed("cacheControl",null,!0)),t.push(new ed("contentDisposition",null,!0)),t.push(new ed("contentEncoding",null,!0)),t.push(new ed("contentLanguage",null,!0)),t.push(new ed("contentType",null,!0)),t.push(new ed("metadata","customMetadata",!0)),C2=t,C2}function V7(t,e,n){const r=yF(e);return null===r?null:function Spe(t,e,n){const r={type:"file"},i=n.length;for(let o=0;o<i;o++){const s=n[o];r[s.local]=s.xform(r,e[s.server])}return function Epe(t,e){Object.defineProperty(t,"ref",{get:function n(){const o=new bc(t.bucket,t.fullPath);return e._makeStorageReference(o)}})}(r,t),r}(t,r,n)}function _F(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const o=e[i];o.writable&&(n[o.server]=t[o.local])}return JSON.stringify(n)}const Q7="prefixes",H7="items";class vf{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function yf(t){if(!t)throw fF()}function b2(t,e){return function n(r,i){const o=V7(t,i,e);return yf(null!==o),o}}function cy(t){return function e(n,r){let i;return i=401===n.getStatus()?n.getErrorText().includes("Firebase App Check token is invalid")?function Wfe(){return new Ma(Ba.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}():function Gfe(){return new Ma(Ba.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===n.getStatus()?function $fe(t){return new Ma(Ba.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(t.bucket):403===n.getStatus()?function Kfe(t){return new Ma(Ba.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}(t.path):r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}}function hw(t){const e=cy(t);return function n(r,i){let o=e(r,i);return 404===r.getStatus()&&(o=function zfe(t){return new Ma(Ba.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}(t.path)),o.serverResponse=i.serverResponse,o}}function j7(t,e,n){const i=sp(e.fullServerUrl(),t.host,t._protocol),s=t.maxOperationRetryTime,a=new vf(i,"GET",b2(t,n),s);return a.errorHandler=hw(e),a}function kpe(t,e,n,r,i){const o={};o.prefix=e.isRoot?"":e.path+"/",n&&n.length>0&&(o.delimiter=n),r&&(o.pageToken=r),i&&(o.maxResults=i);const a=sp(e.bucketOnlyServerUrl(),t.host,t._protocol),u=t.maxOperationRetryTime,p=new vf(a,"GET",function xpe(t,e){return function n(r,i){const o=function Dpe(t,e,n){const r=yF(n);return null===r?null:function Bpe(t,e,n){const r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n[Q7])for(const i of n[Q7]){const o=i.replace(/\/$/,""),s=t._makeStorageReference(new bc(e,o));r.prefixes.push(s)}if(n[H7])for(const i of n[H7]){const o=t._makeStorageReference(new bc(e,i.name));r.items.push(o)}return r}(t,e,r)}(t,e,i);return yf(null!==o),o}}(t,e.bucket),u);return p.urlParams=o,p.errorHandler=cy(e),p}function $7(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=function Mpe(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}(null,e)),r}class I2{constructor(e,n,r,i){this.current=e,this.total=n,this.finalized=!!r,this.metadata=i||null}}function wF(t,e){let n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch{yf(!1)}return yf(!!n&&-1!==(e||["active"]).indexOf(n)),n}const Vpe={STATE_CHANGED:"state_changed"},td={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function CF(t){switch(t){case"running":case"pausing":case"canceling":return td.RUNNING;case"paused":return td.PAUSED;case"success":return td.SUCCESS;case"canceled":return td.CANCELED;default:return td.ERROR}}class Qpe{constructor(e,n,r){if(function ope(t){return"function"==typeof t}(e)||null!=n||null!=r)this.next=e,this.error=null!=n?n:void 0,this.complete=null!=r?r:void 0;else{const o=e;this.next=o.next,this.error=o.error,this.complete=o.complete}}}function dy(t){return(...e)=>{Promise.resolve().then(()=>t(...e))}}let K7=null;class Hpe{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=uy.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=uy.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=uy.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i){if(this.sent_)throw dw("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),void 0!==i)for(const o in i)i.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,i[o].toString());return void 0!==r?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw dw("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw dw("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw dw("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw dw("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}class jpe extends Hpe{initXhr(){this.xhr_.responseType="text"}}function Eh(){return K7?K7():new jpe}class q7{constructor(e,n,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=n,this._metadata=r,this._mappings=Aw(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=i=>{if(this._request=void 0,this._chunkMultiplier=1,i._codeEquals(Ba.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const o=this.isExponentialBackoffExpired();if(N7(i.status,[])){if(!o)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();i=B7()}this._error=i,this._transition("error")}},this._metadataErrorHandler=i=>{this._request=void 0,i._codeEquals(Ba.CANCELED)?this.completeTransitions_():(this._error=i,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((i,o)=>{this._resolve=i,this._reject=o,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const e=this._transferred;return n=>this._updateProgress(e+n)}_shouldDoResumable(e){return e.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([n,r])=>{switch(this._state){case"running":e(n,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((e,n)=>{const r=function Lpe(t,e,n,r,i){const o=e.bucketOnlyServerUrl(),s=$7(e,r,i),a={name:s.fullPath},l=sp(o,t.host,t._protocol),p={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":s.contentType,"Content-Type":"application/json; charset=utf-8"},I=_F(s,n),q=new vf(l,"POST",function O(ge){let Be;wF(ge);try{Be=ge.getResponseHeader("X-Goog-Upload-URL")}catch{yf(!1)}return yf(_2(Be)),Be},t.maxUploadRetryTime);return q.urlParams=a,q.headers=p,q.body=I,q.errorHandler=cy(e),q}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,Eh,e,n);this._request=i,i.getPromise().then(o=>{this._request=void 0,this._uploadUrl=o,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((n,r)=>{const i=function Ope(t,e,n,r){const l=new vf(n,"POST",function o(u){const p=wF(u,["active","final"]);let I=null;try{I=u.getResponseHeader("X-Goog-Upload-Size-Received")}catch{yf(!1)}I||yf(!1);const k=Number(I);return yf(!isNaN(k)),new I2(k,r.size(),"final"===p)},t.maxUploadRetryTime);return l.headers={"X-Goog-Upload-Command":"query"},l.errorHandler=cy(e),l}(this._ref.storage,this._ref._location,e,this._blob),o=this._ref.storage._makeRequest(i,Eh,n,r);this._request=o,o.getPromise().then(s=>{this._request=void 0,this._updateProgress(s.current),this._needToFetchStatus=!1,s.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=262144*this._chunkMultiplier,n=new I2(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((i,o)=>{let s;try{s=function Upe(t,e,n,r,i,o,s,a){const l=new I2(0,0);if(s?(l.current=s.current,l.total=s.total):(l.current=0,l.total=r.size()),r.size()!==l.total)throw function Jfe(){return new Ma(Ba.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}();const u=l.total-l.current;let p=u;i>0&&(p=Math.min(p,i));const I=l.current;let O="";O=0===p?"finalize":u===p?"upload, finalize":"upload";const q={"X-Goog-Upload-Command":O,"X-Goog-Upload-Offset":`${l.current}`},ge=r.slice(I,I+p);if(null===ge)throw x7();const Bt=new vf(n,"POST",function Be(Ut,Fn){const Kn=wF(Ut,["active","final"]),Ii=l.current+p,Bo=r.size();let Bu;return Bu="final"===Kn?b2(e,o)(Ut,Fn):null,new I2(Ii,Bo,"final"===Kn,Bu)},e.maxUploadRetryTime);return Bt.headers=q,Bt.body=ge.uploadData(),Bt.progressCallback=a||null,Bt.errorHandler=cy(t),Bt}(this._ref._location,this._ref.storage,r,this._blob,e,this._mappings,n,this._makeProgressCallback())}catch(l){return this._error=l,void this._transition("error")}const a=this._ref.storage._makeRequest(s,Eh,i,o,!1);this._request=a,a.getPromise().then(l=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(l.current),l.finalized?(this._metadata=l.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier*2<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,n)=>{const r=j7(this._ref.storage,this._ref._location,this._mappings),i=this._ref.storage._makeRequest(r,Eh,e,n);this._request=i,i.getPromise().then(o=>{this._request=void 0,this._metadata=o,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,n)=>{const r=function G7(t,e,n,r,i){const o=e.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"},l=function a(){let Bt="";for(let Ut=0;Ut<2;Ut++)Bt+=Math.random().toString().slice(2);return Bt}();s["Content-Type"]="multipart/related; boundary="+l;const u=$7(e,r,i),p=_F(u,n),O=mf.getBlob("--"+l+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+p+"\r\n--"+l+"\r\nContent-Type: "+u.contentType+"\r\n\r\n",r,"\r\n--"+l+"--");if(null===O)throw x7();const q={name:u.fullPath},ge=sp(o,t.host,t._protocol),Ye=t.maxUploadRetryTime,tt=new vf(ge,"POST",b2(t,n),Ye);return tt.urlParams=q,tt.headers=s,tt.body=O.uploadData(),tt.errorHandler=cy(e),tt}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,Eh,e,n);this._request=i,i.getPromise().then(o=>{this._request=void 0,this._metadata=o,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const n=this._transferred;this._transferred=e,this._transferred!==n&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const n="paused"===this._state;this._state=e,n&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=D7(),this._state=e,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const e=CF(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,n,r,i){const o=new Qpe(n||void 0,r||void 0,i||void 0);return this._addObserver(o),()=>{this._removeObserver(o)}}then(e,n){return this._promise.then(e,n)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const n=this._observers.indexOf(e);-1!==n&&this._observers.splice(n,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(n=>{this._notifyObserver(n)})}_finishPromise(){if(void 0!==this._resolve){let e=!0;switch(CF(this._state)){case td.SUCCESS:dy(this._resolve.bind(null,this.snapshot))();break;case td.CANCELED:case td.ERROR:dy(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(CF(this._state)){case td.RUNNING:case td.PAUSED:e.next&&dy(e.next.bind(e,this.snapshot))();break;case td.SUCCESS:e.complete&&dy(e.complete.bind(e))();break;default:e.error&&dy(e.error.bind(e,this._error))()}}resume(){const e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}pause(){const e="running"===this._state;return e&&this._transition("pausing"),e}cancel(){const e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}class Vm{constructor(e,n){this._service=e,this._location=n instanceof bc?n:bc.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Vm(e,n)}get root(){const e=new bc(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return U7(this._location.path)}get storage(){return this._service}get parent(){const e=function wpe(t){if(0===t.length)return null;const e=t.lastIndexOf("/");return-1===e?"":t.slice(0,e)}(this._location.path);if(null===e)return null;const n=new bc(this._location.bucket,e);return new Vm(this._service,n)}_throwIfRoot(e){if(""===this._location.path)throw k7(e)}}function X7(t,e,n){return bF.apply(this,arguments)}function bF(){return bF=(0,V.A)(function*(t,e,n){const i=yield J7(t,{pageToken:n});e.prefixes.push(...i.prefixes),e.items.push(...i.items),null!=i.nextPageToken&&(yield X7(t,e,i.nextPageToken))}),bF.apply(this,arguments)}function J7(t,e){null!=e&&"number"==typeof e.maxResults&&gF("options.maxResults",1,1e3,e.maxResults);const n=e||{},r=kpe(t.storage,t._location,"/",n.pageToken,n.maxResults);return t.storage.makeRequestWithTokens(r,Eh)}function tge(t){t._throwIfRoot("getDownloadURL");const e=function Rpe(t,e,n){const i=sp(e.fullServerUrl(),t.host,t._protocol),s=t.maxOperationRetryTime,a=new vf(i,"GET",function Fpe(t,e){return function n(r,i){const o=V7(t,i,e);return yf(null!==o),function Tpe(t,e,n,r){const i=yF(e);if(null===i||!_2(i.downloadTokens))return null;const o=i.downloadTokens;if(0===o.length)return null;const s=encodeURIComponent;return o.split(",").map(u=>{const I=t.fullPath;return sp("/b/"+s(t.bucket)+"/o/"+s(I),n,r)+P7({alt:"media",token:u})})[0]}(o,i,t.host,t._protocol)}}(t,n),s);return a.errorHandler=hw(e),a}(t.storage,t._location,Aw());return t.storage.makeRequestWithTokens(e,Eh).then(n=>{if(null===n)throw function Zfe(){return new Ma(Ba.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}();return n})}function Z7(t,e){const n=function Cpe(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return 0===t.length?n:t+"/"+n}(t._location.path,e),r=new bc(t._location.bucket,n);return new Vm(t.storage,r)}function e9(t,e){if(t instanceof IF){const n=t;if(null==n._bucket)throw function Xfe(){return new Ma(Ba.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+T7+"' property when initializing the app?")}();const r=new Vm(n,n._bucket);return null!=e?e9(r,e):r}return void 0!==e?Z7(t,e):t}function oge(t,e){if(e&&function rge(t){return/^[A-Za-z]+:\/\//.test(t)}(e)){if(t instanceof IF)return function ige(t,e){return new Vm(t,e)}(t,e);throw ly("To use ref(service, url), the first argument must be a Storage instance.")}return e9(t,e)}function t9(t,e){const n=null==e?void 0:e[T7];return null==n?null:bc.makeFromBucketSpec(n,t)}class IF{constructor(e,n,r,i,o){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=o,this._bucket=null,this._host=S7,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?bc.makeFromBucketSpec(i,this._host):t9(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._bucket=null!=this._url?bc.makeFromBucketSpec(this._url,e):t9(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){gF("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){gF("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){var e=this;return(0,V.A)(function*(){if(e._overrideAuthToken)return e._overrideAuthToken;const n=e._authProvider.getImmediate({optional:!0});if(n){const r=yield n.getToken();if(null!==r)return r.accessToken}return null})()}_getAppCheckToken(){var e=this;return(0,V.A)(function*(){const n=e._appCheckProvider.getImmediate({optional:!0});return n?(yield n.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Vm(this,e)}_makeRequest(e,n,r,i,o=!0){if(this._deleted)return new tpe(F7());{const s=function Ape(t,e,n,r,i,o,s=!0){const a=P7(t.urlParams),l=t.url+a,u=Object.assign({},t.headers);return function cpe(t,e){e&&(t["X-Firebase-GMPID"]=e)}(u,e),function lpe(t,e){null!==e&&e.length>0&&(t.Authorization="Firebase "+e)}(u,n),function upe(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(null!=e?e:"AppManager")}(u,o),function dpe(t,e){null!==e&&(t["X-Firebase-AppCheck"]=e)}(u,r),new ape(l,t.method,u,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,s)}(e,this._appId,r,i,n,this._firebaseVersion,o);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}makeRequestWithTokens(e,n){var r=this;return(0,V.A)(function*(){const[i,o]=yield Promise.all([r._getAuthToken(),r._getAppCheckToken()]);return r._makeRequest(e,n,i,o).getPromise()})()}}const n9="@firebase/storage";function o9(t,e){return oge(t=(0,be.Ku)(t),e)}function pge(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new IF(n,r,i,e,mc.SDK_VERSION)}!function gge(){(0,mc._registerComponent)(new Ch.uA("storage",pge,"PUBLIC").setMultipleInstances(!0)),(0,mc.registerVersion)(n9,"0.12.3",""),(0,mc.registerVersion)(n9,"0.12.3","esm2017")}();class E2{constructor(e,n,r){this._delegate=e,this.task=n,this.ref=r}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class a9{constructor(e,n){this._delegate=e,this._ref=n,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new E2(this._delegate.snapshot,this,this._ref)}then(e,n){return this._delegate.then(r=>{if(e)return e(new E2(r,this,this._ref))},n)}on(e,n,r,i){let o;return n&&(o="function"==typeof n?s=>n(new E2(s,this,this._ref)):{next:n.next?s=>n.next(new E2(s,this,this._ref)):void 0,complete:n.complete||void 0,error:n.error||void 0}),this._delegate.on(e,o,r||void 0,i||void 0)}}class l9{constructor(e,n){this._delegate=e,this._service=n}get prefixes(){return this._delegate.prefixes.map(e=>new ap(e,this._service))}get items(){return this._delegate.items.map(e=>new ap(e,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class ap{constructor(e,n){this._delegate=e,this.storage=n}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(e){const n=function fge(t,e){return Z7(t,e)}(this._delegate,e);return new ap(n,this.storage)}get root(){return new ap(this._delegate.root,this.storage)}get parent(){const e=this._delegate.parent;return null==e?null:new ap(e,this.storage)}put(e,n){return this._throwIfRoot("put"),new a9(function age(t,e,n){return function Ype(t,e,n){return t._throwIfRoot("uploadBytesResumable"),new q7(t,new mf(e),n)}(t=(0,be.Ku)(t),e,n)}(this._delegate,e,n),this)}putString(e,n=fA.RAW,r){this._throwIfRoot("putString");const i=vF(n,e),o=Object.assign({},r);return null==o.contentType&&null!=i.contentType&&(o.contentType=i.contentType),new a9(new q7(this._delegate,new mf(i.data,!0),o),this)}listAll(){return function dge(t){return function Jpe(t){const e={prefixes:[],items:[]};return X7(t,e).then(()=>e)}(t=(0,be.Ku)(t))}(this._delegate).then(e=>new l9(e,this.storage))}list(e){return function cge(t,e){return J7(t=(0,be.Ku)(t),e)}(this._delegate,e||void 0).then(n=>new l9(n,this.storage))}getMetadata(){return function lge(t){return function Zpe(t){t._throwIfRoot("getMetadata");const e=j7(t.storage,t._location,Aw());return t.storage.makeRequestWithTokens(e,Eh)}(t=(0,be.Ku)(t))}(this._delegate)}updateMetadata(e){return function uge(t,e){return function ege(t,e){t._throwIfRoot("updateMetadata");const n=function Ppe(t,e,n,r){const o=sp(e.fullServerUrl(),t.host,t._protocol),a=_F(n,r),u=t.maxOperationRetryTime,p=new vf(o,"PATCH",b2(t,r),u);return p.headers={"Content-Type":"application/json; charset=utf-8"},p.body=a,p.errorHandler=hw(e),p}(t.storage,t._location,e,Aw());return t.storage.makeRequestWithTokens(n,Eh)}(t=(0,be.Ku)(t),e)}(this._delegate,e)}getDownloadURL(){return function Age(t){return tge(t=(0,be.Ku)(t))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function hge(t){return function nge(t){t._throwIfRoot("deleteObject");const e=function Npe(t,e){const r=sp(e.fullServerUrl(),t.host,t._protocol),a=new vf(r,"DELETE",function s(l,u){},t.maxOperationRetryTime);return a.successCodes=[200,204],a.errorHandler=hw(e),a}(t.storage,t._location);return t.storage.makeRequestWithTokens(e,Eh)}(t=(0,be.Ku)(t))}(this._delegate)}_throwIfRoot(e){if(""===this._delegate._location.path)throw k7(e)}}class u9{constructor(e,n){this.app=e,this._delegate=n}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(e){if(c9(e))throw ly("ref() expected a child path but got a URL, use refFromURL instead.");return new ap(o9(this._delegate,e),this)}refFromURL(e){if(!c9(e))throw ly("refFromURL() expected a full URL but got a child path, use ref() instead.");try{bc.makeFromUrl(e,this._delegate.host)}catch{throw ly("refFromUrl() expected a valid full URL but got an invalid one.")}return new ap(o9(this._delegate,e),this)}setMaxUploadRetryTime(e){this._delegate.maxUploadRetryTime=e}setMaxOperationRetryTime(e){this._delegate.maxOperationRetryTime=e}useEmulator(e,n,r={}){!function s9(t,e,n,r={}){!function sge(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken="string"==typeof i?i:(0,be.Fy)(i,t.app.options.projectId))}(t,e,n,r)}(this._delegate,e,n,r)}}function c9(t){return/^[A-Za-z]+:\/\//.test(t)}function _ge(t,{instanceIdentifier:e}){const n=t.getProvider("app-compat").getImmediate(),r=t.getProvider("storage").getImmediate({identifier:e});return new u9(n,r)}!function wge(t){const e={TaskState:td,TaskEvent:Vpe,StringFormat:fA,Storage:u9,Reference:ap};t.INTERNAL.registerComponent(new Ch.uA("storage-compat",_ge,"PUBLIC").setServiceProps(e).setMultipleInstances(!0)),t.registerVersion("@firebase/storage-compat","0.3.6")}(Cn.A);const d9="@firebase/database";let EF="";function SF(t){EF=t}class Cge{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){null==n?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),(0,be.As)(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return null==n?null:(0,be.$L)(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}class bge{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){null==n?delete this.cache_[e]:this.cache_[e]=n}get(e){return(0,be.gR)(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}const h9=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new Cge(e)}}catch{}return new bge},Qm=h9("localStorage"),TF=h9("sessionStorage"),Ay=new cA.Vy("@firebase/database"),f9=function(){let t=1;return function(){return t++}}(),p9=function(t){const e=(0,be.kj)(t),n=new be.gz;n.update(e);const r=n.digest();return be.K3.encodeByteArray(r)},fw=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&"object"==typeof r&&"number"==typeof r.length?e+=fw.apply(null,r):e+="object"==typeof r?(0,be.As)(r):r,e+=" "}return e};let Hm=null,g9=!0;const m9=function(t,e){(0,be.vA)(!e||!0===t||!1===t,"Can't turn on custom loggers persistently."),!0===t?(Ay.logLevel=cA.$b.VERBOSE,Hm=Ay.log.bind(Ay),e&&TF.set("logging_enabled",!0)):"function"==typeof t?Hm=t:(Hm=null,TF.remove("logging_enabled"))},Su=function(...t){if(!0===g9&&(g9=!1,null===Hm&&!0===TF.get("logging_enabled")&&m9(!0)),Hm){const e=fw.apply(null,t);Hm(e)}},pw=function(t){return function(...e){Su(t,...e)}},BF=function(...t){const e="FIREBASE INTERNAL ERROR: "+fw(...t);Ay.error(e)},_f=function(...t){const e=`FIREBASE FATAL ERROR: ${fw(...t)}`;throw Ay.error(e),new Error(e)},Ic=function(...t){const e="FIREBASE WARNING: "+fw(...t);Ay.warn(e)},S2=function(t){return"number"==typeof t&&(t!=t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},_g="[MIN_NAME]",lp="[MAX_NAME]",jm=function(t,e){if(t===e)return 0;if(t===_g||e===lp)return-1;if(e===_g||t===lp)return 1;{const n=_9(t),r=_9(e);return null!==n?null!==r?n-r==0?t.length-e.length:n-r:-1:null!==r?1:t<e?-1:1}},Sge=function(t,e){return t===e?0:t<e?-1:1},gw=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+(0,be.As)(e))},DF=function(t){if("object"!=typeof t||null===t)return(0,be.As)(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)0!==r&&(n+=","),n+=(0,be.As)(e[r]),n+=":",n+=DF(t[e[r]]);return n+="}",n},v9=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let i=0;i<n;i+=e)r.push(t.substring(i,i+e>n?n:i+e));return r};function Tu(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const y9=function(t){(0,be.vA)(!S2(t),"Invalid JSON number");const r=1023;let i,o,s,a,l;0===t?(o=0,s=0,i=1/t==-1/0?1:0):(i=t<0,(t=Math.abs(t))>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),r),o=a+r,s=Math.round(t*Math.pow(2,52-a)-Math.pow(2,52))):(o=0,s=Math.round(t/Math.pow(2,-1074))));const u=[];for(l=52;l;l-=1)u.push(s%2?1:0),s=Math.floor(s/2);for(l=11;l;l-=1)u.push(o%2?1:0),o=Math.floor(o/2);u.push(i?1:0),u.reverse();const p=u.join("");let I="";for(l=0;l<64;l+=8){let k=parseInt(p.substr(l,8),2).toString(16);1===k.length&&(k="0"+k),I+=k}return I.toLowerCase()},xge=new RegExp("^-?(0*)\\d{1,10}$"),_9=function(t){if(xge.test(t)){const e=Number(t);if(e>=-2147483648&&e<=2147483647)return e}return null},hy=function(t){try{t()}catch(e){setTimeout(()=>{throw Ic("Exception was thrown by user callback.",e.stack||""),e},Math.floor(0))}},mw=function(t,e){const n=setTimeout(t,e);return"number"==typeof n&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):"object"==typeof n&&n.unref&&n.unref(),n};class Pge{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=null==n?void 0:n.getImmediate({optional:!0}),this.appCheck||null==n||n.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;null===(n=this.appCheckProvider)||void 0===n||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){Ic(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class Nge{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&"auth/token-not-initialized"===n.code?(Su("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';e+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Ic(e)}}let vw=(()=>{class t{constructor(n){this.accessToken=n}getToken(n){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(n){n(this.accessToken)}removeTokenChangeListener(n){}notifyForInvalidToken(){}}return t.OWNER="owner",t})();const E9=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,B9="websocket",D9="long_polling";class FF{constructor(e,n,r,i,o=!1,s="",a=!1,l=!1){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=o,this.persistenceKey=s,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=l,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Qm.get("host:"+e)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Qm.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function x9(t,e,n){let r;if((0,be.vA)("string"==typeof e,"typeof type must == string"),(0,be.vA)("object"==typeof n,"typeof params must == object"),e===B9)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else{if(e!==D9)throw new Error("Unknown connection type: "+e);r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?"}(function Mge(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams})(t)&&(n.ns=t.namespace);const i=[];return Tu(n,(o,s)=>{i.push(o+"="+s)}),r+i.join("&")}class Lge{constructor(){this.counters_={}}incrementCounter(e,n=1){(0,be.gR)(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return(0,be.A4)(this.counters_)}}const kF={},RF={};function PF(t){const e=t.toString();return kF[e]||(kF[e]=new Lge),kF[e]}class Uge{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&hy(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class wg{constructor(e,n,r,i,o,s,a){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=o,this.transportSessionId=s,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=pw(e),this.stats_=PF(n),this.urlFn=l=>(this.appCheckToken&&(l.ac=this.appCheckToken),x9(n,D9,l))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new Uge(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(t){if((0,be.$g)()||"complete"===document.readyState)t();else{let e=!1;const n=function(){document.body?e||(e=!0,t()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&n()}),window.attachEvent("onload",n))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new NF((...o)=>{const[s,a,l,u,p]=o;if(this.incrementIncomingBytes_(o),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===s)this.id=a,this.password=l;else{if("close"!==s)throw new Error("Unrecognized command received: "+s);a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_()}},(...o)=>{const[s,a]=o;this.incrementIncomingBytes_(o),this.myPacketOrderer.handleResponse(s,a)},()=>{this.onClosed_()},this.urlFn);const r={start:"t"};r.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(r.cb=this.scriptTagHolder.uniqueCallbackIdentifier),r.v="5",this.transportSessionId&&(r.s=this.transportSessionId),this.lastSessionId&&(r.ls=this.lastSessionId),this.applicationId&&(r.p=this.applicationId),this.appCheckToken&&(r.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&E9.test(location.hostname)&&(r.r="f");const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){wg.forceAllow_=!0}static forceDisallow(){wg.forceDisallow_=!0}static isAvailable(){return!((0,be.$g)()||!wg.forceAllow_&&(wg.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=(0,be.As)(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=(0,be.KA)(n),i=v9(r,1840);for(let o=0;o<i.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[o]),this.curSegmentNum++}addDisconnectPingFrame(e,n){if((0,be.$g)())return;this.myDisconnFrame=document.createElement("iframe");const r={dframe:"t"};r.id=e,r.pw=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=(0,be.As)(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class NF{constructor(e,n,r,i){if(this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,be.$g)())this.commandCB=e,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=f9(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=n,this.myIFrame=NF.createIFrame_();let o="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(o='<script>document.domain="'+document.domain+'";<\/script>');const s="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(s),this.myIFrame.doc.close()}catch(a){Su("frame writing exception"),a.stack&&Su(a.stack),Su(a)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||Su("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;let n=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+r.length<=1870;){const s=this.pendingSegs.shift();r=r+"&seg"+i+"="+s.seg+"&ts"+i+"="+s.ts+"&d"+i+"="+s.d,i++}return n+=r,this.addLongPollTag_(n,this.currentSerial),!0}return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(e,()=>{clearTimeout(i),r()})}addTag(e,n){(0,be.$g)()?this.doNodeLongPoll(e,n):setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||"loaded"===i||"complete"===i)&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{Su("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}let B2=null;typeof MozWebSocket<"u"?B2=MozWebSocket:typeof WebSocket<"u"&&(B2=WebSocket);let fy=(()=>{class t{constructor(n,r,i,o,s,a,l){this.connId=n,this.applicationId=i,this.appCheckToken=o,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=pw(this.connId),this.stats_=PF(r),this.connURL=t.connectionURL_(r,a,l,o,i),this.nodeAdmin=r.nodeAdmin}static connectionURL_(n,r,i,o,s){const a={v:"5"};return!(0,be.$g)()&&typeof location<"u"&&location.hostname&&E9.test(location.hostname)&&(a.r="f"),r&&(a.s=r),i&&(a.ls=i),o&&(a.ac=o),s&&(a.p=s),x9(n,B9,a)}open(n,r){this.onDisconnect=r,this.onMessage=n,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Qm.set("previous_websocket_failure",!0);try{let i;if((0,be.$g)()){i={headers:{"User-Agent":`Firebase/5/${EF}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(i.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(i.headers["X-Firebase-AppCheck"]=this.appCheckToken);const s=process.env,a=0===this.connURL.indexOf("wss://")?s.HTTPS_PROXY||s.https_proxy:s.HTTP_PROXY||s.http_proxy;a&&(i.proxy={origin:a})}this.mySock=new B2(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");const o=i.message||i.data;return o&&this.log_(o),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");const o=i.message||i.data;o&&this.log_(o),this.onClosed_()}}start(){}static forceDisallow(){t.forceDisallow_=!0}static isAvailable(){let n=!1;if(typeof navigator<"u"&&navigator.userAgent){const i=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);i&&i.length>1&&parseFloat(i[1])<4.4&&(n=!0)}return!n&&null!==B2&&!t.forceDisallow_}static previouslyFailed(){return Qm.isInMemoryStorage||!0===Qm.get("previous_websocket_failure")}markConnectionHealthy(){Qm.remove("previous_websocket_failure")}appendFrame_(n){if(this.frames.push(n),this.frames.length===this.totalFrames){const r=this.frames.join("");this.frames=null;const i=(0,be.$L)(r);this.onMessage(i)}}handleNewFrameCount_(n){this.totalFrames=n,this.frames=[]}extractFrameCount_(n){if((0,be.vA)(null===this.frames,"We already have a frame buffer"),n.length<=6){const r=Number(n);if(!isNaN(r))return this.handleNewFrameCount_(r),null}return this.handleNewFrameCount_(1),n}handleIncomingFrame(n){if(null===this.mySock)return;const r=n.data;if(this.bytesReceived+=r.length,this.stats_.incrementCounter("bytes_received",r.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(r);else{const i=this.extractFrameCount_(r);null!==i&&this.appendFrame_(i)}}send(n){this.resetKeepAlive();const r=(0,be.As)(n);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);const i=v9(r,16384);i.length>1&&this.sendString_(String(i.length));for(let o=0;o<i.length;o++)this.sendString_(i[o])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(n){try{this.mySock.send(n)}catch(r){this.log_("Exception thrown from WebSocket.send():",r.message||r.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return t.responsesRequiredToBeHealthy=2,t.healthyTimeout=3e4,t})(),L9=(()=>{class t{constructor(n){this.initTransports_(n)}static get ALL_TRANSPORTS(){return[wg,fy]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(n){const r=fy&&fy.isAvailable();let i=r&&!fy.previouslyFailed();if(n.webSocketOnly&&(r||Ic("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[fy];else{const o=this.transports_=[];for(const s of t.ALL_TRANSPORTS)s&&s.isAvailable()&&o.push(s);t.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return t.globalTransportInitialized_=!1,t})();class z9{constructor(e,n,r,i,o,s,a,l,u,p){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=o,this.onMessage_=s,this.onReady_=a,this.onDisconnect_=l,this.onKill_=u,this.lastSessionId=p,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=pw("c:"+this.id+":"),this.transportManager_=new L9(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=mw(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{2!==this.state_&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){this.sendData_({t:"d",d:e})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if("t"in e){const n=e.t;"a"===n?this.upgradeIfSecondaryHealthy_():"r"===n?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===n&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=gw("t",e),r=gw("d",e);if("c"===n)this.onSecondaryControl_(r);else{if("d"!==n)throw new Error("Unknown protocol layer: "+n);this.pendingDataMessages.push(r)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=gw("t",e),r=gw("d",e);"c"===n?this.onControl_(r):"d"===n&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=gw("t",e);if("d"in e){const r=e.d;if("h"===n){const i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if("n"===n){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===n?this.onConnectionShutdown_(r):"r"===n?this.onReset_(r):"e"===n?BF("Server Error: "+r):"o"===n?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):BF("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),"5"!==r&&Ic("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),mw(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):mw(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Qm.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class $9{put(e,n,r,i){}merge(e,n,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}class G9{constructor(e){this.allowedEvents_=e,this.listeners_={},(0,be.vA)(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const i=this.getInitialEvent(e);i&&n.apply(r,i)}off(e,n,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let o=0;o<i.length;o++)if(i[o].callback===n&&(!r||r===i[o].context))return void i.splice(o,1)}validateEventType_(e){(0,be.vA)(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}class D2 extends G9{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!(0,be.jZ)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new D2}getInitialEvent(e){return(0,be.vA)("online"===e,"Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}class Is{constructor(e,n){if(void 0===n){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)""!==this.pieces_[n]&&(e+="/"+this.pieces_[n]);return e||"/"}}function us(){return new Is("")}function yo(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function Cg(t){return t.pieces_.length-t.pieceNum_}function $s(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new Is(t.pieces_,e)}function LF(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function yw(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function q9(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new Is(e,0)}function Da(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof Is)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new Is(n,0)}function _o(t){return t.pieceNum_>=t.pieces_.length}function nd(t,e){const n=yo(t),r=yo(e);if(null===n)return e;if(n===r)return nd($s(t),$s(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function ame(t,e){const n=yw(t,0),r=yw(e,0);for(let i=0;i<n.length&&i<r.length;i++){const o=jm(n[i],r[i]);if(0!==o)return o}return n.length===r.length?0:n.length<r.length?-1:1}function OF(t,e){if(Cg(t)!==Cg(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function WA(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(Cg(t)>Cg(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class lme{constructor(e,n){this.errorPrefix_=n,this.parts_=yw(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=(0,be.OE)(this.parts_[r]);Y9(this)}}function Y9(t){if(t.byteLength_>768)throw new Error(t.errorPrefix_+"has a key path longer than 768 bytes ("+t.byteLength_+").");if(t.parts_.length>32)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+zm(t))}function zm(t){return 0===t.parts_.length?"":"in property '"+t.parts_.join(".")+"'"}class UF extends G9{constructor(){let e,n;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new UF}getInitialEvent(e){return(0,be.vA)("visible"===e,"Unknown event type: "+e),[this.visible_]}}const _w=1e3;let F2,$m=(()=>{class t extends $9{constructor(n,r,i,o,s,a,l,u){if(super(),this.repoInfo_=n,this.applicationId_=r,this.onDataUpdate_=i,this.onConnectStatus_=o,this.onServerInfoUpdate_=s,this.authTokenProvider_=a,this.appCheckTokenProvider_=l,this.authOverride_=u,this.id=t.nextPersistentConnectionId_++,this.log_=pw("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=_w,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,u&&!(0,be.$g)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");UF.getInstance().on("visible",this.onVisible_,this),-1===n.host.indexOf("fblocal")&&D2.getInstance().on("online",this.onOnline_,this)}sendRequest(n,r,i){const o=++this.requestNumber_,s={r:o,a:n,b:r};this.log_((0,be.As)(s)),(0,be.vA)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),i&&(this.requestCBHash_[o]=i)}get(n){this.initConnection_();const r=new be.cY,o={action:"g",request:{p:n._path.toString(),q:n._queryObject},onComplete:a=>{const l=a.d;"ok"===a.s?r.resolve(l):r.reject(l)}};return this.outstandingGets_.push(o),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),r.promise}listen(n,r,i,o){this.initConnection_();const s=n._queryIdentifier,a=n._path.toString();this.log_("Listen called for "+a+" "+s),this.listens.has(a)||this.listens.set(a,new Map),(0,be.vA)(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,be.vA)(!this.listens.get(a).has(s),"listen() called twice for same path/queryId.");const l={onComplete:o,hashFn:r,query:n,tag:i};this.listens.get(a).set(s,l),this.connected_&&this.sendListen_(l)}sendGet_(n){const r=this.outstandingGets_[n];this.sendRequest("g",r.request,i=>{delete this.outstandingGets_[n],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),r.onComplete&&r.onComplete(i)})}sendListen_(n){const r=n.query,i=r._path.toString(),o=r._queryIdentifier;this.log_("Listen on "+i+" for "+o);const s={p:i};n.tag&&(s.q=r._queryObject,s.t=n.tag),s.h=n.hashFn(),this.sendRequest("q",s,l=>{const u=l.d,p=l.s;t.warnOnListenWarnings_(u,r),(this.listens.get(i)&&this.listens.get(i).get(o))===n&&(this.log_("listen response",l),"ok"!==p&&this.removeListen_(i,o),n.onComplete&&n.onComplete(p,u))})}static warnOnListenWarnings_(n,r){if(n&&"object"==typeof n&&(0,be.gR)(n,"w")){const i=(0,be.yw)(n,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){const o='".indexOn": "'+r._queryParams.getIndex().toString()+'"',s=r._path.toString();Ic(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${o} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(n){this.authToken_=n,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(n)}reduceReconnectDelayIfAdminCredential_(n){(n&&40===n.length||(0,be.qc)(n))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(n){this.appCheckToken_=n,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const n=this.authToken_,r=(0,be.Cv)(n)?"auth":"gauth",i={cred:n};null===this.authOverride_?i.noauth=!0:"object"==typeof this.authOverride_&&(i.authvar=this.authOverride_),this.sendRequest(r,i,o=>{const s=o.s,a=o.d||"error";this.authToken_===n&&("ok"===s?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,a))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},n=>{const r=n.s,i=n.d||"error";"ok"===r?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(r,i)})}unlisten(n,r){const i=n._path.toString(),o=n._queryIdentifier;this.log_("Unlisten called for "+i+" "+o),(0,be.vA)(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,o)&&this.connected_&&this.sendUnlisten_(i,o,n._queryObject,r)}sendUnlisten_(n,r,i,o){this.log_("Unlisten on "+n+" for "+r);const s={p:n};o&&(s.q=i,s.t=o),this.sendRequest("n",s)}onDisconnectPut(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"o",data:r,onComplete:i})}onDisconnectMerge(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"om",data:r,onComplete:i})}onDisconnectCancel(n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",n,null,r):this.onDisconnectRequestQueue_.push({pathString:n,action:"oc",data:null,onComplete:r})}sendOnDisconnect_(n,r,i,o){const s={p:r,d:i};this.log_("onDisconnect "+n,s),this.sendRequest(n,s,a=>{o&&setTimeout(()=>{o(a.s,a.d)},Math.floor(0))})}put(n,r,i,o){this.putInternal("p",n,r,i,o)}merge(n,r,i,o){this.putInternal("m",n,r,i,o)}putInternal(n,r,i,o,s){this.initConnection_();const a={p:r,d:i};void 0!==s&&(a.h=s),this.outstandingPuts_.push({action:n,request:a,onComplete:o}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+r)}sendPut_(n){const r=this.outstandingPuts_[n].action,i=this.outstandingPuts_[n].request,o=this.outstandingPuts_[n].onComplete;this.outstandingPuts_[n].queued=this.connected_,this.sendRequest(r,i,s=>{this.log_(r+" response",s),delete this.outstandingPuts_[n],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),o&&o(s.s,s.d)})}reportStats(n){if(this.connected_){const r={c:n};this.log_("reportStats",r),this.sendRequest("s",r,i=>{"ok"!==i.s&&this.log_("reportStats","Error sending stats: "+i.d)})}}onDataMessage_(n){if("r"in n){this.log_("from server: "+(0,be.As)(n));const r=n.r,i=this.requestCBHash_[r];i&&(delete this.requestCBHash_[r],i(n.b))}else{if("error"in n)throw"A server-side error has occurred: "+n.error;"a"in n&&this.onDataPush_(n.a,n.b)}}onDataPush_(n,r){this.log_("handleServerMessage",n,r),"d"===n?this.onDataUpdate_(r.p,r.d,!1,r.t):"m"===n?this.onDataUpdate_(r.p,r.d,!0,r.t):"c"===n?this.onListenRevoked_(r.p,r.q):"ac"===n?this.onAuthRevoked_(r.s,r.d):"apc"===n?this.onAppCheckRevoked_(r.s,r.d):"sd"===n?this.onSecurityDebugPacket_(r):BF("Unrecognized action received from server: "+(0,be.As)(n)+"\nAre you using the latest client?")}onReady_(n,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(n),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(n){(0,be.vA)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(n))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(n){n&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=_w,this.realtime_||this.scheduleConnect_(0)),this.visible_=n}onOnline_(n){n?(this.log_("Browser went online."),this.reconnectDelay_=_w,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=_w),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const n=(new Date).getTime()-this.lastConnectionAttemptTime_;let r=Math.max(0,this.reconnectDelay_-n);r=Math.random()*r,this.log_("Trying to reconnect in "+r+"ms"),this.scheduleConnect_(r),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var n=this;return(0,V.A)(function*(){if(n.shouldReconnect_()){n.log_("Making a connection attempt"),n.lastConnectionAttemptTime_=(new Date).getTime(),n.lastConnectionEstablishedTime_=null;const r=n.onDataMessage_.bind(n),i=n.onReady_.bind(n),o=n.onRealtimeDisconnect_.bind(n),s=n.id+":"+t.nextConnectionId_++,a=n.lastSessionId;let l=!1,u=null;const p=function(){u?u.close():(l=!0,o())};n.realtime_={close:p,sendRequest:function(O){(0,be.vA)(u,"sendRequest call when we're not connected not allowed."),u.sendRequest(O)}};const k=n.forceTokenRefresh_;n.forceTokenRefresh_=!1;try{const[O,q]=yield Promise.all([n.authTokenProvider_.getToken(k),n.appCheckTokenProvider_.getToken(k)]);l?Su("getToken() completed but was canceled"):(Su("getToken() completed. Creating connection."),n.authToken_=O&&O.accessToken,n.appCheckToken_=q&&q.token,u=new z9(s,n.repoInfo_,n.applicationId_,n.appCheckToken_,n.authToken_,r,i,o,ge=>{Ic(ge+" ("+n.repoInfo_.toString()+")"),n.interrupt("server_kill")},a))}catch(O){n.log_("Failed to get token: "+O),l||(n.repoInfo_.nodeAdmin&&Ic(O),p())}}})()}interrupt(n){Su("Interrupting connection for reason: "+n),this.interruptReasons_[n]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(n){Su("Resuming connection for reason: "+n),delete this.interruptReasons_[n],(0,be.Im)(this.interruptReasons_)&&(this.reconnectDelay_=_w,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(n){const r=n-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:r})}cancelSentTransactions_(){for(let n=0;n<this.outstandingPuts_.length;n++){const r=this.outstandingPuts_[n];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[n],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(n,r){let i;i=r?r.map(s=>DF(s)).join("$"):"default";const o=this.removeListen_(n,i);o&&o.onComplete&&o.onComplete("permission_denied")}removeListen_(n,r){const i=new Is(n).toString();let o;if(this.listens.has(i)){const s=this.listens.get(i);o=s.get(r),s.delete(r),0===s.size&&this.listens.delete(i)}else o=void 0;return o}onAuthRevoked_(n,r){Su("Auth token revoked: "+n+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===n||"permission_denied"===n)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(n,r){Su("App check token revoked: "+n+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===n||"permission_denied"===n)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(n){this.securityDebugCallback_?this.securityDebugCallback_(n):"msg"in n&&console.log("FIREBASE: "+n.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const n of this.listens.values())for(const r of n.values())this.sendListen_(r);for(let n=0;n<this.outstandingPuts_.length;n++)this.outstandingPuts_[n]&&this.sendPut_(n);for(;this.onDisconnectRequestQueue_.length;){const n=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(n.action,n.pathString,n.data,n.onComplete)}for(let n=0;n<this.outstandingGets_.length;n++)this.outstandingGets_[n]&&this.sendGet_(n)}sendConnectStats_(){const n={};let r="js";(0,be.$g)()&&(r=this.repoInfo_.nodeAdmin?"admin_node":"node"),n["sdk."+r+"."+EF.replace(/\./g,"-")]=1,(0,be.jZ)()?n["framework.cordova"]=1:(0,be.lV)()&&(n["framework.reactnative"]=1),this.reportStats(n)}shouldReconnect_(){const n=D2.getInstance().currentlyOnline();return(0,be.Im)(this.interruptReasons_)&&n}}return t.nextPersistentConnectionId_=0,t.nextConnectionId_=0,t})();class bo{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new bo(e,n)}}class x2{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new bo(_g,e),i=new bo(_g,n);return 0!==this.compare(r,i)}minPost(){return bo.MIN}}class Z9 extends x2{static get __EMPTY_NODE(){return F2}static set __EMPTY_NODE(e){F2=e}compare(e,n){return jm(e.name,n.name)}isDefinedOn(e){throw(0,be.Hk)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return bo.MIN}maxPost(){return new bo(lp,F2)}makePost(e,n){return(0,be.vA)("string"==typeof e,"KeyIndex indexValue must always be a string."),new bo(e,F2)}toString(){return".key"}}const wf=new Z9;class k2{constructor(e,n,r,i,o=null){this.isReverse_=i,this.resultGenerator_=o,this.nodeStack_=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,i&&(s*=-1),s<0)e=this.isReverse_?e.left:e.right;else{if(0===s){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}getNext(){if(0===this.nodeStack_.length)return null;let n,e=this.nodeStack_.pop();if(n=this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}let QF,Sh=(()=>{class t{constructor(n,r,i,o,s){this.key=n,this.value=r,this.color=null!=i?i:t.RED,this.left=null!=o?o:Dd.EMPTY_NODE,this.right=null!=s?s:Dd.EMPTY_NODE}copy(n,r,i,o,s){return new t(null!=n?n:this.key,null!=r?r:this.value,null!=i?i:this.color,null!=o?o:this.left,null!=s?s:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(n){return this.left.inorderTraversal(n)||!!n(this.key,this.value)||this.right.inorderTraversal(n)}reverseTraversal(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(n,r,i){let o=this;const s=i(n,o.key);return o=s<0?o.copy(null,null,null,o.left.insert(n,r,i),null):0===s?o.copy(null,r,null,null,null):o.copy(null,null,null,null,o.right.insert(n,r,i)),o.fixUp_()}removeMin_(){if(this.left.isEmpty())return Dd.EMPTY_NODE;let n=this;return!n.left.isRed_()&&!n.left.left.isRed_()&&(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.removeMin_(),null),n.fixUp_()}remove(n,r){let i,o;if(i=this,r(n,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(n,r),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),0===r(n,i.key)){if(i.right.isEmpty())return Dd.EMPTY_NODE;o=i.right.min_(),i=i.copy(o.key,o.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(n,r))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let n=this;return n.right.isRed_()&&!n.left.isRed_()&&(n=n.rotateLeft_()),n.left.isRed_()&&n.left.left.isRed_()&&(n=n.rotateRight_()),n.left.isRed_()&&n.right.isRed_()&&(n=n.colorFlip_()),n}moveRedLeft_(){let n=this.colorFlip_();return n.right.left.isRed_()&&(n=n.copy(null,null,null,null,n.right.rotateRight_()),n=n.rotateLeft_(),n=n.colorFlip_()),n}moveRedRight_(){let n=this.colorFlip_();return n.left.left.isRed_()&&(n=n.rotateRight_(),n=n.colorFlip_()),n}rotateLeft_(){const n=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)}rotateRight_(){const n=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)}colorFlip_(){const n=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,r)}checkMaxDepth_(){const n=this.check_();return Math.pow(2,n)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const n=this.left.check_();if(n!==this.right.check_())throw new Error("Black depths differ");return n+(this.isRed_()?0:1)}}return t.RED=!0,t.BLACK=!1,t})();class Dd{constructor(e,n=Dd.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new Dd(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Sh.BLACK,null,null))}remove(e){return new Dd(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Sh.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),0===n)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,i=null;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),0===n){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}n<0?r=r.left:n>0&&(i=r,r=r.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new k2(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new k2(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new k2(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new k2(this.root_,null,this.comparator_,!0,e)}}function gme(t,e){return jm(t.name,e.name)}function VF(t,e){return jm(t,e)}Dd.EMPTY_NODE=new class pme{copy(e,n,r,i,o){return this}insert(e,n,r){return new Sh(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const ej=function(t){return"number"==typeof t?"number:"+y9(t):"string:"+t},tj=function(t){if(t.isLeafNode()){const e=t.val();(0,be.vA)("string"==typeof e||"number"==typeof e||"object"==typeof e&&(0,be.gR)(e,".sv"),"Priority must be a string or number.")}else(0,be.vA)(t===QF||t.isEmpty(),"priority of unexpected type.");(0,be.vA)(t===QF||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let nj,rj,ij,py=(()=>{class t{constructor(n,r=t.__childrenNodeConstructor.EMPTY_NODE){this.value_=n,this.priorityNode_=r,this.lazyHash_=null,(0,be.vA)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),tj(this.priorityNode_)}static set __childrenNodeConstructor(n){nj=n}static get __childrenNodeConstructor(){return nj}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(n){return new t(this.value_,n)}getImmediateChild(n){return".priority"===n?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE}getChild(n){return _o(n)?this:".priority"===yo(n)?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(n,r){return null}updateImmediateChild(n,r){return".priority"===n?this.updatePriority(r):r.isEmpty()&&".priority"!==n?this:t.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(n,r).updatePriority(this.priorityNode_)}updateChild(n,r){const i=yo(n);return null===i?r:r.isEmpty()&&".priority"!==i?this:((0,be.vA)(".priority"!==i||1===Cg(n),".priority must be the last token in a path"),this.updateImmediateChild(i,t.__childrenNodeConstructor.EMPTY_NODE.updateChild($s(n),r)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(n,r){return!1}val(n){return n&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let n="";this.priorityNode_.isEmpty()||(n+="priority:"+ej(this.priorityNode_.val())+":");const r=typeof this.value_;n+=r+":",n+="number"===r?y9(this.value_):this.value_,this.lazyHash_=p9(n)}return this.lazyHash_}getValue(){return this.value_}compareTo(n){return n===t.__childrenNodeConstructor.EMPTY_NODE?1:n instanceof t.__childrenNodeConstructor?-1:((0,be.vA)(n.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(n))}compareToLeafNode_(n){const r=typeof n.value_,i=typeof this.value_,o=t.VALUE_TYPE_ORDER.indexOf(r),s=t.VALUE_TYPE_ORDER.indexOf(i);return(0,be.vA)(o>=0,"Unknown leaf type: "+r),(0,be.vA)(s>=0,"Unknown leaf type: "+i),o===s?"object"===i?0:this.value_<n.value_?-1:this.value_===n.value_?0:1:s-o}withIndex(){return this}isIndexed(){return!0}equals(n){return n===this||!!n.isLeafNode()&&(this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_))}}return t.VALUE_TYPE_ORDER=["object","boolean","number","string"],t})();const ia=new class _me extends x2{compare(e,n){const r=e.node.getPriority(),i=n.node.getPriority(),o=r.compareTo(i);return 0===o?jm(e.name,n.name):o}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return bo.MIN}maxPost(){return new bo(lp,new py("[PRIORITY-POST]",ij))}makePost(e,n){const r=rj(e);return new bo(n,new py("[PRIORITY-POST]",r))}toString(){return".priority"}},wme=Math.log(2);class Cme{constructor(e){this.count=parseInt(Math.log(e+1)/wme,10),this.current_=this.count-1;const i=(o=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const R2=function(t,e,n,r){t.sort(e);const i=function(l,u){const p=u-l;let I,k;if(0===p)return null;if(1===p)return I=t[l],k=n?n(I):I,new Sh(k,I.node,Sh.BLACK,null,null);{const O=parseInt(p/2,10)+l,q=i(l,O),ge=i(O+1,u);return I=t[O],k=n?n(I):I,new Sh(k,I.node,Sh.BLACK,q,ge)}},a=function(l){let u=null,p=null,I=t.length;const k=function(q,ge){const Be=I-q,Ye=I;I-=q;const tt=i(Be+1,Ye),Bt=t[Be],Ut=n?n(Bt):Bt;O(new Sh(Ut,Bt.node,ge,null,tt))},O=function(q){u?(u.left=q,u=q):(p=q,u=q)};for(let q=0;q<l.count;++q){const ge=l.nextBitIsOne(),Be=Math.pow(2,l.count-(q+1));ge?k(Be,Sh.BLACK):(k(Be,Sh.BLACK),k(Be,Sh.RED))}return p}(new Cme(t.length));return new Dd(r||e,a)};let HF;const gy={};class up{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return(0,be.vA)(gy&&ia,"ChildrenNode.ts has not been loaded"),HF=HF||new up({".priority":gy},{".priority":ia}),HF}get(e){const n=(0,be.yw)(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof Dd?n:null}hasIndex(e){return(0,be.gR)(this.indexSet_,e.toString())}addIndex(e,n){(0,be.vA)(e!==wf,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const o=n.getIterator(bo.Wrap);let a,s=o.getNext();for(;s;)i=i||e.isDefinedOn(s.node),r.push(s),s=o.getNext();a=i?R2(r,e.getCompare()):gy;const l=e.toString(),u=Object.assign({},this.indexSet_);u[l]=e;const p=Object.assign({},this.indexes_);return p[l]=a,new up(p,u)}addToIndexes(e,n){const r=(0,be.kH)(this.indexes_,(i,o)=>{const s=(0,be.yw)(this.indexSet_,o);if((0,be.vA)(s,"Missing index implementation for "+o),i===gy){if(s.isDefinedOn(e.node)){const a=[],l=n.getIterator(bo.Wrap);let u=l.getNext();for(;u;)u.name!==e.name&&a.push(u),u=l.getNext();return a.push(e),R2(a,s.getCompare())}return gy}{const a=n.get(e.name);let l=i;return a&&(l=l.remove(new bo(e.name,a))),l.insert(e,e.node)}});return new up(r,this.indexSet_)}removeFromIndexes(e,n){const r=(0,be.kH)(this.indexes_,i=>{if(i===gy)return i;{const o=n.get(e.name);return o?i.remove(new bo(e.name,o)):i}});return new up(r,this.indexSet_)}}let ww,io=(()=>{class t{constructor(n,r,i){this.children_=n,this.priorityNode_=r,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&tj(this.priorityNode_),this.children_.isEmpty()&&(0,be.vA)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return ww||(ww=new t(new Dd(VF),null,up.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||ww}updatePriority(n){return this.children_.isEmpty()?this:new t(this.children_,n,this.indexMap_)}getImmediateChild(n){if(".priority"===n)return this.getPriority();{const r=this.children_.get(n);return null===r?ww:r}}getChild(n){const r=yo(n);return null===r?this:this.getImmediateChild(r).getChild($s(n))}hasChild(n){return null!==this.children_.get(n)}updateImmediateChild(n,r){if((0,be.vA)(r,"We should always be passing snapshot nodes"),".priority"===n)return this.updatePriority(r);{const i=new bo(n,r);let o,s;r.isEmpty()?(o=this.children_.remove(n),s=this.indexMap_.removeFromIndexes(i,this.children_)):(o=this.children_.insert(n,r),s=this.indexMap_.addToIndexes(i,this.children_));const a=o.isEmpty()?ww:this.priorityNode_;return new t(o,a,s)}}updateChild(n,r){const i=yo(n);if(null===i)return r;{(0,be.vA)(".priority"!==yo(n)||1===Cg(n),".priority must be the last token in a path");const o=this.getImmediateChild(i).updateChild($s(n),r);return this.updateImmediateChild(i,o)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(n){if(this.isEmpty())return null;const r={};let i=0,o=0,s=!0;if(this.forEachChild(ia,(a,l)=>{r[a]=l.val(n),i++,s&&t.INTEGER_REGEXP_.test(a)?o=Math.max(o,Number(a)):s=!1}),!n&&s&&o<2*i){const a=[];for(const l in r)a[l]=r[l];return a}return n&&!this.getPriority().isEmpty()&&(r[".priority"]=this.getPriority().val()),r}hash(){if(null===this.lazyHash_){let n="";this.getPriority().isEmpty()||(n+="priority:"+ej(this.getPriority().val())+":"),this.forEachChild(ia,(r,i)=>{const o=i.hash();""!==o&&(n+=":"+r+":"+o)}),this.lazyHash_=""===n?"":p9(n)}return this.lazyHash_}getPredecessorChildName(n,r,i){const o=this.resolveIndex_(i);if(o){const s=o.getPredecessorKey(new bo(n,r));return s?s.name:null}return this.children_.getPredecessorKey(n)}getFirstChildName(n){const r=this.resolveIndex_(n);if(r){const i=r.minKey();return i&&i.name}return this.children_.minKey()}getFirstChild(n){const r=this.getFirstChildName(n);return r?new bo(r,this.children_.get(r)):null}getLastChildName(n){const r=this.resolveIndex_(n);if(r){const i=r.maxKey();return i&&i.name}return this.children_.maxKey()}getLastChild(n){const r=this.getLastChildName(n);return r?new bo(r,this.children_.get(r)):null}forEachChild(n,r){const i=this.resolveIndex_(n);return i?i.inorderTraversal(o=>r(o.name,o.node)):this.children_.inorderTraversal(r)}getIterator(n){return this.getIteratorFrom(n.minPost(),n)}getIteratorFrom(n,r){const i=this.resolveIndex_(r);if(i)return i.getIteratorFrom(n,o=>o);{const o=this.children_.getIteratorFrom(n.name,bo.Wrap);let s=o.peek();for(;null!=s&&r.compare(s,n)<0;)o.getNext(),s=o.peek();return o}}getReverseIterator(n){return this.getReverseIteratorFrom(n.maxPost(),n)}getReverseIteratorFrom(n,r){const i=this.resolveIndex_(r);if(i)return i.getReverseIteratorFrom(n,o=>o);{const o=this.children_.getReverseIteratorFrom(n.name,bo.Wrap);let s=o.peek();for(;null!=s&&r.compare(s,n)>0;)o.getNext(),s=o.peek();return o}}compareTo(n){return this.isEmpty()?n.isEmpty()?0:-1:n.isLeafNode()||n.isEmpty()?1:n===Cw?-1:0}withIndex(n){if(n===wf||this.indexMap_.hasIndex(n))return this;{const r=this.indexMap_.addIndex(n,this.children_);return new t(this.children_,this.priorityNode_,r)}}isIndexed(n){return n===wf||this.indexMap_.hasIndex(n)}equals(n){if(n===this)return!0;if(n.isLeafNode())return!1;{const r=n;if(this.getPriority().equals(r.getPriority())){if(this.children_.count()===r.children_.count()){const i=this.getIterator(ia),o=r.getIterator(ia);let s=i.getNext(),a=o.getNext();for(;s&&a;){if(s.name!==a.name||!s.node.equals(a.node))return!1;s=i.getNext(),a=o.getNext()}return null===s&&null===a}return!1}return!1}}resolveIndex_(n){return n===wf?null:this.indexMap_.get(n.toString())}}return t.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,t})();const Cw=new class bme extends io{constructor(){super(new Dd(VF),io.EMPTY_NODE,up.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return io.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(bo,{MIN:{value:new bo(_g,io.EMPTY_NODE)},MAX:{value:new bo(lp,Cw)}}),Z9.__EMPTY_NODE=io.EMPTY_NODE,py.__childrenNodeConstructor=io,function mme(t){QF=t}(Cw),function yme(t){ij=t}(Cw);const Ime=!0;function La(t,e=null){if(null===t)return io.EMPTY_NODE;if("object"==typeof t&&".priority"in t&&(e=t[".priority"]),(0,be.vA)(null===e||"string"==typeof e||"number"==typeof e||"object"==typeof e&&".sv"in e,"Invalid priority type found: "+typeof e),"object"==typeof t&&".value"in t&&null!==t[".value"]&&(t=t[".value"]),"object"!=typeof t||".sv"in t)return new py(t,La(e));if(t instanceof Array||!Ime){let n=io.EMPTY_NODE;return Tu(t,(r,i)=>{if((0,be.gR)(t,r)&&"."!==r.substring(0,1)){const o=La(i);(o.isLeafNode()||!o.isEmpty())&&(n=n.updateImmediateChild(r,o))}}),n.updatePriority(La(e))}{const n=[];let r=!1;if(Tu(t,(s,a)=>{if("."!==s.substring(0,1)){const l=La(a);l.isEmpty()||(r=r||!l.getPriority().isEmpty(),n.push(new bo(s,l)))}}),0===n.length)return io.EMPTY_NODE;const o=R2(n,gme,s=>s.name,VF);if(r){const s=R2(n,ia.getCompare());return new io(o,La(e),new up({".priority":s},{".priority":ia}))}return new io(o,La(e),up.Default)}}!function vme(t){rj=t}(La);class jF extends x2{constructor(e){super(),this.indexPath_=e,(0,be.vA)(!_o(e)&&".priority"!==yo(e),"Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),i=this.extractChild(n.node),o=r.compareTo(i);return 0===o?jm(e.name,n.name):o}makePost(e,n){const r=La(e),i=io.EMPTY_NODE.updateChild(this.indexPath_,r);return new bo(n,i)}maxPost(){const e=io.EMPTY_NODE.updateChild(this.indexPath_,Cw);return new bo(lp,e)}toString(){return yw(this.indexPath_,0).join("/")}}const zF=new class Eme extends x2{compare(e,n){const r=e.node.compareTo(n.node);return 0===r?jm(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return bo.MIN}maxPost(){return bo.MAX}makePost(e,n){const r=La(e);return new bo(n,r)}toString(){return".value"}};function oj(t){return{type:"value",snapshotNode:t}}function my(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function bw(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function Iw(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}class $F{constructor(e){this.index_=e}updateChild(e,n,r,i,o,s){(0,be.vA)(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const a=e.getImmediateChild(n);return a.getChild(i).equals(r.getChild(i))&&a.isEmpty()===r.isEmpty()||(null!=s&&(r.isEmpty()?e.hasChild(n)?s.trackChildChange(bw(n,a)):(0,be.vA)(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?s.trackChildChange(my(n,r)):s.trackChildChange(Iw(n,r,a))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(e,n,r){return null!=r&&(e.isLeafNode()||e.forEachChild(ia,(i,o)=>{n.hasChild(i)||r.trackChildChange(bw(i,o))}),n.isLeafNode()||n.forEachChild(ia,(i,o)=>{if(e.hasChild(i)){const s=e.getImmediateChild(i);s.equals(o)||r.trackChildChange(Iw(i,o,s))}else r.trackChildChange(my(i,o))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?io.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class Ew{constructor(e){this.indexedFilter_=new $F(e.getIndex()),this.index_=e.getIndex(),this.startPost_=Ew.getStartPost_(e),this.endPost_=Ew.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&r}updateChild(e,n,r,i,o,s){return this.matches(new bo(n,r))||(r=io.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,r,i,o,s)}updateFullNode(e,n,r){n.isLeafNode()&&(n=io.EMPTY_NODE);let i=n.withIndex(this.index_);i=i.updatePriority(io.EMPTY_NODE);const o=this;return n.forEachChild(ia,(s,a)=>{o.matches(new bo(s,a))||(i=i.updateImmediateChild(s,io.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}return e.getIndex().maxPost()}}class Tme{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{const r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new Ew(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,r,i,o,s){return this.rangedFilter_.matches(new bo(n,r))||(r=io.EMPTY_NODE),e.getImmediateChild(n).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,r,i,o,s):this.fullLimitUpdateChild_(e,n,r,o,s)}updateFullNode(e,n,r){let i;if(n.isLeafNode()||n.isEmpty())i=io.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<n.numChildren()&&n.isIndexed(this.index_)){let o;i=io.EMPTY_NODE.withIndex(this.index_),o=this.reverse_?n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let s=0;for(;o.hasNext()&&s<this.limit_;){const a=o.getNext();if(this.withinDirectionalStart(a)){if(!this.withinDirectionalEnd(a))break;i=i.updateImmediateChild(a.name,a.node),s++}}}else{let o;i=n.withIndex(this.index_),i=i.updatePriority(io.EMPTY_NODE),o=this.reverse_?i.getReverseIterator(this.index_):i.getIterator(this.index_);let s=0;for(;o.hasNext();){const a=o.getNext();s<this.limit_&&this.withinDirectionalStart(a)&&this.withinDirectionalEnd(a)?s++:i=i.updateImmediateChild(a.name,io.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,r,i,o){let s;if(this.reverse_){const I=this.index_.getCompare();s=(k,O)=>I(O,k)}else s=this.index_.getCompare();const a=e;(0,be.vA)(a.numChildren()===this.limit_,"");const l=new bo(n,r),u=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),p=this.rangedFilter_.matches(l);if(a.hasChild(n)){const I=a.getImmediateChild(n);let k=i.getChildAfterChild(this.index_,u,this.reverse_);for(;null!=k&&(k.name===n||a.hasChild(k.name));)k=i.getChildAfterChild(this.index_,k,this.reverse_);const O=null==k?1:s(k,l);if(p&&!r.isEmpty()&&O>=0)return null!=o&&o.trackChildChange(Iw(n,r,I)),a.updateImmediateChild(n,r);{null!=o&&o.trackChildChange(bw(n,I));const ge=a.updateImmediateChild(n,io.EMPTY_NODE);return null!=k&&this.rangedFilter_.matches(k)?(null!=o&&o.trackChildChange(my(k.name,k.node)),ge.updateImmediateChild(k.name,k.node)):ge}}return r.isEmpty()?e:p&&s(u,l)>=0?(null!=o&&(o.trackChildChange(bw(u.name,u.node)),o.trackChildChange(my(n,r))),a.updateImmediateChild(n,r).updateImmediateChild(u.name,io.EMPTY_NODE)):e}}class P2{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=ia}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,be.vA)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,be.vA)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:_g}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,be.vA)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,be.vA)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:lp}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,be.vA)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===ia}copy(){const e=new P2;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function GF(t,e,n){const r=t.copy();return r.startSet_=!0,void 0===e&&(e=null),r.indexStartValue_=e,null!=n?(r.startNameSet_=!0,r.indexStartName_=n):(r.startNameSet_=!1,r.indexStartName_=""),r}function WF(t,e,n){const r=t.copy();return r.endSet_=!0,void 0===e&&(e=null),r.indexEndValue_=e,void 0!==n?(r.endNameSet_=!0,r.indexEndName_=n):(r.endNameSet_=!1,r.indexEndName_=""),r}function N2(t,e){const n=t.copy();return n.index_=e,n}function sj(t){const e={};if(t.isDefault())return e;let n;if(t.index_===ia?n="$priority":t.index_===zF?n="$value":t.index_===wf?n="$key":((0,be.vA)(t.index_ instanceof jF,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=(0,be.As)(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=(0,be.As)(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+(0,be.As)(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=(0,be.As)(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+(0,be.As)(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function aj(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;""===n&&(n=t.isViewFromLeft()?"l":"r"),e.vf=n}return t.index_!==ia&&(e.i=t.index_.toString()),e}class M2 extends $9{constructor(e,n,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=pw("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return void 0!==n?"tag$"+n:((0,be.vA)(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,r,i){const o=e._path.toString();this.log_("Listen called for "+o+" "+e._queryIdentifier);const s=M2.getListenId_(e,r),a={};this.listens_[s]=a;const l=sj(e._queryParams);this.restRequest_(o+".json",l,(u,p)=>{let I=p;if(404===u&&(I=null,u=null),null===u&&this.onDataUpdate_(o,I,!1,r),(0,be.yw)(this.listens_,s)===a){let k;k=u?401===u?"permission_denied":"rest_error:"+u:"ok",i(k,null)}})}unlisten(e,n){const r=M2.getListenId_(e,n);delete this.listens_[r]}get(e){const n=sj(e._queryParams),r=e._path.toString(),i=new be.cY;return this.restRequest_(r+".json",n,(o,s)=>{let a=s;404===o&&(a=null,o=null),null===o?(this.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,o])=>{i&&i.accessToken&&(n.auth=i.accessToken),o&&o.token&&(n.ac=o.token);const s=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+(0,be.Am)(n);this.log_("Sending REST request for "+s);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&4===a.readyState){this.log_("REST Response for "+s+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=(0,be.$L)(a.responseText)}catch{Ic("Failed to parse JSON response for "+s+": "+a.responseText)}r(null,l)}else 401!==a.status&&404!==a.status&&Ic("Got unsuccessful REST response for "+s+" Status: "+a.status),r(a.status);r=null}},a.open("GET",s,!0),a.send()})}}class Rme{constructor(){this.rootNode_=io.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}function L2(){return{value:null,children:new Map}}function vy(t,e,n){if(_o(e))t.value=n,t.children.clear();else if(null!==t.value)t.value=t.value.updateChild(e,n);else{const r=yo(e);t.children.has(r)||t.children.set(r,L2()),vy(t.children.get(r),e=$s(e),n)}}function KF(t,e){if(_o(e))return t.value=null,t.children.clear(),!0;if(null!==t.value){if(t.value.isLeafNode())return!1;{const n=t.value;return t.value=null,n.forEachChild(ia,(r,i)=>{vy(t,new Is(r),i)}),KF(t,e)}}if(t.children.size>0){const n=yo(e);return e=$s(e),t.children.has(n)&&KF(t.children.get(n),e)&&t.children.delete(n),0===t.children.size}return!0}function qF(t,e,n){null!==t.value?n(e,t.value):function Pme(t,e){t.children.forEach((n,r)=>{e(r,n)})}(t,(r,i)=>{qF(i,new Is(e.toString()+"/"+r),n)})}class Nme{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&Tu(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=e,n}}class Ome{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new Nme(e);const r=1e4+2e4*Math.random();mw(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;Tu(e,(i,o)=>{o>0&&(0,be.gR)(this.statsToReport_,i)&&(n[i]=o,r=!0)}),r&&this.server_.reportStats(n),mw(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var Cf=function(t){return t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",t}(Cf||{});function JF(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}class O2{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=Cf.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(e){if(_o(this.path)){if(null!=this.affectedTree.value)return(0,be.vA)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new Is(e));return new O2(us(),n,this.revert)}}return(0,be.vA)(yo(this.path)===e,"operationForChild called for unrelated child."),new O2($s(this.path),this.affectedTree,this.revert)}}class Sw{constructor(e,n){this.source=e,this.path=n,this.type=Cf.LISTEN_COMPLETE}operationForChild(e){return _o(this.path)?new Sw(this.source,us()):new Sw(this.source,$s(this.path))}}class Gm{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=Cf.OVERWRITE}operationForChild(e){return _o(this.path)?new Gm(this.source,us(),this.snap.getImmediateChild(e)):new Gm(this.source,$s(this.path),this.snap)}}class yy{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=Cf.MERGE}operationForChild(e){if(_o(this.path)){const n=this.children.subtree(new Is(e));return n.isEmpty()?null:n.value?new Gm(this.source,us(),n.value):new yy(this.source,us(),n)}return(0,be.vA)(yo(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new yy(this.source,$s(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class bg{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(_o(e))return this.isFullyInitialized()&&!this.filtered_;const n=yo(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}class Ume{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function Tw(t,e,n,r,i,o){const s=r.filter(a=>a.type===n);s.sort((a,l)=>function Hme(t,e,n){if(null==e.childName||null==n.childName)throw(0,be.Hk)("Should only compare child_ events.");const r=new bo(e.childName,e.snapshotNode),i=new bo(n.childName,n.snapshotNode);return t.index_.compare(r,i)}(t,a,l)),s.forEach(a=>{const l=function Qme(t,e,n){return"value"===e.type||"child_removed"===e.type||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}(t,a,o);i.forEach(u=>{u.respondsTo(a.type)&&e.push(u.createEvent(l,t.query_))})})}function U2(t,e){return{eventCache:t,serverCache:e}}function Bw(t,e,n,r){return U2(new bg(e,n,r),t.serverCache)}function uj(t,e,n,r){return U2(t.eventCache,new bg(e,n,r))}function V2(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function Wm(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}let ZF;class oa{constructor(e,n=(()=>(ZF||(ZF=new Dd(Sge)),ZF))()){this.value=e,this.children=n}static fromObject(e){let n=new oa(null);return Tu(e,(r,i)=>{n=n.set(new Is(r),i)}),n}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(null!=this.value&&n(this.value))return{path:us(),value:this.value};if(_o(e))return null;{const r=yo(e),i=this.children.get(r);if(null!==i){const o=i.findRootMostMatchingPathAndValue($s(e),n);return null!=o?{path:Da(new Is(r),o.path),value:o.value}:null}return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(_o(e))return this;{const n=yo(e),r=this.children.get(n);return null!==r?r.subtree($s(e)):new oa(null)}}set(e,n){if(_o(e))return new oa(n,this.children);{const r=yo(e),o=(this.children.get(r)||new oa(null)).set($s(e),n),s=this.children.insert(r,o);return new oa(this.value,s)}}remove(e){if(_o(e))return this.children.isEmpty()?new oa(null):new oa(null,this.children);{const n=yo(e),r=this.children.get(n);if(r){const i=r.remove($s(e));let o;return o=i.isEmpty()?this.children.remove(n):this.children.insert(n,i),null===this.value&&o.isEmpty()?new oa(null):new oa(this.value,o)}return this}}get(e){if(_o(e))return this.value;{const n=yo(e),r=this.children.get(n);return r?r.get($s(e)):null}}setTree(e,n){if(_o(e))return n;{const r=yo(e),o=(this.children.get(r)||new oa(null)).setTree($s(e),n);let s;return s=o.isEmpty()?this.children.remove(r):this.children.insert(r,o),new oa(this.value,s)}}fold(e){return this.fold_(us(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((i,o)=>{r[i]=o.fold_(Da(e,i),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,us(),n)}findOnPath_(e,n,r){const i=!!this.value&&r(n,this.value);if(i)return i;if(_o(e))return null;{const o=yo(e),s=this.children.get(o);return s?s.findOnPath_($s(e),Da(n,o),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,us(),n)}foreachOnPath_(e,n,r){if(_o(e))return this;{this.value&&r(n,this.value);const i=yo(e),o=this.children.get(i);return o?o.foreachOnPath_($s(e),Da(n,i),r):new oa(null)}}foreach(e){this.foreach_(us(),e)}foreach_(e,n){this.children.inorderTraversal((r,i)=>{i.foreach_(Da(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}class Th{constructor(e){this.writeTree_=e}static empty(){return new Th(new oa(null))}}function Dw(t,e,n){if(_o(e))return new Th(new oa(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(null!=r){const i=r.path;let o=r.value;const s=nd(i,e);return o=o.updateChild(s,n),new Th(t.writeTree_.set(i,o))}{const i=new oa(n),o=t.writeTree_.setTree(e,i);return new Th(o)}}}function ek(t,e,n){let r=t;return Tu(n,(i,o)=>{r=Dw(r,Da(e,i),o)}),r}function cj(t,e){if(_o(e))return Th.empty();{const n=t.writeTree_.setTree(e,new oa(null));return new Th(n)}}function tk(t,e){return null!=Km(t,e)}function Km(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return null!=n?t.writeTree_.get(n.path).getChild(nd(n.path,e)):null}function dj(t){const e=[],n=t.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(ia,(r,i)=>{e.push(new bo(r,i))}):t.writeTree_.children.inorderTraversal((r,i)=>{null!=i.value&&e.push(new bo(r,i.value))}),e}function Ig(t,e){if(_o(e))return t;{const n=Km(t,e);return new Th(null!=n?new oa(n):t.writeTree_.subtree(e))}}function nk(t){return t.writeTree_.isEmpty()}function _y(t,e){return Aj(us(),t.writeTree_,e)}function Aj(t,e,n){if(null!=e.value)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((i,o)=>{".priority"===i?((0,be.vA)(null!==o.value,"Priority writes must always be leaf nodes"),r=o.value):n=Aj(Da(t,i),o,n)}),!n.getChild(t).isEmpty()&&null!==r&&(n=n.updateChild(Da(t,".priority"),r)),n}}function Q2(t,e){return mj(e,t)}function Kme(t,e){if(t.snap)return WA(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&WA(Da(t.path,n),e))return!0;return!1}function Yme(t){return t.visible}function hj(t,e,n){let r=Th.empty();for(let i=0;i<t.length;++i){const o=t[i];if(e(o)){const s=o.path;let a;if(o.snap)WA(n,s)?(a=nd(n,s),r=Dw(r,a,o.snap)):WA(s,n)&&(a=nd(s,n),r=Dw(r,us(),o.snap.getChild(a)));else{if(!o.children)throw(0,be.Hk)("WriteRecord should have .snap or .children");if(WA(n,s))a=nd(n,s),r=ek(r,a,o.children);else if(WA(s,n))if(a=nd(s,n),_o(a))r=ek(r,us(),o.children);else{const l=(0,be.yw)(o.children,yo(a));if(l){const u=l.getChild($s(a));r=Dw(r,us(),u)}}}}}return r}function fj(t,e,n,r,i){if(r||i){const o=Ig(t.visibleWrites,e);return!i&&nk(o)?n:i||null!=n||tk(o,us())?_y(hj(t.allWrites,function(u){return(u.visible||i)&&(!r||!~r.indexOf(u.writeId))&&(WA(u.path,e)||WA(e,u.path))},e),n||io.EMPTY_NODE):null}{const o=Km(t.visibleWrites,e);if(null!=o)return o;{const s=Ig(t.visibleWrites,e);return nk(s)?n:null!=n||tk(s,us())?_y(s,n||io.EMPTY_NODE):null}}}function H2(t,e,n,r){return fj(t.writeTree,t.treePath,e,n,r)}function rk(t,e){return function Xme(t,e,n){let r=io.EMPTY_NODE;const i=Km(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(ia,(o,s)=>{r=r.updateImmediateChild(o,s)}),r;if(n){const o=Ig(t.visibleWrites,e);return n.forEachChild(ia,(s,a)=>{const l=_y(Ig(o,new Is(s)),a);r=r.updateImmediateChild(s,l)}),dj(o).forEach(s=>{r=r.updateImmediateChild(s.name,s.node)}),r}return dj(Ig(t.visibleWrites,e)).forEach(s=>{r=r.updateImmediateChild(s.name,s.node)}),r}(t.writeTree,t.treePath,e)}function pj(t,e,n,r){return function Jme(t,e,n,r,i){(0,be.vA)(r||i,"Either existingEventSnap or existingServerSnap must exist");const o=Da(e,n);if(tk(t.visibleWrites,o))return null;{const s=Ig(t.visibleWrites,o);return nk(s)?i.getChild(n):_y(s,i.getChild(n))}}(t.writeTree,t.treePath,e,n,r)}function j2(t,e){return function eve(t,e){return Km(t.visibleWrites,e)}(t.writeTree,Da(t.treePath,e))}function ik(t,e,n){return function Zme(t,e,n,r){const i=Da(e,n),o=Km(t.visibleWrites,i);return null!=o?o:r.isCompleteForChild(n)?_y(Ig(t.visibleWrites,i),r.getNode().getImmediateChild(n)):null}(t.writeTree,t.treePath,e,n)}function gj(t,e){return mj(Da(t.treePath,e),t.writeTree)}function mj(t,e){return{treePath:t,writeTree:e}}class ive{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;(0,be.vA)("child_added"===n||"child_changed"===n||"child_removed"===n,"Only child changes supported for tracking"),(0,be.vA)(".priority"!==r,"Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const o=i.type;if("child_added"===n&&"child_removed"===o)this.changeMap.set(r,Iw(r,e.snapshotNode,i.snapshotNode));else if("child_removed"===n&&"child_added"===o)this.changeMap.delete(r);else if("child_removed"===n&&"child_changed"===o)this.changeMap.set(r,bw(r,i.oldSnap));else if("child_changed"===n&&"child_added"===o)this.changeMap.set(r,my(r,e.snapshotNode));else{if("child_changed"!==n||"child_changed"!==o)throw(0,be.Hk)("Illegal combination of changes: "+e+" occurred after "+i);this.changeMap.set(r,Iw(r,e.snapshotNode,i.oldSnap))}}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}const vj=new class ove{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}};class ok{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=null!=this.optCompleteServerCache_?new bg(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return ik(this.writes_,e,r)}}getChildAfterChild(e,n,r){const i=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Wm(this.viewCache_),o=function rve(t,e,n,r,i,o){return function tve(t,e,n,r,i,o,s){let a;const l=Ig(t.visibleWrites,e),u=Km(l,us());if(null!=u)a=u;else{if(null==n)return[];a=_y(l,n)}if(a=a.withIndex(s),a.isEmpty()||a.isLeafNode())return[];{const p=[],I=s.getCompare(),k=o?a.getReverseIteratorFrom(r,s):a.getIteratorFrom(r,s);let O=k.getNext();for(;O&&p.length<i;)0!==I(O,r)&&p.push(O),O=k.getNext();return p}}(t.writeTree,t.treePath,e,n,r,i,o)}(this.writes_,i,n,1,r,e);return 0===o.length?null:o[0]}}function yj(t,e,n,r,i,o){const s=e.eventCache;if(null!=j2(r,n))return e;{let a,l;if(_o(n))if((0,be.vA)(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const u=Wm(e),I=rk(r,u instanceof io?u:io.EMPTY_NODE);a=t.filter.updateFullNode(e.eventCache.getNode(),I,o)}else{const u=H2(r,Wm(e));a=t.filter.updateFullNode(e.eventCache.getNode(),u,o)}else{const u=yo(n);if(".priority"===u){(0,be.vA)(1===Cg(n),"Can't have a priority with additional path components");const p=s.getNode();l=e.serverCache.getNode();const I=pj(r,n,p,l);a=null!=I?t.filter.updatePriority(p,I):s.getNode()}else{const p=$s(n);let I;if(s.isCompleteForChild(u)){l=e.serverCache.getNode();const k=pj(r,n,s.getNode(),l);I=null!=k?s.getNode().getImmediateChild(u).updateChild(p,k):s.getNode().getImmediateChild(u)}else I=ik(r,u,e.serverCache);a=null!=I?t.filter.updateChild(s.getNode(),u,I,p,i,o):s.getNode()}}return Bw(e,a,s.isFullyInitialized()||_o(n),t.filter.filtersNodes())}}function z2(t,e,n,r,i,o,s,a){const l=e.serverCache;let u;const p=s?t.filter:t.filter.getIndexedFilter();if(_o(n))u=p.updateFullNode(l.getNode(),r,null);else if(p.filtersNodes()&&!l.isFiltered()){const O=l.getNode().updateChild(n,r);u=p.updateFullNode(l.getNode(),O,null)}else{const O=yo(n);if(!l.isCompleteForPath(n)&&Cg(n)>1)return e;const q=$s(n),Be=l.getNode().getImmediateChild(O).updateChild(q,r);u=".priority"===O?p.updatePriority(l.getNode(),Be):p.updateChild(l.getNode(),O,Be,q,vj,null)}const I=uj(e,u,l.isFullyInitialized()||_o(n),p.filtersNodes());return yj(t,I,n,i,new ok(i,I,o),a)}function sk(t,e,n,r,i,o,s){const a=e.eventCache;let l,u;const p=new ok(i,e,o);if(_o(n))u=t.filter.updateFullNode(e.eventCache.getNode(),r,s),l=Bw(e,u,!0,t.filter.filtersNodes());else{const I=yo(n);if(".priority"===I)u=t.filter.updatePriority(e.eventCache.getNode(),r),l=Bw(e,u,a.isFullyInitialized(),a.isFiltered());else{const k=$s(n),O=a.getNode().getImmediateChild(I);let q;if(_o(k))q=r;else{const ge=p.getCompleteChild(I);q=null!=ge?".priority"===LF(k)&&ge.getChild(q9(k)).isEmpty()?ge:ge.updateChild(k,r):io.EMPTY_NODE}l=O.equals(q)?e:Bw(e,t.filter.updateChild(a.getNode(),I,q,k,p,s),a.isFullyInitialized(),t.filter.filtersNodes())}}return l}function _j(t,e){return t.eventCache.isCompleteForChild(e)}function wj(t,e,n){return n.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function ak(t,e,n,r,i,o,s,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let u,l=e;u=_o(n)?r:new oa(null).setTree(n,r);const p=e.serverCache.getNode();return u.children.inorderTraversal((I,k)=>{if(p.hasChild(I)){const q=wj(0,e.serverCache.getNode().getImmediateChild(I),k);l=z2(t,l,new Is(I),q,i,o,s,a)}}),u.children.inorderTraversal((I,k)=>{const O=!e.serverCache.isCompleteForChild(I)&&null===k.value;if(!p.hasChild(I)&&!O){const ge=wj(0,e.serverCache.getNode().getImmediateChild(I),k);l=z2(t,l,new Is(I),ge,i,o,s,a)}}),l}class fve{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const r=this.query_._queryParams,i=new $F(r.getIndex()),o=function Bme(t){return t.loadsAllData()?new $F(t.getIndex()):t.hasLimit()?new Tme(t):new Ew(t)}(r);this.processor_=function sve(t){return{filter:t}}(o);const s=n.serverCache,a=n.eventCache,l=i.updateFullNode(io.EMPTY_NODE,s.getNode(),null),u=o.updateFullNode(io.EMPTY_NODE,a.getNode(),null),p=new bg(l,s.isFullyInitialized(),i.filtersNodes()),I=new bg(u,a.isFullyInitialized(),o.filtersNodes());this.viewCache_=U2(I,p),this.eventGenerator_=new Ume(this.query_)}get query(){return this.query_}}function mve(t,e){const n=Wm(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!_o(e)&&!n.getImmediateChild(yo(e)).isEmpty())?n.getChild(e):null}function Cj(t){return 0===t.eventRegistrations_.length}function bj(t,e,n){const r=[];if(n){(0,be.vA)(null==e,"A cancel should cancel all event registrations.");const i=t.query._path;t.eventRegistrations_.forEach(o=>{const s=o.createCancelEvent(n,i);s&&r.push(s)})}if(e){let i=[];for(let o=0;o<t.eventRegistrations_.length;++o){const s=t.eventRegistrations_[o];if(s.matches(e)){if(e.hasAnyCallback()){i=i.concat(t.eventRegistrations_.slice(o+1));break}}else i.push(s)}t.eventRegistrations_=i}else t.eventRegistrations_=[];return r}function Ij(t,e,n,r){e.type===Cf.MERGE&&null!==e.source.queryId&&((0,be.vA)(Wm(t.viewCache_),"We should always have a full cache before handling merges"),(0,be.vA)(V2(t.viewCache_),"Missing event cache, even though we have a server cache"));const i=t.viewCache_,o=function lve(t,e,n,r,i){const o=new ive;let s,a;if(n.type===Cf.OVERWRITE){const u=n;u.source.fromUser?s=sk(t,e,u.path,u.snap,r,i,o):((0,be.vA)(u.source.fromServer,"Unknown source."),a=u.source.tagged||e.serverCache.isFiltered()&&!_o(u.path),s=z2(t,e,u.path,u.snap,r,i,a,o))}else if(n.type===Cf.MERGE){const u=n;u.source.fromUser?s=function cve(t,e,n,r,i,o,s){let a=e;return r.foreach((l,u)=>{const p=Da(n,l);_j(e,yo(p))&&(a=sk(t,a,p,u,i,o,s))}),r.foreach((l,u)=>{const p=Da(n,l);_j(e,yo(p))||(a=sk(t,a,p,u,i,o,s))}),a}(t,e,u.path,u.children,r,i,o):((0,be.vA)(u.source.fromServer,"Unknown source."),a=u.source.tagged||e.serverCache.isFiltered(),s=ak(t,e,u.path,u.children,r,i,a,o))}else if(n.type===Cf.ACK_USER_WRITE){const u=n;s=u.revert?function hve(t,e,n,r,i,o){let s;if(null!=j2(r,n))return e;{const a=new ok(r,e,i),l=e.eventCache.getNode();let u;if(_o(n)||".priority"===yo(n)){let p;if(e.serverCache.isFullyInitialized())p=H2(r,Wm(e));else{const I=e.serverCache.getNode();(0,be.vA)(I instanceof io,"serverChildren would be complete if leaf node"),p=rk(r,I)}u=t.filter.updateFullNode(l,p,o)}else{const p=yo(n);let I=ik(r,p,e.serverCache);null==I&&e.serverCache.isCompleteForChild(p)&&(I=l.getImmediateChild(p)),u=null!=I?t.filter.updateChild(l,p,I,$s(n),a,o):e.eventCache.getNode().hasChild(p)?t.filter.updateChild(l,p,io.EMPTY_NODE,$s(n),a,o):l,u.isEmpty()&&e.serverCache.isFullyInitialized()&&(s=H2(r,Wm(e)),s.isLeafNode()&&(u=t.filter.updateFullNode(u,s,o)))}return s=e.serverCache.isFullyInitialized()||null!=j2(r,us()),Bw(e,u,s,t.filter.filtersNodes())}}(t,e,u.path,r,i,o):function dve(t,e,n,r,i,o,s){if(null!=j2(i,n))return e;const a=e.serverCache.isFiltered(),l=e.serverCache;if(null!=r.value){if(_o(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return z2(t,e,n,l.getNode().getChild(n),i,o,a,s);if(_o(n)){let u=new oa(null);return l.getNode().forEachChild(wf,(p,I)=>{u=u.set(new Is(p),I)}),ak(t,e,n,u,i,o,a,s)}return e}{let u=new oa(null);return r.foreach((p,I)=>{const k=Da(n,p);l.isCompleteForPath(k)&&(u=u.set(p,l.getNode().getChild(k)))}),ak(t,e,n,u,i,o,a,s)}}(t,e,u.path,u.affectedTree,r,i,o)}else{if(n.type!==Cf.LISTEN_COMPLETE)throw(0,be.Hk)("Unknown operation type: "+n.type);s=function Ave(t,e,n,r,i){const o=e.serverCache;return yj(t,uj(e,o.getNode(),o.isFullyInitialized()||_o(n),o.isFiltered()),n,r,vj,i)}(t,e,n.path,r,o)}const l=o.getChanges();return function uve(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=V2(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(oj(V2(e)))}}(e,s,l),{viewCache:s,changes:l}}(t.processor_,i,e,n,r);return function ave(t,e){(0,be.vA)(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),(0,be.vA)(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}(t.processor_,o.viewCache),(0,be.vA)(o.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=o.viewCache,Ej(t,o.changes,o.viewCache.eventCache.getNode(),null)}function Ej(t,e,n,r){return function Vme(t,e,n,r){const i=[],o=[];return e.forEach(s=>{"child_changed"===s.type&&t.index_.indexedValueChanged(s.oldSnap,s.snapshotNode)&&o.push(function Sme(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}(s.childName,s.snapshotNode))}),Tw(t,i,"child_removed",e,r,n),Tw(t,i,"child_added",e,r,n),Tw(t,i,"child_moved",o,r,n),Tw(t,i,"child_changed",e,r,n),Tw(t,i,"value",e,r,n),i}(t.eventGenerator_,e,n,r?[r]:t.eventRegistrations_)}let $2,W2;class Sj{constructor(){this.views=new Map}}function lk(t,e,n,r){const i=e.source.queryId;if(null!==i){const o=t.views.get(i);return(0,be.vA)(null!=o,"SyncTree gave us an op for an invalid query."),Ij(o,e,n,r)}{let o=[];for(const s of t.views.values())o=o.concat(Ij(s,e,n,r));return o}}function Tj(t,e,n,r,i){const s=t.views.get(e._queryIdentifier);if(!s){let a=H2(n,i?r:null),l=!1;a?l=!0:r instanceof io?(a=rk(n,r),l=!1):(a=io.EMPTY_NODE,l=!1);const u=U2(new bg(a,l,!1),new bg(r,i,!1));return new fve(e,u)}return s}function Bj(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function Eg(t,e){let n=null;for(const r of t.views.values())n=n||mve(r,e);return n}function Dj(t,e){return e._queryParams.loadsAllData()?G2(t):t.views.get(e._queryIdentifier)}function xj(t,e){return null!=Dj(t,e)}function Sg(t){return null!=G2(t)}function G2(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}let Tve=1;class Fj{constructor(e){this.listenProvider_=e,this.syncPointTree_=new oa(null),this.pendingWriteTree_=function nve(){return{visibleWrites:Th.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function uk(t,e,n,r,i){return function zme(t,e,n,r,i){(0,be.vA)(r>t.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=Dw(t.visibleWrites,e,n)),t.lastWriteId=r}(t.pendingWriteTree_,e,n,r,i),i?wy(t,new Gm({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,n)):[]}function Tg(t,e,n=!1){const r=function Gme(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}(t.pendingWriteTree_,e);if(function Wme(t,e){const n=t.allWrites.findIndex(a=>a.writeId===e);(0,be.vA)(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let i=r.visible,o=!1,s=t.allWrites.length-1;for(;i&&s>=0;){const a=t.allWrites[s];a.visible&&(s>=n&&Kme(a,r.path)?i=!1:WA(r.path,a.path)&&(o=!0)),s--}return!!i&&(o?(function qme(t){t.visibleWrites=hj(t.allWrites,Yme,us()),t.lastWriteId=t.allWrites.length>0?t.allWrites[t.allWrites.length-1].writeId:-1}(t),!0):(r.snap?t.visibleWrites=cj(t.visibleWrites,r.path):Tu(r.children,l=>{t.visibleWrites=cj(t.visibleWrites,Da(r.path,l))}),!0))}(t.pendingWriteTree_,e)){let o=new oa(null);return null!=r.snap?o=o.set(us(),!0):Tu(r.children,s=>{o=o.set(new Is(s),!0)}),wy(t,new O2(r.path,o,n))}return[]}function xw(t,e,n){return wy(t,new Gm({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,n))}function K2(t,e,n,r,i=!1){const o=e._path,s=t.syncPointTree_.get(o);let a=[];if(s&&("default"===e._queryIdentifier||xj(s,e))){const l=function Ive(t,e,n,r){const i=e._queryIdentifier,o=[];let s=[];const a=Sg(t);if("default"===i)for(const[l,u]of t.views.entries())s=s.concat(bj(u,n,r)),Cj(u)&&(t.views.delete(l),u.query._queryParams.loadsAllData()||o.push(u.query));else{const l=t.views.get(i);l&&(s=s.concat(bj(l,n,r)),Cj(l)&&(t.views.delete(i),l.query._queryParams.loadsAllData()||o.push(l.query)))}return a&&!Sg(t)&&o.push(new(function wve(){return(0,be.vA)($2,"Reference.ts has not been loaded"),$2}())(e._repo,e._path)),{removed:o,events:s}}(s,e,n,r);(function Cve(t){return 0===t.views.size})(s)&&(t.syncPointTree_=t.syncPointTree_.remove(o));const u=l.removed;if(a=l.events,!i){const p=-1!==u.findIndex(k=>k._queryParams.loadsAllData()),I=t.syncPointTree_.findOnPath(o,(k,O)=>Sg(O));if(p&&!I){const k=t.syncPointTree_.subtree(o);if(!k.isEmpty()){const O=function Pve(t){return t.fold((e,n,r)=>{if(n&&Sg(n))return[G2(n)];{let i=[];return n&&(i=Bj(n)),Tu(r,(o,s)=>{i=i.concat(s)}),i}})}(k);for(let q=0;q<O.length;++q){const ge=O[q],Be=ge.query,Ye=Nj(t,ge);t.listenProvider_.startListening(kw(Be),Fw(t,Be),Ye.hashFn,Ye.onComplete)}}}!I&&u.length>0&&!r&&(p?t.listenProvider_.stopListening(kw(e),null):u.forEach(k=>{const O=t.queryToTagMap.get(Y2(k));t.listenProvider_.stopListening(kw(k),O)}))}!function Nve(t,e){for(let n=0;n<e.length;++n){const r=e[n];if(!r._queryParams.loadsAllData()){const i=Y2(r),o=t.queryToTagMap.get(i);t.queryToTagMap.delete(i),t.tagToQueryMap.delete(o)}}}(t,u)}return a}function kj(t,e,n,r){const i=dk(t,r);if(null!=i){const o=Ak(i),s=o.path,a=o.queryId,l=nd(s,e);return hk(t,s,new Gm(JF(a),l,n))}return[]}function ck(t,e,n,r=!1){const i=e._path;let o=null,s=!1;t.syncPointTree_.foreachOnPath(i,(k,O)=>{const q=nd(k,i);o=o||Eg(O,q),s=s||Sg(O)});let l,a=t.syncPointTree_.get(i);a?(s=s||Sg(a),o=o||Eg(a,us())):(a=new Sj,t.syncPointTree_=t.syncPointTree_.set(i,a)),null!=o?l=!0:(l=!1,o=io.EMPTY_NODE,t.syncPointTree_.subtree(i).foreachChild((O,q)=>{const ge=Eg(q,us());ge&&(o=o.updateImmediateChild(O,ge))}));const u=xj(a,e);if(!u&&!e._queryParams.loadsAllData()){const k=Y2(e);(0,be.vA)(!t.queryToTagMap.has(k),"View does not exist, but we have a tag");const O=function Mve(){return Tve++}();t.queryToTagMap.set(k,O),t.tagToQueryMap.set(O,k)}let I=function bve(t,e,n,r,i,o){const s=Tj(t,e,r,i,o);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,s),function vve(t,e){t.eventRegistrations_.push(e)}(s,n),function yve(t,e){const n=t.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(ia,(o,s)=>{r.push(my(o,s))}),n.isFullyInitialized()&&r.push(oj(n.getNode())),Ej(t,r,n.getNode(),e)}(s,n)}(a,e,n,Q2(t.pendingWriteTree_,i),o,l);if(!u&&!s&&!r){const k=Dj(a,e);I=I.concat(function Lve(t,e,n){const r=e._path,i=Fw(t,e),o=Nj(t,n),s=t.listenProvider_.startListening(kw(e),i,o.hashFn,o.onComplete),a=t.syncPointTree_.subtree(r);if(i)(0,be.vA)(!Sg(a.value),"If we're adding a query, it shouldn't be shadowed");else{const l=a.fold((u,p,I)=>{if(!_o(u)&&p&&Sg(p))return[G2(p).query];{let k=[];return p&&(k=k.concat(Bj(p).map(O=>O.query))),Tu(I,(O,q)=>{k=k.concat(q)}),k}});for(let u=0;u<l.length;++u){const p=l[u];t.listenProvider_.stopListening(kw(p),Fw(t,p))}}return s}(t,e,k))}return I}function q2(t,e,n){const i=t.pendingWriteTree_,o=t.syncPointTree_.findOnPath(e,(s,a)=>{const u=Eg(a,nd(s,e));if(u)return u});return fj(i,e,o,n,!0)}function wy(t,e){return Rj(e,t.syncPointTree_,null,Q2(t.pendingWriteTree_,us()))}function Rj(t,e,n,r){if(_o(t.path))return Pj(t,e,n,r);{const i=e.get(us());null==n&&null!=i&&(n=Eg(i,us()));let o=[];const s=yo(t.path),a=t.operationForChild(s),l=e.children.get(s);if(l&&a){const u=n?n.getImmediateChild(s):null,p=gj(r,s);o=o.concat(Rj(a,l,u,p))}return i&&(o=o.concat(lk(i,t,r,n))),o}}function Pj(t,e,n,r){const i=e.get(us());null==n&&null!=i&&(n=Eg(i,us()));let o=[];return e.children.inorderTraversal((s,a)=>{const l=n?n.getImmediateChild(s):null,u=gj(r,s),p=t.operationForChild(s);p&&(o=o.concat(Pj(p,a,l,u)))}),i&&(o=o.concat(lk(i,t,r,n))),o}function Nj(t,e){const n=e.query,r=Fw(t,n);return{hashFn:()=>(function pve(t){return t.viewCache_.serverCache.getNode()}(e)||io.EMPTY_NODE).hash(),onComplete:i=>{if("ok"===i)return r?function Fve(t,e,n){const r=dk(t,n);if(r){const i=Ak(r),o=i.path,s=i.queryId,a=nd(o,e);return hk(t,o,new Sw(JF(s),a))}return[]}(t,n._path,r):function xve(t,e){return wy(t,new Sw({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e))}(t,n._path);{const o=function Dge(t,e){let n="Unknown Error";"too_big"===t?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===t?n="Client doesn't have permission to access the desired data.":"unavailable"===t&&(n="The service is unavailable");const r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}(i,n);return K2(t,n,null,o)}}}}function Fw(t,e){const n=Y2(e);return t.queryToTagMap.get(n)}function Y2(t){return t._path.toString()+"$"+t._queryIdentifier}function dk(t,e){return t.tagToQueryMap.get(e)}function Ak(t){const e=t.indexOf("$");return(0,be.vA)(-1!==e&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new Is(t.substr(0,e))}}function hk(t,e,n){const r=t.syncPointTree_.get(e);return(0,be.vA)(r,"Missing sync point for query tag that we're tracking"),lk(r,n,Q2(t.pendingWriteTree_,e),null)}function kw(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(function Sve(){return(0,be.vA)(W2,"Reference.ts has not been loaded"),W2}())(t._repo,t._path):t}class fk{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new fk(n)}node(){return this.node_}}class pk{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=Da(this.path_,e);return new pk(this.syncTree_,n)}node(){return q2(this.syncTree_,this.path_)}}const Ove=function(t){return(t=t||{}).timestamp=t.timestamp||(new Date).getTime(),t},Mj=function(t,e,n){return t&&"object"==typeof t?((0,be.vA)(".sv"in t,"Unexpected leaf node or priority contents"),"string"==typeof t[".sv"]?Uve(t[".sv"],e,n):"object"==typeof t[".sv"]?Vve(t[".sv"],e):void(0,be.vA)(!1,"Unexpected server value: "+JSON.stringify(t,null,2))):t},Uve=function(t,e,n){if("timestamp"===t)return n.timestamp;(0,be.vA)(!1,"Unexpected server value: "+t)},Vve=function(t,e,n){t.hasOwnProperty("increment")||(0,be.vA)(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;"number"!=typeof r&&(0,be.vA)(!1,"Unexpected increment value: "+r);const i=e.node();if((0,be.vA)(null!==i&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const s=i.getValue();return"number"!=typeof s?r:s+r},Lj=function(t,e,n,r){return mk(e,new pk(n,t),r)},gk=function(t,e,n){return mk(t,new fk(e),n)};function mk(t,e,n){const r=t.getPriority().val(),i=Mj(r,e.getImmediateChild(".priority"),n);let o;if(t.isLeafNode()){const s=t,a=Mj(s.getValue(),e,n);return a!==s.getValue()||i!==s.getPriority().val()?new py(a,La(i)):t}{const s=t;return o=s,i!==s.getPriority().val()&&(o=o.updatePriority(new py(i))),s.forEachChild(ia,(a,l)=>{const u=mk(l,e.getImmediateChild(a),n);u!==l&&(o=o.updateImmediateChild(a,u))}),o}}class vk{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function X2(t,e){let n=e instanceof Is?e:new Is(e),r=t,i=yo(n);for(;null!==i;){const o=(0,be.yw)(r.node.children,i)||{children:{},childCount:0};r=new vk(i,r,o),n=$s(n),i=yo(n)}return r}function qm(t){return t.node.value}function yk(t,e){t.node.value=e,_k(t)}function Oj(t){return t.node.childCount>0}function J2(t,e){Tu(t.node.children,(n,r)=>{e(new vk(n,t,r))})}function Uj(t,e,n,r){n&&!r&&e(t),J2(t,i=>{Uj(i,e,!0,r)}),n&&r&&e(t)}function Rw(t){return new Is(null===t.parent?t.name:Rw(t.parent)+"/"+t.name)}function _k(t){null!==t.parent&&function jve(t,e,n){const r=function Qve(t){return void 0===qm(t)&&!Oj(t)}(n),i=(0,be.gR)(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,_k(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,_k(t))}(t.parent,t.name,t)}const zve=/[\[\].#$\/\u0000-\u001F\u007F]/,$ve=/[\[\].#$\u0000-\u001F\u007F]/,wk=10485760,Z2=function(t){return"string"==typeof t&&0!==t.length&&!zve.test(t)},Vj=function(t){return"string"==typeof t&&0!==t.length&&!$ve.test(t)},Pw=function(t){return null===t||"string"==typeof t||"number"==typeof t&&!S2(t)||t&&"object"==typeof t&&(0,be.gR)(t,".sv")},bf=function(t,e,n,r){r&&void 0===e||Nw((0,be.dI)(t,"value"),e,n)},Nw=function(t,e,n){const r=n instanceof Is?new lme(n,t):n;if(void 0===e)throw new Error(t+"contains undefined "+zm(r));if("function"==typeof e)throw new Error(t+"contains a function "+zm(r)+" with contents = "+e.toString());if(S2(e))throw new Error(t+"contains "+e.toString()+" "+zm(r));if("string"==typeof e&&e.length>wk/3&&(0,be.OE)(e)>wk)throw new Error(t+"contains a string greater than "+wk+" utf8 bytes "+zm(r)+" ('"+e.substring(0,50)+"...')");if(e&&"object"==typeof e){let i=!1,o=!1;if(Tu(e,(s,a)=>{if(".value"===s)i=!0;else if(".priority"!==s&&".sv"!==s&&(o=!0,!Z2(s)))throw new Error(t+" contains an invalid key ("+s+") "+zm(r)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function ume(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=(0,be.OE)(e),Y9(t)})(r,s),Nw(t,a,r),function cme(t){const e=t.parts_.pop();t.byteLength_-=(0,be.OE)(e),t.parts_.length>0&&(t.byteLength_-=1)}(r)}),i&&o)throw new Error(t+' contains ".value" child '+zm(r)+" in addition to actual children.")}},Qj=function(t,e,n,r){if(r&&void 0===e)return;const i=(0,be.dI)(t,"values");if(!e||"object"!=typeof e||Array.isArray(e))throw new Error(i+" must be an object containing the children to replace.");const o=[];Tu(e,(s,a)=>{const l=new Is(s);if(Nw(i,a,Da(n,l)),".priority"===LF(l)&&!Pw(a))throw new Error(i+"contains an invalid value for '"+l.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");o.push(l)}),function(t,e){let n,r;for(n=0;n<e.length;n++){r=e[n];const o=yw(r);for(let s=0;s<o.length;s++)if((".priority"!==o[s]||s!==o.length-1)&&!Z2(o[s]))throw new Error(t+"contains an invalid key ("+o[s]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}e.sort(ame);let i=null;for(n=0;n<e.length;n++){if(r=e[n],null!==i&&WA(i,r))throw new Error(t+"contains a path "+i.toString()+" that is ancestor of another path "+r.toString());i=r}}(i,o)},Ck=function(t,e,n){if(!n||void 0!==e){if(S2(e))throw new Error((0,be.dI)(t,"priority")+"is "+e.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!Pw(e))throw new Error((0,be.dI)(t,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},Mw=function(t,e,n,r){if(!(r&&void 0===n||Z2(n)))throw new Error((0,be.dI)(t,e)+'was an invalid key = "'+n+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},Lw=function(t,e,n,r){if(!(r&&void 0===n||Vj(n)))throw new Error((0,be.dI)(t,e)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},Kve=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),Lw(t,e,n,r)},KA=function(t,e){if(".info"===yo(e))throw new Error(t+" failed = Can't modify data under /.info/")},Hj=function(t,e){const n=e.path.toString();if("string"!=typeof e.repoInfo.host||0===e.repoInfo.host.length||!Z2(e.repoInfo.namespace)&&"localhost"!==e.repoInfo.host.split(":")[0]||0!==n.length&&!function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),Vj(t)}(n))throw new Error((0,be.dI)(t,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class qve{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function eE(t,e){let n=null;for(let r=0;r<e.length;r++){const i=e[r],o=i.getPath();null!==n&&!OF(o,n.path)&&(t.eventLists_.push(n),n=null),null===n&&(n={events:[],path:o}),n.events.push(i)}n&&t.eventLists_.push(n)}function jj(t,e,n){eE(t,n),zj(t,r=>OF(r,e))}function pA(t,e,n){eE(t,n),zj(t,r=>WA(r,e)||WA(e,r))}function zj(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const i=t.eventLists_[r];i&&(e(i.path)?(Yve(t.eventLists_[r]),t.eventLists_[r]=null):n=!1)}n&&(t.eventLists_=[]),t.recursionDepth_--}function Yve(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(null!==n){t.events[e]=null;const r=n.getEventRunner();Hm&&Su("event: "+n.toString()),hy(r)}}}const $j="repo_interrupt",Xve=25;class Jve{constructor(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new qve,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=L2(),this.transactionQueueTree_=new vk,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function Gj(t){const n=t.infoData_.getNode(new Is(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+n}function Ow(t){return Ove({timestamp:Gj(t)})}function Wj(t,e,n,r,i){t.dataUpdateCount++;const o=new Is(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let s=[];if(i)if(r){const l=(0,be.kH)(n,u=>La(u));s=function kve(t,e,n,r){const i=dk(t,r);if(i){const o=Ak(i),s=o.path,a=o.queryId,l=nd(s,e),u=oa.fromObject(n);return hk(t,s,new yy(JF(a),l,u))}return[]}(t.serverSyncTree_,o,l,i)}else{const l=La(n);s=kj(t.serverSyncTree_,o,l,i)}else if(r){const l=(0,be.kH)(n,u=>La(u));s=function Dve(t,e,n){const r=oa.fromObject(n);return wy(t,new yy({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,r))}(t.serverSyncTree_,o,l)}else{const l=La(n);s=xw(t.serverSyncTree_,o,l)}let a=o;s.length>0&&(a=by(t,o)),pA(t.eventQueue_,a,s)}function Kj(t,e){bk(t,"connected",e),!1===e&&function r0e(t){Cy(t,"onDisconnectEvents");const e=Ow(t),n=L2();qF(t.onDisconnect_,us(),(i,o)=>{const s=Lj(i,o,t.serverSyncTree_,e);vy(n,i,s)});let r=[];qF(n,us(),(i,o)=>{r=r.concat(xw(t.serverSyncTree_,i,o));const s=Tk(t,i);by(t,s)}),t.onDisconnect_=L2(),pA(t.eventQueue_,us(),r)}(t)}function bk(t,e,n){const r=new Is("/.info/"+e),i=La(n);t.infoData_.updateSnapshot(r,i);const o=xw(t.infoSyncTree_,r,i);pA(t.eventQueue_,r,o)}function tE(t){return t.nextWriteId_++}function Ik(t,e,n,r,i){Cy(t,"set",{path:e.toString(),value:n,priority:r});const o=Ow(t),s=La(n,r),a=q2(t.serverSyncTree_,e),l=gk(s,a,o),u=tE(t),p=uk(t.serverSyncTree_,e,l,u,!0);eE(t.eventQueue_,p),t.server_.put(e.toString(),s.val(!0),(k,O)=>{const q="ok"===k;q||Ic("set at "+e+" failed: "+k);const ge=Tg(t.serverSyncTree_,u,!q);pA(t.eventQueue_,e,ge),Bg(0,i,k,O)});const I=Tk(t,e);by(t,I),pA(t.eventQueue_,I,[])}function i0e(t,e,n){t.server_.onDisconnectCancel(e.toString(),(r,i)=>{"ok"===r&&KF(t.onDisconnect_,e),Bg(0,n,r,i)})}function qj(t,e,n,r){const i=La(n);t.server_.onDisconnectPut(e.toString(),i.val(!0),(o,s)=>{"ok"===o&&vy(t.onDisconnect_,e,i),Bg(0,r,o,s)})}function Ek(t,e,n){let r;r=".info"===yo(e._path)?K2(t.infoSyncTree_,e,n):K2(t.serverSyncTree_,e,n),jj(t.eventQueue_,e._path,r)}function Yj(t){t.persistentConnection_&&t.persistentConnection_.interrupt($j)}function Cy(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),Su(n,...e)}function Bg(t,e,n,r){e&&hy(()=>{if("ok"===n)e(null);else{const i=(n||"error").toUpperCase();let o=i;r&&(o+=": "+r);const s=new Error(o);s.code=i,e(s)}})}function Sk(t,e,n){return q2(t.serverSyncTree_,e,n)||io.EMPTY_NODE}function nE(t,e=t.transactionQueueTree_){if(e||rE(t,e),qm(e)){const n=Jj(t,e);(0,be.vA)(n.length>0,"Sending zero length transaction queue"),n.every(i=>0===i.status)&&function c0e(t,e,n){const r=n.map(u=>u.currentWriteId),i=Sk(t,e,r);let o=i;const s=i.hash();for(let u=0;u<n.length;u++){const p=n[u];(0,be.vA)(0===p.status,"tryToSendTransactionQueue_: items in queue should all be run."),p.status=1,p.retryCount++;const I=nd(e,p.path);o=o.updateChild(I,p.currentOutputSnapshotRaw)}const a=o.val(!0),l=e;t.server_.put(l.toString(),a,u=>{Cy(t,"transaction put response",{path:l.toString(),status:u});let p=[];if("ok"===u){const I=[];for(let k=0;k<n.length;k++)n[k].status=2,p=p.concat(Tg(t.serverSyncTree_,n[k].currentWriteId)),n[k].onComplete&&I.push(()=>n[k].onComplete(null,!0,n[k].currentOutputSnapshotResolved)),n[k].unwatcher();rE(t,X2(t.transactionQueueTree_,e)),nE(t,t.transactionQueueTree_),pA(t.eventQueue_,e,p);for(let k=0;k<I.length;k++)hy(I[k])}else{if("datastale"===u)for(let I=0;I<n.length;I++)n[I].status=3===n[I].status?4:0;else{Ic("transaction at "+l.toString()+" failed: "+u);for(let I=0;I<n.length;I++)n[I].status=4,n[I].abortReason=u}by(t,e)}},s)}(t,Rw(e),n)}else Oj(e)&&J2(e,n=>{nE(t,n)})}function by(t,e){const n=Xj(t,e),r=Rw(n);return function d0e(t,e,n){if(0===e.length)return;const r=[];let i=[];const s=e.filter(a=>0===a.status).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){const l=e[a],u=nd(n,l.path);let I,p=!1;if((0,be.vA)(null!==u,"rerunTransactionsUnderNode_: relativePath should not be null."),4===l.status)p=!0,I=l.abortReason,i=i.concat(Tg(t.serverSyncTree_,l.currentWriteId,!0));else if(0===l.status)if(l.retryCount>=Xve)p=!0,I="maxretry",i=i.concat(Tg(t.serverSyncTree_,l.currentWriteId,!0));else{const k=Sk(t,l.path,s);l.currentInputSnapshot=k;const O=e[a].update(k.val());if(void 0!==O){Nw("transaction failed: Data returned ",O,l.path);let q=La(O);"object"==typeof O&&null!=O&&(0,be.gR)(O,".priority")||(q=q.updatePriority(k.getPriority()));const Be=l.currentWriteId,Ye=Ow(t),tt=gk(q,k,Ye);l.currentOutputSnapshotRaw=q,l.currentOutputSnapshotResolved=tt,l.currentWriteId=tE(t),s.splice(s.indexOf(Be),1),i=i.concat(uk(t.serverSyncTree_,l.path,tt,l.currentWriteId,l.applyLocally)),i=i.concat(Tg(t.serverSyncTree_,Be,!0))}else p=!0,I="nodata",i=i.concat(Tg(t.serverSyncTree_,l.currentWriteId,!0))}pA(t.eventQueue_,n,i),i=[],p&&(e[a].status=2,setTimeout(e[a].unwatcher,Math.floor(0)),e[a].onComplete&&r.push("nodata"===I?()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot):()=>e[a].onComplete(new Error(I),!1,null)))}rE(t,t.transactionQueueTree_);for(let a=0;a<r.length;a++)hy(r[a]);nE(t,t.transactionQueueTree_)}(t,Jj(t,n),r),r}function Xj(t,e){let n,r=t.transactionQueueTree_;for(n=yo(e);null!==n&&void 0===qm(r);)r=X2(r,n),n=yo(e=$s(e));return r}function Jj(t,e){const n=[];return Zj(t,e,n),n.sort((r,i)=>r.order-i.order),n}function Zj(t,e,n){const r=qm(e);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);J2(e,i=>{Zj(t,i,n)})}function rE(t,e){const n=qm(e);if(n){let r=0;for(let i=0;i<n.length;i++)2!==n[i].status&&(n[r]=n[i],r++);n.length=r,yk(e,n.length>0?n:void 0)}J2(e,r=>{rE(t,r)})}function Tk(t,e){const n=Rw(Xj(t,e)),r=X2(t.transactionQueueTree_,e);return function Hve(t,e,n){let r=n?t:t.parent;for(;null!==r;){if(e(r))return!0;r=r.parent}}(r,i=>{Bk(t,i)}),Bk(t,r),Uj(r,i=>{Bk(t,i)}),n}function Bk(t,e){const n=qm(e);if(n){const r=[];let i=[],o=-1;for(let s=0;s<n.length;s++)3===n[s].status||(1===n[s].status?((0,be.vA)(o===s-1,"All SENT items should be at beginning of queue."),o=s,n[s].status=3,n[s].abortReason="set"):((0,be.vA)(0===n[s].status,"Unexpected transaction status in abort"),n[s].unwatcher(),i=i.concat(Tg(t.serverSyncTree_,n[s].currentWriteId,!0)),n[s].onComplete&&r.push(n[s].onComplete.bind(null,new Error("set"),!1,null))));-1===o?yk(e,void 0):n.length=o+1,pA(t.eventQueue_,Rw(e),i);for(let s=0;s<r.length;s++)hy(r[s])}}const Dk=function(t,e){const n=f0e(t),r=n.namespace;return"firebase.com"===n.domain&&_f(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||"undefined"===r)&&"localhost"!==n.domain&&_f("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&Ic("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new FF(n.host,n.secure,r,"ws"===n.scheme||"wss"===n.scheme,e,"",r!==n.subdomain),path:new Is(n.pathString)}},f0e=function(t){let e="",n="",r="",i="",o="",s=!0,a="https",l=443;if("string"==typeof t){let u=t.indexOf("//");u>=0&&(a=t.substring(0,u-1),t=t.substring(u+2));let p=t.indexOf("/");-1===p&&(p=t.length);let I=t.indexOf("?");-1===I&&(I=t.length),e=t.substring(0,Math.min(p,I)),p<I&&(i=function A0e(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}(t.substring(p,I)));const k=function h0e(t){const e={};"?"===t.charAt(0)&&(t=t.substring(1));for(const n of t.split("&")){if(0===n.length)continue;const r=n.split("=");2===r.length?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):Ic(`Invalid query segment '${n}' in query '${t}'`)}return e}(t.substring(Math.min(t.length,I)));u=e.indexOf(":"),u>=0?(s="https"===a||"wss"===a,l=parseInt(e.substring(u+1),10)):u=e.length;const O=e.slice(0,u);if("localhost"===O.toLowerCase())n="localhost";else if(O.split(".").length<=2)n=O;else{const q=e.indexOf(".");r=e.substring(0,q).toLowerCase(),n=e.substring(q+1),o=r}"ns"in k&&(o=k.ns)}return{host:e,port:l,domain:n,subdomain:r,secure:s,scheme:a,pathString:i,namespace:o}},ez="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",p0e=function(){let t=0;const e=[];return function(n){const r=n===t;let i;t=n;const o=new Array(8);for(i=7;i>=0;i--)o[i]=ez.charAt(n%64),n=Math.floor(n/64);(0,be.vA)(0===n,"Cannot push at time == 0");let s=o.join("");if(r){for(i=11;i>=0&&63===e[i];i--)e[i]=0;e[i]++}else for(i=0;i<12;i++)e[i]=Math.floor(64*Math.random());for(i=0;i<12;i++)s+=ez.charAt(e[i]);return(0,be.vA)(20===s.length,"nextPushId: Length should be 20."),s}}();class tz{constructor(e,n,r,i){this.eventType=e,this.eventRegistration=n,this.snapshot=r,this.prevName=i}getPath(){const e=this.snapshot.ref;return"value"===this.eventType?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,be.As)(this.snapshot.exportVal())}}class nz{constructor(e,n,r){this.eventRegistration=e,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class xk{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return(0,be.vA)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}class rz{constructor(e,n){this._repo=e,this._path=n}cancel(){const e=new be.cY;return i0e(this._repo,this._path,e.wrapCallback(()=>{})),e.promise}remove(){KA("OnDisconnect.remove",this._path);const e=new be.cY;return qj(this._repo,this._path,null,e.wrapCallback(()=>{})),e.promise}set(e){KA("OnDisconnect.set",this._path),bf("OnDisconnect.set",e,this._path,!1);const n=new be.cY;return qj(this._repo,this._path,e,n.wrapCallback(()=>{})),n.promise}setWithPriority(e,n){KA("OnDisconnect.setWithPriority",this._path),bf("OnDisconnect.setWithPriority",e,this._path,!1),Ck("OnDisconnect.setWithPriority",n,!1);const r=new be.cY;return function o0e(t,e,n,r,i){const o=La(n,r);t.server_.onDisconnectPut(e.toString(),o.val(!0),(s,a)=>{"ok"===s&&vy(t.onDisconnect_,e,o),Bg(0,i,s,a)})}(this._repo,this._path,e,n,r.wrapCallback(()=>{})),r.promise}update(e){KA("OnDisconnect.update",this._path),Qj("OnDisconnect.update",e,this._path,!1);const n=new be.cY;return function s0e(t,e,n,r){if((0,be.Im)(n))return Su("onDisconnect().update() called with empty data.  Don't do anything."),void Bg(0,r,"ok",void 0);t.server_.onDisconnectMerge(e.toString(),n,(i,o)=>{"ok"===i&&Tu(n,(s,a)=>{const l=La(a);vy(t.onDisconnect_,Da(e,s),l)}),Bg(0,r,i,o)})}(this._repo,this._path,e,n.wrapCallback(()=>{})),n.promise}}class xd{constructor(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return _o(this._path)?null:LF(this._path)}get ref(){return new qA(this._repo,this._path)}get _queryIdentifier(){const e=aj(this._queryParams),n=DF(e);return"{}"===n?"default":n}get _queryObject(){return aj(this._queryParams)}isEqual(e){if(!((e=(0,be.Ku)(e))instanceof xd))return!1;const n=this._repo===e._repo,r=OF(this._path,e._path);return n&&r&&this._queryIdentifier===e._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function sme(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)""!==t.pieces_[n]&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}(this._path)}}function iE(t,e){if(!0===t._orderByCalled)throw new Error(e+": You can't combine multiple orderBy calls.")}function Dg(t){let e=null,n=null;if(t.hasStart()&&(e=t.getIndexStartValue()),t.hasEnd()&&(n=t.getIndexEndValue()),t.getIndex()===wf){const r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(t.hasStart()){if(t.getIndexStartName()!==_g)throw new Error(r);if("string"!=typeof e)throw new Error(i)}if(t.hasEnd()){if(t.getIndexEndName()!==lp)throw new Error(r);if("string"!=typeof n)throw new Error(i)}}else if(t.getIndex()===ia){if(null!=e&&!Pw(e)||null!=n&&!Pw(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,be.vA)(t.getIndex()instanceof jF||t.getIndex()===zF,"unknown index type."),null!=e&&"object"==typeof e||null!=n&&"object"==typeof n)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function oE(t){if(t.hasStart()&&t.hasEnd()&&t.hasLimit()&&!t.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class qA extends xd{constructor(e,n){super(e,n,new P2,!1)}get parent(){const e=q9(this._path);return null===e?null:new qA(this._repo,e)}get root(){let e=this;for(;null!==e.parent;)e=e.parent;return e}}class Ym{constructor(e,n,r){this._node=e,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new Is(e),r=cp(this.ref,e);return new Ym(this._node.getChild(n),r,ia)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(r,i)=>e(new Ym(i,cp(this.ref,r),ia)))}hasChild(e){const n=new Is(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function iz(t,e){return(t=(0,be.Ku)(t))._checkNotDeleted("ref"),void 0!==e?cp(t._root,e):t._root}function oz(t,e){(t=(0,be.Ku)(t))._checkNotDeleted("refFromURL");const n=Dk(e,t._repo.repoInfo_.nodeAdmin);Hj("refFromURL",n);const r=n.repoInfo;return!t._repo.repoInfo_.isCustomHost()&&r.host!==t._repo.repoInfo_.host&&_f("refFromURL: Host name does not match the current database: (found "+r.host+" but expected "+t._repo.repoInfo_.host+")"),iz(t,n.path.toString())}function cp(t,e){return null===yo((t=(0,be.Ku)(t))._path)?Kve("child","path",e,!1):Lw("child","path",e,!1),new qA(t._repo,Da(t._path,e))}function Fk(t,e){t=(0,be.Ku)(t),KA("set",t._path),bf("set",e,t._path,!1);const n=new be.cY;return Ik(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}function _0e(t,e){Qj("update",e,t._path,!1);const n=new be.cY;return function n0e(t,e,n,r){Cy(t,"update",{path:e.toString(),value:n});let i=!0;const o=Ow(t),s={};if(Tu(n,(a,l)=>{i=!1,s[a]=Lj(Da(e,a),La(l),t.serverSyncTree_,o)}),i)Su("update() called with empty data.  Don't do anything."),Bg(0,r,"ok",void 0);else{const a=tE(t),l=function Bve(t,e,n,r){!function $me(t,e,n,r){(0,be.vA)(r>t.lastWriteId,"Stacking an older merge on top of newer ones"),t.allWrites.push({path:e,children:n,writeId:r,visible:!0}),t.visibleWrites=ek(t.visibleWrites,e,n),t.lastWriteId=r}(t.pendingWriteTree_,e,n,r);const i=oa.fromObject(n);return wy(t,new yy({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,i))}(t.serverSyncTree_,e,s,a);eE(t.eventQueue_,l),t.server_.merge(e.toString(),n,(u,p)=>{const I="ok"===u;I||Ic("update at "+e+" failed: "+u);const k=Tg(t.serverSyncTree_,a,!I),O=k.length>0?by(t,e):e;pA(t.eventQueue_,O,k),Bg(0,r,u,p)}),Tu(n,u=>{const p=Tk(t,Da(e,u));by(t,p)}),pA(t.eventQueue_,e,[])}}(t._repo,t._path,e,n.wrapCallback(()=>{})),n.promise}function kk(t){t=(0,be.Ku)(t);const e=new xk(()=>{}),n=new Uw(e);return function t0e(t,e,n){const r=function Rve(t,e){const n=e._path;let r=null;t.syncPointTree_.foreachOnPath(n,(u,p)=>{const I=nd(u,n);r=r||Eg(p,I)});let i=t.syncPointTree_.get(n);i?r=r||Eg(i,us()):(i=new Sj,t.syncPointTree_=t.syncPointTree_.set(n,i));const o=null!=r,s=o?new bg(r,!0,!1):null;return function gve(t){return V2(t.viewCache_)}(Tj(i,e,Q2(t.pendingWriteTree_,e._path),o?s.getNode():io.EMPTY_NODE,o))}(t.serverSyncTree_,e);return null!=r?Promise.resolve(r):t.server_.get(e).then(i=>{const o=La(i).withIndex(e._queryParams.getIndex());let s;if(ck(t.serverSyncTree_,e,n,!0),e._queryParams.loadsAllData())s=xw(t.serverSyncTree_,e._path,o);else{const a=Fw(t.serverSyncTree_,e);s=kj(t.serverSyncTree_,e._path,o,a)}return pA(t.eventQueue_,e._path,s),K2(t.serverSyncTree_,e,n,null,!0),o},i=>(Cy(t,"get for query "+(0,be.As)(e)+" failed: "+i),Promise.reject(new Error(i))))}(t._repo,t,n).then(r=>new Ym(r,new qA(t._repo,t._path),t._queryParams.getIndex()))}class Uw{constructor(e){this.callbackContext=e}respondsTo(e){return"value"===e}createEvent(e,n){const r=n._queryParams.getIndex();return new tz("value",this,new Ym(e.snapshotNode,new qA(n._repo,n._path),r))}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new nz(this,e,n):null}matches(e){return e instanceof Uw&&(!e.callbackContext||!this.callbackContext||e.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class sE{constructor(e,n){this.eventType=e,this.callbackContext=n}respondsTo(e){let n="children_added"===e?"child_added":e;return n="children_removed"===n?"child_removed":n,this.eventType===n}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new nz(this,e,n):null}createEvent(e,n){(0,be.vA)(null!=e.childName,"Child events should have a childName.");const r=cp(new qA(n._repo,n._path),e.childName),i=n._queryParams.getIndex();return new tz(e.type,this,new Ym(e.snapshotNode,r,i),e.prevName)}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof sE&&this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function Vw(t,e,n,r,i){let o;if("object"==typeof r&&(o=void 0,i=r),"function"==typeof r&&(o=r),i&&i.onlyOnce){const l=n,u=(p,I)=>{Ek(t._repo,t,a),l(p,I)};u.userCallback=n.userCallback,u.context=n.context,n=u}const s=new xk(n,o||void 0),a="value"===e?new Uw(s):new sE(e,s);return function a0e(t,e,n){let r;r=".info"===yo(e._path)?ck(t.infoSyncTree_,e,n):ck(t.serverSyncTree_,e,n),jj(t.eventQueue_,e._path,r)}(t._repo,t,a),()=>Ek(t._repo,t,a)}function Rk(t,e,n,r){return Vw(t,"value",e,n,r)}function sz(t,e,n,r){return Vw(t,"child_added",e,n,r)}function az(t,e,n,r){return Vw(t,"child_changed",e,n,r)}function lz(t,e,n,r){return Vw(t,"child_moved",e,n,r)}function uz(t,e,n,r){return Vw(t,"child_removed",e,n,r)}function cz(t,e,n){let r=null;const i=n?new xk(n):null;"value"===e?r=new Uw(i):e&&(r=new sE(e,i)),Ek(t._repo,t,r)}class Bh{}class dz extends Bh{constructor(e,n){super(),this._value=e,this._key=n,this.type="endAt"}_apply(e){bf("endAt",this._value,e._path,!0);const n=WF(e._queryParams,this._value,this._key);if(oE(n),Dg(n),e._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new xd(e._repo,e._path,n,e._orderByCalled)}}class C0e extends Bh{constructor(e,n){super(),this._value=e,this._key=n,this.type="endBefore"}_apply(e){bf("endBefore",this._value,e._path,!1);const n=function kme(t,e,n){let r;return r=WF(t,e,t.index_===wf||n?n:_g),r.endBeforeSet_=!0,r}(e._queryParams,this._value,this._key);if(oE(n),Dg(n),e._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new xd(e._repo,e._path,n,e._orderByCalled)}}class Az extends Bh{constructor(e,n){super(),this._value=e,this._key=n,this.type="startAt"}_apply(e){bf("startAt",this._value,e._path,!0);const n=GF(e._queryParams,this._value,this._key);if(oE(n),Dg(n),e._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new xd(e._repo,e._path,n,e._orderByCalled)}}class E0e extends Bh{constructor(e,n){super(),this._value=e,this._key=n,this.type="startAfter"}_apply(e){bf("startAfter",this._value,e._path,!1);const n=function Fme(t,e,n){let r;return r=GF(t,e,t.index_===wf||n?n:lp),r.startAfterSet_=!0,r}(e._queryParams,this._value,this._key);if(oE(n),Dg(n),e._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new xd(e._repo,e._path,n,e._orderByCalled)}}class T0e extends Bh{constructor(e){super(),this._limit=e,this.type="limitToFirst"}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new xd(e._repo,e._path,function Dme(t,e){const n=t.copy();return n.limitSet_=!0,n.limit_=e,n.viewFrom_="l",n}(e._queryParams,this._limit),e._orderByCalled)}}class D0e extends Bh{constructor(e){super(),this._limit=e,this.type="limitToLast"}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new xd(e._repo,e._path,function xme(t,e){const n=t.copy();return n.limitSet_=!0,n.limit_=e,n.viewFrom_="r",n}(e._queryParams,this._limit),e._orderByCalled)}}class F0e extends Bh{constructor(e){super(),this._path=e,this.type="orderByChild"}_apply(e){iE(e,"orderByChild");const n=new Is(this._path);if(_o(n))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const r=new jF(n),i=N2(e._queryParams,r);return Dg(i),new xd(e._repo,e._path,i,!0)}}class R0e extends Bh{constructor(){super(...arguments),this.type="orderByKey"}_apply(e){iE(e,"orderByKey");const n=N2(e._queryParams,wf);return Dg(n),new xd(e._repo,e._path,n,!0)}}class N0e extends Bh{constructor(){super(...arguments),this.type="orderByPriority"}_apply(e){iE(e,"orderByPriority");const n=N2(e._queryParams,ia);return Dg(n),new xd(e._repo,e._path,n,!0)}}class L0e extends Bh{constructor(){super(...arguments),this.type="orderByValue"}_apply(e){iE(e,"orderByValue");const n=N2(e._queryParams,zF);return Dg(n),new xd(e._repo,e._path,n,!0)}}class U0e extends Bh{constructor(e,n){super(),this._value=e,this._key=n,this.type="equalTo"}_apply(e){if(bf("equalTo",this._value,e._path,!1),e._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(e._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new dz(this._value,this._key)._apply(new Az(this._value,this._key)._apply(e))}}function Dh(t,...e){let n=(0,be.Ku)(t);for(const r of e)n=r._apply(n);return n}(function _ve(t){(0,be.vA)(!$2,"__referenceConstructor has already been defined"),$2=t})(qA),function Eve(t){(0,be.vA)(!W2,"__referenceConstructor has already been defined"),W2=t}(qA);const Pk={};function Nk(t,e,n,r,i){let o=r||t.options.databaseURL;void 0===o&&(t.options.projectId||_f("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Su("Using default host for project ",t.options.projectId),o=`${t.options.projectId}-default-rtdb.firebaseio.com`);let l,u,s=Dk(o,i),a=s.repoInfo;typeof process<"u"&&process.env&&(u=process.env.FIREBASE_DATABASE_EMULATOR_HOST),u?(l=!0,o=`http://${u}?ns=${a.namespace}`,s=Dk(o,i),a=s.repoInfo):l=!s.repoInfo.secure;const p=i&&l?new vw(vw.OWNER):new Nge(t.name,t.options,e);Hj("Invalid Firebase Database URL",s),_o(s.path)||_f("Database URL must point to the root of a Firebase Database (not including a child path).");const I=function z0e(t,e,n,r){let i=Pk[e.name];i||(i={},Pk[e.name]=i);let o=i[t.toURLString()];return o&&_f("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new Jve(t,false,n,r),i[t.toURLString()]=o,o}(a,t,p,new Pge(t.name,n));return new G0e(I,t)}class G0e{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function Zve(t,e,n){if(t.stats_=PF(t.repoInfo_),t.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)t.server_=new M2(t.repoInfo_,(r,i,o,s)=>{Wj(t,r,i,o,s)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>Kj(t,!0),0);else{if(typeof n<"u"&&null!==n){if("object"!=typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,be.As)(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new $m(t.repoInfo_,e,(r,i,o,s)=>{Wj(t,r,i,o,s)},r=>{Kj(t,r)},r=>{!function e0e(t,e){Tu(e,(n,r)=>{bk(t,n,r)})}(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=function Oge(t,e){const n=t.toString();return RF[n]||(RF[n]=e()),RF[n]}(t.repoInfo_,()=>new Ome(t.stats_,t.server_)),t.infoData_=new Rme,t.infoSyncTree_=new Fj({startListening:(r,i,o,s)=>{let a=[];const l=t.infoData_.getNode(r._path);return l.isEmpty()||(a=xw(t.infoSyncTree_,r._path,l),setTimeout(()=>{s("ok")},0)),a},stopListening:()=>{}}),bk(t,"connected",!1),t.serverSyncTree_=new Fj({startListening:(r,i,o,s)=>(t.server_.listen(r,o,i,(a,l)=>{const u=s(a,l);pA(t.eventQueue_,r._path,u)}),[]),stopListening:(r,i)=>{t.server_.unlisten(r,i)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new qA(this._repo,us())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function j0e(t,e){const n=Pk[e];(!n||n[t.key]!==t)&&_f(`Database ${e}(${t.repoInfo_}) has already been deleted.`),Yj(t),delete n[t.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){null===this._rootInternal&&_f("Cannot call "+e+" on a deleted database.")}}function fz(){L9.IS_TRANSPORT_INITIALIZED&&Ic("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function W0e(){fz(),wg.forceDisallow()}function K0e(){fz(),fy.forceDisallow(),wg.forceAllow()}function X0e(t,e){m9(t,e)}const Z0e={".sv":"timestamp"};class nye{constructor(e,n){this.committed=e,this.snapshot=n}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}$m.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)},$m.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)},function J0e(t){SF(mc.SDK_VERSION),(0,mc._registerComponent)(new Ch.uA("database",(e,{instanceIdentifier:n})=>Nk(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),n),"PUBLIC").setMultipleInstances(!0)),(0,mc.registerVersion)(d9,"1.0.4",t),(0,mc.registerVersion)(d9,"1.0.4","esm2017")}();const sye=new cA.Vy("@firebase/database-compat"),gz=function(t){sye.warn("FIREBASE WARNING: "+t)};class uye{constructor(e){this._delegate=e}cancel(e){(0,be.od)("OnDisconnect.cancel",0,1,arguments.length),(0,be.oD)("OnDisconnect.cancel","onComplete",e,!0);const n=this._delegate.cancel();return e&&n.then(()=>e(null),r=>e(r)),n}remove(e){(0,be.od)("OnDisconnect.remove",0,1,arguments.length),(0,be.oD)("OnDisconnect.remove","onComplete",e,!0);const n=this._delegate.remove();return e&&n.then(()=>e(null),r=>e(r)),n}set(e,n){(0,be.od)("OnDisconnect.set",1,2,arguments.length),(0,be.oD)("OnDisconnect.set","onComplete",n,!0);const r=this._delegate.set(e);return n&&r.then(()=>n(null),i=>n(i)),r}setWithPriority(e,n,r){(0,be.od)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,be.oD)("OnDisconnect.setWithPriority","onComplete",r,!0);const i=this._delegate.setWithPriority(e,n);return r&&i.then(()=>r(null),o=>r(o)),i}update(e,n){if((0,be.od)("OnDisconnect.update",1,2,arguments.length),Array.isArray(e)){const i={};for(let o=0;o<e.length;++o)i[""+o]=e[o];e=i,gz("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,be.oD)("OnDisconnect.update","onComplete",n,!0);const r=this._delegate.update(e);return n&&r.then(()=>n(null),i=>n(i)),r}}class cye{constructor(e,n){this.committed=e,this.snapshot=n}toJSON(){return(0,be.od)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class xg{constructor(e,n){this._database=e,this._delegate=n}val(){return(0,be.od)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,be.od)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,be.od)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,be.od)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(e){return(0,be.od)("DataSnapshot.child",0,1,arguments.length),e=String(e),Lw("DataSnapshot.child","path",e,!1),new xg(this._database,this._delegate.child(e))}hasChild(e){return(0,be.od)("DataSnapshot.hasChild",1,1,arguments.length),Lw("DataSnapshot.hasChild","path",e,!1),this._delegate.hasChild(e)}getPriority(){return(0,be.od)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(e){return(0,be.od)("DataSnapshot.forEach",1,1,arguments.length),(0,be.oD)("DataSnapshot.forEach","action",e,!1),this._delegate.forEach(n=>e(new xg(this._database,n)))}hasChildren(){return(0,be.od)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,be.od)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,be.od)("DataSnapshot.ref",0,0,arguments.length),new gA(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class Gu{constructor(e,n){this.database=e,this._delegate=n}on(e,n,r,i){var o;(0,be.od)("Query.on",2,4,arguments.length),(0,be.oD)("Query.on","callback",n,!1);const s=Gu.getCancelAndContextArgs_("Query.on",r,i),a=(u,p)=>{n.call(s.context,new xg(this.database,u),p)};a.userCallback=n,a.context=s.context;const l=null===(o=s.cancel)||void 0===o?void 0:o.bind(s.context);switch(e){case"value":return Rk(this._delegate,a,l),n;case"child_added":return sz(this._delegate,a,l),n;case"child_removed":return uz(this._delegate,a,l),n;case"child_changed":return az(this._delegate,a,l),n;case"child_moved":return lz(this._delegate,a,l),n;default:throw new Error((0,be.dI)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(e,n,r){if((0,be.od)("Query.off",0,3,arguments.length),function(t,e,n){if(void 0!==e)switch(e){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,be.dI)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,e),(0,be.oD)("Query.off","callback",n,!0),(0,be.HN)("Query.off","context",r,!0),n){const i=()=>{};i.userCallback=n,i.context=r,cz(this._delegate,e,i)}else cz(this._delegate,e)}get(){return kk(this._delegate).then(e=>new xg(this.database,e))}once(e,n,r,i){(0,be.od)("Query.once",1,4,arguments.length),(0,be.oD)("Query.once","callback",n,!0);const o=Gu.getCancelAndContextArgs_("Query.once",r,i),s=new be.cY,a=(u,p)=>{const I=new xg(this.database,u);n&&n.call(o.context,I,p),s.resolve(I)};a.userCallback=n,a.context=o.context;const l=u=>{o.cancel&&o.cancel.call(o.context,u),s.reject(u)};switch(e){case"value":Rk(this._delegate,a,l,{onlyOnce:!0});break;case"child_added":sz(this._delegate,a,l,{onlyOnce:!0});break;case"child_removed":uz(this._delegate,a,l,{onlyOnce:!0});break;case"child_changed":az(this._delegate,a,l,{onlyOnce:!0});break;case"child_moved":lz(this._delegate,a,l,{onlyOnce:!0});break;default:throw new Error((0,be.dI)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return s.promise}limitToFirst(e){return(0,be.od)("Query.limitToFirst",1,1,arguments.length),new Gu(this.database,Dh(this._delegate,function B0e(t){if("number"!=typeof t||Math.floor(t)!==t||t<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new T0e(t)}(e)))}limitToLast(e){return(0,be.od)("Query.limitToLast",1,1,arguments.length),new Gu(this.database,Dh(this._delegate,function x0e(t){if("number"!=typeof t||Math.floor(t)!==t||t<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new D0e(t)}(e)))}orderByChild(e){return(0,be.od)("Query.orderByChild",1,1,arguments.length),new Gu(this.database,Dh(this._delegate,function k0e(t){if("$key"===t)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===t)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===t)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return Lw("orderByChild","path",t,!1),new F0e(t)}(e)))}orderByKey(){return(0,be.od)("Query.orderByKey",0,0,arguments.length),new Gu(this.database,Dh(this._delegate,function P0e(){return new R0e}()))}orderByPriority(){return(0,be.od)("Query.orderByPriority",0,0,arguments.length),new Gu(this.database,Dh(this._delegate,function M0e(){return new N0e}()))}orderByValue(){return(0,be.od)("Query.orderByValue",0,0,arguments.length),new Gu(this.database,Dh(this._delegate,function O0e(){return new L0e}()))}startAt(e=null,n){return(0,be.od)("Query.startAt",0,2,arguments.length),new Gu(this.database,Dh(this._delegate,function I0e(t=null,e){return Mw("startAt","key",e,!0),new Az(t,e)}(e,n)))}startAfter(e=null,n){return(0,be.od)("Query.startAfter",0,2,arguments.length),new Gu(this.database,Dh(this._delegate,function S0e(t,e){return Mw("startAfter","key",e,!0),new E0e(t,e)}(e,n)))}endAt(e=null,n){return(0,be.od)("Query.endAt",0,2,arguments.length),new Gu(this.database,Dh(this._delegate,function w0e(t,e){return Mw("endAt","key",e,!0),new dz(t,e)}(e,n)))}endBefore(e=null,n){return(0,be.od)("Query.endBefore",0,2,arguments.length),new Gu(this.database,Dh(this._delegate,function b0e(t,e){return Mw("endBefore","key",e,!0),new C0e(t,e)}(e,n)))}equalTo(e,n){return(0,be.od)("Query.equalTo",1,2,arguments.length),new Gu(this.database,Dh(this._delegate,function V0e(t,e){return Mw("equalTo","key",e,!0),new U0e(t,e)}(e,n)))}toString(){return(0,be.od)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,be.od)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(e){if((0,be.od)("Query.isEqual",1,1,arguments.length),!(e instanceof Gu))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(e._delegate)}static getCancelAndContextArgs_(e,n,r){const i={cancel:void 0,context:void 0};if(n&&r)i.cancel=n,(0,be.oD)(e,"cancel",i.cancel,!0),i.context=r,(0,be.HN)(e,"context",i.context,!0);else if(n)if("object"==typeof n&&null!==n)i.context=n;else{if("function"!=typeof n)throw new Error((0,be.dI)(e,"cancelOrContext")+" must either be a cancel callback or a context object.");i.cancel=n}return i}get ref(){return new gA(this.database,new qA(this._delegate._repo,this._delegate._path))}}class gA extends Gu{constructor(e,n){super(e,new xd(n._repo,n._path,new P2,!1)),this.database=e,this._delegate=n}getKey(){return(0,be.od)("Reference.key",0,0,arguments.length),this._delegate.key}child(e){return(0,be.od)("Reference.child",1,1,arguments.length),"number"==typeof e&&(e=String(e)),new gA(this.database,cp(this._delegate,e))}getParent(){(0,be.od)("Reference.parent",0,0,arguments.length);const e=this._delegate.parent;return e?new gA(this.database,e):null}getRoot(){return(0,be.od)("Reference.root",0,0,arguments.length),new gA(this.database,this._delegate.root)}set(e,n){(0,be.od)("Reference.set",1,2,arguments.length),(0,be.oD)("Reference.set","onComplete",n,!0);const r=Fk(this._delegate,e);return n&&r.then(()=>n(null),i=>n(i)),r}update(e,n){if((0,be.od)("Reference.update",1,2,arguments.length),Array.isArray(e)){const i={};for(let o=0;o<e.length;++o)i[""+o]=e[o];e=i,gz("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}KA("Reference.update",this._delegate._path),(0,be.oD)("Reference.update","onComplete",n,!0);const r=_0e(this._delegate,e);return n&&r.then(()=>n(null),i=>n(i)),r}setWithPriority(e,n,r){(0,be.od)("Reference.setWithPriority",2,3,arguments.length),(0,be.oD)("Reference.setWithPriority","onComplete",r,!0);const i=function y0e(t,e,n){if(KA("setWithPriority",t._path),bf("setWithPriority",e,t._path,!1),Ck("setWithPriority",n,!1),".length"===t.key||".keys"===t.key)throw"setWithPriority failed: "+t.key+" is a read-only object.";const r=new be.cY;return Ik(t._repo,t._path,e,n,r.wrapCallback(()=>{})),r.promise}(this._delegate,e,n);return r&&i.then(()=>r(null),o=>r(o)),i}remove(e){(0,be.od)("Reference.remove",0,1,arguments.length),(0,be.oD)("Reference.remove","onComplete",e,!0);const n=function m0e(t){return KA("remove",t._path),Fk(t,null)}(this._delegate);return e&&n.then(()=>e(null),r=>e(r)),n}transaction(e,n,r){(0,be.od)("Reference.transaction",1,3,arguments.length),(0,be.oD)("Reference.transaction","transactionUpdate",e,!1),(0,be.oD)("Reference.transaction","onComplete",n,!0),function(t,e,n,r){if(void 0!==n&&"boolean"!=typeof n)throw new Error((0,be.dI)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,r);const i=function rye(t,e,n){var r;if(t=(0,be.Ku)(t),KA("Reference.transaction",t._path),".length"===t.key||".keys"===t.key)throw"Reference.transaction failed: "+t.key+" is a read-only object.";const i=null===(r=null==n?void 0:n.applyLocally)||void 0===r||r,o=new be.cY,a=Rk(t,()=>{});return function u0e(t,e,n,r,i,o){Cy(t,"transaction on "+e);const s={path:e,update:n,onComplete:r,status:null,order:f9(),applyLocally:o,retryCount:0,unwatcher:i,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},a=Sk(t,e,void 0);s.currentInputSnapshot=a;const l=s.update(a.val());if(void 0===l)s.unwatcher(),s.currentOutputSnapshotRaw=null,s.currentOutputSnapshotResolved=null,s.onComplete&&s.onComplete(null,!1,s.currentInputSnapshot);else{Nw("transaction failed: Data returned ",l,s.path),s.status=0;const u=X2(t.transactionQueueTree_,e),p=qm(u)||[];let I;p.push(s),yk(u,p),"object"==typeof l&&null!==l&&(0,be.gR)(l,".priority")?(I=(0,be.yw)(l,".priority"),(0,be.vA)(Pw(I),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):I=(q2(t.serverSyncTree_,e)||io.EMPTY_NODE).getPriority().val();const k=Ow(t),O=La(l,I),q=gk(O,a,k);s.currentOutputSnapshotRaw=O,s.currentOutputSnapshotResolved=q,s.currentWriteId=tE(t);const ge=uk(t.serverSyncTree_,e,q,s.currentWriteId,s.applyLocally);pA(t.eventQueue_,e,ge),nE(t,t.transactionQueueTree_)}}(t._repo,t._path,e,(l,u,p)=>{let I=null;l?o.reject(l):(I=new Ym(p,new qA(t._repo,t._path),ia),o.resolve(new nye(u,I)))},a,i),o.promise}(this._delegate,e,{applyLocally:r}).then(o=>new cye(o.committed,new xg(this.database,o.snapshot)));return n&&i.then(o=>n(null,o.committed,o.snapshot),o=>n(o,!1,null)),i}setPriority(e,n){(0,be.od)("Reference.setPriority",1,2,arguments.length),(0,be.oD)("Reference.setPriority","onComplete",n,!0);const r=function v0e(t,e){t=(0,be.Ku)(t),KA("setPriority",t._path),Ck("setPriority",e,!1);const n=new be.cY;return Ik(t._repo,Da(t._path,".priority"),e,null,n.wrapCallback(()=>{})),n.promise}(this._delegate,e);return n&&r.then(()=>n(null),i=>n(i)),r}push(e,n){(0,be.od)("Reference.push",0,2,arguments.length),(0,be.oD)("Reference.push","onComplete",n,!0);const r=function g0e(t,e){t=(0,be.Ku)(t),KA("push",t._path),bf("push",e,t._path,!0);const n=Gj(t._repo),r=p0e(n),i=cp(t,r),o=cp(t,r);let s;return s=null!=e?Fk(o,e).then(()=>o):Promise.resolve(o),i.then=s.then.bind(s),i.catch=s.then.bind(s,void 0),i}(this._delegate,e),i=r.then(s=>new gA(this.database,s));n&&i.then(()=>n(null),s=>n(s));const o=new gA(this.database,r);return o.then=i.then.bind(i),o.catch=i.catch.bind(i,void 0),o}onDisconnect(){return KA("Reference.onDisconnect",this._delegate._path),new uye(new rz(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class Qw{constructor(e,n){this._delegate=e,this.app=n,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:W0e,forceLongPolling:K0e}}useEmulator(e,n,r={}){!function pz(t,e,n,r={}){(t=(0,be.Ku)(t))._checkNotDeleted("useEmulator"),t._instanceStarted&&_f("Cannot call useEmulator() after instance has already been initialized.");const i=t._repoInternal;let o;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&_f('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new vw(vw.OWNER);else if(r.mockUserToken){const s="string"==typeof r.mockUserToken?r.mockUserToken:(0,be.Fy)(r.mockUserToken,t.app.options.projectId);o=new vw(s)}!function H0e(t,e,n,r){t.repoInfo_=new FF(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),r&&(t.authTokenProvider_=r)}(i,e,n,o)}(this._delegate,e,n,r)}ref(e){if((0,be.od)("database.ref",0,1,arguments.length),e instanceof gA){const n=oz(this._delegate,e.toString());return new gA(this,n)}{const n=iz(this._delegate,e);return new gA(this,n)}}refFromURL(e){(0,be.od)("database.refFromURL",1,1,arguments.length);const r=oz(this._delegate,e);return new gA(this,r)}goOffline(){return(0,be.od)("database.goOffline",0,0,arguments.length),function q0e(t){(t=(0,be.Ku)(t))._checkNotDeleted("goOffline"),Yj(t._repo)}(this._delegate)}goOnline(){return(0,be.od)("database.goOnline",0,0,arguments.length),function Y0e(t){(t=(0,be.Ku)(t))._checkNotDeleted("goOnline"),function l0e(t){t.persistentConnection_&&t.persistentConnection_.resume($j)}(t._repo)}(this._delegate)}}Qw.ServerValue={TIMESTAMP:function eye(){return Z0e}(),increment:t=>function tye(t){return{".sv":{increment:t}}}(t)};var Aye=Object.freeze({__proto__:null,initStandalone:function dye({app:t,url:e,version:n,customAuthImpl:r,customAppCheckImpl:i,namespace:o,nodeAdmin:s=!1}){SF(n);const a=new Ch.h1("database-standalone"),l=new Ch.Kq("auth-internal",a);let u;return l.setComponent(new Ch.uA("auth-internal",()=>r,"PRIVATE")),i&&(u=new Ch.Kq("app-check-internal",a),u.setComponent(new Ch.uA("app-check-internal",()=>i,"PRIVATE"))),{instance:new Qw(Nk(t,l,u,e,s),t),namespace:o}}});const hye=Qw.ServerValue;!function fye(t){t.INTERNAL.registerComponent(new Ch.uA("database-compat",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app-compat").getImmediate(),i=e.getProvider("database").getImmediate({identifier:n});return new Qw(i,r)},"PUBLIC").setServiceProps({Reference:gA,Query:Gu,Database:Qw,DataSnapshot:xg,enableLogging:X0e,INTERNAL:Aye,ServerValue:hye}).setMultipleInstances(!0)),t.registerVersion("@firebase/database-compat","1.0.4")}(Cn.A);let xa=(()=>{var t;class e{constructor(r,i,o){this.toastController=r,this.router=i,this.afAuth=o,this.subscription=Qt,this.counters={}}logout(){confirm("Sei sicuro di voler eseguire il logout?")&&this.afAuth.signOut().then(()=>{sessionStorage.clear(),this.router.navigate(["/splash"])}).catch(i=>{alert("Si \xe8 verificato un errore durante il logout: "+i.message)})}getCountersHome(){return(0,V.A)(function*(){const r=Cn.A.database(),i=Z1(),o=yield bs(Co(ls(i,"worksites"),Vi("status","==","finished"))),s=yield bs(Co(ls(i,"worksites"),Vi("status","==","doing"))),a=yield bs(Co(ls(i,"worksites"),Vi("status","==","to-start")));document.getElementById("home-worksites-finished-count-display").innerText="Conclusi: "+o.data().count,document.getElementById("home-worksites-doing-count-display").innerText="In corso: "+s.data().count,document.getElementById("home-worksites-to-start-count-display").innerText="Da iniziare: "+a.data().count,document.getElementById("home-worksites-total-count-display").innerText="Totale cantieri: "+(o.data().count+s.data().count+a.data().count).toString();const l=yield bs(Co(ls(i,"works"),Vi("status","==","finished"))),u=yield bs(Co(ls(i,"works"),Vi("status","==","doing"))),p=yield bs(Co(ls(i,"works"),Vi("status","==","to-start")));document.getElementById("home-works-finished-count-display").innerText="Conclusi: "+l.data().count,document.getElementById("home-works-doing-count-display").innerText="In corso: "+u.data().count,document.getElementById("home-works-to-start-count-display").innerText="Da iniziare: "+p.data().count,document.getElementById("home-works-total-count-display").innerText="Totale lavori: "+(l.data().count+u.data().count+p.data().count).toString();const I=yield bs(Co(ls(i,"tasks"),Vi("status","==","todo")));document.getElementById("tasks-count-display").innerText=I.data().count.toString(),r.ref("users_data").once("value").then(q=>{document.getElementById("emploee-count-display").innerText="Totale impiegati: "+q.numChildren().toString()});var k=(new Date).getFullYear().toString();Cn.A.database().ref("counters/worksites/"+k+"/general/total/").once("value",q=>{const ge=q.val()||{incasso:0,fatturato:0,spesa_personale:0,spesa:0};Cn.A.database().ref("counters/works/"+k+"/general/total/").once("value",Be=>{const Ye=Be.val()||{incasso:0,fatturato:0,spesa_personale:0,spesa:0},tt=parseFloat(ge.incasso)+parseFloat(Ye.incasso),Bt=parseFloat(ge.fatturato)+parseFloat(Ye.fatturato),Ut=parseFloat(ge.spesa_personale)+parseFloat(Ye.spesa_personale),Fn=parseFloat(ge.spesa)+parseFloat(Ye.spesa),Kn=Fn+Ut;document.getElementById("home-incasso-totale-display").innerText="Incasso totale: \u20ac"+tt,document.getElementById("home-fatturato-totale-display").innerText="Fatturato totale: \u20ac"+Bt,document.getElementById("home-costo-manodopera-display").innerText="Costo manodopera: \u20ac"+Ut,document.getElementById("home-costo-materiale-display").innerText="Costo materiale: \u20ac"+Fn,document.getElementById("home-costo-totale-display").innerText="Spesa totale: \u20ac"+Kn,document.getElementById("home-produttivit\xe0-totale-display").innerText="Produttivit\xe0:"})});const O=yield bs(Co(ls(i,"costs"),Vi("group","==","worksite"),Vi("status","==","to-order")));document.getElementById("home-to-order-count-display").innerText="Ordini da effettuare: "+O.data().count})()}getCountersWorksites(){return(0,V.A)(function*(){const r=Z1(),i=yield bs(Co(ls(r,"worksites"),Vi("status","==","finished"))),o=yield bs(Co(ls(r,"worksites"),Vi("status","==","doing"))),s=yield bs(Co(ls(r,"worksites"),Vi("status","==","to-start")));document.getElementById("worksites-finished-count-display").innerText="Conclusi: "+i.data().count,document.getElementById("worksites-doing-count-display").innerText="In corso: "+o.data().count,document.getElementById("worksites-to-start-count-display").innerText="Da iniziare: "+s.data().count,document.getElementById("worksites-total-count-display").innerText="Totale cantieri: "+(i.data().count+o.data().count+s.data().count).toString();const a=yield bs(Co(ls(r,"installments"),Vi("group","==","worksite"),Vi("fatturata","==","fatturata"))),l=yield bs(Co(ls(r,"installments"),Vi("group","==","worksite"),Vi("incassata","==","incassata"))),u=yield bs(Co(ls(r,"installments"),Vi("group","==","worksite"),Vi("fatturata","==","non_fatturata"))),p=yield bs(Co(ls(r,"installments"),Vi("group","==","worksite"),Vi("incassata","==","non_incassata")));document.getElementById("worksites-installments-fatturate-count-display").innerText="Rate fatturate: "+a.data().count,document.getElementById("worksites-installments-incassate-count-display").innerText="Rate incassate: "+l.data().count,document.getElementById("worksites-installments-da-fatturare-count-display").innerText="Rate da fatturare: "+u.data().count,document.getElementById("worksites-installments-da-incassare-count-display").innerText="Rate da incassare: "+p.data().count;var I=(new Date).getFullYear().toString();Cn.A.database().ref("counters/worksites/"+I+"/general/total/").once("value",O=>{const q=O.val()||{incasso:0,fatturato:0,spesa_personale:0,spesa:0};if(q){document.getElementById("worksites-incasso-totale-display").innerText="Incasso totale: \u20ac"+q.incasso,document.getElementById("worksites-fatturato-totale-display").innerText="Fatturato totale: \u20ac"+q.fatturato,document.getElementById("worksites-costo-manodopera-display").innerText="Costo manodopera: \u20ac"+q.spesa_personale,document.getElementById("worksites-costo-materiale-display").innerText="Costo materiale: \u20ac"+q.spesa,document.getElementById("worksites-costo-totale-display").innerText="Spesa totale: \u20ac",parseFloat(q.spesa),parseFloat(q.spesa_personale);parseFloat(q.incasso),parseFloat(q.spesa_personale);parseFloat(q.spesa),document.getElementById("worksites-produttivit\xe0-totale-display").innerText="Produttivit\xe0 totale:"}});const k=yield bs(Co(ls(r,"costs"),Vi("status","==","to-order")));document.getElementById("worksites-to-order-count-display").innerText="Ordini da effettuare: "+k.data().count})()}getCountersWorks(){return(0,V.A)(function*(){const r=Z1(),i=yield bs(Co(ls(r,"works"),Vi("status","==","finished"))),o=yield bs(Co(ls(r,"works"),Vi("status","==","doing"))),s=yield bs(Co(ls(r,"works"),Vi("status","==","to-start")));document.getElementById("works-finished-count-display").innerText="Conclusi: "+i.data().count,document.getElementById("works-doing-count-display").innerText="In corso: "+o.data().count,document.getElementById("works-to-start-count-display").innerText="Da iniziare: "+s.data().count,document.getElementById("works-total-count-display").innerText="Totale lavori: "+(i.data().count+o.data().count+s.data().count).toString();const a=yield bs(Co(ls(r,"installments"),Vi("group","==","work"),Vi("fatturata","==","fatturata"))),l=yield bs(Co(ls(r,"installments"),Vi("group","==","work"),Vi("incassata","==","incassata"))),u=yield bs(Co(ls(r,"installments"),Vi("group","==","work"),Vi("fatturata","==","non_fatturata"))),p=yield bs(Co(ls(r,"installments"),Vi("group","==","work"),Vi("incassata","==","non_incassata")));document.getElementById("works-installments-fatturate-count-display").innerText="Rate fatturate: "+a.data().count,document.getElementById("works-installments-incassate-count-display").innerText="Rate incassate: "+l.data().count,document.getElementById("works-installments-da-fatturare-count-display").innerText="Rate da fatturare: "+u.data().count,document.getElementById("works-installments-da-incassare-count-display").innerText="Rate da incassare: "+p.data().count;var I=(new Date).getFullYear().toString();Cn.A.database().ref("counters/works/"+I+"/general/total/").once("value",O=>{const q=O.val()||{incasso:0,fatturato:0,spesa_personale:0,spesa:0};if(q){document.getElementById("works-incasso-totale-display").innerText="Incasso totale: \u20ac"+q.incasso,document.getElementById("works-fatturato-totale-display").innerText="Fatturato totale: \u20ac"+q.fatturato,document.getElementById("works-costo-manodopera-display").innerText="Costo manodopera: \u20ac"+q.spesa_personale,document.getElementById("works-costo-materiale-display").innerText="Costo materiale: \u20ac"+q.spesa,document.getElementById("works-costo-totale-display").innerText="Spesa totale: \u20ac",parseFloat(q.spesa),parseFloat(q.spesa_personale);parseFloat(q.incasso),parseFloat(q.spesa_personale);parseFloat(q.spesa),document.getElementById("works-produttivit\xe0-totale-display").innerText="Produttivit\xe0 totale:"}});const k=yield bs(Co(ls(r,"costs"),Vi("group","==","work"),Vi("status","==","to-order")));document.getElementById("works-to-order-count-display").innerText="Ordini da effettuare: "+k.data().count})()}presentToast(r){var i=this;return(0,V.A)(function*(){(yield i.toastController.create({message:r,duration:3e3})).present()})()}}return(t=e).\u0275fac=function(r){return new(r||t)(Pn(Nle),Pn(zo),Pn(jA))},t.\u0275prov=Dn({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),Hw=(()=>{var t;class e{constructor(r,i,o,s){this.afAuth=r,this.firestore=i,this.router=o,this.generalService=s,this.subscription=Qt}initialize(){"false"!=sessionStorage.getItem("new-session")?this.afAuth.authState.subscribe(r=>{sessionStorage.setItem("new-session","false"),r?"retrieved"!=sessionStorage.getItem("user-datas-status")&&Cn.A.database().ref("users_data/"+r.uid).get().then(o=>{o.exists()?(this.userData=o.val(),document.getElementById("sideabar-name-display").innerText=this.userData.name,document.getElementById("sideabar-mail-display").innerText=this.userData.mail,sessionStorage.setItem("user-datas-status","retrieved"),sessionStorage.setItem("user-real-name",this.userData.name),sessionStorage.setItem("user-mail",this.userData.mail),this.getIndicativeUserRole()):(document.getElementById("sidebar").style.display="flex",this.router.navigate(["/log"]),this.generalService.presentToast("Utente non trovato"))}).catch(o=>{this.generalService.presentToast("Errore durante il recupero dei dati dell' utente: "+o.message)}):(document.getElementById("sidebar").style.display="none",document.getElementById("up-bar").style.display="none",document.getElementById("main-component").style.marginTop="0rem",document.getElementById("main-component").style.marginBottom="0rem",this.router.navigate(["/log"]))}):this.afAuth.authState.subscribe(r=>{r&&(document.getElementById("sideabar-name-display").innerText=sessionStorage.getItem("user-real-name"),document.getElementById("sideabar-mail-display").innerText=sessionStorage.getItem("user-mail"))})}getIndicativeUserRole(){this.afAuth.authState.subscribe(r=>{r&&Cn.A.firestore().collection("sys").doc("users_permissions").get().then(i=>{if(i.exists){const o=i.data();o[r.uid]?(this.generalService.currentUserRole=o[r.uid],console.log(this.generalService.currentUserRole)):this.generalService.presentToast("Ruolo non trovato per questo utente.")}}).catch(i=>{this.generalService.presentToast("Errore durante la lettura del ruolo dell'utente: "+i.message)})})}}return(t=e).\u0275fac=function(r){return new(r||t)(Pn(jA),Pn(Zl),Pn(zo),Pn(xa))},t.\u0275prov=Dn({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function pye(t,e){if(1&t){const n=fs();c(0,"button",17),fn("click",function(){return ln(n),En(ki().closeSidebarMobile())}),ht(1,"ion-icon",18),c(2,"ion-label"),v(3,"Cantieri"),h()()}}function gye(t,e){if(1&t){const n=fs();c(0,"button",19),fn("click",function(){return ln(n),En(ki().closeSidebarMobile())}),ht(1,"ion-icon",20),c(2,"ion-label"),v(3,"Lavori"),h()()}}function mye(t,e){if(1&t){const n=fs();c(0,"button",21),fn("click",function(){return ln(n),En(ki().closeSidebarMobile())}),ht(1,"ion-icon",22),c(2,"ion-label"),v(3,"Preventivi"),h()()}}function vye(t,e){if(1&t){const n=fs();c(0,"button",23),fn("click",function(){return ln(n),En(ki().closeSidebarMobile())}),ht(1,"ion-icon",24),c(2,"ion-label"),v(3,"Personale"),h()()}}let yye=(()=>{var t;class e{constructor(r,i,o,s){this.firebaseService=r,this.router=i,this.afAuth=o,this.generalService=s,r.initialize()}ngOnInit(){}logout(){this.generalService.logout()}closeSidebarMobile(){const r=document.getElementById("sidebar");innerWidth<999&&(r.style.display="none")}}return(t=e).\u0275fac=function(r){return new(r||t)(Y(Hw),Y(zo),Y(jA),Y(xa))},t.\u0275cmp=ee({type:t,selectors:[["app-sidebar"]],decls:25,vars:4,consts:[[2,"width","100%","display","flex","align-items","center","justify-content","center","margin-top","0.5rem"],["src","assets\\images\\trasparent-normal-allgreen-logo.png",2,"width","13rem","object-fit","contain"],[2,"width","17rem","display","flex","flex-direction","column","padding-right","1rem"],["id","sideabar-name-display",1,"general-title1",2,"padding-left","1rem","font-size","1.3rem","margin-bottom","0.2rem"],["id","sideabar-mail-display",1,"general-paragraph1",2,"padding-left","1rem","margin-top","0.2rem","font-size","1rem"],["routerLink","/home",1,"sidebar-button",3,"click"],["name","home-outline",2,"font-size","1.7rem","color","#757575","padding-right","1.8rem","padding-left","0.2rem"],["routerLink","/worksites","class","sidebar-button",3,"click",4,"ngIf"],["routerLink","/works","class","sidebar-button",3,"click",4,"ngIf"],["routerLink","/preventives","class","sidebar-button",3,"click",4,"ngIf"],["routerLink","/people","class","sidebar-button",3,"click",4,"ngIf"],["routerLink","/timbrature",1,"sidebar-button",3,"click"],["name","albums-outline",2,"font-size","1.7rem","color","#757575","padding-right","1.8rem","padding-left","0.2rem"],["routerLink","/add",1,"sidebar-button",3,"click"],["name","add-outline",2,"font-size","1.7rem","color","#757575","padding-right","1.8rem","padding-left","0.2rem"],[1,"sidebar-button",2,"margin-bottom","0.5rem",3,"click"],["name","exit-outline",2,"font-size","1.7rem","color","#757575","padding-right","1.8rem","padding-left","0.2rem"],["routerLink","/worksites",1,"sidebar-button",3,"click"],["name","business-outline",2,"font-size","1.7rem","color","#757575","padding-right","1.8rem","padding-left","0.2rem"],["routerLink","/works",1,"sidebar-button",3,"click"],["name","hammer-outline",2,"font-size","1.7rem","color","#757575","padding-right","1.8rem","padding-left","0.2rem"],["routerLink","/preventives",1,"sidebar-button",3,"click"],["name","wallet-outline",2,"font-size","1.7rem","color","#757575","padding-right","1.8rem","padding-left","0.2rem"],["routerLink","/people",1,"sidebar-button",3,"click"],["name","people-outline",2,"font-size","1.7rem","color","#757575","padding-right","1.8rem","padding-left","0.2rem"]],template:function(r,i){1&r&&(c(0,"div",0),ht(1,"img",1),h(),c(2,"div",2),ht(3,"h3",3)(4,"p",4),c(5,"button",5),fn("click",function(){return i.closeSidebarMobile()}),ht(6,"ion-icon",6),c(7,"ion-label"),v(8,"Home"),h()(),$i(9,pye,4,0,"button",7)(10,gye,4,0,"button",8)(11,mye,4,0,"button",9)(12,vye,4,0,"button",10),c(13,"button",11),fn("click",function(){return i.closeSidebarMobile()}),ht(14,"ion-icon",12),c(15,"ion-label"),v(16,"Timbrature"),h()(),c(17,"button",13),fn("click",function(){return i.closeSidebarMobile()}),ht(18,"ion-icon",14),c(19,"ion-label"),v(20,"Aggiungi"),h()(),c(21,"button",15),fn("click",function(){return i.logout()}),ht(22,"ion-icon",16),c(23,"ion-label"),v(24,"Disconnetti"),h()()()),2&r&&(jt(9),Kr("ngIf","admin"==i.generalService.currentUserRole),jt(),Kr("ngIf","admin"==i.generalService.currentUserRole),jt(),Kr("ngIf","admin"==i.generalService.currentUserRole),jt(),Kr("ngIf","admin"==i.generalService.currentUserRole))},dependencies:[vh,Yl,n6,Ed,_u]}),e})(),_ye=(()=>{var t;class e{constructor(r){this.generalService=r}ngOnInit(){}logout(){this.generalService.logout()}openCloseSidebar(){const r=document.getElementById("sidebar");r.style.display="flex"==r.style.display?"none":"flex"}}return(t=e).\u0275fac=function(r){return new(r||t)(Y(xa))},t.\u0275cmp=ee({type:t,selectors:[["app-header"]],decls:6,vars:0,consts:[[2,"height","4rem","width","100%","display","flex","flex-direction","row","align-items","center","border-bottom","1px solid rgba(0, 0, 0, 0.143)"],["name","menu-outline",2,"font-size","2rem","margin-left","1rem","cursor","pointer",3,"click"],[2,"flex","1"],["src","assets\\images\\trasparent_logo.png",2,"height","4rem","scale","1.2"],["name","exit-outline",2,"font-size","1.8rem","margin-right","1rem","cursor","pointer",3,"click"]],template:function(r,i){1&r&&(c(0,"div",0)(1,"ion-icon",1),fn("click",function(){return i.openCloseSidebar()}),h(),ht(2,"div",2)(3,"img",3)(4,"div",2),c(5,"ion-icon",4),fn("click",function(){return i.logout()}),h()())},dependencies:[Yl]}),e})(),wye=(()=>{var t;class e{constructor(r,i,o){this.firebaseService=r,this.router=i,this.afAuth=o,document.addEventListener("DOMContentLoaded",()=>{r.initialize()}),this.firebaseService.getIndicativeUserRole()}}return(t=e).\u0275fac=function(r){return new(r||t)(Y(Hw),Y(zo),Y(jA))},t.\u0275cmp=ee({type:t,selectors:[["app-root"]],decls:7,vars:0,consts:[[2,"height","100%","width","100%"],["id","header"],[2,"width","100%","height","calc(100% - 4rem)","display","flex","flex-direction","row","position","relative"],["id","sidebar",2,"flex-direction","column","height","100%","width","17rem","border-right","1px solid rgba(0, 0, 0, 0.143)","overflow-y","auto","overflow-x","hidden"],[2,"height","100%","flex","1","position","relative"]],template:function(r,i){1&r&&(c(0,"ion-app")(1,"div",0),ht(2,"app-header",1),c(3,"div",2),ht(4,"app-sidebar",3),c(5,"div",4),ht(6,"ion-router-outlet"),h()()()())},dependencies:[t6,J_,yye,_ye]}),e})(),Cye=(()=>{var t;class e{constructor(r,i){this.afAuth=r,this.router=i,document.getElementById("sidebar").style.display="none",this.afAuth.authState.subscribe(o=>{this.router.navigate(o?["/home"]:["/log"])})}ngOnInit(){}}return(t=e).\u0275fac=function(r){return new(r||t)(Y(jA),Y(zo))},t.\u0275cmp=ee({type:t,selectors:[["app-splash"]],decls:4,vars:0,consts:[[2,"height","100%","width","100%","display","flex","flex-direction","column","align-items","center","justify-content","center"],["src","assets\\images\\logo.jpg"],[1,"loader",2,"margin-top","3rem"]],template:function(r,i){1&r&&(c(0,"body")(1,"div",0),ht(2,"img",1)(3,"div",2),h()())}}),e})();function bye(t,e){1&t&&(c(0,"div",2)(1,"p",3),v(2,"Seleziona una schermata per cominciare"),h(),c(3,"p"),v(4,"Tasti rapidi"),h(),c(5,"div",4)(6,"button",5),v(7,"Home page"),h(),c(8,"button",6),v(9,"Timbrature"),h(),c(10,"button",7),v(11,"Aggiungi timbratura"),h()()())}function Iye(t,e){1&t&&(c(0,"p",61),v(1,"Caricamento in corso..."),h())}function Eye(t,e){1&t&&(c(0,"span"),v(1,"ALTA"),h())}function Sye(t,e){1&t&&(c(0,"span"),v(1,"MEDIA"),h())}function Tye(t,e){1&t&&(c(0,"span"),v(1,"BASSA"),h())}function Bye(t,e){if(1&t){const n=fs();c(0,"tr")(1,"td",62),v(2),h(),c(3,"td",62),v(4),h(),c(5,"td",63),$i(6,Eye,2,0,"span",64)(7,Sye,2,0,"span",64)(8,Tye,2,0,"span",64),h(),c(9,"td",63)(10,"div",65)(11,"button",66),fn("click",function(){const i=ln(n).$implicit;return En(ki(2).completeTask(i))}),c(12,"span",67),v(13,"done"),h()(),c(14,"button",66),fn("click",function(){const i=ln(n).$implicit;return En(ki(2).deleteTask(i))}),c(15,"span",67),v(16,"delete"),h()()()()()}if(2&t){const n=e.$implicit;jt(2),ar(n.activity),jt(2),ar(n.end_date),jt(2),Kr("ngIf",3==n.priority),jt(),Kr("ngIf",2==n.priority),jt(),Kr("ngIf",1==n.priority)}}function Dye(t,e){if(1&t){const n=fs();c(0,"div",8)(1,"div",9)(2,"div",10)(3,"div",11)(4,"strong",12),v(5,"Situazione Cantieri:"),h(),ht(6,"ion-icon",13),h(),ht(7,"div",14),c(8,"p",15),v(9,"In corso: "),h(),c(10,"p",16),v(11,"Conclusi: "),h(),c(12,"p",17),v(13,"Da iniziare: "),h(),c(14,"p",18),v(15,"Totale cantieri: "),h()(),c(16,"div",19)(17,"div",11)(18,"strong",12),v(19,"Situazione lavori:"),h(),ht(20,"ion-icon",20),h(),ht(21,"div",14),c(22,"p",21),v(23,"In corso: "),h(),c(24,"p",22),v(25,"Conclusi: "),h(),c(26,"p",23),v(27,"Da iniziare: "),h(),c(28,"p",24),v(29,"Totale lavori: "),h()(),c(30,"div",25)(31,"div",11)(32,"strong",12),v(33),h(),ht(34,"ion-icon",26),h(),ht(35,"div",14),c(36,"p",27),v(37,"Incasso totale: "),h(),c(38,"p",28),v(39,"Fatturato totale: "),h(),c(40,"p",29),v(41,"Spesa personale: "),h(),c(42,"p",30),v(43,"Spesa materiale: "),h(),c(44,"p",31),v(45,"Spesa totale: "),h(),c(46,"p",32),v(47,"Produttivit\xe0 totale: "),h()(),c(48,"div",33)(49,"div",11)(50,"strong",12),v(51,"Dipendenti:"),h(),ht(52,"ion-icon",34),h(),ht(53,"div",14),c(54,"p",35),v(55,"Totale impiegati: "),h(),c(56,"div",36)(57,"strong",12),v(58,"Generali:"),h(),ht(59,"ion-icon",37),h(),ht(60,"div",14),c(61,"p",38),v(62,"Ordini da effettuare: 0"),h()()(),c(63,"div",39)(64,"div",40),ht(65,"input",41),c(66,"label",42),v(67,"Attivit\xe0"),h()(),c(68,"div",40),ht(69,"input",43),c(70,"label",44),v(71,"Data scadenza"),h()(),c(72,"div",45)(73,"label",46),v(74,"Priorit\xe0"),h(),c(75,"div",40)(76,"select",47)(77,"option",48),v(78,"Alta"),h(),c(79,"option",49),v(80,"Media"),h(),c(81,"option",50),v(82,"Bassa"),h()()()(),c(83,"button",51),fn("click",function(){return ln(n),En(ki().addRow())}),v(84,"Aggiungi task"),h()(),$i(85,Iye,2,0,"p",52),c(86,"div",53)(87,"div",54)(88,"p",55),v(89,"Numero task da fare: "),ht(90,"strong",56),h(),c(91,"table",57)(92,"thead",58)(93,"tr")(94,"th",59),v(95,"Attivit\xe0"),h(),c(96,"th",59),v(97,"Data scadenza"),h(),c(98,"th",59),v(99,"Priorit\xe0"),h(),c(100,"th",59),v(101,"Azioni"),h()()(),c(102,"tbody"),$i(103,Bye,17,5,"tr",60),zc(104,"async"),h()()()()()}if(2&t){const n=ki();jt(33),zp("Analitica (",n.currentYear,")"),jt(52),Kr("ngIf",1==n.loadingState),jt(18),Kr("ngForOf",OA(104,3,n.documents))}}let xye=(()=>{var t;class e{constructor(r,i,o,s){this.firestore=r,this.generalService=i,this.router=o,this.afAuth=s,this.documents=new J([]),this.nextPageAvailable=!0,this.currentYear=(new Date).getFullYear().toString(),this.loadingState=!0}ngOnInit(){this.afAuth.authState.subscribe(r=>{r&&(document.getElementById("sidebar").style.display="flex",document.getElementById("header").style.display="flex",window.outerWidth>=999&&(document.getElementById("sidebar").style.display="flex"),setTimeout(()=>{"admin"==this.generalService.currentUserRole&&(this.generalService.getCountersHome(),this.getTasks(),this.loadingState=!1)},2e3))})}getTasks(){this.currentFetchingEventType="all",this.firestore.collection("tasks",r=>r.where("status","==","todo").orderBy("priority","desc")).valueChanges({idField:"id"}).subscribe(r=>{4===r.length?this.lastVisible=r[r.length-1]:this.nextPageAvailable=!1,this.documents.next(r)})}getMoreTasks(){this.lastVisible&&this.firestore.collection("tasks",r=>r.limit(4).where("status","==","todo").orderBy("priority","desc").startAfter(this.lastVisible)).valueChanges({idField:"id"}).subscribe(r=>{if(r.length>0){const o=[...this.documents.getValue(),...r];this.documents.next(o),4===r.length?this.lastVisible=r[r.length-1]:this.nextPageAvailable=!1}else this.nextPageAvailable=!1})}completeTask(r){window.confirm("Sei sicuro di voler contrassegnare questo task come completato?")&&Cn.A.firestore().collection("tasks").doc(r.id).update({status:"done"}).then(()=>{this.generalService.presentToast("Task completato con successo")}).catch(i=>{this.generalService.presentToast("Errore durante il completamento del task: "+i.message)})}deleteTask(r){window.confirm("Sei sicuro di voler eliminare questo task?")&&Cn.A.firestore().collection("tasks").doc(r.id).delete().then(()=>{this.generalService.presentToast("Task eliminato con successo")}).catch(i=>{this.generalService.presentToast("Errore durante l'eliminazione del task: "+i.message)})}addRow(){var r=document.getElementById("add-task-activity-input").value,i=document.getElementById("add-task-end-date-input").value,o=document.getElementById("add-task-priority-input").value;Cn.A.firestore().collection("tasks").add({activity:r,end_date:i,priority:o,status:"todo",timestamp:Cn.A.firestore.FieldValue.serverTimestamp()}).then(s=>{this.generalService.presentToast("Task aggiunto con successo")}).catch(s=>{this.generalService.presentToast("Si \xe8 verificato un errore durante l'aggiunta del task: "+s.message)})}}return(t=e).\u0275fac=function(r){return new(r||t)(Y(Zl),Y(xa),Y(zo),Y(jA))},t.\u0275cmp=ee({type:t,selectors:[["app-home"]],decls:2,vars:2,consts:[["style","width: 100%; height: 100%; display: flex; flex-direction: column; align-items: center; justify-content: center; overflow-x: hidden; overflow-y: auto;",4,"ngIf"],["style","width: 100%; height: 100%; display: flex; flex-direction: column; overflow-x: hidden; overflow-y: auto;",4,"ngIf"],[2,"width","100%","height","100%","display","flex","flex-direction","column","align-items","center","justify-content","center","overflow-x","hidden","overflow-y","auto"],[2,"width","95%","text-align","center"],[2,"width","100%","display","flex","flex-direction","row","align-items","center","justify-content","center","gap","1rem","flex-wrap","wrap"],["routerLink","/home",1,"button5",2,"height","3rem","padding-left","0.5rem","padding-right","0.5rem"],["routerLink","/timbrature",1,"button5",2,"height","3rem","padding-left","0.5rem","padding-right","0.5rem"],["routerLink","/add-timbratura",1,"button5",2,"height","3rem","padding-left","0.5rem","padding-right","0.5rem"],[2,"width","100%","height","100%","display","flex","flex-direction","column","overflow-x","hidden","overflow-y","auto"],[2,"width","100%","display","flex","flex-direction","row","flex-wrap","wrap","gap","1rem","padding-top","1rem","margin-bottom","1rem","padding-left","1rem","padding-right","1rem"],[2,"width","18rem","min-height","20rem","border-radius","1rem","border","1px solid rgba(0, 0, 0, 0.155)","display","flex","flex-direction","column","align-items","center","padding-top","1rem","padding-bottom","1rem","background","rgba(120, 116, 116, 0.084)","padding-left","1rem"],[2,"width","100%","display","flex","flex-direction","row","align-items","center","justify-content","space-between","padding-right","1rem"],[2,"font-size","1.2rem"],["name","business-outline",2,"font-size","1.8rem"],[2,"width","95%","height","1px","background","rgba(0, 0, 0, 0.202)","margin-top","0.5rem","margin-bottom","0.5rem","margin-left","-1rem"],["id","home-worksites-doing-count-display",2,"font-size","1.2rem","width","100%","margin-top","0.2rem","margin-bottom","0.2rem"],["id","home-worksites-finished-count-display",2,"font-size","1.2rem","width","100%","margin-top","0.2rem","margin-bottom","0.2rem"],["id","home-worksites-to-start-count-display",2,"font-size","1.2rem","width","100%","margin-top","0.2rem","margin-bottom","0.2rem"],["id","home-worksites-total-count-display",2,"font-size","1.2rem","width","100%","margin-top","0.2rem","margin-bottom","0.2rem"],[2,"width","18rem","min-height","20rem","border-radius","1rem","border","1px solid rgba(0, 0, 0, 0.155)","display","flex","flex-direction","column","align-items","center","padding-top","1rem","padding-bottom","1rem","background","rgba(84, 100, 83, 0.084)","padding-left","1rem"],["name","hammer-outline",2,"font-size","1.8rem"],["id","home-works-doing-count-display",2,"font-size","1.2rem","width","100%","margin-top","0.2rem","margin-bottom","0.2rem"],["id","home-works-finished-count-display",2,"font-size","1.2rem","width","100%","margin-top","0.2rem","margin-bottom","0.2rem"],["id","home-works-to-start-count-display",2,"font-size","1.2rem","width","100%","margin-top","0.2rem","margin-bottom","0.2rem"],["id","home-works-total-count-display",2,"font-size","1.2rem","width","100%","margin-top","0.2rem","margin-bottom","0.2rem"],[2,"width","18rem","min-height","20rem","border-radius","1rem","border","1px solid rgba(0, 0, 0, 0.155)","display","flex","flex-direction","column","align-items","center","padding-top","1rem","padding-bottom","1rem","background","rgba(255, 0, 0, 0.084)","padding-left","1rem"],["name","pie-chart-outline",2,"font-size","1.8rem"],["id","home-incasso-totale-display",2,"font-size","1.2rem","width","100%","margin-top","0.2rem","margin-bottom","0.2rem"],["id","home-fatturato-totale-display",2,"font-size","1.2rem","width","100%","margin-top","0.2rem","margin-bottom","0.2rem"],["id","home-costo-manodopera-display",2,"font-size","1.2rem","width","100%","margin-top","0.2rem","margin-bottom","0.2rem"],["id","home-costo-materiale-display",2,"font-size","1.2rem","width","100%","margin-top","0.2rem","margin-bottom","0.2rem"],["id","home-costo-totale-display",2,"font-size","1.2rem","width","100%","margin-top","0.2rem","margin-bottom","0.2rem"],["id","home-produttivit\xe0-totale-display",2,"font-size","1.2rem","width","100%","margin-top","0.2rem","margin-bottom","0.2rem"],[2,"width","18rem","min-height","20rem","border-radius","1rem","border","1px solid rgba(0, 0, 0, 0.155)","display","flex","flex-direction","column","align-items","center","padding-top","1rem","padding-bottom","1rem","background","rgba(81, 0, 255, 0.084)","padding-left","1rem"],["name","people-outline",2,"font-size","1.8rem"],["id","emploee-count-display",2,"font-size","1.2rem","width","100%","margin-top","0.2rem","margin-bottom","0.2rem"],[2,"width","100%","display","flex","flex-direction","row","align-items","center","justify-content","space-between","padding-right","1rem","padding-top","1rem"],["name","albums-outline",2,"font-size","1.8rem"],["id","home-to-order-count-display",2,"font-size","1.2rem","width","100%","margin-top","0.2rem","margin-bottom","0.2rem"],[2,"width","100%","display","flex","flex-direction","row","align-items","center","gap","1rem","padding-left","1rem","flex-wrap","wrap"],[1,"inputGroup"],["id","add-task-activity-input","type","text",1,"input-field3"],["for","add-task-activity-input"],["id","add-task-end-date-input","type","date",1,"input-field3"],["for","add-task-end-date-input"],[2,"display","flex","flex-direction","column","margin-top","0.4rem"],[2,"margin-bottom","-1.5rem","z-index","2","background","white","margin-left","1.5rem","font-size","14px","color","rgb(100, 100, 100)","width","6rem","text-align","center"],["id","add-task-priority-input",1,"selector1",2,"width","100%"],["value","3"],["value","2"],["value","1"],[1,"button5",2,"height","2rem","padding-left","0.5rem","padding-right","0.5rem","margin-top","1rem","margin-bottom","1rem","width","8rem","height","3rem",3,"click"],["style","width: 100%; text-align: center;",4,"ngIf"],[2,"width","100%","display","flex","flex-direction","column","padding-left","1rem","padding-right","1rem","height","auto","padding-bottom","2rem"],[2,"width","100%","height","auto","display","flex","flex-direction","column","width","100%","overflow-x","auto"],[2,"margin-bottom","1rem"],["id","tasks-count-display"],[1,"table"],[2,"height","2.5rem"],[1,"table-th"],[4,"ngFor","ngForOf"],[2,"width","100%","text-align","center"],[1,"table-td",2,"width","20rem"],[1,"table-td",2,"width","8rem"],[4,"ngIf"],[2,"width","100%","height","100%","display","flex","flex-direction","row","align-items","center","gap","1rem"],[1,"btn","btn-danger",2,"border-radius","50%","width","2.5rem","height","2.5rem","display","flex","align-items","center","justify-content","center",3,"click"],[1,"material-symbols-outlined","notranslate"]],template:function(r,i){1&r&&$i(0,bye,12,0,"div",0)(1,Dye,105,5,"div",1),2&r&&(Kr("ngIf","admin"!=i.generalService.currentUserRole),jt(),Kr("ngIf","admin"==i.generalService.currentUserRole))},dependencies:[Wc,vh,Yl,Ed,_u,QA,HA,Wp]}),e})();function Fye(t,e){if(1&t){const n=fs();c(0,"tr",36)(1,"td",37),v(2),h(),c(3,"td",37),v(4),h(),c(5,"td",37),v(6),h(),c(7,"td",37),v(8),h(),c(9,"td",37)(10,"div",38)(11,"button",39),fn("click",function(){const i=ln(n).$implicit;return En(ki().editWorksite(i))}),c(12,"span",40),v(13,"edit"),h()(),c(14,"button",39),fn("click",function(){const i=ln(n),o=i.$implicit,s=i.index;return En(ki().deleteWorksite(o,s))}),c(15,"span",40),v(16,"delete"),h()()()()()}if(2&t){const n=e.$implicit;jt(2),ar(n.name),jt(2),ar(n.partita_iva),jt(2),ar(n.end_date),jt(2),ar(n.code)}}let kye=(()=>{var t;class e{constructor(r,i,o){this.firestore=r,this.generalService=i,this.router=o,this.documents=new J([]),this.nextPageAvailable=!0}ngOnInit(){this.generalService.getCountersWorksites(),this.getWorksites()}getWorksites(){this.firestore.collection("worksites",r=>r.orderBy("timestamp","desc").limit(4)).get().subscribe(r=>{const i=r.docs.map(o=>({id:o.id,...o.data()}));4===i.length?this.lastVisible=r.docs[r.docs.length-1]:this.nextPageAvailable=!1,this.documents.next(i)})}getMoreWorksites(){!this.lastVisible||!this.nextPageAvailable||this.firestore.collection("worksites").ref.orderBy("timestamp","desc").limit(4).startAfter(this.lastVisible).get().then(r=>{const i=r.docs.map(o=>({id:o.id,...o.data()}));if(i.length>0){const s=[...this.documents.getValue(),...i];this.documents.next(s),4===i.length?this.lastVisible=r.docs[r.docs.length-1]:this.nextPageAvailable=!1}else this.nextPageAvailable=!1}).catch(r=>{this.generalService.presentToast("Si \xe8 verificato un errore durante il recupero di altri cantieri: "+r.message),this.nextPageAvailable=!1})}deleteWorksite(r,i){confirm("Sei sicuro di voler eliminare questo cantiere?")&&this.firestore.collection("worksites").doc(r.id).delete().then(()=>{const s=this.documents.getValue(),a=[...s.slice(0,i),...s.slice(i+1)];this.documents.next(a),this.generalService.presentToast("Cantiere eliminato con successo")}).catch(s=>{this.generalService.presentToast("Si \xe8 verificato un errore durante l'eliminazione del cantiere: "+s.message)})}editWorksite(r){this.generalService.currentWorksite=r,this.router.navigate(["/change-worksite"])}}return(t=e).\u0275fac=function(r){return new(r||t)(Y(Zl),Y(xa),Y(zo))},t.\u0275cmp=ee({type:t,selectors:[["app-worksites"]],decls:76,vars:3,consts:[[2,"width","100%","height","100%","overflow-y","auto","overflow-x","hidden"],[2,"width","100%","display","flex","flex-direction","row","flex-wrap","wrap","gap","1rem","justify-content","start","align-items","center","justify-content","start","min-height","15rem","padding-top","1rem","padding-bottom","1rem","padding-left","1rem","padding-right","1rem"],[2,"width","18rem","min-height","20rem","border-radius","1rem","border","1px solid rgba(0, 0, 0, 0.155)","display","flex","flex-direction","column","align-items","center","padding-top","1rem","padding-bottom","1rem","background","rgba(120, 116, 116, 0.084)","padding-left","1rem"],[2,"width","100%","display","flex","flex-direction","row","align-items","center","justify-content","space-between","padding-right","1rem"],[2,"font-size","1.2rem"],["name","business-outline",2,"font-size","1.8rem"],[2,"width","95%","height","1px","background","rgba(0, 0, 0, 0.202)","margin-top","0.5rem","margin-bottom","0.5rem","margin-left","-1rem"],["id","worksites-doing-count-display",2,"font-size","1.2rem","width","100%","margin-top","0.2rem","margin-bottom","0.2rem"],["id","worksites-finished-count-display",2,"font-size","1.2rem","width","100%","margin-top","0.2rem","margin-bottom","0.2rem"],["id","worksites-to-start-count-display",2,"font-size","1.2rem","width","100%","margin-top","0.2rem","margin-bottom","0.2rem"],["id","worksites-total-count-display",2,"font-size","1.2rem","width","100%","margin-top","0.2rem","margin-bottom","0.2rem"],[2,"width","18rem","min-height","20rem","border-radius","1rem","border","1px solid rgba(0, 0, 0, 0.155)","display","flex","flex-direction","column","align-items","center","padding-top","1rem","padding-bottom","1rem","background","rgba(0, 255, 8, 0.084)","padding-left","1rem"],["name","card-outline",2,"font-size","1.8rem"],["id","worksites-installments-fatturate-count-display",2,"font-size","1.2rem","width","100%","margin-top","0.2rem","margin-bottom","0.2rem"],["id","worksites-installments-incassate-count-display",2,"font-size","1.2rem","width","100%","margin-top","0.2rem","margin-bottom","0.2rem"],["id","worksites-installments-da-fatturare-count-display",2,"font-size","1.2rem","width","100%","margin-top","0.2rem","margin-bottom","0.2rem"],["id","worksites-installments-da-incassare-count-display",2,"font-size","1.2rem","width","100%","margin-top","0.2rem","margin-bottom","0.2rem"],[2,"width","18rem","min-height","20rem","border-radius","1rem","border","1px solid rgba(0, 0, 0, 0.155)","display","flex","flex-direction","column","align-items","center","padding-top","1rem","padding-bottom","1rem","background","rgba(0, 0, 255, 0.084)","padding-left","1rem"],["name","pie-chart-outline",2,"font-size","1.8rem"],["id","worksites-incasso-totale-display",2,"font-size","1.2rem","width","100%","margin-top","0.2rem","margin-bottom","0.2rem"],["id","worksites-fatturato-totale-display",2,"font-size","1.2rem","width","100%","margin-top","0.2rem","margin-bottom","0.2rem"],["id","worksites-costo-materiale-display",2,"font-size","1.2rem","width","100%","margin-top","0.2rem","margin-bottom","0.2rem"],["id","worksites-costo-manodopera-display",2,"font-size","1.2rem","width","100%","margin-top","0.2rem","margin-bottom","0.2rem"],["id","worksites-costo-totale-display",2,"font-size","1.2rem","width","100%","margin-top","0.2rem","margin-bottom","0.2rem"],["id","worksites-produttivit\xe0-totale-display",2,"font-size","1.2rem","width","100%","margin-top","0.2rem","margin-bottom","0.2rem"],[2,"width","18rem","min-height","20rem","border-radius","1rem","border","1px solid rgba(0, 0, 0, 0.155)","display","flex","flex-direction","column","align-items","center","padding-bottom","1rem","background","rgba(255, 0, 0, 0.084)","padding-left","1rem"],[2,"width","100%","display","flex","flex-direction","row","align-items","center","justify-content","space-between","padding-right","1rem","padding-top","1rem"],["name","albums-outline",2,"font-size","1.8rem"],["id","worksites-to-order-count-display",2,"font-size","1.2rem","width","100%","margin-top","0.2rem","margin-bottom","0.2rem"],[1,"table-container",2,"width","100%","overflow-x","auto","padding-left","1rem","padding-right","1rem"],[1,"table",2,"width","100%"],[2,"width","100%"],[1,"table-th"],["class","table-tr",4,"ngFor","ngForOf"],[2,"width","100%","display","flex","flex-direction","column","align-items","center"],[2,"width","95%","height","2.5rem","border-radius","0.5rem","margin-top","1rem","margin-bottom","1rem","flex-shrink","0",3,"click"],[1,"table-tr"],[1,"table-td"],[2,"display","flex","flex-direction","row","align-items","center","gap","0.5rem","overflow-x","hidden !important","overflow-y","hidden !important"],[1,"table-button1",2,"border-radius","50%","width","2rem","height","2rem","display","flex","align-items","center","justify-content","center",3,"click"],[1,"material-symbols-outlined","notranslate"]],template:function(r,i){1&r&&(c(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"strong",4),v(5,"Situazione Cantieri:"),h(),ht(6,"ion-icon",5),h(),ht(7,"div",6),c(8,"p",7),v(9,"In corso: "),h(),c(10,"p",8),v(11,"Conclusi: "),h(),c(12,"p",9),v(13,"Da iniziare: "),h(),c(14,"p",10),v(15,"Totale cantieri: "),h()(),c(16,"div",11)(17,"div",3)(18,"strong",4),v(19,"Fatturazione cantieri:"),h(),ht(20,"ion-icon",12),h(),ht(21,"div",6),c(22,"p",13),v(23,"Rate fatturate: "),h(),c(24,"p",14),v(25,"Rate incassate: "),h(),c(26,"p",15),v(27,"Rate da fatturare: "),h(),c(28,"p",16),v(29,"Rate da incassare: "),h()(),c(30,"div",17)(31,"div",3)(32,"strong",4),v(33,"Analitica:"),h(),ht(34,"ion-icon",18),h(),ht(35,"div",6),c(36,"p",19),v(37,"Incasso totale: "),h(),c(38,"p",20),v(39,"Fatturato totale: "),h(),c(40,"p",21),v(41,"Costo materiale: "),h(),c(42,"p",22),v(43,"Costo manodopera: "),h(),c(44,"p",23),v(45,"Costo totale: "),h(),c(46,"p",24),v(47,"Produttivit\xe0 totale: "),h()(),c(48,"div",25)(49,"div",26)(50,"strong",4),v(51,"Generali:"),h(),ht(52,"ion-icon",27),h(),ht(53,"div",6),c(54,"p",28),v(55,"Ordini da effettuare: "),h()()(),c(56,"div",29)(57,"table",30)(58,"thead")(59,"tr",31)(60,"th",32),v(61,"Nome"),h(),c(62,"th",32),v(63,"Partita Iva"),h(),c(64,"th",32),v(65,"Data scadenza"),h(),c(66,"th",32),v(67,"Codice cantiere"),h(),c(68,"th",32),v(69,"Azioni"),h()()(),c(70,"tbody",31),$i(71,Fye,17,4,"tr",33),zc(72,"async"),h()()(),c(73,"div",34)(74,"button",35),fn("click",function(){return i.getMoreWorksites()}),v(75,"Carica altri"),h()()()),2&r&&(jt(71),Kr("ngForOf",OA(72,1,i.documents)))},dependencies:[Wc,Yl,Wp]}),e})();function Rye(t,e){if(1&t){const n=fs();c(0,"tr",36)(1,"td",37),v(2),h(),c(3,"td",37),v(4),h(),c(5,"td",37),v(6),h(),c(7,"td",37),v(8),h(),c(9,"td",37)(10,"div",38)(11,"button",39),fn("click",function(){const i=ln(n).$implicit;return En(ki().editWork(i))}),c(12,"span",40),v(13,"edit"),h()(),c(14,"button",39),fn("click",function(){const i=ln(n),o=i.$implicit,s=i.index;return En(ki().deleteWork(o,s))}),c(15,"span",40),v(16,"delete"),h()()()()()}if(2&t){const n=e.$implicit;jt(2),ar(n.name),jt(2),ar(n.partita_iva),jt(2),ar(n.end_date),jt(2),ar(n.code)}}let Pye=(()=>{var t;class e{constructor(r,i,o){this.firestore=r,this.generalService=i,this.router=o,this.documents=new J([]),this.nextPageAvailable=!0}ngOnInit(){this.getWorks(),this.generalService.getCountersWorks()}getWorks(){this.firestore.collection("works",r=>r.orderBy("timestamp","desc").limit(4)).get().subscribe(r=>{const i=r.docs.map(o=>({id:o.id,...o.data()}));4===i.length?this.lastVisible=r.docs[r.docs.length-1]:this.nextPageAvailable=!1,this.documents.next(i)})}getMoreWorks(){!this.lastVisible||!this.nextPageAvailable||this.firestore.collection("works").ref.orderBy("timestamp","desc").limit(4).startAfter(this.lastVisible).get().then(r=>{const i=r.docs.map(o=>({id:o.id,...o.data()}));if(i.length>0){const s=[...this.documents.getValue(),...i];this.documents.next(s),4===i.length?this.lastVisible=r.docs[r.docs.length-1]:this.nextPageAvailable=!1}else this.nextPageAvailable=!1}).catch(r=>{this.generalService.presentToast("Si \xe8 verificato un errore durante il recupero di altri lavori: "+r.message),this.nextPageAvailable=!1})}deleteWork(r,i){console.log(i),confirm("Sei sicuro di voler eliminare questo cantiere?")&&this.firestore.collection("works").doc(r.id).delete().then(()=>{const s=this.documents.getValue(),a=[...s.slice(0,i),...s.slice(i+1)];this.documents.next(a),this.generalService.presentToast("Cantiere eliminato con successo")}).catch(s=>{this.generalService.presentToast("Si \xe8 verificato un errore durante l'eliminazione del cantiere: "+s.message)})}editWork(r){this.generalService.currentWork=r,this.router.navigate(["/change-work"])}}return(t=e).\u0275fac=function(r){return new(r||t)(Y(Zl),Y(xa),Y(zo))},t.\u0275cmp=ee({type:t,selectors:[["app-works"]],decls:76,vars:3,consts:[[2,"width","100%","height","100%","overflow-y","auto","overflow-x","hidden"],[2,"width","100%","display","flex","flex-direction","row","flex-wrap","wrap","gap","1rem","justify-content","start","align-items","center","justify-content","start","min-height","15rem","padding-top","1rem","padding-bottom","1rem","padding-left","1rem","padding-right","1rem"],[2,"width","18rem","min-height","20rem","border-radius","1rem","border","1px solid rgba(0, 0, 0, 0.155)","display","flex","flex-direction","column","align-items","center","padding-top","1rem","padding-bottom","1rem","background","rgba(120, 116, 116, 0.084)","padding-left","1rem"],[2,"width","100%","display","flex","flex-direction","row","align-items","center","justify-content","space-between","padding-right","1rem"],[2,"font-size","1.2rem"],["name","business-outline",2,"font-size","1.8rem"],[2,"width","95%","height","1px","background","rgba(0, 0, 0, 0.202)","margin-top","0.5rem","margin-bottom","0.5rem","margin-left","-1rem"],["id","works-doing-count-display",2,"font-size","1.2rem","width","100%","margin-top","0.2rem","margin-bottom","0.2rem"],["id","works-finished-count-display",2,"font-size","1.2rem","width","100%","margin-top","0.2rem","margin-bottom","0.2rem"],["id","works-to-start-count-display",2,"font-size","1.2rem","width","100%","margin-top","0.2rem","margin-bottom","0.2rem"],["id","works-total-count-display",2,"font-size","1.2rem","width","100%","margin-top","0.2rem","margin-bottom","0.2rem"],[2,"width","18rem","min-height","20rem","border-radius","1rem","border","1px solid rgba(0, 0, 0, 0.155)","display","flex","flex-direction","column","align-items","center","padding-top","1rem","padding-bottom","1rem","background","rgba(0, 255, 8, 0.084)","padding-left","1rem"],["name","card-outline",2,"font-size","1.8rem"],["id","works-installments-fatturate-count-display",2,"font-size","1.2rem","width","100%","margin-top","0.2rem","margin-bottom","0.2rem"],["id","works-installments-incassate-count-display",2,"font-size","1.2rem","width","100%","margin-top","0.2rem","margin-bottom","0.2rem"],["id","works-installments-da-fatturare-count-display",2,"font-size","1.2rem","width","100%","margin-top","0.2rem","margin-bottom","0.2rem"],["id","works-installments-da-incassare-count-display",2,"font-size","1.2rem","width","100%","margin-top","0.2rem","margin-bottom","0.2rem"],[2,"width","18rem","min-height","20rem","border-radius","1rem","border","1px solid rgba(0, 0, 0, 0.155)","display","flex","flex-direction","column","align-items","center","padding-top","1rem","padding-bottom","1rem","background","rgba(0, 0, 255, 0.084)","padding-left","1rem"],["name","pie-chart-outline",2,"font-size","1.8rem"],["id","works-incasso-totale-display",2,"font-size","1.2rem","width","100%","margin-top","0.2rem","margin-bottom","0.2rem"],["id","works-fatturato-totale-display",2,"font-size","1.2rem","width","100%","margin-top","0.2rem","margin-bottom","0.2rem"],["id","works-costo-materiale-display",2,"font-size","1.2rem","width","100%","margin-top","0.2rem","margin-bottom","0.2rem"],["id","works-costo-manodopera-display",2,"font-size","1.2rem","width","100%","margin-top","0.2rem","margin-bottom","0.2rem"],["id","works-costo-totale-display",2,"font-size","1.2rem","width","100%","margin-top","0.2rem","margin-bottom","0.2rem"],["id","works-produttivit\xe0-totale-display",2,"font-size","1.2rem","width","100%","margin-top","0.2rem","margin-bottom","0.2rem"],[2,"width","18rem","min-height","20rem","border-radius","1rem","border","1px solid rgba(0, 0, 0, 0.155)","display","flex","flex-direction","column","align-items","center","padding-bottom","1rem","background","rgba(255, 0, 0, 0.084)","padding-left","1rem"],[2,"width","100%","display","flex","flex-direction","row","align-items","center","justify-content","space-between","padding-right","1rem","padding-top","1rem"],["name","albums-outline",2,"font-size","1.8rem"],["id","works-to-order-count-display",2,"font-size","1.2rem","width","100%","margin-top","0.2rem","margin-bottom","0.2rem"],[1,"table-container",2,"width","100%","overflow-x","auto","padding-left","1rem","padding-right","1rem"],[1,"table",2,"width","100%"],[2,"width","100%"],[1,"table-th"],["class","table-tr",4,"ngFor","ngForOf"],[2,"width","100%","display","flex","flex-direction","column","align-items","center"],[2,"width","95%","height","2.5rem","border-radius","0.5rem","margin-top","1rem","margin-bottom","1rem","flex-shrink","0",3,"click"],[1,"table-tr"],[1,"table-td"],[2,"display","flex","flex-direction","row","align-items","center","gap","0.5rem","overflow-x","hidden !important","overflow-y","hidden !important"],[1,"table-button1",2,"border-radius","50%","width","2rem","height","2rem","display","flex","align-items","center","justify-content","center",3,"click"],[1,"material-symbols-outlined","notranslate"]],template:function(r,i){1&r&&(c(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"strong",4),v(5,"Situazione lavori:"),h(),ht(6,"ion-icon",5),h(),ht(7,"div",6),c(8,"p",7),v(9,"In corso: 0"),h(),c(10,"p",8),v(11,"Conclusi: 0"),h(),c(12,"p",9),v(13,"Da iniziare: 0"),h(),c(14,"p",10),v(15,"Totale lavori: 0"),h()(),c(16,"div",11)(17,"div",3)(18,"strong",4),v(19,"Fatturazione lavori:"),h(),ht(20,"ion-icon",12),h(),ht(21,"div",6),c(22,"p",13),v(23,"Rate fatturate: "),h(),c(24,"p",14),v(25,"Rate incassate: "),h(),c(26,"p",15),v(27,"Rate da fatturare: "),h(),c(28,"p",16),v(29,"Rate da incassare: "),h()(),c(30,"div",17)(31,"div",3)(32,"strong",4),v(33,"Analitica:"),h(),ht(34,"ion-icon",18),h(),ht(35,"div",6),c(36,"p",19),v(37,"Incasso totale: "),h(),c(38,"p",20),v(39,"Fatturato totale: "),h(),c(40,"p",21),v(41,"Costo materiale: "),h(),c(42,"p",22),v(43,"Costo manodopera: "),h(),c(44,"p",23),v(45,"Costo totale: "),h(),c(46,"p",24),v(47,"Produttivit\xe0 totale: "),h()(),c(48,"div",25)(49,"div",26)(50,"strong",4),v(51,"Generali:"),h(),ht(52,"ion-icon",27),h(),ht(53,"div",6),c(54,"p",28),v(55,"Ordini da effettuare: "),h()()(),c(56,"div",29)(57,"table",30)(58,"thead")(59,"tr",31)(60,"th",32),v(61,"Nome"),h(),c(62,"th",32),v(63,"Partita Iva"),h(),c(64,"th",32),v(65,"Data scadenza"),h(),c(66,"th",32),v(67,"Codice lavoro"),h(),c(68,"th",32),v(69,"Azioni"),h()()(),c(70,"tbody",31),$i(71,Rye,17,4,"tr",33),zc(72,"async"),h()()(),c(73,"div",34)(74,"button",35),fn("click",function(){return i.getMoreWorks()}),v(75,"Carica altri"),h()()()),2&r&&(jt(71),Kr("ngForOf",OA(72,1,i.documents)))},dependencies:[Wc,Yl,Wp]}),e})();function Nye(t,e){1&t&&(c(0,"button",8),v(1,"Preventivo"),h())}function Mye(t,e){1&t&&(c(0,"button",9),v(1,"Lavoro"),h())}function Lye(t,e){1&t&&(c(0,"button",10),v(1,"Cantiere"),h())}function Oye(t,e){1&t&&(c(0,"button",11),v(1,"Corretta posa"),h())}let Uye=(()=>{var t;class e{constructor(r){this.generalService=r}ngOnInit(){}}return(t=e).\u0275fac=function(r){return new(r||t)(Y(xa))},t.\u0275cmp=ee({type:t,selectors:[["app-add"]],decls:11,vars:4,consts:[[2,"width","100%","height","100%","display","flex","flex-direction","column"],["id","add-selection",2,"width","100%","height","100%","padding-left","1rem","display","flex","flex-direction","column"],[1,"general-text1"],["routerLink","/add-preventive","class","selection-button1",4,"ngIf"],["routerLink","/add-work","class","selection-button1",4,"ngIf"],["routerLink","/add-worksite","class","selection-button1",4,"ngIf"],["routerLink","/add-corretta-posa","class","selection-button1",4,"ngIf"],["routerLink","/add-timbratura",1,"selection-button1"],["routerLink","/add-preventive",1,"selection-button1"],["routerLink","/add-work",1,"selection-button1"],["routerLink","/add-worksite",1,"selection-button1"],["routerLink","/add-corretta-posa",1,"selection-button1"]],template:function(r,i){1&r&&(c(0,"body")(1,"div",0)(2,"div",1)(3,"h3",2),v(4,"Cosa vuoi creare?"),h(),$i(5,Nye,2,0,"button",3)(6,Mye,2,0,"button",4)(7,Lye,2,0,"button",5)(8,Oye,2,0,"button",6),c(9,"button",7),v(10,"Timbratura"),h()()()()),2&r&&(jt(5),Kr("ngIf","admin"==i.generalService.currentUserRole),jt(),Kr("ngIf","admin"==i.generalService.currentUserRole),jt(),Kr("ngIf","admin"==i.generalService.currentUserRole),jt(),Kr("ngIf","admin"==i.generalService.currentUserRole))},dependencies:[vh,Ed,_u]}),e})();var aE=_t(9107);function Vye(t,e){if(1&t){const n=fs();c(0,"tr")(1,"td",37)(2,"input",38),Dl("ngModelChange",function(i){const o=ln(n).$implicit;return Kl(o.column1,i)||(o.column1=i),En(i)}),h()(),c(3,"td",37)(4,"input",38),Dl("ngModelChange",function(i){const o=ln(n).$implicit;return Kl(o.column2,i)||(o.column2=i),En(i)}),h()(),c(5,"td",37)(6,"input",38),Dl("ngModelChange",function(i){const o=ln(n).$implicit;return Kl(o.column3,i)||(o.column3=i),En(i)}),h()(),c(7,"td",37),ht(8,"input",39),zc(9,"number"),h(),c(10,"td",37)(11,"button",40),fn("click",function(){const i=ln(n).index;return En(ki().rimuoviRiga(i))}),c(12,"span",41),v(13,"delete"),h()()()()}if(2&t){const n=e.$implicit;ul("data-index",e.index),jt(2),Bl("ngModel",n.column1),jt(2),Bl("ngModel",n.column2),jt(2),Bl("ngModel",n.column3),jt(2),Qv("value","",VC(9,6,n.column2*n.column3,"1.2-2")," \u20ac")}}_t(4941);let Qye=(()=>{var t;class e{constructor(r,i){this.firestore=r,this.generalService=i,this.rows=[{column1:"",column2:0,column3:0},{column1:"",column2:0,column3:0}]}ngOnInit(){var r=new Date,i=r.getDate(),o=r.getMonth()+1,s=r.getFullYear(),a=s+"-"+(o<10?"0"+o:o)+"-"+(i<10?"0"+i:i);document.getElementById("preventive-date-input").value=a,document.getElementById("preventive-number-year-input1").value=s.toString(),Cn.A.database().ref("counters/preventives/number").once("value",l=>{this.currentPreventiveNumber=l.val(),document.getElementById("preventive-number-input1").value=this.currentPreventiveNumber})}aggiungiRiga(){this.rows.push({column1:"",column2:0,column3:0})}rimuoviRiga(r){this.rows.splice(r,1)}calcolaColumn4(r){return r.column2*r.column3}calcolaTotaleColumn4(){let r=0;return this.rows.forEach(i=>{r+=this.calcolaColumn4(i)}),+r.toFixed(2)}addPreventive(){var r=(new Date).getFullYear().toString(),i=document.getElementById("preventive-place-input"),o=document.getElementById("preventive-date-input"),s=document.getElementById("preventive-number-input1"),a=document.getElementById("preventive-number-year-input1"),l=document.getElementById("preventive-recipient-input"),u=document.getElementById("preventive-p-iva-input"),p=document.getElementById("preventive-registered-office-input"),I=document.getElementById("preventive-object-input"),k=document.getElementById("preventive-description-input");this.firestore.collection("preventives").add({rows:this.rows,place:i.value,date:o.value,number:s.value,number_year:a.value,recipient:l.value,p_iva:u.value,registered_office:p.value,object:I.value,description:k.value,timestamp:Cn.A.firestore.FieldValue.serverTimestamp(),preventive_number:document.getElementById("preventive-number-input1").value+"-"+r}).then(O=>{this.incrementCurrentPreventiveNumber(),this.generalService.presentToast("Preventivo creato con successo")}).catch(O=>{this.generalService.presentToast("Errore durante la creazione del preventivo: "+O.message)})}incrementCurrentPreventiveNumber(){return(0,V.A)(function*(){Cn.A.database().ref("counters/preventives/number").transaction(r=>null===r?1:r+1)})()}catch(r){this.generalService.presentToast("Errore durante l'incremento del contatore preventivi, contattare l'amministratore per risolvere il problema: "+r.message)}exportPreventivePdf(){var r=document.getElementById("preventive-place-input"),i=document.getElementById("preventive-date-input"),o=document.getElementById("preventive-recipient-input"),s=document.getElementById("preventive-p-iva-input"),a=document.getElementById("preventive-registered-office-input"),l=document.getElementById("preventive-object-input"),u=document.getElementById("preventive-description-input");const p=new aE.default;p.setFontSize(10),p.addImage("assets/images/logo.png","PNG",10,10,80,40);const I=p.internal.pageSize.height;let k=60;p.text(r.value+"  "+i.value,p.internal.pageSize.width-10,k,{align:"right"}),k+=10,p.text("Spett.le: "+o.value,p.internal.pageSize.width-10,k,{align:"right"}),k+=10,p.text("P.Iva: "+s.value,p.internal.pageSize.width-10,k,{align:"right"}),k+=10,p.text("Indirizzo sede legale: "+a.value,p.internal.pageSize.width-10,k,{align:"right"}),k+=20,p.text("Oggetto: "+l.value,10,k,{maxWidth:p.internal.pageSize.width-10}),k+=10,p.text("Descrizione: "+u.value,10,k,{maxWidth:p.internal.pageSize.width-10}),k+=20;const O=this.rows.map(Bt=>[Bt.column1,Bt.column2.toString(),Bt.column3.toString(),"\u20ac"+this.calcolaColumn4(Bt)]);p.autoTable({head:[["Descrizione","Prezzo","Quantit\xe0","Importo"]],body:O,startY:k,margin:{top:20}});const ge=this.calcolaTotaleColumn4();k=I-50,p.text("TOTALE PREVENTIVO: \u20ac"+ge,p.internal.pageSize.width-60,k),k-=10,p.text("I prezzi sono da considerarsi IVA esclusa (22%)",10,k),k-=-30;const Be=p.internal.pageSize.width-60;p.text("Firma per accettazione",Be,k);const tt=12*p.getStringUnitWidth("Firma per accettazione");p.setLineWidth(.5),p.line(Be,k+3,Be+tt,k+3),p.save("AllGreen-Preventivo.pdf")}}return(t=e).\u0275fac=function(r){return new(r||t)(Y(Zl),Y(xa))},t.\u0275cmp=ee({type:t,selectors:[["app-add-preventive"]],decls:66,vars:2,consts:[["id","add-preventive",2,"height","100%","width","100%","display","flex","flex-direction","column","padding-left","1rem","overflow-y","auto","overflow-x","hidden","padding-bottom","7rem"],[2,"display","flex","flex-direction","row","align-items","center"],["routerLink","/add","name","chevron-back",2,"cursor","pointer","font-size","1.8rem"],["src","assets\\images\\logo.jpg","alt","",2,"width","18rem","margin-left","2rem","margin-top","2rem"],[2,"display","flex","flex-direction","column","justify-content","end","width","100%","padding-top","2rem","padding-right","2rem"],[2,"display","flex","flex-direction","row","justify-content","end","width","100%","gap","1rem","height","3rem"],["id","preventive-place-input","value","Trieste","type","text",1,"input-field1",2,"width","8rem"],["id","preventive-date-input","type","date",1,"input-field1"],[2,"display","flex","flex-direction","row","justify-content","end","align-items","center","gap","1rem","height","3rem","padding-bottom","2rem"],["for","preventive-number-input1",2,"margin-top","0.5rem","margin-bottom","0.2rem","margin-right","0.5rem"],["id","preventive-number-input1","value","0","type","number",1,"input-field1",2,"width","5rem"],[2,"font-weight","bold","font-size","2rem"],["id","preventive-number-year-input1","value","0","type","number",1,"input-field1",2,"width","5rem"],[2,"display","flex","flex-direction","row","justify-content","end","align-items","center","gap","1rem","height","3rem"],["for","preventive-recipient-input",2,"margin-top","0.5rem","margin-bottom","0.2rem","margin-right","0.5rem"],["id","preventive-recipient-input","value","Comune di Trieste","type","text",1,"input-field1"],["for","preventive-p-iva-input",2,"margin-top","0.5rem","margin-bottom","0.2rem","margin-right","0.5rem"],["id","preventive-p-iva-input","type","text",1,"input-field1"],["for","preventive-registered-office-input",2,"margin-top","0.5rem","margin-bottom","0.2rem","margin-right","0.5rem"],["id","preventive-registered-office-input","value","Piazzetta Tiepolo , 1 33097","type","text",1,"input-field1"],[2,"display","flex","flex-direction","start","justify-content","end","align-items","center","gap","1rem","height","3rem","margin-top","3rem"],["for","preventive-object-input",2,"margin-top","0.5rem","margin-bottom","0.2rem","margin-right","0.5rem","font-weight","bold"],["id","preventive-object-input","value","FORNITURA E POSA IMPIANTO DI IRRIGAZIONE","type","text",1,"input-field1",2,"width","100%"],["id","preventive-description-input","value","Come da Vostra richiesta, inviamo la nostra migliore offerta per le seguenti lavorazioni.","type","text",1,"input-field1",2,"width","100%"],[1,"table-container"],[1,"button5",2,"height","2rem","padding-left","0.5rem","padding-right","0.5rem","margin-top","1rem","margin-bottom","1rem",3,"click"],[1,"table"],[1,"table-th",2,"width","40rem"],[1,"table-th"],[4,"ngFor","ngForOf"],["id","totale-column4",2,"font-weight","bold","width","100%","text-align","end"],[2,"margin-top","1rem","margin-bottom","1rem"],[2,"width","100%","text-align","end","text-decoration","underline"],[2,"display","flex","flex-direction","column-reverse","width","100%","position","absolute","z-index","2","pointer-events","none","height","100%"],[2,"width","calc( 100% - 2rem )","display","grid","grid-template-columns","repeat(auto-fit, minmax(200px, 1fr))","gap","1rem","background","white","padding-bottom","1rem","padding-top","1rem","pointer-events","all"],[1,"button1",3,"click"],["routerLink","/add",1,"button1",2,"margin-right","1rem"],[1,"table-td"],["type","text",1,"form-control",3,"ngModelChange","ngModel"],["type","text",1,"form-control",3,"value"],[1,"btn","btn-danger",2,"border-radius","50%","width","2rem","height","2rem","display","flex","align-items","center","justify-content","center",3,"click"],[1,"material-symbols-outlined","notranslate"]],template:function(r,i){1&r&&(c(0,"div",0)(1,"div",1),ht(2,"ion-icon",2),c(3,"h3"),v(4,"Crea preventivo"),h()(),ht(5,"img",3),c(6,"div",4)(7,"div",5),ht(8,"input",6)(9,"input",7),h(),c(10,"div",8)(11,"label",9),v(12,"Preventivo N."),h(),ht(13,"input",10),c(14,"p",11),v(15,"/"),h(),ht(16,"input",12),h(),c(17,"div",13)(18,"label",14),v(19,"Spett.le"),h(),ht(20,"input",15),h(),c(21,"div",13)(22,"label",16),v(23,"P.iva"),h(),ht(24,"input",17),h(),c(25,"div",13)(26,"label",18),v(27,"Indirizzo sede legale"),h(),ht(28,"input",19),h(),c(29,"div",20)(30,"label",21),v(31,"Oggetto:"),h(),ht(32,"input",22),h(),ht(33,"input",23),c(34,"div",24)(35,"button",25),fn("click",function(){return i.aggiungiRiga()}),v(36,"Aggiungi Riga"),h(),c(37,"table",26)(38,"thead")(39,"tr")(40,"th",27),v(41,"Lavorazione"),h(),c(42,"th",28),v(43,"Prezzo Unitario"),h(),c(44,"th",28),v(45,"Q.ta"),h(),c(46,"th",28),v(47,"Importo"),h(),c(48,"th",28),v(49,"Azioni"),h()()(),c(50,"tbody"),$i(51,Vye,14,9,"tr",29),h()()(),c(52,"p",30),v(53),h(),c(54,"strong",31),v(55,"I prezzi sono da considerarsi IVA esclusa (22%)"),h(),c(56,"p",32),v(57,"Firma per accettazione"),h()(),c(58,"div",33)(59,"div",34)(60,"button",35),fn("click",function(){return i.addPreventive()}),v(61,"Salva"),h(),c(62,"button",35),fn("click",function(){return i.exportPreventivePdf()}),v(63,"Esporta"),h(),c(64,"button",36),v(65,"Annulla"),h()()()()),2&r&&(jt(51),Kr("ngForOf",i.rows),jt(2),zp("TOTALE PREVENTIVO: ",i.calcolaTotaleColumn4()," \u20ac"))},dependencies:[Wc,Yl,Ed,_u,im,Yv,om,cb]}),e})();function Hye(t,e){if(1&t){const n=fs();c(0,"tr")(1,"td",240),v(2),h(),c(3,"td",240),v(4),h(),c(5,"td",240),v(6),h(),c(7,"td",240),v(8),h(),c(9,"td",240),v(10),h(),c(11,"td",240),v(12),h(),c(13,"td",240)(14,"button",241),fn("click",function(){const i=ln(n).index;return En(ki().removeInstallment(i))}),c(15,"span",151),v(16,"delete"),h()()()()}if(2&t){const n=e.$implicit;ul("data-index",e.index),jt(2),ar(n.name),jt(2),ar(n.amount),jt(2),ar(n.fatturata),jt(2),ar(n.data_fattura),jt(2),ar(n.incassata),jt(2),ar(n.data_incasso)}}function jye(t,e){1&t&&(c(0,"span"),v(1,"Bassa"),h())}function zye(t,e){1&t&&(c(0,"span"),v(1,"Media"),h())}function $ye(t,e){1&t&&(c(0,"span"),v(1,"Alta"),h())}function Gye(t,e){if(1&t){const n=fs();c(0,"tr")(1,"td",240),v(2),h(),c(3,"td",240),v(4),h(),c(5,"td",240),$i(6,jye,2,0,"span",242)(7,zye,2,0,"span",242)(8,$ye,2,0,"span",242),h(),c(9,"td")(10,"button",241),fn("click",function(){const i=ln(n).index;return En(ki().removeWorksiteActivity(i))}),c(11,"span",151),v(12,"delete"),h()()()()}if(2&t){const n=e.$implicit;ul("data-index",e.index),jt(2),ar(n.activity),jt(2),ar(n.status),jt(2),Kr("ngIf","1"===n.priority),jt(),Kr("ngIf","2"===n.priority),jt(),Kr("ngIf","3"===n.priority)}}function Wye(t,e){if(1&t){const n=fs();c(0,"tr")(1,"td",240),v(2),h(),c(3,"td",240),v(4),h(),c(5,"td",240),v(6),h(),c(7,"td",240),v(8),h(),c(9,"td",240),v(10),h(),c(11,"td")(12,"button",241),fn("click",function(){const i=ln(n).index;return En(ki().removeCost(i))}),c(13,"span",151),v(14,"delete"),h()()()()}if(2&t){const n=e.$implicit;ul("data-index",e.index),jt(2),ar(n.articles_number),jt(2),ar(n.description),jt(2),ar(n.cost),jt(2),ar(n.cost*n.articles_number),jt(2),ar(n.status)}}let Kye=(()=>{var t;class e{constructor(r,i){this.firestore=r,this.generalService=i,this.installments=new J([]),this.nextPageAvailable=!0,this.installmentsRows=[],this.worksiteCostsRows=[],this.worksiteActivitiesRows=[]}ngOnInit(){document.getElementById("worksite-provincia-input").value="Trieste";const r=document.getElementById("worksite-boss-input");Cn.A.database().ref("users_data").on("value",i=>{r.innerHTML='<option value="">Seleziona un\'opzione</option>',i.forEach(o=>{const s=o.key,a=o.val(),l=document.createElement("option");l.value=s,l.innerText=a.name,r.appendChild(l)})})}openOrClosePopup1(){const r=document.getElementById("worksite-money-status-input");console.log(r.value),"da-saldare"==r.value&&(document.getElementById("popup-stato-amministrativo").style.display="flex"),(r.value="saldato")&&(document.getElementById("popup-stato-amministrativo").style.display="none")}addWorksite(){var r=document.getElementById("worksite-name-input"),i=document.getElementById("worksite-partita-iva-input"),o=document.getElementById("worksite-code-input"),s=document.getElementById("worksite-address-input"),a=document.getElementById("worksite-provincia-input"),l=document.getElementById("worksite-customer-type-input"),u=document.getElementById("worksite-end-date-input"),p=document.getElementById("worksite-status-input"),I=document.getElementById("worksite-money-status-input"),k=document.getElementById("worksite-boss-input"),O=document.getElementById("worksite-delay-input"),q=document.getElementById("worksite-hourly-cost-input"),ge=document.getElementById("worksite-employed-workers-input"),Be=document.getElementById("worksite-labor-hours-input"),Ye=document.getElementById("worksite-collection-input"),tt=document.getElementById("worksite-pavimentazione-antitraoma-input");this.pavimentazioneAntitraoma=tt.checked?"true":"false";var Bt=document.getElementById("worksite-pavimentazione-drenante-input");this.pavimentazioneDrenante=Bt.checked?"true":"false";var Ut=document.getElementById("worksite-verde-input");this.verde=Ut.checked?"true":"false";var Fn=document.getElementById("worksite-giochi-input");this.giochi=Fn.checked?"true":"false",this.firestore.collection("worksites").add({name:r.value,partita_iva:i.value,code:o.value,address:s.value,province:a.value,customer_type:l.value,end_date:u.value,money_status:I.value,status:p.value,boss_uid:k.value,boss_name:k.innerText,delay:O.value,hourly_cost:q.value,employed_workers:ge.value,labor_hours:Be.value,collection:Ye.value,timestamp:Cn.A.firestore.FieldValue.serverTimestamp(),pavimentazione_antitraoma:this.pavimentazioneAntitraoma,pavimentazione_drenante:this.pavimentazioneDrenante,verde:this.verde,giochi:this.giochi}).then(Kn=>{this.addInstallments(Kn.id),this.addCosts(Kn.id),this.addWorksiteActivities(Kn.id),this.addWorksiteCounts(Kn.id),this.generalService.presentToast("Cantiere creato con successo")}).catch(Kn=>{this.generalService.presentToast("Errore durante l'aggiunta del cantiere: "+Kn.message)})}calcLaborCost(){var r=document.getElementById("worksite-hourly-cost-input"),i=document.getElementById("worksite-employed-workers-input"),o=document.getElementById("worksite-labor-hours-input"),s=parseFloat(r.value)||1,a=parseFloat(i.value)||1,l=parseFloat(o.value)||1;document.getElementById("worksite-total-labor-cost-input").value=(s*a*l).toString()}addWorksiteCounts(r){var i=(new Date).getFullYear().toString();Cn.A.database().ref("/counters/worksites/"+i+"/general/total/").transaction(o=>null===o?{fatturato:this.countFatturato(),incasso:this.countIncasso(),spesa:this.countSpesa(),spesa_personale:this.countSpesaPersonale()}:{fatturato:(o.fatturato||0)+this.countFatturato(),incasso:(o.incasso||0)+this.countIncasso(),spesa:(o.spesa||0)+this.countSpesa(),spesa_personale:(o.spesa_personale||0)+Number(this.countSpesaPersonale())}).catch(o=>{this.generalService.presentToast("Errore durante l'incremento dei contatori del cantiere: "+o.message)}),Cn.A.database().ref("/counters/worksites/"+i+"/general/"+parseFloat(((new Date).getMonth()+1).toString())+"/").transaction(o=>null===o?{fatturato:this.countFatturato(),incasso:this.countIncasso(),spesa:this.countSpesa(),spesa_personale:this.countSpesaPersonale()}:{fatturato:(o.fatturato||0)+this.countFatturato(),incasso:(o.incasso||0)+this.countIncasso(),spesa:(o.spesa||0)+this.countSpesa(),spesa_personale:(o.spesa_personale||0)+Number(this.countSpesaPersonale())}).catch(o=>{this.generalService.presentToast("Errore durante l'incremento dei contatori del cantiere: "+o.message)}),Cn.A.database().ref("/counters/worksites/"+i+"/"+r+"/total/").transaction(o=>null===o?{fatturato:this.countFatturato(),incasso:this.countIncasso(),spesa:this.countSpesa(),spesa_personale:this.countSpesaPersonale()}:{fatturato:(o.fatturato||0)+this.countFatturato(),incasso:(o.incasso||0)+this.countIncasso(),spesa:(o.spesa||0)+this.countSpesa(),spesa_personale:(o.spesa_personale||0)+Number(this.countSpesaPersonale())}).catch(o=>{this.generalService.presentToast("Errore durante l'incremento dei contatori del cantiere: "+o.message)}),Cn.A.database().ref("/counters/worksites/"+i+"/"+r+"/"+parseFloat(((new Date).getMonth()+1).toString())+"/").transaction(o=>null===o?{fatturato:this.countFatturato(),incasso:this.countIncasso(),spesa:this.countSpesa(),spesa_personale:this.countSpesaPersonale()}:{fatturato:(o.fatturato||0)+this.countFatturato(),incasso:(o.incasso||0)+this.countIncasso(),spesa:(o.spesa||0)+this.countSpesa(),spesa_personale:(o.spesa_personale||0)+Number(this.countSpesaPersonale())}).catch(o=>{this.generalService.presentToast("Errore durante l'incremento dei contatori del cantiere: "+o.message)})}countFatturato(){return this.installmentsRows.reduce((i,o)=>"fatturata"===o.fatturata?i+parseFloat(o.amount):i,0)}countIncasso(){return this.installmentsRows.reduce((i,o)=>"incassata"===o.incassata?i+parseFloat(o.amount):i,0)}countSpesa(){return this.worksiteCostsRows.reduce((i,o)=>null!=o.cost?i+parseFloat(o.cost)*parseFloat(o.articles_number):i,0)}countSpesaPersonale(){return document.getElementById("worksite-total-labor-cost-input").value}addInstallments(r){var i=this;return(0,V.A)(function*(){try{for(let o=0;o<i.installmentsRows.length;o++){const s=i.installmentsRows[o];s.worksite_id=r,s.timestamp=Cn.A.firestore.FieldValue.serverTimestamp(),s.group="worksite",yield i.firestore.collection("installments").add(s)}}catch(o){i.generalService.presentToast("Errore durante l'aggiunta delle rate al cantiere: "+o.message)}})()}addInstallment(){this.installmentsRows.push({name:document.getElementById("installment-name-input").value,amount:document.getElementById("installment-amount-input").value,fatturata:document.getElementById("installment-fatturata-input").value,data_fattura:document.getElementById("installment-data-fattura-input").value,incassata:document.getElementById("installment-incassata-input").value,data_incasso:document.getElementById("installment-data-incasso-input").value,worksite_id:void 0,timestamp:void 0,group:void 0})}removeInstallment(r){this.installmentsRows.splice(r,1)}addCosts(r){var i=this;return(0,V.A)(function*(){try{for(let o=0;o<i.worksiteCostsRows.length;o++){const s=i.worksiteCostsRows[o];s.worksite_id=r,i.currentWorksiteId=r,s.timestamp=Cn.A.firestore.FieldValue.serverTimestamp(),s.group="worksite",yield i.firestore.collection("costs").add(s);const l=s.articles_number,u=parseFloat(s.cost.value),p=parseFloat(l.value);if(isNaN(u)||isNaN(p))return void i.generalService.presentToast("Alcuni numeri non sono validi");const I=u*p;if(isNaN(I))return void i.generalService.presentToast("Il calcolo ha come risultato un numero non valido");i.updateCostCounterAnnuale(I),i.updateCostCounterMensile(I)}}catch(o){i.generalService.presentToast("Errore durante l'aggiunta delle spese al cantiere: "+o.message)}})()}updateCostCounterAnnuale(r){var i=(new Date).getFullYear().toString();Cn.A.database().ref("/counters/worksites/"+i+"/general/total/").child("spesa").transaction(s=>null===s?r:s+r).catch(s=>{this.generalService.presentToast("Errore durante l'incremento del costo annuale: "+s.message)}),Cn.A.database().ref("/counters/worksites/"+i+"/"+this.currentWorksiteId+"/total/").child("spesa").transaction(s=>null===s?r:s+r).catch(s=>{this.generalService.presentToast("Errore durante l'incremento del costo annuale: "+s.message)})}updateCostCounterMensile(r){var i=(new Date).getFullYear().toString(),o=((new Date).getMonth()+1).toString();Cn.A.database().ref("/counters/worksites/"+i+"/general/"+parseFloat(((new Date).getMonth()+1).toString())+"/").child("spesa").transaction(a=>null===a?r:a+r).catch(a=>{this.generalService.presentToast("Errore durante l'incremento del fatturato mensile: "+a.message)}),Cn.A.database().ref("/counters/worksites/"+i+"/"+this.currentWorksiteId+"/"+o+"/").child("spesa").transaction(a=>null===a?r:a+r).catch(a=>{this.generalService.presentToast("Errore durante l'incremento del fatturato annuale: "+a.message)})}addCost(){this.worksiteCostsRows.push({articles_number:document.getElementById("cost-articles-number-input").value,description:document.getElementById("cost-description-input").value,cost:document.getElementById("cost-cost-input").value,status:document.getElementById("cost-status-input").value,worksite_id:void 0,timestamp:void 0,group:void 0})}removeCost(r){this.worksiteCostsRows.splice(r,1)}addWorksiteActivities(r){var i=this;return(0,V.A)(function*(){try{for(let o=0;o<i.worksiteActivitiesRows.length;o++){const s=i.worksiteActivitiesRows[o];s.worksite_id=r,s.timestamp=Cn.A.firestore.FieldValue.serverTimestamp(),s.group="worksite",yield i.firestore.collection("activities").add(s)}}catch(o){i.generalService.presentToast("Errore durante l'aggiunta delle attivit\xe0 al cantiere: "+o.message)}})()}addWorksiteActivity(){this.worksiteActivitiesRows.push({activity:document.getElementById("activity-name-input").value,status:document.getElementById("activity-status-input").value,priority:document.getElementById("activity-priority-input").value,worksite_id:void 0,timestamp:void 0,group:void 0})}removeWorksiteActivity(r){this.worksiteActivitiesRows.splice(r,1)}}return(t=e).\u0275fac=function(r){return new(r||t)(Y(Zl),Y(xa))},t.\u0275cmp=ee({type:t,selectors:[["app-add-worksite"]],decls:518,vars:3,consts:[["id","add-worksite",2,"height","100%","width","100%","display","flex","flex-direction","column","padding-left","1rem","padding-right","1rem","overflow-y","auto","overflow-x","hidden","padding-bottom","7rem"],[2,"width","100%","display","grid","grid-template-columns","repeat(auto-fit, minmax(200px, 1fr))","grid-gap","10px","margin-top","4rem"],[1,"inputGroup",2,"width","100%"],["id","worksite-name-input","type","text","value","Palazzo economo e magazzino 20",1,"input-field3"],["for","worksite-name-input"],[1,"inputGroup",2,"display","inline-grid"],["id","worksite-partita-iva-input","type","text",1,"input-field3"],["for","worksite-partita-iva-input"],["id","worksite-code-input","type","text",1,"input-field3"],["for","worksite-code-input"],[2,"width","100%","display","grid","grid-template-columns","repeat(auto-fit, minmax(200px, 1fr))","grid-gap","10px"],[1,"inputGroup",2,"display","inline-grid","width","calc(100% -10rem)"],["id","worksite-address-input","type","text",1,"input-field3"],["for","worksite-address-input"],[2,"display","inline-grid","flex-direction","column"],[2,"margin-bottom","-1.5rem","z-index","2","background","white","margin-left","1.5rem","font-size","14px","color","rgb(100, 100, 100)","width","6rem","text-align","center"],[1,"inputGroup"],["id","worksite-provincia-input",1,"selector1",2,"width","100%"],["value","Alessandria"],["value","Ancona"],["value","Arezzo"],["value","Ascoli Piceno"],["value","Asti"],["value","Avellino"],["value","Bari"],["value","Barletta-Andria-Trani"],["value","Belluno"],["value","Benevento"],["value","Bergamo"],["value","Biella"],["value","Bologna"],["value","Bolzano"],["value","Brescia"],["value","Brindisi"],["value","Cagliari"],["value","Caltanissetta"],["value","Campobasso"],["value","Caserta"],["value","Catania"],["value","Catanzaro"],["value","Chieti"],["value","Como"],["value","Cosenza"],["value","Cremona"],["value","Crotone"],["value","Cuneo"],["value","Enna"],["value","Fermo"],["value","Ferrara"],["value","Firenze"],["value","Foggia"],["value","Forl\xec"],["value","Frosinone"],["value","Genova"],["value","Gorizia"],["value","Grosseto"],["value","Imperia"],["value","Isernia"],["value","La Spezia"],["value","L'Aquila"],["value","Latina"],["value","Lecce"],["value","Lecco"],["value","Livorno"],["value","Lodi"],["value","Lucca"],["value","Macerata"],["value","Mantova"],["value","Massa-Carrara"],["value","Matera"],["value","Messina"],["value","Milano"],["value","Modena"],["value","Monza e della Brianza"],["value","Napoli"],["value","Novara"],["value","Nuoro"],["value","Ogliastra"],["value","Oristano"],["value","Padova"],["value","Palermo"],["value","Parma"],["value","Pavia"],["value","Perugia"],["value","Pesaro e Urbino"],["value","Pescara"],["value","Piacenza"],["value","Pisa"],["value","Pistoia"],["value","Pordenone"],["value","Potenza"],["value","Prato"],["value","Ragusa"],["value","Ravenna"],["value","Reggio Calabria"],["value","Reggio nell'Emilia"],["value","Rieti"],["value","Rimini"],["value","Roma"],["value","Rovigo"],["value","Salerno"],["value","Sassari"],["value","Savona"],["value","Siena"],["value","Siracusa"],["value","Sondrio"],["value","Sud Sardegna"],["value","Taranto"],["value","Teramo"],["value","Terni"],["value","Torino"],["value","Trapani"],["value","Trento"],["value","Treviso"],["value","Trieste"],["value","Udine"],["value","Valle d'Aosta"],["value","Varese"],["value","Venezia"],["value","Verbano-Cusio-Ossola"],["value","Vercelli"],["value","Verona"],["value","Vibo Valentia"],["value","Vicenza"],["value","Viterbo"],[2,"width","100%","display","grid","grid-template-columns","repeat(auto-fit, minmax(200px, 1fr))","grid-gap","10px","align-items","center"],[2,"display","flex","flex-direction","column","overflow","hidden"],["id","worksite-customer-type-input",1,"selector1",2,"width","100%"],["value","public-administration"],["value","private"],[2,"display","flex","flex-direction","row","overflow-x","auto","align-items","center","border","2px solid #19212d !important","border-radius","20px","height","3.4rem","gap","1rem"],[2,"display","flex","flex-direction","row","align-items","center","gap","0.5rem"],["id","worksite-pavimentazione-antitraoma-input","type","checkbox",1,"input-field3",2,"width","1rem","height","1rem"],[2,"margin-top","0.2rem","margin-bottom","0.2rem","width","8rem"],["id","worksite-pavimentazione-drenante-input","type","checkbox",1,"input-field3",2,"width","1rem","height","1rem"],["id","worksite-verde-input","type","checkbox",1,"input-field3",2,"width","1rem","height","1rem"],[2,"margin-top","0.2rem","margin-bottom","0.2rem"],["id","worksite-giochi-input","type","checkbox",1,"input-field3",2,"width","1rem","height","1rem"],["id","worksite-end-date-input","type","date",1,"input-field3"],["for","worksite-end-date-input"],[2,"display","flex","flex-direction","column","margin-top","0.4rem"],["id","worksite-status-input",1,"selector1",2,"width","100%"],["value","to-start"],["value","doing"],["value","finished"],[2,"margin-bottom","-1.5rem","z-index","2","background","white","margin-left","1.5rem","font-size","14px","color","rgb(100, 100, 100)","width","10rem","text-align","center"],["id","worksite-money-status-input",1,"selector1",2,"width","100%"],["value","da-saldare"],["value","saldato"],["onclick","if(document.getElementById('popup-stato-amministrativo').style.display == 'none' ){document.getElementById('popup-stato-amministrativo').style.display = 'flex'; }else{document.getElementById('popup-stato-amministrativo').style.display = 'none'; }",2,"width","100%","display","flex","flex-direction","row","align-items","center","padding-top","1rem","padding-bottom","1rem","cursor","pointer"],[2,"margin-top","0rem","margin-bottom","0rem"],[1,"material-symbols-outlined","notranslate"],["id","popup-stato-amministrativo",1,"table-container",2,"width","100%","display","none","flex-direction","column","padding-bottom","3rem","border","1px solid rgba(0, 0, 0, 0.091)","border-end-start-radius","1rem","border-end-end-radius","1rem"],[2,"width","100%","display","flex","flex-direction","row","align-items","center","gap","1rem","padding-left","1rem","flex-wrap","wrap","padding-bottom","2rem"],["id","installment-name-input","type","text",1,"input-field3"],["for","installment-name-input"],[1,"inputGroup",2,"width","8rem"],["id","installment-amount-input","type","number",1,"input-field3"],["for","installment-amount-input"],[2,"margin-bottom","-1.5rem","z-index","2","background","white","margin-left","1.5rem","font-size","14px","color","rgb(100, 100, 100)","width","8rem","text-align","center"],["id","installment-fatturata-input",1,"selector1",2,"width","100%"],["value","non_fatturata"],["value","fatturata"],["id","installment-data-fattura-input","type","date",1,"input-field3"],["for","installment-data-fattura-input"],[2,"display","flex","flex-direction","column","margin-top","0.4rem","width","8rem"],[2,"margin-bottom","-1.5rem","z-index","2","background","white","margin-left","1.5rem","font-size","14px","color","rgb(100, 100, 100)","width","auto"],["id","installment-incassata-input",1,"selector1",2,"width","100%"],["value","non_incassata"],["value","incassata"],["id","installment-data-incasso-input","type","date",1,"input-field3"],["for","installment-data-incasso-input"],[1,"button5",2,"height","3rem","padding-left","0.5rem","padding-right","0.5rem","margin-top","1rem","margin-bottom","1rem","width","8rem","height","3rem",3,"click"],[2,"width","100%","overflow-x","auto"],[1,"table",2,"width","100%"],[2,"height","2.5rem"],[1,"table-th",2,"width","10rem"],[1,"table-th",2,"width","3rem"],[4,"ngFor","ngForOf"],["id","worksite-boss-input",1,"selector1",2,"width","100%"],["id","worksite-remaining-days-input","type","number",1,"input-field3"],["for","worksite-remaining-days-input"],["id","worksite-delay-input","type","number",1,"input-field3"],["for","worksite-delay-input"],["id","worksite-hourly-cost-input","type","number",1,"input-field3",3,"input"],["for","worksite-hourly-cost-input"],["id","worksite-employed-workers-input","type","number",1,"input-field3",3,"input"],["id","worksite-employed-workers-input"],["id","worksite-labor-hours-input","type","number",1,"input-field3",3,"input"],["for","worksite-labor-hours-input"],["id","worksite-total-labor-cost-input","readonly","","type","number",1,"input-field3"],["for","worksite-total-labor-cost-input"],["id","worksite-total-costs-input","type","number",1,"input-field3"],["for","worksite-total-costs-input"],["id","worksite-collection-input","type","number",1,"input-field3"],["for","worksite-collection-input"],[1,"inputGroup",2,"display","inline-grid","width","100%"],["id","worksite-productivity-input","type","text",1,"input-field3"],["for","worksite-productivity-input"],[2,"width","100%"],["onclick","if(document.getElementById('stato-cantiere-table-containter').style.display =='none' ){document.getElementById('stato-cantiere-table-containter').style.display = 'flex'; }else{document.getElementById('stato-cantiere-table-containter').style.display = 'none'; }",2,"width","100%","display","flex","flex-direction","row","align-items","center","padding-top","1rem","padding-bottom","1rem","cursor","pointer"],["id","stato-cantiere-table-containter",2,"display","none","flex-direction","column","width","100%"],[2,"width","100%","display","flex","flex-direction","row","align-items","center","gap","1rem","padding-left","1rem","flex-wrap","wrap","padding-bottom","1rem"],["id","activity-name-input","type","text",1,"input-field3"],["for","activity-name-input"],["id","activity-status-input",1,"selector1",2,"width","100%"],["value","to-do"],["value","completed"],["value","not_started"],["value","pending"],["value","timed_out"],["id","activity-priority-input",1,"selector1",2,"width","100%"],["value","3"],["value","2"],["value","1"],[1,"table-th",2,"width","5rem"],[1,"table-th",2,"width","2rem !important"],["onclick","if(document.getElementById('spesa-cantiere-table-containter').style.display =='none' ){document.getElementById('spesa-cantiere-table-containter').style.display = 'flex'; }else{document.getElementById('spesa-cantiere-table-containter').style.display = 'none'; }",2,"width","100%","display","flex","flex-direction","row","align-items","center","padding-top","1rem","padding-bottom","1rem","cursor","pointer"],["id","spesa-cantiere-table-containter",2,"display","none","flex-direction","column","width","100%"],["id","popup-stato-amministrativo",1,"table-container",2,"width","100%","display","flex","flex-direction","column","padding-bottom","1rem"],["id","cost-articles-number-input","type","number",1,"input-field3"],["for","cost-articles-number-input"],[1,"inputGroup",2,"width","15rem"],["id","cost-description-input","type","text",1,"input-field3"],["for","cost-description-input"],[1,"inputGroup",2,"width","12rem"],["id","cost-cost-input","type","number",1,"input-field3"],["for","cost-cost-input"],["id","cost-status-input",1,"selector1",2,"width","100%"],["value","to-order"],["value","ordered"],["value","arriving"],["value","arrived"],[2,"display","flex","flex-direction","column-reverse","width","100%","position","absolute","z-index","2","pointer-events","none","height","100%"],[2,"width","calc( 100% - 2rem )","display","grid","grid-template-columns","repeat(auto-fit, minmax(200px, 1fr))","gap","1rem","background","white","padding-bottom","1rem","padding-top","1rem","pointer-events","all"],[1,"button5",2,"height","2.5rem","padding-left","0.5rem","padding-right","0.5rem","margin-top","0.5rem","margin-bottom","0.5rem","border-radius","2rem","font-weight","bold","font-size","1rem",3,"click"],["routerLink","/add",1,"button5",2,"height","2.5rem","padding-left","0.5rem","padding-right","0.5rem","margin-top","0.5rem","margin-bottom","0.5rem","border-radius","2rem","font-weight","bold","font-size","1rem"],[2,"flex","1"],[2,"width","100%","display","flex","flex-direction","row","align-items","center","padding-bottom","1rem","background","white","flex-shrink","0","pointer-events","all"],["routerLink","/add","name","chevron-back",2,"cursor","pointer","font-size","1.8rem"],[1,"table-td"],[1,"btn","btn-danger",2,"border-radius","50%","width","2rem","height","2rem","display","flex","align-items","center","justify-content","center",3,"click"],[4,"ngIf"]],template:function(r,i){1&r&&(c(0,"div",0)(1,"div",1)(2,"div",2),ht(3,"input",3),c(4,"label",4),v(5,"Nome cantiere"),h()(),c(6,"div",5),ht(7,"input",6),c(8,"label",7),v(9,"Partita Iva"),h()(),c(10,"div",5),ht(11,"input",8),c(12,"label",9),v(13,"Codice cantiere"),h()()(),c(14,"div",10)(15,"div",11),ht(16,"input",12),c(17,"label",13),v(18,"Indirizzo"),h()(),c(19,"div",14)(20,"label",15),v(21,"Provincia"),h(),c(22,"div",16)(23,"select",17)(24,"option",18),v(25,"Alessandria"),h(),c(26,"option",19),v(27,"Ancona"),h(),c(28,"option",20),v(29,"Arezzo"),h(),c(30,"option",21),v(31,"Ascoli Piceno"),h(),c(32,"option",22),v(33,"Asti"),h(),c(34,"option",23),v(35,"Avellino"),h(),c(36,"option",24),v(37,"Bari"),h(),c(38,"option",25),v(39,"Barletta-Andria-Trani"),h(),c(40,"option",26),v(41,"Belluno"),h(),c(42,"option",27),v(43,"Benevento"),h(),c(44,"option",28),v(45,"Bergamo"),h(),c(46,"option",29),v(47,"Biella"),h(),c(48,"option",30),v(49,"Bologna"),h(),c(50,"option",31),v(51,"Bolzano"),h(),c(52,"option",32),v(53,"Brescia"),h(),c(54,"option",33),v(55,"Brindisi"),h(),c(56,"option",34),v(57,"Cagliari"),h(),c(58,"option",35),v(59,"Caltanissetta"),h(),c(60,"option",36),v(61,"Campobasso"),h(),c(62,"option",37),v(63,"Caserta"),h(),c(64,"option",38),v(65,"Catania"),h(),c(66,"option",39),v(67,"Catanzaro"),h(),c(68,"option",40),v(69,"Chieti"),h(),c(70,"option",41),v(71,"Como"),h(),c(72,"option",42),v(73,"Cosenza"),h(),c(74,"option",43),v(75,"Cremona"),h(),c(76,"option",44),v(77,"Crotone"),h(),c(78,"option",45),v(79,"Cuneo"),h(),c(80,"option",46),v(81,"Enna"),h(),c(82,"option",47),v(83,"Fermo"),h(),c(84,"option",48),v(85,"Ferrara"),h(),c(86,"option",49),v(87,"Firenze"),h(),c(88,"option",50),v(89,"Foggia"),h(),c(90,"option",51),v(91,"Forl\xec-Cesena"),h(),c(92,"option",52),v(93,"Frosinone"),h(),c(94,"option",53),v(95,"Genova"),h(),c(96,"option",54),v(97,"Gorizia"),h(),c(98,"option",55),v(99,"Grosseto"),h(),c(100,"option",56),v(101,"Imperia"),h(),c(102,"option",57),v(103,"Isernia"),h(),c(104,"option",58),v(105,"La Spezia"),h(),c(106,"option",59),v(107,"L'Aquila"),h(),c(108,"option",60),v(109,"Latina"),h(),c(110,"option",61),v(111,"Lecce"),h(),c(112,"option",62),v(113,"Lecco"),h(),c(114,"option",63),v(115,"Livorno"),h(),c(116,"option",64),v(117,"Lodi"),h(),c(118,"option",65),v(119,"Lucca"),h(),c(120,"option",66),v(121,"Macerata"),h(),c(122,"option",67),v(123,"Mantova"),h(),c(124,"option",68),v(125,"Massa-Carrara"),h(),c(126,"option",69),v(127,"Matera"),h(),c(128,"option",70),v(129,"Messina"),h(),c(130,"option",71),v(131,"Milano"),h(),c(132,"option",72),v(133,"Modena"),h(),c(134,"option",73),v(135,"Monza e della Brianza"),h(),c(136,"option",74),v(137,"Napoli"),h(),c(138,"option",75),v(139,"Novara"),h(),c(140,"option",76),v(141,"Nuoro"),h(),c(142,"option",77),v(143,"Ogliastra"),h(),c(144,"option",78),v(145,"Oristano"),h(),c(146,"option",79),v(147,"Padova"),h(),c(148,"option",80),v(149,"Palermo"),h(),c(150,"option",81),v(151,"Parma"),h(),c(152,"option",82),v(153,"Pavia"),h(),c(154,"option",83),v(155,"Perugia"),h(),c(156,"option",84),v(157,"Pesaro e Urbino"),h(),c(158,"option",85),v(159,"Pescara"),h(),c(160,"option",86),v(161,"Piacenza"),h(),c(162,"option",87),v(163,"Pisa"),h(),c(164,"option",88),v(165,"Pistoia"),h(),c(166,"option",89),v(167,"Pordenone"),h(),c(168,"option",90),v(169,"Potenza"),h(),c(170,"option",91),v(171,"Prato"),h(),c(172,"option",92),v(173,"Ragusa"),h(),c(174,"option",93),v(175,"Ravenna"),h(),c(176,"option",94),v(177,"Reggio Calabria"),h(),c(178,"option",95),v(179,"Reggio nell'Emilia"),h(),c(180,"option",96),v(181,"Rieti"),h(),c(182,"option",97),v(183,"Rimini"),h(),c(184,"option",98),v(185,"Roma"),h(),c(186,"option",99),v(187,"Rovigo"),h(),c(188,"option",100),v(189,"Salerno"),h(),c(190,"option",101),v(191,"Sassari"),h(),c(192,"option",102),v(193,"Savona"),h(),c(194,"option",103),v(195,"Siena"),h(),c(196,"option",104),v(197,"Siracusa"),h(),c(198,"option",105),v(199,"Sondrio"),h(),c(200,"option",106),v(201,"Sud Sardegna"),h(),c(202,"option",107),v(203,"Taranto"),h(),c(204,"option",108),v(205,"Teramo"),h(),c(206,"option",109),v(207,"Terni"),h(),c(208,"option",110),v(209,"Torino"),h(),c(210,"option",111),v(211,"Trapani"),h(),c(212,"option",112),v(213,"Trento"),h(),c(214,"option",113),v(215,"Treviso"),h(),c(216,"option",114),v(217,"Trieste"),h(),c(218,"option",115),v(219,"Udine"),h(),c(220,"option",116),v(221,"Valle d'Aosta"),h(),c(222,"option",117),v(223,"Varese"),h(),c(224,"option",118),v(225,"Venezia"),h(),c(226,"option",119),v(227,"Verbano-Cusio-Ossola"),h(),c(228,"option",120),v(229,"Vercelli"),h(),c(230,"option",121),v(231,"Verona"),h(),c(232,"option",122),v(233,"Vibo Valentia"),h(),c(234,"option",123),v(235,"Vicenza"),h(),c(236,"option",124),v(237,"Viterbo"),h()()()()(),c(238,"div",125)(239,"div",126)(240,"label",15),v(241,"Tipo cliente"),h(),c(242,"div",16)(243,"select",127)(244,"option",128),v(245,"Pubblica Amministrazione"),h(),c(246,"option",129),v(247,"Privato"),h()()()(),c(248,"div",130)(249,"div",131),ht(250,"input",132),c(251,"p",133),v(252,"Pavimentazione antitraoma"),h()(),c(253,"div",131),ht(254,"input",134),c(255,"p",133),v(256,"Pavimentazione drenante"),h()(),c(257,"div",131),ht(258,"input",135),c(259,"p",136),v(260,"Verde"),h()(),c(261,"div",131),ht(262,"input",137),c(263,"p",136),v(264,"Giochi"),h()()()(),c(265,"div",10)(266,"div",16),ht(267,"input",138),c(268,"label",139),v(269,"Data scadenza"),h()(),c(270,"div",140)(271,"label",15),v(272,"Stato cantiere"),h(),c(273,"div",16)(274,"select",141)(275,"option",142),v(276,"Da iniziare"),h(),c(277,"option",143),v(278,"In corso"),h(),c(279,"option",144),v(280,"Concluso"),h()()()(),c(281,"div",140)(282,"label",145),v(283,"Stato amministrativo"),h(),c(284,"div",16)(285,"select",146)(286,"option",147),v(287,"Da saldare"),h(),c(288,"option",148),v(289,"Saldato"),h()()()()(),c(290,"div",149)(291,"h3",150),v(292,"Sezione Rate"),h(),c(293,"span",151),v(294,"expand_more"),h()(),c(295,"div",152)(296,"div",153)(297,"div",16),ht(298,"input",154),c(299,"label",155),v(300,"Nome"),h()(),c(301,"div",156),ht(302,"input",157),c(303,"label",158),v(304,"Importo (\u20ac)"),h()(),c(305,"div",140)(306,"label",159),v(307,"Stato fatturazione"),h(),c(308,"div",16)(309,"select",160)(310,"option",161),v(311,"Non fatturata"),h(),c(312,"option",162),v(313,"Fatturata"),h()()()(),c(314,"div",16),ht(315,"input",163),c(316,"label",164),v(317,"Data fattura"),h()(),c(318,"div",165)(319,"label",166),v(320,"Stato incasso"),h(),c(321,"div",16)(322,"select",167)(323,"option",168),v(324,"Non incassata"),h(),c(325,"option",169),v(326,"Incassata"),h()()()(),c(327,"div",16),ht(328,"input",170),c(329,"label",171),v(330,"Data incasso"),h()(),c(331,"button",172),fn("click",function(){return i.addInstallment()}),v(332,"Aggiungi rata"),h()(),c(333,"div",173)(334,"table",174)(335,"thead",175)(336,"tr")(337,"th",176),v(338,"Nome"),h(),c(339,"th",176),v(340,"Importo"),h(),c(341,"th",177),v(342,"Fatturata"),h(),c(343,"th",177),v(344,"Data fatturata"),h(),c(345,"th",177),v(346,"Incassata"),h(),c(347,"th",177),v(348,"Data incasso"),h(),c(349,"th",176),v(350,"Azioni"),h()()(),c(351,"tbody"),$i(352,Hye,17,7,"tr",178),h()()()(),c(353,"div",140)(354,"label",15),v(355,"Capo cantiere"),h(),c(356,"div",16),ht(357,"select",179),h()(),c(358,"div",10)(359,"div",16),ht(360,"input",180),c(361,"label",181),v(362,"Giorni rimanenti"),h()(),c(363,"div",16),ht(364,"input",182),c(365,"label",183),v(366,"Giorni concessi di ritardo"),h()()(),c(367,"div",10)(368,"div",16)(369,"input",184),fn("input",function(){return i.calcLaborCost()}),h(),c(370,"label",185),v(371,"Costo orario manodopera"),h()(),c(372,"div",16)(373,"input",186),fn("input",function(){return i.calcLaborCost()}),h(),c(374,"label",187),v(375,"Lavoratori impiegati"),h()(),c(376,"div",16)(377,"input",188),fn("input",function(){return i.calcLaborCost()}),h(),c(378,"label",189),v(379,"N. Ore manodopera"),h()()(),c(380,"div",10)(381,"div",16),ht(382,"input",190),c(383,"label",191),v(384,"Totale costo manodopera"),h()(),c(385,"div",16),ht(386,"input",192),c(387,"label",193),v(388,"Costi totali sostenuti"),h()(),c(389,"div",16),ht(390,"input",194),c(391,"label",195),v(392,"Incasso cantiere"),h()()(),c(393,"div",196),ht(394,"input",197),c(395,"label",198),v(396,"Produttivit\xe0"),h()(),c(397,"div",199)(398,"div",200)(399,"h3",150),v(400,"Stato lavori"),h(),c(401,"span",151),v(402,"expand_more"),h()(),c(403,"div",201)(404,"div",202)(405,"div",16),ht(406,"input",203),c(407,"label",204),v(408,"Attivit\xe0"),h()(),c(409,"div",140)(410,"label",159),v(411,"Stato"),h(),c(412,"div",16)(413,"select",205)(414,"option",206),v(415,"Da completare"),h(),c(416,"option",207),v(417,"Completato"),h(),c(418,"option",143),v(419,"In corso"),h(),c(420,"option",208),v(421,"Non iniziato"),h(),c(422,"option",209),v(423,"In attesa"),h(),c(424,"option",210),v(425,"Scaduto"),h()()()(),c(426,"div",140)(427,"label",159),v(428,"Priorit\xe0"),h(),c(429,"div",16)(430,"select",211)(431,"option",212),v(432,"Alta"),h(),c(433,"option",213),v(434,"Media"),h(),c(435,"option",214),v(436,"Bassa"),h()()()(),c(437,"button",172),fn("click",function(){return i.addWorksiteActivity()}),v(438,"Aggiungi attivit\xe0"),h()(),c(439,"div",173)(440,"table",174)(441,"thead",175)(442,"tr")(443,"th",215),v(444,"Attivit\xe0"),h(),c(445,"th",216),v(446,"Stato"),h(),c(447,"th",216),v(448,"Priorit\xe0"),h(),c(449,"th",216),v(450,"Azioni"),h()()(),c(451,"tbody"),$i(452,Gye,13,6,"tr",178),h()()()(),c(453,"div",217)(454,"h3",150),v(455,"Spesa cantiere"),h(),c(456,"span",151),v(457,"expand_more"),h()(),c(458,"div",218)(459,"div",219)(460,"div",153)(461,"div",156),ht(462,"input",220),c(463,"label",221),v(464,"N.Articoli"),h()(),c(465,"div",222),ht(466,"input",223),c(467,"label",224),v(468,"Descrizione"),h()(),c(469,"div",225),ht(470,"input",226),c(471,"label",227),v(472,"Costo unitario (\u20ac)"),h()(),c(473,"div",140)(474,"label",159),v(475,"Stato"),h(),c(476,"div",16)(477,"select",228)(478,"option",229),v(479,"Da ordinare"),h(),c(480,"option",230),v(481,"Ordinato"),h(),c(482,"option",231),v(483,"In arrivo"),h(),c(484,"option",232),v(485,"Arrivato"),h()()()(),c(486,"button",172),fn("click",function(){return i.addCost()}),v(487,"Aggiungi spesa"),h()(),v(488,"a "),c(489,"div",173)(490,"table",174)(491,"thead",175)(492,"tr")(493,"th",176),v(494,"N.Articoli"),h(),c(495,"th",176),v(496,"Descrizione"),h(),c(497,"th",177),v(498,"Costo unitario"),h(),c(499,"th",177),v(500,"Costo totale"),h(),c(501,"th",177),v(502,"Stato"),h(),c(503,"th",177),v(504,"Azioni"),h()()(),c(505,"tbody"),$i(506,Wye,15,6,"tr",178),h()()()()()(),c(507,"div",233)(508,"div",234)(509,"button",235),fn("click",function(){return i.addWorksite()}),v(510,"Salva cantiere"),h(),c(511,"button",236),v(512,"Annulla cantiere"),h()(),ht(513,"div",237),c(514,"div",238),ht(515,"ion-icon",239),c(516,"h3"),v(517,"Crea cantiere"),h()()()()),2&r&&(jt(352),Kr("ngForOf",i.installmentsRows),jt(100),Kr("ngForOf",i.worksiteActivitiesRows),jt(54),Kr("ngForOf",i.worksiteCostsRows))},dependencies:[Wc,vh,Yl,Ed,_u,QA,HA]}),e})();var qye=_t(7239),Yye=_t.n(qye);function Xye(t,e){if(1&t){const n=fs();c(0,"tr")(1,"td",70),v(2),h(),c(3,"td",70),v(4),h(),c(5,"td",70),v(6),h(),c(7,"td",71)(8,"button",72),fn("click",function(){const i=ln(n).index;return En(ki().removeRow(i))}),c(9,"span",73),v(10," delete_forever "),h()()()()}if(2&t){const n=e.$implicit;jt(2),ar(n.col1),jt(2),ar(n.col2),jt(2),ar(n.col3)}}function Jye(t,e){if(1&t&&(c(0,"tr")(1,"td",70),v(2),h(),c(3,"td",70),v(4),h(),c(5,"td",70),v(6),h()()),2&t){const n=e.$implicit;jt(2),ar(n.col1),jt(2),ar(n.col2),jt(2),ar(n.col3)}}let Zye=(()=>{var t;class e{constructor(){this.inputValue="",this.inputValue2="",this.inputValue3="",this.inputValue4="",this.inputValue5="",this.tableData=[{col1:"",col2:"",col3:""}],this.newRowData={col1:"",col2:"",col3:""},this.larghezzaPagina=window.innerWidth,this.altezzaPagina=window.innerHeight,console.log("Larghezza della pagina:",this.larghezzaPagina),console.log("Altezza della pagina:",this.altezzaPagina)}ngOnInit(){setTimeout(()=>{this.update()},1e3)}onInputChange(r){document.getElementById("client-name").innerText="Spett.le: "+r}onInputChange2(r){document.getElementById("piva-codicefiscale").innerText="CF./P.IVA: "+r}onInputChange3(r){document.getElementById("address").innerText="Indirizzo: "+r}onInputChange4(r){document.getElementById("object").innerText="Oggetto: "+r}onInputChange5(r){document.getElementById("where").innerText="Luogo lavori: "+r}onInputChange6(r){document.getElementById("text").innerText="Descrizione: "+r}update(){var r=document.getElementById("text-input");document.getElementById("text").innerText="Descrizione: "+r.value}addDescriptionPhase(){var r=document.getElementById("text-input"),i=document.getElementById("add-description-phase-selector");r.value=r.value+"\n"+i.value,this.update()}generatePDF(){return(0,V.A)(function*(){const r=new aE.jsPDF("p","pt","letter"),i=document.getElementById("pdf-preview"),a=r.internal.pageSize.getWidth()-80,l=r.internal.pageSize.getHeight()-30-60,u=yield Yye()(i),p=Math.min(a/u.width,l/u.height),I=u.width*p,k=u.height*p;r.addImage(u.toDataURL("image/png"),"PNG",40,30,I,k),r.save("allgreen.pdf")})()}addRow(){this.tableData.push({col1:this.newRowData.col1,col2:this.newRowData.col2,col3:this.newRowData.col3}),this.newRowData={col1:"",col2:"",col3:""}}removeRow(r){this.tableData.splice(r,1)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=ee({type:t,selectors:[["app-add-corretta-posa"]],decls:164,vars:9,consts:[["pdfPreview",""],["id","master-container",2,"width","100%","height","100%","display","flex","flex-direction","column","padding-left","2rem","padding-right","3rem","padding-top","5rem","overflow-x","hidden","overflow-y","auto","position","fixed"],[2,"width","100%","display","flex","flex-direction","row","flex-wrap","wrap"],[2,"display","flex","flex-direction","row","flex-wrap","wrap","padding-top","1rem","padding-bottom","1rem","gap","1rem"],[2,"display","inline-grid","flex-direction","column"],[2,"margin-bottom","-1.5rem","z-index","2","background","white","margin-left","1.5rem","font-size","14px","color","rgb(100, 100, 100)","width","6rem","text-align","center"],[1,"inputGroup"],["id","inputValue4","disabled","true",1,"selector1",2,"width","100%"],["value","Relazione di corretta posa"],["value","Fornitura e posa"],["value","Posa"],["value","Manutenzione"],["type","text",1,"input-field3",3,"ngModelChange","ngModel"],[2,"display","flex","flex-direction","row","flex-wrap","wrap","width","100%","gap","1rem","align-items","center"],["expand","block",1,"button5",2,"height","3rem","padding-left","0.5rem","padding-right","0.5rem",3,"click"],[1,"general-paragraph1",2,"margin-bottom","1rem","margin-top","2rem"],[2,"width","100%","margin-bottom","2rem"],[1,"table",2,"width","100%","height","100%","overflow","hidden"],[2,"height","5rem"],[1,"table-th"],[4,"ngFor","ngForOf"],[2,"width","100%","display","flex","flex-direction","row","flex-wrap","wrap","gap","1rem","align-items","center"],[2,"display","flex","flex-direction","column","margin-top","0.4rem","width","calc(100% - 9rem)"],[1,"inputGroup",2,"width","100%"],["id","add-description-phase-selector",1,"selector1",2,"width","100%"],["value",""],["value","POSA SU GHIAIA O VASCA IN SABBIA O CORTECCIA:"],["value","Tracciamento della vasca"],["value","Scavo di sbancamento"],["value","Montaggio dei giochi "],["value","Cementificazione"],["value","Creazione del perimetro della vasca in pali di legno o plastica riciclata"],["value","Stesa del tessuto non tessuto"],["value","Riempimento della vasca con ghiaia sabbia corteccia"],["value","POSA SU PRATO:"],["value","Tracciamento delle aree"],["value","Scavi per assemblaggio giochi"],["value","Assemblaggio giochi"],["value","Sistemazione dell area"],["value","Eventuale posa di gomma alveolare"],["value","Posa su platea in cemento"],["value","TRACCIAMENTO DELL'AREA:"],["value","Scavo di sbancamento della platea"],["value","Armatura della platea"],["value","Posa della rete di ferro"],["value","Gettata della platea"],["value","Assemblaggio dei giochi"],["value","Tassellamento dei giochi"],["value","Posa di eventuale gomma a piastre"],["value","Colata"],[1,"button5",2,"height","2rem","padding-left","0.5rem","padding-right","0.5rem","margin-top","1rem","margin-bottom","1rem","width","8rem","height","3rem",3,"click"],["id","text-input",1,"selector1",2,"width","100%","padding-right","1rem","resize","vertical","min-height","20rem","overflow-y","auto","overflow-x","hidden",3,"change","input"],[1,"general-paragraph1",2,"width","100%","text-align","center","margin-top","5rem","margin-bottom","3rem"],["id","pdf-preview",2,"width","100%","display","flex","flex-direction","column"],["src","assets\\images\\logo.jpg",2,"width","20rem","margin-left","10px","margin-bottom","10px"],["id","client-name",2,"margin-left","10px"],["id","piva-codicefiscale",2,"margin-top","2px","margin-left","10px"],["id","address",2,"margin-top","2px","margin-left","10px"],["id","object",2,"margin-top","2px","margin-left","10px"],["id","where",2,"margin-top","2px","margin-left","10px"],[1,"table",2,"width","100%","height","100%"],["id","text",2,"margin-top","2px","margin-left","10px","margin-top","10px","margin-bottom","15rem"],[2,"display","flex","flex-direction","column","width","calc(100% - 2rem)","position","absolute","z-index","2","pointer-events","none","height","100%"],[2,"width","100%","display","flex","flex-direction","row","align-items","center","padding-bottom","1rem","background","white","flex-shrink","0","pointer-events","all","padding-left","1rem"],["routerLink","/add","name","chevron-back",2,"cursor","pointer","font-size","1.8rem"],[2,"flex","1"],[2,"width","100%","height","4rem","; display","flex","flex-direction","row","align-items","center","justify-content","center","padding-bottom","1rem","background","white","flex-shrink","0","pointer-events","all","padding-left","1rem"],[1,"button5",2,"height","3.5rem","margin-bottom","2rem","margin-top","2rem","width","80%","padding","1rem","display","flex","flex-direction","row","align-items","center","justify-content","center","gap","0.5rem",3,"click"],[1,"material-symbols-outlined","notranslate"],[2,"font-size","1.2rem"],[1,"table-td"],[1,"table-td-actions"],[1,"button2",2,"width","2.8rem","height","2.8rem","border-radius","50%","display","flex","align-items","center","justify-content","center",3,"click"],[1,"material-symbols-outlined"]],template:function(r,i){if(1&r){const o=fs();c(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"label",5),v(5,"OGGETTO:"),h(),c(6,"div",6)(7,"select",7)(8,"option",8),v(9,"Relazione di corretta posa"),h(),c(10,"option",9),v(11,"Fornitura e posa"),h(),c(12,"option",10),v(13,"Posa"),h(),c(14,"option",11),v(15,"Manutenzione"),h()()()(),c(16,"div",6)(17,"input",12),Dl("ngModelChange",function(a){return ln(o),Kl(i.inputValue,a)||(i.inputValue=a),En(a)}),fn("ngModelChange",function(a){return ln(o),En(i.onInputChange(a))}),h(),c(18,"label"),v(19,"Spett.le:"),h()(),c(20,"div",6)(21,"input",12),Dl("ngModelChange",function(a){return ln(o),Kl(i.inputValue3,a)||(i.inputValue3=a),En(a)}),fn("ngModelChange",function(a){return ln(o),En(i.onInputChange3(a))}),h(),c(22,"label"),v(23,"Indirizzo:"),h()(),c(24,"div",6)(25,"input",12),Dl("ngModelChange",function(a){return ln(o),Kl(i.inputValue2,a)||(i.inputValue2=a),En(a)}),fn("ngModelChange",function(a){return ln(o),En(i.onInputChange2(a))}),h(),c(26,"label"),v(27,"CF./P.IVA:"),h()(),c(28,"div",6)(29,"input",12),Dl("ngModelChange",function(a){return ln(o),Kl(i.inputValue5,a)||(i.inputValue5=a),En(a)}),fn("ngModelChange",function(a){return ln(o),En(i.onInputChange5(a))}),h(),c(30,"label"),v(31,"Luogo lavori:"),h()()()(),c(32,"div",13)(33,"div",6)(34,"input",12),Dl("ngModelChange",function(a){return ln(o),Kl(i.newRowData.col1,a)||(i.newRowData.col1=a),En(a)}),h(),c(35,"label"),v(36,"Attrezzatura"),h()(),c(37,"div",6)(38,"input",12),Dl("ngModelChange",function(a){return ln(o),Kl(i.newRowData.col2,a)||(i.newRowData.col2=a),En(a)}),h(),c(39,"label"),v(40,"Marca"),h()(),c(41,"div",6)(42,"input",12),Dl("ngModelChange",function(a){return ln(o),Kl(i.newRowData.col3,a)||(i.newRowData.col3=a),En(a)}),h(),c(43,"label"),v(44,"Q.t\xe0/Dimensioni"),h()(),c(45,"button",14),fn("click",function(){return ln(o),En(i.addRow())}),v(46,"Aggiungi riga"),h()(),c(47,"strong",15),v(48,"Posa delle attrezzature:"),h(),c(49,"div",16)(50,"table",17)(51,"thead",18)(52,"tr")(53,"th",19),v(54,"Attrezzature"),h(),c(55,"th",19),v(56,"Marca"),h(),c(57,"th",19),v(58,"Q.t\xe0/Dimensioni"),h(),c(59,"th",19),v(60,"Azioni"),h()()(),c(61,"tbody"),$i(62,Xye,11,3,"tr",20),h()()(),c(63,"div",21)(64,"div",22)(65,"label",5),v(66,"Priorit\xe0"),h(),c(67,"div",23)(68,"select",24)(69,"option",25),v(70,"Seleziona"),h(),c(71,"option",26),v(72,"---------------------------POSA SU GHIAIA O VASCA IN SABBIA O CORTECCIA:---------------------------"),h(),c(73,"option",27),v(74,"Tracciamento della vasca"),h(),c(75,"option",28),v(76,"Scavo di sbancamento"),h(),c(77,"option",29),v(78,"Montaggio dei giochi "),h(),c(79,"option",30),v(80,"Cementificazione"),h(),c(81,"option",31),v(82,"Creazione del perimetro della vasca in pali di legno o plastica riciclata"),h(),c(83,"option",32),v(84,"Stesa del tessuto non tessuto"),h(),c(85,"option",33),v(86,"Riempimento della vasca con ghiaia sabbia corteccia"),h(),c(87,"option",34),v(88,"---------------------------POSA SU PRATO:---------------------------"),h(),c(89,"option",35),v(90,"Tracciamento delle aree"),h(),c(91,"option",36),v(92,"Scavi per assemblaggio giochi"),h(),c(93,"option",37),v(94,"Assemblaggio giochi"),h(),c(95,"option",30),v(96,"Cementificazione"),h(),c(97,"option",38),v(98,"Sistemazione dell area"),h(),c(99,"option",39),v(100,"Eventuale posa di gomma alveolare"),h(),c(101,"option",40),v(102,"Posa su platea in cemento"),h(),c(103,"option",41),v(104,"---------------------------TRACCIAMENTO DELL'AREA:---------------------------"),h(),c(105,"option",42),v(106,"Scavo di sbancamento della platea"),h(),c(107,"option",43),v(108,"Armatura della platea"),h(),c(109,"option",44),v(110,"Posa della rete di ferro"),h(),c(111,"option",45),v(112,"Gettata della platea"),h(),c(113,"option",46),v(114,"Assemblaggio dei giochi"),h(),c(115,"option",47),v(116,"Tassellamento dei giochi"),h(),c(117,"option",48),v(118,"Posa di eventuale gomma a piastre"),h(),c(119,"option",49),v(120,"Colata"),h()()()(),c(121,"button",50),fn("click",function(){return ln(o),En(i.addDescriptionPhase())}),v(122,"Aggiungi voce"),h()(),c(123,"textarea",51),fn("change",function(){return ln(o),En(i.update())})("input",function(){return ln(o),En(i.update())}),h(),c(124,"h1",52),v(125,"PREVIEW DOCUMENTO"),h(),c(126,"div",53,0),ht(128,"img",54),c(129,"p",55),v(130,"Spett.le"),h(),c(131,"p",56),v(132,"CF./P.IVA"),h(),c(133,"p",57),v(134,"Indirizzo: "),h(),c(135,"p",58),v(136,"Oggetto: Relazione di corretta posa"),h(),c(137,"p",59),v(138,"Luogo lavori: "),h(),c(139,"table",60)(140,"thead",18)(141,"tr")(142,"th",19),v(143,"Attrezzature"),h(),c(144,"th",19),v(145,"Marca"),h(),c(146,"th",19),v(147,"Q.t\xe0/Dimensioni"),h()()(),c(148,"tbody"),$i(149,Jye,7,3,"tr",20),h()(),c(150,"p",61),v(151,"Descrizione: "),h()()(),c(152,"div",62)(153,"div",63),ht(154,"ion-icon",64),c(155,"h3"),v(156,"Crea Corretta Posa"),h()(),ht(157,"div",65),c(158,"div",66)(159,"button",67),fn("click",function(){return ln(o),En(i.generatePDF())}),c(160,"span",68),v(161,"download"),h(),c(162,"strong",69),v(163,"Scarica"),h()()()()}2&r&&(jt(17),Bl("ngModel",i.inputValue),jt(4),Bl("ngModel",i.inputValue3),jt(4),Bl("ngModel",i.inputValue2),jt(4),Bl("ngModel",i.inputValue5),jt(5),Bl("ngModel",i.newRowData.col1),jt(4),Bl("ngModel",i.newRowData.col2),jt(4),Bl("ngModel",i.newRowData.col3),jt(20),Kr("ngForOf",i.tableData),jt(87),Kr("ngForOf",i.tableData))},dependencies:[Wc,Yl,Ed,_u,QA,HA,im,Yv,om],styles:[".card1[_ngcontent-%COMP%]{border-radius:2rem;border:1px solid rgba(0,0,0,.393)}.general-paragraph[_ngcontent-%COMP%]{color:#000;font-family:Lato}.selector1[_ngcontent-%COMP%], .input1[_ngcontent-%COMP%]{background:#fff;border:1px solid rgba(0,0,0,.393);border-radius:1rem;color:#000;font-family:Lato}.button1[_ngcontent-%COMP%]{cursor:pointer;background:#fff;border:1px solid rgba(0,0,0,.393);border-radius:1rem;color:#000;font-family:Lato}.button2[_ngcontent-%COMP%]{cursor:pointer;background:#fff;border:1px solid rgba(0,0,0,.393);border-radius:1rem;font-weight:200;color:#0000009f;font-family:Lato}.button3[_ngcontent-%COMP%]{cursor:pointer;background:#fff;border:1px solid rgba(0,0,0,.393);border-radius:50%;font-weight:200;color:#000000b3;font-size:2rem;height:3rem;width:3rem;text-align:center;display:flex;align-items:center;justify-content:center}.button3[_ngcontent-%COMP%]:hover{color:#000}.button2[_ngcontent-%COMP%]:hover{font-weight:700;color:#000}.button2[_ngcontent-%COMP%]:hover{font-weight:700}.table1[_ngcontent-%COMP%]{border-collapse:collapse;font-family:Lato}.table1[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#f2f2f2;padding:8px;border:1px solid #ddd}.table1[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:8px;border:1px solid #ddd}.table1[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f9f9f9}.table1[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#f2f2f2}@media screen and (max-width: 1000px){#master-container[_ngcontent-%COMP%]{overflow-x:auto!important}}"]}),e})();function e_e(t,e){if(1&t){const n=fs();c(0,"tr")(1,"td",243),v(2),h(),c(3,"td",243),v(4),h(),c(5,"td",243),v(6),h(),c(7,"td",243),v(8),h(),c(9,"td",243),v(10),h(),c(11,"td",243),v(12),h(),c(13,"td",243)(14,"button",244),fn("click",function(){const i=ln(n).index;return En(ki().removeInstallment(i))}),c(15,"span",154),v(16,"delete"),h()()()()}if(2&t){const n=e.$implicit;ul("data-index",e.index),jt(2),ar(n.name),jt(2),ar(n.amount),jt(2),ar(n.fatturata),jt(2),ar(n.data_fattura),jt(2),ar(n.incassata),jt(2),ar(n.data_incasso)}}function t_e(t,e){1&t&&(c(0,"span"),v(1,"Bassa"),h())}function n_e(t,e){1&t&&(c(0,"span"),v(1,"Media"),h())}function r_e(t,e){1&t&&(c(0,"span"),v(1,"Alta"),h())}function i_e(t,e){if(1&t){const n=fs();c(0,"tr")(1,"td",243),v(2),h(),c(3,"td",243),v(4),h(),c(5,"td",243),$i(6,t_e,2,0,"span",245)(7,n_e,2,0,"span",245)(8,r_e,2,0,"span",245),h(),c(9,"td")(10,"button",244),fn("click",function(){const i=ln(n).index;return En(ki().removeWorkActivity(i))}),c(11,"span",154),v(12,"delete"),h()()()()}if(2&t){const n=e.$implicit;ul("data-index",e.index),jt(2),ar(n.activity),jt(2),ar(n.status),jt(2),Kr("ngIf","1"===n.priority),jt(),Kr("ngIf","2"===n.priority),jt(),Kr("ngIf","3"===n.priority)}}function o_e(t,e){if(1&t){const n=fs();c(0,"tr")(1,"td",243),v(2),h(),c(3,"td",243),v(4),h(),c(5,"td",243),v(6),h(),c(7,"td",243),v(8),h(),c(9,"td",243),v(10),h(),c(11,"td")(12,"button",244),fn("click",function(){const i=ln(n).index;return En(ki().removeCost(i))}),c(13,"span",154),v(14,"delete"),h()()()()}if(2&t){const n=e.$implicit;ul("data-index",e.index),jt(2),ar(n.articles_number),jt(2),ar(n.description),jt(2),ar(n.cost),jt(2),ar(n.cost*n.articles_number),jt(2),ar(n.status)}}let s_e=(()=>{var t;class e{constructor(r,i){this.firestore=r,this.generalService=i,this.installments=new J([]),this.nextPageAvailable=!0,this.installmentsRows=[],this.workCostsRows=[],this.workActivitiesRows=[]}ngOnInit(){document.getElementById("work-provincia-input").value="Trieste";const r=document.getElementById("work-boss-input");Cn.A.database().ref("users_data").on("value",i=>{r.innerHTML='<option value="">Seleziona un\'opzione</option>',i.forEach(o=>{const s=o.key,a=o.val(),l=document.createElement("option");l.value=s,l.innerText=a.name,r.appendChild(l)})})}openOrClosePopup1(){const r=document.getElementById("work-money-status-input");console.log(r.value),"da-saldare"==r.value&&(document.getElementById("popup-stato-amministrativo").style.display="flex"),(r.value="saldato")&&(document.getElementById("popup-stato-amministrativo").style.display="none")}addWork(){var r=document.getElementById("work-name-input"),i=document.getElementById("work-partita-iva-input"),o=document.getElementById("work-code-input"),s=document.getElementById("work-address-input"),a=document.getElementById("work-provincia-input"),l=document.getElementById("work-customer-type-input"),u=document.getElementById("work-ricorrente-input"),p=document.getElementById("work-end-date-input"),I=document.getElementById("work-status-input"),k=document.getElementById("work-money-status-input"),O=document.getElementById("work-boss-input"),q=document.getElementById("work-delay-input"),ge=document.getElementById("work-hourly-cost-input"),Be=document.getElementById("work-employed-workers-input"),Ye=document.getElementById("work-labor-hours-input"),tt=document.getElementById("work-collection-input"),Bt=document.getElementById("work-pavimentazione-antitraoma-input");this.pavimentazioneAntitraoma=Bt.checked?"true":"false";var Ut=document.getElementById("work-pavimentazione-drenante-input");this.pavimentazioneDrenante=Ut.checked?"true":"false";var Fn=document.getElementById("work-verde-input");this.verde=Fn.checked?"true":"false";var Kn=document.getElementById("work-giochi-input");this.giochi=Kn.checked?"true":"false",this.firestore.collection("works").add({name:r.value,partita_iva:i.value,code:o.value,address:s.value,province:a.value,customer_type:l.value,ricorrente:u.value,end_date:p.value,money_status:k.value,status:I.value,boss_uid:O.value,boss_name:O.innerText,delay:q.value,hourly_cost:ge.value,employed_workers:Be.value,labor_hours:Ye.value,collection:tt.value,timestamp:Cn.A.firestore.FieldValue.serverTimestamp(),pavimentazione_antitraoma:this.pavimentazioneAntitraoma,pavimentazione_drenante:this.pavimentazioneDrenante,verde:this.verde,giochi:this.giochi}).then(Ii=>{this.addInstallments(Ii.id),this.addCosts(Ii.id),this.addWorkActivities(Ii.id),this.addWorkCounts(Ii.id),this.generalService.presentToast("Lavoro creato con successo")}).catch(Ii=>{this.generalService.presentToast("Errore durante l'aggiunta del lavoro: "+Ii.message)})}calcLaborCost(){var r=document.getElementById("work-hourly-cost-input"),i=document.getElementById("work-employed-workers-input"),o=document.getElementById("work-labor-hours-input"),s=parseFloat(r.value)||1,a=parseFloat(i.value)||1,l=parseFloat(o.value)||1;document.getElementById("work-total-labor-cost-input").value=(s*a*l).toString()}addWorkCounts(r){var i=(new Date).getFullYear().toString();Cn.A.database().ref("/counters/works/"+i+"/general/total/").transaction(o=>null===o?{fatturato:this.countFatturato(),incasso:this.countIncasso(),spesa:this.countSpesa(),spesa_personale:this.countSpesaPersonale()}:{fatturato:(o.fatturato||0)+this.countFatturato(),incasso:(o.incasso||0)+this.countIncasso(),spesa:(o.spesa||0)+this.countSpesa(),spesa_personale:(o.spesa_personale||0)+Number(this.countSpesaPersonale())}).catch(o=>{this.generalService.presentToast("Errore durante l'incremento dei contatori del lavoro: "+o.message)}),Cn.A.database().ref("/counters/works/"+i+"/general/"+parseFloat(((new Date).getMonth()+1).toString())+"/").transaction(o=>null===o?{fatturato:this.countFatturato(),incasso:this.countIncasso(),spesa:this.countSpesa(),spesa_personale:this.countSpesaPersonale()}:{fatturato:(o.fatturato||0)+this.countFatturato(),incasso:(o.incasso||0)+this.countIncasso(),spesa:(o.spesa||0)+this.countSpesa(),spesa_personale:(o.spesa_personale||0)+Number(this.countSpesaPersonale())}).catch(o=>{this.generalService.presentToast("Errore durante l'incremento dei contatori del lavoro: "+o.message)}),Cn.A.database().ref("/counters/works/"+i+"/"+r+"/total/").transaction(o=>null===o?{fatturato:this.countFatturato(),incasso:this.countIncasso(),spesa:this.countSpesa(),spesa_personale:this.countSpesaPersonale()}:{fatturato:(o.fatturato||0)+this.countFatturato(),incasso:(o.incasso||0)+this.countIncasso(),spesa:(o.spesa||0)+this.countSpesa(),spesa_personale:(o.spesa_personale||0)+Number(this.countSpesaPersonale())}).catch(o=>{this.generalService.presentToast("Errore durante l'incremento dei contatori del lavoro: "+o.message)}),Cn.A.database().ref("/counters/works/"+i+"/"+r+"/"+parseFloat(((new Date).getMonth()+1).toString())+"/").transaction(o=>null===o?{fatturato:this.countFatturato(),incasso:this.countIncasso(),spesa:this.countSpesa(),spesa_personale:this.countSpesaPersonale()}:{fatturato:(o.fatturato||0)+this.countFatturato(),incasso:(o.incasso||0)+this.countIncasso(),spesa:(o.spesa||0)+this.countSpesa(),spesa_personale:(o.spesa_personale||0)+Number(this.countSpesaPersonale())}).catch(o=>{this.generalService.presentToast("Errore durante l'incremento dei contatori del lavoro: "+o.message)})}countFatturato(){return this.installmentsRows.reduce((i,o)=>"fatturata"===o.fatturata?i+parseFloat(o.amount):i,0)}countIncasso(){return this.installmentsRows.reduce((i,o)=>"incassata"===o.incassata?i+parseFloat(o.amount):i,0)}countSpesa(){return this.workCostsRows.reduce((i,o)=>null!=o.cost?i+parseFloat(o.cost)*parseFloat(o.articles_number):i,0)}countSpesaPersonale(){return document.getElementById("work-total-labor-cost-input").value}addInstallments(r){var i=this;return(0,V.A)(function*(){try{for(let o=0;o<i.installmentsRows.length;o++){const s=i.installmentsRows[o];s.work_id=r,s.timestamp=Cn.A.firestore.FieldValue.serverTimestamp(),s.group="work",yield i.firestore.collection("installments").add(s)}}catch(o){i.generalService.presentToast("Errore durante l'aggiunta delle rate al lavoro: "+o.message)}})()}addInstallment(){this.installmentsRows.push({name:document.getElementById("installment-name-input").value,amount:document.getElementById("installment-amount-input").value,fatturata:document.getElementById("installment-fatturata-input").value,data_fattura:document.getElementById("installment-data-fattura-input").value,incassata:document.getElementById("installment-incassata-input").value,data_incasso:document.getElementById("installment-data-incasso-input").value,work_id:void 0,timestamp:void 0,group:void 0})}removeInstallment(r){this.installmentsRows.splice(r,1)}addCosts(r){var i=this;return(0,V.A)(function*(){try{for(let o=0;o<i.workCostsRows.length;o++){const s=i.workCostsRows[o];s.work_id=r,i.currentWorkId=r,s.timestamp=Cn.A.firestore.FieldValue.serverTimestamp(),s.group="work",yield i.firestore.collection("costs").add(s);const l=s.articles_number,u=parseFloat(s.cost.value),p=parseFloat(l.value);if(isNaN(u)||isNaN(p))return void i.generalService.presentToast("Alcuni numeri non sono validi");const I=u*p;if(isNaN(I))return void i.generalService.presentToast("Il calcolo ha come risultato un numero non valido");i.updateCostCounterAnnuale(I),i.updateCostCounterMensile(I)}}catch(o){i.generalService.presentToast("Errore durante l'aggiunta delle spese al lavoro: "+o.message)}})()}updateCostCounterAnnuale(r){var i=(new Date).getFullYear().toString();Cn.A.database().ref("/counters/works/"+i+"/general/total/").child("spesa").transaction(s=>null===s?r:s+r).catch(s=>{this.generalService.presentToast("Errore durante l'incremento del costo annuale: "+s.message)}),Cn.A.database().ref("/counters/works/"+i+"/"+this.currentWorkId+"/total/").child("spesa").transaction(s=>null===s?r:s+r).catch(s=>{this.generalService.presentToast("Errore durante l'incremento del costo annuale: "+s.message)})}updateCostCounterMensile(r){var i=(new Date).getFullYear().toString(),o=((new Date).getMonth()+1).toString();Cn.A.database().ref("/counters/works/"+i+"/general/"+parseFloat(((new Date).getMonth()+1).toString())+"/").child("spesa").transaction(a=>null===a?r:a+r).catch(a=>{this.generalService.presentToast("Errore durante l'incremento del fatturato mensile: "+a.message)}),Cn.A.database().ref("/counters/works/"+i+"/"+this.currentWorkId+"/"+o+"/").child("spesa").transaction(a=>null===a?r:a+r).catch(a=>{this.generalService.presentToast("Errore durante l'incremento del fatturato annuale: "+a.message)})}addCost(){this.workCostsRows.push({articles_number:document.getElementById("cost-articles-number-input").value,description:document.getElementById("cost-description-input").value,cost:document.getElementById("cost-cost-input").value,status:document.getElementById("cost-status-input").value,work_id:void 0,timestamp:void 0,group:void 0})}removeCost(r){this.workCostsRows.splice(r,1)}addWorkActivities(r){var i=this;return(0,V.A)(function*(){try{for(let o=0;o<i.workActivitiesRows.length;o++){const s=i.workActivitiesRows[o];s.work_id=r,s.timestamp=Cn.A.firestore.FieldValue.serverTimestamp(),s.group="work",yield i.firestore.collection("activities").add(s)}}catch(o){i.generalService.presentToast("Errore durante l'aggiunta delle attivit\xe0 al lavoro: "+o.message)}})()}addWorkActivity(){this.workActivitiesRows.push({activity:document.getElementById("activity-name-input").value,status:document.getElementById("activity-status-input").value,priority:document.getElementById("activity-priority-input").value,work_id:void 0,timestamp:void 0,group:void 0})}removeWorkActivity(r){this.workActivitiesRows.splice(r,1)}}return(t=e).\u0275fac=function(r){return new(r||t)(Y(Zl),Y(xa))},t.\u0275cmp=ee({type:t,selectors:[["app-add-work"]],decls:527,vars:3,consts:[["id","add-work",2,"height","100%","width","100%","display","flex","flex-direction","column","padding-left","1rem","padding-right","1rem","overflow-y","auto","overflow-x","hidden","padding-bottom","7rem"],[2,"width","100%","display","grid","grid-template-columns","repeat(auto-fit, minmax(200px, 1fr))","grid-gap","10px","margin-top","4rem"],[1,"inputGroup",2,"width","100%"],["id","work-name-input","type","text","value","Palazzo economo e magazzino 20",1,"input-field3"],["for","work-name-input"],[1,"inputGroup",2,"display","inline-grid"],["id","work-partita-iva-input","type","text",1,"input-field3"],["for","work-partita-iva-input"],["id","work-code-input","type","text",1,"input-field3"],["for","work-code-input"],[2,"width","100%","display","grid","grid-template-columns","repeat(auto-fit, minmax(200px, 1fr))","grid-gap","10px"],[1,"inputGroup",2,"display","inline-grid","width","calc(100% -10rem)"],["id","work-address-input","type","text",1,"input-field3"],["for","work-address-input"],[2,"display","inline-grid","flex-direction","column"],[2,"margin-bottom","-1.5rem","z-index","2","background","white","margin-left","1.5rem","font-size","14px","color","rgb(100, 100, 100)","width","6rem","text-align","center"],[1,"inputGroup"],["id","work-provincia-input",1,"selector1",2,"width","100%"],["value","Alessandria"],["value","Ancona"],["value","Arezzo"],["value","Ascoli Piceno"],["value","Asti"],["value","Avellino"],["value","Bari"],["value","Barletta-Andria-Trani"],["value","Belluno"],["value","Benevento"],["value","Bergamo"],["value","Biella"],["value","Bologna"],["value","Bolzano"],["value","Brescia"],["value","Brindisi"],["value","Cagliari"],["value","Caltanissetta"],["value","Campobasso"],["value","Caserta"],["value","Catania"],["value","Catanzaro"],["value","Chieti"],["value","Como"],["value","Cosenza"],["value","Cremona"],["value","Crotone"],["value","Cuneo"],["value","Enna"],["value","Fermo"],["value","Ferrara"],["value","Firenze"],["value","Foggia"],["value","Forl\xec"],["value","Frosinone"],["value","Genova"],["value","Gorizia"],["value","Grosseto"],["value","Imperia"],["value","Isernia"],["value","La Spezia"],["value","L'Aquila"],["value","Latina"],["value","Lecce"],["value","Lecco"],["value","Livorno"],["value","Lodi"],["value","Lucca"],["value","Macerata"],["value","Mantova"],["value","Massa-Carrara"],["value","Matera"],["value","Messina"],["value","Milano"],["value","Modena"],["value","Monza e della Brianza"],["value","Napoli"],["value","Novara"],["value","Nuoro"],["value","Ogliastra"],["value","Oristano"],["value","Padova"],["value","Palermo"],["value","Parma"],["value","Pavia"],["value","Perugia"],["value","Pesaro e Urbino"],["value","Pescara"],["value","Piacenza"],["value","Pisa"],["value","Pistoia"],["value","Pordenone"],["value","Potenza"],["value","Prato"],["value","Ragusa"],["value","Ravenna"],["value","Reggio Calabria"],["value","Reggio nell'Emilia"],["value","Rieti"],["value","Rimini"],["value","Roma"],["value","Rovigo"],["value","Salerno"],["value","Sassari"],["value","Savona"],["value","Siena"],["value","Siracusa"],["value","Sondrio"],["value","Sud Sardegna"],["value","Taranto"],["value","Teramo"],["value","Terni"],["value","Torino"],["value","Trapani"],["value","Trento"],["value","Treviso"],["value","Trieste"],["value","Udine"],["value","Valle d'Aosta"],["value","Varese"],["value","Venezia"],["value","Verbano-Cusio-Ossola"],["value","Vercelli"],["value","Verona"],["value","Vibo Valentia"],["value","Vicenza"],["value","Viterbo"],[2,"width","100%","display","grid","grid-template-columns","repeat(auto-fit, minmax(200px, 1fr))","grid-gap","10px","align-items","center"],[2,"display","flex","flex-direction","column","overflow","hidden"],["id","work-customer-type-input",1,"selector1",2,"width","100%"],["value","public-administration"],["value","private"],["id","work-ricorrente-input",1,"selector1",2,"width","100%"],["value","ricorrente"],["value","non_ricorrente"],[2,"display","flex","flex-direction","row","overflow-x","auto","align-items","center","border","2px solid #19212d !important","border-radius","20px","height","3.4rem","gap","1rem"],[2,"display","flex","flex-direction","row","align-items","center","gap","0.5rem"],["id","work-pavimentazione-antitraoma-input","type","checkbox",1,"input-field3",2,"width","1rem","height","1rem"],[2,"margin-top","0.2rem","margin-bottom","0.2rem","width","8rem"],["id","work-pavimentazione-drenante-input","type","checkbox",1,"input-field3",2,"width","1rem","height","1rem"],["id","work-verde-input","type","checkbox",1,"input-field3",2,"width","1rem","height","1rem"],[2,"margin-top","0.2rem","margin-bottom","0.2rem"],["id","work-giochi-input","type","checkbox",1,"input-field3",2,"width","1rem","height","1rem"],["id","work-end-date-input","type","date",1,"input-field3"],["for","work-end-date-input"],[2,"display","flex","flex-direction","column","margin-top","0.4rem"],["id","work-status-input",1,"selector1",2,"width","100%"],["value","to-start"],["value","doing"],["value","finished"],[2,"margin-bottom","-1.5rem","z-index","2","background","white","margin-left","1.5rem","font-size","14px","color","rgb(100, 100, 100)","width","10rem","text-align","center"],["id","work-money-status-input",1,"selector1",2,"width","100%"],["value","da-saldare"],["value","saldato"],["onclick","if(document.getElementById('popup-stato-amministrativo').style.display == 'none' ){document.getElementById('popup-stato-amministrativo').style.display = 'flex'; }else{document.getElementById('popup-stato-amministrativo').style.display = 'none'; }",2,"width","100%","display","flex","flex-direction","row","align-items","center","padding-top","1rem","padding-bottom","1rem","cursor","pointer"],[2,"margin-top","0rem","margin-bottom","0rem"],[1,"material-symbols-outlined","notranslate"],["id","popup-stato-amministrativo",1,"table-container",2,"width","100%","display","none","flex-direction","column","padding-bottom","3rem","border","1px solid rgba(0, 0, 0, 0.091)","border-end-start-radius","1rem","border-end-end-radius","1rem"],[2,"width","100%","display","flex","flex-direction","row","align-items","center","gap","1rem","padding-left","1rem","flex-wrap","wrap","padding-bottom","2rem"],["id","installment-name-input","type","text",1,"input-field3"],["for","installment-name-input"],[1,"inputGroup",2,"width","8rem"],["id","installment-amount-input","type","number",1,"input-field3"],["for","installment-amount-input"],[2,"margin-bottom","-1.5rem","z-index","2","background","white","margin-left","1.5rem","font-size","14px","color","rgb(100, 100, 100)","width","8rem","text-align","center"],["id","installment-fatturata-input",1,"selector1",2,"width","100%"],["value","non_fatturata"],["value","fatturata"],["id","installment-data-fattura-input","type","date",1,"input-field3"],["for","installment-data-fattura-input"],[2,"display","flex","flex-direction","column","margin-top","0.4rem","width","8rem"],[2,"margin-bottom","-1.5rem","z-index","2","background","white","margin-left","1.5rem","font-size","14px","color","rgb(100, 100, 100)","width","auto"],["id","installment-incassata-input",1,"selector1",2,"width","100%"],["value","non_incassata"],["value","incassata"],["id","installment-data-incasso-input","type","date",1,"input-field3"],["for","installment-data-incasso-input"],[1,"button5",2,"height","3rem","padding-left","0.5rem","padding-right","0.5rem","margin-top","1rem","margin-bottom","1rem","width","8rem","height","3rem",3,"click"],[2,"width","100%","overflow-x","auto"],[1,"table",2,"width","100%"],[2,"height","2.5rem"],[1,"table-th",2,"width","10rem"],[1,"table-th",2,"width","3rem"],[4,"ngFor","ngForOf"],["id","work-boss-input",1,"selector1",2,"width","100%"],["id","work-remaining-days-input","type","number",1,"input-field3"],["for","work-remaining-days-input"],["id","work-delay-input","type","number",1,"input-field3"],["for","work-delay-input"],["id","work-hourly-cost-input","type","number",1,"input-field3",3,"input"],["for","work-hourly-cost-input"],["id","work-employed-workers-input","type","number",1,"input-field3",3,"input"],["id","work-employed-workers-input"],["id","work-labor-hours-input","type","number",1,"input-field3",3,"input"],["for","work-labor-hours-input"],["id","work-total-labor-cost-input","readonly","","type","number",1,"input-field3"],["for","work-total-labor-cost-input"],["id","work-total-costs-input","type","number",1,"input-field3"],["for","work-total-costs-input"],["id","work-collection-input","type","number",1,"input-field3"],["for","work-collection-input"],[1,"inputGroup",2,"display","inline-grid","width","100%"],["id","work-productivity-input","type","text",1,"input-field3"],["for","work-productivity-input"],[2,"width","100%"],["onclick","if(document.getElementById('stato-lavoro-table-containter').style.display =='none' ){document.getElementById('stato-lavoro-table-containter').style.display = 'flex'; }else{document.getElementById('stato-lavoro-table-containter').style.display = 'none'; }",2,"width","100%","display","flex","flex-direction","row","align-items","center","padding-top","1rem","padding-bottom","1rem","cursor","pointer"],["id","stato-lavoro-table-containter",2,"display","none","flex-direction","column","width","100%"],[2,"width","100%","display","flex","flex-direction","row","align-items","center","gap","1rem","padding-left","1rem","flex-wrap","wrap","padding-bottom","1rem"],["id","activity-name-input","type","text",1,"input-field3"],["for","activity-name-input"],["id","activity-status-input",1,"selector1",2,"width","100%"],["value","to-do"],["value","completed"],["value","not_started"],["value","pending"],["value","timed_out"],["id","activity-priority-input",1,"selector1",2,"width","100%"],["value","3"],["value","2"],["value","1"],[1,"table-th",2,"width","5rem"],[1,"table-th",2,"width","2rem !important"],["onclick","if(document.getElementById('spesa-lavoro-table-containter').style.display =='none' ){document.getElementById('spesa-lavoro-table-containter').style.display = 'flex'; }else{document.getElementById('spesa-lavoro-table-containter').style.display = 'none'; }",2,"width","100%","display","flex","flex-direction","row","align-items","center","padding-top","1rem","padding-bottom","1rem","cursor","pointer"],["id","spesa-lavoro-table-containter",2,"display","none","flex-direction","column","width","100%"],["id","popup-stato-amministrativo",1,"table-container",2,"width","100%","display","flex","flex-direction","column","padding-bottom","1rem"],["id","cost-articles-number-input","type","number",1,"input-field3"],["for","cost-articles-number-input"],[1,"inputGroup",2,"width","15rem"],["id","cost-description-input","type","text",1,"input-field3"],["for","cost-description-input"],[1,"inputGroup",2,"width","12rem"],["id","cost-cost-input","type","number",1,"input-field3"],["for","cost-cost-input"],["id","cost-status-input",1,"selector1",2,"width","100%"],["value","to-order"],["value","ordered"],["value","arriving"],["value","arrived"],[2,"display","flex","flex-direction","column-reverse","width","100%","position","absolute","z-index","2","pointer-events","none","height","100%"],[2,"width","calc( 100% - 2rem )","display","grid","grid-template-columns","repeat(auto-fit, minmax(200px, 1fr))","gap","1rem","background","white","padding-bottom","1rem","padding-top","1rem","pointer-events","all"],[1,"button5",2,"height","2.5rem","padding-left","0.5rem","padding-right","0.5rem","margin-top","0.5rem","margin-bottom","0.5rem","border-radius","2rem","font-weight","bold","font-size","1rem",3,"click"],["routerLink","/add",1,"button5",2,"height","2.5rem","padding-left","0.5rem","padding-right","0.5rem","margin-top","0.5rem","margin-bottom","0.5rem","border-radius","2rem","font-weight","bold","font-size","1rem"],[2,"flex","1"],[2,"width","100%","display","flex","flex-direction","row","align-items","center","padding-bottom","1rem","background","white","flex-shrink","0","pointer-events","all"],["routerLink","/add","name","chevron-back",2,"cursor","pointer","font-size","1.8rem"],[1,"table-td"],[1,"btn","btn-danger",2,"border-radius","50%","width","2rem","height","2rem","display","flex","align-items","center","justify-content","center",3,"click"],[4,"ngIf"]],template:function(r,i){1&r&&(c(0,"div",0)(1,"div",1)(2,"div",2),ht(3,"input",3),c(4,"label",4),v(5,"Nome lavoro"),h()(),c(6,"div",5),ht(7,"input",6),c(8,"label",7),v(9,"Partita Iva"),h()(),c(10,"div",5),ht(11,"input",8),c(12,"label",9),v(13,"Codice lavoro"),h()()(),c(14,"div",10)(15,"div",11),ht(16,"input",12),c(17,"label",13),v(18,"Indirizzo"),h()(),c(19,"div",14)(20,"label",15),v(21,"Provincia"),h(),c(22,"div",16)(23,"select",17)(24,"option",18),v(25,"Alessandria"),h(),c(26,"option",19),v(27,"Ancona"),h(),c(28,"option",20),v(29,"Arezzo"),h(),c(30,"option",21),v(31,"Ascoli Piceno"),h(),c(32,"option",22),v(33,"Asti"),h(),c(34,"option",23),v(35,"Avellino"),h(),c(36,"option",24),v(37,"Bari"),h(),c(38,"option",25),v(39,"Barletta-Andria-Trani"),h(),c(40,"option",26),v(41,"Belluno"),h(),c(42,"option",27),v(43,"Benevento"),h(),c(44,"option",28),v(45,"Bergamo"),h(),c(46,"option",29),v(47,"Biella"),h(),c(48,"option",30),v(49,"Bologna"),h(),c(50,"option",31),v(51,"Bolzano"),h(),c(52,"option",32),v(53,"Brescia"),h(),c(54,"option",33),v(55,"Brindisi"),h(),c(56,"option",34),v(57,"Cagliari"),h(),c(58,"option",35),v(59,"Caltanissetta"),h(),c(60,"option",36),v(61,"Campobasso"),h(),c(62,"option",37),v(63,"Caserta"),h(),c(64,"option",38),v(65,"Catania"),h(),c(66,"option",39),v(67,"Catanzaro"),h(),c(68,"option",40),v(69,"Chieti"),h(),c(70,"option",41),v(71,"Como"),h(),c(72,"option",42),v(73,"Cosenza"),h(),c(74,"option",43),v(75,"Cremona"),h(),c(76,"option",44),v(77,"Crotone"),h(),c(78,"option",45),v(79,"Cuneo"),h(),c(80,"option",46),v(81,"Enna"),h(),c(82,"option",47),v(83,"Fermo"),h(),c(84,"option",48),v(85,"Ferrara"),h(),c(86,"option",49),v(87,"Firenze"),h(),c(88,"option",50),v(89,"Foggia"),h(),c(90,"option",51),v(91,"Forl\xec-Cesena"),h(),c(92,"option",52),v(93,"Frosinone"),h(),c(94,"option",53),v(95,"Genova"),h(),c(96,"option",54),v(97,"Gorizia"),h(),c(98,"option",55),v(99,"Grosseto"),h(),c(100,"option",56),v(101,"Imperia"),h(),c(102,"option",57),v(103,"Isernia"),h(),c(104,"option",58),v(105,"La Spezia"),h(),c(106,"option",59),v(107,"L'Aquila"),h(),c(108,"option",60),v(109,"Latina"),h(),c(110,"option",61),v(111,"Lecce"),h(),c(112,"option",62),v(113,"Lecco"),h(),c(114,"option",63),v(115,"Livorno"),h(),c(116,"option",64),v(117,"Lodi"),h(),c(118,"option",65),v(119,"Lucca"),h(),c(120,"option",66),v(121,"Macerata"),h(),c(122,"option",67),v(123,"Mantova"),h(),c(124,"option",68),v(125,"Massa-Carrara"),h(),c(126,"option",69),v(127,"Matera"),h(),c(128,"option",70),v(129,"Messina"),h(),c(130,"option",71),v(131,"Milano"),h(),c(132,"option",72),v(133,"Modena"),h(),c(134,"option",73),v(135,"Monza e della Brianza"),h(),c(136,"option",74),v(137,"Napoli"),h(),c(138,"option",75),v(139,"Novara"),h(),c(140,"option",76),v(141,"Nuoro"),h(),c(142,"option",77),v(143,"Ogliastra"),h(),c(144,"option",78),v(145,"Oristano"),h(),c(146,"option",79),v(147,"Padova"),h(),c(148,"option",80),v(149,"Palermo"),h(),c(150,"option",81),v(151,"Parma"),h(),c(152,"option",82),v(153,"Pavia"),h(),c(154,"option",83),v(155,"Perugia"),h(),c(156,"option",84),v(157,"Pesaro e Urbino"),h(),c(158,"option",85),v(159,"Pescara"),h(),c(160,"option",86),v(161,"Piacenza"),h(),c(162,"option",87),v(163,"Pisa"),h(),c(164,"option",88),v(165,"Pistoia"),h(),c(166,"option",89),v(167,"Pordenone"),h(),c(168,"option",90),v(169,"Potenza"),h(),c(170,"option",91),v(171,"Prato"),h(),c(172,"option",92),v(173,"Ragusa"),h(),c(174,"option",93),v(175,"Ravenna"),h(),c(176,"option",94),v(177,"Reggio Calabria"),h(),c(178,"option",95),v(179,"Reggio nell'Emilia"),h(),c(180,"option",96),v(181,"Rieti"),h(),c(182,"option",97),v(183,"Rimini"),h(),c(184,"option",98),v(185,"Roma"),h(),c(186,"option",99),v(187,"Rovigo"),h(),c(188,"option",100),v(189,"Salerno"),h(),c(190,"option",101),v(191,"Sassari"),h(),c(192,"option",102),v(193,"Savona"),h(),c(194,"option",103),v(195,"Siena"),h(),c(196,"option",104),v(197,"Siracusa"),h(),c(198,"option",105),v(199,"Sondrio"),h(),c(200,"option",106),v(201,"Sud Sardegna"),h(),c(202,"option",107),v(203,"Taranto"),h(),c(204,"option",108),v(205,"Teramo"),h(),c(206,"option",109),v(207,"Terni"),h(),c(208,"option",110),v(209,"Torino"),h(),c(210,"option",111),v(211,"Trapani"),h(),c(212,"option",112),v(213,"Trento"),h(),c(214,"option",113),v(215,"Treviso"),h(),c(216,"option",114),v(217,"Trieste"),h(),c(218,"option",115),v(219,"Udine"),h(),c(220,"option",116),v(221,"Valle d'Aosta"),h(),c(222,"option",117),v(223,"Varese"),h(),c(224,"option",118),v(225,"Venezia"),h(),c(226,"option",119),v(227,"Verbano-Cusio-Ossola"),h(),c(228,"option",120),v(229,"Vercelli"),h(),c(230,"option",121),v(231,"Verona"),h(),c(232,"option",122),v(233,"Vibo Valentia"),h(),c(234,"option",123),v(235,"Vicenza"),h(),c(236,"option",124),v(237,"Viterbo"),h()()()()(),c(238,"div",125)(239,"div",126)(240,"label",15),v(241,"Tipo cliente"),h(),c(242,"div",16)(243,"select",127)(244,"option",128),v(245,"Pubblica Amministrazione"),h(),c(246,"option",129),v(247,"Privato"),h()()()(),c(248,"div",126)(249,"label",15),v(250,"Frequenza"),h(),c(251,"div",16)(252,"select",130)(253,"option",131),v(254,"Ricorrente"),h(),c(255,"option",132),v(256,"Non ricorrente"),h()()()(),c(257,"div",133)(258,"div",134),ht(259,"input",135),c(260,"p",136),v(261,"Pavimentazione antitraoma"),h()(),c(262,"div",134),ht(263,"input",137),c(264,"p",136),v(265,"Pavimentazione drenante"),h()(),c(266,"div",134),ht(267,"input",138),c(268,"p",139),v(269,"Verde"),h()(),c(270,"div",134),ht(271,"input",140),c(272,"p",139),v(273,"Giochi"),h()()()(),c(274,"div",10)(275,"div",16),ht(276,"input",141),c(277,"label",142),v(278,"Data scadenza"),h()(),c(279,"div",143)(280,"label",15),v(281,"Stato lavoro"),h(),c(282,"div",16)(283,"select",144)(284,"option",145),v(285,"Da iniziare"),h(),c(286,"option",146),v(287,"In corso"),h(),c(288,"option",147),v(289,"Concluso"),h()()()(),c(290,"div",143)(291,"label",148),v(292,"Stato amministrativo"),h(),c(293,"div",16)(294,"select",149)(295,"option",150),v(296,"Da saldare"),h(),c(297,"option",151),v(298,"Saldato"),h()()()()(),c(299,"div",152)(300,"h3",153),v(301,"Sezione Rate"),h(),c(302,"span",154),v(303,"expand_more"),h()(),c(304,"div",155)(305,"div",156)(306,"div",16),ht(307,"input",157),c(308,"label",158),v(309,"Nome"),h()(),c(310,"div",159),ht(311,"input",160),c(312,"label",161),v(313,"Importo (\u20ac)"),h()(),c(314,"div",143)(315,"label",162),v(316,"Stato fatturazione"),h(),c(317,"div",16)(318,"select",163)(319,"option",164),v(320,"Non fatturata"),h(),c(321,"option",165),v(322,"Fatturata"),h()()()(),c(323,"div",16),ht(324,"input",166),c(325,"label",167),v(326,"Data fattura"),h()(),c(327,"div",168)(328,"label",169),v(329,"Stato incasso"),h(),c(330,"div",16)(331,"select",170)(332,"option",171),v(333,"Non incassata"),h(),c(334,"option",172),v(335,"Incassata"),h()()()(),c(336,"div",16),ht(337,"input",173),c(338,"label",174),v(339,"Data incasso"),h()(),c(340,"button",175),fn("click",function(){return i.addInstallment()}),v(341,"Aggiungi rata"),h()(),c(342,"div",176)(343,"table",177)(344,"thead",178)(345,"tr")(346,"th",179),v(347,"Nome"),h(),c(348,"th",179),v(349,"Importo"),h(),c(350,"th",180),v(351,"Fatturata"),h(),c(352,"th",180),v(353,"Data fatturata"),h(),c(354,"th",180),v(355,"Incassata"),h(),c(356,"th",180),v(357,"Data incasso"),h(),c(358,"th",179),v(359,"Azioni"),h()()(),c(360,"tbody"),$i(361,e_e,17,7,"tr",181),h()()()(),c(362,"div",143)(363,"label",15),v(364,"Capo lavoro"),h(),c(365,"div",16),ht(366,"select",182),h()(),c(367,"div",10)(368,"div",16),ht(369,"input",183),c(370,"label",184),v(371,"Giorni rimanenti"),h()(),c(372,"div",16),ht(373,"input",185),c(374,"label",186),v(375,"Giorni concessi di ritardo"),h()()(),c(376,"div",10)(377,"div",16)(378,"input",187),fn("input",function(){return i.calcLaborCost()}),h(),c(379,"label",188),v(380,"Costo orario manodopera"),h()(),c(381,"div",16)(382,"input",189),fn("input",function(){return i.calcLaborCost()}),h(),c(383,"label",190),v(384,"Lavoratori impiegati"),h()(),c(385,"div",16)(386,"input",191),fn("input",function(){return i.calcLaborCost()}),h(),c(387,"label",192),v(388,"N. Ore manodopera"),h()()(),c(389,"div",10)(390,"div",16),ht(391,"input",193),c(392,"label",194),v(393,"Totale costo manodopera"),h()(),c(394,"div",16),ht(395,"input",195),c(396,"label",196),v(397,"Costi totali sostenuti"),h()(),c(398,"div",16),ht(399,"input",197),c(400,"label",198),v(401,"Incasso lavoro"),h()()(),c(402,"div",199),ht(403,"input",200),c(404,"label",201),v(405,"Produttivit\xe0"),h()(),c(406,"div",202)(407,"div",203)(408,"h3",153),v(409,"Stato lavori"),h(),c(410,"span",154),v(411,"expand_more"),h()(),c(412,"div",204)(413,"div",205)(414,"div",16),ht(415,"input",206),c(416,"label",207),v(417,"Attivit\xe0"),h()(),c(418,"div",143)(419,"label",162),v(420,"Stato"),h(),c(421,"div",16)(422,"select",208)(423,"option",209),v(424,"Da completare"),h(),c(425,"option",210),v(426,"Completato"),h(),c(427,"option",146),v(428,"In corso"),h(),c(429,"option",211),v(430,"Non iniziato"),h(),c(431,"option",212),v(432,"In attesa"),h(),c(433,"option",213),v(434,"Scaduto"),h()()()(),c(435,"div",143)(436,"label",162),v(437,"Priorit\xe0"),h(),c(438,"div",16)(439,"select",214)(440,"option",215),v(441,"Alta"),h(),c(442,"option",216),v(443,"Media"),h(),c(444,"option",217),v(445,"Bassa"),h()()()(),c(446,"button",175),fn("click",function(){return i.addWorkActivity()}),v(447,"Aggiungi attivit\xe0"),h()(),c(448,"div",176)(449,"table",177)(450,"thead",178)(451,"tr")(452,"th",218),v(453,"Attivit\xe0"),h(),c(454,"th",219),v(455,"Stato"),h(),c(456,"th",219),v(457,"Priorit\xe0"),h(),c(458,"th",219),v(459,"Azioni"),h()()(),c(460,"tbody"),$i(461,i_e,13,6,"tr",181),h()()()(),c(462,"div",220)(463,"h3",153),v(464,"Spesa lavoro"),h(),c(465,"span",154),v(466,"expand_more"),h()(),c(467,"div",221)(468,"div",222)(469,"div",156)(470,"div",159),ht(471,"input",223),c(472,"label",224),v(473,"N.Articoli"),h()(),c(474,"div",225),ht(475,"input",226),c(476,"label",227),v(477,"Descrizione"),h()(),c(478,"div",228),ht(479,"input",229),c(480,"label",230),v(481,"Costo unitario (\u20ac)"),h()(),c(482,"div",143)(483,"label",162),v(484,"Stato"),h(),c(485,"div",16)(486,"select",231)(487,"option",232),v(488,"Da ordinare"),h(),c(489,"option",233),v(490,"Ordinato"),h(),c(491,"option",234),v(492,"In arrivo"),h(),c(493,"option",235),v(494,"Arrivato"),h()()()(),c(495,"button",175),fn("click",function(){return i.addCost()}),v(496,"Aggiungi spesa"),h()(),v(497,"a "),c(498,"div",176)(499,"table",177)(500,"thead",178)(501,"tr")(502,"th",179),v(503,"N.Articoli"),h(),c(504,"th",179),v(505,"Descrizione"),h(),c(506,"th",180),v(507,"Costo unitario"),h(),c(508,"th",180),v(509,"Costo totale"),h(),c(510,"th",180),v(511,"Stato"),h(),c(512,"th",180),v(513,"Azioni"),h()()(),c(514,"tbody"),$i(515,o_e,15,6,"tr",181),h()()()()()(),c(516,"div",236)(517,"div",237)(518,"button",238),fn("click",function(){return i.addWork()}),v(519,"Salva lavoro"),h(),c(520,"button",239),v(521,"Annulla lavoro"),h()(),ht(522,"div",240),c(523,"div",241),ht(524,"ion-icon",242),c(525,"h3"),v(526,"Crea lavoro"),h()()()()),2&r&&(jt(361),Kr("ngForOf",i.installmentsRows),jt(100),Kr("ngForOf",i.workActivitiesRows),jt(54),Kr("ngForOf",i.workCostsRows))},dependencies:[Wc,vh,Yl,Ed,_u,QA,HA]}),e})(),a_e=(()=>{var t;class e{constructor(r,i,o,s){this.generalService=r,this.firebaseService=i,this.afAuth=o,this.router=s,this.isAssenzaChecked=!1,this.isPausaPranzoChecked=!1}ngOnInit(){document.getElementById("add-timbratura-nome-dipendente-input").value=sessionStorage.getItem("user-real-name")+""}hideOrShowTimeInputs(){const r=document.getElementById("add-timbratura-motivazione-assenza-input"),i=document.getElementById("orario-di-lavoro-interface"),o=document.getElementById("pausa-prazo-interface");"Permesso"==r.value||"Malattia"==r.value?(i.style.display="flex",o.style.display="flex"):(i.style.display="none",o.style.display="none")}hideOrShowMotivazioneAssenzaInterface(){const r=document.getElementById("motivazione-assenza-interface");r.style.display="none"==r.style.display?"flex":"none"}hideOrShowPausaPranzoInterface(){const r=document.getElementById("add-timbratura-pausa-pranzo-checkbox-input");document.getElementById("pausa-prazo-interface").style.display=r.checked?"flex":"none"}addTimbratura(){this.afAuth.authState.subscribe(r=>{if(r){const i=document.getElementById("add-timbratura-nome-dipendente-input"),o=document.getElementById("add-timbratura-date-input"),s=document.getElementById("add-timbratura-place-input"),a=document.getElementById("add-timbratura-task-input"),l=document.getElementById("add-timbratura-start-time-input"),u=document.getElementById("add-timbratura-end-time-input"),I=(document.getElementById("add-timbratura-assenza-checkbox-input"),document.getElementById("add-timbratura-motivazione-assenza-input")),O=(document.getElementById("add-timbratura-pausa-pranzo-checkbox-input"),document.getElementById("add-timbratura-start-pausa-pranzo-time-input")),q=document.getElementById("add-timbratura-end-pausa-pranzo-time-input"),ge=Cn.A.firestore().collection("timbrature").doc(),Be=ge.id;ge.set({creator_uid:r.uid,timestamp:Cn.A.firestore.FieldValue.serverTimestamp(),name_surname:i.value,date:o.value,place:s.value,task:a.value,work_start_hour:l.value,work_end_hour:u.value,date_timestamp_ms:Date.now(),absence:this.isAssenzaChecked,absence_motivation:I.value,break:this.isPausaPranzoChecked,break_start_hour:O.value,break_end_hour:q.value}).then(()=>{console.log("Document ID:",Be);var Ye=(new Date).getFullYear(),tt=(new Date).getMonth()+1,Bt=(new Date).getDate();Cn.A.database().ref("/counters/timbrature/"+Ye+"/"+r.uid+"/"+Be).set({creator_uid:r.uid,year:Ye,month:tt,day:Bt,date:o.value,work_start_hour:l.value,work_end_hour:u.value,break:this.isPausaPranzoChecked,break_start_hour:O.value,break_end_hour:q.value}).then(()=>{console.log("Timbratura aggiunta con successo a RTDB.")}).catch(Ut=>{this.generalService.presentToast("Errore durante l'aggiunta della timbratura a RTDB: "+Ut.message),console.error("Errore durante l'aggiunta della timbratura a RTDB: ",Ut)}),this.router.navigate(["/timbrature"]),this.generalService.presentToast("Timbratura aggiunta con successo")}).catch(Ye=>{this.generalService.presentToast("Errore durante l'aggiunta della timbratura: "+Ye.message)})}})}cancelTimbratura(){confirm("Sei sicuro di voler chiudere questa schermata, la timbratura corrente verr\xe0 persa")&&this.router.navigate(["/timbrature"])}}return(t=e).\u0275fac=function(r){return new(r||t)(Y(xa),Y(Hw),Y(jA),Y(zo))},t.\u0275cmp=ee({type:t,selectors:[["app-add-timbratura"]],decls:70,vars:2,consts:[[2,"padding-left","1rem","padding-right","1rem","margin-top","1rem","overflow-x","hidden","overflow-y","auto"],[2,"width","100%","display","flex","flex-direction","row","flex-wrap","wrap","gap","1rem"],[1,"inputGroup",2,"flex","1","min-width","18rem"],["id","add-timbratura-nome-dipendente-input","type","text","readonly","",1,"input-field3"],["for","add-timbratura-nome-dipendente-input"],["id","add-timbratura-date-input","type","date",1,"input-field3"],["for","add-timbratura-date-input"],["id","add-timbratura-place-input","type","text",1,"input-field3"],["for","add-timbratura-place-input"],["id","add-timbratura-task-input","type","text",1,"input-field3"],["for","add-timbratura-task-input"],["id","orario-di-lavoro-interface",2,"width","100%","display","flex","flex-direction","row","align-items","center","flex-wrap","wrap","gap","1rem"],[2,"margin-bottom","0rem","margin-top","0rem"],[2,"width","100%","display","flex","flex-direction","row","align-items","center","flex-wrap","wrap","gap","1rem"],[1,"inputGroup",2,"flex","1","min-width","8rem"],["id","add-timbratura-start-time-input","type","time",1,"input-field3"],["for","add-timbratura-start-time-input"],["id","add-timbratura-end-time-input","type","time",1,"input-field3"],["for","add-timbratura-end-time-input"],[2,"width","100%","display","flex","flex-direction","row","align-items","center","gap","0.5rem","flex-wrap","wrap","margin-top","2rem"],["type","checkbox","id","add-timbratura-assenza-checkbox-input",2,"width","2rem","height","2rem",3,"change","ngModelChange","ngModel"],["for","add-timbratura-assenza-checkbox-input"],["id","motivazione-assenza-interface",2,"width","100%","display","none","flex-direction","column"],[2,"margin-left","2rem","color","gray","font-size","0.9rem","margin-bottom","-0.5rem","margin-top","1rem"],[1,"inputGroup"],["id","add-timbratura-motivazione-assenza-input",1,"selector1",2,"width","100%",3,"change"],["value","Permesso"],["value","Malattia"],["value",""],["value","Ferie"],["value","Infortunio"],[2,"width","100%","display","flex","flex-direction","row","align-items","center","gap","0.5rem","flex-wrap","wrap"],["type","checkbox","id","add-timbratura-pausa-pranzo-checkbox-input",2,"width","2rem","height","2rem",3,"ngModelChange","change","ngModel"],["for","add-timbratura-pausa-pranzo-checkbox-input",2,"font-size","1.2rem","font-weight","600"],["id","pausa-prazo-interface",2,"width","100%","display","none","flex-direction","row","align-items","center","flex-wrap","wrap","gap","1rem"],["id","add-timbratura-start-pausa-pranzo-time-input","type","time",1,"input-field3"],["for","add-timbratura-start-pausa-pranzo-time-input"],["id","add-timbratura-end-pausa-pranzo-time-input","type","time",1,"input-field3"],["for","add-timbratura-end-pausa-pranzo-time-input"],[2,"flex","1","display","flex","flex-direction","column"],[2,"width","100%","display","flex","flex-direction","row","align-items","center","gap","1rem","flex-wrap","wrap","margin-bottom","1rem","margin-top","2rem"],[1,"button1",2,"flex","1","min-width","5rem",3,"click"]],template:function(r,i){1&r&&(c(0,"div",0)(1,"h3"),v(2,"Nuova timbratura"),h(),c(3,"div",1)(4,"div",2),ht(5,"input",3),c(6,"label",4),v(7,"Nome dipendente"),h()(),c(8,"div",2),ht(9,"input",5),c(10,"label",6),v(11,"Data"),h()(),c(12,"div",2),ht(13,"input",7),c(14,"label",8),v(15,"Luogo"),h()()(),c(16,"div",1)(17,"div",2),ht(18,"input",9),c(19,"label",10),v(20,"Attivit\xe0"),h()(),c(21,"div",11)(22,"h3",12),v(23,"Orario di lavoro"),h(),c(24,"div",13)(25,"div",14),ht(26,"input",15),c(27,"label",16),v(28,"Inizio"),h()(),c(29,"div",14),ht(30,"input",17),c(31,"label",18),v(32,"Fine"),h()()()(),c(33,"div",19)(34,"input",20),fn("change",function(){return i.hideOrShowMotivazioneAssenzaInterface()}),Dl("ngModelChange",function(s){return Kl(i.isAssenzaChecked,s)||(i.isAssenzaChecked=s),s}),h(),c(35,"label",21),v(36,"Assenza"),h()(),c(37,"div",22)(38,"p",23),v(39,"Motivazione"),h(),c(40,"div",24)(41,"select",25),fn("change",function(){return i.hideOrShowTimeInputs()}),c(42,"option",26),v(43,"Permesso"),h(),c(44,"option",27),v(45,"Malattia"),h(),ht(46,"option",28),c(47,"option",29),v(48,"Ferie"),h(),c(49,"option",30),v(50,"Infortunio"),h()()()(),c(51,"div",31)(52,"input",32),Dl("ngModelChange",function(s){return Kl(i.isPausaPranzoChecked,s)||(i.isPausaPranzoChecked=s),s}),fn("change",function(){return i.hideOrShowPausaPranzoInterface()}),h(),c(53,"label",33),v(54,"Pausa"),h()(),c(55,"div",34)(56,"div",14),ht(57,"input",35),c(58,"label",36),v(59,"Inizio pausa"),h()(),c(60,"div",14),ht(61,"input",37),c(62,"label",38),v(63,"Fine pausa"),h()()(),ht(64,"div",39),h(),c(65,"div",40)(66,"button",41),fn("click",function(){return i.cancelTimbratura()}),v(67,"Annulla"),h(),c(68,"button",41),fn("click",function(){return i.addTimbratura()}),v(69,"Salva"),h()()()),2&r&&(jt(34),Bl("ngModel",i.isAssenzaChecked),jt(18),Bl("ngModel",i.isPausaPranzoChecked))},dependencies:[QA,HA,zT,Yv,om]}),e})(),l_e=(()=>{var t;class e{constructor(r){this.router=r}ngOnInit(){document.getElementById("sidebar").style.display="none",document.getElementById("header").style.display="none"}toLogin(){this.router.navigate(["/login"])}toRegister(){this.router.navigate(["/register"])}}return(t=e).\u0275fac=function(r){return new(r||t)(Y(zo))},t.\u0275cmp=ee({type:t,selectors:[["app-log"]],decls:12,vars:0,consts:[[1,"responsive-row-div",2,"height","100%","width","100%","display","flex","flex-direction","column","position","fixed","overflow-x","hidden","overflow-y","auto","align-items","center"],[1,"responsive-row-div","responsive-card1"],[1,"spacer1"],["src","assets\\svg\\undraw_shared_workspace_re_3gsu.svg",2,"width","18rem","margin-top","2rem","object-fit","contain"],[1,"responsive-50-percent-width-div",2,"width","100%","border-top-left-radius","1rem","border-top-right-radius","1rem","display","flex","flex-direction","column","align-items","center"],[2,"font-weight","bold","width","90%","font-size","2rem","margin-top","2rem"],[1,"button1",2,"width","90%","margin-top","1rem","border","1px solid rgba(0, 0, 0, 0.1)","border-radius","0.5rem",3,"click"],[1,"button1",2,"width","90%","margin-top","1rem","margin-bottom","1rem","border-radius","0.5rem","background","#00B0FF","color","white","border","1px solid rgba(0, 0, 0, 0.1)",3,"click"]],template:function(r,i){1&r&&(c(0,"body")(1,"div",0)(2,"div",1),ht(3,"div",2)(4,"img",3),c(5,"div",4)(6,"h1",5),v(7,"Gestionale AllGreen"),h(),c(8,"button",6),fn("click",function(){return i.toLogin()}),v(9,"Accedi"),h(),c(10,"button",7),fn("click",function(){return i.toRegister()}),v(11,"Registrati"),h()()()()())}}),e})(),u_e=(()=>{var t;class e{constructor(r,i,o,s,a,l){this.afAuth=r,this.router=i,this.menuCtrl=o,this.navCtrl=s,this.generalService=a,this.firebaseService=l,this.isUserLoggedIn=!1}ngOnInit(){document.getElementById("sidebar").style.display="none",document.getElementById("header").style.display="none"}login(){const i=document.getElementById("login-email").value,s=document.getElementById("login-password").value;return this.afAuth.signInWithEmailAndPassword(i,s).then(()=>{this.router.navigate(["/home"]),this.generalService.presentToast("Login effettuato con successo")}).catch(a=>{this.generalService.presentToast("Errore durante il login: "+a.message)})}toRegister(){this.router.navigate(["/register"])}}return(t=e).\u0275fac=function(r){return new(r||t)(Y(jA),Y(zo),Y(kle),Y(hm),Y(xa),Y(Hw))},t.\u0275cmp=ee({type:t,selectors:[["app-login"]],decls:21,vars:0,consts:[[1,"responsive-row-div",2,"width","100%","height","100%","display","flex","flex-direction","column","align-items","center","overflow-x","hidden","overflow-y","auto"],["src","assets\\svg\\undraw_co_workers_re_1i6i.svg",1,"responsive-img-width1",2,"width","12rem","margin-top","2rem","margin-bottom","2rem"],[1,"row-spacer1"],[1,"responsive-40-percent-width-div",2,"display","flex","flex-direction","column","width","100%","align-items","center"],[2,"width","92%","border-radius","1rem","border","1px solid rgba(0, 0, 0, 0.114)","display","flex","flex-direction","column","align-items","center"],[2,"font-weight","bold","width","90%","font-size","2rem","margin-top","1.5rem"],[1,"input1",2,"margin-top","1rem"],["name","mail-outline",2,"font-size","1.5rem","color","#343a40","padding-left","0.5rem","padding-right","0.5rem"],["type","email","id","login-email","placeholder","Email",1,"field1"],["name","key-outline",2,"font-size","1.5rem","color","#343a40","padding-left","0.5rem","padding-right","0.5rem"],["type","password","id","login-password","placeholder","Password",1,"field1"],[1,"button1",2,"width","90%","margin-top","1rem","margin-bottom","1rem","border-radius","0.5rem","background","#00B0FF","color","white","border","1px solid rgba(0, 0, 0, 0.1)",3,"click"],[1,"div1",2,"margin-left","0rem"],[1,"general_paragraph1",2,"margin-left","0.5rem"],[2,"width","100%","text-align","center"],[2,"cursor","pointer",3,"click"]],template:function(r,i){1&r&&(c(0,"div",0),ht(1,"img",1)(2,"div",2),c(3,"div",3)(4,"div",4)(5,"h1",5),v(6,"Accedi al tuo account"),h(),c(7,"div",6),ht(8,"ion-icon",7)(9,"input",8),h(),c(10,"div",6),ht(11,"ion-icon",9)(12,"input",10),h(),c(13,"button",11),fn("click",function(){return i.login()}),c(14,"div",12)(15,"p",13),v(16,"Accedi"),h()()()(),c(17,"p",14),v(18,"Non possiedi un account?"),c(19,"strong",15),fn("click",function(){return i.toRegister()}),v(20," Registrati"),h()()()())},dependencies:[Yl]}),e})(),c_e=(()=>{var t;class e{constructor(r,i,o,s,a){this.afAuth=r,this.router=i,this.firestore=o,this.generalService=s,this.firebaseService=a}ngOnInit(){document.getElementById("sidebar").style.display="none",document.getElementById("header").style.display="none"}register(){var r=this;return(0,V.A)(function*(){const o=document.getElementById("register-email").value,a=document.getElementById("password1").value;if(a===document.getElementById("password2").value)try{const I=(yield r.afAuth.createUserWithEmailAndPassword(o,a)).user;if(I){const k=I.uid,q=document.getElementById("name_input1").value,Be=document.getElementById("username_input1").value,Ut={uid:k,mail:o,name:q,username:Be,phone:document.getElementById("phone_input1").value};r.router.navigate(["/welcome"]),r.generalService.presentToast("Account registrato con successo"),Cn.A.database().ref("users_data/"+I.uid+"/").set(Ut).catch(Kn=>{r.router.navigate(["/welcome"]),r.generalService.presentToast("Account registato parzialmente, contattare l'amministratore per segnalare il problema: "+Kn.message)})}else r.generalService.presentToast("Errore durante la registrazione (l'utente corrisponde a null) ")}catch(p){r.generalService.presentToast("Errore durante la registrazione: "+p.message)}else r.generalService.presentToast("Le password non corrispondono")})()}toLogin(){this.router.navigate(["/login"])}}return(t=e).\u0275fac=function(r){return new(r||t)(Y(jA),Y(zo),Y(Zl),Y(xa),Y(Hw))},t.\u0275cmp=ee({type:t,selectors:[["app-register"]],decls:34,vars:0,consts:[[1,"responsive-row-div",2,"width","100%","height","100%","overflow-y","auto","overflow-x","hidden","position","fixed","display","flex","flex-direction","column","align-items","center"],["src","assets\\svg\\undraw_qa_engineers_dg-5-p.svg",1,"responsive-img-width1",2,"width","12rem","margin-top","2rem","margin-bottom","2rem"],[1,"row-spacer1"],[1,"responsive-40-percent-width-div",2,"display","flex","flex-direction","column","width","100%","align-items","center"],[2,"width","92%","border-radius","1rem","border","1px solid rgba(0, 0, 0, 0.114)","display","flex","flex-direction","column","align-items","center"],[2,"font-weight","bold","width","90%","font-size","2rem","margin-top","1.5rem"],[1,"input1",2,"margin-top","1rem"],["name","person-circle-outline",2,"font-size","1.5rem","color","#343a40","padding-left","0.5rem","padding-right","0.5rem"],["id","name_input1","type","text","placeholder","Nome",1,"field1"],["id","username_input1","type","text","placeholder","Username",1,"field1"],["name","mail-outline",2,"font-size","1.5rem","color","#343a40","padding-left","0.5rem","padding-right","0.5rem"],["id","register-email","type","email","placeholder","Email",1,"field1"],["name","call-outline",2,"font-size","1.5rem","color","#343a40","padding-left","0.5rem","padding-right","0.5rem"],["id","phone_input1","type","number","placeholder","Cellulare",1,"field1"],["name","key-outline",2,"font-size","1.5rem","color","#343a40","padding-left","0.5rem","padding-right","0.5rem"],["id","password1","type","password","placeholder","Password",1,"field1"],["id","password2","type","password","placeholder","Conferma Password",1,"field1"],[1,"button1",2,"width","90%","margin-top","1rem","margin-bottom","1rem","border-radius","0.5rem","background","#00B0FF","color","white","border","1px solid rgba(0, 0, 0, 0.1)",3,"click"],[1,"div1",2,"margin-left","0rem"],[1,"general_paragraph1",2,"margin-left","0.5rem"],[2,"width","100%","text-align","center","margin-bottom","2rem"],[2,"cursor","pointer",3,"click"]],template:function(r,i){1&r&&(c(0,"body")(1,"div",0),ht(2,"img",1)(3,"div",2),c(4,"div",3)(5,"div",4)(6,"h1",5),v(7,"Il tuo nuovo account"),h(),c(8,"div",6),ht(9,"ion-icon",7)(10,"input",8),h(),c(11,"div",6),ht(12,"ion-icon",7)(13,"input",9),h(),c(14,"div",6),ht(15,"ion-icon",10)(16,"input",11),h(),c(17,"div",6),ht(18,"ion-icon",12)(19,"input",13),h(),c(20,"div",6),ht(21,"ion-icon",14)(22,"input",15),h(),c(23,"div",6),ht(24,"ion-icon",14)(25,"input",16),h(),c(26,"button",17),fn("click",function(){return i.register()}),c(27,"div",18)(28,"p",19),v(29,"Registrati"),h()()()(),c(30,"p",20),v(31,"Hai gi\xe0 un account?"),c(32,"strong",21),fn("click",function(){return i.toLogin()}),v(33," Accedi"),h()()()()())},dependencies:[Yl]}),e})(),d_e=(()=>{var t;class e{constructor(){}ngOnInit(){document.getElementById("sidebar").style.display="flex",document.getElementById("header").style.display="flex"}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=ee({type:t,selectors:[["app-welcome"]],decls:14,vars:0,consts:[[2,"width","100%","height","100%","display","flex","flex-direction","column","align-items","center","justify-content","center"],[2,"width","95%","text-align","center"],[2,"width","100%","display","flex","flex-direction","row","align-items","center","justify-content","center","gap","1rem","flex-wrap","wrap"],["routerLink","/home",1,"button5",2,"height","3rem","padding-left","0.5rem","padding-right","0.5rem"],["routerLink","/timbrature",1,"button5",2,"height","3rem","padding-left","0.5rem","padding-right","0.5rem"],["routerLink","/add-timbratura",1,"button5",2,"height","3rem","padding-left","0.5rem","padding-right","0.5rem"]],template:function(r,i){1&r&&(c(0,"div",0)(1,"p",1)(2,"strong"),v(3,"Benvenuto/a, "),h(),v(4," contatta l'amministratore per approvare il tuo account e iniziare a usare il gestionale"),h(),c(5,"p"),v(6,"Tasti rapidi"),h(),c(7,"div",2)(8,"button",3),v(9,"Home page"),h(),c(10,"button",4),v(11,"Timbrature"),h(),c(12,"button",5),v(13,"Aggiungi timbratura"),h()()())},dependencies:[Ed,_u]}),e})();function A_e(t,e){if(1&t){const n=fs();c(0,"tr")(1,"td",243),v(2),h(),c(3,"td",243),v(4),h(),c(5,"td",243),v(6),h(),c(7,"td",243),v(8),h(),c(9,"td",243),v(10),h(),c(11,"td",243),v(12),h(),c(13,"td",244)(14,"button",245),fn("click",function(){const i=ln(n).$implicit;return En(ki().changeInstallment(i))}),c(15,"span",150),v(16,"edit"),h()(),c(17,"button",245),fn("click",function(){const i=ln(n).$implicit;return En(ki().removeInstallment(i))}),c(18,"span",150),v(19,"delete"),h()()()()}if(2&t){const n=e.$implicit;jt(2),ar(n.name),jt(2),ar(n.amount),jt(2),ar(n.fatturata),jt(2),ar(n.data_fattura),jt(2),ar(n.incassata),jt(2),ar(n.data_incasso)}}function h_e(t,e){1&t&&(c(0,"span"),v(1,"Bassa"),h())}function f_e(t,e){1&t&&(c(0,"span"),v(1,"Media"),h())}function p_e(t,e){1&t&&(c(0,"span"),v(1,"Alta"),h())}function g_e(t,e){if(1&t){const n=fs();c(0,"tr")(1,"td",243),v(2),h(),c(3,"td",243),v(4),h(),c(5,"td",243),$i(6,h_e,2,0,"span",246)(7,f_e,2,0,"span",246)(8,p_e,2,0,"span",246),h(),c(9,"td",244)(10,"button",245),fn("click",function(){const i=ln(n).$implicit;return En(ki().changeActivity(i))}),c(11,"span",150),v(12,"edit"),h()(),c(13,"button",245),fn("click",function(){const i=ln(n).$implicit;return En(ki().removeWorksiteActivity(i))}),c(14,"span",150),v(15,"delete"),h()()()()}if(2&t){const n=e.$implicit;jt(2),ar(n.activity),jt(2),ar(n.status),jt(2),Kr("ngIf","1"===n.priority),jt(),Kr("ngIf","2"===n.priority),jt(),Kr("ngIf","3"===n.priority)}}function m_e(t,e){if(1&t){const n=fs();c(0,"tr")(1,"td",243),v(2),h(),c(3,"td",243),v(4),h(),c(5,"td",243),v(6),h(),c(7,"td",243),v(8),h(),c(9,"td",243),v(10),h(),c(11,"td",244)(12,"button",245),fn("click",function(){const i=ln(n).$implicit;return En(ki().changeCost(i))}),c(13,"span",150),v(14,"edit"),h()(),c(15,"button",245),fn("click",function(){const i=ln(n).$implicit;return En(ki().removeCost(i))}),c(16,"span",150),v(17,"delete"),h()()()()}if(2&t){const n=e.$implicit;jt(2),ar(n.articles_number),jt(2),ar(n.description),jt(2),ar(n.cost),jt(2),ar(n.cost*n.articles_number),jt(2),ar(n.status)}}let v_e=(()=>{var t;class e{constructor(r,i,o){this.firestore=r,this.generalService=i,this.router=o,this.currentWorksite=this.generalService.currentWorksite,this.documentsActivities=new J([]),this.nextPageAvailableActivities=!0,this.documentsCosts=new J([]),this.nextPageAvailableCosts=!0,this.documentsInstallments=new J([]),this.nextPageAvailableInstallments=!0,this.installmentsRows=[],this.worksiteCostsRows=[],this.worksiteActivitiesRows=[]}ngOnInit(){this.generalService.currentChangingElement="worksites";const r=document.getElementById("change-worksite-boss-input");Cn.A.database().ref("users_data").on("value",Ii=>{r.innerHTML='<option value="">Seleziona un\'opzione</option>',Ii.forEach(Bo=>{const Bu=Bo.key,If=Bo.val(),Xm=document.createElement("option");Xm.value=Bu,Xm.innerText=If.name,r.appendChild(Xm)})});var i=document.getElementById("change-worksite-name-input"),o=document.getElementById("change-worksite-partita-iva-input"),s=document.getElementById("change-worksite-code-input"),a=document.getElementById("change-worksite-address-input"),l=document.getElementById("change-worksite-provincia-input"),u=document.getElementById("change-worksite-customer-type-input"),p=document.getElementById("change-worksite-end-date-input"),I=document.getElementById("change-worksite-status-input"),k=document.getElementById("change-worksite-boss-input"),O=document.getElementById("change-worksite-remaining-days-input"),q=document.getElementById("change-worksite-delay-input"),ge=document.getElementById("change-worksite-hourly-cost-input"),Be=document.getElementById("change-worksite-employed-workers-input"),Ye=document.getElementById("change-worksite-labor-hours-input");"true"==this.currentWorksite.giochi&&(document.getElementById("change-worksite-giochi-input").checked=!0),"true"==this.currentWorksite.verde&&(document.getElementById("change-worksite-verde-input").checked=!0),"true"==this.currentWorksite.pavimentazione_drenante&&(document.getElementById("change-worksite-pavimentazione-drenante-input").checked=!0),"true"==this.currentWorksite.pavimentazione_antitraoma&&(document.getElementById("change-worksite-pavimentazione-antitraoma-input").checked=!0),i.value=this.currentWorksite.name,o.value=this.currentWorksite.partita_iva,s.value=this.currentWorksite.code,a.value=this.currentWorksite.address,l.value=this.currentWorksite.province,u.value=this.currentWorksite.customer_type,p.value=this.currentWorksite.end_date,I.value=this.currentWorksite.status,k.value=this.currentWorksite.boss,O.value=this.currentWorksite.remaining_days,q.value=this.currentWorksite.delay,ge.value=this.currentWorksite.hourly_cost,Be.value=this.currentWorksite.employed_workers,Ye.value=this.currentWorksite.labor_hours,this.getWorksiteActivities(),this.getWorksiteCosts(),this.getWorksiteInstallments(),this.getGeneralCounters(),this.calcLaborCost(),this.readCost();var tt=new Date,Fn=new Date(this.currentWorksite.end_date).getTime()-tt.getTime(),Kn=Math.ceil(Fn/864e5);document.getElementById("change-worksite-remaining-days-input").value=Kn.toString()}getGeneralCounters(){var r=this;return(0,V.A)(function*(){const i=Z1();var o=(new Date).getFullYear().toString();const s=yield bs(Co(ls(i,"activities"),Vi("worksite_id","==",r.currentWorksite.id),Vi("status","==","completed")));document.getElementById("stato-cantiere-table-containter-change-worksite-total-done-activities").innerText="Numero attivit\xe0 completate: "+s.data().count.toString();const a=yield bs(Co(ls(i,"costs"),Vi("worksite_id","==",r.currentWorksite.id),Vi("status","==","to-order")));document.getElementById("change-worksite-to-order-articles-counter").innerText="Articoli da ordinare: "+a.data().count.toString();const l=yield bs(Co(ls(i,"installments"),Vi("worksite_id","==",r.currentWorksite.id),Vi("incassata","==","non_incassata")));document.getElementById("change-worksite-non-incassate-installments-input").innerText="Rate da incassare: "+l.data().count.toString(),l.data().count>0?document.getElementById("change-worksite-money-status-input").value="da-saldare":document.getElementById("change-worksite-money-status-input").value="saldato",Cn.A.database().ref("counters/worksites/"+o+"/"+r.currentWorksite.id+"/total/").once("value",u=>{const p=u.val()||{incasso:0,fatturato:0,spesa_personale:0,spesa:0};document.getElementById("change-worksite-collection-input").value="\u20ac"+p.incasso})})()}calcLaborCost(){var r=document.getElementById("change-worksite-hourly-cost-input"),i=document.getElementById("change-worksite-employed-workers-input"),o=document.getElementById("change-worksite-labor-hours-input"),s=parseFloat(r.value)||1,a=parseFloat(i.value)||1,l=parseFloat(o.value)||1;document.getElementById("change-worksite-total-labor-cost-input").value="\u20ac"+(s*a*l).toString()}openOrClosePopup1(){const r=document.getElementById("change-worksite-money-status-input");console.log(r.value),"da-saldare"==r.value&&(document.getElementById("popup-stato-amministrativo").style.display="flex"),(r.value="saldato")&&(document.getElementById("popup-stato-amministrativo").style.display="none")}saveWorksite(){var r=document.getElementById("change-worksite-name-input"),i=document.getElementById("change-worksite-partita-iva-input"),o=document.getElementById("change-worksite-code-input"),s=document.getElementById("change-worksite-address-input"),a=document.getElementById("change-worksite-provincia-input"),l=document.getElementById("change-worksite-customer-type-input"),u=document.getElementById("change-worksite-end-date-input"),p=document.getElementById("change-worksite-status-input"),I=document.getElementById("change-worksite-money-status-input"),k=document.getElementById("change-worksite-boss-input"),O=document.getElementById("change-worksite-delay-input"),q=document.getElementById("change-worksite-hourly-cost-input"),ge=document.getElementById("change-worksite-employed-workers-input"),Be=document.getElementById("change-worksite-labor-hours-input"),Ye=document.getElementById("change-worksite-collection-input"),tt=document.getElementById("change-worksite-pavimentazione-antitraoma-input");this.pavimentazioneAntitraoma=tt.checked?"true":"false";var Bt=document.getElementById("change-worksite-pavimentazione-drenante-input");this.pavimentazioneDrenante=Bt.checked?"true":"false";var Ut=document.getElementById("change-worksite-verde-input");this.verde=Ut.checked?"true":"false";var Fn=document.getElementById("change-worksite-giochi-input");this.giochi=Fn.checked?"true":"false",this.firestore.collection("worksites").doc(this.currentWorksite.id).set({name:r.value,partita_iva:i.value,code:o.value,address:s.value,province:a.value,customer_type:l.value,end_date:u.value,money_status:I.value,status:p.value,boss_uid:k.value,boss_name:k.innerText,delay:O.value,hourly_cost:q.value,employed_workers:ge.value,labor_hours:Be.value,collection:Ye.value,timestamp:Cn.A.firestore.FieldValue.serverTimestamp(),pavimentazione_antitraoma:this.pavimentazioneAntitraoma,pavimentazione_drenante:this.pavimentazioneDrenante,verde:this.verde,giochi:this.giochi}).then(()=>{this.generalService.presentToast("Cantiere modificato con successo")}).catch(Kn=>{this.generalService.presentToast("Errore durante la modifica del cantiere: "+Kn.message)})}countSpesa(){return this.worksiteCostsRows.reduce((i,o)=>null!=o.cost?i+parseFloat(o.cost)*parseFloat(o.articles_number):i,0)}getWorksiteActivities(){this.firestore.collection("activities",r=>r.where("worksite_id","==",this.currentWorksite.id).where("group","==","worksite")).valueChanges({idField:"id"}).subscribe(r=>{4===r.length?this.lastVisibleActivities=r[r.length-1]:this.nextPageAvailableActivities=!1,this.documentsActivities.next(r)})}getMoreWorksiteActivities(){this.lastVisibleActivities&&this.firestore.collection("activities",r=>r.limit(4).where("worksite_id","==",this.currentWorksite.id).where("group","==","worksite").startAfter(this.lastVisibleActivities)).valueChanges({idField:"id"}).subscribe(r=>{if(r.length>0){const o=[...this.documentsActivities.getValue(),...r];this.documentsActivities.next(o),4===r.length?this.lastVisibleActivities=r[r.length-1]:this.nextPageAvailableActivities=!1}else this.nextPageAvailableActivities=!1})}getWorksiteCosts(){this.firestore.collection("costs",r=>r.where("worksite_id","==",this.currentWorksite.id).where("group","==","worksite")).valueChanges({idField:"id"}).subscribe(r=>{4===r.length?this.lastVisibleCosts=r[r.length-1]:this.nextPageAvailableCosts=!1,this.documentsCosts.next(r)})}readCost(){var r=this;return(0,V.A)(function*(){try{const i=Cn.A.database().ref("/counters/worksites/"+(new Date).getFullYear().toString()+"/"+r.currentWorksite.id+"/total/"),o=yield kk(cp(i,"cost"));o.exists()?document.getElementById("change-worksite-total-cost-counter").innerText="Spesa totale: \u20ac"+o.val():document.getElementById("change-worksite-total-cost-counter").innerText="Spesa totale: \u20ac0"}catch(i){r.generalService.presentToast("Errore durante la lettura del costo della spesa cantiere: "+i.message)}})()}getMoreWorksiteCosts(){this.lastVisibleCosts&&this.firestore.collection("costs",r=>r.limit(4).where("worksite_id","==",this.currentWorksite.id).where("group","==","worksite").startAfter(this.lastVisibleCosts)).valueChanges({idField:"id"}).subscribe(r=>{if(r.length>0){const o=[...this.documentsCosts.getValue(),...r];this.documentsCosts.next(o),4===r.length?this.lastVisibleCosts=r[r.length-1]:this.nextPageAvailableCosts=!1}else this.nextPageAvailableCosts=!1})}getWorksiteInstallments(){this.firestore.collection("installments",r=>r.where("worksite_id","==",this.currentWorksite.id).where("group","==","worksite")).valueChanges({idField:"id"}).subscribe(r=>{4===r.length?this.lastVisibleInstallments=r[r.length-1]:this.nextPageAvailableInstallments=!1,this.documentsInstallments.next(r)})}getMoreWorksiteInstallments(){this.lastVisibleInstallments&&this.firestore.collection("installments",r=>r.limit(4).where("worksite_id","==",this.currentWorksite.id).where("group","==","worksite").startAfter(this.lastVisibleInstallments)).valueChanges({idField:"id"}).subscribe(r=>{if(r.length>0){const o=[...this.documentsInstallments.getValue(),...r];this.documentsInstallments.next(o),4===r.length?this.lastVisibleInstallments=r[r.length-1]:this.nextPageAvailableInstallments=!1}else this.nextPageAvailableInstallments=!1})}addWorksiteCounts(r){var i=(new Date).getFullYear().toString();Cn.A.database().ref("/counters/worksites/"+i+"/"+r+"/").transaction(o=>null===o?{fatturato:this.countFatturato(),incasso:this.countIncasso()}:{fatturato:(o.fatturato||0)+this.countFatturato(),incasso:(o.incasso||0)+this.countIncasso()}).catch(o=>{this.generalService.presentToast("Errore durante l'incremento dei contatori del cantiere: "+o.message)}),Cn.A.database().ref("/counters/worksites/"+i+"/general/").transaction(o=>null===o?{fatturato:this.countFatturato(),incasso:this.countIncasso()}:{fatturato:(o.fatturato||0)+this.countFatturato(),incasso:(o.incasso||0)+this.countIncasso()}).catch(o=>{this.generalService.presentToast("Errore durante l'incremento dei contatori del cantiere: "+o.message)}),Cn.A.database().ref("/counters/worksites/"+i+"/general/"+parseFloat(((new Date).getMonth()+1).toString())+"/").transaction(o=>null===o?{fatturato:this.countFatturato(),incasso:this.countIncasso()}:{fatturato:(o.fatturato||0)+this.countFatturato(),incasso:(o.incasso||0)+this.countIncasso()}).catch(o=>{this.generalService.presentToast("Errore durante l'incremento dei contatori del cantiere: "+o.message)})}countFatturato(){return this.installmentsRows.reduce((i,o)=>"fatturata"===o.fatturata?i+parseFloat(o.amount):i,0)}countIncasso(){return this.installmentsRows.reduce((i,o)=>"incassata"===o.incassata?i+parseFloat(o.amount):i,0)}addInstallment(){Cn.A.firestore().collection("installments").doc().set({name:document.getElementById("change-worksite-installment-name-input").value,amount:document.getElementById("change-worksite-installment-amount-input").value,fatturata:document.getElementById("change-worksite-installment-fatturata-input").value,data_fattura:document.getElementById("change-worksite-installment-data-fattura-input").value,incassata:document.getElementById("change-worksite-installment-incassata-input").value,data_incasso:document.getElementById("change-worksite-installment-data-incasso-input").value,worksite_id:this.currentWorksite.id,worksite_name:this.currentWorksite.name,timestamp:Cn.A.firestore.FieldValue.serverTimestamp(),group:"worksite"}).catch(o=>{this.generalService.presentToast("Errore durante l'aggiornamento dei contatori: "+o.message)});var i=parseFloat(document.getElementById("change-worksite-installment-amount-input").value);this.updateCounterAnnuale(i),this.updateCounterMensile(i)}updateCounterAnnuale(r){var i=(new Date).getFullYear().toString();const o=Cn.A.database().ref("/counters/worksites/"+i+"/general/total/");"fatturata"==document.getElementById("change-worksite-installment-fatturata-input").value&&o.child("fatturato").transaction(s=>null===s?r:s+r).catch(s=>{this.generalService.presentToast("Errore durante l'incremento del fatturato annuale: "+s.message)}),"incassata"==document.getElementById("change-worksite-installment-incassata-input").value&&o.child("incasso").transaction(s=>null===s?r:s+r).catch(s=>{this.generalService.presentToast("Errore durante l'incremento dell'incasso annuale: "+s.message)}),"fatturata"==document.getElementById("change-worksite-installment-fatturata-input").value&&Cn.A.database().ref("/counters/worksites/"+i+"/"+this.currentWorksite.id+"/total/").child("fatturato").transaction(s=>null===s?r:s+r).catch(s=>{this.generalService.presentToast("Errore durante l'incremento del fatturato annuale: "+s.message)}),"incassata"==document.getElementById("change-worksite-installment-incassata-input").value&&Cn.A.database().ref("/counters/worksites/"+i+"/"+this.currentWorksite.id+"/total/").child("incasso").transaction(s=>null===s?r:s+r).catch(s=>{this.generalService.presentToast("Errore durante l'incremento dell'incasso annuale: "+s.message)})}updateCounterMensile(r){var i=(new Date).getFullYear().toString(),o=((new Date).getMonth()+1).toString();const s=Cn.A.database().ref("/counters/worksites/"+i+"/general/"+parseFloat(((new Date).getMonth()+1).toString())+"/");"fatturata"==document.getElementById("change-worksite-installment-fatturata-input").value&&s.child("fatturato").transaction(a=>null===a?r:a+r).catch(a=>{this.generalService.presentToast("Errore durante l'incremento del fatturato mensile: "+a.message)}),"incassata"==document.getElementById("change-worksite-installment-incassata-input").value&&s.child("incasso").transaction(a=>null===a?r:a+r).catch(a=>{this.generalService.presentToast("Errore durante l'incremento dell'incasso mensile: "+a.message)}),"fatturata"==document.getElementById("change-worksite-installment-fatturata-input").value&&Cn.A.database().ref("/counters/worksites/"+i+"/"+this.currentWorksite.id+"/"+o+"/").child("fatturato").transaction(a=>null===a?r:a+r).catch(a=>{this.generalService.presentToast("Errore durante l'incremento del fatturato annuale: "+a.message)}),"incassata"==document.getElementById("change-worksite-installment-incassata-input").value&&Cn.A.database().ref("/counters/worksites/"+i+"/"+this.currentWorksite.id+"/"+o+"/").child("incasso").transaction(a=>null===a?r:a+r).catch(a=>{this.generalService.presentToast("Errore durante l'incremento dell'incasso annuale: "+a.message)})}removeInstallment(r){if(confirm("Sei sicuro di voler eliminare questa rata?")){this.firestore.collection("installments").doc(r.id).delete().then(()=>{this.generalService.presentToast("Rata eliminata con successo: ")}).catch(a=>{this.generalService.presentToast("Errore durante l'eliminazione della rata: "+a.message)});var i=(new Date).getFullYear().toString();const o=Cn.A.database().ref("/counters/"+this.generalService.currentChangingElement+"/"+i+"/general/total/");"fatturata"==r.fatturata&&o.child("fatturato").transaction(a=>{const l=parseFloat(a)-parseFloat(r.amount);return isNaN(l)?0:l}).catch(a=>{this.generalService.presentToast("Errore durante l'eliminazione della rata (ERRORE TIPO COUNT): "+a.message)}),"incassata"==r.incassata&&o.child("incasso").transaction(a=>{const l=parseFloat(a)-parseFloat(r.amount);return isNaN(l)?0:l}).catch(a=>{this.generalService.presentToast("Errore durante l'eliminazione della rata (ERRORE TIPO COUNT): "+a.message)});const s=Cn.A.database().ref("/counters/"+this.generalService.currentChangingElement+"/"+i+"/general/"+((new Date).getMonth()+1).toString()+"/");"fatturata"==r.fatturata&&s.child("fatturato").transaction(a=>{const l=parseFloat(a)-parseFloat(r.amount);return isNaN(l)?0:l}).catch(a=>{this.generalService.presentToast("Errore durante l'aggiornamento del fatturato annuale: "+a.message)}),"incassata"==r.incassata&&s.child("incasso").transaction(a=>{const l=parseFloat(a)-parseFloat(r.amount);return isNaN(l)?0:l}).catch(a=>{this.generalService.presentToast("Errore durante l'aggiornamento dell'incasso annuale: "+a.message)}),"fatturata"==r.fatturata&&Cn.A.database().ref("/counters/"+this.generalService.currentChangingElement+"/"+i+"/"+this.currentWorksite.id+"/"+((new Date).getMonth()+1).toString()+"/").child("fatturato").transaction(a=>{const l=parseFloat(a)-parseFloat(r.amount);return isNaN(l)?0:l}).catch(a=>{this.generalService.presentToast("Errore durante l'aggiornamento del fatturato annuale: "+a.message)}),"incassata"==r.incassata&&Cn.A.database().ref("/counters/"+this.generalService.currentChangingElement+"/"+i+"/"+this.currentWorksite.id+"/"+((new Date).getMonth()+1).toString()+"/").child("incasso").transaction(a=>{const l=parseFloat(a)-parseFloat(r.amount);return isNaN(l)?0:l}).catch(a=>{this.generalService.presentToast("Errore durante l'aggiornamento dell'incasso annuale: "+a.message)}),"fatturata"==r.fatturata&&Cn.A.database().ref("/counters/"+this.generalService.currentChangingElement+"/"+i+"/"+this.currentWorksite.id+"/total/").child("fatturato").transaction(a=>{const l=parseFloat(a)-parseFloat(r.amount);return isNaN(l)?0:l}).catch(a=>{this.generalService.presentToast("Errore durante l'aggiornamento del fatturato annuale: "+a.message)}),"incassata"==r.incassata&&Cn.A.database().ref("/counters/"+this.generalService.currentChangingElement+"/"+i+"/"+this.currentWorksite.id+"/total/").child("incasso").transaction(a=>{const l=parseFloat(a)-parseFloat(r.amount);return isNaN(l)?0:l}).catch(a=>{this.generalService.presentToast("Errore durante l'aggiornamento dell'incasso annuale: "+a.message)})}}changeInstallment(r){this.generalService.currentInstallment=r,this.router.navigate(["/change-installment"])}addCost(){this.firestore.collection("costs").doc().set({articles_number:document.getElementById("change-worksite-cost-articles-number-input").value,description:document.getElementById("change-worksite-cost-description-input").value,cost:document.getElementById("change-worksite-cost-cost-input").value,status:document.getElementById("change-worksite-cost-status-input").value,worksite_id:this.currentWorksite.id,worksite_name:this.currentWorksite.name,timestamp:Cn.A.firestore.FieldValue.serverTimestamp(),group:"worksite"});const r=document.getElementById("change-worksite-cost-cost-input"),i=document.getElementById("change-worksite-cost-articles-number-input"),o=parseFloat(r.value),s=parseFloat(i.value);if(isNaN(o)||isNaN(s))return void this.generalService.presentToast("Alcuni numeri non sono validi");const a=o*s;isNaN(a)?this.generalService.presentToast("Il calcolo ha come risultato un numero non valido"):(this.updateCostCounterAnnuale(a),this.updateCostCounterMensile(a))}updateCostCounterAnnuale(r){var i=(new Date).getFullYear().toString();Cn.A.database().ref("/counters/worksites/"+i+"/general/total/").child("spesa").transaction(s=>null===s?r:s+r).catch(s=>{this.generalService.presentToast("Errore durante l'incremento del costo annuale: "+s.message)}),Cn.A.database().ref("/counters/worksites/"+i+"/"+this.currentWorksite.id+"/total/").child("spesa").transaction(s=>null===s?r:s+r).catch(s=>{this.generalService.presentToast("Errore durante l'incremento del costo annuale: "+s.message)})}updateCostCounterMensile(r){var i=(new Date).getFullYear().toString(),o=((new Date).getMonth()+1).toString();Cn.A.database().ref("/counters/worksites/"+i+"/general/"+parseFloat(((new Date).getMonth()+1).toString())+"/").child("spesa").transaction(a=>null===a?r:a+r).catch(a=>{this.generalService.presentToast("Errore durante l'incremento del fatturato mensile: "+a.message)}),Cn.A.database().ref("/counters/worksites/"+i+"/"+this.currentWorksite.id+"/"+o+"/").child("spesa").transaction(a=>null===a?r:a+r).catch(a=>{this.generalService.presentToast("Errore durante l'incremento del fatturato annuale: "+a.message)})}removeCost(r){confirm("Sei sicuro di voler eliminare questa spesa?")&&this.firestore.collection("costs").doc(r.id).delete().then(()=>{const s=parseFloat(r.cost)*parseFloat(r.articles_number);var a=(new Date).getFullYear().toString();Cn.A.database().ref("/counters/"+this.generalService.currentChangingElement+"/"+a+"/general/total/").child("spesa").transaction(p=>{const I=parseFloat(p)-s;return isNaN(I)?0:I}).catch(p=>{this.generalService.presentToast("Errore durante l'eliminazione della rata (ERRORE TIPO COUNT): "+p.message)}),Cn.A.database().ref("/counters/"+this.generalService.currentChangingElement+"/"+a+"/general/"+((new Date).getMonth()+1).toString()+"/").child("spesa").transaction(p=>{const I=parseFloat(p)-s;return isNaN(I)?0:I}).catch(p=>{this.generalService.presentToast("Errore durante l'aggiornamento del fatturato annuale: "+p.message)}),Cn.A.database().ref("/counters/"+this.generalService.currentChangingElement+"/"+a+"/"+this.currentWorksite.id+"/"+((new Date).getMonth()+1).toString()+"/").child("spesa").transaction(p=>{const I=parseFloat(p)-s;return isNaN(I)?0:I}).catch(p=>{this.generalService.presentToast("Errore durante l'aggiornamento del fatturato annuale: "+p.message)}),Cn.A.database().ref("/counters/"+this.generalService.currentChangingElement+"/"+a+"/"+this.currentWorksite.id+"/total/").child("spesa").transaction(p=>{const I=parseFloat(p)-s;return isNaN(I)?0:I}).catch(p=>{this.generalService.presentToast("Errore durante l'aggiornamento del fatturato annuale: "+p.message)}),this.generalService.presentToast("Spesa eliminata con successo: ")}).catch(i=>{this.generalService.presentToast("Errore durante l'eliminazione della spesa: "+i.message)})}changeCost(r){this.generalService.currentCost=r,this.router.navigate(["/change-cost"])}addWorksiteActivity(){this.firestore.collection("activities").doc().set({activity:document.getElementById("activity-name-input").value,status:document.getElementById("activity-status-input").value,priority:document.getElementById("activity-priority-input").value,worksite_id:this.currentWorksite.id,worksite_name:this.currentWorksite.name,timestamp:Cn.A.firestore.FieldValue.serverTimestamp(),group:"worksite"})}removeWorksiteActivity(r){confirm("Sei sicuro di voler eliminare questa attivit\xe0?")&&this.firestore.collection("activities").doc(r.id).delete().then(()=>{this.generalService.presentToast("Attivit\xe0 eliminata con successo: ")}).catch(i=>{this.generalService.presentToast("Errore durante l'eliminazione dell'attivit\xe0: "+i.message)})}changeActivity(r){this.generalService.currentActivity=r,this.router.navigate(["/change-activity"])}}return(t=e).\u0275fac=function(r){return new(r||t)(Y(Zl),Y(xa),Y(zo))},t.\u0275cmp=ee({type:t,selectors:[["app-change-worksite"]],decls:532,vars:9,consts:[["id","add-worksite",2,"height","100%","width","100%","display","flex","flex-direction","column","padding-left","1rem","padding-right","1rem","overflow-y","auto","overflow-x","hidden","padding-bottom","7rem"],[1,"inputGroup",2,"width","100%","margin-top","5rem"],["id","change-worksite-name-input","type","text","value","Palazzo economo e magazzino 20",1,"input-field3"],["for","change-worksite-name-input"],[2,"width","100%","display","grid","grid-template-columns","repeat(auto-fit, minmax(200px, 1fr))","grid-gap","10px"],[1,"inputGroup",2,"display","inline-grid"],["id","change-worksite-partita-iva-input","type","text",1,"input-field3"],["for","change-worksite-partita-iva-input"],["id","change-worksite-code-input","type","text",1,"input-field3"],["for","change-worksite-code-input"],[1,"inputGroup",2,"display","inline-grid","width","calc(100% -10rem)"],["id","change-worksite-address-input","type","text",1,"input-field3"],["for","change-worksite-address-input"],[2,"display","inline-grid","flex-direction","column"],[2,"margin-bottom","-1.5rem","z-index","2","background","white","margin-left","1.5rem","font-size","14px","color","rgb(100, 100, 100)","width","6rem","text-align","center"],[1,"inputGroup"],["id","change-worksite-provincia-input",1,"selector1",2,"width","100%"],["value","Alessandria"],["value","Ancona"],["value","Arezzo"],["value","Ascoli Piceno"],["value","Asti"],["value","Avellino"],["value","Bari"],["value","Barletta-Andria-Trani"],["value","Belluno"],["value","Benevento"],["value","Bergamo"],["value","Biella"],["value","Bologna"],["value","Bolzano"],["value","Brescia"],["value","Brindisi"],["value","Cagliari"],["value","Caltanissetta"],["value","Campobasso"],["value","Caserta"],["value","Catania"],["value","Catanzaro"],["value","Chieti"],["value","Como"],["value","Cosenza"],["value","Cremona"],["value","Crotone"],["value","Cuneo"],["value","Enna"],["value","Fermo"],["value","Ferrara"],["value","Firenze"],["value","Foggia"],["value","Forl\xec"],["value","Frosinone"],["value","Genova"],["value","Gorizia"],["value","Grosseto"],["value","Imperia"],["value","Isernia"],["value","La Spezia"],["value","L'Aquila"],["value","Latina"],["value","Lecce"],["value","Lecco"],["value","Livorno"],["value","Lodi"],["value","Lucca"],["value","Macerata"],["value","Mantova"],["value","Massa-Carrara"],["value","Matera"],["value","Messina"],["value","Milano"],["value","Modena"],["value","Monza e della Brianza"],["value","Napoli"],["value","Novara"],["value","Nuoro"],["value","Ogliastra"],["value","Oristano"],["value","Padova"],["value","Palermo"],["value","Parma"],["value","Pavia"],["value","Perugia"],["value","Pesaro e Urbino"],["value","Pescara"],["value","Piacenza"],["value","Pisa"],["value","Pistoia"],["value","Pordenone"],["value","Potenza"],["value","Prato"],["value","Ragusa"],["value","Ravenna"],["value","Reggio Calabria"],["value","Reggio nell'Emilia"],["value","Rieti"],["value","Rimini"],["value","Roma"],["value","Rovigo"],["value","Salerno"],["value","Sassari"],["value","Savona"],["value","Siena"],["value","Siracusa"],["value","Sondrio"],["value","Sud Sardegna"],["value","Taranto"],["value","Teramo"],["value","Terni"],["value","Torino"],["value","Trapani"],["value","Trento"],["value","Treviso"],["value","Trieste"],["value","Udine"],["value","Valle d'Aosta"],["value","Varese"],["value","Venezia"],["value","Verbano-Cusio-Ossola"],["value","Vercelli"],["value","Verona"],["value","Vibo Valentia"],["value","Vicenza"],["value","Viterbo"],[2,"width","100%","display","grid","grid-template-columns","repeat(auto-fit, minmax(200px, 1fr))","grid-gap","10px","align-items","center"],[2,"display","flex","flex-direction","column","overflow","hidden"],["id","change-worksite-customer-type-input",1,"selector1",2,"width","100%"],["value","public-administration"],["value","private"],[2,"display","flex","flex-direction","row","overflow-x","auto","align-items","center","border","2px solid #19212d !important","border-radius","20px","height","3.4rem","gap","1rem"],[2,"display","flex","flex-direction","row","align-items","center","gap","0.5rem"],["id","change-worksite-pavimentazione-antitraoma-input","type","checkbox",1,"input-field3",2,"width","1rem","height","1rem"],[2,"margin-top","0.2rem","margin-bottom","0.2rem","width","8rem"],["id","change-worksite-pavimentazione-drenante-input","type","checkbox",1,"input-field3",2,"width","1rem","height","1rem"],["id","change-worksite-verde-input","type","checkbox",1,"input-field3",2,"width","1rem","height","1rem"],[2,"margin-top","0.2rem","margin-bottom","0.2rem"],["id","change-worksite-giochi-input","type","checkbox",1,"input-field3",2,"width","1rem","height","1rem"],["id","change-worksite-end-date-input","type","date",1,"input-field3"],["for","change-worksite-end-date-input"],[2,"display","flex","flex-direction","column","margin-top","0.4rem"],["id","change-worksite-status-input",1,"selector1",2,"width","100%"],["value","to-start"],["value","doing"],["value","finished"],[2,"margin-bottom","-1.5rem","z-index","2","background","white","margin-left","1.5rem","font-size","14px","color","rgb(100, 100, 100)","width","10rem","text-align","center"],["id","change-worksite-money-status-input",1,"selector1",2,"width","100%"],["value","da-saldare"],["value","saldato"],["onclick","if(document.getElementById('popup-stato-amministrativo').style.display == 'none' ){document.getElementById('popup-stato-amministrativo').style.display = 'flex'; }else{document.getElementById('popup-stato-amministrativo').style.display = 'none'; }",2,"width","100%","display","flex","flex-direction","row","align-items","center","padding-top","1rem","padding-bottom","1rem","cursor","pointer"],[2,"margin-top","0rem","margin-bottom","0rem"],[1,"material-symbols-outlined","notranslate"],["id","popup-stato-amministrativo",1,"table-container",2,"width","100%","display","none","flex-direction","column","padding-bottom","3rem","border","1px solid rgba(0, 0, 0, 0.091)","border-end-start-radius","1rem","border-end-end-radius","1rem"],[2,"width","100%","display","flex","flex-direction","row","align-items","center","gap","1rem","padding-left","1rem","flex-wrap","wrap","padding-bottom","2rem"],["id","change-worksite-installment-name-input","type","text",1,"input-field3"],["for","change-worksite-installment-name-input"],[1,"inputGroup",2,"width","8rem"],["id","change-worksite-installment-amount-input","type","number",1,"input-field3"],["for","change-worksite-installment-amount-input"],[2,"margin-bottom","-1.5rem","z-index","2","background","white","margin-left","1.5rem","font-size","14px","color","rgb(100, 100, 100)","width","8rem","text-align","center"],["id","change-worksite-installment-fatturata-input",1,"selector1",2,"width","100%"],["value","non_fatturata"],["value","fatturata"],["id","change-worksite-installment-data-fattura-input","type","date",1,"input-field3"],["for","change-worksite-installment-data-fattura-input"],[2,"display","flex","flex-direction","column","margin-top","0.4rem","width","8rem"],[2,"margin-bottom","-1.5rem","z-index","2","background","white","margin-left","1.5rem","font-size","14px","color","rgb(100, 100, 100)","width","auto"],["id","change-worksite-installment-incassata-input",1,"selector1",2,"width","100%"],["value","non_incassata"],["value","incassata"],["id","change-worksite-installment-data-incasso-input","type","date",1,"input-field3"],["for","change-worksite-installment-data-incasso-input"],[1,"button5",2,"height","3rem","padding-left","0.5rem","padding-right","0.5rem","margin-top","1rem","margin-bottom","1rem","width","8rem","height","3rem",3,"click"],["id","change-worksite-non-incassate-installments-input",2,"margin-top","0.5rem","margin-bottom","0.5rem"],[2,"width","100%","overflow-x","auto"],[1,"table",2,"width","100%"],[2,"height","2.5rem"],[1,"table-th",2,"width","10rem"],[1,"table-th",2,"width","3rem"],[4,"ngFor","ngForOf"],[2,"width","100%","display","flex","flex-direction","column","align-items","center"],[2,"width","95%","height","2.5rem","border-radius","0.5rem","margin-top","1rem","margin-bottom","1rem","flex-shrink","0",3,"click"],["id","change-worksite-boss-input",1,"selector1",2,"width","100%"],["id","change-worksite-remaining-days-input","type","number",1,"input-field3"],["for","change-worksite-remaining-days-input"],["id","change-worksite-delay-input","type","number",1,"input-field3"],["for","change-worksite-delay-input"],["id","change-worksite-hourly-cost-input","type","number",1,"input-field3",3,"input"],["for","change-worksite-hourly-cost-input"],["id","change-worksite-employed-workers-input","type","number",1,"input-field3",3,"input"],["id","change-worksite-employed-workers-input"],["id","change-worksite-labor-hours-input","type","number",1,"input-field3",3,"input"],["for","change-worksite-labor-hours-input"],["id","change-worksite-total-labor-cost-input","readonly","","type","text",1,"input-field3"],["for","change-worksite-total-labor-cost-input"],["id","change-worksite-collection-input","readonly","","type","text",1,"input-field3"],["for","change-worksite-collection-input"],[1,"inputGroup",2,"display","inline-grid","width","100%"],["id","change-worksite-productivity-input","readonly","","type","text",1,"input-field3"],["for","change-worksite-productivity-input"],[2,"width","100%"],["onclick","if(document.getElementById('stato-cantiere-table-containter-change-worksite').style.display =='none' ){document.getElementById('stato-cantiere-table-containter-change-worksite').style.display = 'flex';}else{document.getElementById('stato-cantiere-table-containter-change-worksite').style.display = 'none'; }",2,"width","100%","display","flex","flex-direction","row","align-items","center","padding-top","1rem","padding-bottom","1rem","cursor","pointer"],["id","stato-cantiere-table-containter-change-worksite",2,"display","none","flex-direction","column","width","100%"],["id","stato-cantiere-table-containter-change-worksite-total-done-activities"],[2,"width","100%","display","flex","flex-direction","row","align-items","center","gap","1rem","padding-left","1rem","flex-wrap","wrap","padding-bottom","1rem"],["id","activity-name-input","type","text",1,"input-field3"],["for","activity-name-input"],["id","activity-status-input",1,"selector1",2,"width","100%"],["value","to-do"],["value","completed"],["value","not_started"],["value","pending"],["value","timed_out"],["id","activity-priority-input",1,"selector1",2,"width","100%"],["value","3"],["value","2"],["value","1"],[1,"table-th",2,"width","5rem"],[1,"table-th",2,"width","2rem !important"],["onclick","if(document.getElementById('spesa-cantiere-table-containter-change-worksite').style.display =='none' ){document.getElementById('spesa-cantiere-table-containter-change-worksite').style.display = 'flex'; }else{document.getElementById('spesa-cantiere-table-containter-change-worksite').style.display = 'none'; }",2,"width","100%","display","flex","flex-direction","row","align-items","center","padding-top","1rem","padding-bottom","1rem","cursor","pointer"],["id","spesa-cantiere-table-containter-change-worksite",2,"display","none","flex-direction","column","width","100%"],["id","popup-stato-amministrativo",1,"table-container",2,"width","100%","display","flex","flex-direction","column","padding-bottom","1rem"],["id","change-worksite-cost-articles-number-input","type","number",1,"input-field3"],["for","change-worksite-cost-articles-number-input"],[1,"inputGroup",2,"width","15rem"],["id","change-worksite-cost-description-input","type","text",1,"input-field3"],["for","change-worksite-cost-description-input"],[1,"inputGroup",2,"width","12rem"],["id","change-worksite-cost-cost-input","type","number",1,"input-field3"],["for","change-worksite-cost-cost-input"],["id","change-worksite-cost-status-input",1,"selector1",2,"width","100%"],["value","to-order"],["value","ordered"],["value","arriving"],["value","arrived"],["id","change-worksite-total-cost-counter",2,"margin-bottom","0.5rem"],["id","change-worksite-to-order-articles-counter",2,"margin-top","0rem","margin-bottom","0.5rem"],[2,"display","flex","flex-direction","column-reverse","width","100%","position","absolute","z-index","2","pointer-events","none","height","100%"],[2,"width","calc( 100% - 2rem )","display","grid","grid-template-columns","repeat(auto-fit, minmax(200px, 1fr))","gap","1rem","background","white","padding-bottom","1rem","padding-top","1rem","pointer-events","all","border-top","1px solid rgba(0, 0, 0, 0.119)"],[1,"button5",2,"height","2.5rem","padding-left","0.5rem","padding-right","0.5rem","margin-top","1rem","margin-bottom","1rem","border-radius","2rem","font-weight","bold","font-size","1rem",3,"click"],["routerLink","/worksites",1,"button5",2,"height","2.5rem","padding-left","0.5rem","padding-right","0.5rem","margin-top","1rem","margin-bottom","1rem","border-radius","2rem","font-weight","bold","font-size","1rem"],[2,"flex","1"],[2,"width","calc(100% - 2rem)","display","flex","flex-direction","row","align-items","center","padding-bottom","1rem","background","white","flex-shrink","0","pointer-events","all","border-bottom","1px solid rgba(0, 0, 0, 0.119)"],[2,"margin-bottom","0rem"],[1,"table-td"],[1,"table-td",2,"display","flex","flex-direction","row","align-items","center","gap","0.5rem","overflow-y","hidden"],[1,"btn","btn-danger",2,"border-radius","50%","width","2rem","height","2rem","display","flex","align-items","center","justify-content","center",3,"click"],[4,"ngIf"]],template:function(r,i){1&r&&(c(0,"div",0)(1,"div",1),ht(2,"input",2),c(3,"label",3),v(4,"Nome cantiere"),h()(),c(5,"div",4)(6,"div",5),ht(7,"input",6),c(8,"label",7),v(9,"Partita Iva"),h()(),c(10,"div",5),ht(11,"input",8),c(12,"label",9),v(13,"Codice cantiere"),h()()(),c(14,"div",4)(15,"div",10),ht(16,"input",11),c(17,"label",12),v(18,"Indirizzo"),h()(),c(19,"div",13)(20,"label",14),v(21,"Provincia"),h(),c(22,"div",15)(23,"select",16)(24,"option",17),v(25,"Alessandria"),h(),c(26,"option",18),v(27,"Ancona"),h(),c(28,"option",19),v(29,"Arezzo"),h(),c(30,"option",20),v(31,"Ascoli Piceno"),h(),c(32,"option",21),v(33,"Asti"),h(),c(34,"option",22),v(35,"Avellino"),h(),c(36,"option",23),v(37,"Bari"),h(),c(38,"option",24),v(39,"Barletta-Andria-Trani"),h(),c(40,"option",25),v(41,"Belluno"),h(),c(42,"option",26),v(43,"Benevento"),h(),c(44,"option",27),v(45,"Bergamo"),h(),c(46,"option",28),v(47,"Biella"),h(),c(48,"option",29),v(49,"Bologna"),h(),c(50,"option",30),v(51,"Bolzano"),h(),c(52,"option",31),v(53,"Brescia"),h(),c(54,"option",32),v(55,"Brindisi"),h(),c(56,"option",33),v(57,"Cagliari"),h(),c(58,"option",34),v(59,"Caltanissetta"),h(),c(60,"option",35),v(61,"Campobasso"),h(),c(62,"option",36),v(63,"Caserta"),h(),c(64,"option",37),v(65,"Catania"),h(),c(66,"option",38),v(67,"Catanzaro"),h(),c(68,"option",39),v(69,"Chieti"),h(),c(70,"option",40),v(71,"Como"),h(),c(72,"option",41),v(73,"Cosenza"),h(),c(74,"option",42),v(75,"Cremona"),h(),c(76,"option",43),v(77,"Crotone"),h(),c(78,"option",44),v(79,"Cuneo"),h(),c(80,"option",45),v(81,"Enna"),h(),c(82,"option",46),v(83,"Fermo"),h(),c(84,"option",47),v(85,"Ferrara"),h(),c(86,"option",48),v(87,"Firenze"),h(),c(88,"option",49),v(89,"Foggia"),h(),c(90,"option",50),v(91,"Forl\xec-Cesena"),h(),c(92,"option",51),v(93,"Frosinone"),h(),c(94,"option",52),v(95,"Genova"),h(),c(96,"option",53),v(97,"Gorizia"),h(),c(98,"option",54),v(99,"Grosseto"),h(),c(100,"option",55),v(101,"Imperia"),h(),c(102,"option",56),v(103,"Isernia"),h(),c(104,"option",57),v(105,"La Spezia"),h(),c(106,"option",58),v(107,"L'Aquila"),h(),c(108,"option",59),v(109,"Latina"),h(),c(110,"option",60),v(111,"Lecce"),h(),c(112,"option",61),v(113,"Lecco"),h(),c(114,"option",62),v(115,"Livorno"),h(),c(116,"option",63),v(117,"Lodi"),h(),c(118,"option",64),v(119,"Lucca"),h(),c(120,"option",65),v(121,"Macerata"),h(),c(122,"option",66),v(123,"Mantova"),h(),c(124,"option",67),v(125,"Massa-Carrara"),h(),c(126,"option",68),v(127,"Matera"),h(),c(128,"option",69),v(129,"Messina"),h(),c(130,"option",70),v(131,"Milano"),h(),c(132,"option",71),v(133,"Modena"),h(),c(134,"option",72),v(135,"Monza e della Brianza"),h(),c(136,"option",73),v(137,"Napoli"),h(),c(138,"option",74),v(139,"Novara"),h(),c(140,"option",75),v(141,"Nuoro"),h(),c(142,"option",76),v(143,"Ogliastra"),h(),c(144,"option",77),v(145,"Oristano"),h(),c(146,"option",78),v(147,"Padova"),h(),c(148,"option",79),v(149,"Palermo"),h(),c(150,"option",80),v(151,"Parma"),h(),c(152,"option",81),v(153,"Pavia"),h(),c(154,"option",82),v(155,"Perugia"),h(),c(156,"option",83),v(157,"Pesaro e Urbino"),h(),c(158,"option",84),v(159,"Pescara"),h(),c(160,"option",85),v(161,"Piacenza"),h(),c(162,"option",86),v(163,"Pisa"),h(),c(164,"option",87),v(165,"Pistoia"),h(),c(166,"option",88),v(167,"Pordenone"),h(),c(168,"option",89),v(169,"Potenza"),h(),c(170,"option",90),v(171,"Prato"),h(),c(172,"option",91),v(173,"Ragusa"),h(),c(174,"option",92),v(175,"Ravenna"),h(),c(176,"option",93),v(177,"Reggio Calabria"),h(),c(178,"option",94),v(179,"Reggio nell'Emilia"),h(),c(180,"option",95),v(181,"Rieti"),h(),c(182,"option",96),v(183,"Rimini"),h(),c(184,"option",97),v(185,"Roma"),h(),c(186,"option",98),v(187,"Rovigo"),h(),c(188,"option",99),v(189,"Salerno"),h(),c(190,"option",100),v(191,"Sassari"),h(),c(192,"option",101),v(193,"Savona"),h(),c(194,"option",102),v(195,"Siena"),h(),c(196,"option",103),v(197,"Siracusa"),h(),c(198,"option",104),v(199,"Sondrio"),h(),c(200,"option",105),v(201,"Sud Sardegna"),h(),c(202,"option",106),v(203,"Taranto"),h(),c(204,"option",107),v(205,"Teramo"),h(),c(206,"option",108),v(207,"Terni"),h(),c(208,"option",109),v(209,"Torino"),h(),c(210,"option",110),v(211,"Trapani"),h(),c(212,"option",111),v(213,"Trento"),h(),c(214,"option",112),v(215,"Treviso"),h(),c(216,"option",113),v(217,"Trieste"),h(),c(218,"option",114),v(219,"Udine"),h(),c(220,"option",115),v(221,"Valle d'Aosta"),h(),c(222,"option",116),v(223,"Varese"),h(),c(224,"option",117),v(225,"Venezia"),h(),c(226,"option",118),v(227,"Verbano-Cusio-Ossola"),h(),c(228,"option",119),v(229,"Vercelli"),h(),c(230,"option",120),v(231,"Verona"),h(),c(232,"option",121),v(233,"Vibo Valentia"),h(),c(234,"option",122),v(235,"Vicenza"),h(),c(236,"option",123),v(237,"Viterbo"),h()()()()(),c(238,"div",124)(239,"div",125)(240,"label",14),v(241,"Tipo cliente"),h(),c(242,"div",15)(243,"select",126)(244,"option",127),v(245,"Pubblica Amministrazione"),h(),c(246,"option",128),v(247,"Privato"),h()()()(),c(248,"div",129)(249,"div",130),ht(250,"input",131),c(251,"p",132),v(252,"Pavimentazione antitraoma"),h()(),c(253,"div",130),ht(254,"input",133),c(255,"p",132),v(256,"Pavimentazione drenante"),h()(),c(257,"div",130),ht(258,"input",134),c(259,"p",135),v(260,"Verde"),h()(),c(261,"div",130),ht(262,"input",136),c(263,"p",135),v(264,"Giochi"),h()()()(),c(265,"div",4)(266,"div",15),ht(267,"input",137),c(268,"label",138),v(269,"Data scadenza"),h()(),c(270,"div",139)(271,"label",14),v(272,"Stato cantiere"),h(),c(273,"div",15)(274,"select",140)(275,"option",141),v(276,"Da iniziare"),h(),c(277,"option",142),v(278,"In corso"),h(),c(279,"option",143),v(280,"Concluso"),h()()()(),c(281,"div",139)(282,"label",144),v(283,"Stato amministrativo"),h(),c(284,"div",15)(285,"select",145)(286,"option",146),v(287,"Da saldare"),h(),c(288,"option",147),v(289,"Saldato"),h()()()()(),c(290,"div",148)(291,"h3",149),v(292,"Sezione Rate"),h(),c(293,"span",150),v(294,"expand_more"),h()(),c(295,"div",151)(296,"div",152)(297,"div",15),ht(298,"input",153),c(299,"label",154),v(300,"Nome"),h()(),c(301,"div",155),ht(302,"input",156),c(303,"label",157),v(304,"Importo (\u20ac)"),h()(),c(305,"div",139)(306,"label",158),v(307,"Stato fatturazione"),h(),c(308,"div",15)(309,"select",159)(310,"option",160),v(311,"Non fatturata"),h(),c(312,"option",161),v(313,"Fatturata"),h()()()(),c(314,"div",15),ht(315,"input",162),c(316,"label",163),v(317,"Data fattura"),h()(),c(318,"div",164)(319,"label",165),v(320,"Stato incasso"),h(),c(321,"div",15)(322,"select",166)(323,"option",167),v(324,"Non incassata"),h(),c(325,"option",168),v(326,"Incassata"),h()()()(),c(327,"div",15),ht(328,"input",169),c(329,"label",170),v(330,"Data incasso"),h()(),c(331,"button",171),fn("click",function(){return i.addInstallment()}),v(332,"Aggiungi rata"),h()(),c(333,"strong",172),v(334,"Rate da incassare: "),h(),c(335,"div",173)(336,"table",174)(337,"thead",175)(338,"tr")(339,"th",176),v(340,"Nome"),h(),c(341,"th",176),v(342,"Importo"),h(),c(343,"th",177),v(344,"Fatturata"),h(),c(345,"th",177),v(346,"Data fatturata"),h(),c(347,"th",177),v(348,"Incassata"),h(),c(349,"th",177),v(350,"Data incasso"),h(),c(351,"th",176),v(352,"Azioni"),h()()(),c(353,"tbody"),$i(354,A_e,20,6,"tr",178),zc(355,"async"),h()(),c(356,"div",179)(357,"button",180),fn("click",function(){return i.getMoreWorksiteInstallments()}),v(358,"Carica altri"),h()()()(),c(359,"div",139)(360,"label",14),v(361,"Capo cantiere"),h(),c(362,"div",15),ht(363,"select",181),h()(),c(364,"div",4)(365,"div",15),ht(366,"input",182),c(367,"label",183),v(368,"Giorni rimanenti"),h()(),c(369,"div",15),ht(370,"input",184),c(371,"label",185),v(372,"Giorni concessi di ritardo"),h()()(),c(373,"div",4)(374,"div",15)(375,"input",186),fn("input",function(){return i.calcLaborCost()}),h(),c(376,"label",187),v(377,"Costo orario manodopera"),h()(),c(378,"div",15)(379,"input",188),fn("input",function(){return i.calcLaborCost()}),h(),c(380,"label",189),v(381,"Lavoratori impiegati"),h()(),c(382,"div",15)(383,"input",190),fn("input",function(){return i.calcLaborCost()}),h(),c(384,"label",191),v(385,"N. Ore manodopera"),h()()(),c(386,"div",4)(387,"div",15),ht(388,"input",192),c(389,"label",193),v(390,"Totale costo manodopera"),h()(),c(391,"div",15),ht(392,"input",194),c(393,"label",195),v(394,"Incasso cantiere"),h()()(),c(395,"div",196),ht(396,"input",197),c(397,"label",198),v(398,"Produttivit\xe0"),h()(),c(399,"div",199)(400,"div",200)(401,"h3",149),v(402,"Stato lavori"),h(),c(403,"span",150),v(404,"expand_more"),h()(),c(405,"div",201)(406,"strong",202),v(407,"Numero attivit\xe0 completate: "),h(),c(408,"div",203)(409,"div",15),ht(410,"input",204),c(411,"label",205),v(412,"Attivit\xe0"),h()(),c(413,"div",139)(414,"label",158),v(415,"Stato"),h(),c(416,"div",15)(417,"select",206)(418,"option",207),v(419,"Da completare"),h(),c(420,"option",208),v(421,"Completato"),h(),c(422,"option",142),v(423,"In corso"),h(),c(424,"option",209),v(425,"Non iniziato"),h(),c(426,"option",210),v(427,"In attesa"),h(),c(428,"option",211),v(429,"Scaduto"),h()()()(),c(430,"div",139)(431,"label",158),v(432,"Priorit\xe0"),h(),c(433,"div",15)(434,"select",212)(435,"option",213),v(436,"Alta"),h(),c(437,"option",214),v(438,"Media"),h(),c(439,"option",215),v(440,"Bassa"),h()()()(),c(441,"button",171),fn("click",function(){return i.addWorksiteActivity()}),v(442,"Aggiungi attivit\xe0"),h()(),c(443,"div",173)(444,"table",174)(445,"thead",175)(446,"tr")(447,"th",216),v(448,"Attivit\xe0"),h(),c(449,"th",217),v(450,"Stato"),h(),c(451,"th",217),v(452,"Priorit\xe0"),h(),c(453,"th",217),v(454,"Azioni"),h()()(),c(455,"tbody"),$i(456,g_e,16,5,"tr",178),zc(457,"async"),h()()(),c(458,"div",179)(459,"button",180),fn("click",function(){return i.getMoreWorksiteActivities()}),v(460,"Carica altri"),h()()(),c(461,"div",218)(462,"h3",149),v(463,"Spesa cantiere"),h(),c(464,"span",150),v(465,"expand_more"),h()(),c(466,"div",219)(467,"div",220)(468,"div",152)(469,"div",155),ht(470,"input",221),c(471,"label",222),v(472,"N.Articoli"),h()(),c(473,"div",223),ht(474,"input",224),c(475,"label",225),v(476,"Descrizione"),h()(),c(477,"div",226),ht(478,"input",227),c(479,"label",228),v(480,"Costo unitario (\u20ac)"),h()(),c(481,"div",139)(482,"label",158),v(483,"Stato"),h(),c(484,"div",15)(485,"select",229)(486,"option",230),v(487,"Da ordinare"),h(),c(488,"option",231),v(489,"Ordinato"),h(),c(490,"option",232),v(491,"In arrivo"),h(),c(492,"option",233),v(493,"Arrivato"),h()()()(),c(494,"button",171),fn("click",function(){return i.addCost()}),v(495,"Aggiungi spesa"),h()(),c(496,"strong",234),v(497,"Spesa totale:"),h(),c(498,"strong",235),v(499,"Articoli da ordinare: "),h(),c(500,"div",173)(501,"table",174)(502,"thead",175)(503,"tr")(504,"th",176),v(505,"N.Articoli"),h(),c(506,"th",176),v(507,"Descrizione"),h(),c(508,"th",177),v(509,"Costo unitario"),h(),c(510,"th",177),v(511,"Costo totale"),h(),c(512,"th",177),v(513,"Stato"),h(),c(514,"th",177),v(515,"Azioni"),h()()(),c(516,"tbody"),$i(517,m_e,18,5,"tr",178),zc(518,"async"),h()(),c(519,"div",179)(520,"button",180),fn("click",function(){return i.getMoreWorksiteCosts()}),v(521,"Carica altri"),h()()()()()(),c(522,"div",236)(523,"div",237)(524,"button",238),fn("click",function(){return i.saveWorksite()}),v(525,"Salva cantiere"),h(),c(526,"button",239),v(527,"Annulla cantiere"),h()(),ht(528,"div",240),c(529,"div",241)(530,"h3",242),v(531,"Modifica cantiere"),h()()()()),2&r&&(jt(354),Kr("ngForOf",OA(355,3,i.documentsInstallments)),jt(102),Kr("ngForOf",OA(457,5,i.documentsActivities)),jt(61),Kr("ngForOf",OA(518,7,i.documentsCosts)))},dependencies:[Wc,vh,Ed,_u,QA,HA,Wp]}),e})();function y_e(t,e){if(1&t){const n=fs();c(0,"tr",13)(1,"td",14),v(2),h(),c(3,"td",14),v(4),h(),c(5,"td",14),v(6),h(),c(7,"td",14),v(8),h(),c(9,"td",14),v(10),h(),c(11,"td",14)(12,"div",15)(13,"button",16),fn("click",function(){const i=ln(n).$implicit;return En(ki().seePreventive(i))}),c(14,"span",17),v(15,"description"),h()(),c(16,"button",16),fn("click",function(){const i=ln(n).$implicit;return En(ki().editPreventive(i))}),c(17,"span",17),v(18,"edit"),h()(),c(19,"button",16),fn("click",function(){const i=ln(n),o=i.$implicit,s=i.index;return En(ki().deletePreventive(o,s))}),c(20,"span",17),v(21,"delete"),h()()()()()}if(2&t){const n=e.$implicit;jt(2),ar(n.preventive_number),jt(2),ar(n.recipient),jt(2),ar(n.place),jt(2),ar(n.date),jt(2),ar(n.description)}}let __e=(()=>{var t;class e{constructor(r,i,o){this.firestore=r,this.generalService=i,this.router=o,this.documents=new J([]),this.nextPageAvailable=!0}ngOnInit(){this.getPreventives()}docInfo(r){console.log(r)}getPreventives(){this.firestore.collection("preventives",r=>r.orderBy("timestamp","desc").limit(4)).get().subscribe(r=>{const i=r.docs.map(o=>({id:o.id,...o.data()}));4===i.length?this.lastVisible=r.docs[r.docs.length-1]:this.nextPageAvailable=!1,this.documents.next(i)})}getMorePreventives(){!this.lastVisible||!this.nextPageAvailable||this.firestore.collection("preventives").ref.orderBy("timestamp","desc").limit(4).startAfter(this.lastVisible).get().then(r=>{const i=r.docs.map(o=>({id:o.id,...o.data()}));if(i.length>0){const s=[...this.documents.getValue(),...i];this.documents.next(s),4===i.length?this.lastVisible=r.docs[r.docs.length-1]:this.nextPageAvailable=!1}else this.nextPageAvailable=!1}).catch(r=>{this.generalService.presentToast("Si \xe8 verificato un errore durante il recupero di altri preventivi: "+r.message),this.nextPageAvailable=!1})}deletePreventive(r,i){console.log(i),confirm("Sei sicuro di voler eliminare questo preventivo?")&&this.firestore.collection("preventives").doc(r.id).delete().then(()=>{const s=this.documents.getValue(),a=[...s.slice(0,i),...s.slice(i+1)];this.documents.next(a),this.generalService.presentToast("Preventivo eliminato con successo")}).catch(s=>{this.generalService.presentToast("Si \xe8 verificato un errore durante l'eliminazione del preventivo: "+s.message)})}editPreventive(r){this.generalService.currentPreventive=r,this.router.navigate(["/change-preventive"])}seePreventive(r){this.generalService.currentPreventive=r,this.router.navigate(["/see-preventive"])}}return(t=e).\u0275fac=function(r){return new(r||t)(Y(Zl),Y(xa),Y(zo))},t.\u0275cmp=ee({type:t,selectors:[["app-preventives"]],decls:30,vars:3,consts:[[2,"width","100%","height","100%","overflow-y","auto","overflow-x","hidden"],[2,"width","100%","display","flex","flex-direction","row","align-items","center","padding-bottom","1rem","padding-left","1rem"],[2,"width","100%","padding-left","1rem","padding-right","1rem","display","flex","align-items","center","justify-content","center","overflow","hidden","margin-bottom","1rem"],[1,"input1",2,"margin-top","1rem","width","100%","height","3rem"],["type","text","id","login-password","placeholder","Nome preventivo",1,"field1"],["name","search-outline",2,"font-size","1.5rem","color","#343a40","padding-left","0.5rem","padding-right","0.5rem"],[1,"table-container",2,"width","100%","overflow-x","auto","padding-left","1rem","padding-right","1rem"],[1,"table",2,"width","100%"],[2,"width","100%"],[1,"table-th"],["class","table-tr",4,"ngFor","ngForOf"],[2,"width","100%","display","flex","flex-direction","column","align-items","center"],[2,"width","95%","height","2.5rem","border-radius","0.5rem","margin-top","1rem","margin-bottom","1rem","flex-shrink","0",3,"click"],[1,"table-tr"],[1,"table-td"],[2,"display","flex","flex-direction","row","align-items","center","gap","0.5rem","overflow-x","hidden !important","overflow-y","hidden !important"],[1,"table-button1",2,"border-radius","50%","width","2rem","height","2rem","display","flex","align-items","center","justify-content","center",3,"click"],[1,"material-symbols-outlined","notranslate"]],template:function(r,i){1&r&&(c(0,"div",0)(1,"div",1)(2,"h3"),v(3,"Preventivi"),h()(),c(4,"div",2)(5,"div",3),ht(6,"input",4)(7,"ion-icon",5),h()(),c(8,"div",6)(9,"table",7)(10,"thead")(11,"tr",8)(12,"th",9),v(13,"Numero preventivo"),h(),c(14,"th",9),v(15,"Nome"),h(),c(16,"th",9),v(17,"Luogo"),h(),c(18,"th",9),v(19,"Data"),h(),c(20,"th",9),v(21,"Descrizione"),h(),c(22,"th",9),v(23,"Azioni"),h()()(),c(24,"tbody",8),$i(25,y_e,22,5,"tr",10),zc(26,"async"),h()()(),c(27,"div",11)(28,"button",12),fn("click",function(){return i.getMorePreventives()}),v(29,"Carica altri"),h()()()),2&r&&(jt(25),Kr("ngForOf",OA(26,1,i.documents)))},dependencies:[Wc,Yl,Wp]}),e})();function w_e(t,e){if(1&t){const n=fs();c(0,"tr",7)(1,"td",8),v(2),h(),c(3,"td",8),v(4),h(),c(5,"td",8),v(6),h(),c(7,"td",8),v(8),h(),c(9,"td",8),v(10),h(),c(11,"td",8)(12,"div",9)(13,"button",10),fn("click",function(){const i=ln(n).$implicit;return En(ki().editUser(i))}),c(14,"span",11),v(15,"edit"),h()(),c(16,"button",10),fn("click",function(){const i=ln(n),o=i.$implicit,s=i.index;return En(ki().deleteUser(o,s))}),c(17,"span",11),v(18,"delete"),h()()()()()}if(2&t){const n=e.$implicit;jt(2),ar(n.name),jt(2),ar(n.username),jt(2),ar(n.mail),jt(2),ar(n.phone),jt(2),ar(n.uid)}}let C_e=(()=>{var t;class e{constructor(r,i,o){this.firestore=r,this.generalService=i,this.router=o,this.usersData=[],Cn.A.database().ref("users_data").once("value").then(s=>{const a=s.val();this.usersData=Object.values(a)}).catch(s=>{this.generalService.presentToast("Errore nel recuperare il personale: "+s.message)})}ngOnInit(){}deleteUser(r,i){confirm("Sei sicuro di voler eliminare questo utente?")&&Cn.A.database().ref("users_data/"+r.uid+"/").remove().then(()=>{this.usersData.splice(i,1),this.generalService.presentToast("Utente eliminato con successo")}).catch(s=>{this.generalService.presentToast("Errore nell'eliminare l'utente: "+s.message)})}editUser(r){this.generalService.currentEditingUser=r,this.router.navigate(["/change-person"])}}return(t=e).\u0275fac=function(r){return new(r||t)(Y(Zl),Y(xa),Y(zo))},t.\u0275cmp=ee({type:t,selectors:[["app-people"]],decls:22,vars:1,consts:[[2,"height","100%","overflow-y","auto","overflow-x","hidden","padding-left","1rem","padding-right","1rem"],[2,"display","flex","flex-direction","row","align-items","center"],[1,"table-container",2,"width","100%","overflow-x","auto"],[1,"table",2,"width","100%"],[2,"width","100%"],[1,"table-th"],["class","table-tr",4,"ngFor","ngForOf"],[1,"table-tr"],[1,"table-td"],[2,"display","flex","flex-direction","row","align-items","center","gap","0.5rem","overflow-x","hidden !important","overflow-y","hidden !important"],[1,"table-button1",2,"border-radius","50%","width","2rem","height","2rem","display","flex","align-items","center","justify-content","center",3,"click"],[1,"material-symbols-outlined","notranslate"]],template:function(r,i){1&r&&(c(0,"div",0)(1,"div",1)(2,"h3"),v(3,"Personale"),h()(),c(4,"div",2)(5,"table",3)(6,"thead")(7,"tr",4)(8,"th",5),v(9,"Nome"),h(),c(10,"th",5),v(11,"Username"),h(),c(12,"th",5),v(13,"Mail"),h(),c(14,"th",5),v(15,"Telefono"),h(),c(16,"th",5),v(17,"Uid"),h(),c(18,"th",5),v(19,"Azioni"),h()()(),c(20,"tbody",4),$i(21,w_e,19,5,"tr",6),h()()()()),2&r&&(jt(21),Kr("ngForOf",i.usersData))},dependencies:[Wc]}),e})(),b_e=(()=>{var t;class e{constructor(r){this.generalService=r}ngOnInit(){var r=this.generalService.currentEditingUser;document.getElementById("change-person-name-input").value=r.name,document.getElementById("change-person-phone-number-input").value=r.phone,document.getElementById("change-person-username-input").value=r.username}saveUser(){var r={name:document.getElementById("change-person-name-input").value,phone:document.getElementById("change-person-phone-number-input").value,username:document.getElementById("change-person-username-input").value};Cn.A.database().ref("users_data/"+this.generalService.currentEditingUser.uid).update(r).then(()=>{this.generalService.presentToast("Utente modificato con successo")}).catch(i=>{this.generalService.presentToast("Errore durante la modifica dell'utente: "+i.message)})}}return(t=e).\u0275fac=function(r){return new(r||t)(Y(xa))},t.\u0275cmp=ee({type:t,selectors:[["app-change-person"]],decls:25,vars:0,consts:[["id","add-worksite",2,"height","100%","width","100%","display","flex","flex-direction","column","padding-left","1rem","padding-right","1rem","overflow-y","auto","overflow-x","hidden","padding-bottom","7rem"],[2,"display","flex","flex-direction","row","align-items","center"],["routerLink","/people","name","chevron-back",2,"cursor","pointer","font-size","1.8rem"],[2,"width","100%","display","grid","grid-template-columns","repeat(auto-fit, minmax(200px, 1fr))","grid-gap","10px"],[1,"inputGroup",2,"width","100%"],["id","change-person-name-input","type","text",1,"input-field3"],["for","change-person-name-input"],[1,"inputGroup",2,"display","inline-grid"],["id","change-person-phone-number-input","type","text",1,"input-field3"],["for","change-person-phone-number-input"],["id","change-person-username-input","type","text",1,"input-field3"],["for","change-person-username-input"],[2,"display","flex","flex-direction","column-reverse","width","100%","position","absolute","z-index","2","pointer-events","none","height","100%"],[2,"width","calc( 100% - 2rem )","display","grid","grid-template-columns","repeat(auto-fit, minmax(200px, 1fr))","gap","1rem","background","white","padding-bottom","1rem","padding-top","1rem","pointer-events","all"],[1,"button1",3,"click"],["routerLink","/people",1,"button1",2,"margin-right","1rem"]],template:function(r,i){1&r&&(c(0,"div",0)(1,"div",1),ht(2,"ion-icon",2),c(3,"h3"),v(4,"Modifica utente"),h()(),c(5,"div",3)(6,"div",4),ht(7,"input",5),c(8,"label",6),v(9,"Nome"),h()(),c(10,"div",7),ht(11,"input",8),c(12,"label",9),v(13,"Numero di telefono"),h()(),c(14,"div",7),ht(15,"input",10),c(16,"label",11),v(17,"Username"),h()()(),ht(18,"div",3),c(19,"div",12)(20,"div",13)(21,"button",14),fn("click",function(){return i.saveUser()}),v(22,"Salva"),h(),c(23,"button",15),v(24,"Annulla"),h()()()())},dependencies:[Yl,Ed,_u]}),e})();function I_e(t,e){if(1&t){const n=fs();c(0,"tr")(1,"td",37)(2,"input",38),Dl("ngModelChange",function(i){const o=ln(n).$implicit;return Kl(o.column1,i)||(o.column1=i),En(i)}),h()(),c(3,"td",37)(4,"input",38),Dl("ngModelChange",function(i){const o=ln(n).$implicit;return Kl(o.column2,i)||(o.column2=i),En(i)}),h()(),c(5,"td",37)(6,"input",38),Dl("ngModelChange",function(i){const o=ln(n).$implicit;return Kl(o.column3,i)||(o.column3=i),En(i)}),h()(),c(7,"td",37),ht(8,"input",39),zc(9,"number"),h(),c(10,"td",37)(11,"button",40),fn("click",function(){const i=ln(n).index;return En(ki().rimuoviRiga(i))}),c(12,"span",41),v(13,"delete"),h()()()()}if(2&t){const n=e.$implicit;ul("data-index",e.index),jt(2),Bl("ngModel",n.column1),jt(2),Bl("ngModel",n.column2),jt(2),Bl("ngModel",n.column3),jt(2),Qv("value","",VC(9,6,n.column2*n.column3,"1.2-2")," \u20ac")}}let E_e=(()=>{var t;class e{constructor(r,i){this.firestore=r,this.generalService=i,this.preventive=this.generalService.currentPreventive,this.rows=this.preventive.rows}ngOnInit(){document.getElementById("preventive-place-input2").value=this.preventive.place,document.getElementById("preventive-date-input2").value=this.preventive.date,document.getElementById("preventive-number-input2").value=this.preventive.number,document.getElementById("preventive-number-year-input2").value=this.preventive.number_year,document.getElementById("preventive-recipient-input2").value=this.preventive.recipient,document.getElementById("preventive-p-iva-input2").value=this.preventive.p_iva,document.getElementById("preventive-registered-office-input2").value=this.preventive.registered_office,document.getElementById("preventive-object-input2").value=this.preventive.object,document.getElementById("preventive-description-input2").value=this.preventive.description}aggiungiRiga(){this.rows.push({column1:"",column2:0,column3:0})}rimuoviRiga(r){this.rows.splice(r,1)}calcolaColumn4(r){return r.column2*r.column3}calcolaTotaleColumn4(){let r=0;return this.rows.forEach(i=>{r+=this.calcolaColumn4(i)}),+r.toFixed(2)}savePreventive(){var r=document.getElementById("preventive-place-input2"),i=document.getElementById("preventive-date-input2"),o=document.getElementById("preventive-number-input2"),s=document.getElementById("preventive-number-year-input2"),a=document.getElementById("preventive-recipient-input2"),l=document.getElementById("preventive-p-iva-input2"),u=document.getElementById("preventive-registered-office-input2"),p=document.getElementById("preventive-object-input2"),I=document.getElementById("preventive-description-input2"),k={rows:this.rows,place:r.value,date:i.value,number:o.value,number_year:s.value,recipient:a.value,p_iva:l.value,registered_office:u.value,object:p.value,description:I.value,timestamp:Cn.A.firestore.FieldValue.serverTimestamp()};this.firestore.collection("preventives").doc(this.preventive.id).set(k,{merge:!0}).then(()=>{this.generalService.presentToast("Preventivo salvato con successo")}).catch(q=>{this.generalService.presentToast("Errore durante il salvataggio del preventivo: "+q.message)})}exportPreventivePdf(){var r=document.getElementById("preventive-place-input2"),i=document.getElementById("preventive-date-input2"),o=document.getElementById("preventive-number-input2"),s=document.getElementById("preventive-recipient-input2"),a=document.getElementById("preventive-p-iva-input2"),l=document.getElementById("preventive-registered-office-input2"),u=document.getElementById("preventive-object-input2"),p=document.getElementById("preventive-description-input2");const I=new aE.default;I.setFontSize(10),I.addImage("assets/images/logo.png","PNG",10,10,80,40);const k=I.internal.pageSize.height;let O=60;I.text(r.value+"  "+i.value,I.internal.pageSize.width-10,O,{align:"right"}),O+=10,I.text("Numero preventivo: "+o.value,I.internal.pageSize.width-10,O,{align:"right"}),O+=10,I.text("Spett.le: "+s.value,I.internal.pageSize.width-10,O,{align:"right"}),O+=10,I.text("P.Iva: "+a.value,I.internal.pageSize.width-10,O,{align:"right"}),O+=10,I.text("Indirizzo sede legale: "+l.value,I.internal.pageSize.width-10,O,{align:"right"}),O+=20,I.text("Oggetto: "+u.value,10,O,{maxWidth:I.internal.pageSize.width-10}),O+=10,I.text("Descrizione: "+p.value,10,O,{maxWidth:I.internal.pageSize.width-10}),O+=20;const q=this.rows.map(Ut=>[Ut.column1,Ut.column2.toString(),Ut.column3.toString(),"\u20ac"+this.calcolaColumn4(Ut)]);I.autoTable({head:[["Descrizione","Prezzo","Quantit\xe0","Importo"]],body:q,startY:O,margin:{top:20}});const Be=this.calcolaTotaleColumn4();O=k-50,I.text("TOTALE PREVENTIVO: \u20ac"+Be,I.internal.pageSize.width-60,O),O-=10,I.text("I prezzi sono da considerarsi IVA esclusa (22%)",10,O),O-=-30;const Ye=I.internal.pageSize.width-60;I.text("Firma per accettazione",Ye,O);const Bt=12*I.getStringUnitWidth("Firma per accettazione");I.setLineWidth(.5),I.line(Ye,O+3,Ye+Bt,O+3),I.save("AllGreen-Preventivo.pdf")}}return(t=e).\u0275fac=function(r){return new(r||t)(Y(Zl),Y(xa))},t.\u0275cmp=ee({type:t,selectors:[["app-change-preventive"]],decls:66,vars:2,consts:[["id","add-preventive",2,"height","100%","width","100%","display","flex","flex-direction","column","padding-left","1rem","overflow-y","auto","overflow-x","hidden","padding-bottom","7rem"],[2,"display","flex","flex-direction","row","align-items","center"],["routerLink","/preventives","name","chevron-back",2,"cursor","pointer","font-size","1.8rem"],["src","assets\\images\\logo.jpg","alt","",2,"width","18rem","margin-left","2rem","margin-top","2rem"],[2,"display","flex","flex-direction","column","justify-content","end","width","100%","padding-top","2rem","padding-right","2rem"],[2,"display","flex","flex-direction","row","justify-content","end","width","100%","gap","1rem","height","3rem"],["id","preventive-place-input2","value","Trieste","type","text",1,"input-field1",2,"width","8rem"],["id","preventive-date-input2","type","date",1,"input-field1"],[2,"display","flex","flex-direction","row","justify-content","end","align-items","center","gap","1rem","height","3rem","padding-bottom","2rem"],["for","preventive-number-input2",2,"margin-top","0.5rem","margin-bottom","0.2rem","margin-right","0.5rem"],["id","preventive-number-input2","type","number",1,"input-field1",2,"width","5rem"],[2,"font-weight","bold","font-size","2rem"],["id","preventive-number-year-input2","value","0","type","number",1,"input-field1",2,"width","5rem"],[2,"display","flex","flex-direction","row","justify-content","end","align-items","center","gap","1rem","height","3rem"],["for","preventive-recipient-input2",2,"margin-top","0.5rem","margin-bottom","0.2rem","margin-right","0.5rem"],["id","preventive-recipient-input2","value","Comune di Spilimbergo","type","text",1,"input-field1"],["for","preventive-p-iva-input2",2,"margin-top","0.5rem","margin-bottom","0.2rem","margin-right","0.5rem"],["id","preventive-p-iva-input2","type","text",1,"input-field1"],["for","preventive-registered-office-input2",2,"margin-top","0.5rem","margin-bottom","0.2rem","margin-right","0.5rem"],["id","preventive-registered-office-input2","value","Piazzetta Tiepolo , 1 33097","type","text",1,"input-field1"],[2,"display","flex","flex-direction","start","justify-content","end","align-items","center","gap","1rem","height","3rem","margin-top","3rem"],["for","preventive-object-input2",2,"margin-top","0.5rem","margin-bottom","0.2rem","margin-right","0.5rem","font-weight","bold"],["id","preventive-object-input2","value","FORNITURA E POSA IMPIANTO DI IRRIGAZIONE","type","text",1,"input-field1",2,"width","100%"],["id","preventive-description-input2","value","Come da Vostra richiesta, inviamo la nostra migliore offerta per le seguenti lavorazioni.","type","text",1,"input-field1",2,"width","100%"],[1,"table-container"],[1,"button5",2,"height","2rem","padding-left","0.5rem","padding-right","0.5rem","margin-top","1rem","margin-bottom","1rem",3,"click"],[1,"table"],[1,"table-th"],[1,"table-th",2,"width","10rem !important"],[4,"ngFor","ngForOf"],["id","totale-column4",2,"font-weight","bold","width","100%","text-align","end"],[2,"margin-top","1rem","margin-bottom","1rem"],[2,"width","100%","text-align","end","text-decoration","underline"],[2,"display","flex","flex-direction","column-reverse","width","100%","position","absolute","z-index","2","pointer-events","none","height","100%"],[2,"width","calc( 100% - 2rem )","display","grid","grid-template-columns","repeat(auto-fit, minmax(200px, 1fr))","gap","1rem","background","white","padding-bottom","1rem","padding-top","1rem","pointer-events","all"],[1,"button1",3,"click"],["routerLink","/preventives",1,"button1",2,"margin-right","1rem"],[1,"table-td"],["type","text",1,"form-control",3,"ngModelChange","ngModel"],["type","text",1,"form-control",3,"value"],[1,"btn","btn-danger",2,"border-radius","50%","width","2rem","height","2rem","display","flex","align-items","center","justify-content","center",3,"click"],[1,"material-symbols-outlined","notranslate"]],template:function(r,i){1&r&&(c(0,"div",0)(1,"div",1),ht(2,"ion-icon",2),c(3,"h3"),v(4,"Modifica preventivo"),h()(),ht(5,"img",3),c(6,"div",4)(7,"div",5),ht(8,"input",6)(9,"input",7),h(),c(10,"div",8)(11,"label",9),v(12,"Preventivo N."),h(),ht(13,"input",10),c(14,"p",11),v(15,"/"),h(),ht(16,"input",12),h(),c(17,"div",13)(18,"label",14),v(19,"Spett.le"),h(),ht(20,"input",15),h(),c(21,"div",13)(22,"label",16),v(23,"P.iva"),h(),ht(24,"input",17),h(),c(25,"div",13)(26,"label",18),v(27,"Indirizzo sede legale"),h(),ht(28,"input",19),h(),c(29,"div",20)(30,"label",21),v(31,"Oggetto:"),h(),ht(32,"input",22),h(),ht(33,"input",23),c(34,"div",24)(35,"button",25),fn("click",function(){return i.aggiungiRiga()}),v(36,"Aggiungi Riga"),h(),c(37,"table",26)(38,"thead")(39,"tr")(40,"th",27),v(41,"Lavorazione"),h(),c(42,"th",27),v(43,"Prezzo Unitario"),h(),c(44,"th",28),v(45,"Q.ta"),h(),c(46,"th",27),v(47,"Importo"),h(),c(48,"th",27),v(49,"Azioni"),h()()(),c(50,"tbody"),$i(51,I_e,14,9,"tr",29),h()()(),c(52,"p",30),v(53),h(),c(54,"strong",31),v(55,"I prezzi sono da considerarsi IVA esclusa (22%)"),h(),c(56,"p",32),v(57,"Firma per accettazione"),h()(),c(58,"div",33)(59,"div",34)(60,"button",35),fn("click",function(){return i.savePreventive()}),v(61,"Salva"),h(),c(62,"button",35),fn("click",function(){return i.exportPreventivePdf()}),v(63,"Esporta"),h(),c(64,"button",36),v(65,"Annulla"),h()()()()),2&r&&(jt(51),Kr("ngForOf",i.rows),jt(2),zp("TOTALE PREVENTIVO: ",i.calcolaTotaleColumn4()," \u20ac"))},dependencies:[Wc,Yl,Ed,_u,im,Yv,om,cb]}),e})();function S_e(t,e){if(1&t){const n=fs();c(0,"tr")(1,"td",247),v(2),h(),c(3,"td",247),v(4),h(),c(5,"td",247),v(6),h(),c(7,"td",247),v(8),h(),c(9,"td",247),v(10),h(),c(11,"td",247),v(12),h(),c(13,"td",248)(14,"button",249),fn("click",function(){const i=ln(n).$implicit;return En(ki().changeInstallment(i))}),c(15,"span",154),v(16,"edit"),h()(),c(17,"button",249),fn("click",function(){const i=ln(n).$implicit;return En(ki().removeInstallment(i))}),c(18,"span",154),v(19,"delete"),h()()()()}if(2&t){const n=e.$implicit;jt(2),ar(n.name),jt(2),ar(n.amount),jt(2),ar(n.fatturata),jt(2),ar(n.data_fattura),jt(2),ar(n.incassata),jt(2),ar(n.data_incasso)}}function T_e(t,e){1&t&&(c(0,"span"),v(1,"Bassa"),h())}function B_e(t,e){1&t&&(c(0,"span"),v(1,"Media"),h())}function D_e(t,e){1&t&&(c(0,"span"),v(1,"Alta"),h())}function x_e(t,e){if(1&t){const n=fs();c(0,"tr")(1,"td",247),v(2),h(),c(3,"td",247),v(4),h(),c(5,"td",247),$i(6,T_e,2,0,"span",250)(7,B_e,2,0,"span",250)(8,D_e,2,0,"span",250),h(),c(9,"td",248)(10,"button",249),fn("click",function(){const i=ln(n).$implicit;return En(ki().changeActivity(i))}),c(11,"span",154),v(12,"edit"),h()(),c(13,"button",249),fn("click",function(){const i=ln(n).$implicit;return En(ki().removeWorkActivity(i))}),c(14,"span",154),v(15,"delete"),h()()()()}if(2&t){const n=e.$implicit;jt(2),ar(n.activity),jt(2),ar(n.status),jt(2),Kr("ngIf","1"===n.priority),jt(),Kr("ngIf","2"===n.priority),jt(),Kr("ngIf","3"===n.priority)}}function F_e(t,e){if(1&t){const n=fs();c(0,"tr")(1,"td",247),v(2),h(),c(3,"td",247),v(4),h(),c(5,"td",247),v(6),h(),c(7,"td",247),v(8),h(),c(9,"td",247),v(10),h(),c(11,"td",248)(12,"button",249),fn("click",function(){const i=ln(n).$implicit;return En(ki().changeCost(i))}),c(13,"span",154),v(14,"edit"),h()(),c(15,"button",249),fn("click",function(){const i=ln(n).$implicit;return En(ki().removeCost(i))}),c(16,"span",154),v(17,"delete"),h()()()()}if(2&t){const n=e.$implicit;jt(2),ar(n.articles_number),jt(2),ar(n.description),jt(2),ar(n.cost),jt(2),ar(n.cost*n.articles_number),jt(2),ar(n.status)}}let k_e=(()=>{var t;class e{constructor(r,i,o){this.firestore=r,this.generalService=i,this.router=o,this.currentWork=this.generalService.currentWork,this.documentsActivities=new J([]),this.nextPageAvailableActivities=!0,this.documentsCosts=new J([]),this.nextPageAvailableCosts=!0,this.documentsInstallments=new J([]),this.nextPageAvailableInstallments=!0,this.installmentsRows=[],this.workCostsRows=[],this.workActivitiesRows=[]}ngOnInit(){this.generalService.currentChangingElement="works";const r=document.getElementById("change-work-boss-input");Cn.A.database().ref("users_data").on("value",Bo=>{r.innerHTML='<option value="">Seleziona un\'opzione</option>',Bo.forEach(Bu=>{const If=Bu.key,Xm=Bu.val(),jw=document.createElement("option");jw.value=If,jw.innerText=Xm.name,r.appendChild(jw)})});var i=document.getElementById("change-work-name-input"),o=document.getElementById("change-work-partita-iva-input"),s=document.getElementById("change-work-code-input"),a=document.getElementById("change-work-address-input"),l=document.getElementById("change-work-provincia-input"),u=document.getElementById("change-work-customer-type-input"),p=document.getElementById("change-work-ricorrente-input"),I=document.getElementById("change-work-end-date-input"),k=document.getElementById("change-work-status-input"),O=document.getElementById("change-work-boss-input"),q=document.getElementById("change-work-remaining-days-input"),ge=document.getElementById("change-work-delay-input"),Be=document.getElementById("change-work-hourly-cost-input"),Ye=document.getElementById("change-work-employed-workers-input"),tt=document.getElementById("change-work-labor-hours-input");"true"==this.currentWork.giochi&&(document.getElementById("change-work-giochi-input").checked=!0),"true"==this.currentWork.verde&&(document.getElementById("change-work-verde-input").checked=!0),"true"==this.currentWork.pavimentazione_drenante&&(document.getElementById("change-work-pavimentazione-drenante-input").checked=!0),"true"==this.currentWork.pavimentazione_antitraoma&&(document.getElementById("change-work-pavimentazione-antitraoma-input").checked=!0),i.value=this.currentWork.name,o.value=this.currentWork.partita_iva,s.value=this.currentWork.code,a.value=this.currentWork.address,l.value=this.currentWork.province,u.value=this.currentWork.customer_type,p.value=this.currentWork.ricorrente,I.value=this.currentWork.end_date,k.value=this.currentWork.status,O.value=this.currentWork.boss,q.value=this.currentWork.remaining_days,ge.value=this.currentWork.delay,Be.value=this.currentWork.hourly_cost,Ye.value=this.currentWork.employed_workers,tt.value=this.currentWork.labor_hours,this.getWorkActivities(),this.getWorkCosts(),this.getWorkInstallments(),this.getGeneralCounters(),this.calcLaborCost(),this.readCost();var Bt=new Date,Kn=new Date(this.currentWork.end_date).getTime()-Bt.getTime(),Ii=Math.ceil(Kn/864e5);document.getElementById("change-work-remaining-days-input").value=Ii.toString()}getGeneralCounters(){var r=this;return(0,V.A)(function*(){const i=Z1();var o=(new Date).getFullYear().toString();const s=yield bs(Co(ls(i,"activities"),Vi("work_id","==",r.currentWork.id),Vi("status","==","completed")));document.getElementById("stato-lavoro-table-containter-change-work-total-done-activities").innerText="Numero attivit\xe0 completate: "+s.data().count.toString();const a=yield bs(Co(ls(i,"costs"),Vi("work_id","==",r.currentWork.id),Vi("status","==","to-order")));document.getElementById("change-work-to-order-articles-counter").innerText="Articoli da ordinare: "+a.data().count.toString();const l=yield bs(Co(ls(i,"installments"),Vi("work_id","==",r.currentWork.id),Vi("incassata","==","non_incassata")));document.getElementById("change-work-non-incassate-installments-input").innerText="Rate da incassare: "+l.data().count.toString(),l.data().count>0?document.getElementById("change-work-money-status-input").value="da-saldare":document.getElementById("change-work-money-status-input").value="saldato",Cn.A.database().ref("counters/works/"+o+"/"+r.currentWork.id+"/total/").once("value",u=>{const p=u.val()||{incasso:0,fatturato:0,spesa_personale:0,spesa:0};document.getElementById("change-work-collection-input").value="\u20ac"+p.incasso})})()}calcLaborCost(){var r=document.getElementById("change-work-hourly-cost-input"),i=document.getElementById("change-work-employed-workers-input"),o=document.getElementById("change-work-labor-hours-input"),s=parseFloat(r.value)||1,a=parseFloat(i.value)||1,l=parseFloat(o.value)||1;document.getElementById("change-work-total-labor-cost-input").value="\u20ac"+(s*a*l).toString()}openOrClosePopup1(){const r=document.getElementById("change-work-money-status-input");console.log(r.value),"da-saldare"==r.value&&(document.getElementById("popup-stato-amministrativo").style.display="flex"),(r.value="saldato")&&(document.getElementById("popup-stato-amministrativo").style.display="none")}saveWork(){var r=document.getElementById("change-work-name-input"),i=document.getElementById("change-work-partita-iva-input"),o=document.getElementById("change-work-code-input"),s=document.getElementById("change-work-address-input"),a=document.getElementById("change-work-provincia-input"),l=document.getElementById("change-work-customer-type-input"),u=document.getElementById("change-work-ricorrente-input"),p=document.getElementById("change-work-end-date-input"),I=document.getElementById("change-work-status-input"),k=document.getElementById("change-work-money-status-input"),O=document.getElementById("change-work-boss-input"),q=document.getElementById("change-work-delay-input"),ge=document.getElementById("change-work-hourly-cost-input"),Be=document.getElementById("change-work-employed-workers-input"),Ye=document.getElementById("change-work-labor-hours-input"),tt=document.getElementById("change-work-collection-input"),Bt=document.getElementById("change-work-pavimentazione-antitraoma-input");this.pavimentazioneAntitraoma=Bt.checked?"true":"false";var Ut=document.getElementById("change-work-pavimentazione-drenante-input");this.pavimentazioneDrenante=Ut.checked?"true":"false";var Fn=document.getElementById("change-work-verde-input");this.verde=Fn.checked?"true":"false";var Kn=document.getElementById("change-work-giochi-input");this.giochi=Kn.checked?"true":"false",this.firestore.collection("works").doc(this.currentWork.id).set({name:r.value,partita_iva:i.value,code:o.value,address:s.value,province:a.value,customer_type:l.value,ricorrente:u.value,end_date:p.value,money_status:k.value,status:I.value,boss_uid:O.value,boss_name:O.innerText,delay:q.value,hourly_cost:ge.value,employed_workers:Be.value,labor_hours:Ye.value,collection:tt.value,timestamp:Cn.A.firestore.FieldValue.serverTimestamp(),pavimentazione_antitraoma:this.pavimentazioneAntitraoma,pavimentazione_drenante:this.pavimentazioneDrenante,verde:this.verde,giochi:this.giochi}).then(()=>{this.generalService.presentToast("Lavoro modificato con successo")}).catch(Ii=>{this.generalService.presentToast("Errore durante la modifica del lavoro: "+Ii.message)})}countSpesa(){return this.workCostsRows.reduce((i,o)=>null!=o.cost?i+parseFloat(o.cost)*parseFloat(o.articles_number):i,0)}getWorkActivities(){this.firestore.collection("activities",r=>r.where("work_id","==",this.currentWork.id).where("group","==","work")).valueChanges({idField:"id"}).subscribe(r=>{4===r.length?this.lastVisibleActivities=r[r.length-1]:this.nextPageAvailableActivities=!1,this.documentsActivities.next(r)})}getMoreWorkActivities(){this.lastVisibleActivities&&this.firestore.collection("activities",r=>r.limit(4).where("work_id","==",this.currentWork.id).where("group","==","work").startAfter(this.lastVisibleActivities)).valueChanges({idField:"id"}).subscribe(r=>{if(r.length>0){const o=[...this.documentsActivities.getValue(),...r];this.documentsActivities.next(o),4===r.length?this.lastVisibleActivities=r[r.length-1]:this.nextPageAvailableActivities=!1}else this.nextPageAvailableActivities=!1})}getWorkCosts(){this.firestore.collection("costs",r=>r.where("work_id","==",this.currentWork.id).where("group","==","work")).valueChanges({idField:"id"}).subscribe(r=>{4===r.length?this.lastVisibleCosts=r[r.length-1]:this.nextPageAvailableCosts=!1,this.documentsCosts.next(r)})}readCost(){var r=this;return(0,V.A)(function*(){try{const i=Cn.A.database().ref("/counters/works/"+(new Date).getFullYear().toString()+"/"+r.currentWork.id+"/total/"),o=yield kk(cp(i,"cost"));o.exists()?document.getElementById("change-work-total-cost-counter").innerText="Spesa totale: \u20ac"+o.val():document.getElementById("change-work-total-cost-counter").innerText="Spesa totale: \u20ac0"}catch(i){r.generalService.presentToast("Errore durante la lettura del costo della spesa lavoro: "+i.message)}})()}getMoreWorkCosts(){this.lastVisibleCosts&&this.firestore.collection("costs",r=>r.limit(4).where("work_id","==",this.currentWork.id).where("group","==","work").startAfter(this.lastVisibleCosts)).valueChanges({idField:"id"}).subscribe(r=>{if(r.length>0){const o=[...this.documentsCosts.getValue(),...r];this.documentsCosts.next(o),4===r.length?this.lastVisibleCosts=r[r.length-1]:this.nextPageAvailableCosts=!1}else this.nextPageAvailableCosts=!1})}getWorkInstallments(){this.firestore.collection("installments",r=>r.where("work_id","==",this.currentWork.id).where("group","==","work")).valueChanges({idField:"id"}).subscribe(r=>{4===r.length?this.lastVisibleInstallments=r[r.length-1]:this.nextPageAvailableInstallments=!1,this.documentsInstallments.next(r)})}getMoreWorkInstallments(){this.lastVisibleInstallments&&this.firestore.collection("installments",r=>r.limit(4).where("work_id","==",this.currentWork.id).where("group","==","work").startAfter(this.lastVisibleInstallments)).valueChanges({idField:"id"}).subscribe(r=>{if(r.length>0){const o=[...this.documentsInstallments.getValue(),...r];this.documentsInstallments.next(o),4===r.length?this.lastVisibleInstallments=r[r.length-1]:this.nextPageAvailableInstallments=!1}else this.nextPageAvailableInstallments=!1})}addWorkCounts(r){var i=(new Date).getFullYear().toString();Cn.A.database().ref("/counters/works/"+i+"/"+r+"/").transaction(o=>null===o?{fatturato:this.countFatturato(),incasso:this.countIncasso()}:{fatturato:(o.fatturato||0)+this.countFatturato(),incasso:(o.incasso||0)+this.countIncasso()}).catch(o=>{this.generalService.presentToast("Errore durante l'incremento dei contatori del lavoro: "+o.message)}),Cn.A.database().ref("/counters/works/"+i+"/general/").transaction(o=>null===o?{fatturato:this.countFatturato(),incasso:this.countIncasso()}:{fatturato:(o.fatturato||0)+this.countFatturato(),incasso:(o.incasso||0)+this.countIncasso()}).catch(o=>{this.generalService.presentToast("Errore durante l'incremento dei contatori del lavoro: "+o.message)}),Cn.A.database().ref("/counters/works/"+i+"/general/"+parseFloat(((new Date).getMonth()+1).toString())+"/").transaction(o=>null===o?{fatturato:this.countFatturato(),incasso:this.countIncasso()}:{fatturato:(o.fatturato||0)+this.countFatturato(),incasso:(o.incasso||0)+this.countIncasso()}).catch(o=>{this.generalService.presentToast("Errore durante l'incremento dei contatori del lavoro: "+o.message)})}countFatturato(){return this.installmentsRows.reduce((i,o)=>"fatturata"===o.fatturata?i+parseFloat(o.amount):i,0)}countIncasso(){return this.installmentsRows.reduce((i,o)=>"incassata"===o.incassata?i+parseFloat(o.amount):i,0)}addInstallment(){Cn.A.firestore().collection("installments").doc().set({name:document.getElementById("change-work-installment-name-input").value,amount:document.getElementById("change-work-installment-amount-input").value,fatturata:document.getElementById("change-work-installment-fatturata-input").value,data_fattura:document.getElementById("change-work-installment-data-fattura-input").value,incassata:document.getElementById("change-work-installment-incassata-input").value,data_incasso:document.getElementById("change-work-installment-data-incasso-input").value,work_id:this.currentWork.id,work_name:this.currentWork.name,timestamp:Cn.A.firestore.FieldValue.serverTimestamp(),group:"work"}).catch(o=>{this.generalService.presentToast("Errore durante l'aggiornamento dei contatori: "+o.message)});var i=parseFloat(document.getElementById("change-work-installment-amount-input").value);this.updateCounterAnnuale(i),this.updateCounterMensile(i)}updateCounterAnnuale(r){var i=(new Date).getFullYear().toString();const o=Cn.A.database().ref("/counters/works/"+i+"/general/total/");"fatturata"==document.getElementById("change-work-installment-fatturata-input").value&&o.child("fatturato").transaction(s=>null===s?r:s+r).catch(s=>{this.generalService.presentToast("Errore durante l'incremento del fatturato annuale: "+s.message)}),"incassata"==document.getElementById("change-work-installment-incassata-input").value&&o.child("incasso").transaction(s=>null===s?r:s+r).catch(s=>{this.generalService.presentToast("Errore durante l'incremento dell'incasso annuale: "+s.message)}),"fatturata"==document.getElementById("change-work-installment-fatturata-input").value&&Cn.A.database().ref("/counters/works/"+i+"/"+this.currentWork.id+"/total/").child("fatturato").transaction(s=>null===s?r:s+r).catch(s=>{this.generalService.presentToast("Errore durante l'incremento del fatturato annuale: "+s.message)}),"incassata"==document.getElementById("change-work-installment-incassata-input").value&&Cn.A.database().ref("/counters/works/"+i+"/"+this.currentWork.id+"/total/").child("incasso").transaction(s=>null===s?r:s+r).catch(s=>{this.generalService.presentToast("Errore durante l'incremento dell'incasso annuale: "+s.message)})}updateCounterMensile(r){var i=(new Date).getFullYear().toString(),o=((new Date).getMonth()+1).toString();const s=Cn.A.database().ref("/counters/works/"+i+"/general/"+parseFloat(((new Date).getMonth()+1).toString())+"/");"fatturata"==document.getElementById("change-work-installment-fatturata-input").value&&s.child("fatturato").transaction(a=>null===a?r:a+r).catch(a=>{this.generalService.presentToast("Errore durante l'incremento del fatturato mensile: "+a.message)}),"incassata"==document.getElementById("change-work-installment-incassata-input").value&&s.child("incasso").transaction(a=>null===a?r:a+r).catch(a=>{this.generalService.presentToast("Errore durante l'incremento dell'incasso mensile: "+a.message)}),"fatturata"==document.getElementById("change-work-installment-fatturata-input").value&&Cn.A.database().ref("/counters/works/"+i+"/"+this.currentWork.id+"/"+o+"/").child("fatturato").transaction(a=>null===a?r:a+r).catch(a=>{this.generalService.presentToast("Errore durante l'incremento del fatturato annuale: "+a.message)}),"incassata"==document.getElementById("change-work-installment-incassata-input").value&&Cn.A.database().ref("/counters/works/"+i+"/"+this.currentWork.id+"/"+o+"/").child("incasso").transaction(a=>null===a?r:a+r).catch(a=>{this.generalService.presentToast("Errore durante l'incremento dell'incasso annuale: "+a.message)})}removeInstallment(r){if(confirm("Sei sicuro di voler eliminare questa rata?")){this.firestore.collection("installments").doc(r.id).delete().then(()=>{this.generalService.presentToast("Rata eliminata con successo: ")}).catch(a=>{this.generalService.presentToast("Errore durante l'eliminazione della rata: "+a.message)});var i=(new Date).getFullYear().toString();const o=Cn.A.database().ref("/counters/"+this.generalService.currentChangingElement+"/"+i+"/general/total/");"fatturata"==r.fatturata&&o.child("fatturato").transaction(a=>{const l=parseFloat(a)-parseFloat(r.amount);return isNaN(l)?0:l}).catch(a=>{this.generalService.presentToast("Errore durante l'eliminazione della rata (ERRORE TIPO COUNT): "+a.message)}),"incassata"==r.incassata&&o.child("incasso").transaction(a=>{const l=parseFloat(a)-parseFloat(r.amount);return isNaN(l)?0:l}).catch(a=>{this.generalService.presentToast("Errore durante l'eliminazione della rata (ERRORE TIPO COUNT): "+a.message)});const s=Cn.A.database().ref("/counters/"+this.generalService.currentChangingElement+"/"+i+"/general/"+((new Date).getMonth()+1).toString()+"/");"fatturata"==r.fatturata&&s.child("fatturato").transaction(a=>{const l=parseFloat(a)-parseFloat(r.amount);return isNaN(l)?0:l}).catch(a=>{this.generalService.presentToast("Errore durante l'aggiornamento del fatturato annuale: "+a.message)}),"incassata"==r.incassata&&s.child("incasso").transaction(a=>{const l=parseFloat(a)-parseFloat(r.amount);return isNaN(l)?0:l}).catch(a=>{this.generalService.presentToast("Errore durante l'aggiornamento dell'incasso annuale: "+a.message)}),"fatturata"==r.fatturata&&Cn.A.database().ref("/counters/"+this.generalService.currentChangingElement+"/"+i+"/"+this.currentWork.id+"/"+((new Date).getMonth()+1).toString()+"/").child("fatturato").transaction(a=>{const l=parseFloat(a)-parseFloat(r.amount);return isNaN(l)?0:l}).catch(a=>{this.generalService.presentToast("Errore durante l'aggiornamento del fatturato annuale: "+a.message)}),"incassata"==r.incassata&&Cn.A.database().ref("/counters/"+this.generalService.currentChangingElement+"/"+i+"/"+this.currentWork.id+"/"+((new Date).getMonth()+1).toString()+"/").child("incasso").transaction(a=>{const l=parseFloat(a)-parseFloat(r.amount);return isNaN(l)?0:l}).catch(a=>{this.generalService.presentToast("Errore durante l'aggiornamento dell'incasso annuale: "+a.message)}),"fatturata"==r.fatturata&&Cn.A.database().ref("/counters/"+this.generalService.currentChangingElement+"/"+i+"/"+this.currentWork.id+"/total/").child("fatturato").transaction(a=>{const l=parseFloat(a)-parseFloat(r.amount);return isNaN(l)?0:l}).catch(a=>{this.generalService.presentToast("Errore durante l'aggiornamento del fatturato annuale: "+a.message)}),"incassata"==r.incassata&&Cn.A.database().ref("/counters/"+this.generalService.currentChangingElement+"/"+i+"/"+this.currentWork.id+"/total/").child("incasso").transaction(a=>{const l=parseFloat(a)-parseFloat(r.amount);return isNaN(l)?0:l}).catch(a=>{this.generalService.presentToast("Errore durante l'aggiornamento dell'incasso annuale: "+a.message)})}}changeInstallment(r){this.generalService.currentInstallment=r,this.router.navigate(["/change-installment"])}addCost(){this.firestore.collection("costs").doc().set({articles_number:document.getElementById("change-work-cost-articles-number-input").value,description:document.getElementById("change-work-cost-description-input").value,cost:document.getElementById("change-work-cost-cost-input").value,status:document.getElementById("change-work-cost-status-input").value,work_id:this.currentWork.id,work_name:this.currentWork.name,timestamp:Cn.A.firestore.FieldValue.serverTimestamp(),group:"work"});const r=document.getElementById("change-work-cost-cost-input"),i=document.getElementById("change-work-cost-articles-number-input"),o=parseFloat(r.value),s=parseFloat(i.value);if(isNaN(o)||isNaN(s))return void this.generalService.presentToast("Alcuni numeri non sono validi");const a=o*s;isNaN(a)?this.generalService.presentToast("Il calcolo ha come risultato un numero non valido"):(this.updateCostCounterAnnuale(a),this.updateCostCounterMensile(a))}updateCostCounterAnnuale(r){var i=(new Date).getFullYear().toString();Cn.A.database().ref("/counters/works/"+i+"/general/total/").child("spesa").transaction(s=>null===s?r:s+r).catch(s=>{this.generalService.presentToast("Errore durante l'incremento del costo annuale: "+s.message)}),Cn.A.database().ref("/counters/works/"+i+"/"+this.currentWork.id+"/total/").child("spesa").transaction(s=>null===s?r:s+r).catch(s=>{this.generalService.presentToast("Errore durante l'incremento del costo annuale: "+s.message)})}updateCostCounterMensile(r){var i=(new Date).getFullYear().toString(),o=((new Date).getMonth()+1).toString();Cn.A.database().ref("/counters/works/"+i+"/general/"+parseFloat(((new Date).getMonth()+1).toString())+"/").child("spesa").transaction(a=>null===a?r:a+r).catch(a=>{this.generalService.presentToast("Errore durante l'incremento del fatturato mensile: "+a.message)}),Cn.A.database().ref("/counters/works/"+i+"/"+this.currentWork.id+"/"+o+"/").child("spesa").transaction(a=>null===a?r:a+r).catch(a=>{this.generalService.presentToast("Errore durante l'incremento del fatturato annuale: "+a.message)})}removeCost(r){confirm("Sei sicuro di voler eliminare questa spesa?")&&this.firestore.collection("costs").doc(r.id).delete().then(()=>{const s=parseFloat(r.cost)*parseFloat(r.articles_number);var a=(new Date).getFullYear().toString();Cn.A.database().ref("/counters/"+this.generalService.currentChangingElement+"/"+a+"/general/total/").child("spesa").transaction(p=>{const I=parseFloat(p)-s;return isNaN(I)?0:I}).catch(p=>{this.generalService.presentToast("Errore durante l'eliminazione della rata (ERRORE TIPO COUNT): "+p.message)}),Cn.A.database().ref("/counters/"+this.generalService.currentChangingElement+"/"+a+"/general/"+((new Date).getMonth()+1).toString()+"/").child("spesa").transaction(p=>{const I=parseFloat(p)-s;return isNaN(I)?0:I}).catch(p=>{this.generalService.presentToast("Errore durante l'aggiornamento del fatturato annuale: "+p.message)}),Cn.A.database().ref("/counters/"+this.generalService.currentChangingElement+"/"+a+"/"+this.currentWork.id+"/"+((new Date).getMonth()+1).toString()+"/").child("spesa").transaction(p=>{const I=parseFloat(p)-s;return isNaN(I)?0:I}).catch(p=>{this.generalService.presentToast("Errore durante l'aggiornamento del fatturato annuale: "+p.message)}),Cn.A.database().ref("/counters/"+this.generalService.currentChangingElement+"/"+a+"/"+this.currentWork.id+"/total/").child("spesa").transaction(p=>{const I=parseFloat(p)-s;return isNaN(I)?0:I}).catch(p=>{this.generalService.presentToast("Errore durante l'aggiornamento del fatturato annuale: "+p.message)}),this.generalService.presentToast("Spesa eliminata con successo: ")}).catch(i=>{this.generalService.presentToast("Errore durante l'eliminazione della spesa: "+i.message)})}changeCost(r){this.generalService.currentCost=r,this.router.navigate(["/change-cost"])}addWorkActivity(){this.firestore.collection("activities").doc().set({activity:document.getElementById("activity-name-input").value,status:document.getElementById("activity-status-input").value,priority:document.getElementById("activity-priority-input").value,work_id:this.currentWork.id,work_name:this.currentWork.name,timestamp:Cn.A.firestore.FieldValue.serverTimestamp(),group:"work"})}removeWorkActivity(r){confirm("Sei sicuro di voler eliminare questa attivit\xe0?")&&this.firestore.collection("activities").doc(r.id).delete().then(()=>{this.generalService.presentToast("Attivit\xe0 eliminata con successo: ")}).catch(i=>{this.generalService.presentToast("Errore durante l'eliminazione dell'attivit\xe0: "+i.message)})}changeActivity(r){this.generalService.currentActivity=r,this.router.navigate(["/change-activity"])}}return(t=e).\u0275fac=function(r){return new(r||t)(Y(Zl),Y(xa),Y(zo))},t.\u0275cmp=ee({type:t,selectors:[["app-change-work"]],decls:541,vars:9,consts:[["id","add-work",2,"height","100%","width","100%","display","flex","flex-direction","column","padding-left","1rem","padding-right","1rem","overflow-y","auto","overflow-x","hidden","padding-bottom","7rem"],[2,"width","100%","display","grid","grid-template-columns","repeat(auto-fit, minmax(200px, 1fr))","grid-gap","10px","margin-top","4rem"],[1,"inputGroup",2,"width","100%"],["id","change-work-name-input","type","text","value","Palazzo economo e magazzino 20",1,"input-field3"],["for","change-work-name-input"],[1,"inputGroup",2,"display","inline-grid"],["id","change-work-partita-iva-input","type","text",1,"input-field3"],["for","change-work-partita-iva-input"],["id","change-work-code-input","type","text",1,"input-field3"],["for","change-work-code-input"],[2,"width","100%","display","grid","grid-template-columns","repeat(auto-fit, minmax(200px, 1fr))","grid-gap","10px"],[1,"inputGroup",2,"display","inline-grid","width","calc(100% -10rem)"],["id","change-work-address-input","type","text",1,"input-field3"],["for","change-work-address-input"],[2,"display","inline-grid","flex-direction","column"],[2,"margin-bottom","-1.5rem","z-index","2","background","white","margin-left","1.5rem","font-size","14px","color","rgb(100, 100, 100)","width","6rem","text-align","center"],[1,"inputGroup"],["id","change-work-provincia-input",1,"selector1",2,"width","100%"],["value","Alessandria"],["value","Ancona"],["value","Arezzo"],["value","Ascoli Piceno"],["value","Asti"],["value","Avellino"],["value","Bari"],["value","Barletta-Andria-Trani"],["value","Belluno"],["value","Benevento"],["value","Bergamo"],["value","Biella"],["value","Bologna"],["value","Bolzano"],["value","Brescia"],["value","Brindisi"],["value","Cagliari"],["value","Caltanissetta"],["value","Campobasso"],["value","Caserta"],["value","Catania"],["value","Catanzaro"],["value","Chieti"],["value","Como"],["value","Cosenza"],["value","Cremona"],["value","Crotone"],["value","Cuneo"],["value","Enna"],["value","Fermo"],["value","Ferrara"],["value","Firenze"],["value","Foggia"],["value","Forl\xec"],["value","Frosinone"],["value","Genova"],["value","Gorizia"],["value","Grosseto"],["value","Imperia"],["value","Isernia"],["value","La Spezia"],["value","L'Aquila"],["value","Latina"],["value","Lecce"],["value","Lecco"],["value","Livorno"],["value","Lodi"],["value","Lucca"],["value","Macerata"],["value","Mantova"],["value","Massa-Carrara"],["value","Matera"],["value","Messina"],["value","Milano"],["value","Modena"],["value","Monza e della Brianza"],["value","Napoli"],["value","Novara"],["value","Nuoro"],["value","Ogliastra"],["value","Oristano"],["value","Padova"],["value","Palermo"],["value","Parma"],["value","Pavia"],["value","Perugia"],["value","Pesaro e Urbino"],["value","Pescara"],["value","Piacenza"],["value","Pisa"],["value","Pistoia"],["value","Pordenone"],["value","Potenza"],["value","Prato"],["value","Ragusa"],["value","Ravenna"],["value","Reggio Calabria"],["value","Reggio nell'Emilia"],["value","Rieti"],["value","Rimini"],["value","Roma"],["value","Rovigo"],["value","Salerno"],["value","Sassari"],["value","Savona"],["value","Siena"],["value","Siracusa"],["value","Sondrio"],["value","Sud Sardegna"],["value","Taranto"],["value","Teramo"],["value","Terni"],["value","Torino"],["value","Trapani"],["value","Trento"],["value","Treviso"],["value","Trieste"],["value","Udine"],["value","Valle d'Aosta"],["value","Varese"],["value","Venezia"],["value","Verbano-Cusio-Ossola"],["value","Vercelli"],["value","Verona"],["value","Vibo Valentia"],["value","Vicenza"],["value","Viterbo"],[2,"width","100%","display","grid","grid-template-columns","repeat(auto-fit, minmax(200px, 1fr))","grid-gap","10px","align-items","center"],[2,"display","flex","flex-direction","column","overflow","hidden"],["id","change-work-customer-type-input",1,"selector1",2,"width","100%"],["value","public-administration"],["value","private"],["id","change-work-ricorrente-input",1,"selector1",2,"width","100%"],["value","ricorrente"],["value","non_ricorrente"],[2,"display","flex","flex-direction","row","overflow-x","auto","align-items","center","border","2px solid #19212d !important","border-radius","20px","height","3.4rem","gap","1rem"],[2,"display","flex","flex-direction","row","align-items","center","gap","0.5rem"],["id","change-work-pavimentazione-antitraoma-input","type","checkbox",1,"input-field3",2,"width","1rem","height","1rem"],[2,"margin-top","0.2rem","margin-bottom","0.2rem","width","8rem"],["id","change-work-pavimentazione-drenante-input","type","checkbox",1,"input-field3",2,"width","1rem","height","1rem"],["id","change-work-verde-input","type","checkbox",1,"input-field3",2,"width","1rem","height","1rem"],[2,"margin-top","0.2rem","margin-bottom","0.2rem"],["id","change-work-giochi-input","type","checkbox",1,"input-field3",2,"width","1rem","height","1rem"],["id","change-work-end-date-input","type","date",1,"input-field3"],["for","change-work-end-date-input"],[2,"display","flex","flex-direction","column","margin-top","0.4rem"],["id","change-work-status-input",1,"selector1",2,"width","100%"],["value","to-start"],["value","doing"],["value","finished"],[2,"margin-bottom","-1.5rem","z-index","2","background","white","margin-left","1.5rem","font-size","14px","color","rgb(100, 100, 100)","width","10rem","text-align","center"],["id","change-work-money-status-input",1,"selector1",2,"width","100%"],["value","da-saldare"],["value","saldato"],["onclick","if(document.getElementById('popup-stato-amministrativo').style.display == 'none' ){document.getElementById('popup-stato-amministrativo').style.display = 'flex'; }else{document.getElementById('popup-stato-amministrativo').style.display = 'none'; }",2,"width","100%","display","flex","flex-direction","row","align-items","center","padding-top","1rem","padding-bottom","1rem","cursor","pointer"],[2,"margin-top","0rem","margin-bottom","0rem"],[1,"material-symbols-outlined","notranslate"],["id","popup-stato-amministrativo",1,"table-container",2,"width","100%","display","none","flex-direction","column","padding-bottom","3rem","border","1px solid rgba(0, 0, 0, 0.091)","border-end-start-radius","1rem","border-end-end-radius","1rem"],[2,"width","100%","display","flex","flex-direction","row","align-items","center","gap","1rem","padding-left","1rem","flex-wrap","wrap","padding-bottom","2rem"],["id","change-work-installment-name-input","type","text",1,"input-field3"],["for","change-work-installment-name-input"],[1,"inputGroup",2,"width","8rem"],["id","change-work-installment-amount-input","type","number",1,"input-field3"],["for","change-work-installment-amount-input"],[2,"margin-bottom","-1.5rem","z-index","2","background","white","margin-left","1.5rem","font-size","14px","color","rgb(100, 100, 100)","width","8rem","text-align","center"],["id","change-work-installment-fatturata-input",1,"selector1",2,"width","100%"],["value","non_fatturata"],["value","fatturata"],["id","change-work-installment-data-fattura-input","type","date",1,"input-field3"],["for","change-work-installment-data-fattura-input"],[2,"display","flex","flex-direction","column","margin-top","0.4rem","width","8rem"],[2,"margin-bottom","-1.5rem","z-index","2","background","white","margin-left","1.5rem","font-size","14px","color","rgb(100, 100, 100)","width","auto"],["id","change-work-installment-incassata-input",1,"selector1",2,"width","100%"],["value","non_incassata"],["value","incassata"],["id","change-work-installment-data-incasso-input","type","date",1,"input-field3"],["for","change-work-installment-data-incasso-input"],[1,"button5",2,"height","3rem","padding-left","0.5rem","padding-right","0.5rem","margin-top","1rem","margin-bottom","1rem","width","8rem","height","3rem",3,"click"],["id","change-work-non-incassate-installments-input",2,"margin-top","0.5rem","margin-bottom","0.5rem"],[2,"width","100%","overflow-x","auto"],[1,"table",2,"width","100%"],[2,"height","2.5rem"],[1,"table-th",2,"width","10rem"],[1,"table-th",2,"width","3rem"],[4,"ngFor","ngForOf"],[2,"width","100%","display","flex","flex-direction","column","align-items","center"],[2,"width","95%","height","2.5rem","border-radius","0.5rem","margin-top","1rem","margin-bottom","1rem","flex-shrink","0",3,"click"],["id","change-work-boss-input",1,"selector1",2,"width","100%"],["id","change-work-remaining-days-input","type","number",1,"input-field3"],["for","change-work-remaining-days-input"],["id","change-work-delay-input","type","number",1,"input-field3"],["for","change-work-delay-input"],["id","change-work-hourly-cost-input","type","number",1,"input-field3",3,"input"],["for","change-work-hourly-cost-input"],["id","change-work-employed-workers-input","type","number",1,"input-field3",3,"input"],["id","change-work-employed-workers-input"],["id","change-work-labor-hours-input","type","number",1,"input-field3",3,"input"],["for","change-work-labor-hours-input"],["id","change-work-total-labor-cost-input","readonly","","type","text",1,"input-field3"],["for","change-work-total-labor-cost-input"],["id","change-work-collection-input","readonly","","type","text",1,"input-field3"],["for","change-work-collection-input"],[1,"inputGroup",2,"display","inline-grid","width","100%"],["id","change-work-productivity-input","readonly","","type","text",1,"input-field3"],["for","change-work-productivity-input"],[2,"width","100%"],["onclick","if(document.getElementById('stato-lavoro-table-containter-change-work').style.display =='none' ){document.getElementById('stato-lavoro-table-containter-change-work').style.display = 'flex';}else{document.getElementById('stato-lavoro-table-containter-change-work').style.display = 'none'; }",2,"width","100%","display","flex","flex-direction","row","align-items","center","padding-top","1rem","padding-bottom","1rem","cursor","pointer"],["id","stato-lavoro-table-containter-change-work",2,"display","none","flex-direction","column","width","100%"],["id","stato-lavoro-table-containter-change-work-total-done-activities"],[2,"width","100%","display","flex","flex-direction","row","align-items","center","gap","1rem","padding-left","1rem","flex-wrap","wrap","padding-bottom","1rem"],["id","activity-name-input","type","text",1,"input-field3"],["for","activity-name-input"],["id","activity-status-input",1,"selector1",2,"width","100%"],["value","to-do"],["value","completed"],["value","not_started"],["value","pending"],["value","timed_out"],["id","activity-priority-input",1,"selector1",2,"width","100%"],["value","3"],["value","2"],["value","1"],[1,"table-th",2,"width","5rem"],[1,"table-th",2,"width","2rem !important"],["onclick","if(document.getElementById('spesa-lavoro-table-containter-change-work').style.display =='none' ){document.getElementById('spesa-lavoro-table-containter-change-work').style.display = 'flex'; }else{document.getElementById('spesa-lavoro-table-containter-change-work').style.display = 'none'; }",2,"width","100%","display","flex","flex-direction","row","align-items","center","padding-top","1rem","padding-bottom","1rem","cursor","pointer"],["id","spesa-lavoro-table-containter-change-work",2,"display","none","flex-direction","column","width","100%"],["id","popup-stato-amministrativo",1,"table-container",2,"width","100%","display","flex","flex-direction","column","padding-bottom","1rem"],["id","change-work-cost-articles-number-input","type","number",1,"input-field3"],["for","change-work-cost-articles-number-input"],[1,"inputGroup",2,"width","15rem"],["id","change-work-cost-description-input","type","text",1,"input-field3"],["for","change-work-cost-description-input"],[1,"inputGroup",2,"width","12rem"],["id","change-work-cost-cost-input","type","number",1,"input-field3"],["for","change-work-cost-cost-input"],["id","change-work-cost-status-input",1,"selector1",2,"width","100%"],["value","to-order"],["value","ordered"],["value","arriving"],["value","arrived"],["id","change-work-total-cost-counter",2,"margin-bottom","0.5rem"],["id","change-work-to-order-articles-counter",2,"margin-top","0rem","margin-bottom","0.5rem"],[2,"display","flex","flex-direction","column-reverse","width","100%","position","absolute","z-index","2","pointer-events","none","height","100%"],[2,"width","calc( 100% - 2rem )","display","grid","grid-template-columns","repeat(auto-fit, minmax(200px, 1fr))","gap","1rem","background","white","padding-bottom","1rem","padding-top","1rem","pointer-events","all","border-top","1px solid rgba(0, 0, 0, 0.119)"],[1,"button5",2,"height","2.5rem","padding-left","0.5rem","padding-right","0.5rem","margin-top","1rem","margin-bottom","1rem","border-radius","2rem","font-weight","bold","font-size","1rem",3,"click"],["routerLink","/works",1,"button5",2,"height","2.5rem","padding-left","0.5rem","padding-right","0.5rem","margin-top","1rem","margin-bottom","1rem","border-radius","2rem","font-weight","bold","font-size","1rem"],[2,"flex","1"],[2,"width","calc(100% - 2rem)","display","flex","flex-direction","row","align-items","center","padding-bottom","1rem","background","white","flex-shrink","0","pointer-events","all","border-bottom","1px solid rgba(0, 0, 0, 0.119)"],[2,"margin-bottom","0rem"],[1,"table-td"],[1,"table-td",2,"display","flex","flex-direction","row","align-items","center","gap","0.5rem","overflow-y","hidden"],[1,"btn","btn-danger",2,"border-radius","50%","width","2rem","height","2rem","display","flex","align-items","center","justify-content","center",3,"click"],[4,"ngIf"]],template:function(r,i){1&r&&(c(0,"div",0)(1,"div",1)(2,"div",2),ht(3,"input",3),c(4,"label",4),v(5,"Nome work"),h()(),c(6,"div",5),ht(7,"input",6),c(8,"label",7),v(9,"Partita Iva"),h()(),c(10,"div",5),ht(11,"input",8),c(12,"label",9),v(13,"Codice lavoro"),h()()(),c(14,"div",10)(15,"div",11),ht(16,"input",12),c(17,"label",13),v(18,"Indirizzo"),h()(),c(19,"div",14)(20,"label",15),v(21,"Provincia"),h(),c(22,"div",16)(23,"select",17)(24,"option",18),v(25,"Alessandria"),h(),c(26,"option",19),v(27,"Ancona"),h(),c(28,"option",20),v(29,"Arezzo"),h(),c(30,"option",21),v(31,"Ascoli Piceno"),h(),c(32,"option",22),v(33,"Asti"),h(),c(34,"option",23),v(35,"Avellino"),h(),c(36,"option",24),v(37,"Bari"),h(),c(38,"option",25),v(39,"Barletta-Andria-Trani"),h(),c(40,"option",26),v(41,"Belluno"),h(),c(42,"option",27),v(43,"Benevento"),h(),c(44,"option",28),v(45,"Bergamo"),h(),c(46,"option",29),v(47,"Biella"),h(),c(48,"option",30),v(49,"Bologna"),h(),c(50,"option",31),v(51,"Bolzano"),h(),c(52,"option",32),v(53,"Brescia"),h(),c(54,"option",33),v(55,"Brindisi"),h(),c(56,"option",34),v(57,"Cagliari"),h(),c(58,"option",35),v(59,"Caltanissetta"),h(),c(60,"option",36),v(61,"Campobasso"),h(),c(62,"option",37),v(63,"Caserta"),h(),c(64,"option",38),v(65,"Catania"),h(),c(66,"option",39),v(67,"Catanzaro"),h(),c(68,"option",40),v(69,"Chieti"),h(),c(70,"option",41),v(71,"Como"),h(),c(72,"option",42),v(73,"Cosenza"),h(),c(74,"option",43),v(75,"Cremona"),h(),c(76,"option",44),v(77,"Crotone"),h(),c(78,"option",45),v(79,"Cuneo"),h(),c(80,"option",46),v(81,"Enna"),h(),c(82,"option",47),v(83,"Fermo"),h(),c(84,"option",48),v(85,"Ferrara"),h(),c(86,"option",49),v(87,"Firenze"),h(),c(88,"option",50),v(89,"Foggia"),h(),c(90,"option",51),v(91,"Forl\xec-Cesena"),h(),c(92,"option",52),v(93,"Frosinone"),h(),c(94,"option",53),v(95,"Genova"),h(),c(96,"option",54),v(97,"Gorizia"),h(),c(98,"option",55),v(99,"Grosseto"),h(),c(100,"option",56),v(101,"Imperia"),h(),c(102,"option",57),v(103,"Isernia"),h(),c(104,"option",58),v(105,"La Spezia"),h(),c(106,"option",59),v(107,"L'Aquila"),h(),c(108,"option",60),v(109,"Latina"),h(),c(110,"option",61),v(111,"Lecce"),h(),c(112,"option",62),v(113,"Lecco"),h(),c(114,"option",63),v(115,"Livorno"),h(),c(116,"option",64),v(117,"Lodi"),h(),c(118,"option",65),v(119,"Lucca"),h(),c(120,"option",66),v(121,"Macerata"),h(),c(122,"option",67),v(123,"Mantova"),h(),c(124,"option",68),v(125,"Massa-Carrara"),h(),c(126,"option",69),v(127,"Matera"),h(),c(128,"option",70),v(129,"Messina"),h(),c(130,"option",71),v(131,"Milano"),h(),c(132,"option",72),v(133,"Modena"),h(),c(134,"option",73),v(135,"Monza e della Brianza"),h(),c(136,"option",74),v(137,"Napoli"),h(),c(138,"option",75),v(139,"Novara"),h(),c(140,"option",76),v(141,"Nuoro"),h(),c(142,"option",77),v(143,"Ogliastra"),h(),c(144,"option",78),v(145,"Oristano"),h(),c(146,"option",79),v(147,"Padova"),h(),c(148,"option",80),v(149,"Palermo"),h(),c(150,"option",81),v(151,"Parma"),h(),c(152,"option",82),v(153,"Pavia"),h(),c(154,"option",83),v(155,"Perugia"),h(),c(156,"option",84),v(157,"Pesaro e Urbino"),h(),c(158,"option",85),v(159,"Pescara"),h(),c(160,"option",86),v(161,"Piacenza"),h(),c(162,"option",87),v(163,"Pisa"),h(),c(164,"option",88),v(165,"Pistoia"),h(),c(166,"option",89),v(167,"Pordenone"),h(),c(168,"option",90),v(169,"Potenza"),h(),c(170,"option",91),v(171,"Prato"),h(),c(172,"option",92),v(173,"Ragusa"),h(),c(174,"option",93),v(175,"Ravenna"),h(),c(176,"option",94),v(177,"Reggio Calabria"),h(),c(178,"option",95),v(179,"Reggio nell'Emilia"),h(),c(180,"option",96),v(181,"Rieti"),h(),c(182,"option",97),v(183,"Rimini"),h(),c(184,"option",98),v(185,"Roma"),h(),c(186,"option",99),v(187,"Rovigo"),h(),c(188,"option",100),v(189,"Salerno"),h(),c(190,"option",101),v(191,"Sassari"),h(),c(192,"option",102),v(193,"Savona"),h(),c(194,"option",103),v(195,"Siena"),h(),c(196,"option",104),v(197,"Siracusa"),h(),c(198,"option",105),v(199,"Sondrio"),h(),c(200,"option",106),v(201,"Sud Sardegna"),h(),c(202,"option",107),v(203,"Taranto"),h(),c(204,"option",108),v(205,"Teramo"),h(),c(206,"option",109),v(207,"Terni"),h(),c(208,"option",110),v(209,"Torino"),h(),c(210,"option",111),v(211,"Trapani"),h(),c(212,"option",112),v(213,"Trento"),h(),c(214,"option",113),v(215,"Treviso"),h(),c(216,"option",114),v(217,"Trieste"),h(),c(218,"option",115),v(219,"Udine"),h(),c(220,"option",116),v(221,"Valle d'Aosta"),h(),c(222,"option",117),v(223,"Varese"),h(),c(224,"option",118),v(225,"Venezia"),h(),c(226,"option",119),v(227,"Verbano-Cusio-Ossola"),h(),c(228,"option",120),v(229,"Vercelli"),h(),c(230,"option",121),v(231,"Verona"),h(),c(232,"option",122),v(233,"Vibo Valentia"),h(),c(234,"option",123),v(235,"Vicenza"),h(),c(236,"option",124),v(237,"Viterbo"),h()()()()(),c(238,"div",125)(239,"div",126)(240,"label",15),v(241,"Tipo cliente"),h(),c(242,"div",16)(243,"select",127)(244,"option",128),v(245,"Pubblica Amministrazione"),h(),c(246,"option",129),v(247,"Privato"),h()()()(),c(248,"div",126)(249,"label",15),v(250,"Frequenza"),h(),c(251,"div",16)(252,"select",130)(253,"option",131),v(254,"Ricorrente"),h(),c(255,"option",132),v(256,"Non ricorrente"),h()()()(),c(257,"div",133)(258,"div",134),ht(259,"input",135),c(260,"p",136),v(261,"Pavimentazione antitraoma"),h()(),c(262,"div",134),ht(263,"input",137),c(264,"p",136),v(265,"Pavimentazione drenante"),h()(),c(266,"div",134),ht(267,"input",138),c(268,"p",139),v(269,"Verde"),h()(),c(270,"div",134),ht(271,"input",140),c(272,"p",139),v(273,"Giochi"),h()()()(),c(274,"div",10)(275,"div",16),ht(276,"input",141),c(277,"label",142),v(278,"Data scadenza"),h()(),c(279,"div",143)(280,"label",15),v(281,"Stato lavoro"),h(),c(282,"div",16)(283,"select",144)(284,"option",145),v(285,"Da iniziare"),h(),c(286,"option",146),v(287,"In corso"),h(),c(288,"option",147),v(289,"Concluso"),h()()()(),c(290,"div",143)(291,"label",148),v(292,"Stato amministrativo"),h(),c(293,"div",16)(294,"select",149)(295,"option",150),v(296,"Da saldare"),h(),c(297,"option",151),v(298,"Saldato"),h()()()()(),c(299,"div",152)(300,"h3",153),v(301,"Sezione Rate"),h(),c(302,"span",154),v(303,"expand_more"),h()(),c(304,"div",155)(305,"div",156)(306,"div",16),ht(307,"input",157),c(308,"label",158),v(309,"Nome"),h()(),c(310,"div",159),ht(311,"input",160),c(312,"label",161),v(313,"Importo (\u20ac)"),h()(),c(314,"div",143)(315,"label",162),v(316,"Stato fatturazione"),h(),c(317,"div",16)(318,"select",163)(319,"option",164),v(320,"Non fatturata"),h(),c(321,"option",165),v(322,"Fatturata"),h()()()(),c(323,"div",16),ht(324,"input",166),c(325,"label",167),v(326,"Data fattura"),h()(),c(327,"div",168)(328,"label",169),v(329,"Stato incasso"),h(),c(330,"div",16)(331,"select",170)(332,"option",171),v(333,"Non incassata"),h(),c(334,"option",172),v(335,"Incassata"),h()()()(),c(336,"div",16),ht(337,"input",173),c(338,"label",174),v(339,"Data incasso"),h()(),c(340,"button",175),fn("click",function(){return i.addInstallment()}),v(341,"Aggiungi rata"),h()(),c(342,"strong",176),v(343,"Rate da incassare: "),h(),c(344,"div",177)(345,"table",178)(346,"thead",179)(347,"tr")(348,"th",180),v(349,"Nome"),h(),c(350,"th",180),v(351,"Importo"),h(),c(352,"th",181),v(353,"Fatturata"),h(),c(354,"th",181),v(355,"Data fatturata"),h(),c(356,"th",181),v(357,"Incassata"),h(),c(358,"th",181),v(359,"Data incasso"),h(),c(360,"th",180),v(361,"Azioni"),h()()(),c(362,"tbody"),$i(363,S_e,20,6,"tr",182),zc(364,"async"),h()(),c(365,"div",183)(366,"button",184),fn("click",function(){return i.getMoreWorkInstallments()}),v(367,"Carica altri"),h()()()(),c(368,"div",143)(369,"label",15),v(370,"Capo lavoro"),h(),c(371,"div",16),ht(372,"select",185),h()(),c(373,"div",10)(374,"div",16),ht(375,"input",186),c(376,"label",187),v(377,"Giorni rimanenti"),h()(),c(378,"div",16),ht(379,"input",188),c(380,"label",189),v(381,"Giorni concessi di ritardo"),h()()(),c(382,"div",10)(383,"div",16)(384,"input",190),fn("input",function(){return i.calcLaborCost()}),h(),c(385,"label",191),v(386,"Costo orario manodopera"),h()(),c(387,"div",16)(388,"input",192),fn("input",function(){return i.calcLaborCost()}),h(),c(389,"label",193),v(390,"Lavoratori impiegati"),h()(),c(391,"div",16)(392,"input",194),fn("input",function(){return i.calcLaborCost()}),h(),c(393,"label",195),v(394,"N. Ore manodopera"),h()()(),c(395,"div",10)(396,"div",16),ht(397,"input",196),c(398,"label",197),v(399,"Totale costo manodopera"),h()(),c(400,"div",16),ht(401,"input",198),c(402,"label",199),v(403,"Incasso lavoro"),h()()(),c(404,"div",200),ht(405,"input",201),c(406,"label",202),v(407,"Produttivit\xe0"),h()(),c(408,"div",203)(409,"div",204)(410,"h3",153),v(411,"Stato lavori"),h(),c(412,"span",154),v(413,"expand_more"),h()(),c(414,"div",205)(415,"strong",206),v(416,"Numero attivit\xe0 completate: "),h(),c(417,"div",207)(418,"div",16),ht(419,"input",208),c(420,"label",209),v(421,"Attivit\xe0"),h()(),c(422,"div",143)(423,"label",162),v(424,"Stato"),h(),c(425,"div",16)(426,"select",210)(427,"option",211),v(428,"Da completare"),h(),c(429,"option",212),v(430,"Completato"),h(),c(431,"option",146),v(432,"In corso"),h(),c(433,"option",213),v(434,"Non iniziato"),h(),c(435,"option",214),v(436,"In attesa"),h(),c(437,"option",215),v(438,"Scaduto"),h()()()(),c(439,"div",143)(440,"label",162),v(441,"Priorit\xe0"),h(),c(442,"div",16)(443,"select",216)(444,"option",217),v(445,"Alta"),h(),c(446,"option",218),v(447,"Media"),h(),c(448,"option",219),v(449,"Bassa"),h()()()(),c(450,"button",175),fn("click",function(){return i.addWorkActivity()}),v(451,"Aggiungi attivit\xe0"),h()(),c(452,"div",177)(453,"table",178)(454,"thead",179)(455,"tr")(456,"th",220),v(457,"Attivit\xe0"),h(),c(458,"th",221),v(459,"Stato"),h(),c(460,"th",221),v(461,"Priorit\xe0"),h(),c(462,"th",221),v(463,"Azioni"),h()()(),c(464,"tbody"),$i(465,x_e,16,5,"tr",182),zc(466,"async"),h()()(),c(467,"div",183)(468,"button",184),fn("click",function(){return i.getMoreWorkActivities()}),v(469,"Carica altri"),h()()(),c(470,"div",222)(471,"h3",153),v(472,"Spesa lavoro"),h(),c(473,"span",154),v(474,"expand_more"),h()(),c(475,"div",223)(476,"div",224)(477,"div",156)(478,"div",159),ht(479,"input",225),c(480,"label",226),v(481,"N.Articoli"),h()(),c(482,"div",227),ht(483,"input",228),c(484,"label",229),v(485,"Descrizione"),h()(),c(486,"div",230),ht(487,"input",231),c(488,"label",232),v(489,"Costo unitario (\u20ac)"),h()(),c(490,"div",143)(491,"label",162),v(492,"Stato"),h(),c(493,"div",16)(494,"select",233)(495,"option",234),v(496,"Da ordinare"),h(),c(497,"option",235),v(498,"Ordinato"),h(),c(499,"option",236),v(500,"In arrivo"),h(),c(501,"option",237),v(502,"Arrivato"),h()()()(),c(503,"button",175),fn("click",function(){return i.addCost()}),v(504,"Aggiungi spesa"),h()(),c(505,"strong",238),v(506,"Spesa totale:"),h(),c(507,"strong",239),v(508,"Articoli da ordinare: "),h(),c(509,"div",177)(510,"table",178)(511,"thead",179)(512,"tr")(513,"th",180),v(514,"N.Articoli"),h(),c(515,"th",180),v(516,"Descrizione"),h(),c(517,"th",181),v(518,"Costo unitario"),h(),c(519,"th",181),v(520,"Costo totale"),h(),c(521,"th",181),v(522,"Stato"),h(),c(523,"th",181),v(524,"Azioni"),h()()(),c(525,"tbody"),$i(526,F_e,18,5,"tr",182),zc(527,"async"),h()(),c(528,"div",183)(529,"button",184),fn("click",function(){return i.getMoreWorkCosts()}),v(530,"Carica altri"),h()()()()()(),c(531,"div",240)(532,"div",241)(533,"button",242),fn("click",function(){return i.saveWork()}),v(534,"Salva lavoro"),h(),c(535,"button",243),v(536,"Annulla lavoro"),h()(),ht(537,"div",244),c(538,"div",245)(539,"h3",246),v(540,"Modifica lavoro"),h()()()()),2&r&&(jt(363),Kr("ngForOf",OA(364,3,i.documentsInstallments)),jt(102),Kr("ngForOf",OA(466,5,i.documentsActivities)),jt(61),Kr("ngForOf",OA(527,7,i.documentsCosts)))},dependencies:[Wc,vh,Ed,_u,QA,HA,Wp]}),e})(),R_e=(()=>{var t;class e{constructor(r,i,o,s){this.firestore=r,this.generalService=i,this.location=o,this.router=s}ngOnInit(){this.generalService.currentInstallment||this.router.navigate(["/home"]),document.getElementById("change-installment-name-input").value=this.generalService.currentInstallment.name,document.getElementById("change-installment-amount-input").value=this.generalService.currentInstallment.amount,document.getElementById("change-installment-fatturata-input").value=this.generalService.currentInstallment.fatturata,document.getElementById("change-installment-data-fattura-input").value=this.generalService.currentInstallment.data_fattura,document.getElementById("change-installment-incassata-input").value=this.generalService.currentInstallment.incassata,document.getElementById("change-installment-data-incasso-input").value=this.generalService.currentInstallment.data_incasso}changeInstallment(){this.newInstallment={name:document.getElementById("change-installment-name-input").value,amount:document.getElementById("change-installment-amount-input").value,fatturata:document.getElementById("change-installment-fatturata-input").value,data_fattura:document.getElementById("change-installment-data-fattura-input").value,incassata:document.getElementById("change-installment-incassata-input").value,data_incasso:document.getElementById("change-installment-data-incasso-input").value},this.firestore.collection("installments").doc(this.generalService.currentInstallment.id).update(this.newInstallment).then(()=>{this.updateAnnualCounter(),this.updateMonthlyCounter(),this.updateSpecificAnnualCounter(),this.updateSpecificMonthlyCounter(),this.location.back(),this.generalService.presentToast("Rata salvata con successo")}).catch(r=>{this.generalService.presentToast("Errore durante il salvataggio della rata: "+r.message)})}goBack(){this.location.back()}updateAnnualCounter(){const r=this.generalService.currentInstallment,i=this.newInstallment,o=(new Date).getFullYear().toString(),s="/counters/"+this.generalService.currentChangingElement+"/"+o+"/general/total/",a=Cn.A.database().ref(s);this.updateCounter(a,r,i)}updateMonthlyCounter(){const r=this.generalService.currentInstallment,i=this.newInstallment,o=(new Date).getFullYear().toString(),s=((new Date).getMonth()+1).toString(),a="/counters/"+this.generalService.currentChangingElement+"/"+o+"/general/"+s+"/",l=Cn.A.database().ref(a);this.updateCounter(l,r,i)}updateSpecificMonthlyCounter(){const r=this.generalService.currentInstallment,i=this.newInstallment,o=(new Date).getFullYear().toString(),s=((new Date).getMonth()+1).toString();this.refPathSpecificCounter="worksites"==this.generalService.currentChangingElement?"/counters/"+this.generalService.currentChangingElement+"/"+o+"/"+this.generalService.currentWorksite.id+"/"+s+"/":"/counters/"+this.generalService.currentChangingElement+"/"+o+"/"+this.generalService.currentWork.id+"/"+s+"/";const a=Cn.A.database().ref(this.refPathSpecificCounter);this.updateCounter(a,r,i)}updateSpecificAnnualCounter(){const r=this.generalService.currentInstallment,i=this.newInstallment,o=(new Date).getFullYear().toString();((new Date).getMonth()+1).toString(),this.refPathSpecificCounter="worksites"==this.generalService.currentChangingElement?"/counters/"+this.generalService.currentChangingElement+"/"+o+"/"+this.generalService.currentWorksite.id+"/total/":"/counters/"+this.generalService.currentChangingElement+"/"+o+"/"+this.generalService.currentWork.id+"/total/";const a=Cn.A.database().ref(this.refPathSpecificCounter);this.updateCounter(a,r,i)}updateCounter(r,i,o){if("fatturata"===o.fatturata){const s=parseFloat(o.amount)-("fatturata"===i.fatturata?parseFloat(i.amount):0);r.child("fatturato").transaction(a=>(parseFloat(a)||0)+s)}else"fatturata"===i.fatturata&&r.child("fatturato").transaction(s=>(parseFloat(s)||0)-parseFloat(i.amount));if("incassata"===o.incassata){const s=parseFloat(o.amount)-("incassata"===i.incassata?parseFloat(i.amount):0);r.child("incasso").transaction(a=>(parseFloat(a)||0)+s)}else"incassata"===i.incassata&&r.child("incasso").transaction(s=>(parseFloat(s)||0)-parseFloat(i.amount))}}return(t=e).\u0275fac=function(r){return new(r||t)(Y(Zl),Y(xa),Y(gh),Y(zo))},t.\u0275cmp=ee({type:t,selectors:[["app-change-installment"]],decls:42,vars:0,consts:[[2,"width","100%","height","100%","display","flex","flex-direction","column","overflow-y","auto","overflow-x","hidden","position","absolute","background","white","z-index","9999"],[2,"width","100%","display","flex","flex-direction","row","align-items","center","padding-bottom","1rem","flex-shrink","0","padding-left","1rem"],["name","chevron-back",2,"cursor","pointer","font-size","1.8rem",3,"click"],[2,"width","100%","display","flex","flex-direction","row","align-items","center","gap","1rem","padding-left","1rem","flex-wrap","wrap","padding-bottom","2rem"],[1,"inputGroup"],["id","change-installment-name-input","type","text",1,"input-field3"],["for","change-installment-name-input"],[1,"inputGroup",2,"width","8rem"],["id","change-installment-amount-input","type","number",1,"input-field3"],["for","change-installment-amount-input"],[2,"display","flex","flex-direction","column","margin-top","0.4rem"],[2,"margin-bottom","-1.5rem","z-index","2","background","white","margin-left","1.5rem","font-size","14px","color","rgb(100, 100, 100)","width","8rem","text-align","center"],["id","change-installment-fatturata-input",1,"selector1",2,"width","100%"],["value","non_fatturata"],["value","fatturata"],["id","change-installment-data-fattura-input","type","date",1,"input-field3"],["for","change-installment-data-fattura-input"],[2,"display","flex","flex-direction","column","margin-top","0.4rem","width","8rem"],[2,"margin-bottom","-1.5rem","z-index","2","background","white","margin-left","1.5rem","font-size","14px","color","rgb(100, 100, 100)","width","auto"],["id","change-installment-incassata-input",1,"selector1",2,"width","100%"],["value","non_incassata"],["value","incassata"],["id","change-installment-data-incasso-input","type","date",1,"input-field3"],["for","change-installment-data-incasso-input"],[1,"button5",2,"height","3rem","padding-left","0.5rem","padding-right","0.5rem","margin-top","1rem","margin-bottom","1rem","width","8rem","height","3rem",3,"click"]],template:function(r,i){1&r&&(c(0,"div",0)(1,"div",1)(2,"ion-icon",2),fn("click",function(){return i.goBack()}),h(),c(3,"h3"),v(4,"Modifica rata"),h()(),c(5,"div",3)(6,"div",4),ht(7,"input",5),c(8,"label",6),v(9,"Nome"),h()(),c(10,"div",7),ht(11,"input",8),c(12,"label",9),v(13,"Importo (\u20ac)"),h()(),c(14,"div",10)(15,"label",11),v(16,"Stato fatturazione"),h(),c(17,"div",4)(18,"select",12)(19,"option",13),v(20,"Non fatturata"),h(),c(21,"option",14),v(22,"Fatturata"),h()()()(),c(23,"div",4),ht(24,"input",15),c(25,"label",16),v(26,"Data fattura"),h()(),c(27,"div",17)(28,"label",18),v(29,"Stato incasso"),h(),c(30,"div",4)(31,"select",19)(32,"option",20),v(33,"Non incassata"),h(),c(34,"option",21),v(35,"Incassata"),h()()()(),c(36,"div",4),ht(37,"input",22),c(38,"label",23),v(39,"Data incasso"),h()(),c(40,"button",24),fn("click",function(){return i.changeInstallment()}),v(41,"Salva rata"),h()()())},dependencies:[Yl,QA,HA]}),e})(),P_e=(()=>{var t;class e{constructor(r,i,o){this.firestore=r,this.generalService=i,this.location=o}ngOnInit(){document.getElementById("change-cost-articles-number-input").value=this.generalService.currentCost.articles_number,document.getElementById("change-cost-description-input").value=this.generalService.currentCost.description,document.getElementById("change-cost-cost-input").value=this.generalService.currentCost.cost,document.getElementById("change-cost-status-input").value=this.generalService.currentCost.status,this.cost=parseFloat(this.generalService.currentCost.cost)*parseFloat(this.generalService.currentCost.articles_number)}goBack(){this.location.back()}changeCost(){this.newCost=parseFloat(document.getElementById("change-cost-cost-input").value)*parseFloat(document.getElementById("change-cost-articles-number-input").value);const r=document.getElementById("change-cost-articles-number-input"),i=document.getElementById("change-cost-description-input"),o=document.getElementById("change-cost-cost-input"),s=document.getElementById("change-cost-status-input");if(!(r&&i&&o&&s))return void this.generalService.presentToast("Errore: uno o pi\xf9 campi di input non trovati.");const a=r.value,l=i.value,u=parseFloat(o.value),p=s.value;this.updateAnnualCounter(),this.updateMonthlyCounter(),this.updateSpecificAnnualCounter(),this.updateSpecificMonthlyCounter(),this.firestore.collection("costs").doc(this.generalService.currentCost.id).update({articles_number:a,description:l,cost:u,status:p}).then(()=>{this.location.back(),this.generalService.presentToast("Spesa salvata con successo")}).catch(I=>{this.generalService.presentToast("Errore durante il salvataggio della spesa: "+I.message)})}updateAnnualCounter(){const r=(new Date).getFullYear().toString(),i=`/counters/${this.generalService.currentChangingElement}/${r}/general/total/`,o=Cn.A.database().ref(i);this.updateCounter(o,this.cost,this.newCost)}updateMonthlyCounter(){const r=(new Date).getFullYear().toString(),i=((new Date).getMonth()+1).toString(),o=`/counters/${this.generalService.currentChangingElement}/${r}/general/${i}/`,s=Cn.A.database().ref(o);this.updateCounter(s,this.cost,this.newCost)}updateSpecificMonthlyCounter(){const r=(new Date).getFullYear().toString(),i=((new Date).getMonth()+1).toString();let o;o="worksites"===this.generalService.currentChangingElement?`/counters/${this.generalService.currentChangingElement}/${r}/${this.generalService.currentWorksite.id}/${i}/`:`/counters/${this.generalService.currentChangingElement}/${r}/${this.generalService.currentWork.id}/${i}/`;const s=Cn.A.database().ref(o);this.updateCounter(s,this.cost,this.newCost)}updateSpecificAnnualCounter(){const r=(new Date).getFullYear().toString();let i;i="worksites"===this.generalService.currentChangingElement?`/counters/${this.generalService.currentChangingElement}/${r}/${this.generalService.currentWorksite.id}/total/`:`/counters/${this.generalService.currentChangingElement}/${r}/${this.generalService.currentWork.id}/total/`;const o=Cn.A.database().ref(i);this.updateCounter(o,this.cost,this.newCost)}updateCounter(r,i,o){r.child("spesa").transaction(s=>{const a=parseFloat(s||0)-parseFloat(i)+parseFloat(o||0);return isNaN(a)?0:a})}}return(t=e).\u0275fac=function(r){return new(r||t)(Y(Zl),Y(xa),Y(gh))},t.\u0275cmp=ee({type:t,selectors:[["app-change-cost"]],decls:31,vars:0,consts:[[2,"width","100%","height","100%","display","flex","flex-direction","column","overflow-y","auto"],[2,"display","flex","flex-direction","row","align-items","center"],["name","chevron-back",2,"cursor","pointer","font-size","1.8rem",3,"click"],[2,"width","100%","display","flex","flex-direction","row","align-items","center","gap","1rem","padding-left","1rem","flex-wrap","wrap","padding-bottom","2rem"],[1,"inputGroup",2,"width","8rem"],["id","change-cost-articles-number-input","type","number",1,"input-field3"],["for","change-cost-articles-number-input"],[1,"inputGroup",2,"width","15rem"],["id","change-cost-description-input","type","text",1,"input-field3"],["for","change-cost-description-input"],[1,"inputGroup",2,"width","12rem"],["id","change-cost-cost-input","type","number",1,"input-field3"],["for","change-cost-cost-input"],[2,"display","flex","flex-direction","column","margin-top","0.4rem"],[2,"margin-bottom","-1.5rem","z-index","2","background","white","margin-left","1.5rem","font-size","14px","color","rgb(100, 100, 100)","width","8rem","text-align","center"],[1,"inputGroup"],["id","change-cost-status-input",1,"selector1",2,"width","100%"],["value","to-order"],["value","arriving"],["value","arrived"],[1,"button5",2,"height","3rem","padding-left","0.5rem","padding-right","0.5rem","margin-top","1rem","margin-bottom","1rem","width","8rem","height","3rem",3,"click"]],template:function(r,i){1&r&&(c(0,"div",0)(1,"div",1)(2,"ion-icon",2),fn("click",function(){return i.goBack()}),h(),c(3,"h3"),v(4,"Modifica spesa"),h()(),c(5,"div",3)(6,"div",4),ht(7,"input",5),c(8,"label",6),v(9,"N.Articoli"),h()(),c(10,"div",7),ht(11,"input",8),c(12,"label",9),v(13,"Descrizione"),h()(),c(14,"div",10),ht(15,"input",11),c(16,"label",12),v(17,"Costo unitario (\u20ac)"),h()(),c(18,"div",13)(19,"label",14),v(20,"Stato"),h(),c(21,"div",15)(22,"select",16)(23,"option",17),v(24,"Da ordinare"),h(),c(25,"option",18),v(26,"In arrivo"),h(),c(27,"option",19),v(28,"Arrivato"),h()()()(),c(29,"button",20),fn("click",function(){return i.changeCost()}),v(30,"Salva spesa"),h()()())},dependencies:[Yl,QA,HA]}),e})(),N_e=(()=>{var t;class e{constructor(r,i,o){this.firestore=r,this.generalService=i,this.location=o}ngOnInit(){document.getElementById("change-activity-name-input").value=this.generalService.currentActivity.activity,document.getElementById("change-activity-status-input").value=this.generalService.currentActivity.status,document.getElementById("change-activity-priority-input").value=this.generalService.currentActivity.priority}changeActivity(){this.firestore.collection("activities").doc(this.generalService.currentActivity.id).update({activity:document.getElementById("change-activity-name-input").value,status:document.getElementById("change-activity-status-input").value,priority:document.getElementById("change-activity-priority-input").value}).then(()=>{this.generalService.presentToast("Attivit\xe0 salvata con successo")}).catch(r=>{this.generalService.presentToast("Errore durante il salvataggio dell'attivit\xe0: "+r.message)})}goBack(){this.location.back()}}return(t=e).\u0275fac=function(r){return new(r||t)(Y(Zl),Y(xa),Y(gh))},t.\u0275cmp=ee({type:t,selectors:[["app-change-activity"]],decls:40,vars:0,consts:[[2,"width","100%","height","100%","display","flex","flex-direction","column","overflow-y","auto","overflow-x","hidden","position","absolute","background","white","z-index","9999"],[2,"width","100%","display","flex","flex-direction","row","align-items","center","padding-bottom","1rem","flex-shrink","0","padding-left","1rem"],["name","chevron-back",2,"cursor","pointer","font-size","1.8rem",3,"click"],[2,"width","100%","display","flex","flex-direction","row","align-items","center","gap","1rem","padding-left","1rem","flex-wrap","wrap","padding-bottom","1rem"],[1,"inputGroup"],["id","change-activity-name-input","type","text",1,"input-field3"],["for","change-activity-name-input"],[2,"display","flex","flex-direction","column","margin-top","0.4rem"],[2,"margin-bottom","-1.5rem","z-index","2","background","white","margin-left","1.5rem","font-size","14px","color","rgb(100, 100, 100)","width","8rem","text-align","center"],["id","change-activity-status-input",1,"selector1",2,"width","100%"],["value","to-do"],["value","completed"],["value","doing"],["value","not_started"],["value","pending"],["value","timed_out"],["id","change-activity-priority-input",1,"selector1",2,"width","100%"],["value","3"],["value","2"],["value","1"],[1,"button5",2,"height","3rem","padding-left","0.5rem","padding-right","0.5rem","margin-top","1rem","margin-bottom","1rem","width","8rem","height","3rem",3,"click"]],template:function(r,i){1&r&&(c(0,"div",0)(1,"div",1)(2,"ion-icon",2),fn("click",function(){return i.goBack()}),h(),c(3,"h3"),v(4,"Modifica attivit\xe0"),h()(),c(5,"div",3)(6,"div",4),ht(7,"input",5),c(8,"label",6),v(9,"Attivit\xe0"),h()(),c(10,"div",7)(11,"label",8),v(12,"Stato"),h(),c(13,"div",4)(14,"select",9)(15,"option",10),v(16,"Da completare"),h(),c(17,"option",11),v(18,"Completato"),h(),c(19,"option",12),v(20,"In corso"),h(),c(21,"option",13),v(22,"Non iniziato"),h(),c(23,"option",14),v(24,"In attesa"),h(),c(25,"option",15),v(26,"Scaduto"),h()()()(),c(27,"div",7)(28,"label",8),v(29,"Priorit\xe0"),h(),c(30,"div",4)(31,"select",16)(32,"option",17),v(33,"Alta"),h(),c(34,"option",18),v(35,"Media"),h(),c(36,"option",19),v(37,"Bassa"),h()()()(),c(38,"button",20),fn("click",function(){return i.changeActivity()}),v(39,"Salva attivit\xe0"),h()()())},dependencies:[Yl,QA,HA]}),e})();function M_e(t,e){if(1&t){const n=fs();c(0,"tr")(1,"td",37)(2,"input",38),Dl("ngModelChange",function(i){const o=ln(n).$implicit;return Kl(o.column1,i)||(o.column1=i),En(i)}),h()(),c(3,"td",37)(4,"input",38),Dl("ngModelChange",function(i){const o=ln(n).$implicit;return Kl(o.column3,i)||(o.column3=i),En(i)}),h()(),c(5,"td",37)(6,"input",38),Dl("ngModelChange",function(i){const o=ln(n).$implicit;return Kl(o.column3,i)||(o.column3=i),En(i)}),h()(),c(7,"td",37),ht(8,"input",39),zc(9,"number"),h()()}if(2&t){const n=e.$implicit;ul("data-index",e.index),jt(2),Bl("ngModel",n.column1),jt(2),Bl("ngModel",n.column3),jt(2),Bl("ngModel",n.column3),jt(2),Qv("value","",VC(9,6,n.column2*n.column3,"1.2-2")," \u20ac")}}let L_e=(()=>{var t;class e{constructor(r,i){this.firestore=r,this.generalService=i,this.preventive=this.generalService.currentPreventive,this.rows=this.preventive.rows}ngOnInit(){document.getElementById("preventive-place-input3").value=this.preventive.place,document.getElementById("preventive-date-input3").value=this.preventive.date,document.getElementById("preventive-number-input3").value=this.preventive.number,document.getElementById("preventive-number-year-input3").value=this.preventive.number_year,document.getElementById("preventive-recipient-input3").value=this.preventive.recipient,document.getElementById("preventive-p-iva-input3").value=this.preventive.p_iva,document.getElementById("preventive-registered-office-input3").value=this.preventive.registered_office,document.getElementById("preventive-object-input3").value=this.preventive.object,document.getElementById("preventive-description-input3").value=this.preventive.description}calcolaColumn4(r){return r.column2*r.column3}calcolaTotaleColumn4(){let r=0;return this.rows.forEach(i=>{r+=this.calcolaColumn4(i)}),+r.toFixed(2)}exportPreventivePdf(){var r=document.getElementById("preventive-place-input3"),i=document.getElementById("preventive-date-input3"),o=document.getElementById("preventive-number-input3"),s=document.getElementById("preventive-recipient-input3"),a=document.getElementById("preventive-p-iva-input3"),l=document.getElementById("preventive-registered-office-input3"),u=document.getElementById("preventive-object-input3"),p=document.getElementById("preventive-description-input3");const I=new aE.default;I.setFontSize(10),I.addImage("assets/images/logo.png","PNG",10,10,80,40);const k=I.internal.pageSize.height;let O=60;I.text(r.value+"  "+i.value,I.internal.pageSize.width-10,O,{align:"right"}),O+=10,I.text("Numero preventivo: "+o.value,I.internal.pageSize.width-10,O,{align:"right"}),O+=10,I.text("Spett.le: "+s.value,I.internal.pageSize.width-10,O,{align:"right"}),O+=10,I.text("P.Iva: "+a.value,I.internal.pageSize.width-10,O,{align:"right"}),O+=10,I.text("Indirizzo sede legale: "+l.value,I.internal.pageSize.width-10,O,{align:"right"}),O+=20,I.text("Oggetto: "+u.value,10,O,{maxWidth:I.internal.pageSize.width-10}),O+=10,I.text("Descrizione: "+p.value,10,O,{maxWidth:I.internal.pageSize.width-10}),O+=20;const q=this.rows.map(Ut=>[Ut.column1,Ut.column2.toString(),Ut.column3.toString(),"\u20ac"+this.calcolaColumn4(Ut)]);I.autoTable({head:[["Descrizione","Prezzo","Quantit\xe0","Importo"]],body:q,startY:O,margin:{top:20}});const Be=this.calcolaTotaleColumn4();O=k-50,I.text("TOTALE PREVENTIVO: \u20ac"+Be,I.internal.pageSize.width-60,O),O-=10,I.text("I prezzi sono da considerarsi IVA esclusa (22%)",10,O),O-=-30;const Ye=I.internal.pageSize.width-60;I.text("Firma per accettazione",Ye,O);const Bt=12*I.getStringUnitWidth("Firma per accettazione");I.setLineWidth(.5),I.line(Ye,O+3,Ye+Bt,O+3),I.save("AllGreen-Preventivo.pdf")}}return(t=e).\u0275fac=function(r){return new(r||t)(Y(Zl),Y(xa))},t.\u0275cmp=ee({type:t,selectors:[["app-see-preventive"]],decls:60,vars:2,consts:[["id","add-preventive",2,"height","100%","width","100%","display","flex","flex-direction","column","padding-left","1rem","overflow-y","auto","overflow-x","hidden","padding-bottom","7rem"],[2,"display","flex","flex-direction","row","align-items","center"],["routerLink","/preventives","name","chevron-back",2,"cursor","pointer","font-size","1.8rem"],["src","assets\\images\\logo.jpg","alt","",2,"width","18rem","margin-left","2rem","margin-top","2rem"],[2,"display","flex","flex-direction","column","justify-content","end","width","100%","padding-top","2rem","padding-right","2rem"],[2,"display","flex","flex-direction","row","justify-content","end","width","100%","gap","1rem","height","3rem"],["id","preventive-place-input3","readonly","","value","Trieste","type","text",1,"input-field1",2,"width","8rem"],["id","preventive-date-input3","readonly","","type","date",1,"input-field1"],[2,"display","flex","flex-direction","row","justify-content","end","align-items","center","gap","1rem","height","3rem","padding-bottom","2rem"],["for","preventive-number-input3",2,"margin-top","0.5rem","margin-bottom","0.2rem","margin-right","0.5rem"],["id","preventive-number-input3","readonly","","type","number",1,"input-field1",2,"width","5rem"],[2,"font-weight","bold","font-size","2rem"],["id","preventive-number-year-input3","readonly","","value","0","type","number",1,"input-field1",2,"width","5rem"],[2,"display","flex","flex-direction","row","justify-content","end","align-items","center","gap","1rem","height","3rem"],["for","preventive-recipient-input3",2,"margin-top","0.5rem","margin-bottom","0.2rem","margin-right","0.5rem"],["id","preventive-recipient-input3","readonly","","value","Comune di Spilimbergo","type","text",1,"input-field1"],["for","preventive-p-iva-input3",2,"margin-top","0.5rem","margin-bottom","0.2rem","margin-right","0.5rem"],["id","preventive-p-iva-input3","readonly","","type","text",1,"input-field1"],["for","preventive-registered-office-input3",2,"margin-top","0.5rem","margin-bottom","0.2rem","margin-right","0.5rem"],["id","preventive-registered-office-input3","readonly","","value","Piazzetta Tiepolo , 1 33097","type","text",1,"input-field1"],[2,"display","flex","flex-direction","start","justify-content","end","align-items","center","gap","1rem","height","3rem","margin-top","3rem"],["for","preventive-object-input3",2,"margin-top","0.5rem","margin-bottom","0.2rem","margin-right","0.5rem","font-weight","bold"],["id","preventive-object-input3","readonly","","value","FORNITURA E POSA IMPIANTO DI IRRIGAZIONE","type","text",1,"input-field1",2,"width","100%"],["id","preventive-description-input3","readonly","","value","Come da Vostra richiesta, inviamo la nostra migliore offerta per le seguenti lavorazioni.","type","text",1,"input-field1",2,"width","100%","margin-bottom","2rem"],[1,"table-container"],[1,"table"],[1,"table-th",2,"width","40rem"],[1,"table-th"],[1,"table-th",2,"width","10rem !important"],[4,"ngFor","ngForOf"],["id","totale-column4",2,"font-weight","bold","width","100%","text-align","end"],[2,"margin-top","1rem","margin-bottom","1rem"],[2,"width","100%","text-align","end","text-decoration","underline"],[2,"display","flex","flex-direction","column-reverse","width","100%","position","absolute","z-index","2","pointer-events","none","height","100%"],[2,"width","calc( 100% - 2rem )","display","grid","grid-template-columns","repeat(auto-fit, minmax(200px, 1fr))","gap","1rem","background","white","padding-bottom","1rem","padding-top","1rem","pointer-events","all"],[1,"button1",3,"click"],["routerLink","/preventives",1,"button1",2,"margin-right","1rem"],[1,"table-td"],["readonly","","type","text",1,"form-control",3,"ngModelChange","ngModel"],["readonly","","type","text",1,"form-control",3,"value"]],template:function(r,i){1&r&&(c(0,"div",0)(1,"div",1),ht(2,"ion-icon",2),c(3,"h3"),v(4,"Modifica preventivo"),h()(),ht(5,"img",3),c(6,"div",4)(7,"div",5),ht(8,"input",6)(9,"input",7),h(),c(10,"div",8)(11,"label",9),v(12,"Preventivo N."),h(),ht(13,"input",10),c(14,"p",11),v(15,"/"),h(),ht(16,"input",12),h(),c(17,"div",13)(18,"label",14),v(19,"Spett.le"),h(),ht(20,"input",15),h(),c(21,"div",13)(22,"label",16),v(23,"P.iva"),h(),ht(24,"input",17),h(),c(25,"div",13)(26,"label",18),v(27,"Indirizzo sede legale"),h(),ht(28,"input",19),h(),c(29,"div",20)(30,"label",21),v(31,"Oggetto:"),h(),ht(32,"input",22),h(),ht(33,"input",23),c(34,"div",24)(35,"table",25)(36,"thead")(37,"tr")(38,"th",26),v(39,"Lavorazione"),h(),c(40,"th",27),v(41,"Prezzo Unitario"),h(),c(42,"th",28),v(43,"Q.ta"),h(),c(44,"th",27),v(45,"Importo"),h()()(),c(46,"tbody"),$i(47,M_e,10,9,"tr",29),h()()(),c(48,"p",30),v(49),h(),c(50,"strong",31),v(51,"I prezzi sono da considerarsi IVA esclusa (22%)"),h(),c(52,"p",32),v(53,"Firma per accettazione"),h()(),c(54,"div",33)(55,"div",34)(56,"button",35),fn("click",function(){return i.exportPreventivePdf()}),v(57,"Esporta"),h(),c(58,"button",36),v(59,"Annulla"),h()()()()),2&r&&(jt(47),Kr("ngForOf",i.rows),jt(2),zp("TOTALE PREVENTIVO: ",i.calcolaTotaleColumn4()," \u20ac"))},dependencies:[Wc,Yl,Ed,_u,im,Yv,om,cb]}),e})();var lE=_t(5845);function O_e(t,e){1&t&&(c(0,"div",12)(1,"div",13)(2,"h1",14),v(3,"Timbrature"),h(),c(4,"p",15),v(5,"Totale ore di presenza: "),ht(6,"strong",16),h(),c(7,"p",15),v(8,"Totale ore di pausa: "),ht(9,"strong",17),h(),c(10,"p",15),v(11,"Totale ore di lavoro effettive: "),ht(12,"strong",18),h()()())}function U_e(t,e){if(1&t&&(c(0,"option",42),v(1),h()),2&t){const n=e.$implicit;VS("value",n.uid),jt(),ar(n.name)}}function V_e(t,e){if(1&t){const n=fs();c(0,"div",19)(1,"div",20)(2,"label",21),v(3,"Ordina"),h(),c(4,"div",22)(5,"select",23)(6,"option",24),v(7,"Dal pi\xf9 recente"),h(),c(8,"option",25),v(9,"Dal pi\xf9 vecchio"),h()()()(),c(10,"div",20)(11,"label",26),v(12,"Dipendente"),h(),c(13,"div",22)(14,"select",27)(15,"option",28),v(16,"Tutti"),h(),$i(17,U_e,2,2,"option",29),h()()(),c(18,"div",30)(19,"div",31),ht(20,"input",32),c(21,"label",33),v(22,"Filtra data"),h()(),c(23,"div",34)(24,"div",35),ht(25,"input",36),c(26,"label",37),v(27,"Data Inizio"),h()(),c(28,"div",35),ht(29,"input",38),c(30,"label",39),v(31,"Data Fine"),h()()()(),c(32,"button",40),fn("click",function(){ln(n);const i=ki();return i.getTimbrature(),En(i.refreshCounters())}),v(33,"Cerca"),h(),c(34,"span",41),fn("click",function(){return ln(n),En(ki().downloadTimbratureAsCSV())}),v(35,"download"),h()()}if(2&t){const n=ki();jt(17),Kr("ngForOf",n.usersData)}}function Q_e(t,e){1&t&&(c(0,"th",7),v(1,"Azioni"),h())}function H_e(t,e){if(1&t&&(c(0,"span"),v(1),h()),2&t){const n=ki().$implicit;jt(),zp("Si => ",n.absence_motivation,"")}}function j_e(t,e){1&t&&(c(0,"span"),v(1,"No"),h())}function z_e(t,e){if(1&t){const n=fs();c(0,"div",47)(1,"button",48),fn("click",function(){return ln(n),En(ki(2).changeTimbratura())}),c(2,"span",49),v(3,"edit"),h()(),c(4,"button",48),fn("click",function(){ln(n);const i=ki(),o=i.$implicit,s=i.index;return En(ki().deleteTimbratura(o,s))}),c(5,"span",49),v(6,"delete"),h()()()}}function $_e(t,e){if(1&t&&(c(0,"tr",43)(1,"td",44),v(2),h(),c(3,"td",44),v(4),h(),c(5,"td",44),$i(6,H_e,2,1,"span",45)(7,j_e,2,0,"span",45),h(),c(8,"td",44),v(9),h(),c(10,"td",44),v(11),h(),c(12,"td",44),v(13),h(),c(14,"td",44),$i(15,z_e,7,0,"div",46),h()()),2&t){const n=e.$implicit,r=ki();jt(2),ar(n.name_surname),jt(2),ar(n.date),jt(2),Kr("ngIf",1==n.absence),jt(),Kr("ngIf",0==n.absence),jt(2),OC("",n.break_start_hour," => ",n.break_end_hour,""),jt(2),OC("",n.work_start_hour," => ",n.work_end_hour,""),jt(2),ar(r.calculateTotalWorkTime(n)),jt(2),Kr("ngIf","admin"==r.generalService.currentUserRole)}}const G_e=[{path:"",redirectTo:"splash",pathMatch:"full"},{path:"splash",component:Cye},{path:"log",component:l_e},{path:"login",component:u_e},{path:"register",component:c_e},{path:"welcome",component:d_e},{path:"home",component:xye},{path:"worksites",component:kye},{path:"works",component:Pye},{path:"preventives",component:__e},{path:"people",component:C_e},{path:"add",component:Uye},{path:"add-worksite",component:Kye},{path:"add-preventive",component:Qye},{path:"add-corretta-posa",component:Zye},{path:"add-work",component:s_e},{path:"add-timbratura",component:a_e},{path:"see-preventive",component:L_e},{path:"timbrature",component:(()=>{var t;class e{constructor(r,i,o){this.generalService=r,this.firestore=i,this.router=o,this.documents=new J([]),this.nextPageAvailable=!0,this.currentFetchingTimbratureType="",this.usersData=[]}ngOnInit(){setTimeout(()=>{if("admin"==this.generalService.currentUserRole){const r=new Date;r.setMonth(r.getMonth()-1);const i=r.toISOString().split("T")[0];document.getElementById("timbrature-start-date-input").value=i,document.getElementById("timbrature-end-date-input").value=(new Date).toISOString().split("T")[0],this.getTimbrature(),this.getUsers(),setTimeout(()=>{this.refreshCounters()},500)}else this.getMyTimbrature()},2e3)}getUsers(){Cn.A.database().ref("users_data").once("value").then(r=>{const i=r.val();this.usersData=Object.values(i)}).catch(r=>{this.generalService.presentToast("Errore nel recuperare il personale: "+r.message)})}getMyTimbrature(){this.currentFetchingTimbratureType="mine";const r=(0,lE.o)();(0,lE.y)(r,i=>{i?this.firestore.collection("timbrature",o=>o.orderBy("timestamp","desc").where("creator_uid","==",i.uid).limit(8)).get().subscribe(o=>{const s=o.docs.map(a=>({id:a.id,...a.data()}));4===s.length?this.lastVisible=o.docs[o.docs.length-1]:this.nextPageAvailable=!1,this.documents.next(s)}):(this.router.navigate(["/log"]),this.generalService.presentToast("Effettuare l'accesso per continuare"))})}getTimbrature(){const r=document.getElementById("timbrature-order-selector"),i=document.getElementById("timbrature-user-selector"),o=document.getElementById("timbrature-date-checkbox-input"),s=document.getElementById("timbrature-start-date-input"),a=document.getElementById("timbrature-end-date-input");let l=this.firestore.collection("timbrature").ref;""!=i.value&&(l=l.where("creator_uid","==",i.value)),o.checked&&(l=l.where("date_timestamp_ms",">=",new Date(s.value).getTime()),l=l.where("date_timestamp_ms","<=",new Date(a.value).getTime())),l=l.orderBy("timestamp",r.value).limit(8),this.currentFetchingTimbratureType="all",l.get().then(u=>{const p=u.docs.map(I=>({id:I.id,...I.data()}));4===p.length?this.lastVisible=u.docs[u.docs.length-1]:this.nextPageAvailable=!1,this.documents.next(p)}).catch(u=>{console.error("Errore nel recupero delle timbrature:",u)})}getMoreTimbrature(){if(!this.lastVisible||!this.nextPageAvailable)return;const r=document.getElementById("timbrature-order-selector"),i=document.getElementById("timbrature-user-selector"),o=document.getElementById("timbrature-date-checkbox-input"),s=document.getElementById("timbrature-start-date-input"),a=document.getElementById("timbrature-end-date-input"),l=(0,lE.o)();(0,lE.y)(l,u=>{if(u){let p=this.firestore.collection("timbrature").ref;"all"!=i.value&&(p=p.where("creator_uid","==",i.value)),o.checked&&(p=p.where("date_timestamp_ms",">=",new Date(s.value).getTime()),p=p.where("date_timestamp_ms","<=",new Date(a.value).getTime())),p=p.orderBy("timestamp",r.value).limit(8).startAfter(this.lastVisible),p.get().then(I=>{const k=I.docs.map(O=>({id:O.id,...O.data()}));if(k.length>0){const q=[...this.documents.getValue(),...k];this.documents.next(q),4===k.length?this.lastVisible=I.docs[I.docs.length-1]:this.nextPageAvailable=!1}else this.nextPageAvailable=!1}).catch(I=>{this.generalService.presentToast("Si \xe8 verificato un errore durante il recupero di altre timbrature: "+I.message),this.nextPageAvailable=!1})}else this.router.navigate(["/log"]),this.generalService.presentToast("Effettuare l'accesso per continuare")})}calculateTotalWorkTime(r){const i=new Date(`1970-01-01T${r.work_start_hour}:00`),o=new Date(`1970-01-01T${r.work_end_hour}:00`);let s,a;r.break_start_hour&&""!=r.break_end_hour?(s=new Date(`1970-01-01T${r.break_start_hour}:00`).getTime(),a=new Date(`1970-01-01T${r.break_end_hour}:00`).getTime()):(s=0,a=0);const p=o.getTime()-i.getTime()-(a>0?a-s:0);return Math.floor(p/36e5)+"h "+Math.floor(p%36e5/6e4)+"min"}deleteTimbratura(r,i){console.log(i),confirm("Sei sicuro di voler eliminare questa timbratura?")&&this.firestore.collection("timbrature").doc(r.id).delete().then(()=>{const s=this.documents.getValue(),a=[...s.slice(0,i),...s.slice(i+1)];this.documents.next(a),this.deleteTimbraturaFromRTDB(),this.generalService.presentToast("Timbratura eliminata con successo")}).catch(s=>{this.generalService.presentToast("Si \xe8 verificato un errore durante l'eliminazione della timbratura: "+s.message)})}deleteTimbraturaFromRTDB(){this.generalService.presentToast("Lo sviluppatore del software sta terminando questa funzione, vi invitiamo a segnalarlo il prima possibilile per evitare errori di sistema")}changeTimbratura(){this.generalService.presentToast("Funzione in fase di sviluppo")}calculateDifference(r,i){const o=new Date(`1970-01-01T${r}:00Z`),a=(Number(new Date(`1970-01-01T${i}:00Z`))-Number(o))/6e4;return{hours:Math.floor(a/60),minutes:a%60}}calculateHours(r,i,o=null){var s=this;return(0,V.A)(function*(){const a=[],l=new Date(r).getFullYear(),u=new Date(i).getFullYear();for(let p=l;p<=u;p++){let I;I=o?`counters/timbrature/${p}/${o}`:`counters/timbrature/${p}`;const k=yield Cn.A.database().ref(I).get();if(!k.exists())continue;const O=k.val();if(o)for(const q in O){const ge=O[q],Be=ge.date;if(Be>=r&&Be<=i){const Ye=s.calculateDifference(ge.work_start_hour,ge.work_end_hour),tt=s.calculateDifference(ge.break_start_hour,ge.break_end_hour),Fn=60*Ye.hours+Ye.minutes-(60*tt.hours+tt.minutes);a.push({uid:o,workTime:Ye,breakTime:tt,effectiveWorkTime:{hours:Math.floor(Fn/60),minutes:Fn%60}})}}else for(const q in O)for(const ge in O[q]){const Be=O[q][ge],Ye=Be.date;if(Ye>=r&&Ye<=i){const tt=s.calculateDifference(Be.work_start_hour,Be.work_end_hour),Bt=s.calculateDifference(Be.break_start_hour,Be.break_end_hour),Kn=60*tt.hours+tt.minutes-(60*Bt.hours+Bt.minutes);a.push({uid:q,workTime:tt,breakTime:Bt,effectiveWorkTime:{hours:Math.floor(Kn/60),minutes:Kn%60}})}}}return a})()}refreshCounters(){var r=this;return(0,V.A)(function*(){const i=document.getElementById("timbrature-start-date-input").value,o=document.getElementById("timbrature-end-date-input").value,a=document.getElementById("timbrature-user-selector").value||null,l=yield r.calculateHours(i,o,a);let u=0,p=0,I=0;l.forEach(tt=>{u+=60*tt.workTime.hours+tt.workTime.minutes,p+=60*tt.breakTime.hours+tt.breakTime.minutes,I+=60*tt.effectiveWorkTime.hours+tt.effectiveWorkTime.minutes});const k=Math.floor(u/60),O=u%60,q=Math.floor(p/60),ge=p%60,Be=Math.floor(I/60),Ye=I%60;document.getElementById("on-site-hours-display-timbrature-counters").innerText=`${k} ore e ${O} minuti`,document.getElementById("break-hours-display-timbrature-counters").innerText=`${q} ore e ${ge} minuti`,document.getElementById("work-hours-display-timbrature-counters").innerText=`${Be} ore e ${Ye} minuti`})()}downloadTimbratureAsCSV(){this.getTimbrature(),this.documents.pipe(am(1)).subscribe(r=>{if(!r||0===r.length)return void console.warn("Nessun dato disponibile per il download.");const o=r.map(p=>[p.name_surname||"N/A",p.date||"N/A",p.absence||"No",p.work_start_hour||"-",p.work_end_hour||"-",p.break_start_hour||"-",p.break_end_hour||"-",this.calculateTotalWorkTime(p)||"0:00"]),s=["Nome e Cognome","Data","Assenza","Inizio Lavoro","Fine Lavoro","Inizio Pausa","Fine Pausa","Tempo Totale Lavoro"].join(",")+"\n"+o.map(p=>p.map(I=>`"${I}"`).join(",")).join("\n"),a=new Blob([s],{type:"text/csv;charset=utf-8;"}),l=document.createElement("a"),u=URL.createObjectURL(a);l.setAttribute("href",u),l.setAttribute("download",`timbrature_${(new Date).toISOString()}.csv`),l.style.visibility="hidden",document.body.appendChild(l),l.click(),document.body.removeChild(l)})}calculateTotalWorkTimeCSV(r){const i=new Date(`1970-01-01T${r.work_start_hour||"00:00"}:00`),o=new Date(`1970-01-01T${r.work_end_hour||"00:00"}:00`),s=new Date(`1970-01-01T${r.break_start_hour||"00:00"}:00`),a=new Date(`1970-01-01T${r.break_end_hour||"00:00"}:00`),l=(o.getTime()-i.getTime())/6e4,u=(a.getTime()-s.getTime())/6e4,p=Math.max(l-u,0);return`${Math.floor(p/60)}:${(p%60).toString().padStart(2,"0")}`}}return(t=e).\u0275fac=function(r){return new(r||t)(Y(xa),Y(Zl),Y(zo))},t.\u0275cmp=ee({type:t,selectors:[["app-timbrature"]],decls:27,vars:6,consts:[[1,"table-container",2,"width","100%","overflow-y","auto","overflow-x","hidden","padding-left","1rem","padding-right","1rem"],[2,"display","flex","flex-direction","row","align-items","center","flex-wrap","wrap","margin-top","1rem","gap","1rem"],["class","card1","style","display: flex; flex-direction: row; flex: 1; min-width: 15rem; min-height: 13rem; gap: 0.8rem; align-items: start; justify-content: start; padding-left: 1rem; padding-bottom: 1rem; padding-right: 1rem;",4,"ngIf"],["style","width: 100%; display: flex; flex-direction: row; align-items: center; flex-wrap: wrap; gap: 1rem; margin-top: 1rem;",4,"ngIf"],[2,"width","100%","overflow-x","auto"],[1,"table",2,"width","100%","margin-top","1rem"],[2,"width","100%"],[1,"table-th"],["class","table-th",4,"ngIf"],["class","table-tr",4,"ngFor","ngForOf"],[2,"width","100%","display","flex","flex-direction","column","align-items","center"],[2,"width","95%","height","2.5rem","border-radius","0.5rem","margin-top","1rem","margin-bottom","1rem","flex-shrink","0",3,"click"],[1,"card1",2,"display","flex","flex-direction","row","flex","1","min-width","15rem","min-height","13rem","gap","0.8rem","align-items","start","justify-content","start","padding-left","1rem","padding-bottom","1rem","padding-right","1rem"],[2,"display","flex","flex-direction","column"],[2,"margin-bottom","0rem"],[2,"margin-top","0rem","margin-bottom","0rem"],["id","on-site-hours-display-timbrature-counters"],["id","break-hours-display-timbrature-counters"],["id","work-hours-display-timbrature-counters"],[2,"width","100%","display","flex","flex-direction","row","align-items","center","flex-wrap","wrap","gap","1rem","margin-top","1rem"],[2,"display","flex","flex-direction","column","overflow","hidden","justify-content","center"],[2,"margin-bottom","-1.5rem","z-index","2","background","white","margin-left","1.5rem","font-size","14px","color","rgb(100, 100, 100)","width","3.5rem","text-align","center"],[1,"inputGroup"],["id","timbrature-order-selector",1,"selector1",2,"width","100%","height","2.5rem","border-radius","0.8rem"],["value","desc"],["value","asc"],[2,"margin-bottom","-1.5rem","z-index","2","background","white","margin-left","1.5rem","font-size","14px","color","rgb(100, 100, 100)","width","6rem","text-align","center"],["id","timbrature-user-selector",1,"selector1",2,"width","100%","height","2.5rem","border-radius","0.8rem"],["value",""],[3,"value",4,"ngFor","ngForOf"],[2,"display","flex","flex-direction","column","margin-bottom","1.5rem"],[2,"display","flex","flex-direction","row","align-items","center","gap","0.3rem"],["type","checkbox","id","timbrature-date-checkbox-input",2,"height","1rem","width","1rem"],["for","timbrature-date-checkbox-input"],[2,"display","flex","flex-direction","row","flex-wrap","wrap","align-items","center","gap","1rem"],[1,"inputGroup",2,"min-width","15rem"],["id","timbrature-start-date-input","type","date",1,"input-field3",2,"height","2.5rem","border-radius","0.8rem"],["for","timbrature-start-date-input",2,"background","white"],["id","timbrature-end-date-input","type","date",1,"input-field3",2,"height","2.5rem","border-radius","0.8rem"],["for","timbrature-end-date-input",2,"background","white"],[1,"button5",2,"height","2.5rem","padding-left","1rem","padding-right","1rem","margin-bottom","1rem",3,"click"],[1,"material-symbols-outlined","notranslate",2,"font-size","2rem","color","#313131","cursor","pointer","margin-bottom","1rem",3,"click"],[3,"value"],[1,"table-tr"],[1,"table-td"],[4,"ngIf"],["style","display: flex; flex-direction: row; align-items: center; gap: 0.5rem; overflow-x: hidden !important; overflow-y: hidden !important;",4,"ngIf"],[2,"display","flex","flex-direction","row","align-items","center","gap","0.5rem","overflow-x","hidden !important","overflow-y","hidden !important"],[1,"table-button1",2,"border-radius","50%","width","2rem","height","2rem","display","flex","align-items","center","justify-content","center",3,"click"],[1,"material-symbols-outlined","notranslate"]],template:function(r,i){1&r&&(c(0,"div",0)(1,"div",1),$i(2,O_e,13,0,"div",2),h(),$i(3,V_e,36,1,"div",3),c(4,"div",4)(5,"table",5)(6,"thead")(7,"tr",6)(8,"th",7),v(9,"Nome e cognome"),h(),c(10,"th",7),v(11,"Data"),h(),c(12,"th",7),v(13,"Assenza"),h(),c(14,"th",7),v(15,"Pausa"),h(),c(16,"th",7),v(17,"Ora inizio-fine"),h(),c(18,"th",7),v(19,"Totale ore (giornata)"),h(),$i(20,Q_e,2,0,"th",8),h()(),c(21,"tbody",6),$i(22,$_e,16,10,"tr",9),zc(23,"async"),h()()(),c(24,"div",10)(25,"button",11),fn("click",function(){return i.getMoreTimbrature()}),v(26,"Carica altri"),h()()()),2&r&&(jt(2),Kr("ngIf","admin"==i.generalService.currentUserRole),jt(),Kr("ngIf","admin"==i.generalService.currentUserRole),jt(17),Kr("ngIf","admin"==i.generalService.currentUserRole),jt(2),Kr("ngForOf",OA(23,4,i.documents)))},dependencies:[Wc,vh,QA,HA,Wp]}),e})()},{path:"change-worksite",component:v_e},{path:"change-work",component:k_e},{path:"change-person",component:b_e},{path:"change-preventive",component:E_e},{path:"change-installment",component:R_e},{path:"change-cost",component:P_e},{path:"change-activity",component:N_e}];let W_e=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=Mt({type:t}),t.\u0275inj=fo({imports:[TU.forRoot(G_e,{preloadingStrategy:moe}),TU]}),e})(),K_e=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=Mt({type:t,bootstrap:[wye]}),t.\u0275inj=fo({providers:[{provide:ef,useClass:E3}],imports:[Fte,Lle.forRoot(),W_e,ere,kT,rue.initializeApp(bO_firebaseConfig),cue,Vfe]}),e})();Dte().bootstrapModule(K_e).catch(t=>console.log(t))},7239:function(vo){vo.exports=function(){"use strict";var Tr=function(d,A){return(Tr=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(w,_){w.__proto__=_}||function(w,_){for(var x in _)Object.prototype.hasOwnProperty.call(_,x)&&(w[x]=_[x])})(d,A)};function _t(d,A){if("function"!=typeof A&&null!==A)throw new TypeError("Class extends value "+String(A)+" is not a constructor or null");function w(){this.constructor=d}Tr(d,A),d.prototype=null===A?Object.create(A):(w.prototype=A.prototype,new w)}var V=function(){return V=Object.assign||function(A){for(var w,_=1,x=arguments.length;_<x;_++)for(var U in w=arguments[_])Object.prototype.hasOwnProperty.call(w,U)&&(A[U]=w[U]);return A},V.apply(this,arguments)};function Pt(d,A,w,_){return new(w||(w=Promise))(function(U,j){function z(Fe){try{Ce(_.next(Fe))}catch(Me){j(Me)}}function G(Fe){try{Ce(_.throw(Fe))}catch(Me){j(Me)}}function Ce(Fe){Fe.done?U(Fe.value):function x(U){return U instanceof w?U:new w(function(j){j(U)})}(Fe.value).then(z,G)}Ce((_=_.apply(d,A||[])).next())})}function he(d,A){var _,x,U,j,w={label:0,sent:function(){if(1&U[0])throw U[1];return U[1]},trys:[],ops:[]};return j={next:z(0),throw:z(1),return:z(2)},"function"==typeof Symbol&&(j[Symbol.iterator]=function(){return this}),j;function z(Ce){return function(Fe){return function G(Ce){if(_)throw new TypeError("Generator is already executing.");for(;w;)try{if(_=1,x&&(U=2&Ce[0]?x.return:Ce[0]?x.throw||((U=x.return)&&U.call(x),0):x.next)&&!(U=U.call(x,Ce[1])).done)return U;switch(x=0,U&&(Ce=[2&Ce[0],U.value]),Ce[0]){case 0:case 1:U=Ce;break;case 4:return w.label++,{value:Ce[1],done:!1};case 5:w.label++,x=Ce[1],Ce=[0];continue;case 7:Ce=w.ops.pop(),w.trys.pop();continue;default:if(!(U=(U=w.trys).length>0&&U[U.length-1])&&(6===Ce[0]||2===Ce[0])){w=0;continue}if(3===Ce[0]&&(!U||Ce[1]>U[0]&&Ce[1]<U[3])){w.label=Ce[1];break}if(6===Ce[0]&&w.label<U[1]){w.label=U[1],U=Ce;break}if(U&&w.label<U[2]){w.label=U[2],w.ops.push(Ce);break}U[2]&&w.ops.pop(),w.trys.pop();continue}Ce=A.call(d,w)}catch(Fe){Ce=[6,Fe],x=0}finally{_=U=0}if(5&Ce[0])throw Ce[1];return{value:Ce[0]?Ce[1]:void 0,done:!0}}([Ce,Fe])}}}function Gt(d,A,w){if(w||2===arguments.length)for(var U,_=0,x=A.length;_<x;_++)(U||!(_ in A))&&(U||(U=Array.prototype.slice.call(A,0,_)),U[_]=A[_]);return d.concat(U||A)}for(var xn=function(){function d(A,w,_,x){this.left=A,this.top=w,this.width=_,this.height=x}return d.prototype.add=function(A,w,_,x){return new d(this.left+A,this.top+w,this.width+_,this.height+x)},d.fromClientRect=function(A,w){return new d(w.left+A.windowBounds.left,w.top+A.windowBounds.top,w.width,w.height)},d.fromDOMRectList=function(A,w){var _=Array.from(w).find(function(x){return 0!==x.width});return _?new d(_.left+A.windowBounds.left,_.top+A.windowBounds.top,_.width,_.height):d.EMPTY},d.EMPTY=new d(0,0,0,0),d}(),Ht=function(d,A){return xn.fromClientRect(d,A.getBoundingClientRect())},Dt=function(d){for(var A=[],w=0,_=d.length;w<_;){var x=d.charCodeAt(w++);if(x>=55296&&x<=56319&&w<_){var U=d.charCodeAt(w++);56320==(64512&U)?A.push(((1023&x)<<10)+(1023&U)+65536):(A.push(x),w--)}else A.push(x)}return A},$t=function(){for(var d=[],A=0;A<arguments.length;A++)d[A]=arguments[A];if(String.fromCodePoint)return String.fromCodePoint.apply(String,d);var w=d.length;if(!w)return"";for(var _=[],x=-1,U="";++x<w;){var j=d[x];j<=65535?_.push(j):_.push(55296+((j-=65536)>>10),j%1024+56320),(x+1===w||_.length>16384)&&(U+=String.fromCharCode.apply(String,_),_.length=0)}return U},ze="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Pe=typeof Uint8Array>"u"?[]:new Uint8Array(256),dt=0;dt<64;dt++)Pe[ze.charCodeAt(dt)]=dt;for(var Ie="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",st=typeof Uint8Array>"u"?[]:new Uint8Array(256),et=0;et<64;et++)st[Ie.charCodeAt(et)]=et;for(var Rt=function(d,A,w){return d.slice?d.slice(A,w):new Uint16Array(Array.prototype.slice.call(d,A,w))},me=function(){function d(A,w,_,x,U,j){this.initialValue=A,this.errorValue=w,this.highStart=_,this.highValueIndex=x,this.index=U,this.data=j}return d.prototype.get=function(A){var w;if(A>=0){if(A<55296||A>56319&&A<=65535)return this.data[w=((w=this.index[A>>5])<<2)+(31&A)];if(A<=65535)return this.data[w=((w=this.index[2048+(A-55296>>5)])<<2)+(31&A)];if(A<this.highStart)return w=this.index[w=2080+(A>>11)],this.data[w=((w=this.index[w+=A>>5&63])<<2)+(31&A)];if(A<=1114111)return this.data[this.highValueIndex]}return this.errorValue},d}(),xe="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Xe=typeof Uint8Array>"u"?[]:new Uint8Array(256),ft=0;ft<64;ft++)Xe[xe.charCodeAt(ft)]=ft;var w,_,x,j,z,on=10,Jn=13,zr=15,Li=17,Vr=18,Io=19,Ri=20,cs=21,ns=22,Pi=24,Ai=25,Es=26,ys=27,Xo=28,ii=30,Jo=32,Ua=33,Fs=34,_s=35,Wa=37,Ka=38,Zi=39,Us=40,lt=42,de=[9001,65288],J="\xd7",Yt=(w=function(d){var _,U,j,z,G,A=.75*d.length,w=d.length,x=0;"="===d[d.length-1]&&(A--,"="===d[d.length-2]&&A--);var Ce=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(A):new Array(A),Fe=Array.isArray(Ce)?Ce:new Uint8Array(Ce);for(_=0;_<w;_+=4)U=st[d.charCodeAt(_)],j=st[d.charCodeAt(_+1)],z=st[d.charCodeAt(_+2)],G=st[d.charCodeAt(_+3)],Fe[x++]=U<<2|j>>4,Fe[x++]=(15&j)<<4|z>>2,Fe[x++]=(3&z)<<6|63&G;return Ce}("KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA=="),_=Array.isArray(w)?function(d){for(var A=d.length,w=[],_=0;_<A;_+=4)w.push(d[_+3]<<24|d[_+2]<<16|d[_+1]<<8|d[_]);return w}(w):new Uint32Array(w),x=Array.isArray(w)?function(d){for(var A=d.length,w=[],_=0;_<A;_+=2)w.push(d[_+1]<<8|d[_]);return w}(w):new Uint16Array(w),j=Rt(x,12,_[4]/2),z=2===_[5]?Rt(x,(24+_[4])/2):function(d,A,w){return d.slice?d.slice(A,w):new Uint32Array(Array.prototype.slice.call(d,A,w))}(_,Math.ceil((24+_[4])/4)),new me(_[0],_[1],_[2],_[3],j,z)),Nn=[ii,36],hi=[1,2,3,5],zn=[on,8],Ni=[ys,Es],Yr=hi.concat(zn),sn=[Ka,Zi,Us,Fs,_s],mi=[zr,Jn],fl=function(d,A,w,_){var x=_[w];if(Array.isArray(d)?-1!==d.indexOf(x):d===x)for(var U=w;U<=_.length;){if((j=_[++U])===A)return!0;if(j!==on)break}if(x===on)for(U=w;U>0;){var z=_[--U];if(Array.isArray(d)?-1!==d.indexOf(z):d===z)for(var G=w;G<=_.length;){var j;if((j=_[++G])===A)return!0;if(j!==on)break}if(z!==on)break}return!1},rd=function(d,A){for(var w=d;w>=0;){var _=A[w];if(_!==on)return _;w--}return 0},Fd=function(d,A,w,_,x){if(0===w[_])return J;var U=_-1;if(Array.isArray(x)&&!0===x[U])return J;var j=U-1,z=U+1,G=A[U],Ce=j>=0?A[j]:0,Fe=A[z];if(2===G&&3===Fe)return J;if(-1!==hi.indexOf(G))return"!";if(-1!==hi.indexOf(Fe)||-1!==zn.indexOf(Fe))return J;if(8===rd(U,A))return"\xf7";if(11===Yt.get(d[U])||(G===Jo||G===Ua)&&11===Yt.get(d[z])||7===G||7===Fe||9===G||-1===[on,Jn,zr].indexOf(G)&&9===Fe||-1!==[Li,Vr,Io,Pi,Xo].indexOf(Fe)||rd(U,A)===ns||fl(23,ns,U,A)||fl([Li,Vr],cs,U,A)||fl(12,12,U,A))return J;if(G===on)return"\xf7";if(23===G||23===Fe)return J;if(16===Fe||16===G)return"\xf7";if(-1!==[Jn,zr,cs].indexOf(Fe)||14===G||36===Ce&&-1!==mi.indexOf(G)||G===Xo&&36===Fe||Fe===Ri||-1!==Nn.indexOf(Fe)&&G===Ai||-1!==Nn.indexOf(G)&&Fe===Ai||G===ys&&-1!==[Wa,Jo,Ua].indexOf(Fe)||-1!==[Wa,Jo,Ua].indexOf(G)&&Fe===Es||-1!==Nn.indexOf(G)&&-1!==Ni.indexOf(Fe)||-1!==Ni.indexOf(G)&&-1!==Nn.indexOf(Fe)||-1!==[ys,Es].indexOf(G)&&(Fe===Ai||-1!==[ns,zr].indexOf(Fe)&&A[z+1]===Ai)||-1!==[ns,zr].indexOf(G)&&Fe===Ai||G===Ai&&-1!==[Ai,Xo,Pi].indexOf(Fe))return J;if(-1!==[Ai,Xo,Pi,Li,Vr].indexOf(Fe))for(var Me=U;Me>=0;){if((It=A[Me])===Ai)return J;if(-1===[Xo,Pi].indexOf(It))break;Me--}if(-1!==[ys,Es].indexOf(Fe))for(Me=-1!==[Li,Vr].indexOf(G)?j:U;Me>=0;){var It;if((It=A[Me])===Ai)return J;if(-1===[Xo,Pi].indexOf(It))break;Me--}if(Ka===G&&-1!==[Ka,Zi,Fs,_s].indexOf(Fe)||-1!==[Zi,Fs].indexOf(G)&&-1!==[Zi,Us].indexOf(Fe)||-1!==[Us,_s].indexOf(G)&&Fe===Us||-1!==sn.indexOf(G)&&-1!==[Ri,Es].indexOf(Fe)||-1!==sn.indexOf(Fe)&&G===ys||-1!==Nn.indexOf(G)&&-1!==Nn.indexOf(Fe)||G===Pi&&-1!==Nn.indexOf(Fe)||-1!==Nn.concat(Ai).indexOf(G)&&Fe===ns&&-1===de.indexOf(d[z])||-1!==Nn.concat(Ai).indexOf(Fe)&&G===Vr)return J;if(41===G&&41===Fe){for(var nn=w[U],dn=1;nn>0&&41===A[--nn];)dn++;if(dn%2!=0)return J}return G===Jo&&Fe===Ua?J:"\xf7"},id=function(d,A){A||(A={lineBreak:"normal",wordBreak:"normal"});var w=function(d,A){void 0===A&&(A="strict");var w=[],_=[],x=[];return d.forEach(function(U,j){var z=Yt.get(U);if(z>50?(x.push(!0),z-=50):x.push(!1),-1!==["normal","auto","loose"].indexOf(A)&&-1!==[8208,8211,12316,12448].indexOf(U))return _.push(j),w.push(16);if(4===z||11===z){if(0===j)return _.push(j),w.push(ii);var G=w[j-1];return-1===Yr.indexOf(G)?(_.push(_[j-1]),w.push(G)):(_.push(j),w.push(ii))}return _.push(j),31===z?w.push("strict"===A?cs:Wa):z===lt||29===z?w.push(ii):43===z?w.push(U>=131072&&U<=196605||U>=196608&&U<=262141?Wa:ii):void w.push(z)}),[_,w,x]}(d,A.lineBreak),_=w[0],x=w[1],U=w[2];return("break-all"===A.wordBreak||"break-word"===A.wordBreak)&&(x=x.map(function(z){return-1!==[Ai,ii,lt].indexOf(z)?Wa:z})),[_,x,"keep-all"===A.wordBreak?U.map(function(z,G){return z&&d[G]>=19968&&d[G]<=40959}):void 0]},va=function(){function d(A,w,_,x){this.codePoints=A,this.required="!"===w,this.start=_,this.end=x}return d.prototype.slice=function(){return $t.apply(void 0,this.codePoints.slice(this.start,this.end))},d}(),to=function(d){return d>=48&&d<=57},Pd=function(d){return to(d)||d>=65&&d<=70||d>=97&&d<=102},od=function(d){return 10===d||9===d||32===d},XA=function(d){return function(d){return function(d){return d>=97&&d<=122}(d)||function(d){return d>=65&&d<=90}(d)}(d)||function(d){return d>=128}(d)||95===d},la=function(d){return XA(d)||to(d)||45===d},vA=function(d){return d>=0&&d<=8||11===d||d>=14&&d<=31||127===d},Nl=function(d,A){return 92===d&&10!==A},Gr=function(d,A,w){return 45===d?XA(A)||Nl(A,w):!!XA(d)||!(92!==d||!Nl(d,A))},oo=function(d,A,w){return 43===d||45===d?!!to(A)||46===A&&to(w):to(46===d?A:d)},Fg=function(d){var A=0,w=1;(43===d[A]||45===d[A])&&(45===d[A]&&(w=-1),A++);for(var _=[];to(d[A]);)_.push(d[A++]);var x=_.length?parseInt($t.apply(void 0,_),10):0;46===d[A]&&A++;for(var U=[];to(d[A]);)U.push(d[A++]);var j=U.length,z=j?parseInt($t.apply(void 0,U),10):0;(69===d[A]||101===d[A])&&A++;var G=1;(43===d[A]||45===d[A])&&(45===d[A]&&(G=-1),A++);for(var Ce=[];to(d[A]);)Ce.push(d[A++]);var Fe=Ce.length?parseInt($t.apply(void 0,Ce),10):0;return w*(x+z*Math.pow(10,-j))*Math.pow(10,G*Fe)},Ml={type:2},Md={type:3},yA={type:4},Sc={type:13},Ll={type:8},Jr={type:21},Ld={type:9},nu={type:10},Qa={type:11},sd={type:12},Ya={type:14},ru={type:23},yr={type:1},Sf={type:25},Fh={type:24},dp={type:26},Ap={type:27},Od={type:28},kh={type:29},qu={type:31},Tf={type:32},iu=function(){function d(){this._value=[]}return d.prototype.write=function(A){this._value=this._value.concat(Dt(A))},d.prototype.read=function(){for(var A=[],w=this.consumeToken();w!==Tf;)A.push(w),w=this.consumeToken();return A},d.prototype.consumeToken=function(){var A=this.consumeCodePoint();switch(A){case 34:return this.consumeStringToken(34);case 35:var w=this.peekCodePoint(0),_=this.peekCodePoint(1),x=this.peekCodePoint(2);if(la(w)||Nl(_,x)){var U=Gr(w,_,x)?2:1;return{type:5,value:this.consumeName(),flags:U}}break;case 36:if(61===this.peekCodePoint(0))return this.consumeCodePoint(),Sc;break;case 39:return this.consumeStringToken(39);case 40:return Ml;case 41:return Md;case 42:if(61===this.peekCodePoint(0))return this.consumeCodePoint(),Ya;break;case 43:if(oo(A,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(A),this.consumeNumericToken();break;case 44:return yA;case 45:var z=A,G=this.peekCodePoint(0),Ce=this.peekCodePoint(1);if(oo(z,G,Ce))return this.reconsumeCodePoint(A),this.consumeNumericToken();if(Gr(z,G,Ce))return this.reconsumeCodePoint(A),this.consumeIdentLikeToken();if(45===G&&62===Ce)return this.consumeCodePoint(),this.consumeCodePoint(),Fh;break;case 46:if(oo(A,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(A),this.consumeNumericToken();break;case 47:if(42===this.peekCodePoint(0))for(this.consumeCodePoint();;){var Fe=this.consumeCodePoint();if(42===Fe&&47===(Fe=this.consumeCodePoint()))return this.consumeToken();if(-1===Fe)return this.consumeToken()}break;case 58:return dp;case 59:return Ap;case 60:if(33===this.peekCodePoint(0)&&45===this.peekCodePoint(1)&&45===this.peekCodePoint(2))return this.consumeCodePoint(),this.consumeCodePoint(),Sf;break;case 64:var Me=this.peekCodePoint(0),It=this.peekCodePoint(1),nn=this.peekCodePoint(2);if(Gr(Me,It,nn))return{type:7,value:this.consumeName()};break;case 91:return Od;case 92:if(Nl(A,this.peekCodePoint(0)))return this.reconsumeCodePoint(A),this.consumeIdentLikeToken();break;case 93:return kh;case 61:if(61===this.peekCodePoint(0))return this.consumeCodePoint(),Ll;break;case 123:return Qa;case 125:return sd;case 117:case 85:var dn=this.peekCodePoint(0),Zt=this.peekCodePoint(1);return 43===dn&&(Pd(Zt)||63===Zt)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(A),this.consumeIdentLikeToken();case 124:if(61===this.peekCodePoint(0))return this.consumeCodePoint(),Ld;if(124===this.peekCodePoint(0))return this.consumeCodePoint(),Jr;break;case 126:if(61===this.peekCodePoint(0))return this.consumeCodePoint(),nu;break;case-1:return Tf}return od(A)?(this.consumeWhiteSpace(),qu):to(A)?(this.reconsumeCodePoint(A),this.consumeNumericToken()):XA(A)?(this.reconsumeCodePoint(A),this.consumeIdentLikeToken()):{type:6,value:$t(A)}},d.prototype.consumeCodePoint=function(){var A=this._value.shift();return typeof A>"u"?-1:A},d.prototype.reconsumeCodePoint=function(A){this._value.unshift(A)},d.prototype.peekCodePoint=function(A){return A>=this._value.length?-1:this._value[A]},d.prototype.consumeUnicodeRangeToken=function(){for(var A=[],w=this.consumeCodePoint();Pd(w)&&A.length<6;)A.push(w),w=this.consumeCodePoint();for(var _=!1;63===w&&A.length<6;)A.push(w),w=this.consumeCodePoint(),_=!0;if(_)return{type:30,start:parseInt($t.apply(void 0,A.map(function(G){return 63===G?48:G})),16),end:parseInt($t.apply(void 0,A.map(function(G){return 63===G?70:G})),16)};var j=parseInt($t.apply(void 0,A),16);if(45===this.peekCodePoint(0)&&Pd(this.peekCodePoint(1))){this.consumeCodePoint(),w=this.consumeCodePoint();for(var z=[];Pd(w)&&z.length<6;)z.push(w),w=this.consumeCodePoint();return{type:30,start:j,end:parseInt($t.apply(void 0,z),16)}}return{type:30,start:j,end:j}},d.prototype.consumeIdentLikeToken=function(){var A=this.consumeName();return"url"===A.toLowerCase()&&40===this.peekCodePoint(0)?(this.consumeCodePoint(),this.consumeUrlToken()):40===this.peekCodePoint(0)?(this.consumeCodePoint(),{type:19,value:A}):{type:20,value:A}},d.prototype.consumeUrlToken=function(){var A=[];if(this.consumeWhiteSpace(),-1===this.peekCodePoint(0))return{type:22,value:""};var w=this.peekCodePoint(0);if(39===w||34===w){var _=this.consumeStringToken(this.consumeCodePoint());return 0===_.type&&(this.consumeWhiteSpace(),-1===this.peekCodePoint(0)||41===this.peekCodePoint(0))?(this.consumeCodePoint(),{type:22,value:_.value}):(this.consumeBadUrlRemnants(),ru)}for(;;){var x=this.consumeCodePoint();if(-1===x||41===x)return{type:22,value:$t.apply(void 0,A)};if(od(x))return this.consumeWhiteSpace(),-1===this.peekCodePoint(0)||41===this.peekCodePoint(0)?(this.consumeCodePoint(),{type:22,value:$t.apply(void 0,A)}):(this.consumeBadUrlRemnants(),ru);if(34===x||39===x||40===x||vA(x))return this.consumeBadUrlRemnants(),ru;if(92===x){if(!Nl(x,this.peekCodePoint(0)))return this.consumeBadUrlRemnants(),ru;A.push(this.consumeEscapedCodePoint())}else A.push(x)}},d.prototype.consumeWhiteSpace=function(){for(;od(this.peekCodePoint(0));)this.consumeCodePoint()},d.prototype.consumeBadUrlRemnants=function(){for(;;){var A=this.consumeCodePoint();if(41===A||-1===A)return;Nl(A,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},d.prototype.consumeStringSlice=function(A){for(var _="";A>0;){var x=Math.min(5e4,A);_+=$t.apply(void 0,this._value.splice(0,x)),A-=x}return this._value.shift(),_},d.prototype.consumeStringToken=function(A){for(var w="",_=0;;){var x=this._value[_];if(-1===x||void 0===x||x===A)return{type:0,value:w+=this.consumeStringSlice(_)};if(10===x)return this._value.splice(0,_),yr;if(92===x){var U=this._value[_+1];-1!==U&&void 0!==U&&(10===U?(w+=this.consumeStringSlice(_),_=-1,this._value.shift()):Nl(x,U)&&(w+=this.consumeStringSlice(_),w+=$t(this.consumeEscapedCodePoint()),_=-1))}_++}},d.prototype.consumeNumber=function(){var A=[],w=4,_=this.peekCodePoint(0);for((43===_||45===_)&&A.push(this.consumeCodePoint());to(this.peekCodePoint(0));)A.push(this.consumeCodePoint());_=this.peekCodePoint(0);var x=this.peekCodePoint(1);if(46===_&&to(x))for(A.push(this.consumeCodePoint(),this.consumeCodePoint()),w=8;to(this.peekCodePoint(0));)A.push(this.consumeCodePoint());_=this.peekCodePoint(0),x=this.peekCodePoint(1);var U=this.peekCodePoint(2);if((69===_||101===_)&&((43===x||45===x)&&to(U)||to(x)))for(A.push(this.consumeCodePoint(),this.consumeCodePoint()),w=8;to(this.peekCodePoint(0));)A.push(this.consumeCodePoint());return[Fg(A),w]},d.prototype.consumeNumericToken=function(){var A=this.consumeNumber(),w=A[0],_=A[1],x=this.peekCodePoint(0),U=this.peekCodePoint(1),j=this.peekCodePoint(2);return Gr(x,U,j)?{type:15,number:w,flags:_,unit:this.consumeName()}:37===x?(this.consumeCodePoint(),{type:16,number:w,flags:_}):{type:17,number:w,flags:_}},d.prototype.consumeEscapedCodePoint=function(){var A=this.consumeCodePoint();if(Pd(A)){for(var w=$t(A);Pd(this.peekCodePoint(0))&&w.length<6;)w+=$t(this.consumeCodePoint());od(this.peekCodePoint(0))&&this.consumeCodePoint();var _=parseInt(w,16);return 0===_||function(d){return d>=55296&&d<=57343}(_)||_>1114111?65533:_}return-1===A?65533:A},d.prototype.consumeName=function(){for(var A="";;){var w=this.consumeCodePoint();if(la(w))A+=$t(w);else{if(!Nl(w,this.peekCodePoint(0)))return this.reconsumeCodePoint(w),A;A+=$t(this.consumeEscapedCodePoint())}}},d}(),JA=function(){function d(A){this._tokens=A}return d.create=function(A){var w=new iu;return w.write(A),new d(w.read())},d.parseValue=function(A){return d.create(A).parseComponentValue()},d.parseValues=function(A){return d.create(A).parseComponentValues()},d.prototype.parseComponentValue=function(){for(var A=this.consumeToken();31===A.type;)A=this.consumeToken();if(32===A.type)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(A);var w=this.consumeComponentValue();do{A=this.consumeToken()}while(31===A.type);if(32===A.type)return w;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},d.prototype.parseComponentValues=function(){for(var A=[];;){var w=this.consumeComponentValue();if(32===w.type)return A;A.push(w),A.push()}},d.prototype.consumeComponentValue=function(){var A=this.consumeToken();switch(A.type){case 11:case 28:case 2:return this.consumeSimpleBlock(A.type);case 19:return this.consumeFunction(A)}return A},d.prototype.consumeSimpleBlock=function(A){for(var w={type:A,values:[]},_=this.consumeToken();;){if(32===_.type||Rh(_,A))return w;this.reconsumeToken(_),w.values.push(this.consumeComponentValue()),_=this.consumeToken()}},d.prototype.consumeFunction=function(A){for(var w={name:A.value,values:[],type:18};;){var _=this.consumeToken();if(32===_.type||3===_.type)return w;this.reconsumeToken(_),w.values.push(this.consumeComponentValue())}},d.prototype.consumeToken=function(){var A=this._tokens.shift();return typeof A>"u"?Tf:A},d.prototype.reconsumeToken=function(A){this._tokens.unshift(A)},d}(),Pn=function(d){return 15===d.type},Tc=function(d){return 17===d.type},An=function(d){return 20===d.type},_A=function(d){return 0===d.type},Bc=function(d,A){return An(d)&&d.value===A},Ud=function(d){return 31!==d.type},Vd=function(d){return 31!==d.type&&4!==d.type},Ol=function(d){var A=[],w=[];return d.forEach(function(_){if(4===_.type){if(0===w.length)throw new Error("Error parsing function args, zero tokens for arg");return A.push(w),void(w=[])}31!==_.type&&w.push(_)}),w.length&&A.push(w),A},Rh=function(d,A){return 11===A&&12===d.type||28===A&&29===d.type||2===A&&3===d.type},xu=function(d){return 17===d.type||15===d.type},Go=function(d){return 16===d.type||xu(d)},Yu=function(d){return d.length>1?[d[0],d[1]]:[d[0]]},ds={type:17,number:0,flags:4},ZA={type:16,number:50,flags:4},Fa={type:16,number:100,flags:4},Qd=function(d,A,w){var _=d[0],x=d[1];return[Oi(_,A),Oi(typeof x<"u"?x:_,w)]},Oi=function(d,A){if(16===d.type)return d.number/100*A;if(Pn(d))switch(d.unit){case"rem":case"em":return 16*d.number;default:return d.number}return d.number},ld_parse=function(d,A){if(15===A.type)switch(A.unit){case"deg":return Math.PI*A.number/180;case"grad":return Math.PI/200*A.number;case"rad":return A.number;case"turn":return 2*Math.PI*A.number}throw new Error("Unsupported angle type")},Ul=function(d){return 15===d.type&&("deg"===d.unit||"grad"===d.unit||"rad"===d.unit||"turn"===d.unit)},Ju=function(d){switch(d.filter(An).map(function(w){return w.value}).join(" ")){case"to bottom right":case"to right bottom":case"left top":case"top left":return[ds,ds];case"to top":case"bottom":return Vl(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[ds,Fa];case"to right":case"left":return Vl(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[Fa,Fa];case"to bottom":case"top":return Vl(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[Fa,ds];case"to left":case"right":return Vl(270)}return 0},Vl=function(d){return Math.PI*d/180},Ks_parse=function(d,A){if(18===A.type){var w=hp[A.name];if(typeof w>"u")throw new Error('Attempting to parse an unsupported color function "'+A.name+'"');return w(d,A.values)}if(5===A.type){if(3===A.value.length){var _=A.value.substring(0,1),x=A.value.substring(1,2),U=A.value.substring(2,3);return Zu(parseInt(_+_,16),parseInt(x+x,16),parseInt(U+U,16),1)}if(4===A.value.length){_=A.value.substring(0,1),x=A.value.substring(1,2),U=A.value.substring(2,3);var j=A.value.substring(3,4);return Zu(parseInt(_+_,16),parseInt(x+x,16),parseInt(U+U,16),parseInt(j+j,16)/255)}if(6===A.value.length)return _=A.value.substring(0,2),x=A.value.substring(2,4),U=A.value.substring(4,6),Zu(parseInt(_,16),parseInt(x,16),parseInt(U,16),1);if(8===A.value.length)return _=A.value.substring(0,2),x=A.value.substring(2,4),U=A.value.substring(4,6),j=A.value.substring(6,8),Zu(parseInt(_,16),parseInt(x,16),parseInt(U,16),parseInt(j,16)/255)}if(20===A.type){var z=ou[A.value.toUpperCase()];if(typeof z<"u")return z}return ou.TRANSPARENT},Vs=function(d){return!(255&d)},Zo=function(d){var A=255&d,w=255&d>>8,_=255&d>>16,x=255&d>>24;return A<255?"rgba("+x+","+_+","+w+","+A/255+")":"rgb("+x+","+_+","+w+")"},Zu=function(d,A,w,_){return(d<<24|A<<16|w<<8|Math.round(255*_))>>>0},CA=function(d,A){if(17===d.type)return d.number;if(16===d.type){var w=3===A?1:255;return 3===A?d.number/100*w:Math.round(d.number/100*w)}return 0},pl=function(d,A){var w=A.filter(Vd);if(3===w.length){var _=w.map(CA);return Zu(_[0],_[1],_[2],1)}if(4===w.length){var z=w.map(CA);return Zu(z[0],z[1],z[2],z[3])}return 0};function no(d,A,w){return w<0&&(w+=1),w>=1&&(w-=1),w<1/6?(A-d)*w*6+d:w<.5?A:w<2/3?6*(A-d)*(2/3-w)+d:d}var ec=function(d,A){var w=A.filter(Vd),_=w[0],x=w[1],U=w[2],j=w[3],z=(17===_.type?Vl(_.number):ld_parse(d,_))/(2*Math.PI),G=Go(x)?x.number/100:0,Ce=Go(U)?U.number/100:0,Fe=typeof j<"u"&&Go(j)?Oi(j,1):1;if(0===G)return Zu(255*Ce,255*Ce,255*Ce,1);var Me=Ce<=.5?Ce*(G+1):Ce+G-Ce*G,It=2*Ce-Me,nn=no(It,Me,z+1/3),dn=no(It,Me,z),Zt=no(It,Me,z-1/3);return Zu(255*nn,255*dn,255*Zt,Fe)},hp={hsl:ec,hsla:ec,rgb:pl,rgba:pl},Dc=function(d,A){return Ks_parse(d,JA.create(A).parseComponentValue())},ou={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},bA={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(d,A){return A.map(function(w){if(An(w))switch(w.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},su={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},Fo=function(d,A){var w=Ks_parse(d,A[0]),_=A[1];return _&&Go(_)?{color:w,stop:_}:{color:w,stop:null}},Bf=function(d,A){var w=d[0],_=d[d.length-1];null===w.stop&&(w.stop=ds),null===_.stop&&(_.stop=Fa);for(var x=[],U=0,j=0;j<d.length;j++){var z=d[j].stop;if(null!==z){var G=Oi(z,A);x.push(G>U?G:U),U=G}else x.push(null)}var Ce=null;for(j=0;j<x.length;j++){var Fe=x[j];if(null===Fe)null===Ce&&(Ce=j);else if(null!==Ce){for(var Me=j-Ce,nn=(Fe-x[Ce-1])/(Me+1),dn=1;dn<=Me;dn++)x[Ce+dn-1]=nn*dn;Ce=null}}return d.map(function(Zt,xr){return{color:Zt.color,stop:Math.max(Math.min(1,x[xr]/A),0)}})},fp=function(d,A,w){var _="number"==typeof d?d:function(d,A,w){var _=A/2,x=w/2,U=Oi(d[0],A)-_,j=x-Oi(d[1],w);return(Math.atan2(j,U)+2*Math.PI)%(2*Math.PI)}(d,A,w),x=Math.abs(A*Math.sin(_))+Math.abs(w*Math.cos(_)),U=A/2,j=w/2,z=x/2,G=Math.sin(_-Math.PI/2)*z,Ce=Math.cos(_-Math.PI/2)*z;return[x,U-Ce,U+Ce,j-G,j+G]},gl=function(d,A){return Math.sqrt(d*d+A*A)},IA=function(d,A,w,_,x){return[[0,0],[0,A],[d,0],[d,A]].reduce(function(j,z){var Fe=gl(w-z[0],_-z[1]);return(x?Fe<j.optimumDistance:Fe>j.optimumDistance)?{optimumCorner:z,optimumDistance:Fe}:j},{optimumDistance:x?1/0:-1/0,optimumCorner:null}).optimumCorner},y=function(d,A){var w=Vl(180),_=[];return Ol(A).forEach(function(x,U){if(0===U){var j=x[0];if(20===j.type&&-1!==["top","left","right","bottom"].indexOf(j.value))return void(w=Ju(x));if(Ul(j))return void(w=(ld_parse(d,j)+Vl(270))%Vl(360))}var z=Fo(d,x);_.push(z)}),{angle:w,stops:_,type:1}},D="closest-side",T="farthest-side",P="closest-corner",M="farthest-corner",L="circle",$="ellipse",ue="contain",H=function(d,A){var w=0,_=3,x=[],U=[];return Ol(A).forEach(function(j,z){var G=!0;if(0===z?G=j.reduce(function(Fe,Me){if(An(Me))switch(Me.value){case"center":return U.push(ZA),!1;case"top":case"left":return U.push(ds),!1;case"right":case"bottom":return U.push(Fa),!1}else if(Go(Me)||xu(Me))return U.push(Me),!1;return Fe},G):1===z&&(G=j.reduce(function(Fe,Me){if(An(Me))switch(Me.value){case L:return w=0,!1;case $:return w=1,!1;case ue:case D:return _=0,!1;case T:return _=1,!1;case P:return _=2,!1;case"cover":case M:return _=3,!1}else if(xu(Me)||Go(Me))return Array.isArray(_)||(_=[]),_.push(Me),!1;return Fe},G)),G){var Ce=Fo(d,j);x.push(Ce)}}),{size:_,shape:w,stops:x,position:U,type:2}},qe_parse=function(d,A){if(22===A.type){var w={url:A.value,type:0};return d.cache.addImage(A.value),w}if(18===A.type){var _=He[A.name];if(typeof _>"u")throw new Error('Attempting to parse an unsupported image function "'+A.name+'"');return _(d,A.values)}throw new Error("Unsupported image type "+A.type)};for(var He={"linear-gradient":function(d,A){var w=Vl(180),_=[];return Ol(A).forEach(function(x,U){if(0===U){var j=x[0];if(20===j.type&&"to"===j.value)return void(w=Ju(x));if(Ul(j))return void(w=ld_parse(d,j))}var z=Fo(d,x);_.push(z)}),{angle:w,stops:_,type:1}},"-moz-linear-gradient":y,"-ms-linear-gradient":y,"-o-linear-gradient":y,"-webkit-linear-gradient":y,"radial-gradient":function(d,A){var w=0,_=3,x=[],U=[];return Ol(A).forEach(function(j,z){var G=!0;if(0===z){var Ce=!1;G=j.reduce(function(Me,It){if(Ce)if(An(It))switch(It.value){case"center":return U.push(ZA),Me;case"top":case"left":return U.push(ds),Me;case"right":case"bottom":return U.push(Fa),Me}else(Go(It)||xu(It))&&U.push(It);else if(An(It))switch(It.value){case L:return w=0,!1;case $:return w=1,!1;case"at":return Ce=!0,!1;case D:return _=0,!1;case"cover":case T:return _=1,!1;case ue:case P:return _=2,!1;case M:return _=3,!1}else if(xu(It)||Go(It))return Array.isArray(_)||(_=[]),_.push(It),!1;return Me},G)}if(G){var Fe=Fo(d,j);x.push(Fe)}}),{size:_,shape:w,stops:x,position:U,type:2}},"-moz-radial-gradient":H,"-ms-radial-gradient":H,"-o-radial-gradient":H,"-webkit-radial-gradient":H,"-webkit-gradient":function(d,A){var w=Vl(180),_=[],x=1;return Ol(A).forEach(function(G,Ce){var Fe=G[0];if(0===Ce){if(An(Fe)&&"linear"===Fe.value)return void(x=1);if(An(Fe)&&"radial"===Fe.value)return void(x=2)}if(18===Fe.type)if("from"===Fe.name){var Me=Ks_parse(d,Fe.values[0]);_.push({stop:ds,color:Me})}else if("to"===Fe.name)Me=Ks_parse(d,Fe.values[0]),_.push({stop:Fa,color:Me});else if("color-stop"===Fe.name){var It=Fe.values.filter(Vd);if(2===It.length){Me=Ks_parse(d,It[1]);var nn=It[0];Tc(nn)&&_.push({stop:{type:16,number:100*nn.number,flags:nn.flags},color:Me})}}}),1===x?{angle:(w+Vl(180))%Vl(360),stops:_,type:x}:{size:3,shape:0,stops:_,position:[],type:x}}},Ct={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(d,A){if(0===A.length)return[];var w=A[0];return 20===w.type&&"none"===w.value?[]:A.filter(function(_){return Vd(_)&&function ee(d){return!(20===d.type&&"none"===d.value||18===d.type&&!He[d.name])}(_)}).map(function(_){return qe_parse(d,_)})}},Mt={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(d,A){return A.map(function(w){if(An(w))switch(w.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},hn={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(d,A){return Ol(A).map(function(w){return w.filter(Go)}).map(Yu)}},xt={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(d,A){return Ol(A).map(function(w){return w.filter(An).map(function(_){return _.value}).join(" ")}).map(Lt)}},Lt=function(d){switch(d){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;default:return 0}},Ue=function(d){return d.AUTO="auto",d.CONTAIN="contain",d.COVER="cover",d}(Ue||{}),an={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(d,A){return Ol(A).map(function(w){return w.filter(cn)})}},cn=function(d){return An(d)||Go(d)},Re=function(d){return{name:"border-"+d+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},Ee=Re("top"),vt=Re("right"),ct=Re("bottom"),pn=Re("left"),rn=function(d){return{name:"border-radius-"+d,initialValue:"0 0",prefix:!1,type:1,parse:function(A,w){return Yu(w.filter(Go))}}},bn=rn("top-left"),Wt=rn("top-right"),Sn=rn("bottom-right"),wn=rn("bottom-left"),lr=function(d){return{name:"border-"+d+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(A,w){switch(w){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},ae=lr("top"),$e=lr("right"),it=lr("bottom"),bt=lr("left"),St=function(d){return{name:"border-"+d+"-width",initialValue:"0",type:0,prefix:!1,parse:function(A,w){return Pn(w)?w.number:0}}},Kt=St("top"),qt=St("right"),Jt=St("bottom"),Xn=St("left"),Wn={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},gr={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(d,A){return"rtl"===A?1:0}},Dr={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(d,A){return A.filter(An).reduce(function(w,_){return w|ui(_.value)},0)}},ui=function(d){switch(d){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},vn={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(d,A){switch(A){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},We={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(d,A){return 20===A.type&&"normal"===A.value?0:17===A.type||15===A.type?A.number:0}},ai=function(d){return d.NORMAL="normal",d.STRICT="strict",d}(ai||{}),Qr={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(d,A){return"strict"===A?ai.STRICT:ai.NORMAL}},jn={name:"line-height",initialValue:"normal",prefix:!1,type:4},nr=function(d,A){return An(d)&&"normal"===d.value?1.2*A:17===d.type?A*d.number:Go(d)?Oi(d,A):A},_r={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(d,A){return 20===A.type&&"none"===A.value?null:qe_parse(d,A)}},ir={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(d,A){return"inside"===A?0:1}},Wr={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(d,A){switch(A){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;default:return-1}}},Si=function(d){return{name:"margin-"+d,initialValue:"0",prefix:!1,type:4}},Mi=Si("top"),ji=Si("right"),Fi=Si("bottom"),Vo=Si("left"),fi={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(d,A){return A.filter(An).map(function(w){switch(w.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;default:return 0}})}},Ti={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(d,A){return"break-word"===A?"break-word":"normal"}},Ar=function(d){return{name:"padding-"+d,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},uo=Ar("top"),pi=Ar("right"),ml=Ar("bottom"),es=Ar("left"),ko={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(d,A){switch(A){case"right":return 2;case"center":case"justify":return 1;default:return 0}}},tc={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(d,A){switch(A){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},Ro={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(d,A){return 1===A.length&&Bc(A[0],"none")?[]:Ol(A).map(function(w){for(var _={color:ou.TRANSPARENT,offsetX:ds,offsetY:ds,blur:ds},x=0,U=0;U<w.length;U++){var j=w[U];xu(j)?(0===x?_.offsetX=j:1===x?_.offsetY=j:_.blur=j,x++):_.color=Ks_parse(d,j)}return _})}},ud={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(d,A){switch(A){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},Rs={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(d,A){if(20===A.type&&"none"===A.value)return null;if(18===A.type){var w=Wo[A.name];if(typeof w>"u")throw new Error('Attempting to parse an unsupported transform function "'+A.name+'"');return w(A.values)}return null}},Wo={matrix:function(d){var A=d.filter(function(w){return 17===w.type}).map(function(w){return w.number});return 6===A.length?A:null},matrix3d:function(d){var A=d.filter(function(G){return 17===G.type}).map(function(G){return G.number});return 16===A.length?[A[0],A[1],A[4],A[5],A[12],A[13]]:null}},ci={type:16,number:50,flags:4},ti=[ci,ci],Qn={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(d,A){var w=A.filter(Go);return 2!==w.length?ti:[w[0],w[1]]}},wr={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(d,A){switch(A){case"hidden":return 1;case"collapse":return 2;default:return 0}}},co=function(d){return d.NORMAL="normal",d.BREAK_ALL="break-all",d.KEEP_ALL="keep-all",d}(co||{}),qs={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(d,A){switch(A){case"break-all":return co.BREAK_ALL;case"keep-all":return co.KEEP_ALL;default:return co.NORMAL}}},kr={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(d,A){if(20===A.type)return{auto:!0,order:0};if(Tc(A))return{auto:!1,order:A.number};throw new Error("Invalid z-index number parsed")}},As={name:"time",parse:function(d,A){if(15===A.type)switch(A.unit.toLowerCase()){case"s":return 1e3*A.number;case"ms":return A.number}throw new Error("Unsupported time type")}},Xa={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(d,A){return Tc(A)?A.number:1}},zi={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},mo={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(d,A){return A.filter(An).map(function(w){switch(w.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(w){return 0!==w})}},Eo={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(d,A){var w=[],_=[];return A.forEach(function(x){switch(x.type){case 20:case 0:w.push(x.value);break;case 17:w.push(x.number.toString());break;case 4:_.push(w.join(" ")),w.length=0}}),w.length&&_.push(w.join(" ")),_.map(function(x){return-1===x.indexOf(" ")?x:"'"+x+"'"})}},Hr={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},rc={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(d,A){return Tc(A)?A.number:An(A)&&"bold"===A.value?700:400}},ic={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(d,A){return A.filter(An).map(function(w){return w.value})}},Ha={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(d,A){switch(A){case"oblique":return"oblique";case"italic":return"italic";default:return"normal"}}},di=function(d,A){return!!(d&A)},ya={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(d,A){if(0===A.length)return[];var w=A[0];return 20===w.type&&"none"===w.value?[]:A}},Ja={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(d,A){if(0===A.length)return null;var w=A[0];if(20===w.type&&"none"===w.value)return null;for(var _=[],x=A.filter(Ud),U=0;U<x.length;U++){var j=x[U],z=x[U+1];if(20===j.type){var G=z&&Tc(z)?z.number:1;_.push({counter:j.value,increment:G})}}return _}},Qs={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(d,A){if(0===A.length)return[];for(var w=[],_=A.filter(Ud),x=0;x<_.length;x++){var U=_[x],j=_[x+1];if(An(U)&&"none"!==U.value){var z=j&&Tc(j)?j.number:0;w.push({counter:U.value,reset:z})}}return w}},yl={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(d,A){return A.filter(Pn).map(function(w){return As.parse(d,w)})}},oc={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(d,A){if(0===A.length)return null;var w=A[0];if(20===w.type&&"none"===w.value)return null;var _=[],x=A.filter(_A);if(x.length%2!=0)return null;for(var U=0;U<x.length;U+=2)_.push({open:x[U].value,close:x[U+1].value});return _}},_l=function(d,A,w){if(!d)return"";var _=d[Math.min(A,d.length-1)];return _?w?_.open:_.close:""},sc={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(d,A){return 1===A.length&&Bc(A[0],"none")?[]:Ol(A).map(function(w){for(var _={color:255,offsetX:ds,offsetY:ds,blur:ds,spread:ds,inset:!1},x=0,U=0;U<w.length;U++){var j=w[U];Bc(j,"inset")?_.inset=!0:xu(j)?(0===x?_.offsetX=j:1===x?_.offsetY=j:2===x?_.blur=j:_.spread=j,x++):_.color=Ks_parse(d,j)}return _})}},au={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(d,A){var _=[];return A.filter(An).forEach(function(x){switch(x.value){case"stroke":_.push(1);break;case"fill":_.push(0);break;case"markers":_.push(2)}}),[0,1,2].forEach(function(x){-1===_.indexOf(x)&&_.push(x)}),_}},gi={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},Hd={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(d,A){return Pn(A)?A.number:0}},jd=function(){function d(A,w){var _,x;this.animationDuration=sr(A,yl,w.animationDuration),this.backgroundClip=sr(A,bA,w.backgroundClip),this.backgroundColor=sr(A,su,w.backgroundColor),this.backgroundImage=sr(A,Ct,w.backgroundImage),this.backgroundOrigin=sr(A,Mt,w.backgroundOrigin),this.backgroundPosition=sr(A,hn,w.backgroundPosition),this.backgroundRepeat=sr(A,xt,w.backgroundRepeat),this.backgroundSize=sr(A,an,w.backgroundSize),this.borderTopColor=sr(A,Ee,w.borderTopColor),this.borderRightColor=sr(A,vt,w.borderRightColor),this.borderBottomColor=sr(A,ct,w.borderBottomColor),this.borderLeftColor=sr(A,pn,w.borderLeftColor),this.borderTopLeftRadius=sr(A,bn,w.borderTopLeftRadius),this.borderTopRightRadius=sr(A,Wt,w.borderTopRightRadius),this.borderBottomRightRadius=sr(A,Sn,w.borderBottomRightRadius),this.borderBottomLeftRadius=sr(A,wn,w.borderBottomLeftRadius),this.borderTopStyle=sr(A,ae,w.borderTopStyle),this.borderRightStyle=sr(A,$e,w.borderRightStyle),this.borderBottomStyle=sr(A,it,w.borderBottomStyle),this.borderLeftStyle=sr(A,bt,w.borderLeftStyle),this.borderTopWidth=sr(A,Kt,w.borderTopWidth),this.borderRightWidth=sr(A,qt,w.borderRightWidth),this.borderBottomWidth=sr(A,Jt,w.borderBottomWidth),this.borderLeftWidth=sr(A,Xn,w.borderLeftWidth),this.boxShadow=sr(A,sc,w.boxShadow),this.color=sr(A,Wn,w.color),this.direction=sr(A,gr,w.direction),this.display=sr(A,Dr,w.display),this.float=sr(A,vn,w.cssFloat),this.fontFamily=sr(A,Eo,w.fontFamily),this.fontSize=sr(A,Hr,w.fontSize),this.fontStyle=sr(A,Ha,w.fontStyle),this.fontVariant=sr(A,ic,w.fontVariant),this.fontWeight=sr(A,rc,w.fontWeight),this.letterSpacing=sr(A,We,w.letterSpacing),this.lineBreak=sr(A,Qr,w.lineBreak),this.lineHeight=sr(A,jn,w.lineHeight),this.listStyleImage=sr(A,_r,w.listStyleImage),this.listStylePosition=sr(A,ir,w.listStylePosition),this.listStyleType=sr(A,Wr,w.listStyleType),this.marginTop=sr(A,Mi,w.marginTop),this.marginRight=sr(A,ji,w.marginRight),this.marginBottom=sr(A,Fi,w.marginBottom),this.marginLeft=sr(A,Vo,w.marginLeft),this.opacity=sr(A,Xa,w.opacity);var U=sr(A,fi,w.overflow);this.overflowX=U[0],this.overflowY=U[U.length>1?1:0],this.overflowWrap=sr(A,Ti,w.overflowWrap),this.paddingTop=sr(A,uo,w.paddingTop),this.paddingRight=sr(A,pi,w.paddingRight),this.paddingBottom=sr(A,ml,w.paddingBottom),this.paddingLeft=sr(A,es,w.paddingLeft),this.paintOrder=sr(A,au,w.paintOrder),this.position=sr(A,tc,w.position),this.textAlign=sr(A,ko,w.textAlign),this.textDecorationColor=sr(A,zi,null!==(_=w.textDecorationColor)&&void 0!==_?_:w.color),this.textDecorationLine=sr(A,mo,null!==(x=w.textDecorationLine)&&void 0!==x?x:w.textDecoration),this.textShadow=sr(A,Ro,w.textShadow),this.textTransform=sr(A,ud,w.textTransform),this.transform=sr(A,Rs,w.transform),this.transformOrigin=sr(A,Qn,w.transformOrigin),this.visibility=sr(A,wr,w.visibility),this.webkitTextStrokeColor=sr(A,gi,w.webkitTextStrokeColor),this.webkitTextStrokeWidth=sr(A,Hd,w.webkitTextStrokeWidth),this.wordBreak=sr(A,qs,w.wordBreak),this.zIndex=sr(A,kr,w.zIndex)}return d.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&0===this.visibility},d.prototype.isTransparent=function(){return Vs(this.backgroundColor)},d.prototype.isTransformed=function(){return null!==this.transform},d.prototype.isPositioned=function(){return 0!==this.position},d.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},d.prototype.isFloating=function(){return 0!==this.float},d.prototype.isInlineLevel=function(){return di(this.display,4)||di(this.display,33554432)||di(this.display,268435456)||di(this.display,536870912)||di(this.display,67108864)||di(this.display,134217728)},d}(),lu=function(){return function d(A,w){this.content=sr(A,ya,w.content),this.quotes=sr(A,oc,w.quotes)}}(),ac=function(){return function d(A,w){this.counterIncrement=sr(A,Ja,w.counterIncrement),this.counterReset=sr(A,Qs,w.counterReset)}}(),sr=function(d,A,w){var _=new iu,x=null!==w&&typeof w<"u"?w.toString():A.initialValue;_.write(x);var U=new JA(_.read());switch(A.type){case 2:var j=U.parseComponentValue();return A.parse(d,An(j)?j.value:A.initialValue);case 0:return A.parse(d,U.parseComponentValue());case 1:return A.parse(d,U.parseComponentValues());case 4:return U.parseComponentValue();case 3:switch(A.format){case"angle":return ld_parse(d,U.parseComponentValue());case"color":return Ks_parse(d,U.parseComponentValue());case"image":return qe_parse(d,U.parseComponentValue());case"length":var z=U.parseComponentValue();return xu(z)?z:ds;case"length-percentage":var G=U.parseComponentValue();return Go(G)?G:ds;case"time":return As.parse(d,U.parseComponentValue())}}},Ys=function(d,A){var w=function(d){switch(d.getAttribute("data-html2canvas-debug")){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}}(d);return 1===w||A===w},Po=function(){return function d(A,w){this.context=A,this.textNodes=[],this.elements=[],this.flags=0,Ys(w,3),this.styles=new jd(A,window.getComputedStyle(w,null)),Xd(w)&&(this.styles.animationDuration.some(function(_){return _>0})&&(w.style.animationDuration="0s"),null!==this.styles.transform&&(w.style.transform="none")),this.bounds=Ht(this.context,w),Ys(w,4)&&(this.flags|=16)}}(),Za="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Ql=typeof Uint8Array>"u"?[]:new Uint8Array(256),so=0;so<64;so++)Ql[Za.charCodeAt(so)]=so;for(var Ff=function(d,A,w){return d.slice?d.slice(A,w):new Uint16Array(Array.prototype.slice.call(d,A,w))},nh=function(){function d(A,w,_,x,U,j){this.initialValue=A,this.errorValue=w,this.highStart=_,this.highValueIndex=x,this.index=U,this.data=j}return d.prototype.get=function(A){var w;if(A>=0){if(A<55296||A>56319&&A<=65535)return this.data[w=((w=this.index[A>>5])<<2)+(31&A)];if(A<=65535)return this.data[w=((w=this.index[2048+(A-55296>>5)])<<2)+(31&A)];if(A<this.highStart)return w=this.index[w=2080+(A>>11)],this.data[w=((w=this.index[w+=A>>5&63])<<2)+(31&A)];if(A<=1114111)return this.data[this.highValueIndex]}return this.errorValue},d}(),DA="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Ra=typeof Uint8Array>"u"?[]:new Uint8Array(256),$d=0;$d<64;$d++)Ra[DA.charCodeAt($d)]=$d;var Ad=8,Fc=9,hd=11,Hh=12,rh=function(){for(var d=[],A=0;A<arguments.length;A++)d[A]=arguments[A];if(String.fromCodePoint)return String.fromCodePoint.apply(String,d);var w=d.length;if(!w)return"";for(var _=[],x=-1,U="";++x<w;){var j=d[x];j<=65535?_.push(j):_.push(55296+((j-=65536)>>10),j%1024+56320),(x+1===w||_.length>16384)&&(U+=String.fromCharCode.apply(String,_),_.length=0)}return U},fd=function(d,A){var w=function(d){var _,U,j,z,G,A=.75*d.length,w=d.length,x=0;"="===d[d.length-1]&&(A--,"="===d[d.length-2]&&A--);var Ce=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(A):new Array(A),Fe=Array.isArray(Ce)?Ce:new Uint8Array(Ce);for(_=0;_<w;_+=4)U=Ql[d.charCodeAt(_)],j=Ql[d.charCodeAt(_+1)],z=Ql[d.charCodeAt(_+2)],G=Ql[d.charCodeAt(_+3)],Fe[x++]=U<<2|j>>4,Fe[x++]=(15&j)<<4|z>>2,Fe[x++]=(3&z)<<6|63&G;return Ce}(d),_=Array.isArray(w)?function(d){for(var A=d.length,w=[],_=0;_<A;_+=4)w.push(d[_+3]<<24|d[_+2]<<16|d[_+1]<<8|d[_]);return w}(w):new Uint32Array(w),x=Array.isArray(w)?function(d){for(var A=d.length,w=[],_=0;_<A;_+=2)w.push(d[_+1]<<8|d[_]);return w}(w):new Uint16Array(w),j=Ff(x,12,_[4]/2),z=2===_[5]?Ff(x,(24+_[4])/2):function(d,A,w){return d.slice?d.slice(A,w):new Uint32Array(Array.prototype.slice.call(d,A,w))}(_,Math.ceil((24+_[4])/4));return new nh(_[0],_[1],_[2],_[3],j,z)}("AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA="),pd=function(d){return fd.get(d)},da=function(d,A,w){var _=w-2,x=A[_],U=A[w-1],j=A[w];if(2===U&&3===j)return"\xd7";if(2===U||3===U||4===U||2===j||3===j||4===j)return"\xf7";if(U===Ad&&-1!==[Ad,Fc,hd,Hh].indexOf(j)||(U===hd||U===Fc)&&(j===Fc||10===j)||(U===Hh||10===U)&&10===j||13===j||5===j||7===j||1===U)return"\xd7";if(13===U&&14===j){for(;5===x;)x=A[--_];if(14===x)return"\xd7"}if(15===U&&15===j){for(var z=0;15===x;)z++,x=A[--_];if(z%2==0)return"\xd7"}return"\xf7"},ih=function(d){var A=function(d){for(var A=[],w=0,_=d.length;w<_;){var x=d.charCodeAt(w++);if(x>=55296&&x<=56319&&w<_){var U=d.charCodeAt(w++);56320==(64512&U)?A.push(((1023&x)<<10)+(1023&U)+65536):(A.push(x),w--)}else A.push(x)}return A}(d),w=A.length,_=0,x=0,U=A.map(pd);return{next:function(){if(_>=w)return{done:!0,value:null};for(var j="\xd7";_<w&&"\xd7"===(j=da(0,U,++_)););if("\xd7"!==j||_===w){var z=rh.apply(null,A.slice(x,_));return x=_,{value:z,done:!1}}return{done:!0,value:null}}}},el=function(d){return 0===d[0]&&255===d[1]&&0===d[2]&&255===d[3]},sh=function(d,A,w,_,x){var U="http://www.w3.org/2000/svg",j=document.createElementNS(U,"svg"),z=document.createElementNS(U,"foreignObject");return j.setAttributeNS(null,"width",d.toString()),j.setAttributeNS(null,"height",A.toString()),z.setAttributeNS(null,"width","100%"),z.setAttributeNS(null,"height","100%"),z.setAttributeNS(null,"x",w.toString()),z.setAttributeNS(null,"y",_.toString()),z.setAttributeNS(null,"externalResourcesRequired","true"),j.appendChild(z),z.appendChild(x),j},gd=function(d){return new Promise(function(A,w){var _=new Image;_.onload=function(){return A(_)},_.onerror=w,_.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent((new XMLSerializer).serializeToString(d))})},Ps={get SUPPORT_RANGE_BOUNDS(){var d=function(d){if(d.createRange){var w=d.createRange();if(w.getBoundingClientRect){var _=d.createElement("boundtest");_.style.height="123px",_.style.display="block",d.body.appendChild(_),w.selectNode(_);var x=w.getBoundingClientRect(),U=Math.round(x.height);if(d.body.removeChild(_),123===U)return!0}}return!1}(document);return Object.defineProperty(Ps,"SUPPORT_RANGE_BOUNDS",{value:d}),d},get SUPPORT_WORD_BREAKING(){var d=Ps.SUPPORT_RANGE_BOUNDS&&function(d){var A=d.createElement("boundtest");A.style.width="50px",A.style.display="block",A.style.fontSize="12px",A.style.letterSpacing="0px",A.style.wordSpacing="0px",d.body.appendChild(A);var w=d.createRange();A.innerHTML="function"==typeof"".repeat?"&#128104;".repeat(10):"";var _=A.firstChild,x=Dt(_.data).map(function(G){return $t(G)}),U=0,j={},z=x.every(function(G,Ce){w.setStart(_,U),w.setEnd(_,U+G.length);var Fe=w.getBoundingClientRect();U+=G.length;var Me=Fe.x>j.x||Fe.y>j.y;return j=Fe,0===Ce||Me});return d.body.removeChild(A),z}(document);return Object.defineProperty(Ps,"SUPPORT_WORD_BREAKING",{value:d}),d},get SUPPORT_SVG_DRAWING(){var d=function(d){var A=new Image,w=d.createElement("canvas"),_=w.getContext("2d");if(!_)return!1;A.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{_.drawImage(A,0,0),w.toDataURL()}catch{return!1}return!0}(document);return Object.defineProperty(Ps,"SUPPORT_SVG_DRAWING",{value:d}),d},get SUPPORT_FOREIGNOBJECT_DRAWING(){var d="function"==typeof Array.from&&"function"==typeof window.fetch?function(d){var A=d.createElement("canvas"),w=100;A.width=w,A.height=w;var _=A.getContext("2d");if(!_)return Promise.reject(!1);_.fillStyle="rgb(0, 255, 0)",_.fillRect(0,0,w,w);var x=new Image,U=A.toDataURL();x.src=U;var j=sh(w,w,0,0,x);return _.fillStyle="red",_.fillRect(0,0,w,w),gd(j).then(function(z){_.drawImage(z,0,0);var G=_.getImageData(0,0,w,w).data;_.fillStyle="red",_.fillRect(0,0,w,w);var Ce=d.createElement("div");return Ce.style.backgroundImage="url("+U+")",Ce.style.height=w+"px",el(G)?gd(sh(w,w,0,0,Ce)):Promise.reject(!1)}).then(function(z){return _.drawImage(z,0,0),el(_.getImageData(0,0,w,w).data)}).catch(function(){return!1})}(document):Promise.resolve(!1);return Object.defineProperty(Ps,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:d}),d},get SUPPORT_CORS_IMAGES(){var d=typeof(new Image).crossOrigin<"u";return Object.defineProperty(Ps,"SUPPORT_CORS_IMAGES",{value:d}),d},get SUPPORT_RESPONSE_TYPE(){var d="string"==typeof(new XMLHttpRequest).responseType;return Object.defineProperty(Ps,"SUPPORT_RESPONSE_TYPE",{value:d}),d},get SUPPORT_CORS_XHR(){var d="withCredentials"in new XMLHttpRequest;return Object.defineProperty(Ps,"SUPPORT_CORS_XHR",{value:d}),d},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var d=!!(typeof Intl<"u"&&Intl.Segmenter);return Object.defineProperty(Ps,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:d}),d}},Pu=function(){return function d(A,w){this.text=A,this.bounds=w}}(),Wd=function(d,A){var w=A.ownerDocument;if(w){var _=w.createElement("html2canvaswrapper");_.appendChild(A.cloneNode(!0));var x=A.parentNode;if(x){x.replaceChild(_,A);var U=Ht(d,_);return _.firstChild&&x.replaceChild(_.firstChild,_),U}}return xn.EMPTY},Pc=function(d,A,w){var _=d.ownerDocument;if(!_)throw new Error("Node has no owner document");var x=_.createRange();return x.setStart(d,A),x.setEnd(d,A+w),x},zl=function(d){if(Ps.SUPPORT_NATIVE_TEXT_SEGMENTATION){var A=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(A.segment(d)).map(function(w){return w.segment})}return function(d){for(var _,A=ih(d),w=[];!(_=A.next()).done;)_.value&&w.push(_.value.slice());return w}(d)},ah=function(d,A){return 0!==A.letterSpacing?zl(d):function(d,A){if(Ps.SUPPORT_NATIVE_TEXT_SEGMENTATION){var w=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(w.segment(d)).map(function(_){return _.segment})}return FA(d,A)}(d,A)},gp=[32,160,4961,65792,65793,4153,4241],FA=function(d,A){for(var x,w=function(d,A){var w=Dt(d),_=id(w,A),x=_[0],U=_[1],j=_[2],z=w.length,G=0,Ce=0;return{next:function(){if(Ce>=z)return{done:!0,value:null};for(var Fe=J;Ce<z&&(Fe=Fd(w,U,x,++Ce,j))===J;);if(Fe!==J||Ce===z){var Me=new va(w,Fe,G,Ce);return G=Ce,{value:Me,done:!1}}return{done:!0,value:null}}}}(d,{lineBreak:A.lineBreak,wordBreak:"break-word"===A.overflowWrap?"break-word":A.wordBreak}),_=[],U=function(){if(x.value){var j=x.value.slice(),z=Dt(j),G="";z.forEach(function(Ce){-1===gp.indexOf(Ce)?G+=$t(Ce):(G.length&&_.push(G),_.push($t(Ce)),G="")}),G.length&&_.push(G)}};!(x=w.next()).done;)U();return _},Kd=function(){return function d(A,w,_){this.text=qd(w.data,_.textTransform),this.textBounds=function(d,A,w,_){var x=ah(A,w),U=[],j=0;return x.forEach(function(z){if(w.textDecorationLine.length||z.trim().length>0)if(Ps.SUPPORT_RANGE_BOUNDS){var G=Pc(_,j,z.length).getClientRects();if(G.length>1){var Ce=zl(z),Fe=0;Ce.forEach(function(It){U.push(new Pu(It,xn.fromDOMRectList(d,Pc(_,Fe+j,It.length).getClientRects()))),Fe+=It.length})}else U.push(new Pu(z,xn.fromDOMRectList(d,G)))}else{var Me=_.splitText(z.length);U.push(new Pu(z,Wd(d,_))),_=Me}else Ps.SUPPORT_RANGE_BOUNDS||(_=_.splitText(z.length));j+=z.length}),U}(A,this.text,_,w)}}(),qd=function(d,A){switch(A){case 1:return d.toLowerCase();case 3:return d.replace(Nc,dc);case 2:return d.toUpperCase();default:return d}},Nc=/(^|\s|:|-|\(|\))([a-z])/g,dc=function(d,A,w){return d.length>0?A+w.toUpperCase():d},R=function(d){function A(w,_){var x=d.call(this,w,_)||this;return x.src=_.currentSrc||_.src,x.intrinsicWidth=_.naturalWidth,x.intrinsicHeight=_.naturalHeight,x.context.cache.addImage(x.src),x}return _t(A,d),A}(Po),ne=function(d){function A(w,_){var x=d.call(this,w,_)||this;return x.canvas=_,x.intrinsicWidth=_.width,x.intrinsicHeight=_.height,x}return _t(A,d),A}(Po),je=function(d){function A(w,_){var x=d.call(this,w,_)||this,U=new XMLSerializer,j=Ht(w,_);return _.setAttribute("width",j.width+"px"),_.setAttribute("height",j.height+"px"),x.svg="data:image/svg+xml,"+encodeURIComponent(U.serializeToString(_)),x.intrinsicWidth=_.width.baseVal.value,x.intrinsicHeight=_.height.baseVal.value,x.context.cache.addImage(x.svg),x}return _t(A,d),A}(Po),pt=function(d){function A(w,_){var x=d.call(this,w,_)||this;return x.value=_.value,x}return _t(A,d),A}(Po),kt=function(d){function A(w,_){var x=d.call(this,w,_)||this;return x.start=_.start,x.reversed="boolean"==typeof _.reversed&&!0===_.reversed,x}return _t(A,d),A}(Po),Ge=[{type:15,flags:0,unit:"px",number:3}],gn=[{type:16,flags:0,number:50}],cr="checkbox",Bi="radio",Ki="password",Ao=707406591,is=function(d){function A(w,_){var x=d.call(this,w,_)||this;switch(x.type=_.type.toLowerCase(),x.checked=_.checked,x.value=function(d){var A=d.type===Ki?new Array(d.value.length+1).join("\u2022"):d.value;return 0===A.length?d.placeholder||"":A}(_),(x.type===cr||x.type===Bi)&&(x.styles.backgroundColor=3739148031,x.styles.borderTopColor=x.styles.borderRightColor=x.styles.borderBottomColor=x.styles.borderLeftColor=2779096575,x.styles.borderTopWidth=x.styles.borderRightWidth=x.styles.borderBottomWidth=x.styles.borderLeftWidth=1,x.styles.borderTopStyle=x.styles.borderRightStyle=x.styles.borderBottomStyle=x.styles.borderLeftStyle=1,x.styles.backgroundClip=[0],x.styles.backgroundOrigin=[0],x.bounds=function(d){return d.width>d.height?new xn(d.left+(d.width-d.height)/2,d.top,d.height,d.height):d.width<d.height?new xn(d.left,d.top+(d.height-d.width)/2,d.width,d.width):d}(x.bounds)),x.type){case cr:x.styles.borderTopRightRadius=x.styles.borderTopLeftRadius=x.styles.borderBottomRightRadius=x.styles.borderBottomLeftRadius=Ge;break;case Bi:x.styles.borderTopRightRadius=x.styles.borderTopLeftRadius=x.styles.borderBottomRightRadius=x.styles.borderBottomLeftRadius=gn}return x}return _t(A,d),A}(Po),Cs=function(d){function A(w,_){var x=d.call(this,w,_)||this,U=_.options[_.selectedIndex||0];return x.value=U&&U.text||"",x}return _t(A,d),A}(Po),_a=function(d){function A(w,_){var x=d.call(this,w,_)||this;return x.value=_.value,x}return _t(A,d),A}(Po),Xs=function(d){function A(w,_){var x=d.call(this,w,_)||this;x.src=_.src,x.width=parseInt(_.width,10)||0,x.height=parseInt(_.height,10)||0,x.backgroundColor=x.styles.backgroundColor;try{if(_.contentWindow&&_.contentWindow.document&&_.contentWindow.document.documentElement){x.tree=Yd(w,_.contentWindow.document.documentElement);var U=_.contentWindow.document.documentElement?Dc(w,getComputedStyle(_.contentWindow.document.documentElement).backgroundColor):ou.TRANSPARENT,j=_.contentWindow.document.body?Dc(w,getComputedStyle(_.contentWindow.document.body).backgroundColor):ou.TRANSPARENT;x.backgroundColor=Vs(U)?Vs(j)?x.styles.backgroundColor:j:U}}catch{}return x}return _t(A,d),A}(Po),du=["OL","UL","MENU"],Qo=function(d,A,w,_){for(var x=A.firstChild,U=void 0;x;x=U)if(U=x.nextSibling,md(x)&&x.data.trim().length>0)w.textNodes.push(new Kd(d,x,w.styles));else if(Nu(x))if(yn(x)&&x.assignedNodes)x.assignedNodes().forEach(function(z){return Qo(d,z,w,_)});else{var j=Js(d,x);j.styles.isVisible()&&(wa(x,j,_)?j.flags|=4:Il(j.styles)&&(j.flags|=2),-1!==du.indexOf(x.tagName)&&(j.flags|=8),w.elements.push(j),x.shadowRoot?Qo(d,x.shadowRoot,j,_):!gt(x)&&!kA(x)&&!Tt(x)&&Qo(d,x,j,_))}},Js=function(d,A){return b(A)?new R(d,A):B(A)?new ne(d,A):kA(A)?new je(d,A):ja(A)?new pt(d,A):vd(A)?new kt(d,A):Lc(A)?new is(d,A):Tt(A)?new Cs(d,A):gt(A)?new _a(d,A):F(A)?new Xs(d,A):new Po(d,A)},Yd=function(d,A){var w=Js(d,A);return w.flags|=4,Qo(d,A,w,w),w},wa=function(d,A,w){return A.styles.isPositionedWithZIndex()||A.styles.opacity<1||A.styles.isTransformed()||Pa(d)&&w.styles.isTransparent()},Il=function(d){return d.isPositioned()||d.isFloating()},md=function(d){return d.nodeType===Node.TEXT_NODE},Nu=function(d){return d.nodeType===Node.ELEMENT_NODE},Xd=function(d){return Nu(d)&&typeof d.style<"u"&&!Mc(d)},Mc=function(d){return"object"==typeof d.className},ja=function(d){return"LI"===d.tagName},vd=function(d){return"OL"===d.tagName},Lc=function(d){return"INPUT"===d.tagName},kA=function(d){return"svg"===d.tagName},Pa=function(d){return"BODY"===d.tagName},B=function(d){return"CANVAS"===d.tagName},m=function(d){return"VIDEO"===d.tagName},b=function(d){return"IMG"===d.tagName},F=function(d){return"IFRAME"===d.tagName},W=function(d){return"STYLE"===d.tagName},gt=function(d){return"TEXTAREA"===d.tagName},Tt=function(d){return"SELECT"===d.tagName},yn=function(d){return"SLOT"===d.tagName},Ln=function(d){return d.tagName.indexOf("-")>0},Lr=function(){function d(){this.counters={}}return d.prototype.getCounterValue=function(A){var w=this.counters[A];return w&&w.length?w[w.length-1]:1},d.prototype.getCounterValues=function(A){return this.counters[A]||[]},d.prototype.pop=function(A){var w=this;A.forEach(function(_){return w.counters[_].pop()})},d.prototype.parse=function(A){var w=this,_=A.counterIncrement,x=A.counterReset,U=!0;null!==_&&_.forEach(function(z){var G=w.counters[z.counter];G&&0!==z.increment&&(U=!1,G.length||G.push(1),G[Math.max(0,G.length-1)]+=z.increment)});var j=[];return U&&x.forEach(function(z){var G=w.counters[z.counter];j.push(z.counter),G||(G=w.counters[z.counter]=[]),G.push(z.reset)}),j},d}(),bi={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},Bs={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["\u0554","\u0553","\u0552","\u0551","\u0550","\u054f","\u054e","\u054d","\u054c","\u054b","\u054a","\u0549","\u0548","\u0547","\u0546","\u0545","\u0544","\u0543","\u0542","\u0541","\u0540","\u053f","\u053e","\u053d","\u053c","\u053b","\u053a","\u0539","\u0538","\u0537","\u0536","\u0535","\u0534","\u0533","\u0532","\u0531"]},$l={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["\u05d9\u05f3","\u05d8\u05f3","\u05d7\u05f3","\u05d6\u05f3","\u05d5\u05f3","\u05d4\u05f3","\u05d3\u05f3","\u05d2\u05f3","\u05d1\u05f3","\u05d0\u05f3","\u05ea","\u05e9","\u05e8","\u05e7","\u05e6","\u05e4","\u05e2","\u05e1","\u05e0","\u05de","\u05dc","\u05db","\u05d9\u05d8","\u05d9\u05d7","\u05d9\u05d6","\u05d8\u05d6","\u05d8\u05d5","\u05d9","\u05d8","\u05d7","\u05d6","\u05d5","\u05d4","\u05d3","\u05d2","\u05d1","\u05d0"]},tl={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["\u10f5","\u10f0","\u10ef","\u10f4","\u10ee","\u10ed","\u10ec","\u10eb","\u10ea","\u10e9","\u10e8","\u10e7","\u10e6","\u10e5","\u10e4","\u10f3","\u10e2","\u10e1","\u10e0","\u10df","\u10de","\u10dd","\u10f2","\u10dc","\u10db","\u10da","\u10d9","\u10d8","\u10d7","\u10f1","\u10d6","\u10d5","\u10d4","\u10d3","\u10d2","\u10d1","\u10d0"]},Gl=function(d,A,w,_,x,U){return d<A||d>w?Ko(d,x,U.length>0):_.integers.reduce(function(j,z,G){for(;d>=z;)d-=z,j+=_.values[G];return j},"")+U},Au=function(d,A,w,_){var x="";do{w||d--,x=_(d)+x,d/=A}while(d*A>=A);return x},qi=function(d,A,w,_,x){var U=w-A+1;return(d<0?"-":"")+(Au(Math.abs(d),U,_,function(j){return $t(Math.floor(j%U)+A)})+x)},Ca=function(d,A,w){void 0===w&&(w=". ");var _=A.length;return Au(Math.abs(d),_,!1,function(x){return A[Math.floor(x%_)]})+w},Ia=function(d,A,w,_,x,U){if(d<-9999||d>9999)return Ko(d,4,x.length>0);var j=Math.abs(d),z=x;if(0===j)return A[0]+z;for(var G=0;j>0&&G<=4;G++){var Ce=j%10;0===Ce&&di(U,1)&&""!==z?z=A[Ce]+z:Ce>1||1===Ce&&0===G||1===Ce&&1===G&&di(U,2)||1===Ce&&1===G&&di(U,4)&&d>100||1===Ce&&G>1&&di(U,8)?z=A[Ce]+(G>0?w[G-1]:"")+z:1===Ce&&G>0&&(z=w[G-1]+z),j=Math.floor(j/10)}return(d<0?_:"")+z},No="\ub9c8\uc774\ub108\uc2a4",Ko=function(d,A,w){var _=w?". ":"",x=w?"\u3001":"",U=w?", ":"",j=w?" ":"";switch(A){case 0:return"\u2022"+j;case 1:return"\u25e6"+j;case 2:return"\u25fe"+j;case 5:var z=qi(d,48,57,!0,_);return z.length<4?"0"+z:z;case 4:return Ca(d,"\u3007\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d",x);case 6:return Gl(d,1,3999,bi,3,_).toLowerCase();case 7:return Gl(d,1,3999,bi,3,_);case 8:return qi(d,945,969,!1,_);case 9:return qi(d,97,122,!1,_);case 10:return qi(d,65,90,!1,_);case 11:return qi(d,1632,1641,!0,_);case 12:case 49:return Gl(d,1,9999,Bs,3,_);case 35:return Gl(d,1,9999,Bs,3,_).toLowerCase();case 13:return qi(d,2534,2543,!0,_);case 14:case 30:return qi(d,6112,6121,!0,_);case 15:return Ca(d,"\u5b50\u4e11\u5bc5\u536f\u8fb0\u5df3\u5348\u672a\u7533\u9149\u620c\u4ea5",x);case 16:return Ca(d,"\u7532\u4e59\u4e19\u4e01\u620a\u5df1\u5e9a\u8f9b\u58ec\u7678",x);case 17:case 48:return Ia(d,"\u96f6\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d","\u5341\u767e\u5343\u842c","\u8ca0",x,14);case 47:return Ia(d,"\u96f6\u58f9\u8cb3\u53c3\u8086\u4f0d\u9678\u67d2\u634c\u7396","\u62fe\u4f70\u4edf\u842c","\u8ca0",x,15);case 42:return Ia(d,"\u96f6\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d","\u5341\u767e\u5343\u842c","\u8d1f",x,14);case 41:return Ia(d,"\u96f6\u58f9\u8d30\u53c1\u8086\u4f0d\u9646\u67d2\u634c\u7396","\u62fe\u4f70\u4edf\u842c","\u8d1f",x,15);case 26:return Ia(d,"\u3007\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d","\u5341\u767e\u5343\u4e07","\u30de\u30a4\u30ca\u30b9",x,0);case 25:return Ia(d,"\u96f6\u58f1\u5f10\u53c2\u56db\u4f0d\u516d\u4e03\u516b\u4e5d","\u62fe\u767e\u5343\u4e07","\u30de\u30a4\u30ca\u30b9",x,7);case 31:return Ia(d,"\uc601\uc77c\uc774\uc0bc\uc0ac\uc624\uc721\uce60\ud314\uad6c","\uc2ed\ubc31\ucc9c\ub9cc",No,U,7);case 33:return Ia(d,"\u96f6\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d","\u5341\u767e\u5343\u842c",No,U,0);case 32:return Ia(d,"\u96f6\u58f9\u8cb3\u53c3\u56db\u4e94\u516d\u4e03\u516b\u4e5d","\u62fe\u767e\u5343",No,U,7);case 18:return qi(d,2406,2415,!0,_);case 20:return Gl(d,1,19999,tl,3,_);case 21:return qi(d,2790,2799,!0,_);case 22:return qi(d,2662,2671,!0,_);case 22:return Gl(d,1,10999,$l,3,_);case 23:return Ca(d,"\u3042\u3044\u3046\u3048\u304a\u304b\u304d\u304f\u3051\u3053\u3055\u3057\u3059\u305b\u305d\u305f\u3061\u3064\u3066\u3068\u306a\u306b\u306c\u306d\u306e\u306f\u3072\u3075\u3078\u307b\u307e\u307f\u3080\u3081\u3082\u3084\u3086\u3088\u3089\u308a\u308b\u308c\u308d\u308f\u3090\u3091\u3092\u3093");case 24:return Ca(d,"\u3044\u308d\u306f\u306b\u307b\u3078\u3068\u3061\u308a\u306c\u308b\u3092\u308f\u304b\u3088\u305f\u308c\u305d\u3064\u306d\u306a\u3089\u3080\u3046\u3090\u306e\u304a\u304f\u3084\u307e\u3051\u3075\u3053\u3048\u3066\u3042\u3055\u304d\u3086\u3081\u307f\u3057\u3091\u3072\u3082\u305b\u3059");case 27:return qi(d,3302,3311,!0,_);case 28:return Ca(d,"\u30a2\u30a4\u30a6\u30a8\u30aa\u30ab\u30ad\u30af\u30b1\u30b3\u30b5\u30b7\u30b9\u30bb\u30bd\u30bf\u30c1\u30c4\u30c6\u30c8\u30ca\u30cb\u30cc\u30cd\u30ce\u30cf\u30d2\u30d5\u30d8\u30db\u30de\u30df\u30e0\u30e1\u30e2\u30e4\u30e6\u30e8\u30e9\u30ea\u30eb\u30ec\u30ed\u30ef\u30f0\u30f1\u30f2\u30f3",x);case 29:return Ca(d,"\u30a4\u30ed\u30cf\u30cb\u30db\u30d8\u30c8\u30c1\u30ea\u30cc\u30eb\u30f2\u30ef\u30ab\u30e8\u30bf\u30ec\u30bd\u30c4\u30cd\u30ca\u30e9\u30e0\u30a6\u30f0\u30ce\u30aa\u30af\u30e4\u30de\u30b1\u30d5\u30b3\u30a8\u30c6\u30a2\u30b5\u30ad\u30e6\u30e1\u30df\u30b7\u30f1\u30d2\u30e2\u30bb\u30b9",x);case 34:return qi(d,3792,3801,!0,_);case 37:return qi(d,6160,6169,!0,_);case 38:return qi(d,4160,4169,!0,_);case 39:return qi(d,2918,2927,!0,_);case 40:return qi(d,1776,1785,!0,_);case 43:return qi(d,3046,3055,!0,_);case 44:return qi(d,3174,3183,!0,_);case 45:return qi(d,3664,3673,!0,_);case 46:return qi(d,3872,3881,!0,_);default:return qi(d,48,57,!0,_)}},Ns="data-html2canvas-ignore",Ea=function(){function d(A,w,_){if(this.context=A,this.options=_,this.scrolledElements=[],this.referenceElement=w,this.counters=new Lr,this.quoteDepth=0,!w.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(w.ownerDocument.documentElement,!1)}return d.prototype.toIFrame=function(A,w){var _=this,x=RA(A,w);if(!x.contentWindow)return Promise.reject("Unable to find iframe window");var U=A.defaultView.pageXOffset,j=A.defaultView.pageYOffset,z=x.contentWindow,G=z.document,Ce=mp(x).then(function(){return Pt(_,void 0,void 0,function(){var Fe,Me;return he(this,function(It){switch(It.label){case 0:return this.scrolledElements.forEach(Rf),z&&(z.scrollTo(w.left,w.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(z.scrollY!==w.top||z.scrollX!==w.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(z.scrollX-w.left,z.scrollY-w.top,0,0))),Fe=this.options.onclone,typeof(Me=this.clonedReferenceElement)>"u"?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:G.fonts&&G.fonts.ready?[4,G.fonts.ready]:[3,2];case 1:It.sent(),It.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,kg(G)]:[3,4];case 3:It.sent(),It.label=4;case 4:return"function"==typeof Fe?[2,Promise.resolve().then(function(){return Fe(G,Me)}).then(function(){return x})]:[2,x]}})})});return G.open(),G.write(zh(document.doctype)+"<html></html>"),yp(this.referenceElement.ownerDocument,U,j),G.replaceChild(G.adoptNode(this.documentElement),G.documentElement),G.close(),Ce},d.prototype.createElementClone=function(A){if(Ys(A,2),B(A))return this.createCanvasClone(A);if(m(A))return this.createVideoClone(A);if(W(A))return this.createStyleClone(A);var w=A.cloneNode(!1);return b(w)&&(b(A)&&A.currentSrc&&A.currentSrc!==A.src&&(w.src=A.currentSrc,w.srcset=""),"lazy"===w.loading&&(w.loading="eager")),Ln(w)?this.createCustomElementClone(w):w},d.prototype.createCustomElementClone=function(A){var w=document.createElement("html2canvascustomelement");return vp(A.style,w),w},d.prototype.createStyleClone=function(A){try{var w=A.sheet;if(w&&w.cssRules){var _=[].slice.call(w.cssRules,0).reduce(function(U,j){return j&&"string"==typeof j.cssText?U+j.cssText:U},""),x=A.cloneNode(!1);return x.textContent=_,x}}catch(U){if(this.context.logger.error("Unable to access cssRules property",U),"SecurityError"!==U.name)throw U}return A.cloneNode(!1)},d.prototype.createCanvasClone=function(A){var w;if(this.options.inlineImages&&A.ownerDocument){var _=A.ownerDocument.createElement("img");try{return _.src=A.toDataURL(),_}catch{this.context.logger.info("Unable to inline canvas contents, canvas is tainted",A)}}var x=A.cloneNode(!1);try{x.width=A.width,x.height=A.height;var U=A.getContext("2d"),j=x.getContext("2d");if(j)if(!this.options.allowTaint&&U)j.putImageData(U.getImageData(0,0,A.width,A.height),0,0);else{var z=null!==(w=A.getContext("webgl2"))&&void 0!==w?w:A.getContext("webgl");if(z){var G=z.getContextAttributes();!1===(null==G?void 0:G.preserveDrawingBuffer)&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",A)}j.drawImage(A,0,0)}return x}catch{this.context.logger.info("Unable to clone canvas as it is tainted",A)}return x},d.prototype.createVideoClone=function(A){var w=A.ownerDocument.createElement("canvas");w.width=A.offsetWidth,w.height=A.offsetHeight;var _=w.getContext("2d");try{return _&&(_.drawImage(A,0,0,w.width,w.height),this.options.allowTaint||_.getImageData(0,0,w.width,w.height)),w}catch{this.context.logger.info("Unable to clone video as it is tainted",A)}var x=A.ownerDocument.createElement("canvas");return x.width=A.offsetWidth,x.height=A.offsetHeight,x},d.prototype.appendChildNode=function(A,w,_){(!Nu(w)||!function(d){return"SCRIPT"===d.tagName}(w)&&!w.hasAttribute(Ns)&&("function"!=typeof this.options.ignoreElements||!this.options.ignoreElements(w)))&&(!this.options.copyStyles||!Nu(w)||!W(w))&&A.appendChild(this.cloneNode(w,_))},d.prototype.cloneChildNodes=function(A,w,_){for(var x=this,U=A.shadowRoot?A.shadowRoot.firstChild:A.firstChild;U;U=U.nextSibling)if(Nu(U)&&yn(U)&&"function"==typeof U.assignedNodes){var j=U.assignedNodes();j.length&&j.forEach(function(z){return x.appendChildNode(w,z,_)})}else this.appendChildNode(w,U,_)},d.prototype.cloneNode=function(A,w){if(md(A))return document.createTextNode(A.data);if(!A.ownerDocument)return A.cloneNode(!1);var _=A.ownerDocument.defaultView;if(_&&Nu(A)&&(Xd(A)||Mc(A))){var x=this.createElementClone(A);x.style.transitionProperty="none";var U=_.getComputedStyle(A),j=_.getComputedStyle(A,":before"),z=_.getComputedStyle(A,":after");this.referenceElement===A&&Xd(x)&&(this.clonedReferenceElement=x),Pa(x)&&_p(x);var G=this.counters.parse(new ac(this.context,U)),Ce=this.resolvePseudoContent(A,x,j,Ac.BEFORE);Ln(A)&&(w=!0),m(A)||this.cloneChildNodes(A,x,w),Ce&&x.insertBefore(Ce,x.firstChild);var Fe=this.resolvePseudoContent(A,x,z,Ac.AFTER);return Fe&&x.appendChild(Fe),this.counters.pop(G),(U&&(this.options.copyStyles||Mc(A))&&!F(A)||w)&&vp(U,x),(0!==A.scrollTop||0!==A.scrollLeft)&&this.scrolledElements.push([x,A.scrollLeft,A.scrollTop]),(gt(A)||Tt(A))&&(gt(x)||Tt(x))&&(x.value=A.value),x}return A.cloneNode(!1)},d.prototype.resolvePseudoContent=function(A,w,_,x){var U=this;if(_){var j=_.content,z=w.ownerDocument;if(z&&j&&"none"!==j&&"-moz-alt-content"!==j&&"none"!==_.display){this.counters.parse(new ac(this.context,_));var G=new lu(this.context,_),Ce=z.createElement("html2canvaspseudoelement");vp(_,Ce),G.content.forEach(function(Me){if(0===Me.type)Ce.appendChild(z.createTextNode(Me.value));else if(22===Me.type){var It=z.createElement("img");It.src=Me.value,It.style.opacity="1",Ce.appendChild(It)}else if(18===Me.type){if("attr"===Me.name){var nn=Me.values.filter(An);nn.length&&Ce.appendChild(z.createTextNode(A.getAttribute(nn[0].value)||""))}else if("counter"===Me.name){var dn=Me.values.filter(Vd),xr=dn[1];if((Zt=dn[0])&&An(Zt)){var Yn=U.counters.getCounterValue(Zt.value),Hn=xr&&An(xr)?Wr.parse(U.context,xr.value):3;Ce.appendChild(z.createTextNode(Ko(Yn,Hn,!1)))}}else if("counters"===Me.name){var Zt,Nr=Me.values.filter(Vd),Rr=Nr[1];if(xr=Nr[2],(Zt=Nr[0])&&An(Zt)){var vr=U.counters.getCounterValues(Zt.value),Bn=xr&&An(xr)?Wr.parse(U.context,xr.value):3,ei=Rr&&0===Rr.type?Rr.value:"",_i=vr.map(function(Di){return Ko(Di,Bn,!1)}).join(ei);Ce.appendChild(z.createTextNode(_i))}}}else if(20===Me.type)switch(Me.value){case"open-quote":Ce.appendChild(z.createTextNode(_l(G.quotes,U.quoteDepth++,!0)));break;case"close-quote":Ce.appendChild(z.createTextNode(_l(G.quotes,--U.quoteDepth,!1)));break;default:Ce.appendChild(z.createTextNode(Me.value))}}),Ce.className=El+" "+hu;var Fe=x===Ac.BEFORE?" "+El:" "+hu;return Mc(w)?w.className.baseValue+=Fe:w.className+=Fe,Ce}}},d.destroy=function(A){return!!A.parentNode&&(A.parentNode.removeChild(A),!0)},d}(),Ac=function(d){return d[d.BEFORE=0]="BEFORE",d[d.AFTER=1]="AFTER",d}(Ac||{}),RA=function(d,A){var w=d.createElement("iframe");return w.className="html2canvas-container",w.style.visibility="hidden",w.style.position="fixed",w.style.left="-10000px",w.style.top="0px",w.style.border="0",w.width=A.width.toString(),w.height=A.height.toString(),w.scrolling="no",w.setAttribute(Ns,"true"),d.body.appendChild(w),w},kf=function(d){return new Promise(function(A){d.complete?A():d.src?(d.onload=A,d.onerror=A):A()})},kg=function(d){return Promise.all([].slice.call(d.images,0).map(kf))},mp=function(d){return new Promise(function(A,w){var _=d.contentWindow;if(!_)return w("No window assigned for iframe");var x=_.document;_.onload=d.onload=function(){_.onload=d.onload=null;var U=setInterval(function(){x.body.childNodes.length>0&&"complete"===x.readyState&&(clearInterval(U),A(d))},50)}})},jh=["all","d","content"],vp=function(d,A){for(var w=d.length-1;w>=0;w--){var _=d.item(w);-1===jh.indexOf(_)&&A.style.setProperty(_,d.getPropertyValue(_))}return A},zh=function(d){var A="";return d&&(A+="<!DOCTYPE ",d.name&&(A+=d.name),d.internalSubset&&(A+=d.internalSubset),d.publicId&&(A+='"'+d.publicId+'"'),d.systemId&&(A+='"'+d.systemId+'"'),A+=">"),A},yp=function(d,A,w){d&&d.defaultView&&(A!==d.defaultView.pageXOffset||w!==d.defaultView.pageYOffset)&&d.defaultView.scrollTo(A,w)},Rf=function(d){var A=d[0],_=d[2];A.scrollLeft=d[1],A.scrollTop=_},El="___html2canvas___pseudoelement_before",hu="___html2canvas___pseudoelement_after",fu='{\n    content: "" !important;\n    display: none !important;\n}',_p=function(d){Nf(d,"."+El+":before"+fu+"\n         ."+hu+":after"+fu)},Nf=function(d,A){var w=d.ownerDocument;if(w){var _=w.createElement("style");_.textContent=A,d.appendChild(_)}},lh=function(){function d(){}return d.getOrigin=function(A){var w=d._link;return w?(w.href=A,w.href=w.href,w.protocol+w.hostname+w.port):"about:blank"},d.isSameOrigin=function(A){return d.getOrigin(A)===d._origin},d.setContext=function(A){d._link=A.document.createElement("a"),d._origin=d.getOrigin(A.location.href)},d._origin="about:blank",d}(),Mf=function(){function d(A,w){this.context=A,this._options=w,this._cache={}}return d.prototype.addImage=function(A){var w=Promise.resolve();return this.has(A)||(Ip(A)||Cp(A))&&(this._cache[A]=this.loadImage(A)).catch(function(){}),w},d.prototype.match=function(A){return this._cache[A]},d.prototype.loadImage=function(A){return Pt(this,void 0,void 0,function(){var w,_,x,U,j=this;return he(this,function(z){switch(z.label){case 0:return w=lh.isSameOrigin(A),_=!uh(A)&&!0===this._options.useCORS&&Ps.SUPPORT_CORS_IMAGES&&!w,x=!uh(A)&&!w&&!Ip(A)&&"string"==typeof this._options.proxy&&Ps.SUPPORT_CORS_XHR&&!_,w||!1!==this._options.allowTaint||uh(A)||Ip(A)||x||_?(U=A,x?[4,this.proxy(U)]:[3,2]):[2];case 1:U=z.sent(),z.label=2;case 2:return this.context.logger.debug("Added image "+A.substring(0,256)),[4,new Promise(function(G,Ce){var Fe=new Image;Fe.onload=function(){return G(Fe)},Fe.onerror=Ce,(bp(U)||_)&&(Fe.crossOrigin="anonymous"),Fe.src=U,!0===Fe.complete&&setTimeout(function(){return G(Fe)},500),j._options.imageTimeout>0&&setTimeout(function(){return Ce("Timed out ("+j._options.imageTimeout+"ms) loading image")},j._options.imageTimeout)})];case 3:return[2,z.sent()]}})})},d.prototype.has=function(A){return typeof this._cache[A]<"u"},d.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},d.prototype.proxy=function(A){var w=this,_=this._options.proxy;if(!_)throw new Error("No proxy defined");var x=A.substring(0,256);return new Promise(function(U,j){var z=Ps.SUPPORT_RESPONSE_TYPE?"blob":"text",G=new XMLHttpRequest;G.onload=function(){if(200===G.status)if("text"===z)U(G.response);else{var Me=new FileReader;Me.addEventListener("load",function(){return U(Me.result)},!1),Me.addEventListener("error",function(It){return j(It)},!1),Me.readAsDataURL(G.response)}else j("Failed to proxy resource "+x+" with status code "+G.status)},G.onerror=j;var Ce=_.indexOf("?")>-1?"&":"?";if(G.open("GET",""+_+Ce+"url="+encodeURIComponent(A)+"&responseType="+z),"text"!==z&&G instanceof XMLHttpRequest&&(G.responseType=z),w._options.imageTimeout){var Fe=w._options.imageTimeout;G.timeout=Fe,G.ontimeout=function(){return j("Timed out ("+Fe+"ms) proxying "+x)}}G.send()})},d}(),$h=/^data:image\/svg\+xml/i,wp=/^data:image\/.*;base64,/i,Rg=/^data:image\/.*/i,Cp=function(d){return Ps.SUPPORT_SVG_DRAWING||!Iy(d)},uh=function(d){return Rg.test(d)},bp=function(d){return wp.test(d)},Ip=function(d){return"blob"===d.substr(0,4)},Iy=function(d){return"svg"===d.substr(-3).toLowerCase()||$h.test(d)},mr=function(){function d(A,w){this.type=0,this.x=A,this.y=w}return d.prototype.add=function(A,w){return new d(this.x+A,this.y+w)},d}(),hc=function(d,A,w){return new mr(d.x+(A.x-d.x)*w,d.y+(A.y-d.y)*w)},Ep=function(){function d(A,w,_,x){this.type=1,this.start=A,this.startControl=w,this.endControl=_,this.end=x}return d.prototype.subdivide=function(A,w){var _=hc(this.start,this.startControl,A),x=hc(this.startControl,this.endControl,A),U=hc(this.endControl,this.end,A),j=hc(_,x,A),z=hc(x,U,A),G=hc(j,z,A);return w?new d(this.start,_,j,G):new d(G,z,U,this.end)},d.prototype.add=function(A,w){return new d(this.start.add(A,w),this.startControl.add(A,w),this.endControl.add(A,w),this.end.add(A,w))},d.prototype.reverse=function(){return new d(this.end,this.endControl,this.startControl,this.start)},d}(),Mu=function(d){return 1===d.type},ev=function(){return function d(A){var w=A.styles,_=A.bounds,x=Qd(w.borderTopLeftRadius,_.width,_.height),U=x[0],j=x[1],z=Qd(w.borderTopRightRadius,_.width,_.height),G=z[0],Ce=z[1],Fe=Qd(w.borderBottomRightRadius,_.width,_.height),Me=Fe[0],It=Fe[1],nn=Qd(w.borderBottomLeftRadius,_.width,_.height),dn=nn[0],Zt=nn[1],xr=[];xr.push((U+G)/_.width),xr.push((dn+Me)/_.width),xr.push((j+Zt)/_.height),xr.push((Ce+It)/_.height);var Yn=Math.max.apply(Math,xr);Yn>1&&(U/=Yn,j/=Yn,G/=Yn,Ce/=Yn,Me/=Yn,It/=Yn,dn/=Yn,Zt/=Yn);var Hn=_.width-G,Nr=_.height-It,Rr=_.width-Me,vr=_.height-Zt,Bn=w.borderTopWidth,ei=w.borderRightWidth,_i=w.borderBottomWidth,Fr=w.borderLeftWidth,ho=Oi(w.paddingTop,A.bounds.width),Di=Oi(w.paddingRight,A.bounds.width),hs=Oi(w.paddingBottom,A.bounds.width),Ui=Oi(w.paddingLeft,A.bounds.width);this.topLeftBorderDoubleOuterBox=U>0||j>0?Ho(_.left+Fr/3,_.top+Bn/3,U-Fr/3,j-Bn/3,wo.TOP_LEFT):new mr(_.left+Fr/3,_.top+Bn/3),this.topRightBorderDoubleOuterBox=U>0||j>0?Ho(_.left+Hn,_.top+Bn/3,G-ei/3,Ce-Bn/3,wo.TOP_RIGHT):new mr(_.left+_.width-ei/3,_.top+Bn/3),this.bottomRightBorderDoubleOuterBox=Me>0||It>0?Ho(_.left+Rr,_.top+Nr,Me-ei/3,It-_i/3,wo.BOTTOM_RIGHT):new mr(_.left+_.width-ei/3,_.top+_.height-_i/3),this.bottomLeftBorderDoubleOuterBox=dn>0||Zt>0?Ho(_.left+Fr/3,_.top+vr,dn-Fr/3,Zt-_i/3,wo.BOTTOM_LEFT):new mr(_.left+Fr/3,_.top+_.height-_i/3),this.topLeftBorderDoubleInnerBox=U>0||j>0?Ho(_.left+2*Fr/3,_.top+2*Bn/3,U-2*Fr/3,j-2*Bn/3,wo.TOP_LEFT):new mr(_.left+2*Fr/3,_.top+2*Bn/3),this.topRightBorderDoubleInnerBox=U>0||j>0?Ho(_.left+Hn,_.top+2*Bn/3,G-2*ei/3,Ce-2*Bn/3,wo.TOP_RIGHT):new mr(_.left+_.width-2*ei/3,_.top+2*Bn/3),this.bottomRightBorderDoubleInnerBox=Me>0||It>0?Ho(_.left+Rr,_.top+Nr,Me-2*ei/3,It-2*_i/3,wo.BOTTOM_RIGHT):new mr(_.left+_.width-2*ei/3,_.top+_.height-2*_i/3),this.bottomLeftBorderDoubleInnerBox=dn>0||Zt>0?Ho(_.left+2*Fr/3,_.top+vr,dn-2*Fr/3,Zt-2*_i/3,wo.BOTTOM_LEFT):new mr(_.left+2*Fr/3,_.top+_.height-2*_i/3),this.topLeftBorderStroke=U>0||j>0?Ho(_.left+Fr/2,_.top+Bn/2,U-Fr/2,j-Bn/2,wo.TOP_LEFT):new mr(_.left+Fr/2,_.top+Bn/2),this.topRightBorderStroke=U>0||j>0?Ho(_.left+Hn,_.top+Bn/2,G-ei/2,Ce-Bn/2,wo.TOP_RIGHT):new mr(_.left+_.width-ei/2,_.top+Bn/2),this.bottomRightBorderStroke=Me>0||It>0?Ho(_.left+Rr,_.top+Nr,Me-ei/2,It-_i/2,wo.BOTTOM_RIGHT):new mr(_.left+_.width-ei/2,_.top+_.height-_i/2),this.bottomLeftBorderStroke=dn>0||Zt>0?Ho(_.left+Fr/2,_.top+vr,dn-Fr/2,Zt-_i/2,wo.BOTTOM_LEFT):new mr(_.left+Fr/2,_.top+_.height-_i/2),this.topLeftBorderBox=U>0||j>0?Ho(_.left,_.top,U,j,wo.TOP_LEFT):new mr(_.left,_.top),this.topRightBorderBox=G>0||Ce>0?Ho(_.left+Hn,_.top,G,Ce,wo.TOP_RIGHT):new mr(_.left+_.width,_.top),this.bottomRightBorderBox=Me>0||It>0?Ho(_.left+Rr,_.top+Nr,Me,It,wo.BOTTOM_RIGHT):new mr(_.left+_.width,_.top+_.height),this.bottomLeftBorderBox=dn>0||Zt>0?Ho(_.left,_.top+vr,dn,Zt,wo.BOTTOM_LEFT):new mr(_.left,_.top+_.height),this.topLeftPaddingBox=U>0||j>0?Ho(_.left+Fr,_.top+Bn,Math.max(0,U-Fr),Math.max(0,j-Bn),wo.TOP_LEFT):new mr(_.left+Fr,_.top+Bn),this.topRightPaddingBox=G>0||Ce>0?Ho(_.left+Math.min(Hn,_.width-ei),_.top+Bn,Hn>_.width+ei?0:Math.max(0,G-ei),Math.max(0,Ce-Bn),wo.TOP_RIGHT):new mr(_.left+_.width-ei,_.top+Bn),this.bottomRightPaddingBox=Me>0||It>0?Ho(_.left+Math.min(Rr,_.width-Fr),_.top+Math.min(Nr,_.height-_i),Math.max(0,Me-ei),Math.max(0,It-_i),wo.BOTTOM_RIGHT):new mr(_.left+_.width-ei,_.top+_.height-_i),this.bottomLeftPaddingBox=dn>0||Zt>0?Ho(_.left+Fr,_.top+Math.min(vr,_.height-_i),Math.max(0,dn-Fr),Math.max(0,Zt-_i),wo.BOTTOM_LEFT):new mr(_.left+Fr,_.top+_.height-_i),this.topLeftContentBox=U>0||j>0?Ho(_.left+Fr+Ui,_.top+Bn+ho,Math.max(0,U-(Fr+Ui)),Math.max(0,j-(Bn+ho)),wo.TOP_LEFT):new mr(_.left+Fr+Ui,_.top+Bn+ho),this.topRightContentBox=G>0||Ce>0?Ho(_.left+Math.min(Hn,_.width+Fr+Ui),_.top+Bn+ho,Hn>_.width+Fr+Ui?0:G-Fr+Ui,Ce-(Bn+ho),wo.TOP_RIGHT):new mr(_.left+_.width-(ei+Di),_.top+Bn+ho),this.bottomRightContentBox=Me>0||It>0?Ho(_.left+Math.min(Rr,_.width-(Fr+Ui)),_.top+Math.min(Nr,_.height+Bn+ho),Math.max(0,Me-(ei+Di)),It-(_i+hs),wo.BOTTOM_RIGHT):new mr(_.left+_.width-(ei+Di),_.top+_.height-(_i+hs)),this.bottomLeftContentBox=dn>0||Zt>0?Ho(_.left+Fr+Ui,_.top+vr,Math.max(0,dn-(Fr+Ui)),Zt-(_i+hs),wo.BOTTOM_LEFT):new mr(_.left+Fr+Ui,_.top+_.height-(_i+hs))}}(),wo=function(d){return d[d.TOP_LEFT=0]="TOP_LEFT",d[d.TOP_RIGHT=1]="TOP_RIGHT",d[d.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",d[d.BOTTOM_LEFT=3]="BOTTOM_LEFT",d}(wo||{}),Ho=function(d,A,w,_,x){var U=(Math.sqrt(2)-1)/3*4,j=w*U,z=_*U,G=d+w,Ce=A+_;switch(x){case wo.TOP_LEFT:return new Ep(new mr(d,Ce),new mr(d,Ce-z),new mr(G-j,A),new mr(G,A));case wo.TOP_RIGHT:return new Ep(new mr(d,A),new mr(d+j,A),new mr(G,Ce-z),new mr(G,Ce));case wo.BOTTOM_RIGHT:return new Ep(new mr(G,A),new mr(G,A+z),new mr(d+j,Ce),new mr(d,Ce));default:return new Ep(new mr(G,Ce),new mr(G-j,Ce),new mr(d,A+z),new mr(d,A))}},Ms=function(d){return[d.topLeftBorderBox,d.topRightBorderBox,d.bottomRightBorderBox,d.bottomLeftBorderBox]},os=function(d){return[d.topLeftPaddingBox,d.topRightPaddingBox,d.bottomRightPaddingBox,d.bottomLeftPaddingBox]},Pg=function(){return function d(A,w,_){this.offsetX=A,this.offsetY=w,this.matrix=_,this.type=0,this.target=6}}(),Of=function(){return function d(A,w){this.path=A,this.target=w,this.type=1}}(),tv=function(){return function d(A){this.opacity=A,this.type=2,this.target=6}}(),nv=function(d){return 1===d.type},Uc=function(d,A){return d.length===A.length&&d.some(function(w,_){return w===A[_]})},Vc=function(){return function d(A){this.element=A,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}}(),iv=function(){function d(A,w){if(this.container=A,this.parent=w,this.effects=[],this.curves=new ev(this.container),this.container.styles.opacity<1&&this.effects.push(new tv(this.container.styles.opacity)),null!==this.container.styles.transform&&this.effects.push(new Pg(this.container.bounds.left+this.container.styles.transformOrigin[0].number,this.container.bounds.top+this.container.styles.transformOrigin[1].number,this.container.styles.transform)),0!==this.container.styles.overflowX){var j=Ms(this.curves),z=os(this.curves);Uc(j,z)?this.effects.push(new Of(j,6)):(this.effects.push(new Of(j,2)),this.effects.push(new Of(z,4)))}}return d.prototype.getEffects=function(A){for(var w=-1===[2,3].indexOf(this.container.styles.position),_=this.parent,x=this.effects.slice(0);_;){var U=_.effects.filter(function(G){return!nv(G)});if(w||0!==_.container.styles.position||!_.parent){if(x.unshift.apply(x,U),w=-1===[2,3].indexOf(_.container.styles.position),0!==_.container.styles.overflowX){var j=Ms(_.curves),z=os(_.curves);Uc(j,z)||x.unshift(new Of(z,6))}}else x.unshift.apply(x,U);_=_.parent}return x.filter(function(G){return di(G.target,A)})},d}(),Sp=function(d,A,w,_){d.container.elements.forEach(function(x){var U=di(x.flags,4),j=di(x.flags,2),z=new iv(x,d);di(x.styles.display,2048)&&_.push(z);var G=di(x.flags,8)?[]:_;if(U||j){var Ce=U||x.styles.isPositioned()?w:A,Fe=new Vc(z);if(x.styles.isPositioned()||x.styles.opacity<1||x.styles.isTransformed()){var Me=x.styles.zIndex.order;if(Me<0){var It=0;Ce.negativeZIndex.some(function(dn,Zt){return Me>dn.element.container.styles.zIndex.order?(It=Zt,!1):It>0}),Ce.negativeZIndex.splice(It,0,Fe)}else if(Me>0){var nn=0;Ce.positiveZIndex.some(function(dn,Zt){return Me>=dn.element.container.styles.zIndex.order?(nn=Zt+1,!1):nn>0}),Ce.positiveZIndex.splice(nn,0,Fe)}else Ce.zeroOrAutoZIndexOrTransformedOrOpacity.push(Fe)}else x.styles.isFloating()?Ce.nonPositionedFloats.push(Fe):Ce.nonPositionedInlineLevel.push(Fe);Sp(z,Fe,U?Fe:w,G)}else x.styles.isInlineLevel()?A.inlineLevel.push(z):A.nonInlineLevel.push(z),Sp(z,A,w,G);di(x.flags,8)&&eA(x,G)})},eA=function(d,A){for(var w=d instanceof kt?d.start:1,_=d instanceof kt&&d.reversed,x=0;x<A.length;x++){var U=A[x];U.container instanceof pt&&"number"==typeof U.container.value&&0!==U.container.value&&(w=U.container.value),U.listValue=Ko(w,U.container.styles.listStyleType,!0),w+=_?-1:1}},ov=function(d,A){switch(A){case 0:return gu(d.topLeftBorderBox,d.topLeftPaddingBox,d.topRightBorderBox,d.topRightPaddingBox);case 1:return gu(d.topRightBorderBox,d.topRightPaddingBox,d.bottomRightBorderBox,d.bottomRightPaddingBox);case 2:return gu(d.bottomRightBorderBox,d.bottomRightPaddingBox,d.bottomLeftBorderBox,d.bottomLeftPaddingBox);default:return gu(d.bottomLeftBorderBox,d.bottomLeftPaddingBox,d.topLeftBorderBox,d.topLeftPaddingBox)}},Tp=function(d,A){var w=[];return Mu(d)?w.push(d.subdivide(.5,!1)):w.push(d),Mu(A)?w.push(A.subdivide(.5,!0)):w.push(A),w},gu=function(d,A,w,_){var x=[];return Mu(d)?x.push(d.subdivide(.5,!1)):x.push(d),Mu(w)?x.push(w.subdivide(.5,!0)):x.push(w),Mu(_)?x.push(_.subdivide(.5,!0).reverse()):x.push(_),Mu(A)?x.push(A.subdivide(.5,!1).reverse()):x.push(A),x},Ng=function(d){var w=d.styles;return d.bounds.add(w.borderLeftWidth,w.borderTopWidth,-(w.borderRightWidth+w.borderLeftWidth),-(w.borderTopWidth+w.borderBottomWidth))},Mo=function(d){var A=d.styles,w=d.bounds,_=Oi(A.paddingLeft,w.width),x=Oi(A.paddingRight,w.width),U=Oi(A.paddingTop,w.width),j=Oi(A.paddingBottom,w.width);return w.add(_+A.borderLeftWidth,U+A.borderTopWidth,-(A.borderRightWidth+A.borderLeftWidth+_+x),-(A.borderTopWidth+A.borderBottomWidth+U+j))},Bp=function(d,A,w){var _=function(d,A){return 0===d?A.bounds:2===d?Mo(A):Ng(A)}(Qc(d.styles.backgroundOrigin,A),d),x=function(d,A){return 0===d?A.bounds:2===d?Mo(A):Ng(A)}(Qc(d.styles.backgroundClip,A),d),U=Lg(Qc(d.styles.backgroundSize,A),w,_),j=U[0],z=U[1],G=Qd(Qc(d.styles.backgroundPosition,A),_.width-j,_.height-z);return[Ey(Qc(d.styles.backgroundRepeat,A),G,U,_,x),Math.round(_.left+G[0]),Math.round(_.top+G[1]),j,z]},tA=function(d){return An(d)&&d.value===Ue.AUTO},Ou=function(d){return"number"==typeof d},Lg=function(d,A,w){var _=A[0],x=A[1],U=A[2],j=d[0],z=d[1];if(!j)return[0,0];if(Go(j)&&z&&Go(z))return[Oi(j,w.width),Oi(z,w.height)];var G=Ou(U);if(An(j)&&(j.value===Ue.CONTAIN||j.value===Ue.COVER))return Ou(U)?w.width/w.height<U!=(j.value===Ue.COVER)?[w.width,w.width/U]:[w.height*U,w.height]:[w.width,w.height];var Fe=Ou(_),Me=Ou(x),It=Fe||Me;if(tA(j)&&(!z||tA(z)))return Fe&&Me?[_,x]:G||It?It&&G?[Fe?_:x*U,Me?x:_/U]:[Fe?_:w.width,Me?x:w.height]:[w.width,w.height];if(G){var Yn=0,Hn=0;return Go(j)?Yn=Oi(j,w.width):Go(z)&&(Hn=Oi(z,w.height)),tA(j)?Yn=Hn*U:(!z||tA(z))&&(Hn=Yn/U),[Yn,Hn]}var Nr=null,Rr=null;if(Go(j)?Nr=Oi(j,w.width):z&&Go(z)&&(Rr=Oi(z,w.height)),null!==Nr&&(!z||tA(z))&&(Rr=Fe&&Me?Nr/_*x:w.height),null!==Rr&&tA(j)&&(Nr=Fe&&Me?Rr/x*_:w.width),null!==Nr&&null!==Rr)return[Nr,Rr];throw new Error("Unable to calculate background-size for element")},Qc=function(d,A){var w=d[A];return typeof w>"u"?d[0]:w},Ey=function(d,A,w,_,x){var U=A[0],j=A[1],z=w[0],G=w[1];switch(d){case 2:return[new mr(Math.round(_.left),Math.round(_.top+j)),new mr(Math.round(_.left+_.width),Math.round(_.top+j)),new mr(Math.round(_.left+_.width),Math.round(G+_.top+j)),new mr(Math.round(_.left),Math.round(G+_.top+j))];case 3:return[new mr(Math.round(_.left+U),Math.round(_.top)),new mr(Math.round(_.left+U+z),Math.round(_.top)),new mr(Math.round(_.left+U+z),Math.round(_.height+_.top)),new mr(Math.round(_.left+U),Math.round(_.height+_.top))];case 1:return[new mr(Math.round(_.left+U),Math.round(_.top+j)),new mr(Math.round(_.left+U+z),Math.round(_.top+j)),new mr(Math.round(_.left+U+z),Math.round(_.top+j+G)),new mr(Math.round(_.left+U),Math.round(_.top+j+G))];default:return[new mr(Math.round(x.left),Math.round(x.top)),new mr(Math.round(x.left+x.width),Math.round(x.top)),new mr(Math.round(x.left+x.width),Math.round(x.height+x.top)),new mr(Math.round(x.left),Math.round(x.height+x.top))]}},Og="Hidden Text",zw=function(){function d(A){this._data={},this._document=A}return d.prototype.parseMetrics=function(A,w){var _=this._document.createElement("div"),x=this._document.createElement("img"),U=this._document.createElement("span"),j=this._document.body;_.style.visibility="hidden",_.style.fontFamily=A,_.style.fontSize=w,_.style.margin="0",_.style.padding="0",_.style.whiteSpace="nowrap",j.appendChild(_),x.src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",x.width=1,x.height=1,x.style.margin="0",x.style.padding="0",x.style.verticalAlign="baseline",U.style.fontFamily=A,U.style.fontSize=w,U.style.margin="0",U.style.padding="0",U.appendChild(this._document.createTextNode(Og)),_.appendChild(U),_.appendChild(x);var z=x.offsetTop-U.offsetTop+2;_.removeChild(U),_.appendChild(this._document.createTextNode(Og)),_.style.lineHeight="normal",x.style.verticalAlign="super";var G=x.offsetTop-_.offsetTop+2;return j.removeChild(_),{baseline:z,middle:G}},d.prototype.getMetrics=function(A,w){var _=A+" "+w;return typeof this._data[_]>"u"&&(this._data[_]=this.parseMetrics(A,w)),this._data[_]},d}(),Ty=function(){return function d(A,w){this.context=A,this.options=w}}(),Ug=function(d){function A(w,_){var x=d.call(this,w,_)||this;return x._activeEffects=[],x.canvas=_.canvas?_.canvas:document.createElement("canvas"),x.ctx=x.canvas.getContext("2d"),_.canvas||(x.canvas.width=Math.floor(_.width*_.scale),x.canvas.height=Math.floor(_.height*_.scale),x.canvas.style.width=_.width+"px",x.canvas.style.height=_.height+"px"),x.fontMetrics=new zw(document),x.ctx.scale(x.options.scale,x.options.scale),x.ctx.translate(-_.x,-_.y),x.ctx.textBaseline="bottom",x._activeEffects=[],x.context.logger.debug("Canvas renderer initialized ("+_.width+"x"+_.height+") with scale "+_.scale),x}return _t(A,d),A.prototype.applyEffects=function(w){for(var _=this;this._activeEffects.length;)this.popEffect();w.forEach(function(x){return _.applyEffect(x)})},A.prototype.applyEffect=function(w){this.ctx.save(),function(d){return 2===d.type}(w)&&(this.ctx.globalAlpha=w.opacity),function(d){return 0===d.type}(w)&&(this.ctx.translate(w.offsetX,w.offsetY),this.ctx.transform(w.matrix[0],w.matrix[1],w.matrix[2],w.matrix[3],w.matrix[4],w.matrix[5]),this.ctx.translate(-w.offsetX,-w.offsetY)),nv(w)&&(this.path(w.path),this.ctx.clip()),this._activeEffects.push(w)},A.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},A.prototype.renderStack=function(w){return Pt(this,void 0,void 0,function(){return he(this,function(x){switch(x.label){case 0:return w.element.container.styles.isVisible()?[4,this.renderStackContent(w)]:[3,2];case 1:x.sent(),x.label=2;case 2:return[2]}})})},A.prototype.renderNode=function(w){return Pt(this,void 0,void 0,function(){return he(this,function(_){switch(_.label){case 0:return di(w.container.flags,16),w.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(w)]:[3,3];case 1:return _.sent(),[4,this.renderNodeContent(w)];case 2:_.sent(),_.label=3;case 3:return[2]}})})},A.prototype.renderTextWithLetterSpacing=function(w,_,x){var U=this;0===_?this.ctx.fillText(w.text,w.bounds.left,w.bounds.top+x):zl(w.text).reduce(function(z,G){return U.ctx.fillText(G,z,w.bounds.top+x),z+U.ctx.measureText(G).width},w.bounds.left)},A.prototype.createFontStyle=function(w){var _=w.fontVariant.filter(function(j){return"normal"===j||"small-caps"===j}).join(""),x=S(w.fontFamily).join(", "),U=Pn(w.fontSize)?""+w.fontSize.number+w.fontSize.unit:w.fontSize.number+"px";return[[w.fontStyle,_,w.fontWeight,U,x].join(" "),x,U]},A.prototype.renderTextNode=function(w,_){return Pt(this,void 0,void 0,function(){var x,j,z,G,Ce,Fe,Me,It=this;return he(this,function(nn){return x=this.createFontStyle(_),j=x[1],z=x[2],this.ctx.font=x[0],this.ctx.direction=1===_.direction?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",G=this.fontMetrics.getMetrics(j,z),Ce=G.baseline,Fe=G.middle,Me=_.paintOrder,w.textBounds.forEach(function(dn){Me.forEach(function(Zt){switch(Zt){case 0:It.ctx.fillStyle=Zo(_.color),It.renderTextWithLetterSpacing(dn,_.letterSpacing,Ce);var xr=_.textShadow;xr.length&&dn.text.trim().length&&(xr.slice(0).reverse().forEach(function(Yn){It.ctx.shadowColor=Zo(Yn.color),It.ctx.shadowOffsetX=Yn.offsetX.number*It.options.scale,It.ctx.shadowOffsetY=Yn.offsetY.number*It.options.scale,It.ctx.shadowBlur=Yn.blur.number,It.renderTextWithLetterSpacing(dn,_.letterSpacing,Ce)}),It.ctx.shadowColor="",It.ctx.shadowOffsetX=0,It.ctx.shadowOffsetY=0,It.ctx.shadowBlur=0),_.textDecorationLine.length&&(It.ctx.fillStyle=Zo(_.textDecorationColor||_.color),_.textDecorationLine.forEach(function(Yn){switch(Yn){case 1:It.ctx.fillRect(dn.bounds.left,Math.round(dn.bounds.top+Ce),dn.bounds.width,1);break;case 2:It.ctx.fillRect(dn.bounds.left,Math.round(dn.bounds.top),dn.bounds.width,1);break;case 3:It.ctx.fillRect(dn.bounds.left,Math.ceil(dn.bounds.top+Fe),dn.bounds.width,1)}}));break;case 1:_.webkitTextStrokeWidth&&dn.text.trim().length&&(It.ctx.strokeStyle=Zo(_.webkitTextStrokeColor),It.ctx.lineWidth=_.webkitTextStrokeWidth,It.ctx.lineJoin=window.chrome?"miter":"round",It.ctx.strokeText(dn.text,dn.bounds.left,dn.bounds.top+Ce)),It.ctx.strokeStyle="",It.ctx.lineWidth=0,It.ctx.lineJoin="miter"}})}),[2]})})},A.prototype.renderReplacedElement=function(w,_,x){if(x&&w.intrinsicWidth>0&&w.intrinsicHeight>0){var U=Mo(w),j=os(_);this.path(j),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(x,0,0,w.intrinsicWidth,w.intrinsicHeight,U.left,U.top,U.width,U.height),this.ctx.restore()}},A.prototype.renderNodeContent=function(w){return Pt(this,void 0,void 0,function(){var _,x,U,j,z,Fe,Me,It,dn,Zt,xr,Yn,Hn,Nr,Rr,vr;return he(this,function(Bn){switch(Bn.label){case 0:this.applyEffects(w.getEffects(4)),x=w.curves,U=(_=w.container).styles,j=0,z=_.textNodes,Bn.label=1;case 1:return j<z.length?[4,this.renderTextNode(z[j],U)]:[3,4];case 2:Bn.sent(),Bn.label=3;case 3:return j++,[3,1];case 4:if(!(_ instanceof R))return[3,8];Bn.label=5;case 5:return Bn.trys.push([5,7,,8]),[4,this.context.cache.match(_.src)];case 6:return Hn=Bn.sent(),this.renderReplacedElement(_,x,Hn),[3,8];case 7:return Bn.sent(),this.context.logger.error("Error loading image "+_.src),[3,8];case 8:if(_ instanceof ne&&this.renderReplacedElement(_,x,_.canvas),!(_ instanceof je))return[3,12];Bn.label=9;case 9:return Bn.trys.push([9,11,,12]),[4,this.context.cache.match(_.svg)];case 10:return Hn=Bn.sent(),this.renderReplacedElement(_,x,Hn),[3,12];case 11:return Bn.sent(),this.context.logger.error("Error loading svg "+_.svg.substring(0,255)),[3,12];case 12:return _ instanceof Xs&&_.tree?[4,new A(this.context,{scale:this.options.scale,backgroundColor:_.backgroundColor,x:0,y:0,width:_.width,height:_.height}).render(_.tree)]:[3,14];case 13:Fe=Bn.sent(),_.width&&_.height&&this.ctx.drawImage(Fe,0,0,_.width,_.height,_.bounds.left,_.bounds.top,_.bounds.width,_.bounds.height),Bn.label=14;case 14:if(_ instanceof is&&(Me=Math.min(_.bounds.width,_.bounds.height),_.type===cr?_.checked&&(this.ctx.save(),this.path([new mr(_.bounds.left+.39363*Me,_.bounds.top+.79*Me),new mr(_.bounds.left+.16*Me,_.bounds.top+.5549*Me),new mr(_.bounds.left+.27347*Me,_.bounds.top+.44071*Me),new mr(_.bounds.left+.39694*Me,_.bounds.top+.5649*Me),new mr(_.bounds.left+.72983*Me,_.bounds.top+.23*Me),new mr(_.bounds.left+.84*Me,_.bounds.top+.34085*Me),new mr(_.bounds.left+.39363*Me,_.bounds.top+.79*Me)]),this.ctx.fillStyle=Zo(Ao),this.ctx.fill(),this.ctx.restore()):_.type===Bi&&_.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(_.bounds.left+Me/2,_.bounds.top+Me/2,Me/4,0,2*Math.PI,!0),this.ctx.fillStyle=Zo(Ao),this.ctx.fill(),this.ctx.restore())),$w(_)&&_.value.length){switch(It=this.createFontStyle(U),dn=this.fontMetrics.getMetrics(Rr=It[0],It[1]).baseline,this.ctx.font=Rr,this.ctx.fillStyle=Zo(U.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=ch(_.styles.textAlign),vr=Mo(_),Zt=0,_.styles.textAlign){case 1:Zt+=vr.width/2;break;case 2:Zt+=vr.width}xr=vr.add(Zt,0,0,-vr.height/2+1),this.ctx.save(),this.path([new mr(vr.left,vr.top),new mr(vr.left+vr.width,vr.top),new mr(vr.left+vr.width,vr.top+vr.height),new mr(vr.left,vr.top+vr.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new Pu(_.value,xr),U.letterSpacing,dn),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!di(_.styles.display,2048))return[3,20];if(null===_.styles.listStyleImage)return[3,19];if(0!==(Yn=_.styles.listStyleImage).type)return[3,18];Hn=void 0,Nr=Yn.url,Bn.label=15;case 15:return Bn.trys.push([15,17,,18]),[4,this.context.cache.match(Nr)];case 16:return Hn=Bn.sent(),this.ctx.drawImage(Hn,_.bounds.left-(Hn.width+10),_.bounds.top),[3,18];case 17:return Bn.sent(),this.context.logger.error("Error loading list-style-image "+Nr),[3,18];case 18:return[3,20];case 19:w.listValue&&-1!==_.styles.listStyleType&&(Rr=this.createFontStyle(U)[0],this.ctx.font=Rr,this.ctx.fillStyle=Zo(U.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",vr=new xn(_.bounds.left,_.bounds.top+Oi(_.styles.paddingTop,_.bounds.width),_.bounds.width,nr(U.lineHeight,U.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new Pu(w.listValue,vr),U.letterSpacing,nr(U.lineHeight,U.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),Bn.label=20;case 20:return[2]}})})},A.prototype.renderStackContent=function(w){return Pt(this,void 0,void 0,function(){var _,x,U,j,z,G,Ce,Fe,Me,It,nn,dn,Zt,xr;return he(this,function(Hn){switch(Hn.label){case 0:return di(w.element.container.flags,16),[4,this.renderNodeBackgroundAndBorders(w.element)];case 1:Hn.sent(),_=0,x=w.negativeZIndex,Hn.label=2;case 2:return _<x.length?[4,this.renderStack(x[_])]:[3,5];case 3:Hn.sent(),Hn.label=4;case 4:return _++,[3,2];case 5:return[4,this.renderNodeContent(w.element)];case 6:Hn.sent(),U=0,j=w.nonInlineLevel,Hn.label=7;case 7:return U<j.length?[4,this.renderNode(j[U])]:[3,10];case 8:Hn.sent(),Hn.label=9;case 9:return U++,[3,7];case 10:z=0,G=w.nonPositionedFloats,Hn.label=11;case 11:return z<G.length?[4,this.renderStack(G[z])]:[3,14];case 12:Hn.sent(),Hn.label=13;case 13:return z++,[3,11];case 14:Ce=0,Fe=w.nonPositionedInlineLevel,Hn.label=15;case 15:return Ce<Fe.length?[4,this.renderStack(Fe[Ce])]:[3,18];case 16:Hn.sent(),Hn.label=17;case 17:return Ce++,[3,15];case 18:Me=0,It=w.inlineLevel,Hn.label=19;case 19:return Me<It.length?[4,this.renderNode(It[Me])]:[3,22];case 20:Hn.sent(),Hn.label=21;case 21:return Me++,[3,19];case 22:nn=0,dn=w.zeroOrAutoZIndexOrTransformedOrOpacity,Hn.label=23;case 23:return nn<dn.length?[4,this.renderStack(dn[nn])]:[3,26];case 24:Hn.sent(),Hn.label=25;case 25:return nn++,[3,23];case 26:Zt=0,xr=w.positiveZIndex,Hn.label=27;case 27:return Zt<xr.length?[4,this.renderStack(xr[Zt])]:[3,30];case 28:Hn.sent(),Hn.label=29;case 29:return Zt++,[3,27];case 30:return[2]}})})},A.prototype.mask=function(w){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(w.slice(0).reverse()),this.ctx.closePath()},A.prototype.path=function(w){this.ctx.beginPath(),this.formatPath(w),this.ctx.closePath()},A.prototype.formatPath=function(w){var _=this;w.forEach(function(x,U){var j=Mu(x)?x.start:x;0===U?_.ctx.moveTo(j.x,j.y):_.ctx.lineTo(j.x,j.y),Mu(x)&&_.ctx.bezierCurveTo(x.startControl.x,x.startControl.y,x.endControl.x,x.endControl.y,x.end.x,x.end.y)})},A.prototype.renderRepeat=function(w,_,x,U){this.path(w),this.ctx.fillStyle=_,this.ctx.translate(x,U),this.ctx.fill(),this.ctx.translate(-x,-U)},A.prototype.resizeImage=function(w,_,x){var U;if(w.width===_&&w.height===x)return w;var z=(null!==(U=this.canvas.ownerDocument)&&void 0!==U?U:document).createElement("canvas");return z.width=Math.max(1,_),z.height=Math.max(1,x),z.getContext("2d").drawImage(w,0,0,w.width,w.height,0,0,_,x),z},A.prototype.renderBackgroundImage=function(w){return Pt(this,void 0,void 0,function(){var _,x,U,j,z;return he(this,function(Ce){switch(Ce.label){case 0:_=w.styles.backgroundImage.length-1,x=function(Fe){var Me,It,nn,dn,Zt,xr,Yn,Hn,Nr,Rr,vr,Bn,ei,_i,Fr,ho,Di,hs,Ui,ao,js,qo,ts,Sl,ss,Tl,Uu,mu,ol,as,Hc;return he(this,function(fc){switch(fc.label){case 0:if(0!==Fe.type)return[3,5];Me=void 0,It=Fe.url,fc.label=1;case 1:return fc.trys.push([1,3,,4]),[4,U.context.cache.match(It)];case 2:return Me=fc.sent(),[3,4];case 3:return fc.sent(),U.context.logger.error("Error loading background-image "+It),[3,4];case 4:return Me&&(nn=Bp(w,_,[Me.width,Me.height,Me.width/Me.height]),ho=nn[0],qo=nn[1],ts=nn[2],_i=U.ctx.createPattern(U.resizeImage(Me,Ui=nn[3],ao=nn[4]),"repeat"),U.renderRepeat(ho,_i,qo,ts)),[3,6];case 5:!function(d){return 1===d.type}(Fe)?function(d){return 2===d.type}(Fe)&&(Fr=Bp(w,_,[null,null,null]),ho=Fr[0],Di=Fr[1],hs=Fr[2],ao=Fr[4],qo=Oi((js=0===Fe.position.length?[ZA]:Fe.position)[0],Ui=Fr[3]),ts=Oi(js[js.length-1],ao),Sl=function(d,A,w,_,x){var U=0,j=0;switch(d.size){case 0:0===d.shape?U=j=Math.min(Math.abs(A),Math.abs(A-_),Math.abs(w),Math.abs(w-x)):1===d.shape&&(U=Math.min(Math.abs(A),Math.abs(A-_)),j=Math.min(Math.abs(w),Math.abs(w-x)));break;case 2:if(0===d.shape)U=j=Math.min(gl(A,w),gl(A,w-x),gl(A-_,w),gl(A-_,w-x));else if(1===d.shape){var z=Math.min(Math.abs(w),Math.abs(w-x))/Math.min(Math.abs(A),Math.abs(A-_)),G=IA(_,x,A,w,!0);j=z*(U=gl(G[0]-A,(G[1]-w)/z))}break;case 1:0===d.shape?U=j=Math.max(Math.abs(A),Math.abs(A-_),Math.abs(w),Math.abs(w-x)):1===d.shape&&(U=Math.max(Math.abs(A),Math.abs(A-_)),j=Math.max(Math.abs(w),Math.abs(w-x)));break;case 3:if(0===d.shape)U=j=Math.max(gl(A,w),gl(A,w-x),gl(A-_,w),gl(A-_,w-x));else if(1===d.shape){z=Math.max(Math.abs(w),Math.abs(w-x))/Math.max(Math.abs(A),Math.abs(A-_));var Me=IA(_,x,A,w,!1);j=z*(U=gl(Me[0]-A,(Me[1]-w)/z))}}return Array.isArray(d.size)&&(U=Oi(d.size[0],_),j=2===d.size.length?Oi(d.size[1],x):U),[U,j]}(Fe,qo,ts,Ui,ao),Tl=Sl[1],(ss=Sl[0])>0&&Tl>0&&(Uu=U.ctx.createRadialGradient(Di+qo,hs+ts,0,Di+qo,hs+ts,ss),Bf(Fe.stops,2*ss).forEach(function(dh){return Uu.addColorStop(dh.stop,Zo(dh.color))}),U.path(ho),U.ctx.fillStyle=Uu,ss!==Tl?(mu=w.bounds.left+.5*w.bounds.width,ol=w.bounds.top+.5*w.bounds.height,Hc=1/(as=Tl/ss),U.ctx.save(),U.ctx.translate(mu,ol),U.ctx.transform(1,0,0,as,0,0),U.ctx.translate(-mu,-ol),U.ctx.fillRect(Di,Hc*(hs-ol)+ol,Ui,ao*Hc),U.ctx.restore()):U.ctx.fill())):(dn=Bp(w,_,[null,null,null]),ho=dn[0],qo=dn[1],ts=dn[2],Zt=fp(Fe.angle,Ui=dn[3],ao=dn[4]),xr=Zt[0],Yn=Zt[1],Hn=Zt[2],Nr=Zt[3],Rr=Zt[4],(vr=document.createElement("canvas")).width=Ui,vr.height=ao,Bn=vr.getContext("2d"),ei=Bn.createLinearGradient(Yn,Nr,Hn,Rr),Bf(Fe.stops,xr).forEach(function(dh){return ei.addColorStop(dh.stop,Zo(dh.color))}),Bn.fillStyle=ei,Bn.fillRect(0,0,Ui,ao),Ui>0&&ao>0&&(_i=U.ctx.createPattern(vr,"repeat"),U.renderRepeat(ho,_i,qo,ts))),fc.label=6;case 6:return _--,[2]}})},U=this,j=0,z=w.styles.backgroundImage.slice(0).reverse(),Ce.label=1;case 1:return j<z.length?[5,x(z[j])]:[3,4];case 2:Ce.sent(),Ce.label=3;case 3:return j++,[3,1];case 4:return[2]}})})},A.prototype.renderSolidBorder=function(w,_,x){return Pt(this,void 0,void 0,function(){return he(this,function(U){return this.path(ov(x,_)),this.ctx.fillStyle=Zo(w),this.ctx.fill(),[2]})})},A.prototype.renderDoubleBorder=function(w,_,x,U){return Pt(this,void 0,void 0,function(){var j,z;return he(this,function(G){switch(G.label){case 0:return _<3?[4,this.renderSolidBorder(w,x,U)]:[3,2];case 1:return G.sent(),[2];case 2:return j=function(d,A){switch(A){case 0:return gu(d.topLeftBorderBox,d.topLeftBorderDoubleOuterBox,d.topRightBorderBox,d.topRightBorderDoubleOuterBox);case 1:return gu(d.topRightBorderBox,d.topRightBorderDoubleOuterBox,d.bottomRightBorderBox,d.bottomRightBorderDoubleOuterBox);case 2:return gu(d.bottomRightBorderBox,d.bottomRightBorderDoubleOuterBox,d.bottomLeftBorderBox,d.bottomLeftBorderDoubleOuterBox);default:return gu(d.bottomLeftBorderBox,d.bottomLeftBorderDoubleOuterBox,d.topLeftBorderBox,d.topLeftBorderDoubleOuterBox)}}(U,x),this.path(j),this.ctx.fillStyle=Zo(w),this.ctx.fill(),z=function(d,A){switch(A){case 0:return gu(d.topLeftBorderDoubleInnerBox,d.topLeftPaddingBox,d.topRightBorderDoubleInnerBox,d.topRightPaddingBox);case 1:return gu(d.topRightBorderDoubleInnerBox,d.topRightPaddingBox,d.bottomRightBorderDoubleInnerBox,d.bottomRightPaddingBox);case 2:return gu(d.bottomRightBorderDoubleInnerBox,d.bottomRightPaddingBox,d.bottomLeftBorderDoubleInnerBox,d.bottomLeftPaddingBox);default:return gu(d.bottomLeftBorderDoubleInnerBox,d.bottomLeftPaddingBox,d.topLeftBorderDoubleInnerBox,d.topLeftPaddingBox)}}(U,x),this.path(z),this.ctx.fill(),[2]}})})},A.prototype.renderNodeBackgroundAndBorders=function(w){return Pt(this,void 0,void 0,function(){var _,x,U,j,z,G,Ce,Fe,Me=this;return he(this,function(It){switch(It.label){case 0:return this.applyEffects(w.getEffects(2)),x=!Vs((_=w.container.styles).backgroundColor)||_.backgroundImage.length,U=[{style:_.borderTopStyle,color:_.borderTopColor,width:_.borderTopWidth},{style:_.borderRightStyle,color:_.borderRightColor,width:_.borderRightWidth},{style:_.borderBottomStyle,color:_.borderBottomColor,width:_.borderBottomWidth},{style:_.borderLeftStyle,color:_.borderLeftColor,width:_.borderLeftWidth}],j=Dy(Qc(_.backgroundClip,0),w.curves),x||_.boxShadow.length?(this.ctx.save(),this.path(j),this.ctx.clip(),Vs(_.backgroundColor)||(this.ctx.fillStyle=Zo(_.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(w.container)]):[3,2];case 1:It.sent(),this.ctx.restore(),_.boxShadow.slice(0).reverse().forEach(function(nn){Me.ctx.save();var dn=Ms(w.curves),Zt=nn.inset?0:1e4,xr=function(d,A,w,_,x){return d.map(function(U,j){switch(j){case 0:return U.add(A,w);case 1:return U.add(A+_,w);case 2:return U.add(A+_,w+x);case 3:return U.add(A,w+x)}return U})}(dn,(nn.inset?1:-1)*nn.spread.number-Zt,(nn.inset?1:-1)*nn.spread.number,nn.spread.number*(nn.inset?-2:2),nn.spread.number*(nn.inset?-2:2));nn.inset?(Me.path(dn),Me.ctx.clip(),Me.mask(xr)):(Me.mask(dn),Me.ctx.clip(),Me.path(xr)),Me.ctx.shadowOffsetX=nn.offsetX.number+Zt,Me.ctx.shadowOffsetY=nn.offsetY.number,Me.ctx.shadowColor=Zo(nn.color),Me.ctx.shadowBlur=nn.blur.number,Me.ctx.fillStyle=nn.inset?Zo(nn.color):"rgba(0,0,0,1)",Me.ctx.fill(),Me.ctx.restore()}),It.label=2;case 2:z=0,G=0,Ce=U,It.label=3;case 3:return G<Ce.length?0!==(Fe=Ce[G]).style&&!Vs(Fe.color)&&Fe.width>0?2!==Fe.style?[3,5]:[4,this.renderDashedDottedBorder(Fe.color,Fe.width,z,w.curves,2)]:[3,11]:[3,13];case 4:return It.sent(),[3,11];case 5:return 3!==Fe.style?[3,7]:[4,this.renderDashedDottedBorder(Fe.color,Fe.width,z,w.curves,3)];case 6:return It.sent(),[3,11];case 7:return 4!==Fe.style?[3,9]:[4,this.renderDoubleBorder(Fe.color,Fe.width,z,w.curves)];case 8:return It.sent(),[3,11];case 9:return[4,this.renderSolidBorder(Fe.color,z,w.curves)];case 10:It.sent(),It.label=11;case 11:z++,It.label=12;case 12:return G++,[3,3];case 13:return[2]}})})},A.prototype.renderDashedDottedBorder=function(w,_,x,U,j){return Pt(this,void 0,void 0,function(){var z,G,Ce,Fe,Me,It,nn,dn,Zt,xr,Yn,Hn,Nr,Rr,vr,Bn;return he(this,function(ei){return this.ctx.save(),z=function(d,A){switch(A){case 0:return Tp(d.topLeftBorderStroke,d.topRightBorderStroke);case 1:return Tp(d.topRightBorderStroke,d.bottomRightBorderStroke);case 2:return Tp(d.bottomRightBorderStroke,d.bottomLeftBorderStroke);default:return Tp(d.bottomLeftBorderStroke,d.topLeftBorderStroke)}}(U,x),G=ov(U,x),2===j&&(this.path(G),this.ctx.clip()),Mu(G[0])?(Ce=G[0].start.x,Fe=G[0].start.y):(Ce=G[0].x,Fe=G[0].y),Mu(G[1])?(Me=G[1].end.x,It=G[1].end.y):(Me=G[1].x,It=G[1].y),nn=0===x||2===x?Math.abs(Ce-Me):Math.abs(Fe-It),this.ctx.beginPath(),this.formatPath(3===j?z:G.slice(0,2)),dn=_<3?3*_:2*_,Zt=_<3?2*_:_,3===j&&(dn=_,Zt=_),xr=!0,nn<=2*dn?xr=!1:nn<=2*dn+Zt?(dn*=Yn=nn/(2*dn+Zt),Zt*=Yn):(Hn=Math.floor((nn+Zt)/(dn+Zt)),Nr=(nn-Hn*dn)/(Hn-1),Zt=(Rr=(nn-(Hn+1)*dn)/Hn)<=0||Math.abs(Zt-Nr)<Math.abs(Zt-Rr)?Nr:Rr),xr&&this.ctx.setLineDash(3===j?[0,dn+Zt]:[dn,Zt]),3===j?(this.ctx.lineCap="round",this.ctx.lineWidth=_):this.ctx.lineWidth=2*_+1.1,this.ctx.strokeStyle=Zo(w),this.ctx.stroke(),this.ctx.setLineDash([]),2===j&&(Mu(G[0])&&(vr=G[3],Bn=G[0],this.ctx.beginPath(),this.formatPath([new mr(vr.end.x,vr.end.y),new mr(Bn.start.x,Bn.start.y)]),this.ctx.stroke()),Mu(G[1])&&(vr=G[1],Bn=G[2],this.ctx.beginPath(),this.formatPath([new mr(vr.end.x,vr.end.y),new mr(Bn.start.x,Bn.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},A.prototype.render=function(w){return Pt(this,void 0,void 0,function(){var _;return he(this,function(x){switch(x.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=Zo(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),_=function(d){var A=new iv(d,null),w=new Vc(A),_=[];return Sp(A,w,w,_),eA(A.container,_),w}(w),[4,this.renderStack(_)];case 1:return x.sent(),this.applyEffects([]),[2,this.canvas]}})})},A}(Ty),$w=function(d){return d instanceof _a||d instanceof Cs||d instanceof is&&d.type!==Bi&&d.type!==cr},Dy=function(d,A){switch(d){case 0:return Ms(A);case 2:return function(d){return[d.topLeftContentBox,d.topRightContentBox,d.bottomRightContentBox,d.bottomLeftContentBox]}(A);default:return os(A)}},ch=function(d){switch(d){case 1:return"center";case 2:return"right";default:return"left"}},f=["-apple-system","system-ui"],S=function(d){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?d.filter(function(A){return-1===f.indexOf(A)}):d},N=function(d){function A(w,_){var x=d.call(this,w,_)||this;return x.canvas=_.canvas?_.canvas:document.createElement("canvas"),x.ctx=x.canvas.getContext("2d"),x.options=_,x.canvas.width=Math.floor(_.width*_.scale),x.canvas.height=Math.floor(_.height*_.scale),x.canvas.style.width=_.width+"px",x.canvas.style.height=_.height+"px",x.ctx.scale(x.options.scale,x.options.scale),x.ctx.translate(-_.x,-_.y),x.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+_.width+"x"+_.height+" at "+_.x+","+_.y+") with scale "+_.scale),x}return _t(A,d),A.prototype.render=function(w){return Pt(this,void 0,void 0,function(){var _,x;return he(this,function(U){switch(U.label){case 0:return _=sh(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,w),[4,Q(_)];case 1:return x=U.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=Zo(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(x,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},A}(Ty),Q=function(d){return new Promise(function(A,w){var _=new Image;_.onload=function(){A(_)},_.onerror=w,_.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent((new XMLSerializer).serializeToString(d))})},X=function(){function d(A){var _=A.enabled;this.id=A.id,this.enabled=_,this.start=Date.now()}return d.prototype.debug=function(){for(var A=[],w=0;w<arguments.length;w++)A[w]=arguments[w];this.enabled&&(typeof window<"u"&&window.console&&"function"==typeof console.debug?console.debug.apply(console,Gt([this.id,this.getTime()+"ms"],A)):this.info.apply(this,A))},d.prototype.getTime=function(){return Date.now()-this.start},d.prototype.info=function(){for(var A=[],w=0;w<arguments.length;w++)A[w]=arguments[w];this.enabled&&typeof window<"u"&&window.console&&"function"==typeof console.info&&console.info.apply(console,Gt([this.id,this.getTime()+"ms"],A))},d.prototype.warn=function(){for(var A=[],w=0;w<arguments.length;w++)A[w]=arguments[w];this.enabled&&(typeof window<"u"&&window.console&&"function"==typeof console.warn?console.warn.apply(console,Gt([this.id,this.getTime()+"ms"],A)):this.info.apply(this,A))},d.prototype.error=function(){for(var A=[],w=0;w<arguments.length;w++)A[w]=arguments[w];this.enabled&&(typeof window<"u"&&window.console&&"function"==typeof console.error?console.error.apply(console,Gt([this.id,this.getTime()+"ms"],A)):this.info.apply(this,A))},d.instances={},d}(),ie=function(){function d(A,w){var _;this.windowBounds=w,this.instanceName="#"+d.instanceCount++,this.logger=new X({id:this.instanceName,enabled:A.logging}),this.cache=null!==(_=A.cache)&&void 0!==_?_:new Mf(this,A)}return d.instanceCount=1,d}();typeof window<"u"&&lh.setContext(window);var pe=function(d,A){return Pt(void 0,void 0,void 0,function(){var w,_,x,U,j,z,G,Ce,Fe,Me,It,nn,dn,Zt,xr,Yn,Hn,Nr,Rr,vr,Bn,_i,Fr,ho,Di,hs,Ui,ao,js,qo,ts,Sl,ss,Tl,Uu,mu,ol,as;return he(this,function(Hc){switch(Hc.label){case 0:if(!d||"object"!=typeof d)return[2,Promise.reject("Invalid element provided as first argument")];if(!(w=d.ownerDocument))throw new Error("Element is not attached to a Document");if(!(_=w.defaultView))throw new Error("Document is not attached to a Window");return x={allowTaint:null!==(_i=A.allowTaint)&&void 0!==_i&&_i,imageTimeout:null!==(Fr=A.imageTimeout)&&void 0!==Fr?Fr:15e3,proxy:A.proxy,useCORS:null!==(ho=A.useCORS)&&void 0!==ho&&ho},U=V({logging:null===(Di=A.logging)||void 0===Di||Di,cache:A.cache},x),j={windowWidth:null!==(hs=A.windowWidth)&&void 0!==hs?hs:_.innerWidth,windowHeight:null!==(Ui=A.windowHeight)&&void 0!==Ui?Ui:_.innerHeight,scrollX:null!==(ao=A.scrollX)&&void 0!==ao?ao:_.pageXOffset,scrollY:null!==(js=A.scrollY)&&void 0!==js?js:_.pageYOffset},z=new xn(j.scrollX,j.scrollY,j.windowWidth,j.windowHeight),G=new ie(U,z),Ce=null!==(qo=A.foreignObjectRendering)&&void 0!==qo&&qo,Fe={allowTaint:null!==(ts=A.allowTaint)&&void 0!==ts&&ts,onclone:A.onclone,ignoreElements:A.ignoreElements,inlineImages:Ce,copyStyles:Ce},G.logger.debug("Starting document clone with size "+z.width+"x"+z.height+" scrolled to "+-z.left+","+-z.top),Me=new Ea(G,d,Fe),(It=Me.clonedReferenceElement)?[4,Me.toIFrame(w,z)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return nn=Hc.sent(),dn=Pa(It)||function(d){return"HTML"===d.tagName}(It)?function(d){var A=d.body,w=d.documentElement;if(!A||!w)throw new Error("Unable to get document size");var _=Math.max(Math.max(A.scrollWidth,w.scrollWidth),Math.max(A.offsetWidth,w.offsetWidth),Math.max(A.clientWidth,w.clientWidth)),x=Math.max(Math.max(A.scrollHeight,w.scrollHeight),Math.max(A.offsetHeight,w.offsetHeight),Math.max(A.clientHeight,w.clientHeight));return new xn(0,0,_,x)}(It.ownerDocument):Ht(G,It),Zt=dn.width,xr=dn.height,Yn=dn.left,Hn=dn.top,Nr=we(G,It,A.backgroundColor),Rr={canvas:A.canvas,backgroundColor:Nr,scale:null!==(ss=null!==(Sl=A.scale)&&void 0!==Sl?Sl:_.devicePixelRatio)&&void 0!==ss?ss:1,x:(null!==(Tl=A.x)&&void 0!==Tl?Tl:0)+Yn,y:(null!==(Uu=A.y)&&void 0!==Uu?Uu:0)+Hn,width:null!==(mu=A.width)&&void 0!==mu?mu:Math.ceil(Zt),height:null!==(ol=A.height)&&void 0!==ol?ol:Math.ceil(xr)},Ce?(G.logger.debug("Document cloned, using foreign object rendering"),[4,new N(G,Rr).render(It)]):[3,3];case 2:return vr=Hc.sent(),[3,5];case 3:return G.logger.debug("Document cloned, element located at "+Yn+","+Hn+" with size "+Zt+"x"+xr+" using computed rendering"),G.logger.debug("Starting DOM parsing"),Bn=Yd(G,It),Nr===Bn.styles.backgroundColor&&(Bn.styles.backgroundColor=ou.TRANSPARENT),G.logger.debug("Starting renderer for element at "+Rr.x+","+Rr.y+" with size "+Rr.width+"x"+Rr.height),[4,new Ug(G,Rr).render(Bn)];case 4:vr=Hc.sent(),Hc.label=5;case 5:return(!(null!==(as=A.removeContainer)&&void 0!==as)||as)&&(Ea.destroy(nn)||G.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),G.logger.debug("Finished rendering"),[2,vr]}})})},we=function(d,A,w){var _=A.ownerDocument,x=_.documentElement?Dc(d,getComputedStyle(_.documentElement).backgroundColor):ou.TRANSPARENT,U=_.body?Dc(d,getComputedStyle(_.body).backgroundColor):ou.TRANSPARENT,j="string"==typeof w?Dc(d,w):null===w?ou.TRANSPARENT:4294967295;return A===_.documentElement?Vs(x)?Vs(U)?j:U:x:j};return function(d,A){return void 0===A&&(A={}),pe(d,A)}}()},4941:function(vo,Tr,_t){var V;typeof globalThis<"u"?globalThis:typeof this<"u"||(typeof window<"u"?window:typeof self<"u"?self:global),vo.exports=(V=function(){try{return _t(9107)}catch{}}(),function(){"use strict";var Pt={172:function(Ht,ke){var Dt=this&&this.__extends||function(){var Pe=function(dt,Ie){return(Pe=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(st,et){st.__proto__=et}||function(st,et){for(var Ke in et)Object.prototype.hasOwnProperty.call(et,Ke)&&(st[Ke]=et[Ke])})(dt,Ie)};return function(dt,Ie){if("function"!=typeof Ie&&null!==Ie)throw new TypeError("Class extends value "+String(Ie)+" is not a constructor or null");function st(){this.constructor=dt}Pe(dt,Ie),dt.prototype=null===Ie?Object.create(Ie):(st.prototype=Ie.prototype,new st)}}();Object.defineProperty(ke,"__esModule",{value:!0}),ke.CellHookData=ke.HookData=void 0;var $t=function(){return function Pe(dt,Ie,st){this.table=Ie,this.pageNumber=Ie.pageNumber,this.pageCount=this.pageNumber,this.settings=Ie.settings,this.cursor=st,this.doc=dt.getDocument()}}();ke.HookData=$t;var ze=function(Pe){function dt(Ie,st,et,Ke,_e,te){var ce=Pe.call(this,Ie,st,te)||this;return ce.cell=et,ce.row=Ke,ce.column=_e,ce.section=Ke.section,ce}return Dt(dt,Pe),dt}($t);ke.CellHookData=ze},340:function(Ht,ke,Dt){Object.defineProperty(ke,"__esModule",{value:!0});var $t=Dt(4),ze=Dt(136),Pe=Dt(744),dt=Dt(776),Ie=Dt(664),st=Dt(972);ke.default=function et(Ke){Ke.API.autoTable=function(){for(var _e=[],te=0;te<arguments.length;te++)_e[te]=arguments[te];var ce;1===_e.length?ce=_e[0]:(console.error("Use of deprecated autoTable initiation"),(ce=_e[2]||{}).columns=_e[0],ce.body=_e[1]);var Ve=(0,dt.parseInput)(this,ce),Le=(0,st.createTable)(this,Ve);return(0,Ie.drawTable)(this,Le),this},Ke.API.lastAutoTable=!1,Ke.API.previousAutoTable=!1,Ke.API.autoTable.previous=!1,Ke.API.autoTableText=function(_e,te,ce,Ve){(0,ze.default)(_e,te,ce,Ve,this)},Ke.API.autoTableSetDefaults=function(_e){return Pe.DocHandler.setDefaults(_e,this),this},Ke.autoTableSetDefaults=function(_e,te){Pe.DocHandler.setDefaults(_e,te)},Ke.API.autoTableHtmlToJson=function(_e,te){var ce;if(void 0===te&&(te=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var Ve=new Pe.DocHandler(this),Le=(0,$t.parseHtml)(Ve,_e,window,te,!1),ot=Le.body;return{columns:(null===(ce=Le.head[0])||void 0===ce?void 0:ce.map(function(se){return se.content}))||[],rows:ot,data:ot}},Ke.API.autoTableEndPosY=function(){console.error("Use of deprecated function: autoTableEndPosY. Use doc.lastAutoTable.finalY instead.");var _e=this.lastAutoTable;return _e&&_e.finalY?_e.finalY:0},Ke.API.autoTableAddPageContent=function(_e){return console.error("Use of deprecated function: autoTableAddPageContent. Use jsPDF.autoTableSetDefaults({didDrawPage: () => {}}) instead."),Ke.API.autoTable.globalDefaults||(Ke.API.autoTable.globalDefaults={}),Ke.API.autoTable.globalDefaults.addPageContent=_e,this},Ke.API.autoTableAddPage=function(){return console.error("Use of deprecated function: autoTableAddPage. Use doc.addPage()"),this.addPage(),this}}},136:function(Ht,ke){Object.defineProperty(ke,"__esModule",{value:!0}),ke.default=function Dt($t,ze,Pe,dt,Ie){dt=dt||{};var et=Ie.internal.scaleFactor,Ke=Ie.internal.getFontSize()/et,te=Ke*(Ie.getLineHeightFactor?Ie.getLineHeightFactor():1.15),Ve="",Le=1;if(("middle"===dt.valign||"bottom"===dt.valign||"center"===dt.halign||"right"===dt.halign)&&(Le=(Ve="string"==typeof $t?$t.split(/\r\n|\r|\n/g):$t).length||1),Pe+=Ke*(2-1.15),"middle"===dt.valign?Pe-=Le/2*te:"bottom"===dt.valign&&(Pe-=Le*te),"center"===dt.halign||"right"===dt.halign){var Oe=Ke;if("center"===dt.halign&&(Oe*=.5),Ve&&Le>=1){for(var ot=0;ot<Ve.length;ot++)Ie.text(Ve[ot],ze-Ie.getStringUnitWidth(Ve[ot])*Oe,Pe),Pe+=te;return Ie}ze-=Ie.getStringUnitWidth($t)*Oe}return"justify"===dt.halign?Ie.text($t,ze,Pe,{maxWidth:dt.maxWidth||100,align:"justify"}):Ie.text($t,ze,Pe),Ie}},420:function(Ht,ke){function ze(Ie,st){var et=Ie>0,Ke=st||0===st;return et&&Ke?"DF":et?"S":Ke?"F":null}function Pe(Ie,st){var et,Ke,_e,te;if(Ie=Ie||st,Array.isArray(Ie)){if(Ie.length>=4)return{top:Ie[0],right:Ie[1],bottom:Ie[2],left:Ie[3]};if(3===Ie.length)return{top:Ie[0],right:Ie[1],bottom:Ie[2],left:Ie[1]};if(2===Ie.length)return{top:Ie[0],right:Ie[1],bottom:Ie[0],left:Ie[1]};Ie=1===Ie.length?Ie[0]:st}return"object"==typeof Ie?("number"==typeof Ie.vertical&&(Ie.top=Ie.vertical,Ie.bottom=Ie.vertical),"number"==typeof Ie.horizontal&&(Ie.right=Ie.horizontal,Ie.left=Ie.horizontal),{left:null!==(et=Ie.left)&&void 0!==et?et:st,top:null!==(Ke=Ie.top)&&void 0!==Ke?Ke:st,right:null!==(_e=Ie.right)&&void 0!==_e?_e:st,bottom:null!==(te=Ie.bottom)&&void 0!==te?te:st}):("number"!=typeof Ie&&(Ie=st),{top:Ie,right:Ie,bottom:Ie,left:Ie})}Object.defineProperty(ke,"__esModule",{value:!0}),ke.getPageAvailableWidth=ke.parseSpacing=ke.getFillStyle=ke.addTableBorder=ke.getStringWidth=void 0,ke.getStringWidth=function Dt(Ie,st,et){return et.applyStyles(st,!0),(Array.isArray(Ie)?Ie:[Ie]).map(function(te){return et.getTextWidth(te)}).reduce(function(te,ce){return Math.max(te,ce)},0)},ke.addTableBorder=function $t(Ie,st,et,Ke){var _e=st.settings.tableLineWidth;Ie.applyStyles({lineWidth:_e,lineColor:st.settings.tableLineColor});var ce=ze(_e,!1);ce&&Ie.rect(et.x,et.y,st.getWidth(Ie.pageSize().width),Ke.y-et.y,ce)},ke.getFillStyle=ze,ke.parseSpacing=Pe,ke.getPageAvailableWidth=function dt(Ie,st){var et=Pe(st.settings.margin,0);return Ie.pageSize().width-(et.left+et.right)}},796:function(Ht,ke){var Dt=this&&this.__extends||function(){var dt=function(Ie,st){return(dt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(et,Ke){et.__proto__=Ke}||function(et,Ke){for(var _e in Ke)Object.prototype.hasOwnProperty.call(Ke,_e)&&(et[_e]=Ke[_e])})(Ie,st)};return function(Ie,st){if("function"!=typeof st&&null!==st)throw new TypeError("Class extends value "+String(st)+" is not a constructor or null");function et(){this.constructor=Ie}dt(Ie,st),Ie.prototype=null===st?Object.create(st):(et.prototype=st.prototype,new et)}}();Object.defineProperty(ke,"__esModule",{value:!0}),ke.getTheme=ke.defaultStyles=ke.HtmlRowInput=void 0;var $t=function(dt){function Ie(st){var et=dt.call(this)||this;return et._element=st,et}return Dt(Ie,dt),Ie}(Array);ke.HtmlRowInput=$t,ke.defaultStyles=function ze(dt){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/dt,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}},ke.getTheme=function Pe(dt){return{striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}}[dt]}},903:function(Ht,ke,Dt){Object.defineProperty(ke,"__esModule",{value:!0}),ke.parseCss=void 0;var $t=Dt(420);function dt(et,Ke){var _e=Ie(et,Ke);if(!_e)return null;var te=_e.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!te||!Array.isArray(te))return null;var ce=[parseInt(te[1]),parseInt(te[2]),parseInt(te[3])];return 0===parseInt(te[4])||isNaN(ce[0])||isNaN(ce[1])||isNaN(ce[2])?null:ce}function Ie(et,Ke){var _e=Ke(et);return"rgba(0, 0, 0, 0)"===_e||"transparent"===_e||"initial"===_e||"inherit"===_e?null==et.parentElement?null:Ie(et.parentElement,Ke):_e}ke.parseCss=function ze(et,Ke,_e,te,ce){var Ve={},Le=1.3333333333333333,Oe=dt(Ke,function(Rt){return ce.getComputedStyle(Rt).backgroundColor});null!=Oe&&(Ve.fillColor=Oe);var ot=dt(Ke,function(Rt){return ce.getComputedStyle(Rt).color});null!=ot&&(Ve.textColor=ot);var ut=function st(et,Ke){var _e=[et.paddingTop,et.paddingRight,et.paddingBottom,et.paddingLeft],te=96/(72/Ke),ce=(parseInt(et.lineHeight)-parseInt(et.fontSize))/Ke/2,Ve=_e.map(function(Oe){return parseInt(Oe||"0")/te}),Le=(0,$t.parseSpacing)(Ve,0);return ce>Le.top&&(Le.top=ce),ce>Le.bottom&&(Le.bottom=ce),Le}(te,_e);ut&&(Ve.cellPadding=ut);var se="borderTopColor",fe=Le*_e,Z=te.borderTopWidth;if(te.borderBottomWidth===Z&&te.borderRightWidth===Z&&te.borderLeftWidth===Z){var Se=(parseFloat(Z)||0)/fe;Se&&(Ve.lineWidth=Se)}else Ve.lineWidth={top:(parseFloat(te.borderTopWidth)||0)/fe,right:(parseFloat(te.borderRightWidth)||0)/fe,bottom:(parseFloat(te.borderBottomWidth)||0)/fe,left:(parseFloat(te.borderLeftWidth)||0)/fe},Ve.lineWidth.top||(Ve.lineWidth.right?se="borderRightColor":Ve.lineWidth.bottom?se="borderBottomColor":Ve.lineWidth.left&&(se="borderLeftColor"));console.log(Ve.lineWidth);var nt=dt(Ke,function(Rt){return ce.getComputedStyle(Rt)[se]});null!=nt&&(Ve.lineColor=nt);var At=["left","right","center","justify"];-1!==At.indexOf(te.textAlign)&&(Ve.halign=te.textAlign),-1!==(At=["middle","bottom","top"]).indexOf(te.verticalAlign)&&(Ve.valign=te.verticalAlign);var Ne=parseInt(te.fontSize||"");isNaN(Ne)||(Ve.fontSize=Ne/Le);var Ze=function Pe(et){var Ke="";return("bold"===et.fontWeight||"bolder"===et.fontWeight||parseInt(et.fontWeight)>=700)&&(Ke="bold"),("italic"===et.fontStyle||"oblique"===et.fontStyle)&&(Ke+="italic"),Ke}(te);Ze&&(Ve.fontStyle=Ze);var Ft=(te.fontFamily||"").toLowerCase();return-1!==et.indexOf(Ft)&&(Ve.font=Ft),Ve}},744:function(Ht,ke){Object.defineProperty(ke,"__esModule",{value:!0}),ke.DocHandler=void 0;var Dt={},$t=function(){function ze(Pe){this.jsPDFDocument=Pe,this.userStyles={textColor:Pe.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:Pe.internal.getFontSize(),fontStyle:Pe.internal.getFont().fontStyle,font:Pe.internal.getFont().fontName,lineWidth:Pe.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:Pe.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return ze.setDefaults=function(Pe,dt){void 0===dt&&(dt=null),dt?dt.__autoTableDocumentDefaults=Pe:Dt=Pe},ze.unifyColor=function(Pe){return Array.isArray(Pe)?Pe:"number"==typeof Pe?[Pe,Pe,Pe]:"string"==typeof Pe?[Pe]:null},ze.prototype.applyStyles=function(Pe,dt){var Ie,st,et;void 0===dt&&(dt=!1),Pe.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(Pe.fontStyle);var Ke=this.jsPDFDocument.internal.getFont(),_e=Ke.fontStyle,te=Ke.fontName;if(Pe.font&&(te=Pe.font),Pe.fontStyle){_e=Pe.fontStyle;var ce=this.getFontList()[te];ce&&-1===ce.indexOf(_e)&&(this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(ce[0]),_e=ce[0])}if(this.jsPDFDocument.setFont(te,_e),Pe.fontSize&&this.jsPDFDocument.setFontSize(Pe.fontSize),!dt){var Ve=ze.unifyColor(Pe.fillColor);Ve&&(Ie=this.jsPDFDocument).setFillColor.apply(Ie,Ve),(Ve=ze.unifyColor(Pe.textColor))&&(st=this.jsPDFDocument).setTextColor.apply(st,Ve),(Ve=ze.unifyColor(Pe.lineColor))&&(et=this.jsPDFDocument).setDrawColor.apply(et,Ve),"number"==typeof Pe.lineWidth&&this.jsPDFDocument.setLineWidth(Pe.lineWidth)}},ze.prototype.splitTextToSize=function(Pe,dt,Ie){return this.jsPDFDocument.splitTextToSize(Pe,dt,Ie)},ze.prototype.rect=function(Pe,dt,Ie,st,et){return this.jsPDFDocument.rect(Pe,dt,Ie,st,et)},ze.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},ze.prototype.getTextWidth=function(Pe){return this.jsPDFDocument.getTextWidth(Pe)},ze.prototype.getDocument=function(){return this.jsPDFDocument},ze.prototype.setPage=function(Pe){this.jsPDFDocument.setPage(Pe)},ze.prototype.addPage=function(){return this.jsPDFDocument.addPage()},ze.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},ze.prototype.getGlobalOptions=function(){return Dt||{}},ze.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},ze.prototype.pageSize=function(){var Pe=this.jsPDFDocument.internal.pageSize;return null==Pe.width&&(Pe={width:Pe.getWidth(),height:Pe.getHeight()}),Pe},ze.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},ze.prototype.getLineHeightFactor=function(){var Pe=this.jsPDFDocument;return Pe.getLineHeightFactor?Pe.getLineHeightFactor():1.15},ze.prototype.getLineHeight=function(Pe){return Pe/this.scaleFactor()*this.getLineHeightFactor()},ze.prototype.pageNumber=function(){var Pe=this.jsPDFDocument.internal.getCurrentPageInfo();return Pe?Pe.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},ze}();ke.DocHandler=$t},4:function(Ht,ke,Dt){Object.defineProperty(ke,"__esModule",{value:!0}),ke.parseHtml=void 0;var $t=Dt(903),ze=Dt(796);function dt(st,et,Ke,_e,te,ce){for(var Ve=new ze.HtmlRowInput(_e),Le=0;Le<_e.cells.length;Le++){var Oe=_e.cells[Le],ot=Ke.getComputedStyle(Oe);if(te||"none"!==ot.display){var ut=void 0;ce&&(ut=(0,$t.parseCss)(st,Oe,et,ot,Ke)),Ve.push({rowSpan:Oe.rowSpan,colSpan:Oe.colSpan,styles:ut,_element:Oe,content:Ie(Oe)})}}var se=Ke.getComputedStyle(_e);if(Ve.length>0&&(te||"none"!==se.display))return Ve}function Ie(st){var et=st.cloneNode(!0);return et.innerHTML=et.innerHTML.replace(/\n/g,"").replace(/ +/g," "),et.innerHTML=et.innerHTML.split(/<br.*?>/).map(function(Ke){return Ke.trim()}).join("\n"),et.innerText||et.textContent||""}ke.parseHtml=function Pe(st,et,Ke,_e,te){var ce,Ve,Le;void 0===_e&&(_e=!1),void 0===te&&(te=!1),Le="string"==typeof et?Ke.document.querySelector(et):et;var Oe=Object.keys(st.getFontList()),ot=st.scaleFactor(),ut=[],se=[],fe=[];if(!Le)return console.error("Html table could not be found with input: ",et),{head:ut,body:se,foot:fe};for(var Z=0;Z<Le.rows.length;Z++){var Se=Le.rows[Z],nt=null===(Ve=null===(ce=null==Se?void 0:Se.parentElement)||void 0===ce?void 0:ce.tagName)||void 0===Ve?void 0:Ve.toLowerCase(),At=dt(Oe,ot,Ke,Se,_e,te);At&&("thead"===nt?ut.push(At):"tfoot"===nt?fe.push(At):se.push(At))}return{head:ut,body:se,foot:fe}}},776:function(Ht,ke,Dt){Object.defineProperty(ke,"__esModule",{value:!0}),ke.parseInput=void 0;var $t=Dt(4),ze=Dt(356),Pe=Dt(420),dt=Dt(744),Ie=Dt(792);function Ve(Le,Oe,ot){var ut=Le[0]||Oe[0]||ot[0]||[],se=[];return Object.keys(ut).filter(function(fe){return"_element"!==fe}).forEach(function(fe){var Se,Z=1;"object"==typeof(Se=Array.isArray(ut)?ut[parseInt(fe)]:ut[fe])&&!Array.isArray(Se)&&(Z=(null==Se?void 0:Se.colSpan)||1);for(var nt=0;nt<Z;nt++){var At;At=Array.isArray(ut)?se.length:fe+(nt>0?"_".concat(nt):""),se.push({dataKey:At})}}),se}ke.parseInput=function st(Le,Oe){var ot=new dt.DocHandler(Le),ut=ot.getDocumentOptions(),se=ot.getGlobalOptions();(0,Ie.default)(ot,se,ut,Oe);var Z,fe=(0,ze.assign)({},se,ut,Oe);typeof window<"u"&&(Z=window);var Se=function et(Le,Oe,ot){for(var ut={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},se=function(nt){if("columnStyles"===nt)ut.columnStyles=(0,ze.assign)({},Le[nt],Oe[nt],ot[nt]);else{var Rt=[Le,Oe,ot].map(function(yt){return yt[nt]||{}});ut[nt]=(0,ze.assign)({},Rt[0],Rt[1],Rt[2])}},fe=0,Z=Object.keys(ut);fe<Z.length;fe++)se(Z[fe]);return ut}(se,ut,Oe),nt=function Ke(Le,Oe,ot){for(var se={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},fe=0,Z=[Le,Oe,ot];fe<Z.length;fe++){var Se=Z[fe];Se.didParseCell&&se.didParseCell.push(Se.didParseCell),Se.willDrawCell&&se.willDrawCell.push(Se.willDrawCell),Se.didDrawCell&&se.didDrawCell.push(Se.didDrawCell),Se.willDrawPage&&se.willDrawPage.push(Se.willDrawPage),Se.didDrawPage&&se.didDrawPage.push(Se.didDrawPage)}return se}(se,ut,Oe),At=function _e(Le,Oe){var ot,ut,se,fe,Z,Se,nt,At,Ne,Ze,Ft,Rt,me,xe,yt=(0,Pe.parseSpacing)(Oe.margin,40/Le.scaleFactor()),Te=null!==(ot=function te(Le,Oe){var ot=Le.getLastAutoTable(),ut=Le.scaleFactor(),se=Le.pageNumber(),fe=!1;return ot&&ot.startPageNumber&&(fe=ot.startPageNumber+ot.pageNumber-1===se),"number"==typeof Oe?Oe:null!=Oe&&!1!==Oe||!fe||null==(null==ot?void 0:ot.finalY)?null:ot.finalY+20/ut}(Le,Oe.startY))&&void 0!==ot?ot:yt.top;me=!0===Oe.showFoot?"everyPage":!1===Oe.showFoot?"never":null!==(ut=Oe.showFoot)&&void 0!==ut?ut:"everyPage",xe=!0===Oe.showHead?"everyPage":!1===Oe.showHead?"never":null!==(se=Oe.showHead)&&void 0!==se?se:"everyPage";var Xe=null!==(fe=Oe.useCss)&&void 0!==fe&&fe,In=null!==(Z=Oe.horizontalPageBreakRepeat)&&void 0!==Z?Z:null;return{includeHiddenHtml:null!==(Se=Oe.includeHiddenHtml)&&void 0!==Se&&Se,useCss:Xe,theme:Oe.theme||(Xe?"plain":"striped"),startY:Te,margin:yt,pageBreak:null!==(nt=Oe.pageBreak)&&void 0!==nt?nt:"auto",rowPageBreak:null!==(At=Oe.rowPageBreak)&&void 0!==At?At:"auto",tableWidth:null!==(Ne=Oe.tableWidth)&&void 0!==Ne?Ne:"auto",showHead:xe,showFoot:me,tableLineWidth:null!==(Ze=Oe.tableLineWidth)&&void 0!==Ze?Ze:0,tableLineColor:null!==(Ft=Oe.tableLineColor)&&void 0!==Ft?Ft:200,horizontalPageBreak:!!Oe.horizontalPageBreak,horizontalPageBreakRepeat:In,horizontalPageBreakBehaviour:null!==(Rt=Oe.horizontalPageBreakBehaviour)&&void 0!==Rt?Rt:"afterAllRows"}}(ot,fe),Ne=function ce(Le,Oe,ot){var ut=Oe.head||[],se=Oe.body||[],fe=Oe.foot||[];if(Oe.html)if(ot){var Se=(0,$t.parseHtml)(Le,Oe.html,ot,Oe.includeHiddenHtml,Oe.useCss)||{};ut=Se.head||ut,se=Se.body||ut,fe=Se.foot||ut}else console.error("Cannot parse html in non browser environment");return{columns:Oe.columns||Ve(ut,se,fe),head:ut,body:se,foot:fe}}(ot,fe,Z);return{id:Oe.tableId,content:Ne,hooks:nt,styles:Se,settings:At}}},792:function(Ht,ke){function $t(ze){ze.rowHeight?(console.error("Use of deprecated style rowHeight. It is renamed to minCellHeight."),ze.minCellHeight||(ze.minCellHeight=ze.rowHeight)):ze.columnWidth&&(console.error("Use of deprecated style columnWidth. It is renamed to cellWidth."),ze.cellWidth||(ze.cellWidth=ze.columnWidth))}Object.defineProperty(ke,"__esModule",{value:!0}),ke.default=function Dt(ze,Pe,dt,Ie){for(var st=function(te){te&&"object"!=typeof te&&console.error("The options parameter should be of type object, is: "+typeof te),typeof te.extendWidth<"u"&&(te.tableWidth=te.extendWidth?"auto":"wrap",console.error("Use of deprecated option: extendWidth, use tableWidth instead.")),typeof te.margins<"u"&&(typeof te.margin>"u"&&(te.margin=te.margins),console.error("Use of deprecated option: margins, use margin instead.")),te.startY&&"number"!=typeof te.startY&&(console.error("Invalid value for startY option",te.startY),delete te.startY),!te.didDrawPage&&(te.afterPageContent||te.beforePageContent||te.afterPageAdd)&&(console.error("The afterPageContent, beforePageContent and afterPageAdd hooks are deprecated. Use didDrawPage instead"),te.didDrawPage=function(fe){ze.applyStyles(ze.userStyles),te.beforePageContent&&te.beforePageContent(fe),ze.applyStyles(ze.userStyles),te.afterPageContent&&te.afterPageContent(fe),ze.applyStyles(ze.userStyles),te.afterPageAdd&&fe.pageNumber>1&&fe.afterPageAdd(fe),ze.applyStyles(ze.userStyles)}),["createdHeaderCell","drawHeaderRow","drawRow","drawHeaderCell"].forEach(function(fe){te[fe]&&console.error('The "'.concat(fe,'" hook has changed in version 3.0, check the changelog for how to migrate.'))}),[["showFoot","showFooter"],["showHead","showHeader"],["didDrawPage","addPageContent"],["didParseCell","createdCell"],["headStyles","headerStyles"]].forEach(function(fe){var Z=fe[0],Se=fe[1];te[Se]&&(console.error("Use of deprecated option ".concat(Se,". Use ").concat(Z," instead")),te[Z]=te[Se])}),[["padding","cellPadding"],["lineHeight","rowHeight"],"fontSize","overflow"].forEach(function(fe){var Z="string"==typeof fe?fe:fe[0],Se="string"==typeof fe?fe:fe[1];typeof te[Z]<"u"&&(typeof te.styles[Se]>"u"&&(te.styles[Se]=te[Z]),console.error("Use of deprecated option: "+Z+", use the style "+Se+" instead."))});for(var ce=0,Ve=["styles","bodyStyles","headStyles","footStyles"];ce<Ve.length;ce++)$t(te[Ve[ce]]||{});for(var Oe=te.columnStyles||{},ot=0,ut=Object.keys(Oe);ot<ut.length;ot++)$t(Oe[ut[ot]]||{})},et=0,Ke=[Pe,dt,Ie];et<Ke.length;et++)st(Ke[et])}},260:function(Ht,ke,Dt){Object.defineProperty(ke,"__esModule",{value:!0}),ke.Column=ke.Cell=ke.Row=ke.Table=void 0;var $t=Dt(796),ze=Dt(172),Pe=Dt(420),dt=function(){function Ke(_e,te){this.pageNumber=1,this.pageCount=1,this.id=_e.id,this.settings=_e.settings,this.styles=_e.styles,this.hooks=_e.hooks,this.columns=te.columns,this.head=te.head,this.body=te.body,this.foot=te.foot}return Ke.prototype.getHeadHeight=function(_e){return this.head.reduce(function(te,ce){return te+ce.getMaxCellHeight(_e)},0)},Ke.prototype.getFootHeight=function(_e){return this.foot.reduce(function(te,ce){return te+ce.getMaxCellHeight(_e)},0)},Ke.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},Ke.prototype.callCellHooks=function(_e,te,ce,Ve,Le,Oe){for(var ot=0,ut=te;ot<ut.length;ot++){var Z=!1===(0,ut[ot])(new ze.CellHookData(_e,this,ce,Ve,Le,Oe));if(ce.text=Array.isArray(ce.text)?ce.text:[ce.text],Z)return!1}return!0},Ke.prototype.callEndPageHooks=function(_e,te){_e.applyStyles(_e.userStyles);for(var ce=0,Ve=this.hooks.didDrawPage;ce<Ve.length;ce++)(0,Ve[ce])(new ze.HookData(_e,this,te))},Ke.prototype.callWillDrawPageHooks=function(_e,te){for(var ce=0,Ve=this.hooks.willDrawPage;ce<Ve.length;ce++)(0,Ve[ce])(new ze.HookData(_e,this,te))},Ke.prototype.getWidth=function(_e){if("number"==typeof this.settings.tableWidth)return this.settings.tableWidth;if("wrap"===this.settings.tableWidth)return this.columns.reduce(function(Ve,Le){return Ve+Le.wrappedWidth},0);var ce=this.settings.margin;return _e-ce.left-ce.right},Ke}();ke.Table=dt;var Ie=function(){function Ke(_e,te,ce,Ve,Le){void 0===Le&&(Le=!1),this.height=0,this.raw=_e,_e instanceof $t.HtmlRowInput&&(this.raw=_e._element,this.element=_e._element),this.index=te,this.section=ce,this.cells=Ve,this.spansMultiplePages=Le}return Ke.prototype.getMaxCellHeight=function(_e){var te=this;return _e.reduce(function(ce,Ve){var Le;return Math.max(ce,(null===(Le=te.cells[Ve.index])||void 0===Le?void 0:Le.height)||0)},0)},Ke.prototype.hasRowSpan=function(_e){var te=this;return _e.filter(function(ce){var Ve=te.cells[ce.index];return!!Ve&&Ve.rowSpan>1}).length>0},Ke.prototype.canEntireRowFit=function(_e,te){return this.getMaxCellHeight(te)<=_e},Ke.prototype.getMinimumRowHeight=function(_e,te){var ce=this;return _e.reduce(function(Ve,Le){var Oe=ce.cells[Le.index];if(!Oe)return 0;var ot=te.getLineHeight(Oe.styles.fontSize),se=Oe.padding("vertical")+ot;return se>Ve?se:Ve},0)},Ke}();ke.Row=Ie;var st=function(){function Ke(_e,te,ce){var Ve,Le;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=te,this.section=ce,this.raw=_e;var Oe=_e;null==_e||"object"!=typeof _e||Array.isArray(_e)?(this.rowSpan=1,this.colSpan=1):(this.rowSpan=_e.rowSpan||1,this.colSpan=_e.colSpan||1,Oe=null!==(Le=null!==(Ve=_e.content)&&void 0!==Ve?Ve:_e.title)&&void 0!==Le?Le:_e,_e._element&&(this.raw=_e._element)),this.text=(null!=Oe?""+Oe:"").split(/\r\n|\r|\n/g)}return Ke.prototype.getTextPos=function(){var _e,ce;if("top"===this.styles.valign)_e=this.y+this.padding("top");else if("bottom"===this.styles.valign)_e=this.y+this.height-this.padding("bottom");else{var te=this.height-this.padding("vertical");_e=this.y+te/2+this.padding("top")}if("right"===this.styles.halign)ce=this.x+this.width-this.padding("right");else if("center"===this.styles.halign){var Ve=this.width-this.padding("horizontal");ce=this.x+Ve/2+this.padding("left")}else ce=this.x+this.padding("left");return{x:ce,y:_e}},Ke.prototype.getContentHeight=function(_e,te){void 0===te&&(te=1.15);var Le=(Array.isArray(this.text)?this.text.length:1)*(this.styles.fontSize/_e*te)+this.padding("vertical");return Math.max(Le,this.styles.minCellHeight)},Ke.prototype.padding=function(_e){var te=(0,Pe.parseSpacing)(this.styles.cellPadding,0);return"vertical"===_e?te.top+te.bottom:"horizontal"===_e?te.left+te.right:te[_e]},Ke}();ke.Cell=st;var et=function(){function Ke(_e,te,ce){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=_e,this.raw=te,this.index=ce}return Ke.prototype.getMaxCustomCellWidth=function(_e){for(var te=0,ce=0,Ve=_e.allRows();ce<Ve.length;ce++){var Oe=Ve[ce].cells[this.index];Oe&&"number"==typeof Oe.styles.cellWidth&&(te=Math.max(te,Oe.styles.cellWidth))}return te},Ke}();ke.Column=et},356:function(Ht,ke){Object.defineProperty(ke,"__esModule",{value:!0}),ke.assign=void 0,ke.assign=function Dt($t,ze,Pe,dt,Ie){if(null==$t)throw new TypeError("Cannot convert undefined or null to object");for(var st=Object($t),et=1;et<arguments.length;et++){var Ke=arguments[et];if(null!=Ke)for(var _e in Ke)Object.prototype.hasOwnProperty.call(Ke,_e)&&(st[_e]=Ke[_e])}return st}},972:function(Ht,ke,Dt){Object.defineProperty(ke,"__esModule",{value:!0}),ke.createTable=void 0;var $t=Dt(744),ze=Dt(260),Pe=Dt(324),dt=Dt(796),Ie=Dt(356);function Ke(Le,Oe,ot,ut,se,fe){var Z={};return Oe.map(function(nt,At){for(var Ne=0,Ze={},Ft=0,Rt=0,yt=0,Te=ot;yt<Te.length;yt++){var me=Te[yt];if(null==Z[me.index]||0===Z[me.index].left)if(0===Rt){var xe,Xe={};"object"==typeof(xe=Array.isArray(nt)?nt[me.index-Ft-Ne]:nt[me.dataKey])&&!Array.isArray(xe)&&(Xe=(null==xe?void 0:xe.styles)||{});var ft=Ve(Le,me,At,se,ut,fe,Xe),Je=new ze.Cell(xe,ft,Le);Ze[me.dataKey]=Je,Ze[me.index]=Je,Z[me.index]={left:Je.rowSpan-1,times:Rt=Je.colSpan-1}}else Rt--,Ft++;else Z[me.index].left--,Rt=Z[me.index].times,Ne++}return new ze.Row(nt,At,Le,Ze)})}function _e(Le,Oe){var ot={};return Le.forEach(function(ut){if(null!=ut.raw){var se=function te(Le,Oe){if("head"===Le){if("object"==typeof Oe)return Oe.header||Oe.title||null;if("string"==typeof Oe||"number"==typeof Oe)return Oe}else if("foot"===Le&&"object"==typeof Oe)return Oe.footer;return null}(Oe,ut.raw);null!=se&&(ot[ut.dataKey]=se)}}),Object.keys(ot).length>0?ot:null}function Ve(Le,Oe,ot,ut,se,fe,Z){var nt,Se=(0,dt.getTheme)(ut);"head"===Le?nt=se.headStyles:"body"===Le?nt=se.bodyStyles:"foot"===Le&&(nt=se.footStyles);var At=(0,Ie.assign)({},Se.table,Se[Le],se.styles,nt),Ze="body"===Le&&(se.columnStyles[Oe.dataKey]||se.columnStyles[Oe.index])||{},Ft="body"===Le&&ot%2==0?(0,Ie.assign)({},Se.alternateRow,se.alternateRowStyles):{},Rt=(0,dt.defaultStyles)(fe),yt=(0,Ie.assign)({},Rt,At,Ft,Ze);return(0,Ie.assign)(yt,Z)}ke.createTable=function st(Le,Oe){var ot=new $t.DocHandler(Le),ut=function et(Le,Oe){var se,ot=Le.content,ut=function ce(Le){return Le.map(function(Oe,ot){var ut,se,fe;return fe="object"==typeof Oe&&null!==(se=null!==(ut=Oe.dataKey)&&void 0!==ut?ut:Oe.key)&&void 0!==se?se:ot,new ze.Column(fe,Oe,ot)})}(ot.columns);0===ot.head.length&&(se=_e(ut,"head"))&&ot.head.push(se),0===ot.foot.length&&(se=_e(ut,"foot"))&&ot.foot.push(se);var fe=Le.settings.theme,Z=Le.styles;return{columns:ut,head:Ke("head",ot.head,ut,Z,fe,Oe),body:Ke("body",ot.body,ut,Z,fe,Oe),foot:Ke("foot",ot.foot,ut,Z,fe,Oe)}}(Oe,ot.scaleFactor()),se=new ze.Table(Oe,ut);return(0,Pe.calculateWidths)(ot,se),ot.applyStyles(ot.userStyles),se}},664:function(Ht,ke,Dt){Object.defineProperty(ke,"__esModule",{value:!0}),ke.addPage=ke.drawTable=void 0;var $t=Dt(420),ze=Dt(260),Pe=Dt(744),dt=Dt(356),Ie=Dt(136),st=Dt(224);function _e(Ne,Ze,Ft,Rt){var yt=Ze.settings;Ne.applyStyles(Ne.userStyles),("firstPage"===yt.showHead||"everyPage"===yt.showHead)&&Ze.head.forEach(function(Te){return se(Ne,Ze,Te,Ft,Rt)})}function ce(Ne,Ze,Ft,Rt,yt,Te){Ne.applyStyles(Ne.userStyles),Te=null!=Te?Te:Ze.body.length;var me=Math.min(Ft+Te,Ze.body.length),xe=-1;return Ze.body.slice(Ft,me).forEach(function(Xe,ft){var In=Se(Ne,Ze,Ft+ft===Ze.body.length-1,Rt);Xe.canEntireRowFit(In,yt)&&(se(Ne,Ze,Xe,Rt,yt),xe=Ft+ft)}),xe}function Ve(Ne,Ze,Ft,Rt){var yt=Ze.settings;Ne.applyStyles(Ne.userStyles),("lastPage"===yt.showFoot||"everyPage"===yt.showFoot)&&Ze.foot.forEach(function(Te){return se(Ne,Ze,Te,Ft,Rt)})}function Le(Ne,Ze,Ft){var Rt=Ft.getLineHeight(Ne.styles.fontSize),yt=Ne.padding("vertical"),Te=Math.floor((Ze-yt)/Rt);return Math.max(0,Te)}function ut(Ne,Ze,Ft,Rt,yt,Te,me){var xe=Se(Ne,Ze,Rt,Te);if(Ft.canEntireRowFit(xe,me))se(Ne,Ze,Ft,Te,me);else if(function ot(Ne,Ze,Ft,Rt){var yt=Ne.pageSize().height,Te=Rt.settings.margin,xe=yt-(Te.top+Te.bottom);"body"===Ze.section&&(xe-=Rt.getHeadHeight(Rt.columns)+Rt.getFootHeight(Rt.columns));var Xe=Ze.getMinimumRowHeight(Rt.columns,Ne),ft=Xe<Ft;if(Xe>xe)return console.error("Will not be able to print row ".concat(Ze.index," correctly since it's minimum height is larger than page height")),!0;if(!ft)return!1;var Je=Ze.hasRowSpan(Rt.columns);return Ze.getMaxCellHeight(Rt.columns)>xe?(Je&&console.error("The content of row ".concat(Ze.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(Je||"avoid"===Rt.settings.rowPageBreak)}(Ne,Ft,xe,Ze)){var Xe=function Oe(Ne,Ze,Ft,Rt){var yt={};Ne.spansMultiplePages=!0,Ne.height=0;for(var Te=0,me=0,xe=Ft.columns;me<xe.length;me++)if(ft=Ne.cells[(Xe=xe[me]).index]){Array.isArray(ft.text)||(ft.text=[ft.text]);var Je=new ze.Cell(ft.raw,ft.styles,ft.section);(Je=(0,dt.assign)(Je,ft)).text=[];var In=Le(ft,Ze,Rt);ft.text.length>In&&(Je.text=ft.text.splice(In,ft.text.length));var Un=Rt.scaleFactor(),Mn=Rt.getLineHeightFactor();ft.contentHeight=ft.getContentHeight(Un,Mn),ft.contentHeight>=Ze&&(ft.contentHeight=Ze,Je.styles.minCellHeight-=Ze),ft.contentHeight>Ne.height&&(Ne.height=ft.contentHeight),Je.contentHeight=Je.getContentHeight(Un,Mn),Je.contentHeight>Te&&(Te=Je.contentHeight),yt[Xe.index]=Je}var Gn=new ze.Row(Ne.raw,-1,Ne.section,yt,!0);Gn.height=Te;for(var Pr=0,Ci=Ft.columns;Pr<Ci.length;Pr++){var Xe,ft;(Je=Gn.cells[(Xe=Ci[Pr]).index])&&(Je.height=Gn.height),(ft=Ne.cells[Xe.index])&&(ft.height=Ne.height)}return Gn}(Ft,xe,Ze,Ne);se(Ne,Ze,Ft,Te,me),nt(Ne,Ze,yt,Te,me),ut(Ne,Ze,Xe,Rt,yt,Te,me)}else nt(Ne,Ze,yt,Te,me),ut(Ne,Ze,Ft,Rt,yt,Te,me)}function se(Ne,Ze,Ft,Rt,yt){Rt.x=Ze.settings.margin.left;for(var Te=0,me=yt;Te<me.length;Te++){var xe=me[Te],Xe=Ft.cells[xe.index];if(Xe)if(Ne.applyStyles(Xe.styles),Xe.x=Rt.x,Xe.y=Rt.y,!1!==Ze.callCellHooks(Ne,Ze.hooks.willDrawCell,Xe,Ft,xe,Rt)){fe(Ne,Xe,Rt);var Je=Xe.getTextPos();(0,Ie.default)(Xe.text,Je.x,Je.y,{halign:Xe.styles.halign,valign:Xe.styles.valign,maxWidth:Math.ceil(Xe.width-Xe.padding("left")-Xe.padding("right"))},Ne.getDocument()),Ze.callCellHooks(Ne,Ze.hooks.didDrawCell,Xe,Ft,xe,Rt),Rt.x+=xe.width}else Rt.x+=xe.width;else Rt.x+=xe.width}Rt.y+=Ft.height}function fe(Ne,Ze,Ft){var Rt=Ze.styles;if(Ne.getDocument().setFillColor(Ne.getDocument().getFillColor()),"number"==typeof Rt.lineWidth){var yt=(0,$t.getFillStyle)(Rt.lineWidth,Rt.fillColor);yt&&Ne.rect(Ze.x,Ft.y,Ze.width,Ze.height,yt)}else"object"==typeof Rt.lineWidth&&(Rt.fillColor&&Ne.rect(Ze.x,Ft.y,Ze.width,Ze.height,"F"),function Z(Ne,Ze,Ft,Rt){var yt,Te,me,xe;function Xe(ft,Je,In,Un,Mn){Ne.getDocument().setLineWidth(ft),Ne.getDocument().line(Je,In,Un,Mn,"S")}Rt.top&&(yt=Ft.x,me=Ft.x+Ze.width,Rt.right&&(me+=.5*Rt.right),Rt.left&&(yt-=.5*Rt.left),Xe(Rt.top,yt,Te=Ft.y,me,xe=Ft.y)),Rt.bottom&&(yt=Ft.x,me=Ft.x+Ze.width,Rt.right&&(me+=.5*Rt.right),Rt.left&&(yt-=.5*Rt.left),Xe(Rt.bottom,yt,Te=Ft.y+Ze.height,me,xe=Ft.y+Ze.height)),Rt.left&&(Te=Ft.y,xe=Ft.y+Ze.height,Rt.top&&(Te-=.5*Rt.top),Rt.bottom&&(xe+=.5*Rt.bottom),Xe(Rt.left,yt=Ft.x,Te,me=Ft.x,xe)),Rt.right&&(Te=Ft.y,xe=Ft.y+Ze.height,Rt.top&&(Te-=.5*Rt.top),Rt.bottom&&(xe+=.5*Rt.bottom),Xe(Rt.right,yt=Ft.x+Ze.width,Te,me=Ft.x+Ze.width,xe))}(Ne,Ze,Ft,Rt.lineWidth))}function Se(Ne,Ze,Ft,Rt){var yt=Ze.settings.margin.bottom,Te=Ze.settings.showFoot;return("everyPage"===Te||"lastPage"===Te&&Ft)&&(yt+=Ze.getFootHeight(Ze.columns)),Ne.pageSize().height-Rt.y-yt}function nt(Ne,Ze,Ft,Rt,yt,Te){void 0===yt&&(yt=[]),void 0===Te&&(Te=!1),Ne.applyStyles(Ne.userStyles),"everyPage"===Ze.settings.showFoot&&!Te&&Ze.foot.forEach(function(xe){return se(Ne,Ze,xe,Rt,yt)}),Ze.callEndPageHooks(Ne,Rt);var me=Ze.settings.margin;(0,$t.addTableBorder)(Ne,Ze,Ft,Rt),At(Ne),Ze.pageNumber++,Ze.pageCount++,Rt.x=me.left,Rt.y=me.top,Ft.y=me.top,Ze.callWillDrawPageHooks(Ne,Rt),"everyPage"===Ze.settings.showHead&&(Ze.head.forEach(function(xe){return se(Ne,Ze,xe,Rt,yt)}),Ne.applyStyles(Ne.userStyles))}function At(Ne){var Ze=Ne.pageNumber();return Ne.setPage(Ze+1),Ne.pageNumber()===Ze&&(Ne.addPage(),!0)}ke.drawTable=function et(Ne,Ze){var Ft=Ze.settings,Rt=Ft.startY,yt=Ft.margin,Te={x:yt.left,y:Rt},me=Ze.getHeadHeight(Ze.columns)+Ze.getFootHeight(Ze.columns),xe=Rt+yt.bottom+me;"avoid"===Ft.pageBreak&&(xe+=Ze.body.reduce(function(Un,Mn){return Un+Mn.height},0));var Je=new Pe.DocHandler(Ne);("always"===Ft.pageBreak||null!=Ft.startY&&xe>Je.pageSize().height)&&(At(Je),Te.y=yt.top),Ze.callWillDrawPageHooks(Je,Te);var In=(0,dt.assign)({},Te);Ze.startPageNumber=Je.pageNumber(),Ft.horizontalPageBreak?function Ke(Ne,Ze,Ft,Rt){var yt=(0,st.calculateAllColumnsCanFitInPage)(Ne,Ze);if("afterAllRows"===Ze.settings.horizontalPageBreakBehaviour)yt.forEach(function(ft,Je){Ne.applyStyles(Ne.userStyles),Je>0?nt(Ne,Ze,Ft,Rt,ft.columns,!0):_e(Ne,Ze,Rt,ft.columns),function te(Ne,Ze,Ft,Rt,yt){Ne.applyStyles(Ne.userStyles),Ze.body.forEach(function(Te,me){ut(Ne,Ze,Te,me===Ze.body.length-1,Ft,Rt,yt)})}(Ne,Ze,Ft,Rt,ft.columns),Ve(Ne,Ze,Rt,ft.columns)});else for(var me=-1,xe=yt[0],Xe=function(){var ft=me;if(xe){Ne.applyStyles(Ne.userStyles);var Je=xe.columns;me>=0?nt(Ne,Ze,Ft,Rt,Je,!0):_e(Ne,Ze,Rt,Je),ft=ce(Ne,Ze,me+1,Rt,Je),Ve(Ne,Ze,Rt,Je)}var In=ft-me;yt.slice(1).forEach(function(Un){Ne.applyStyles(Ne.userStyles),nt(Ne,Ze,Ft,Rt,Un.columns,!0),ce(Ne,Ze,me+1,Rt,Un.columns,In),Ve(Ne,Ze,Rt,Un.columns)}),me=ft};me<Ze.body.length-1;)Xe()}(Je,Ze,In,Te):(Je.applyStyles(Je.userStyles),("firstPage"===Ft.showHead||"everyPage"===Ft.showHead)&&Ze.head.forEach(function(Un){return se(Je,Ze,Un,Te,Ze.columns)}),Je.applyStyles(Je.userStyles),Ze.body.forEach(function(Un,Mn){ut(Je,Ze,Un,Mn===Ze.body.length-1,In,Te,Ze.columns)}),Je.applyStyles(Je.userStyles),("lastPage"===Ft.showFoot||"everyPage"===Ft.showFoot)&&Ze.foot.forEach(function(Un){return se(Je,Ze,Un,Te,Ze.columns)})),(0,$t.addTableBorder)(Je,Ze,In,Te),Ze.callEndPageHooks(Je,Te),Ze.finalY=Te.y,Ne.lastAutoTable=Ze,Ne.previousAutoTable=Ze,Ne.autoTable&&(Ne.autoTable.previous=Ze),Je.applyStyles(Je.userStyles)},ke.addPage=nt},224:function(Ht,ke,Dt){Object.defineProperty(ke,"__esModule",{value:!0}),ke.calculateAllColumnsCanFitInPage=void 0;var $t=Dt(420);function ze(dt,Ie,st){var et;void 0===st&&(st={});var Ke=(0,$t.getPageAvailableWidth)(dt,Ie),_e=new Map,te=[],ce=[],Ve=[];Array.isArray(Ie.settings.horizontalPageBreakRepeat)?Ve=Ie.settings.horizontalPageBreakRepeat:("string"==typeof Ie.settings.horizontalPageBreakRepeat||"number"==typeof Ie.settings.horizontalPageBreakRepeat)&&(Ve=[Ie.settings.horizontalPageBreakRepeat]),Ve.forEach(function(ut){var se=Ie.columns.find(function(fe){return fe.dataKey===ut||fe.index===ut});se&&!_e.has(se.index)&&(_e.set(se.index,!0),te.push(se.index),ce.push(Ie.columns[se.index]),Ke-=se.wrappedWidth)});for(var Le=!0,Oe=null!==(et=null==st?void 0:st.start)&&void 0!==et?et:0;Oe<Ie.columns.length;)if(_e.has(Oe))Oe++;else{var ot=Ie.columns[Oe].wrappedWidth;if(!(Le||Ke>=ot))break;Le=!1,te.push(Oe),ce.push(Ie.columns[Oe]),Ke-=ot,Oe++}return{colIndexes:te,columns:ce,lastIndex:Oe-1}}ke.calculateAllColumnsCanFitInPage=function Pe(dt,Ie){for(var st=[],et=0;et<Ie.columns.length;et++){var Ke=ze(dt,Ie,{start:et});Ke.columns.length&&(st.push(Ke),et=Ke.lastIndex)}return st}},324:function(Ht,ke,Dt){Object.defineProperty(ke,"__esModule",{value:!0}),ke.ellipsize=ke.resizeColumns=ke.calculateWidths=void 0;var $t=Dt(420);function dt(te,ce,Ve){for(var Le=ce,Oe=te.reduce(function(Ne,Ze){return Ne+Ze.wrappedWidth},0),ot=0;ot<te.length;ot++){var ut=te[ot],Z=ut.width+Le*(ut.wrappedWidth/Oe),Se=Ve(ut),nt=Z<Se?Se:Z;ce-=nt-ut.width,ut.width=nt}if(ce=Math.round(1e10*ce)/1e10){var At=te.filter(function(Ne){return!(ce<0)||Ne.width>Ve(Ne)});At.length&&(ce=dt(At,ce,Ve))}return ce}function Ke(te,ce,Ve,Le,Oe){return te.map(function(ot){return function _e(te,ce,Ve,Le,Oe){var ot=1e4*Le.scaleFactor();if((ce=Math.ceil(ce*ot)/ot)>=(0,$t.getStringWidth)(te,Ve,Le))return te;for(;ce<(0,$t.getStringWidth)(te+Oe,Ve,Le)&&!(te.length<=1);)te=te.substring(0,te.length-1);return te.trim()+Oe}(ot,ce,Ve,Le,Oe)})}ke.calculateWidths=function ze(te,ce){!function Pe(te,ce){var Ve=te.scaleFactor(),Le=ce.settings.horizontalPageBreak,Oe=(0,$t.getPageAvailableWidth)(te,ce);ce.allRows().forEach(function(ot){for(var ut=0,se=ce.columns;ut<se.length;ut++){var fe=se[ut],Z=ot.cells[fe.index];if(Z){ce.callCellHooks(te,ce.hooks.didParseCell,Z,ot,fe,null);var nt=Z.padding("horizontal");Z.contentWidth=(0,$t.getStringWidth)(Z.text,Z.styles,te)+nt;var At=(0,$t.getStringWidth)(Z.text.join(" ").split(/\s+/),Z.styles,te);Z.minReadableWidth=At+Z.padding("horizontal"),"number"==typeof Z.styles.cellWidth?(Z.minWidth=Z.styles.cellWidth,Z.wrappedWidth=Z.styles.cellWidth):"wrap"===Z.styles.cellWidth||!0===Le?Z.contentWidth>Oe?(Z.minWidth=Oe,Z.wrappedWidth=Oe):(Z.minWidth=Z.contentWidth,Z.wrappedWidth=Z.contentWidth):(Z.minWidth=Z.styles.minCellWidth||10/Ve,Z.wrappedWidth=Z.contentWidth,Z.minWidth>Z.wrappedWidth&&(Z.wrappedWidth=Z.minWidth))}}}),ce.allRows().forEach(function(ot){for(var ut=0,se=ce.columns;ut<se.length;ut++){var fe=se[ut],Z=ot.cells[fe.index];if(Z&&1===Z.colSpan)fe.wrappedWidth=Math.max(fe.wrappedWidth,Z.wrappedWidth),fe.minWidth=Math.max(fe.minWidth,Z.minWidth),fe.minReadableWidth=Math.max(fe.minReadableWidth,Z.minReadableWidth);else{var Se=ce.styles.columnStyles[fe.dataKey]||ce.styles.columnStyles[fe.index]||{},nt=Se.cellWidth||Se.minCellWidth;nt&&"number"==typeof nt&&(fe.minWidth=nt,fe.wrappedWidth=nt)}Z&&(Z.colSpan>1&&!fe.minWidth&&(fe.minWidth=Z.minWidth),Z.colSpan>1&&!fe.wrappedWidth&&(fe.wrappedWidth=Z.minWidth))}})}(te,ce);var Ve=[],Le=0;ce.columns.forEach(function(ot){var ut=ot.getMaxCustomCellWidth(ce);ut?ot.width=ut:(ot.width=ot.wrappedWidth,Ve.push(ot)),Le+=ot.width});var Oe=ce.getWidth(te.pageSize().width)-Le;Oe&&(Oe=dt(Ve,Oe,function(ot){return Math.max(ot.minReadableWidth,ot.minWidth)})),Oe&&(Oe=dt(Ve,Oe,function(ot){return ot.minWidth})),Oe=Math.abs(Oe),!ce.settings.horizontalPageBreak&&Oe>.1/te.scaleFactor()&&(Oe=Oe<1?Oe:Math.round(Oe),console.warn("Of the table content, ".concat(Oe," units width could not fit page"))),function st(te){for(var ce=te.allRows(),Ve=0;Ve<ce.length;Ve++)for(var Le=ce[Ve],Oe=null,ot=0,ut=0,se=0;se<te.columns.length;se++){var fe=te.columns[se];if((ut-=1)>1&&te.columns[se+1])ot+=fe.width,delete Le.cells[fe.index];else if(Oe){var Z=Oe;delete Le.cells[fe.index],Oe=null,Z.width=fe.width+ot}else{if(!(Z=Le.cells[fe.index]))continue;if(ut=Z.colSpan,ot=0,Z.colSpan>1){Oe=Z,ot+=fe.width;continue}Z.width=fe.width+ot}}}(ce),function et(te,ce){for(var Ve={count:0,height:0},Le=0,Oe=te.allRows();Le<Oe.length;Le++){for(var ot=Oe[Le],ut=0,se=te.columns;ut<se.length;ut++){var Z=ot.cells[se[ut].index];if(Z){ce.applyStyles(Z.styles,!0);var Se=Z.width-Z.padding("horizontal");if("linebreak"===Z.styles.overflow)Z.text=ce.splitTextToSize(Z.text,Se+1/ce.scaleFactor(),{fontSize:Z.styles.fontSize});else if("ellipsize"===Z.styles.overflow)Z.text=Ke(Z.text,Se,Z.styles,ce,"...");else if("hidden"===Z.styles.overflow)Z.text=Ke(Z.text,Se,Z.styles,ce,"");else if("function"==typeof Z.styles.overflow){var nt=Z.styles.overflow(Z.text,Se);Z.text="string"==typeof nt?[nt]:nt}Z.contentHeight=Z.getContentHeight(ce.scaleFactor(),ce.getLineHeightFactor());var At=Z.contentHeight/Z.rowSpan;Z.rowSpan>1&&Ve.count*Ve.height<At*Z.rowSpan?Ve={height:At,count:Z.rowSpan}:Ve&&Ve.count>0&&Ve.height>At&&(At=Ve.height),At>ot.height&&(ot.height=At)}}Ve.count--}}(ce,te),function Ie(te){for(var ce={},Ve=1,Le=te.allRows(),Oe=0;Oe<Le.length;Oe++)for(var ot=Le[Oe],ut=0,se=te.columns;ut<se.length;ut++){var fe=se[ut],Z=ce[fe.index];if(Ve>1)Ve--,delete ot.cells[fe.index];else if(Z)Z.cell.height+=ot.height,Ve=Z.cell.colSpan,delete ot.cells[fe.index],Z.left--,Z.left<=1&&delete ce[fe.index];else{var Se=ot.cells[fe.index];if(!Se)continue;if(Se.height=ot.height,Se.rowSpan>1){var nt=Le.length-Oe;ce[fe.index]={cell:Se,left:Se.rowSpan>nt?nt:Se.rowSpan,row:ot}}}}}(ce)},ke.resizeColumns=dt,ke.ellipsize=Ke},964:function(Ht){if(typeof V>"u"){var ke=new Error("Cannot find module 'undefined'");throw ke.code="MODULE_NOT_FOUND",ke}Ht.exports=V}},he={};function Gt(Ht){var ke=he[Ht];if(void 0!==ke)return ke.exports;var Dt=he[Ht]={exports:{}};return Pt[Ht].call(Dt.exports,Dt,Dt.exports,Gt),Dt.exports}var xn={};return function(){var Ht=xn;Object.defineProperty(Ht,"__esModule",{value:!0}),Ht.Cell=Ht.Column=Ht.Row=Ht.Table=Ht.CellHookData=Ht.__drawTable=Ht.__createTable=Ht.applyPlugin=void 0;var ke=Gt(340),Dt=Gt(776),$t=Gt(664),ze=Gt(972),Pe=Gt(260);Object.defineProperty(Ht,"Table",{enumerable:!0,get:function(){return Pe.Table}});var dt=Gt(172);Object.defineProperty(Ht,"CellHookData",{enumerable:!0,get:function(){return dt.CellHookData}});var Ie=Gt(260);function st(ce){(0,ke.default)(ce)}Object.defineProperty(Ht,"Cell",{enumerable:!0,get:function(){return Ie.Cell}}),Object.defineProperty(Ht,"Column",{enumerable:!0,get:function(){return Ie.Column}}),Object.defineProperty(Ht,"Row",{enumerable:!0,get:function(){return Ie.Row}}),Ht.applyPlugin=st,Ht.__createTable=function Ke(ce,Ve){var Le=(0,Dt.parseInput)(ce,Ve);return(0,ze.createTable)(ce,Le)},Ht.__drawTable=function _e(ce,Ve){(0,$t.drawTable)(ce,Ve)};try{var te=Gt(964);te.jsPDF&&(te=te.jsPDF),st(te)}catch{}Ht.default=function et(ce,Ve){var Le=(0,Dt.parseInput)(ce,Ve),Oe=(0,ze.createTable)(ce,Le);(0,$t.drawTable)(ce,Oe)}}(),xn}())},9107:(vo,Tr,_t)=>{"use strict";_t.r(Tr),_t.d(Tr,{AcroForm:()=>Fh,AcroFormAppearance:()=>yr,AcroFormButton:()=>Jr,AcroFormCheckBox:()=>sd,AcroFormChoiceField:()=>Md,AcroFormComboBox:()=>Sc,AcroFormEditBox:()=>Ll,AcroFormListBox:()=>yA,AcroFormPasswordField:()=>ru,AcroFormPushButton:()=>Ld,AcroFormRadioButton:()=>nu,AcroFormTextField:()=>Ya,GState:()=>xo,ShadingPattern:()=>po,TilingPattern:()=>ws,default:()=>IA,jsPDF:()=>jr});var V=_t(2284),Gt=Uint8Array,xn=Uint16Array,Ht=Uint32Array,ke=new Gt([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Dt=new Gt([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),$t=new Gt([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),ze=function(C,g){for(var y=new xn(31),E=0;E<31;++E)y[E]=g+=1<<C[E-1];var D=new Ht(y[30]);for(E=1;E<30;++E)for(var T=y[E];T<y[E+1];++T)D[T]=T-y[E]<<5|E;return[y,D]},Pe=ze(ke,2),dt=Pe[0],Ie=Pe[1];dt[28]=258,Ie[258]=28;for(var st=ze(Dt,0),et=st[0],Ke=st[1],_e=new xn(32768),te=0;te<32768;++te){var ce=(43690&te)>>>1|(21845&te)<<1;_e[te]=((65280&(ce=(61680&(ce=(52428&ce)>>>2|(13107&ce)<<2))>>>4|(3855&ce)<<4))>>>8|(255&ce)<<8)>>>1}var Ve=function(C,g,y){for(var E=C.length,D=0,T=new xn(g);D<E;++D)++T[C[D]-1];var M,P=new xn(g);for(D=0;D<g;++D)P[D]=P[D-1]+T[D-1]<<1;if(y){M=new xn(1<<g);var L=15-g;for(D=0;D<E;++D)if(C[D])for(var $=D<<4|C[D],re=g-C[D],ue=P[C[D]-1]++<<re,ve=ue|(1<<re)-1;ue<=ve;++ue)M[_e[ue]>>>L]=$}else for(M=new xn(E),D=0;D<E;++D)M[D]=_e[P[C[D]-1]++]>>>15-C[D];return M},Le=new Gt(288);for(te=0;te<144;++te)Le[te]=8;for(te=144;te<256;++te)Le[te]=9;for(te=256;te<280;++te)Le[te]=7;for(te=280;te<288;++te)Le[te]=8;var Oe=new Gt(32);for(te=0;te<32;++te)Oe[te]=5;var ot=Ve(Le,9,0),ut=Ve(Le,9,1),se=Ve(Oe,5,0),fe=Ve(Oe,5,1),Z=function(C){for(var g=C[0],y=1;y<C.length;++y)C[y]>g&&(g=C[y]);return g},Se=function(C,g,y){var E=g/8|0;return(C[E]|C[E+1]<<8)>>>(7&g)&y},nt=function(C,g){var y=g/8|0;return(C[y]|C[y+1]<<8|C[y+2]<<16)>>>(7&g)},At=function(C){return(C/8|0)+(7&C&&1)},Ne=function(C,g,y){(null==g||g<0)&&(g=0),(null==y||y>C.length)&&(y=C.length);var E=new(C instanceof xn?xn:C instanceof Ht?Ht:Gt)(y-g);return E.set(C.subarray(g,y)),E},Ft=function(C,g,y){var E=g/8|0;C[E]|=y<<=7&g,C[E+1]|=y>>>8},Rt=function(C,g,y){var E=g/8|0;C[E]|=y<<=7&g,C[E+1]|=y>>>8,C[E+2]|=y>>>16},yt=function(C,g){for(var y=[],E=0;E<C.length;++E)C[E]&&y.push({s:E,f:C[E]});var D=y.length,T=y.slice();if(!D)return[new Gt(0),0];if(1==D){var P=new Gt(y[0].s+1);return P[y[0].s]=1,[P,1]}y.sort(function(hn,xt){return hn.f-xt.f}),y.push({s:-1,f:25001});var M=y[0],L=y[1],$=0,re=1,ue=2;for(y[0]={s:-1,f:M.f+L.f,l:M,r:L};re!=D-1;)M=y[y[$].f<y[ue].f?$++:ue++],L=y[$!=re&&y[$].f<y[ue].f?$++:ue++],y[re++]={s:-1,f:M.f+L.f,l:M,r:L};var ve=T[0].s;for(E=1;E<D;++E)T[E].s>ve&&(ve=T[E].s);var H=new xn(ve+1),Qe=Te(y[re-1],H,0);if(Qe>g){E=0;var De=0,qe=Qe-g,ee=1<<qe;for(T.sort(function(xt,Lt){return H[Lt.s]-H[xt.s]||xt.f-Lt.f});E<D;++E){var He=T[E].s;if(!(H[He]>g))break;De+=ee-(1<<Qe-H[He]),H[He]=g}for(De>>>=qe;De>0;){var Ct=T[E].s;H[Ct]<g?De-=1<<g-H[Ct]++-1:++E}for(;E>=0&&De;--E){var Mt=T[E].s;H[Mt]==g&&(--H[Mt],++De)}Qe=g}return[new Gt(H),Qe]},Te=function(C,g,y){return-1==C.s?Math.max(Te(C.l,g,y+1),Te(C.r,g,y+1)):g[C.s]=y},me=function(C){for(var g=C.length;g&&!C[--g];);for(var y=new xn(++g),E=0,D=C[0],T=1,P=function(L){y[E++]=L},M=1;M<=g;++M)if(C[M]==D&&M!=g)++T;else{if(!D&&T>2){for(;T>138;T-=138)P(32754);T>2&&(P(T>10?T-11<<5|28690:T-3<<5|12305),T=0)}else if(T>3){for(P(D),--T;T>6;T-=6)P(8304);T>2&&(P(T-3<<5|8208),T=0)}for(;T--;)P(D);T=1,D=C[M]}return[y.subarray(0,E),g]},xe=function(C,g){for(var y=0,E=0;E<g.length;++E)y+=C[E]*g[E];return y},Xe=function(C,g,y){var E=y.length,D=At(g+2);C[D]=255&E,C[D+1]=E>>>8,C[D+2]=255^C[D],C[D+3]=255^C[D+1];for(var T=0;T<E;++T)C[D+T+4]=y[T];return 8*(D+4+E)},ft=function(C,g,y,E,D,T,P,M,L,$,re){Ft(g,re++,y),++D[256];for(var ue=yt(D,15),ve=ue[0],H=ue[1],Qe=yt(T,15),De=Qe[0],qe=Qe[1],ee=me(ve),He=ee[0],Ct=ee[1],Mt=me(De),hn=Mt[0],xt=Mt[1],Lt=new xn(19),Ue=0;Ue<He.length;++Ue)Lt[31&He[Ue]]++;for(Ue=0;Ue<hn.length;++Ue)Lt[31&hn[Ue]]++;for(var an=yt(Lt,7),cn=an[0],Re=an[1],Ee=19;Ee>4&&!cn[$t[Ee-1]];--Ee);var rn,bn,Wt,Sn,vt=$+5<<3,ct=xe(D,Le)+xe(T,Oe)+P,pn=xe(D,ve)+xe(T,De)+P+14+3*Ee+xe(Lt,cn)+(2*Lt[16]+3*Lt[17]+7*Lt[18]);if(vt<=ct&&vt<=pn)return Xe(g,re,C.subarray(L,L+$));if(Ft(g,re,1+(pn<ct)),re+=2,pn<ct){rn=Ve(ve,H,0),bn=ve,Wt=Ve(De,qe,0),Sn=De;var wn=Ve(cn,Re,0);for(Ft(g,re,Ct-257),Ft(g,re+5,xt-1),Ft(g,re+10,Ee-4),re+=14,Ue=0;Ue<Ee;++Ue)Ft(g,re+3*Ue,cn[$t[Ue]]);re+=3*Ee;for(var lr=[He,hn],ae=0;ae<2;++ae){var $e=lr[ae];for(Ue=0;Ue<$e.length;++Ue)Ft(g,re,wn[it=31&$e[Ue]]),re+=cn[it],it>15&&(Ft(g,re,$e[Ue]>>>5&127),re+=$e[Ue]>>>12)}}else rn=ot,bn=Le,Wt=se,Sn=Oe;for(Ue=0;Ue<M;++Ue)if(E[Ue]>255){var it;Rt(g,re,rn[257+(it=E[Ue]>>>18&31)]),re+=bn[it+257],it>7&&(Ft(g,re,E[Ue]>>>23&31),re+=ke[it]);var bt=31&E[Ue];Rt(g,re,Wt[bt]),re+=Sn[bt],bt>3&&(Rt(g,re,E[Ue]>>>5&8191),re+=Dt[bt])}else Rt(g,re,rn[E[Ue]]),re+=bn[E[Ue]];return Rt(g,re,rn[256]),re+bn[256]},Je=new Ht([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),In=new Gt(0),Ci=function(C,g,y,E,D){return function(C,g,y,E,D,T){var P=C.length,M=new Gt(E+P+5*(1+Math.floor(P/7e3))+D),L=M.subarray(E,M.length-D),$=0;if(!g||P<8)for(var re=0;re<=P;re+=65535){var ue=re+65535;ue<P?$=Xe(L,$,C.subarray(re,ue)):(L[re]=T,$=Xe(L,$,C.subarray(re,P)))}else{for(var ve=Je[g-1],H=ve>>>13,Qe=8191&ve,De=(1<<y)-1,qe=new xn(32768),ee=new xn(De+1),He=Math.ceil(y/3),Ct=2*He,Mt=function(ui){return(C[ui]^C[ui+1]<<He^C[ui+2]<<Ct)&De},hn=new Ht(25e3),xt=new xn(288),Lt=new xn(32),Ue=0,an=0,cn=(re=0,0),Re=0,Ee=0;re<P;++re){var vt=Mt(re),ct=32767&re,pn=ee[vt];if(qe[ct]=pn,ee[vt]=ct,Re<=re){var rn=P-re;if((Ue>7e3||cn>24576)&&rn>423){$=ft(C,L,0,hn,xt,Lt,an,cn,Ee,re-Ee,$),cn=Ue=an=0,Ee=re;for(var bn=0;bn<286;++bn)xt[bn]=0;for(bn=0;bn<30;++bn)Lt[bn]=0}var Wt=2,Sn=0,wn=Qe,lr=ct-pn&32767;if(rn>2&&vt==Mt(re-lr))for(var ae=Math.min(H,rn)-1,$e=Math.min(32767,re),it=Math.min(258,rn);lr<=$e&&--wn&&ct!=pn;){if(C[re+Wt]==C[re+Wt-lr]){for(var bt=0;bt<it&&C[re+bt]==C[re+bt-lr];++bt);if(bt>Wt){if(Wt=bt,Sn=lr,bt>ae)break;var St=Math.min(lr,bt-2),Kt=0;for(bn=0;bn<St;++bn){var qt=re-lr+bn+32768&32767,Xn=qt-qe[qt]+32768&32767;Xn>Kt&&(Kt=Xn,pn=qt)}}}lr+=(ct=pn)-(pn=qe[ct])+32768&32767}if(Sn){hn[cn++]=268435456|Ie[Wt]<<18|Ke[Sn];var Wn=31&Ie[Wt],gr=31&Ke[Sn];an+=ke[Wn]+Dt[gr],++xt[257+Wn],++Lt[gr],Re=re+Wt,++Ue}else hn[cn++]=C[re],++xt[C[re]]}}$=ft(C,L,T,hn,xt,Lt,an,cn,Ee,re-Ee,$),T||($=Xe(L,$,In))}return Ne(M,0,E+At($)+D)}(C,null==g.level?6:g.level,null==g.mem?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(C.length)))):12+g.mem,y,E,!D)};function Ni(C,g){void 0===g&&(g={});var y=function(){var C=1,g=0;return{p:function(y){for(var E=C,D=g,T=y.length,P=0;P!=T;){for(var M=Math.min(P+5552,T);P<M;++P)D+=E+=y[P];E%=65521,D%=65521}C=E,g=D},d:function(){return(C>>>8<<16|(255&g)<<8|g>>>8)+2*((255&C)<<23)}}}();y.p(C);var E=Ci(C,g,2,4);return function(C,g){var y=g.level,E=0==y?0:y<6?1:9==y?3:2;C[0]=120,C[1]=E<<6|(E?32-2*E:1)}(E,g),function(C,g,y){for(;y;++g)C[g]=y,y>>>=8}(E,E.length-4,y.d()),E}function rs(C,g){return function(C,g,y){var E=C.length,D=!g||y,T=!y||y.i;y||(y={}),g||(g=new Gt(3*E));var P=function(St){var Kt=g.length;if(St>Kt){var qt=new Gt(Math.max(2*Kt,St));qt.set(g),g=qt}},M=y.f||0,L=y.p||0,$=y.b||0,re=y.l,ue=y.d,ve=y.m,H=y.n,Qe=8*E;do{if(!re){y.f=M=Se(C,L,1);var De=Se(C,L+1,3);if(L+=3,!De){var ee=C[(qe=At(L)+4)-4]|C[qe-3]<<8,He=qe+ee;if(He>E){if(T)throw"unexpected EOF";break}D&&P($+ee),g.set(C.subarray(qe,He),$),y.b=$+=ee,y.p=L=8*He;continue}if(1==De)re=ut,ue=fe,ve=9,H=5;else{if(2!=De)throw"invalid block type";var Ct=Se(C,L,31)+257,Mt=Se(C,L+10,15)+4,hn=Ct+Se(C,L+5,31)+1;L+=14;for(var xt=new Gt(hn),Lt=new Gt(19),Ue=0;Ue<Mt;++Ue)Lt[$t[Ue]]=Se(C,L+3*Ue,7);L+=3*Mt;var an=Z(Lt),cn=(1<<an)-1;if(!T&&L+hn*(an+7)>Qe)break;var Re=Ve(Lt,an,1);for(Ue=0;Ue<hn;){var qe,Ee=Re[Se(C,L,cn)];if(L+=15&Ee,(qe=Ee>>>4)<16)xt[Ue++]=qe;else{var vt=0,ct=0;for(16==qe?(ct=3+Se(C,L,3),L+=2,vt=xt[Ue-1]):17==qe?(ct=3+Se(C,L,7),L+=3):18==qe&&(ct=11+Se(C,L,127),L+=7);ct--;)xt[Ue++]=vt}}var pn=xt.subarray(0,Ct),rn=xt.subarray(Ct);ve=Z(pn),H=Z(rn),re=Ve(pn,ve,1),ue=Ve(rn,H,1)}if(L>Qe)throw"unexpected EOF"}D&&P($+131072);for(var bn=(1<<ve)-1,Wt=(1<<H)-1,Sn=ve+H+18;T||L+Sn<Qe;){var wn=(vt=re[nt(C,L)&bn])>>>4;if((L+=15&vt)>Qe)throw"unexpected EOF";if(!vt)throw"invalid length/literal";if(wn<256)g[$++]=wn;else{if(256==wn){re=null;break}var lr=wn-254;wn>264&&(lr=Se(C,L,(1<<(ae=ke[Ue=wn-257]))-1)+dt[Ue],L+=ae);var $e=ue[nt(C,L)&Wt],it=$e>>>4;if(!$e)throw"invalid distance";if(L+=15&$e,rn=et[it],it>3){var ae=Dt[it];rn+=nt(C,L)&(1<<ae)-1,L+=ae}if(L>Qe)throw"unexpected EOF";D&&P($+131072);for(var bt=$+lr;$<bt;$+=4)g[$]=g[$-rn],g[$+1]=g[$+1-rn],g[$+2]=g[$+2-rn],g[$+3]=g[$+3-rn];$=bt}}y.l=re,y.p=L,y.b=$,re&&(M=1,y.m=ve,y.d=ue,y.n=H)}while(!M);return $==g.length?g:Ne(g,0,$)}((function(C){if(8!=(15&C[0])||C[0]>>>4>7||(C[0]<<8|C[1])%31)throw"invalid zlib data";if(32&C[1])throw"invalid zlib data: preset dictionaries not supported"}(C),C.subarray(2,-4)),g)}var tr=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function $r(){tr.console&&"function"==typeof tr.console.log&&tr.console.log.apply(tr.console,arguments)}var Xr={log:$r,warn:function(C){tr.console&&("function"==typeof tr.console.warn?tr.console.warn.apply(tr.console,arguments):$r.call(null,arguments))},error:function(C){tr.console&&("function"==typeof tr.console.error?tr.console.error.apply(tr.console,arguments):$r(C))}};function kd(C,g,y){var E=new XMLHttpRequest;E.open("GET",C),E.responseType="blob",E.onload=function(){eo(E.response,g,y)},E.onerror=function(){Xr.error("could not download file")},E.send()}function qa(C){var g=new XMLHttpRequest;g.open("HEAD",C,!1);try{g.send()}catch{}return g.status>=200&&g.status<=299}function Wi(C){try{C.dispatchEvent(new MouseEvent("click"))}catch{var g=document.createEvent("MouseEvents");g.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),C.dispatchEvent(g)}}var Or,eu,eo=tr.saveAs||("object"!==(typeof window>"u"?"undefined":(0,V.A)(window))||window!==tr?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(C,g,y){var E=tr.URL||tr.webkitURL,D=document.createElement("a");D.download=g=g||C.name||"download",D.rel="noopener","string"==typeof C?(D.href=C,D.origin!==location.origin?qa(D.href)?kd(C,g,y):Wi(D,D.target="_blank"):Wi(D)):(D.href=E.createObjectURL(C),setTimeout(function(){E.revokeObjectURL(D.href)},4e4),setTimeout(function(){Wi(D)},0))}:"msSaveOrOpenBlob"in navigator?function(C,g,y){if(g=g||C.name||"download","string"==typeof C)if(qa(C))kd(C,g,y);else{var E=document.createElement("a");E.href=C,E.target="_blank",setTimeout(function(){Wi(E)})}else navigator.msSaveOrOpenBlob((D=C,void 0===(T=y)?T={autoBom:!1}:"object"!==(0,V.A)(T)&&(Xr.warn("Deprecated: Expected third argument to be a object"),T={autoBom:!T}),T.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(D.type)?new Blob(["\ufeff",D],{type:D.type}):D),g);var D,T}:function(C,g,y,E){if((E=E||open("","_blank"))&&(E.document.title=E.document.body.innerText="downloading..."),"string"==typeof C)return kd(C,g,y);var D="application/octet-stream"===C.type,T=/constructor/i.test(tr.HTMLElement)||tr.safari,P=/CriOS\/[\d]+/.test(navigator.userAgent);if((P||D&&T)&&"object"===(typeof FileReader>"u"?"undefined":(0,V.A)(FileReader))){var M=new FileReader;M.onloadend=function(){var re=M.result;re=P?re:re.replace(/^data:[^;]*;/,"data:attachment/file;"),E?E.location.href=re:location=re,E=null},M.readAsDataURL(C)}else{var L=tr.URL||tr.webkitURL,$=L.createObjectURL(C);E?E.location=$:location.href=$,E=null,setTimeout(function(){L.revokeObjectURL($)},4e4)}});function Rd(C){var g;C=C||"",this.ok=!1,"#"==C.charAt(0)&&(C=C.substr(1,6)),C={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[C=(C=C.replace(/ /g,"")).toLowerCase()]||C;for(var y=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(M){return[parseInt(M[1]),parseInt(M[2]),parseInt(M[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(M){return[parseInt(M[1],16),parseInt(M[2],16),parseInt(M[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(M){return[parseInt(M[1]+M[1],16),parseInt(M[2]+M[2],16),parseInt(M[3]+M[3],16)]}}],E=0;E<y.length;E++){var T=y[E].process,P=y[E].re.exec(C);P&&(g=T(P),this.r=g[0],this.g=g[1],this.b=g[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var M=this.r.toString(16),L=this.g.toString(16),$=this.b.toString(16);return 1==M.length&&(M="0"+M),1==L.length&&(L="0"+L),1==$.length&&($="0"+$),"#"+M+L+$}}function Ec(C,g){var y=C[0],E=C[1],D=C[2],T=C[3];y=$o(y,E,D,T,g[0],7,-680876936),T=$o(T,y,E,D,g[1],12,-389564586),D=$o(D,T,y,E,g[2],17,606105819),E=$o(E,D,T,y,g[3],22,-1044525330),y=$o(y,E,D,T,g[4],7,-176418897),T=$o(T,y,E,D,g[5],12,1200080426),D=$o(D,T,y,E,g[6],17,-1473231341),E=$o(E,D,T,y,g[7],22,-45705983),y=$o(y,E,D,T,g[8],7,1770035416),T=$o(T,y,E,D,g[9],12,-1958414417),D=$o(D,T,y,E,g[10],17,-42063),E=$o(E,D,T,y,g[11],22,-1990404162),y=$o(y,E,D,T,g[12],7,1804603682),T=$o(T,y,E,D,g[13],12,-40341101),D=$o(D,T,y,E,g[14],17,-1502002290),y=aa(y,E=$o(E,D,T,y,g[15],22,1236535329),D,T,g[1],5,-165796510),T=aa(T,y,E,D,g[6],9,-1069501632),D=aa(D,T,y,E,g[11],14,643717713),E=aa(E,D,T,y,g[0],20,-373897302),y=aa(y,E,D,T,g[5],5,-701558691),T=aa(T,y,E,D,g[10],9,38016083),D=aa(D,T,y,E,g[15],14,-660478335),E=aa(E,D,T,y,g[4],20,-405537848),y=aa(y,E,D,T,g[9],5,568446438),T=aa(T,y,E,D,g[14],9,-1019803690),D=aa(D,T,y,E,g[3],14,-187363961),E=aa(E,D,T,y,g[8],20,1163531501),y=aa(y,E,D,T,g[13],5,-1444681467),T=aa(T,y,E,D,g[2],9,-51403784),D=aa(D,T,y,E,g[7],14,1735328473),y=Ot(y,E=aa(E,D,T,y,g[12],20,-1926607734),D,T,g[5],4,-378558),T=Ot(T,y,E,D,g[8],11,-2022574463),D=Ot(D,T,y,E,g[11],16,1839030562),E=Ot(E,D,T,y,g[14],23,-35309556),y=Ot(y,E,D,T,g[1],4,-1530992060),T=Ot(T,y,E,D,g[4],11,1272893353),D=Ot(D,T,y,E,g[7],16,-155497632),E=Ot(E,D,T,y,g[10],23,-1094730640),y=Ot(y,E,D,T,g[13],4,681279174),T=Ot(T,y,E,D,g[0],11,-358537222),D=Ot(D,T,y,E,g[3],16,-722521979),E=Ot(E,D,T,y,g[6],23,76029189),y=Ot(y,E,D,T,g[9],4,-640364487),T=Ot(T,y,E,D,g[12],11,-421815835),D=Ot(D,T,y,E,g[15],16,530742520),y=K(y,E=Ot(E,D,T,y,g[2],23,-995338651),D,T,g[0],6,-198630844),T=K(T,y,E,D,g[7],10,1126891415),D=K(D,T,y,E,g[14],15,-1416354905),E=K(E,D,T,y,g[5],21,-57434055),y=K(y,E,D,T,g[12],6,1700485571),T=K(T,y,E,D,g[3],10,-1894986606),D=K(D,T,y,E,g[10],15,-1051523),E=K(E,D,T,y,g[1],21,-2054922799),y=K(y,E,D,T,g[8],6,1873313359),T=K(T,y,E,D,g[15],10,-30611744),D=K(D,T,y,E,g[6],15,-1560198380),E=K(E,D,T,y,g[13],21,1309151649),y=K(y,E,D,T,g[4],6,-145523070),T=K(T,y,E,D,g[11],10,-1120210379),D=K(D,T,y,E,g[2],15,718787259),E=K(E,D,T,y,g[9],21,-343485551),C[0]=kn(y,C[0]),C[1]=kn(E,C[1]),C[2]=kn(D,C[2]),C[3]=kn(T,C[3])}function Wu(C,g,y,E,D,T){return g=kn(kn(g,C),kn(E,T)),kn(g<<D|g>>>32-D,y)}function $o(C,g,y,E,D,T,P){return Wu(g&y|~g&E,C,g,D,T,P)}function aa(C,g,y,E,D,T,P){return Wu(g&E|y&~E,C,g,D,T,P)}function Ot(C,g,y,E,D,T,P){return Wu(g^y^E,C,g,D,T,P)}function K(C,g,y,E,D,T,P){return Wu(y^(g|~E),C,g,D,T,P)}function oe(C){var g,y=C.length,E=[1732584193,-271733879,-1732584194,271733878];for(g=64;g<=C.length;g+=64)Ec(E,at(C.substring(g-64,g)));C=C.substring(g-64);var D=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(g=0;g<C.length;g++)D[g>>2]|=C.charCodeAt(g)<<(g%4<<3);if(D[g>>2]|=128<<(g%4<<3),g>55)for(Ec(E,D),g=0;g<16;g++)D[g]=0;return D[14]=8*y,Ec(E,D),E}function at(C){var g,y=[];for(g=0;g<64;g+=4)y[g>>2]=C.charCodeAt(g)+(C.charCodeAt(g+1)<<8)+(C.charCodeAt(g+2)<<16)+(C.charCodeAt(g+3)<<24);return y}Or=tr.atob.bind(tr),eu=tr.btoa.bind(tr);var mt="0123456789abcdef".split("");function Nt(C){for(var g="",y=0;y<4;y++)g+=mt[C>>8*y+4&15]+mt[C>>8*y&15];return g}function tn(C){return String.fromCharCode(255&C,(65280&C)>>8,(16711680&C)>>16,(4278190080&C)>>24)}function _n(C){return oe(C).map(tn).join("")}var Xt="5d41402abc4b2a76b9719d911017c592"!=function(C){for(var g=0;g<C.length;g++)C[g]=Nt(C[g]);return C.join("")}(oe("hello"));function kn(C,g){if(Xt){var y=(65535&C)+(65535&g);return(C>>16)+(g>>16)+(y>>16)<<16|65535&y}return C+g&4294967295}function Rn(C,g){var y,E,D;if(C!==y){for(var P=(D=C,new Array(1+(256/C.length|0)+1).join(D)),M=[],L=0;L<256;L++)M[L]=L;var $=0;for(L=0;L<256;L++){var re=M[L];$=($+re+P.charCodeAt(L))%256,M[L]=M[$],M[$]=re}y=C,E=M}else M=E;var ue=g.length,ve=0,H=0,Qe="";for(L=0;L<ue;L++)H=(H+(re=M[ve=(ve+1)%256]))%256,M[ve]=M[H],M[H]=re,P=M[(M[ve]+M[H])%256],Qe+=String.fromCharCode(g.charCodeAt(L)^P);return Qe}var qn={print:4,modify:8,copy:16,"annot-forms":32};function pr(C,g,y,E){this.v=1,this.r=2;var D=192;C.forEach(function(M){if(void 0!==qn.perm)throw new Error("Invalid permission: "+M);D+=qn[M]}),this.padding="(\xbfN^Nu\x8aAd\0NV\xff\xfa\x01\b..\0\xb6\xd0h>\x80/\f\xa9\xfedSiz";var T=(g+this.padding).substr(0,32),P=(y+this.padding).substr(0,32);this.O=this.processOwnerPassword(T,P),this.P=-(1+(255^D)),this.encryptionKey=_n(T+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(E)).substr(0,5),this.U=Rn(this.encryptionKey,this.padding)}function Ir(C){if(/[^\u0000-\u00ff]/.test(C))throw new Error("Invalid PDF Name Object: "+C+", Only accept ASCII characters.");for(var g="",y=C.length,E=0;E<y;E++){var D=C.charCodeAt(E);g+=D<33||35===D||37===D||40===D||41===D||47===D||60===D||62===D||91===D||93===D||123===D||125===D||D>126?"#"+("0"+D.toString(16)).slice(-2):C[E]}return g}function Dn(C){if("object"!==(0,V.A)(C))throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var g={};this.subscribe=function(y,E,D){if(D=D||!1,"string"!=typeof y||"function"!=typeof E||"boolean"!=typeof D)throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");g.hasOwnProperty(y)||(g[y]={});var T=Math.random().toString(35);return g[y][T]=[E,!!D],T},this.unsubscribe=function(y){for(var E in g)if(g[E][y])return delete g[E][y],0===Object.keys(g[E]).length&&delete g[E],!0;return!1},this.publish=function(y){if(g.hasOwnProperty(y)){var E=Array.prototype.slice.call(arguments,1),D=[];for(var T in g[y]){var P=g[y][T];try{P[0].apply(C,E)}catch(M){tr.console&&Xr.error("jsPDF PubSub Error",M.message,M)}P[1]&&D.push(T)}D.length&&D.forEach(this.unsubscribe)}},this.getTopics=function(){return g}}function xo(C){if(!(this instanceof xo))return new xo(C);var g="opacity,stroke-opacity".split(",");for(var y in C)C.hasOwnProperty(y)&&g.indexOf(y)>=0&&(this[y]=C[y]);this.id="",this.objectNumber=-1}function fo(C,g){this.gState=C,this.matrix=g,this.id="",this.objectNumber=-1}function po(C,g,y,E,D){if(!(this instanceof po))return new po(C,g,y,E,D);this.type="axial"===C?2:3,this.coords=g,this.colors=y,fo.call(this,E,D)}function ws(C,g,y,E,D){if(!(this instanceof ws))return new ws(C,g,y,E,D);this.boundingBox=C,this.xStep=g,this.yStep=y,this.stream="",this.cloneIndex=0,fo.call(this,E,D)}function jr(C){var g,y="string"==typeof arguments[0]?arguments[0]:"p",E=arguments[1],D=arguments[2],T=arguments[3],P=[],M=1,L=16,$="S",re=null;"object"===(0,V.A)(C=C||{})&&(y=C.orientation,E=C.unit||E,D=C.format||D,T=C.compress||C.compressPdf||T,null!==(re=C.encryption||null)&&(re.userPassword=re.userPassword||"",re.ownerPassword=re.ownerPassword||"",re.userPermissions=re.userPermissions||[]),M="number"==typeof C.userUnit?Math.abs(C.userUnit):1,void 0!==C.precision&&(g=C.precision),void 0!==C.floatPrecision&&(L=C.floatPrecision),$=C.defaultPathOperation||"S"),P=C.filters||(!0===T?["FlateEncode"]:P),E=E||"mm",y=(""+(y||"P")).toLowerCase();var ue=C.putOnlyUsedFonts||!1,ve={},H={internal:{},__private__:{}};H.__private__.PubSub=Dn;var Qe="1.3",De=H.__private__.getPdfVersion=function(){return Qe};H.__private__.setPdfVersion=function(R){Qe=R};var qe={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};H.__private__.getPageFormats=function(){return qe};var ee=H.__private__.getPageFormat=function(R){return qe[R]};D=D||"a4";var Ct="compat";function Mt(){this.saveGraphicsState(),We(new kr(Ar,0,0,-Ar,0,Nc()*Ar).toString()+" cm"),this.setFontSize(this.getFontSize()/Ar),$="n",Ct="advanced"}function hn(){this.restoreGraphicsState(),$="S",Ct="compat"}var xt=H.__private__.combineFontStyleAndFontWeight=function(R,ne){if("bold"==R&&"normal"==ne||"bold"==R&&400==ne||"normal"==R&&"italic"==ne||"bold"==R&&"italic"==ne)throw new Error("Invalid Combination of fontweight and fontstyle");return ne&&(R=400==ne||"normal"===ne?"italic"===R?"italic":"normal":700!=ne&&"bold"!==ne||"normal"!==R?(700==ne?"bold":ne)+""+R:"bold"),R};H.advancedAPI=function(R){var ne="compat"===Ct;return ne&&Mt.call(this),"function"!=typeof R||(R(this),ne&&hn.call(this)),this},H.compatAPI=function(R){var ne="advanced"===Ct;return ne&&hn.call(this),"function"!=typeof R||(R(this),ne&&Mt.call(this)),this},H.isAdvancedAPI=function(){return"advanced"===Ct};var Lt,Ue=function(R){if("advanced"!==Ct)throw new Error(R+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},an=H.roundToPrecision=H.__private__.roundToPrecision=function(R,ne){var je=g||ne;if(isNaN(R)||isNaN(je))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return R.toFixed(je).replace(/0+$/,"")};Lt=H.hpf=H.__private__.hpf="number"==typeof L?function(R){if(isNaN(R))throw new Error("Invalid argument passed to jsPDF.hpf");return an(R,L)}:"smart"===L?function(R){if(isNaN(R))throw new Error("Invalid argument passed to jsPDF.hpf");return an(R,R>-1&&R<1?16:5)}:function(R){if(isNaN(R))throw new Error("Invalid argument passed to jsPDF.hpf");return an(R,16)};var cn=H.f2=H.__private__.f2=function(R){if(isNaN(R))throw new Error("Invalid argument passed to jsPDF.f2");return an(R,2)},Re=H.__private__.f3=function(R){if(isNaN(R))throw new Error("Invalid argument passed to jsPDF.f3");return an(R,3)},Ee=H.scale=H.__private__.scale=function(R){if(isNaN(R))throw new Error("Invalid argument passed to jsPDF.scale");return"compat"===Ct?R*Ar:"advanced"===Ct?R:void 0},ct=function(R){return Ee(function(R){return"compat"===Ct?Nc()-R:"advanced"===Ct?R:void 0}(R))};H.__private__.setPrecision=H.setPrecision=function(R){"number"==typeof parseInt(R,10)&&(g=parseInt(R,10))};var pn,rn="00000000000000000000000000000000",bn=H.__private__.getFileId=function(){return rn},Wt=H.__private__.setFileId=function(R){return rn=void 0!==R&&/^[a-fA-F0-9]{32}$/.test(R)?R.toUpperCase():rn.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),null!==re&&(Ra=new pr(re.userPermissions,re.userPassword,re.ownerPassword,rn)),rn};H.setFileId=function(R){return Wt(R),this},H.getFileId=function(){return bn()};var Sn=H.__private__.convertDateToPDFDate=function(R){var ne=R.getTimezoneOffset(),je=ne<0?"+":"-",pt=Math.floor(Math.abs(ne/60)),kt=Math.abs(ne%60),Ge=[je,it(pt),"'",it(kt),"'"].join("");return["D:",R.getFullYear(),it(R.getMonth()+1),it(R.getDate()),it(R.getHours()),it(R.getMinutes()),it(R.getSeconds()),Ge].join("")},wn=H.__private__.convertPDFDateToDate=function(R){var ne=parseInt(R.substr(2,4),10),je=parseInt(R.substr(6,2),10)-1,pt=parseInt(R.substr(8,2),10),kt=parseInt(R.substr(10,2),10),Ge=parseInt(R.substr(12,2),10),gn=parseInt(R.substr(14,2),10);return new Date(ne,je,pt,kt,Ge,gn,0)},lr=H.__private__.setCreationDate=function(R){var ne;if(void 0===R&&(R=new Date),R instanceof Date)ne=Sn(R);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(R))throw new Error("Invalid argument passed to jsPDF.setCreationDate");ne=R}return pn=ne},ae=H.__private__.getCreationDate=function(R){var ne=pn;return"jsDate"===R&&(ne=wn(pn)),ne};H.setCreationDate=function(R){return lr(R),this},H.getCreationDate=function(R){return ae(R)};var $e,it=H.__private__.padd2=function(R){return("0"+parseInt(R)).slice(-2)},bt=H.__private__.padd2Hex=function(R){return("00"+(R=R.toString())).substr(R.length)},St=0,Kt=[],qt=[],Jt=0,Xn=[],Wn=[],gr=!1,Dr=qt;H.__private__.setCustomOutputDestination=function(R){gr=!0,Dr=R};var vn=function(R){gr||(Dr=R)};H.__private__.resetCustomOutputDestination=function(){gr=!1,Dr=qt};var We=H.__private__.out=function(R){return R=R.toString(),Jt+=R.length+1,Dr.push(R),Dr},ai=H.__private__.write=function(R){return We(1===arguments.length?R.toString():Array.prototype.join.call(arguments," "))},Qr=H.__private__.getArrayBuffer=function(R){for(var ne=R.length,je=new ArrayBuffer(ne),pt=new Uint8Array(je);ne--;)pt[ne]=R.charCodeAt(ne);return je},jn=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];H.__private__.getStandardFonts=function(){return jn};var nr=C.fontSize||16;H.__private__.setFontSize=H.setFontSize=function(R){return nr="advanced"===Ct?R/Ar:R,this};var _r,ir=H.__private__.getFontSize=H.getFontSize=function(){return"compat"===Ct?nr:nr*Ar},Wr=C.R2L||!1;H.__private__.setR2L=H.setR2L=function(R){return Wr=R,this},H.__private__.getR2L=H.getR2L=function(){return Wr};var Si,Mi=H.__private__.setZoomMode=function(R){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(R))_r=R;else if(isNaN(R)){if(-1===[void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(R))throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+R+'" is not recognized.');_r=R}else _r=parseInt(R,10)};H.__private__.getZoomMode=function(){return _r};var ji,Fi=H.__private__.setPageMode=function(R){if(-1==[void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(R))throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+R+'" is not recognized.');Si=R};H.__private__.getPageMode=function(){return Si};var Vo=H.__private__.setLayoutMode=function(R){if(-1==[void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(R))throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+R+'" is not recognized.');ji=R};H.__private__.getLayoutMode=function(){return ji},H.__private__.setDisplayMode=H.setDisplayMode=function(R,ne,je){return Mi(R),Vo(ne),Fi(je),this};var fi={title:"",subject:"",author:"",keywords:"",creator:""};H.__private__.getDocumentProperty=function(R){if(-1===Object.keys(fi).indexOf(R))throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return fi[R]},H.__private__.getDocumentProperties=function(){return fi},H.__private__.setDocumentProperties=H.setProperties=H.setDocumentProperties=function(R){for(var ne in fi)fi.hasOwnProperty(ne)&&R[ne]&&(fi[ne]=R[ne]);return this},H.__private__.setDocumentProperty=function(R,ne){if(-1===Object.keys(fi).indexOf(R))throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return fi[R]=ne};var Ti,Ar,uo,pi,ml,es={},ko={},tc=[],Ro={},ud={},Rs={},vl={},nc=null,Wo=0,ci=[],ti=new Dn(H),Qn=C.hotfixes||[],wr={},co={},qs=[],kr=function R(ne,je,pt,kt,Ge,gn){if(!(this instanceof R))return new R(ne,je,pt,kt,Ge,gn);isNaN(ne)&&(ne=1),isNaN(je)&&(je=0),isNaN(pt)&&(pt=0),isNaN(kt)&&(kt=1),isNaN(Ge)&&(Ge=0),isNaN(gn)&&(gn=0),this._matrix=[ne,je,pt,kt,Ge,gn]};Object.defineProperty(kr.prototype,"sx",{get:function(){return this._matrix[0]},set:function(R){this._matrix[0]=R}}),Object.defineProperty(kr.prototype,"shy",{get:function(){return this._matrix[1]},set:function(R){this._matrix[1]=R}}),Object.defineProperty(kr.prototype,"shx",{get:function(){return this._matrix[2]},set:function(R){this._matrix[2]=R}}),Object.defineProperty(kr.prototype,"sy",{get:function(){return this._matrix[3]},set:function(R){this._matrix[3]=R}}),Object.defineProperty(kr.prototype,"tx",{get:function(){return this._matrix[4]},set:function(R){this._matrix[4]=R}}),Object.defineProperty(kr.prototype,"ty",{get:function(){return this._matrix[5]},set:function(R){this._matrix[5]=R}}),Object.defineProperty(kr.prototype,"a",{get:function(){return this._matrix[0]},set:function(R){this._matrix[0]=R}}),Object.defineProperty(kr.prototype,"b",{get:function(){return this._matrix[1]},set:function(R){this._matrix[1]=R}}),Object.defineProperty(kr.prototype,"c",{get:function(){return this._matrix[2]},set:function(R){this._matrix[2]=R}}),Object.defineProperty(kr.prototype,"d",{get:function(){return this._matrix[3]},set:function(R){this._matrix[3]=R}}),Object.defineProperty(kr.prototype,"e",{get:function(){return this._matrix[4]},set:function(R){this._matrix[4]=R}}),Object.defineProperty(kr.prototype,"f",{get:function(){return this._matrix[5]},set:function(R){this._matrix[5]=R}}),Object.defineProperty(kr.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(kr.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(kr.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(kr.prototype,"isIdentity",{get:function(){return 1===this.sx&&0===this.shy&&0===this.shx&&1===this.sy&&0===this.tx&&0===this.ty}}),kr.prototype.join=function(R){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(Lt).join(R)},kr.prototype.multiply=function(R){return new kr(R.sx*this.sx+R.shy*this.shx,R.sx*this.shy+R.shy*this.sy,R.shx*this.sx+R.sy*this.shx,R.shx*this.shy+R.sy*this.sy,R.tx*this.sx+R.ty*this.shx+this.tx,R.tx*this.shy+R.ty*this.sy+this.ty)},kr.prototype.decompose=function(){var R=this.sx,ne=this.shy,je=this.shx,pt=this.sy,kt=this.tx,Ge=this.ty,gn=Math.sqrt(R*R+ne*ne),ln=(R/=gn)*je+(ne/=gn)*pt;je-=R*ln,pt-=ne*ln;var En=Math.sqrt(je*je+pt*pt);return ln/=En,R*(pt/=En)<ne*(je/=En)&&(R=-R,ne=-ne,ln=-ln,gn=-gn),{scale:new kr(gn,0,0,En,0,0),translate:new kr(1,0,0,1,kt,Ge),rotate:new kr(R,ne,-ne,R,0,0),skew:new kr(1,0,ln,1,0,0)}},kr.prototype.toString=function(R){return this.join(" ")},kr.prototype.inversed=function(){var R=this.sx,ne=this.shy,je=this.shx,pt=this.sy,kt=this.tx,Ge=this.ty,gn=1/(R*pt-ne*je),ln=pt*gn,En=-ne*gn,cr=-je*gn,Bi=R*gn;return new kr(ln,En,cr,Bi,-ln*kt-cr*Ge,-En*kt-Bi*Ge)},kr.prototype.applyToPoint=function(R){return new Pc(R.x*this.sx+R.y*this.shx+this.tx,R.x*this.shy+R.y*this.sy+this.ty)},kr.prototype.applyToRectangle=function(R){var ne=this.applyToPoint(R),je=this.applyToPoint(new Pc(R.x+R.w,R.y+R.h));return new zl(ne.x,ne.y,je.x-ne.x,je.y-ne.y)},kr.prototype.clone=function(){return new kr(this.sx,this.shy,this.shx,this.sy,this.tx,this.ty)},H.Matrix=kr;var As=H.matrixMult=function(R,ne){return ne.multiply(R)},Xa=new kr(1,0,0,1,0,0);H.unitMatrix=H.identityMatrix=Xa;var zi=function(R,ne){if(!ud[R]){var je=(ne instanceof po?"Sh":"P")+(Object.keys(Ro).length+1).toString(10);ne.id=je,ud[R]=je,Ro[je]=ne,ti.publish("addPattern",ne)}};H.ShadingPattern=po,H.TilingPattern=ws,H.addShadingPattern=function(R,ne){return Ue("addShadingPattern()"),zi(R,ne),this},H.beginTilingPattern=function(R){Ue("beginTilingPattern()"),ah(R.boundingBox[0],R.boundingBox[1],R.boundingBox[2]-R.boundingBox[0],R.boundingBox[3]-R.boundingBox[1],R.matrix)},H.endTilingPattern=function(R,ne){Ue("endTilingPattern()"),ne.stream=Wn[$e].join("\n"),zi(R,ne),ti.publish("endTilingPattern",ne),qs.pop().restore()};var R,mo=H.__private__.newObject=function(){var R=Eo();return Hr(R,!0),R},Eo=H.__private__.newObjectDeferred=function(){return St++,Kt[St]=function(){return Jt},St},Hr=function(R,ne){return ne="boolean"==typeof ne&&ne,Kt[R]=Jt,ne&&We(R+" 0 obj"),R},rc=H.__private__.newAdditionalObject=function(){var R={objId:Eo(),content:""};return Xn.push(R),R},ic=Eo(),Ha=Eo(),di=H.__private__.decodeColorString=function(R){var ne=R.split(" ");if(2!==ne.length||"g"!==ne[1]&&"G"!==ne[1])5===ne.length&&("k"===ne[4]||"K"===ne[4])&&(ne=[(1-ne[0])*(1-ne[3]),(1-ne[1])*(1-ne[3]),(1-ne[2])*(1-ne[3]),"r"]);else{var je=parseFloat(ne[0]);ne=[je,je,je,"r"]}for(var pt="#",kt=0;kt<3;kt++)pt+=("0"+Math.floor(255*parseFloat(ne[kt])).toString(16)).slice(-2);return pt},ya=H.__private__.encodeColorString=function(R){var ne;"string"==typeof R&&(R={ch1:R});var je=R.ch1,pt=R.ch2,kt=R.ch3,Ge=R.ch4,gn="draw"===R.pdfColorType?["G","RG","K"]:["g","rg","k"];if("string"==typeof je&&"#"!==je.charAt(0)){var ln=new Rd(je);if(ln.ok)je=ln.toHex();else if(!/^\d*\.?\d*$/.test(je))throw new Error('Invalid color "'+je+'" passed to jsPDF.encodeColorString.')}if("string"==typeof je&&/^#[0-9A-Fa-f]{3}$/.test(je)&&(je="#"+je[1]+je[1]+je[2]+je[2]+je[3]+je[3]),"string"==typeof je&&/^#[0-9A-Fa-f]{6}$/.test(je)){var En=parseInt(je.substr(1),16);je=En>>16&255,pt=En>>8&255,kt=255&En}if(void 0===pt||void 0===Ge&&je===pt&&pt===kt)ne="string"==typeof je?je+" "+gn[0]:2===R.precision?cn(je/255)+" "+gn[0]:Re(je/255)+" "+gn[0];else if(void 0===Ge||"object"===(0,V.A)(Ge)){if(Ge&&!isNaN(Ge.a)&&0===Ge.a)return["1.","1.","1.",gn[1]].join(" ");ne="string"==typeof je?[je,pt,kt,gn[1]].join(" "):2===R.precision?[cn(je/255),cn(pt/255),cn(kt/255),gn[1]].join(" "):[Re(je/255),Re(pt/255),Re(kt/255),gn[1]].join(" ")}else ne="string"==typeof je?[je,pt,kt,Ge,gn[2]].join(" "):2===R.precision?[cn(je),cn(pt),cn(kt),cn(Ge),gn[2]].join(" "):[Re(je),Re(pt),Re(kt),Re(Ge),gn[2]].join(" ");return ne},Ja=H.__private__.getFilters=function(){return P},Qs=H.__private__.putStream=function(R){var ne=(R=R||{}).data||"",je=R.filters||Ja(),pt=R.alreadyAppliedFilters||[],kt=R.addLength1||!1,Ge=ne.length,gn=R.objectId,ln=function(_a){return _a};if(null!==re&&void 0===gn)throw new Error("ObjectId must be passed to putStream for file encryption");null!==re&&(ln=Ra.encryptor(gn,0));var En={};!0===je&&(je=["FlateEncode"]);var cr=R.additionalKeyValues||[],Bi=(En=void 0!==jr.API.processDataByFilters?jr.API.processDataByFilters(ne,je):{data:ne,reverseChain:[]}).reverseChain+(Array.isArray(pt)?pt.join(" "):pt.toString());if(0!==En.data.length&&(cr.push({key:"Length",value:En.data.length}),!0===kt&&cr.push({key:"Length1",value:Ge})),0!=Bi.length)if(Bi.split("/").length-1==1)cr.push({key:"Filter",value:Bi});else{cr.push({key:"Filter",value:"["+Bi+"]"});for(var Ki=0;Ki<cr.length;Ki+=1)if("DecodeParms"===cr[Ki].key){for(var Ao=[],is=0;is<En.reverseChain.split("/").length-1;is+=1)Ao.push("null");Ao.push(cr[Ki].value),cr[Ki].value="["+Ao.join(" ")+"]"}}We("<<");for(var Cs=0;Cs<cr.length;Cs++)We("/"+cr[Cs].key+" "+cr[Cs].value);We(">>"),0!==En.data.length&&(We("stream"),We(ln(En.data)),We("endstream"))},yl=H.__private__.putPage=function(R){var ne=R.number,je=R.data,pt=R.objId,kt=R.contentsObjId;Hr(pt,!0),We("<</Type /Page"),We("/Parent "+R.rootDictionaryObjId+" 0 R"),We("/Resources "+R.resourceDictionaryObjId+" 0 R"),We("/MediaBox ["+parseFloat(Lt(R.mediaBox.bottomLeftX))+" "+parseFloat(Lt(R.mediaBox.bottomLeftY))+" "+Lt(R.mediaBox.topRightX)+" "+Lt(R.mediaBox.topRightY)+"]"),null!==R.cropBox&&We("/CropBox ["+Lt(R.cropBox.bottomLeftX)+" "+Lt(R.cropBox.bottomLeftY)+" "+Lt(R.cropBox.topRightX)+" "+Lt(R.cropBox.topRightY)+"]"),null!==R.bleedBox&&We("/BleedBox ["+Lt(R.bleedBox.bottomLeftX)+" "+Lt(R.bleedBox.bottomLeftY)+" "+Lt(R.bleedBox.topRightX)+" "+Lt(R.bleedBox.topRightY)+"]"),null!==R.trimBox&&We("/TrimBox ["+Lt(R.trimBox.bottomLeftX)+" "+Lt(R.trimBox.bottomLeftY)+" "+Lt(R.trimBox.topRightX)+" "+Lt(R.trimBox.topRightY)+"]"),null!==R.artBox&&We("/ArtBox ["+Lt(R.artBox.bottomLeftX)+" "+Lt(R.artBox.bottomLeftY)+" "+Lt(R.artBox.topRightX)+" "+Lt(R.artBox.topRightY)+"]"),"number"==typeof R.userUnit&&1!==R.userUnit&&We("/UserUnit "+R.userUnit),ti.publish("putPage",{objId:pt,pageContext:ci[ne],pageNumber:ne,page:je}),We("/Contents "+kt+" 0 R"),We(">>"),We("endobj");var Ge=je.join("\n");return"advanced"===Ct&&(Ge+="\nQ"),Hr(kt,!0),Qs({data:Ge,filters:Ja(),objectId:kt}),We("endobj"),pt},oc=H.__private__.putPages=function(){var R,ne,je=[];for(R=1;R<=Wo;R++)ci[R].objId=Eo(),ci[R].contentsObjId=Eo();for(R=1;R<=Wo;R++)je.push(yl({number:R,data:Wn[R],objId:ci[R].objId,contentsObjId:ci[R].contentsObjId,mediaBox:ci[R].mediaBox,cropBox:ci[R].cropBox,bleedBox:ci[R].bleedBox,trimBox:ci[R].trimBox,artBox:ci[R].artBox,userUnit:ci[R].userUnit,rootDictionaryObjId:ic,resourceDictionaryObjId:Ha}));Hr(ic,!0),We("<</Type /Pages");var pt="/Kids [";for(ne=0;ne<Wo;ne++)pt+=je[ne]+" 0 R ";We(pt+"]"),We("/Count "+Wo),We(">>"),We("endobj"),ti.publish("postPutPages")},_l=function(R){ti.publish("putFont",{font:R,out:We,newObject:mo,putStream:Qs}),!0!==R.isAlreadyPutted&&(R.objectNumber=mo(),We("<<"),We("/Type /Font"),We("/BaseFont /"+Ir(R.postScriptName)),We("/Subtype /Type1"),"string"==typeof R.encoding&&We("/Encoding /"+R.encoding),We("/FirstChar 32"),We("/LastChar 255"),We(">>"),We("endobj"))},au=function(R){R.objectNumber=mo();var ne=[];ne.push({key:"Type",value:"/XObject"}),ne.push({key:"Subtype",value:"/Form"}),ne.push({key:"BBox",value:"["+[Lt(R.x),Lt(R.y),Lt(R.x+R.width),Lt(R.y+R.height)].join(" ")+"]"}),ne.push({key:"Matrix",value:"["+R.matrix.toString()+"]"});var je=R.pages[1].join("\n");Qs({data:je,additionalKeyValues:ne,objectId:R.objectNumber}),We("endobj")},jd=function(R,ne){ne||(ne=21);var je=mo(),pt=function(R,ne){var je,pt=[],kt=1/(ne-1);for(je=0;je<1;je+=kt)pt.push(je);pt.push(1),0!=R[0].offset&&R.unshift({offset:0,color:R[0].color}),1!=R[R.length-1].offset&&R.push({offset:1,color:R[R.length-1].color});for(var ln="",En=0,cr=0;cr<pt.length;cr++){for(je=pt[cr];je>R[En+1].offset;)En++;var Bi=R[En].offset,Ki=(je-Bi)/(R[En+1].offset-Bi),Ao=R[En].color,is=R[En+1].color;ln+=bt(Math.round((1-Ki)*Ao[0]+Ki*is[0]).toString(16))+bt(Math.round((1-Ki)*Ao[1]+Ki*is[1]).toString(16))+bt(Math.round((1-Ki)*Ao[2]+Ki*is[2]).toString(16))}return ln.trim()}(R.colors,ne),kt=[];kt.push({key:"FunctionType",value:"0"}),kt.push({key:"Domain",value:"[0.0 1.0]"}),kt.push({key:"Size",value:"["+ne+"]"}),kt.push({key:"BitsPerSample",value:"8"}),kt.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),kt.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Qs({data:pt,additionalKeyValues:kt,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:je}),We("endobj"),R.objectNumber=mo(),We("<< /ShadingType "+R.type),We("/ColorSpace /DeviceRGB");var Ge="/Coords ["+Lt(parseFloat(R.coords[0]))+" "+Lt(parseFloat(R.coords[1]))+" ";Ge+=2===R.type?Lt(parseFloat(R.coords[2]))+" "+Lt(parseFloat(R.coords[3])):Lt(parseFloat(R.coords[2]))+" "+Lt(parseFloat(R.coords[3]))+" "+Lt(parseFloat(R.coords[4]))+" "+Lt(parseFloat(R.coords[5])),We(Ge+="]"),R.matrix&&We("/Matrix ["+R.matrix.toString()+"]"),We("/Function "+je+" 0 R"),We("/Extend [true true]"),We(">>"),We("endobj")},lu=function(R,ne){var je=Eo(),pt=mo();ne.push({resourcesOid:je,objectOid:pt}),R.objectNumber=pt;var kt=[];kt.push({key:"Type",value:"/Pattern"}),kt.push({key:"PatternType",value:"1"}),kt.push({key:"PaintType",value:"1"}),kt.push({key:"TilingType",value:"1"}),kt.push({key:"BBox",value:"["+R.boundingBox.map(Lt).join(" ")+"]"}),kt.push({key:"XStep",value:Lt(R.xStep)}),kt.push({key:"YStep",value:Lt(R.yStep)}),kt.push({key:"Resources",value:je+" 0 R"}),R.matrix&&kt.push({key:"Matrix",value:"["+R.matrix.toString()+"]"}),Qs({data:R.stream,additionalKeyValues:kt,objectId:R.objectNumber}),We("endobj")},sr=function(R){for(var ne in R.objectNumber=mo(),We("<<"),R)switch(ne){case"opacity":We("/ca "+cn(R[ne]));break;case"stroke-opacity":We("/CA "+cn(R[ne]))}We(">>"),We("endobj")},so=function(R){Hr(R.resourcesOid,!0),We("<<"),We("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),function(){for(var R in We("/Font <<"),es)es.hasOwnProperty(R)&&(!1===ue||!0===ue&&ve.hasOwnProperty(R))&&We("/"+R+" "+es[R].objectNumber+" 0 R");We(">>")}(),function(){if(Object.keys(Ro).length>0){for(var R in We("/Shading <<"),Ro)Ro.hasOwnProperty(R)&&Ro[R]instanceof po&&Ro[R].objectNumber>=0&&We("/"+R+" "+Ro[R].objectNumber+" 0 R");ti.publish("putShadingPatternDict"),We(">>")}}(),function(R){if(Object.keys(Ro).length>0){for(var ne in We("/Pattern <<"),Ro)Ro.hasOwnProperty(ne)&&Ro[ne]instanceof H.TilingPattern&&Ro[ne].objectNumber>=0&&Ro[ne].objectNumber<R&&We("/"+ne+" "+Ro[ne].objectNumber+" 0 R");ti.publish("putTilingPatternDict"),We(">>")}}(R.objectOid),function(){if(Object.keys(Rs).length>0){var R;for(R in We("/ExtGState <<"),Rs)Rs.hasOwnProperty(R)&&Rs[R].objectNumber>=0&&We("/"+R+" "+Rs[R].objectNumber+" 0 R");ti.publish("putGStateDict"),We(">>")}}(),function(){for(var R in We("/XObject <<"),wr)wr.hasOwnProperty(R)&&wr[R].objectNumber>=0&&We("/"+R+" "+wr[R].objectNumber+" 0 R");ti.publish("putXobjectDict"),We(">>")}(),We(">>"),We("endobj")},Ph=function(R){ko[R.fontName]=ko[R.fontName]||{},ko[R.fontName][R.fontStyle]=R.id},ua=function(R,ne,je,pt,kt){var Ge={id:"F"+(Object.keys(es).length+1).toString(10),postScriptName:R,fontName:ne,fontStyle:je,encoding:pt,isStandardFont:kt||!1,metadata:{}};return ti.publish("addFont",{font:Ge,instance:this}),es[Ge.id]=Ge,Ph(Ge),Ge.id},wl=H.__private__.pdfEscape=H.pdfEscape=function(R,ne){return function(R,ne){var je,pt,kt,Ge,gn,ln,En,cr,Bi;if(kt=(ne=ne||{}).sourceEncoding||"Unicode",gn=ne.outputEncoding,(ne.autoencode||gn)&&es[Ti].metadata&&es[Ti].metadata[kt]&&es[Ti].metadata[kt].encoding&&(Ge=es[Ti].metadata[kt].encoding,!gn&&es[Ti].encoding&&(gn=es[Ti].encoding),!gn&&Ge.codePages&&(gn=Ge.codePages[0]),"string"==typeof gn&&(gn=Ge[gn]),gn)){for(En=!1,ln=[],je=0,pt=R.length;je<pt;je++)(cr=gn[R.charCodeAt(je)])?ln.push(String.fromCharCode(cr)):ln.push(R[je]),ln[je].charCodeAt(0)>>8&&(En=!0);R=ln.join("")}for(je=R.length;void 0===En&&0!==je;)R.charCodeAt(je-1)>>8&&(En=!0),je--;if(!En)return R;for(ln=ne.noBOM?[]:[254,255],je=0,pt=R.length;je<pt;je++){if((Bi=(cr=R.charCodeAt(je))>>8)>>8)throw new Error("Character at position "+je+" of string '"+R+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");ln.push(Bi),ln.push(cr-(Bi<<8))}return String.fromCharCode.apply(void 0,ln)}(R,ne).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},TA=H.__private__.beginPage=function(R){Wn[++Wo]=[],ci[Wo]={objId:0,contentsObjId:0,userUnit:Number(M),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(R[0]),topRightY:Number(R[1])}},Df(Wo),vn(Wn[$e])},BA=function(R,ne){var je,pt,kt;switch(y=ne||y,"string"==typeof R&&(je=ee(R.toLowerCase()),Array.isArray(je)&&(pt=je[0],kt=je[1])),Array.isArray(R)&&(pt=R[0]*Ar,kt=R[1]*Ar),isNaN(pt)&&(pt=D[0],kt=D[1]),(pt>14400||kt>14400)&&(Xr.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),pt=Math.min(14400,pt),kt=Math.min(14400,kt)),D=[pt,kt],y.substr(0,1)){case"l":kt>pt&&(D=[kt,pt]);break;case"p":pt>kt&&(D=[kt,pt])}TA(D),pd(xi),We(Ru),0!==Pu&&We(Pu+" J"),0!==cu&&We(cu+" j"),ti.publish("addPage",{pageNumber:Wo})},pp=function(R){R>0&&R<=Wo&&(Wn.splice(R,1),ci.splice(R,1),Wo--,$e>Wo&&($e=Wo),this.setPage($e))},Df=function(R){R>0&&R<=Wo&&($e=R)},Nh=H.__private__.getNumberOfPages=H.getNumberOfPages=function(){return Wn.length-1},xf=function(R,ne,je){var pt,kt=void 0;return je=je||{},ne=void 0!==ne?ne:es[Ti].fontStyle,pt=(R=void 0!==R?R:es[Ti].fontName).toLowerCase(),void 0!==ko[pt]&&void 0!==ko[pt][ne]?kt=ko[pt][ne]:void 0!==ko[R]&&void 0!==ko[R][ne]?kt=ko[R][ne]:!1===je.disableWarning&&Xr.warn("Unable to look up font label for font '"+R+"', '"+ne+"'. Refer to getFontList() for available fonts."),kt||je.noFallback||null==(kt=ko.times[ne])&&(kt=ko.times.normal),kt},Mh=H.__private__.putInfo=function(){var R=mo(),ne=function(pt){return pt};for(var je in null!==re&&(ne=Ra.encryptor(R,0)),We("<<"),We("/Producer ("+wl(ne("jsPDF "+jr.version))+")"),fi)fi.hasOwnProperty(je)&&fi[je]&&We("/"+je.substr(0,1).toUpperCase()+je.substr(1)+" ("+wl(ne(fi[je]))+")");We("/CreationDate ("+wl(ne(pn))+")"),We(">>"),We("endobj")},Lh=H.__private__.putCatalog=function(R){var ne=(R=R||{}).rootDictionaryObjId||ic;switch(mo(),We("<<"),We("/Type /Catalog"),We("/Pages "+ne+" 0 R"),_r||(_r="fullwidth"),_r){case"fullwidth":We("/OpenAction [3 0 R /FitH null]");break;case"fullheight":We("/OpenAction [3 0 R /FitV null]");break;case"fullpage":We("/OpenAction [3 0 R /Fit]");break;case"original":We("/OpenAction [3 0 R /XYZ null null 1]");break;default:var je=""+_r;"%"===je.substr(je.length-1)&&(_r=parseInt(_r)/100),"number"==typeof _r&&We("/OpenAction [3 0 R /XYZ null null "+cn(_r)+"]")}switch(ji||(ji="continuous"),ji){case"continuous":We("/PageLayout /OneColumn");break;case"single":We("/PageLayout /SinglePage");break;case"two":case"twoleft":We("/PageLayout /TwoColumnLeft");break;case"tworight":We("/PageLayout /TwoColumnRight")}Si&&We("/PageMode /"+Si),ti.publish("putCatalog"),We(">>"),We("endobj")},Oh=H.__private__.putTrailer=function(){We("trailer"),We("<<"),We("/Size "+(St+1)),We("/Root "+St+" 0 R"),We("/Info "+(St-1)+" 0 R"),null!==re&&We("/Encrypt "+Ra.oid+" 0 R"),We("/ID [ <"+rn+"> <"+rn+"> ]"),We(">>")},Uh=H.__private__.putHeader=function(){We("%PDF-"+Qe),We("%\xba\xdf\xac\xe0")},Ff=H.__private__.putXRef=function(){var R="0000000000";We("xref"),We("0 "+(St+1)),We("0000000000 65535 f ");for(var ne=1;ne<=St;ne++)We("function"==typeof Kt[ne]?(R+Kt[ne]()).slice(-10)+" 00000 n ":void 0!==Kt[ne]?(R+Kt[ne]).slice(-10)+" 00000 n ":"0000000000 00000 n ")},Cl=H.__private__.buildDocument=function(){St=0,Jt=0,qt=[],Kt=[],Xn=[],ic=Eo(),Ha=Eo(),vn(qt),ti.publish("buildDocument"),Uh(),oc(),function(){ti.publish("putAdditionalObjects");for(var R=0;R<Xn.length;R++){var ne=Xn[R];Hr(ne.objId,!0),We(ne.content),We("endobj")}ti.publish("postPutAdditionalObjects")}(),function(){var R=[];(function(){for(var R in es)es.hasOwnProperty(R)&&(!1===ue||!0===ue&&ve.hasOwnProperty(R))&&_l(es[R])})(),function(){var R;for(R in Rs)Rs.hasOwnProperty(R)&&sr(Rs[R])}(),function(){for(var R in wr)wr.hasOwnProperty(R)&&au(wr[R])}(),function(R){var ne;for(ne in Ro)Ro.hasOwnProperty(ne)&&(Ro[ne]instanceof po?jd(Ro[ne]):Ro[ne]instanceof ws&&lu(Ro[ne],R))}(R),ti.publish("putResources"),R.forEach(so),so({resourcesOid:Ha,objectOid:Number.MAX_SAFE_INTEGER}),ti.publish("postPutResources")}(),null!==re&&(Ra.oid=mo(),We("<<"),We("/Filter /Standard"),We("/V "+Ra.v),We("/R "+Ra.r),We("/U <"+Ra.toHexString(Ra.U)+">"),We("/O <"+Ra.toHexString(Ra.O)+">"),We("/P "+Ra.P),We(">>"),We("endobj")),Mh(),Lh();var R=Jt;return Ff(),Oh(),We("startxref"),We(""+R),We("%%EOF"),vn(Wn[$e]),qt.join("\n")},zd=H.__private__.getBlob=function(R){return new Blob([Qr(R)],{type:"application/pdf"})},nh=H.output=H.__private__.output=((R=function(R,ne){switch("string"==typeof(ne=ne||{})?ne={filename:ne}:ne.filename=ne.filename||"generated.pdf",R){case void 0:return Cl();case"save":H.save(ne.filename);break;case"arraybuffer":return Qr(Cl());case"blob":return zd(Cl());case"bloburi":case"bloburl":if(void 0!==tr.URL&&"function"==typeof tr.URL.createObjectURL)return tr.URL&&tr.URL.createObjectURL(zd(Cl()))||void 0;Xr.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var je="",pt=Cl();try{je=eu(pt)}catch{je=eu(unescape(encodeURIComponent(pt)))}return"data:application/pdf;filename="+ne.filename+";base64,"+je;case"pdfobjectnewwindow":if("[object Window]"===Object.prototype.toString.call(tr)){var kt="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Ge=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';ne.pdfObjectUrl&&(kt=ne.pdfObjectUrl,Ge="");var gn='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+kt+'"'+Ge+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(ne)+");<\/script></body></html>",ln=tr.open();return null!==ln&&ln.document.write(gn),ln}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if("[object Window]"===Object.prototype.toString.call(tr)){var En='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(ne.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+ne.filename+'" width="500px" height="400px" /></body></html>',cr=tr.open();if(null!==cr){cr.document.write(En);var Bi=this;cr.document.documentElement.querySelector("#pdfViewer").onload=function(){cr.document.title=ne.filename,cr.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Bi.output("bloburl"))}}return cr}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if("[object Window]"!==Object.prototype.toString.call(tr))throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Ki='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",ne)+'"></iframe></body></html>',Ao=tr.open();if(null!==Ao&&(Ao.document.write(Ki),Ao.document.title=ne.filename),Ao||typeof safari>"u")return Ao;break;case"datauri":case"dataurl":return tr.document.location.href=this.output("datauristring",ne);default:return null}}).foo=function(){try{return R.apply(this,arguments)}catch(pt){var ne=pt.stack||"";~ne.indexOf(" at ")&&(ne=ne.split(" at ")[1]);var je="Error in function "+ne.split("\n")[0].split("<")[0]+": "+pt.message;if(!tr.console)throw new Error(je);tr.console.error(je,pt),tr.alert&&alert(je)}},R.foo.bar=R,R.foo),DA=function(R){return!0===Array.isArray(Qn)&&Qn.indexOf(R)>-1};switch(E){case"pt":Ar=1;break;case"mm":Ar=72/25.4;break;case"cm":Ar=72/2.54;break;case"in":Ar=72;break;case"px":Ar=1==DA("px_scaling")?.75:96/72;break;case"pc":case"em":Ar=12;break;case"ex":Ar=6;break;default:if("number"!=typeof E)throw new Error("Invalid unit: "+E);Ar=E}var Ra=null;lr(),Wt();var Vh=H.__private__.getPageInfo=H.getPageInfo=function(R){if(isNaN(R)||R%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:ci[R].objId,pageNumber:R,pageContext:ci[R]}},yi=H.__private__.getPageInfoByObjId=function(R){if(isNaN(R)||R%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var ne in ci)if(ci[ne].objId===R)break;return Vh(ne)},ca=H.__private__.getCurrentPageInfo=H.getCurrentPageInfo=function(){return{objId:ci[$e].objId,pageNumber:$e,pageContext:ci[$e]}};H.addPage=function(){return BA.apply(this,arguments),this},H.setPage=function(){return Df.apply(this,arguments),vn.call(this,Wn[$e]),this},H.insertPage=function(R){return this.addPage(),this.movePage($e,R),this},H.movePage=function(R,ne){var je,pt;if(R>ne){je=Wn[R],pt=ci[R];for(var kt=R;kt>ne;kt--)Wn[kt]=Wn[kt-1],ci[kt]=ci[kt-1];Wn[ne]=je,ci[ne]=pt,this.setPage(ne)}else if(R<ne){je=Wn[R],pt=ci[R];for(var Ge=R;Ge<ne;Ge++)Wn[Ge]=Wn[Ge+1],ci[Ge]=ci[Ge+1];Wn[ne]=je,ci[ne]=pt,this.setPage(ne)}return this},H.deletePage=function(){return pp.apply(this,arguments),this},H.__private__.text=H.text=function(R,ne,je,pt,kt){var Ge,gn,ln,En,cr,Bi,Ki,Ao,is,Cs=(pt=pt||{}).scope||this;if("number"==typeof R&&"number"==typeof ne&&("string"==typeof je||Array.isArray(je))){var _a=je;je=ne,ne=R,R=_a}if(arguments[3]instanceof kr?(Ue("The transform parameter of text() with a Matrix value"),is=kt):(ln=arguments[4],En=arguments[5],"object"===(0,V.A)(Ki=arguments[3])&&null!==Ki||("string"==typeof ln&&(En=ln,ln=null),"string"==typeof Ki&&(En=Ki,Ki=null),"number"==typeof Ki&&(ln=Ki,Ki=null),pt={flags:Ki,angle:ln,align:En})),isNaN(ne)||isNaN(je)||null==R)throw new Error("Invalid arguments passed to jsPDF.text");if(0===R.length)return Cs;var du,Xs="",Qo="number"==typeof pt.lineHeightFactor?pt.lineHeightFactor:fd,Js=Cs.internal.scaleFactor;function Yd(No){return No=No.split("\t").join(Array(pt.TabLen||9).join(" ")),wl(No,Ki)}function wa(No){for(var Ko,Ns=No.concat(),Ea=[],Ac=Ns.length;Ac--;)"string"==typeof(Ko=Ns.shift())?Ea.push(Ko):Array.isArray(No)&&(1===Ko.length||void 0===Ko[1]&&void 0===Ko[2])?Ea.push(Ko[0]):Ea.push([Ko[0],Ko[1],Ko[2]]);return Ea}function Il(No,Ko){var Ns;if("string"==typeof No)Ns=Ko(No)[0];else if(Array.isArray(No)){for(var Ea,Ac,RA=No.concat(),kf=[],kg=RA.length;kg--;)"string"==typeof(Ea=RA.shift())?kf.push(Ko(Ea)[0]):Array.isArray(Ea)&&"string"==typeof Ea[0]&&(Ac=Ko(Ea[0],Ea[1],Ea[2]),kf.push([Ac[0],Ac[1],Ac[2]]));Ns=kf}return Ns}var md=!1,Nu=!0;if("string"==typeof R)md=!0;else if(Array.isArray(R)){var Xd=R.concat();gn=[];for(var Mc,ja=Xd.length;ja--;)("string"!=typeof(Mc=Xd.shift())||Array.isArray(Mc)&&"string"!=typeof Mc[0])&&(Nu=!1);md=Nu}if(!1===md)throw new Error('Type of text must be string or Array. "'+R+'" is not recognized.');"string"==typeof R&&(R=R.match(/[\r?\n]/)?R.split(/\r\n|\r|\n/g):[R]);var vd=nr/Cs.internal.scaleFactor,Lc=vd*(Qo-1);switch(pt.baseline){case"bottom":je-=Lc;break;case"top":je+=vd-Lc;break;case"hanging":je+=vd-2*Lc;break;case"middle":je+=vd/2-Lc}if((Bi=pt.maxWidth||0)>0&&("string"==typeof R?R=Cs.splitTextToSize(R,Bi):"[object Array]"===Object.prototype.toString.call(R)&&(R=R.reduce(function(No,Ko){return No.concat(Cs.splitTextToSize(Ko,Bi))},[]))),ti.publish("preProcessText",Ge={text:R,x:ne,y:je,options:pt,mutex:{pdfEscape:wl,activeFontKey:Ti,fonts:es,activeFontSize:nr}}),R=Ge.text,ln=(pt=Ge.options).angle,is instanceof kr||!ln||"number"!=typeof ln)ln&&ln instanceof kr&&(is=ln);else{ln*=Math.PI/180,0===pt.rotationDirection&&(ln=-ln),"advanced"===Ct&&(ln=-ln);var Oc=Math.cos(ln),kA=Math.sin(ln);is=new kr(Oc,kA,-kA,Oc,0,0)}"advanced"!==Ct||is||(is=Xa),void 0!==(cr=pt.charSpace||gd)&&(Xs+=Lt(Ee(cr))+" Tc\n",this.setCharSpace(this.getCharSpace()||0)),void 0!==(Ao=pt.horizontalScale)&&(Xs+=Lt(100*Ao)+" Tz\n");var Pa=-1,B=void 0!==pt.renderingMode?pt.renderingMode:pt.stroke,m=Cs.internal.getCurrentPageInfo().pageContext;switch(B){case 0:case!1:case"fill":Pa=0;break;case 1:case!0:case"stroke":Pa=1;break;case 2:case"fillThenStroke":Pa=2;break;case 3:case"invisible":Pa=3;break;case 4:case"fillAndAddForClipping":Pa=4;break;case 5:case"strokeAndAddPathForClipping":Pa=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Pa=6;break;case 7:case"addToPathForClipping":Pa=7}-1!==Pa?Xs+=Pa+" Tr\n":-1!==(void 0!==m.usedRenderingMode?m.usedRenderingMode:-1)&&(Xs+="0 Tr\n"),-1!==Pa&&(m.usedRenderingMode=Pa),En=pt.align||"left";var F,W=nr*Qo,Ae=Cs.internal.pageSize.getWidth(),gt=es[Ti];cr=pt.charSpace||gd,Bi=pt.maxWidth||0,Ki=Object.assign({autoencode:!0,noBOM:!0},pt.flags);var Tt=[];if("[object Array]"===Object.prototype.toString.call(R)){var yn;gn=wa(R),"left"!==En&&(F=gn.map(function(No){return Cs.getStringUnitWidth(No,{font:gt,charSpace:cr,fontSize:nr,doKerning:!1})*nr/Js}));var Ln,Lr=0;if("right"===En){ne-=F[0],R=[],ja=gn.length;for(var bi=0;bi<ja;bi++)0===bi?(Ln=bl(ne),yn=Hs(je)):(Ln=Ee(Lr-F[bi]),yn=-W),R.push([gn[bi],Ln,yn]),Lr=F[bi]}else if("center"===En){ne-=F[0]/2,R=[],ja=gn.length;for(var Bs=0;Bs<ja;Bs++)0===Bs?(Ln=bl(ne),yn=Hs(je)):(Ln=Ee((Lr-F[Bs])/2),yn=-W),R.push([gn[Bs],Ln,yn]),Lr=F[Bs]}else if("left"===En){R=[],ja=gn.length;for(var $l=0;$l<ja;$l++)R.push(gn[$l])}else{if("justify"!==En)throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');R=[],ja=gn.length,Bi=0!==Bi?Bi:Ae;for(var tl=0;tl<ja;tl++)yn=0===tl?Hs(je):-W,Ln=0===tl?bl(ne):0,Tt.push(tl<ja-1?Lt(Ee((Bi-F[tl])/(gn[tl].split(" ").length-1))):0),R.push([gn[tl],Ln,yn])}}!0===("boolean"==typeof pt.R2L?pt.R2L:Wr)&&(R=Il(R,function(No,Ko,Ns){return[No.split("").reverse().join(""),Ko,Ns]})),ti.publish("postProcessText",Ge={text:R,x:ne,y:je,options:pt,mutex:{pdfEscape:wl,activeFontKey:Ti,fonts:es,activeFontSize:nr}}),R=Ge.text,du=Ge.mutex.isHex||!1;var Au=es[Ti].encoding;"WinAnsiEncoding"!==Au&&"StandardEncoding"!==Au||(R=Il(R,function(No,Ko,Ns){return[Yd(No),Ko,Ns]})),gn=wa(R),R=[];for(var qi,Ca,Aa,nl=Array.isArray(gn[0])?1:0,Ia="",Jd=function(No,Ko,Ns){var Ea="";return Ns instanceof kr?(Ns="number"==typeof pt.angle?As(Ns,new kr(1,0,0,1,No,Ko)):As(new kr(1,0,0,1,No,Ko),Ns),"advanced"===Ct&&(Ns=As(new kr(1,0,0,-1,0,0),Ns)),Ea=Ns.join(" ")+" Tm\n"):Ea=Lt(No)+" "+Lt(Ko)+" Td\n",Ea},rl=0;rl<gn.length;rl++){switch(Ia="",nl){case 1:Aa=(du?"<":"(")+gn[rl][0]+(du?">":")"),qi=parseFloat(gn[rl][1]),Ca=parseFloat(gn[rl][2]);break;case 0:Aa=(du?"<":"(")+gn[rl]+(du?">":")"),qi=bl(ne),Ca=Hs(je)}void 0!==Tt&&void 0!==Tt[rl]&&(Ia=Tt[rl]+" Tw\n"),0===rl?R.push(Ia+Jd(qi,Ca,is)+Aa):0===nl?R.push(Ia+Aa):1===nl&&R.push(Ia+Jd(qi,Ca,is)+Aa)}R=R.join(0===nl?" Tj\nT* ":" Tj\n"),R+=" Tj\n";var il="BT\n/";return il+=Ti+" "+nr+" Tf\n",il+=Lt(nr*Qo)+" TL\n",il+=cc+"\n",il+=Xs,il+=R,We(il+="ET"),ve[Ti]=!0,Cs};var xA=H.__private__.clip=H.clip=function(R){return We("evenodd"===R?"W*":"W"),this};H.clipEvenOdd=function(){return xA("evenodd")},H.__private__.discardPath=H.discardPath=function(){return We("n"),this};var Fu=H.__private__.isValidStyle=function(R){var ne=!1;return-1!==[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(R)&&(ne=!0),ne};H.__private__.setDefaultPathOperation=H.setDefaultPathOperation=function(R){return Fu(R)&&($=R),this};var Qh=H.__private__.getStyle=H.getStyle=function(R){var ne=$;switch(R){case"D":case"S":ne="S";break;case"F":ne="f";break;case"FD":case"DF":ne="B";break;case"f":case"f*":case"B":case"B*":ne=R}return ne},Ad=H.close=function(){return We("h"),this};H.stroke=function(){return We("S"),this},H.fill=function(R){return Fc("f",R),this},H.fillEvenOdd=function(R){return Fc("f*",R),this},H.fillStroke=function(R){return Fc("B",R),this},H.fillStrokeEvenOdd=function(R){return Fc("B*",R),this};var Fc=function(R,ne){"object"===(0,V.A)(ne)?Hh(ne,R):We(R)},Gd=function(R){null===R||"advanced"===Ct&&void 0===R||(R=Qh(R),We(R))};function hd(R,ne,je,pt,kt){var Ge=new ws(ne||this.boundingBox,je||this.xStep,pt||this.yStep,this.gState,kt||this.matrix);Ge.stream=this.stream;var gn=R+"$$"+this.cloneIndex+++"$$";return zi(gn,Ge),Ge}var Hh=function(R,ne){var je=ud[R.key],pt=Ro[je];if(pt instanceof po)We("q"),We(jl(ne)),pt.gState&&H.setGState(pt.gState),We(R.matrix.toString()+" cm"),We("/"+je+" sh"),We("Q");else if(pt instanceof ws){var kt=new kr(1,0,0,-1,0,Nc());R.matrix&&(kt=kt.multiply(R.matrix||Xa),je=hd.call(pt,R.key,R.boundingBox,R.xStep,R.yStep,kt).id),We("q"),We("/Pattern cs"),We("/"+je+" scn"),pt.gState&&H.setGState(pt.gState),We(ne),We("Q")}},jl=function(R){switch(R){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},kc=H.moveTo=function(R,ne){return We(Lt(Ee(R))+" "+Lt(ct(ne))+" m"),this},lc=H.lineTo=function(R,ne){return We(Lt(Ee(R))+" "+Lt(ct(ne))+" l"),this},ku=H.curveTo=function(R,ne,je,pt,kt,Ge){return We([Lt(Ee(R)),Lt(ct(ne)),Lt(Ee(je)),Lt(ct(pt)),Lt(Ee(kt)),Lt(ct(Ge)),"c"].join(" ")),this};H.__private__.line=H.line=function(R,ne,je,pt,kt){if(isNaN(R)||isNaN(ne)||isNaN(je)||isNaN(pt)||!Fu(kt))throw new Error("Invalid arguments passed to jsPDF.line");return"compat"===Ct?this.lines([[je-R,pt-ne]],R,ne,[1,1],kt||"S"):this.lines([[je-R,pt-ne]],R,ne,[1,1]).stroke()},H.__private__.lines=H.lines=function(R,ne,je,pt,kt,Ge){var gn,ln,En,cr,Bi,_a,Xs,du;if("number"==typeof R&&(du=je,je=ne,ne=R,R=du),pt=pt||[1,1],Ge=Ge||!1,isNaN(ne)||isNaN(je)||!Array.isArray(R)||!Array.isArray(pt)||!Fu(kt)||"boolean"!=typeof Ge)throw new Error("Invalid arguments passed to jsPDF.lines");for(kc(ne,je),gn=pt[0],ln=pt[1],cr=R.length,_a=ne,Xs=je,En=0;En<cr;En++)2===(Bi=R[En]).length?lc(_a=Bi[0]*gn+_a,Xs=Bi[1]*ln+Xs):ku(Bi[0]*gn+_a,Bi[1]*ln+Xs,Bi[2]*gn+_a,Bi[3]*ln+Xs,_a=Bi[4]*gn+_a,Xs=Bi[5]*ln+Xs);return Ge&&Ad(),Gd(kt),this},H.path=function(R){for(var ne=0;ne<R.length;ne++){var je=R[ne],pt=je.c;switch(je.op){case"m":kc(pt[0],pt[1]);break;case"l":lc(pt[0],pt[1]);break;case"c":ku.apply(this,pt);break;case"h":Ad()}}return this},H.__private__.rect=H.rect=function(R,ne,je,pt,kt){if(isNaN(R)||isNaN(ne)||isNaN(je)||isNaN(pt)||!Fu(kt))throw new Error("Invalid arguments passed to jsPDF.rect");return"compat"===Ct&&(pt=-pt),We([Lt(Ee(R)),Lt(ct(ne)),Lt(Ee(je)),Lt(Ee(pt)),"re"].join(" ")),Gd(kt),this},H.__private__.triangle=H.triangle=function(R,ne,je,pt,kt,Ge,gn){if(isNaN(R)||isNaN(ne)||isNaN(je)||isNaN(pt)||isNaN(kt)||isNaN(Ge)||!Fu(gn))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[je-R,pt-ne],[kt-je,Ge-pt],[R-kt,ne-Ge]],R,ne,[1,1],gn,!0),this},H.__private__.roundedRect=H.roundedRect=function(R,ne,je,pt,kt,Ge,gn){if(isNaN(R)||isNaN(ne)||isNaN(je)||isNaN(pt)||isNaN(kt)||isNaN(Ge)||!Fu(gn))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var ln=4/3*(Math.SQRT2-1);return kt=Math.min(kt,.5*je),Ge=Math.min(Ge,.5*pt),this.lines([[je-2*kt,0],[kt*ln,0,kt,Ge-Ge*ln,kt,Ge],[0,pt-2*Ge],[0,Ge*ln,-kt*ln,Ge,-kt,Ge],[2*kt-je,0],[-kt*ln,0,-kt,-Ge*ln,-kt,-Ge],[0,2*Ge-pt],[0,-Ge*ln,kt*ln,-Ge,kt,-Ge]],R+kt,ne,[1,1],gn,!0),this},H.__private__.ellipse=H.ellipse=function(R,ne,je,pt,kt){if(isNaN(R)||isNaN(ne)||isNaN(je)||isNaN(pt)||!Fu(kt))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Ge=4/3*(Math.SQRT2-1)*je,gn=4/3*(Math.SQRT2-1)*pt;return kc(R+je,ne),ku(R+je,ne-gn,R+Ge,ne-pt,R,ne-pt),ku(R-Ge,ne-pt,R-je,ne-gn,R-je,ne),ku(R-je,ne+gn,R-Ge,ne+pt,R,ne+pt),ku(R+Ge,ne+pt,R+je,ne+gn,R+je,ne),Gd(kt),this},H.__private__.circle=H.circle=function(R,ne,je,pt){if(isNaN(R)||isNaN(ne)||isNaN(je)||!Fu(pt))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(R,ne,je,je,pt)},H.setFont=function(R,ne,je){return je&&(ne=xt(ne,je)),Ti=xf(R,ne,{disableWarning:!1}),this};var rh=H.__private__.getFont=H.getFont=function(){return es[xf.apply(H,arguments)]};H.__private__.getFontList=H.getFontList=function(){var R,ne,je={};for(R in ko)if(ko.hasOwnProperty(R))for(ne in je[R]=[],ko[R])ko[R].hasOwnProperty(ne)&&je[R].push(ne);return je},H.addFont=function(R,ne,je,pt,kt){var Ge=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&-1!==Ge.indexOf(arguments[3])?kt=arguments[3]:arguments[3]&&-1==Ge.indexOf(arguments[3])&&(je=xt(je,pt)),ua.call(this,R,ne,je,kt=kt||"Identity-H")};var fd,xi=C.lineWidth||.200025,uu=H.__private__.getLineWidth=H.getLineWidth=function(){return xi},pd=H.__private__.setLineWidth=H.setLineWidth=function(R){return xi=R,We(Lt(Ee(R))+" w"),this};H.__private__.setLineDash=jr.API.setLineDash=jr.API.setLineDashPattern=function(R,ne){if(R=R||[],ne=ne||0,isNaN(ne)||!Array.isArray(R))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return R=R.map(function(je){return Lt(Ee(je))}).join(" "),ne=Lt(Ee(ne)),We("["+R+"] "+ne+" d"),this};var da=H.__private__.getLineHeight=H.getLineHeight=function(){return nr*fd};H.__private__.getLineHeight=H.getLineHeight=function(){return nr*fd};var ih=H.__private__.setLineHeightFactor=H.setLineHeightFactor=function(R){return"number"==typeof(R=R||1.15)&&(fd=R),this},Rc=H.__private__.getLineHeightFactor=H.getLineHeightFactor=function(){return fd};ih(C.lineHeight);var bl=H.__private__.getHorizontalCoordinate=function(R){return Ee(R)},Hs=H.__private__.getVerticalCoordinate=function(R){return"advanced"===Ct?R:ci[$e].mediaBox.topRightY-ci[$e].mediaBox.bottomLeftY-Ee(R)},oh=H.__private__.getHorizontalCoordinateString=H.getHorizontalCoordinateString=function(R){return Lt(bl(R))},uc=H.__private__.getVerticalCoordinateString=H.getVerticalCoordinateString=function(R){return Lt(Hs(R))},Ru=C.strokeColor||"0 G";H.__private__.getStrokeColor=H.getDrawColor=function(){return di(Ru)},H.__private__.setStrokeColor=H.setDrawColor=function(R,ne,je,pt){return Ru=ya({ch1:R,ch2:ne,ch3:je,ch4:pt,pdfColorType:"draw",precision:2}),We(Ru),this};var el=C.fillColor||"0 g";H.__private__.getFillColor=H.getFillColor=function(){return di(el)},H.__private__.setFillColor=H.setFillColor=function(R,ne,je,pt){return el=ya({ch1:R,ch2:ne,ch3:je,ch4:pt,pdfColorType:"fill",precision:2}),We(el),this};var cc=C.textColor||"0 g",sh=H.__private__.getTextColor=H.getTextColor=function(){return di(cc)};H.__private__.setTextColor=H.setTextColor=function(R,ne,je,pt){return cc=ya({ch1:R,ch2:ne,ch3:je,ch4:pt,pdfColorType:"text",precision:3}),this};var gd=C.charSpace,Ps=H.__private__.getCharSpace=H.getCharSpace=function(){return parseFloat(gd||0)};H.__private__.setCharSpace=H.setCharSpace=function(R){if(isNaN(R))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return gd=R,this};var Pu=0;H.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},H.__private__.setLineCap=H.setLineCap=function(R){var ne=H.CapJoinStyles[R];if(void 0===ne)throw new Error("Line cap style of '"+R+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Pu=ne,We(ne+" J"),this};var cu=0;H.__private__.setLineJoin=H.setLineJoin=function(R){var ne=H.CapJoinStyles[R];if(void 0===ne)throw new Error("Line join style of '"+R+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return cu=ne,We(ne+" j"),this},H.__private__.setLineMiterLimit=H.__private__.setMiterLimit=H.setLineMiterLimit=H.setMiterLimit=function(R){if(R=R||0,isNaN(R))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return We(Lt(Ee(R))+" M"),this},H.GState=xo,H.setGState=function(R){(R="string"==typeof R?Rs[vl[R]]:Wd(null,R)).equals(nc)||(We("/"+R.id+" gs"),nc=R)};var Wd=function(R,ne){if(!R||!vl[R]){var je=!1;for(var pt in Rs)if(Rs.hasOwnProperty(pt)&&Rs[pt].equals(ne)){je=!0;break}if(je)ne=Rs[pt];else{var kt="GS"+(Object.keys(Rs).length+1).toString(10);Rs[kt]=ne,ne.id=kt}return R&&(vl[R]=ne.id),ti.publish("addGState",ne),ne}};H.addGState=function(R,ne){return Wd(R,ne),this},H.saveGraphicsState=function(){return We("q"),tc.push({key:Ti,size:nr,color:cc}),this},H.restoreGraphicsState=function(){We("Q");var R=tc.pop();return Ti=R.key,nr=R.size,cc=R.color,nc=null,this},H.setCurrentTransformationMatrix=function(R){return We(R.toString()+" cm"),this},H.comment=function(R){return We("#"+R),this};var Pc=function(R,ne){var je=R||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return je},set:function(Ge){isNaN(Ge)||(je=parseFloat(Ge))}});var pt=ne||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return pt},set:function(Ge){isNaN(Ge)||(pt=parseFloat(Ge))}});var kt="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return kt},set:function(Ge){kt=Ge.toString()}}),this},zl=function(R,ne,je,pt){Pc.call(this,R,ne),this.type="rect";var kt=je||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return kt},set:function(gn){isNaN(gn)||(kt=parseFloat(gn))}});var Ge=pt||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Ge},set:function(gn){isNaN(gn)||(Ge=parseFloat(gn))}}),this},li=function(){this.page=Wo,this.currentPage=$e,this.pages=Wn.slice(0),this.pagesContext=ci.slice(0),this.x=uo,this.y=pi,this.matrix=ml,this.width=Kd($e),this.height=Nc($e),this.outputDestination=Dr,this.id="",this.objectNumber=-1};li.prototype.restore=function(){Wo=this.page,ci=this.pagesContext,Wn=this.pages,uo=this.x,pi=this.y,ml=this.matrix,qd($e=this.currentPage,this.width),dc($e,this.height),Dr=this.outputDestination};var ah=function(R,ne,je,pt,kt){qs.push(new li),Wo=$e=0,Wn=[],uo=R,pi=ne,ml=kt,TA([je,pt])};for(var FA in H.beginFormObject=function(R,ne,je,pt,kt){return ah(R,ne,je,pt,kt),this},H.endFormObject=function(R){return function(R){if(co[R])qs.pop().restore();else{var ne=new li,je="Xo"+(Object.keys(wr).length+1).toString(10);ne.id=je,co[R]=je,wr[je]=ne,ti.publish("addFormObject",ne),qs.pop().restore()}}(R),this},H.doFormObject=function(R,ne){var je=wr[co[R]];return We("q"),We(ne.toString()+" cm"),We("/"+je.id+" Do"),We("Q"),this},H.getFormObject=function(R){var ne=wr[co[R]];return{x:ne.x,y:ne.y,width:ne.width,height:ne.height,matrix:ne.matrix}},H.save=function(R,ne){return R=R||"generated.pdf",(ne=ne||{}).returnPromise=ne.returnPromise||!1,!1===ne.returnPromise?(eo(zd(Cl()),R),"function"==typeof eo.unload&&tr.setTimeout&&setTimeout(eo.unload,911),this):new Promise(function(je,pt){try{var kt=eo(zd(Cl()),R);"function"==typeof eo.unload&&tr.setTimeout&&setTimeout(eo.unload,911),je(kt)}catch(Ge){pt(Ge.message)}})},jr.API)jr.API.hasOwnProperty(FA)&&("events"===FA&&jr.API.events.length?function(R,ne){var pt,kt;for(kt=ne.length-1;-1!==kt;kt--)R.subscribe.apply(R,[ne[kt][0]].concat("function"==typeof(pt=ne[kt][1])?[pt]:pt))}(ti,jr.API.events):H[FA]=jr.API[FA]);var Kd=H.getPageWidth=function(R){return(ci[R=R||$e].mediaBox.topRightX-ci[R].mediaBox.bottomLeftX)/Ar},qd=H.setPageWidth=function(R,ne){ci[R].mediaBox.topRightX=ne*Ar+ci[R].mediaBox.bottomLeftX},Nc=H.getPageHeight=function(R){return(ci[R=R||$e].mediaBox.topRightY-ci[R].mediaBox.bottomLeftY)/Ar},dc=H.setPageHeight=function(R,ne){ci[R].mediaBox.topRightY=ne*Ar+ci[R].mediaBox.bottomLeftY};return H.internal={pdfEscape:wl,getStyle:Qh,getFont:rh,getFontSize:ir,getCharSpace:Ps,getTextColor:sh,getLineHeight:da,getLineHeightFactor:Rc,getLineWidth:uu,write:ai,getHorizontalCoordinate:bl,getVerticalCoordinate:Hs,getCoordinateString:oh,getVerticalCoordinateString:uc,collections:{},newObject:mo,newAdditionalObject:rc,newObjectDeferred:Eo,newObjectDeferredBegin:Hr,getFilters:Ja,putStream:Qs,events:ti,scaleFactor:Ar,pageSize:{getWidth:function(){return Kd($e)},setWidth:function(R){qd($e,R)},getHeight:function(){return Nc($e)},setHeight:function(R){dc($e,R)}},encryptionOptions:re,encryption:Ra,getEncryptor:function(R){return null!==re?Ra.encryptor(R,0):function(ne){return ne}},output:nh,getNumberOfPages:Nh,pages:Wn,out:We,f2:cn,f3:Re,getPageInfo:Vh,getPageInfoByObjId:yi,getCurrentPageInfo:ca,getPDFVersion:De,Point:Pc,Rectangle:zl,Matrix:kr,hasHotfix:DA},Object.defineProperty(H.internal.pageSize,"width",{get:function(){return Kd($e)},set:function(R){qd($e,R)},enumerable:!0,configurable:!0}),Object.defineProperty(H.internal.pageSize,"height",{get:function(){return Nc($e)},set:function(R){dc($e,R)},enumerable:!0,configurable:!0}),function(R){for(var ne=0,je=jn.length;ne<je;ne++){var pt=ua.call(this,R[ne][0],R[ne][1],R[ne][2],jn[ne][3],!0);!1===ue&&(ve[pt]=!0);var kt=R[ne][0].split("-");Ph({id:pt,fontName:kt[0],fontStyle:kt[1]||""})}ti.publish("addFonts",{fonts:es,dictionary:ko})}.call(H,jn),Ti="F1",BA(D,y),ti.publish("initialized"),H}pr.prototype.lsbFirstWord=function(C){return String.fromCharCode(255&C,C>>8&255,C>>16&255,C>>24&255)},pr.prototype.toHexString=function(C){return C.split("").map(function(g){return("0"+(255&g.charCodeAt(0)).toString(16)).slice(-2)}).join("")},pr.prototype.hexToBytes=function(C){for(var g=[],y=0;y<C.length;y+=2)g.push(String.fromCharCode(parseInt(C.substr(y,2),16)));return g.join("")},pr.prototype.processOwnerPassword=function(C,g){return Rn(_n(g).substr(0,5),C)},pr.prototype.encryptor=function(C,g){var y=_n(this.encryptionKey+String.fromCharCode(255&C,C>>8&255,C>>16&255,255&g,g>>8&255)).substr(0,10);return function(E){return Rn(y,E)}},xo.prototype.equals=function(C){var g,y="id,objectNumber,equals";if(!C||(0,V.A)(C)!==(0,V.A)(this))return!1;var E=0;for(g in this)if(!(y.indexOf(g)>=0)){if(this.hasOwnProperty(g)&&!C.hasOwnProperty(g)||this[g]!==C[g])return!1;E++}for(g in C)C.hasOwnProperty(g)&&y.indexOf(g)<0&&E--;return 0===E},jr.API={events:[]},jr.version="2.5.1";var go=jr.API,ks=1,Rl=function(C){return C.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Va=function(C){return C.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},vi=function(C){return C.toFixed(2)},Ku=function(C){return C.toFixed(5)};go.__acroform__={};var $n=function(C,g){C.prototype=Object.create(g.prototype),C.prototype.constructor=C},mA=function(C){return C*ks},Pl=function(C){var g=new oo,y=yr.internal.getHeight(C)||0,E=yr.internal.getWidth(C)||0;return g.BBox=[0,0,Number(vi(E)),Number(vi(y))],g},YA=go.__acroform__.setBit=function(C,g){if(C=C||0,g=g||0,isNaN(C)||isNaN(g))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return C|1<<g},xh=go.__acroform__.clearBit=function(C,g){if(C=C||0,g=g||0,isNaN(C)||isNaN(g))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return C&~(1<<g)},Ef=go.__acroform__.getBit=function(C,g){if(isNaN(C)||isNaN(g))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return C&1<<g?1:0},Ss=go.__acroform__.getBitForPdf=function(C,g){if(isNaN(C)||isNaN(g))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return Ef(C,g-1)},to=go.__acroform__.setBitForPdf=function(C,g){if(isNaN(C)||isNaN(g))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return YA(C,g-1)},Ws=go.__acroform__.clearBitForPdf=function(C,g){if(isNaN(C)||isNaN(g))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return xh(C,g-1)},Pd=go.__acroform__.calculateCoordinates=function(C,g){var y=g.internal.getHorizontalCoordinate,E=g.internal.getVerticalCoordinate,D=C[0],T=C[1],P=C[2],M=C[3],L={};return L.lowerLeft_X=y(D)||0,L.lowerLeft_Y=E(T+M)||0,L.upperRight_X=y(D+P)||0,L.upperRight_Y=E(T)||0,[Number(vi(L.lowerLeft_X)),Number(vi(L.lowerLeft_Y)),Number(vi(L.upperRight_X)),Number(vi(L.upperRight_Y))]},Jm=function(C){if(C.appearanceStreamContent)return C.appearanceStreamContent;if(C.V||C.DV){var g=[],E=Nd(C,C._V||C.DV),D=C.scope.internal.getFont(C.fontName,C.fontStyle).id;g.push("/Tx BMC"),g.push("q"),g.push("BT"),g.push(C.scope.__private__.encodeColorString(C.color)),g.push("/"+D+" "+vi(E.fontSize)+" Tf"),g.push("1 0 0 1 0 0 Tm"),g.push(E.text),g.push("ET"),g.push("Q"),g.push("EMC");var T=Pl(C);return T.scope=C.scope,T.stream=g.join("\n"),T}},Nd=function(C,g){var y=0===C.fontSize?C.maxFontSize:C.fontSize,E={text:"",fontSize:""},D=(g=")"==(g="("==g.substr(0,1)?g.substr(1):g).substr(g.length-1)?g.substr(0,g.length-1):g).split(" ");D=D.map(C.multiline?function(Re){return Re.split("\n")}:function(Re){return[Re]});var T=y,P=yr.internal.getHeight(C)||0;P=P<0?-P:P;var Re,M=yr.internal.getWidth(C)||0;M=M<0?-M:M,T++;e:for(;T>0;){g="",T--;var $,re,ue=tu("3",C,T).height,ve=C.multiline?P-T:(P-ue)/2,H=ve+=2,Qe=0,De=0,qe=0;if(T<=0){g="(...) Tj\n",g+="% Width of Text: "+tu(g,C,T=12).width+", FieldWidth:"+M+"\n";break}for(var ee="",He=0,Ct=0;Ct<D.length;Ct++)if(D.hasOwnProperty(Ct)){var Mt=!1;if(1!==D[Ct].length&&qe!==D[Ct].length-1){if((ue+2)*(He+2)+2>P)continue e;ee+=D[Ct][qe],Mt=!0,De=Ct,Ct--}else{ee=" "==(ee+=D[Ct][qe]+" ").substr(ee.length-1)?ee.substr(0,ee.length-1):ee;var hn=parseInt(Ct),xt=(Re=hn)+1<D.length&&tu(ee+" "+D[Re+1][0],C,T).width<=M-4,Lt=Ct>=D.length-1;if(xt&&!Lt){ee+=" ",qe=0;continue}if(xt||Lt){if(Lt)De=hn;else if(C.multiline&&(ue+2)*(He+2)+2>P)continue e}else{if(!C.multiline||(ue+2)*(He+2)+2>P)continue e;De=hn}}for(var Ue="",an=Qe;an<=De;an++){var cn=D[an];if(C.multiline){if(an===De){Ue+=cn[qe]+" ",qe=(qe+1)%cn.length;continue}if(an===Qe){Ue+=cn[cn.length-1]+" ";continue}}Ue+=cn[0]+" "}switch(Ue=" "==Ue.substr(Ue.length-1)?Ue.substr(0,Ue.length-1):Ue,re=tu(Ue,C,T).width,C.textAlign){case"right":$=M-re-2;break;case"center":$=(M-re)/2;break;default:$=2}g+=vi($)+" "+vi(H)+" Td\n",g+="("+Rl(Ue)+") Tj\n",g+=-vi($)+" 0 Td\n",H=-(T+2),re=0,Qe=Mt?De:De+1,He++,ee=""}break}return E.text=g,E.fontSize=T,E},tu=function(C,g,y){var E=g.scope.internal.getFont(g.fontName,g.fontStyle),D=g.scope.getStringUnitWidth(C,{font:E,fontSize:parseFloat(y),charSpace:0})*parseFloat(y);return{height:g.scope.getStringUnitWidth("3",{font:E,fontSize:parseFloat(y),charSpace:0})*parseFloat(y)*1.5,width:D}},Du={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},od=function(C,g){var y={type:"reference",object:C};void 0===g.internal.getPageInfo(C.page).pageContext.annotations.find(function(E){return E.type===y.type&&E.object===y.object})&&g.internal.getPageInfo(C.page).pageContext.annotations.push(y)},vA=go.__acroform__.arrayToPdfArray=function(C,g,y){var E=function(P){return P};if(Array.isArray(C)){for(var D="[",T=0;T<C.length;T++)switch(0!==T&&(D+=" "),(0,V.A)(C[T])){case"boolean":case"number":case"object":D+=C[T].toString();break;case"string":"/"!==C[T].substr(0,1)?(void 0!==g&&y&&(E=y.internal.getEncryptor(g)),D+="("+Rl(E(C[T].toString()))+")"):D+=C[T].toString()}return D+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},Nl=function(C,g,y){var E=function(D){return D};return void 0!==g&&y&&(E=y.internal.getEncryptor(g)),(C=C||"").toString(),"("+Rl(E(C))+")"},Gr=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(void 0===this._objId){if(void 0===this.scope)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(C){this._objId=C}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Gr.prototype.toString=function(){return this.objId+" 0 R"},Gr.prototype.putStream=function(){var C=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:C,objectId:this.objId}),this.scope.internal.out("endobj")},Gr.prototype.getKeyValueListForStream=function(){var C=[],g=Object.getOwnPropertyNames(this).filter(function(T){return"content"!=T&&"appearanceStreamContent"!=T&&"scope"!=T&&"objId"!=T&&"_"!=T.substring(0,1)});for(var y in g)if(!1===Object.getOwnPropertyDescriptor(this,g[y]).configurable){var E=g[y],D=this[E];D&&(Array.isArray(D)?C.push({key:E,value:vA(D,this.objId,this.scope)}):D instanceof Gr?(D.scope=this.scope,C.push({key:E,value:D.objId+" 0 R"})):"function"!=typeof D&&C.push({key:E,value:D}))}return C};var oo=function(){Gr.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var C,g=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return g},set:function(y){g=y}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(y){C=y.trim()},get:function(){return C||null}})};$n(oo,Gr);var Fg=function(){Gr.call(this);var C,g=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return g.length>0?g:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return g}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(C){var y=function(E){return E};return this.scope&&(y=this.scope.internal.getEncryptor(this.objId)),"("+Rl(y(C))+")"}},set:function(y){C=y}})};$n(Fg,Gr);var Ml=function C(){Gr.call(this);var g=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return g},set:function(ee){if(isNaN(ee))throw new Error('Invalid value "'+ee+'" for attribute F supplied.');g=ee}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Ss(g,3)},set:function(ee){this.F=ee?to(g,3):Ws(g,3)}});var y=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return y},set:function(ee){if(isNaN(ee))throw new Error('Invalid value "'+ee+'" for attribute Ff supplied.');y=ee}});var E=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(0!==E.length)return E},set:function(ee){E=void 0!==ee?ee:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!E||isNaN(E[0])?0:E[0]},set:function(ee){E[0]=ee}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!E||isNaN(E[1])?0:E[1]},set:function(ee){E[1]=ee}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!E||isNaN(E[2])?0:E[2]},set:function(ee){E[2]=ee}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!E||isNaN(E[3])?0:E[3]},set:function(ee){E[3]=ee}});var D="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return D},set:function(ee){switch(ee){case"/Btn":case"/Tx":case"/Ch":case"/Sig":D=ee;break;default:throw new Error('Invalid value "'+ee+'" for attribute FT supplied.')}}});var T=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!T||T.length<1){if(this instanceof Qa)return;T="FieldObject"+C.FieldNum++}var ee=function(He){return He};return this.scope&&(ee=this.scope.internal.getEncryptor(this.objId)),"("+Rl(ee(T))+")"},set:function(ee){T=ee.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return T},set:function(ee){T=ee}});var P="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return P},set:function(ee){P=ee}});var M="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return M},set:function(ee){M=ee}});var L=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return L},set:function(ee){L=ee}});var $=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return void 0===$?50/ks:$},set:function(ee){$=ee}});var re="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return re},set:function(ee){re=ee}});var ue="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!ue||this instanceof Qa||this instanceof Ya))return Nl(ue,this.objId,this.scope)},set:function(ee){ee=ee.toString(),ue=ee}});var ve=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(ve)return this instanceof Jr?ve:Nl(ve,this.objId,this.scope)},set:function(ee){ee=ee.toString(),ve=this instanceof Jr?ee:"("===ee.substr(0,1)?Va(ee.substr(1,ee.length-2)):Va(ee)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Jr?Va(ve.substr(1,ve.length-1)):ve},set:function(ee){ee=ee.toString(),ve=this instanceof Jr?"/"+ee:ee}});var H=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(H)return H},set:function(ee){this.V=ee}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(H)return this instanceof Jr?H:Nl(H,this.objId,this.scope)},set:function(ee){ee=ee.toString(),H=this instanceof Jr?ee:"("===ee.substr(0,1)?Va(ee.substr(1,ee.length-2)):Va(ee)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Jr?Va(H.substr(1,H.length-1)):H},set:function(ee){ee=ee.toString(),H=this instanceof Jr?"/"+ee:ee}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var Qe,De=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return De},set:function(ee){De=ee=!!ee}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(Qe)return Qe},set:function(ee){Qe=ee}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Ss(this.Ff,1)},set:function(ee){this.Ff=ee?to(this.Ff,1):Ws(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Ss(this.Ff,2)},set:function(ee){this.Ff=ee?to(this.Ff,2):Ws(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Ss(this.Ff,3)},set:function(ee){this.Ff=ee?to(this.Ff,3):Ws(this.Ff,3)}});var qe=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(null!==qe)return qe},set:function(ee){if(-1===[0,1,2].indexOf(ee))throw new Error('Invalid value "'+ee+'" for attribute Q supplied.');qe=ee}}),Object.defineProperty(this,"textAlign",{get:function(){var ee;switch(qe){case 0:default:ee="left";break;case 1:ee="center";break;case 2:ee="right"}return ee},configurable:!0,enumerable:!0,set:function(ee){switch(ee){case"right":case 2:qe=2;break;case"center":case 1:qe=1;break;default:qe=0}}})};$n(Ml,Gr);var Md=function(){Ml.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var C=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return C},set:function(y){C=y}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return C},set:function(y){C=y}});var g=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return vA(g,this.objId,this.scope)},set:function(y){var E,D;D=[],"string"==typeof(E=y)&&(D=function(T,P,M){M||(M=1);for(var L,$=[];L=P.exec(T);)$.push(L[M]);return $}(E,/\((.*?)\)/g)),g=D}}),this.getOptions=function(){return g},this.setOptions=function(y){g=y,this.sort&&g.sort()},this.addOption=function(y){y=(y=y||"").toString(),g.push(y),this.sort&&g.sort()},this.removeOption=function(y,E){for(E=E||!1,y=(y=y||"").toString();-1!==g.indexOf(y)&&(g.splice(g.indexOf(y),1),!1!==E););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Ss(this.Ff,18)},set:function(y){this.Ff=y?to(this.Ff,18):Ws(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Ss(this.Ff,19)},set:function(y){!0===this.combo&&(this.Ff=y?to(this.Ff,19):Ws(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Ss(this.Ff,20)},set:function(y){y?(this.Ff=to(this.Ff,20),g.sort()):this.Ff=Ws(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Ss(this.Ff,22)},set:function(y){this.Ff=y?to(this.Ff,22):Ws(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Ss(this.Ff,23)},set:function(y){this.Ff=y?to(this.Ff,23):Ws(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Ss(this.Ff,27)},set:function(y){this.Ff=y?to(this.Ff,27):Ws(this.Ff,27)}}),this.hasAppearanceStream=!1};$n(Md,Ml);var yA=function(){Md.call(this),this.fontName="helvetica",this.combo=!1};$n(yA,Md);var Sc=function(){yA.call(this),this.combo=!0};$n(Sc,yA);var Ll=function(){Sc.call(this),this.edit=!0};$n(Ll,Sc);var Jr=function(){Ml.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Ss(this.Ff,15)},set:function(y){this.Ff=y?to(this.Ff,15):Ws(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Ss(this.Ff,16)},set:function(y){this.Ff=y?to(this.Ff,16):Ws(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Ss(this.Ff,17)},set:function(y){this.Ff=y?to(this.Ff,17):Ws(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Ss(this.Ff,26)},set:function(y){this.Ff=y?to(this.Ff,26):Ws(this.Ff,26)}});var C,g={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var y=function(T){return T};if(this.scope&&(y=this.scope.internal.getEncryptor(this.objId)),0!==Object.keys(g).length){var E,D=[];for(E in D.push("<<"),g)D.push("/"+E+" ("+Rl(y(g[E]))+")");return D.push(">>"),D.join("\n")}},set:function(y){"object"===(0,V.A)(y)&&(g=y)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return g.CA||""},set:function(y){"string"==typeof y&&(g.CA=y)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return C},set:function(y){C=y}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return C.substr(1,C.length-1)},set:function(y){C="/"+y}})};$n(Jr,Ml);var Ld=function(){Jr.call(this),this.pushButton=!0};$n(Ld,Jr);var nu=function(){Jr.call(this),this.radio=!0,this.pushButton=!1;var C=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return C},set:function(g){C=void 0!==g?g:[]}})};$n(nu,Jr);var Qa=function(){var C,g;Ml.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return C},set:function(D){C=D}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return g},set:function(D){g=D}});var y,E={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var D=function(M){return M};this.scope&&(D=this.scope.internal.getEncryptor(this.objId));var T,P=[];for(T in P.push("<<"),E)P.push("/"+T+" ("+Rl(D(E[T]))+")");return P.push(">>"),P.join("\n")},set:function(D){"object"===(0,V.A)(D)&&(E=D)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return E.CA||""},set:function(D){"string"==typeof D&&(E.CA=D)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return y},set:function(D){y=D}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return y.substr(1,y.length-1)},set:function(D){y="/"+D}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=yr.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};$n(Qa,Ml),nu.prototype.setAppearance=function(C){if(!("createAppearanceStream"in C)||!("getCA"in C))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var g in this.Kids)if(this.Kids.hasOwnProperty(g)){var y=this.Kids[g];y.appearanceStreamContent=C.createAppearanceStream(y.optionName),y.caption=C.getCA()}},nu.prototype.createOption=function(C){var g=new Qa;return g.Parent=this,g.optionName=C,this.Kids.push(g),Sf.call(this.scope,g),g};var sd=function(){Jr.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=yr.CheckBox.createAppearanceStream()};$n(sd,Jr);var Ya=function(){Ml.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Ss(this.Ff,13)},set:function(g){this.Ff=g?to(this.Ff,13):Ws(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Ss(this.Ff,21)},set:function(g){this.Ff=g?to(this.Ff,21):Ws(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Ss(this.Ff,23)},set:function(g){this.Ff=g?to(this.Ff,23):Ws(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Ss(this.Ff,24)},set:function(g){this.Ff=g?to(this.Ff,24):Ws(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Ss(this.Ff,25)},set:function(g){this.Ff=g?to(this.Ff,25):Ws(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Ss(this.Ff,26)},set:function(g){this.Ff=g?to(this.Ff,26):Ws(this.Ff,26)}});var C=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return C},set:function(g){C=g}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return C},set:function(g){Number.isInteger(g)&&(C=g)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};$n(Ya,Ml);var ru=function(){Ya.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Ss(this.Ff,14)},set:function(C){this.Ff=C?to(this.Ff,14):Ws(this.Ff,14)}}),this.password=!0};$n(ru,Ya);var yr={CheckBox:{createAppearanceStream:function(){return{N:{On:yr.CheckBox.YesNormal},D:{On:yr.CheckBox.YesPushDown,Off:yr.CheckBox.OffPushDown}}},YesPushDown:function(C){var g=Pl(C);g.scope=C.scope;var y=[],E=C.scope.internal.getFont(C.fontName,C.fontStyle).id,D=C.scope.__private__.encodeColorString(C.color),T=Nd(C,C.caption);return y.push("0.749023 g"),y.push("0 0 "+vi(yr.internal.getWidth(C))+" "+vi(yr.internal.getHeight(C))+" re"),y.push("f"),y.push("BMC"),y.push("q"),y.push("0 0 1 rg"),y.push("/"+E+" "+vi(T.fontSize)+" Tf "+D),y.push("BT"),y.push(T.text),y.push("ET"),y.push("Q"),y.push("EMC"),g.stream=y.join("\n"),g},YesNormal:function(C){var g=Pl(C);g.scope=C.scope;var y=C.scope.internal.getFont(C.fontName,C.fontStyle).id,E=C.scope.__private__.encodeColorString(C.color),D=[],T=yr.internal.getHeight(C),P=yr.internal.getWidth(C),M=Nd(C,C.caption);return D.push("1 g"),D.push("0 0 "+vi(P)+" "+vi(T)+" re"),D.push("f"),D.push("q"),D.push("0 0 1 rg"),D.push("0 0 "+vi(P-1)+" "+vi(T-1)+" re"),D.push("W"),D.push("n"),D.push("0 g"),D.push("BT"),D.push("/"+y+" "+vi(M.fontSize)+" Tf "+E),D.push(M.text),D.push("ET"),D.push("Q"),g.stream=D.join("\n"),g},OffPushDown:function(C){var g=Pl(C);g.scope=C.scope;var y=[];return y.push("0.749023 g"),y.push("0 0 "+vi(yr.internal.getWidth(C))+" "+vi(yr.internal.getHeight(C))+" re"),y.push("f"),g.stream=y.join("\n"),g}},RadioButton:{Circle:{createAppearanceStream:function(C){var g={D:{Off:yr.RadioButton.Circle.OffPushDown},N:{}};return g.N[C]=yr.RadioButton.Circle.YesNormal,g.D[C]=yr.RadioButton.Circle.YesPushDown,g},getCA:function(){return"l"},YesNormal:function(C){var g=Pl(C);g.scope=C.scope;var y=[],E=yr.internal.getWidth(C)<=yr.internal.getHeight(C)?yr.internal.getWidth(C)/4:yr.internal.getHeight(C)/4;E=Number((.9*E).toFixed(5));var T=Number((E*yr.internal.Bezier_C).toFixed(5));return y.push("q"),y.push("1 0 0 1 "+Ku(yr.internal.getWidth(C)/2)+" "+Ku(yr.internal.getHeight(C)/2)+" cm"),y.push(E+" 0 m"),y.push(E+" "+T+" "+T+" "+E+" 0 "+E+" c"),y.push("-"+T+" "+E+" -"+E+" "+T+" -"+E+" 0 c"),y.push("-"+E+" -"+T+" -"+T+" -"+E+" 0 -"+E+" c"),y.push(T+" -"+E+" "+E+" -"+T+" "+E+" 0 c"),y.push("f"),y.push("Q"),g.stream=y.join("\n"),g},YesPushDown:function(C){var g=Pl(C);g.scope=C.scope;var y=[],E=yr.internal.getWidth(C)<=yr.internal.getHeight(C)?yr.internal.getWidth(C)/4:yr.internal.getHeight(C)/4;E=Number((.9*E).toFixed(5));var D=Number((2*E).toFixed(5)),T=Number((D*yr.internal.Bezier_C).toFixed(5)),P=Number((E*yr.internal.Bezier_C).toFixed(5));return y.push("0.749023 g"),y.push("q"),y.push("1 0 0 1 "+Ku(yr.internal.getWidth(C)/2)+" "+Ku(yr.internal.getHeight(C)/2)+" cm"),y.push(D+" 0 m"),y.push(D+" "+T+" "+T+" "+D+" 0 "+D+" c"),y.push("-"+T+" "+D+" -"+D+" "+T+" -"+D+" 0 c"),y.push("-"+D+" -"+T+" -"+T+" -"+D+" 0 -"+D+" c"),y.push(T+" -"+D+" "+D+" -"+T+" "+D+" 0 c"),y.push("f"),y.push("Q"),y.push("0 g"),y.push("q"),y.push("1 0 0 1 "+Ku(yr.internal.getWidth(C)/2)+" "+Ku(yr.internal.getHeight(C)/2)+" cm"),y.push(E+" 0 m"),y.push(E+" "+P+" "+P+" "+E+" 0 "+E+" c"),y.push("-"+P+" "+E+" -"+E+" "+P+" -"+E+" 0 c"),y.push("-"+E+" -"+P+" -"+P+" -"+E+" 0 -"+E+" c"),y.push(P+" -"+E+" "+E+" -"+P+" "+E+" 0 c"),y.push("f"),y.push("Q"),g.stream=y.join("\n"),g},OffPushDown:function(C){var g=Pl(C);g.scope=C.scope;var y=[],E=yr.internal.getWidth(C)<=yr.internal.getHeight(C)?yr.internal.getWidth(C)/4:yr.internal.getHeight(C)/4;E=Number((.9*E).toFixed(5));var D=Number((2*E).toFixed(5)),T=Number((D*yr.internal.Bezier_C).toFixed(5));return y.push("0.749023 g"),y.push("q"),y.push("1 0 0 1 "+Ku(yr.internal.getWidth(C)/2)+" "+Ku(yr.internal.getHeight(C)/2)+" cm"),y.push(D+" 0 m"),y.push(D+" "+T+" "+T+" "+D+" 0 "+D+" c"),y.push("-"+T+" "+D+" -"+D+" "+T+" -"+D+" 0 c"),y.push("-"+D+" -"+T+" -"+T+" -"+D+" 0 -"+D+" c"),y.push(T+" -"+D+" "+D+" -"+T+" "+D+" 0 c"),y.push("f"),y.push("Q"),g.stream=y.join("\n"),g}},Cross:{createAppearanceStream:function(C){var g={D:{Off:yr.RadioButton.Cross.OffPushDown},N:{}};return g.N[C]=yr.RadioButton.Cross.YesNormal,g.D[C]=yr.RadioButton.Cross.YesPushDown,g},getCA:function(){return"8"},YesNormal:function(C){var g=Pl(C);g.scope=C.scope;var y=[],E=yr.internal.calculateCross(C);return y.push("q"),y.push("1 1 "+vi(yr.internal.getWidth(C)-2)+" "+vi(yr.internal.getHeight(C)-2)+" re"),y.push("W"),y.push("n"),y.push(vi(E.x1.x)+" "+vi(E.x1.y)+" m"),y.push(vi(E.x2.x)+" "+vi(E.x2.y)+" l"),y.push(vi(E.x4.x)+" "+vi(E.x4.y)+" m"),y.push(vi(E.x3.x)+" "+vi(E.x3.y)+" l"),y.push("s"),y.push("Q"),g.stream=y.join("\n"),g},YesPushDown:function(C){var g=Pl(C);g.scope=C.scope;var y=yr.internal.calculateCross(C),E=[];return E.push("0.749023 g"),E.push("0 0 "+vi(yr.internal.getWidth(C))+" "+vi(yr.internal.getHeight(C))+" re"),E.push("f"),E.push("q"),E.push("1 1 "+vi(yr.internal.getWidth(C)-2)+" "+vi(yr.internal.getHeight(C)-2)+" re"),E.push("W"),E.push("n"),E.push(vi(y.x1.x)+" "+vi(y.x1.y)+" m"),E.push(vi(y.x2.x)+" "+vi(y.x2.y)+" l"),E.push(vi(y.x4.x)+" "+vi(y.x4.y)+" m"),E.push(vi(y.x3.x)+" "+vi(y.x3.y)+" l"),E.push("s"),E.push("Q"),g.stream=E.join("\n"),g},OffPushDown:function(C){var g=Pl(C);g.scope=C.scope;var y=[];return y.push("0.749023 g"),y.push("0 0 "+vi(yr.internal.getWidth(C))+" "+vi(yr.internal.getHeight(C))+" re"),y.push("f"),g.stream=y.join("\n"),g}}},createDefaultAppearanceStream:function(C){var g=C.scope.internal.getFont(C.fontName,C.fontStyle).id,y=C.scope.__private__.encodeColorString(C.color);return"/"+g+" "+C.fontSize+" Tf "+y}};yr.internal={Bezier_C:.551915024494,calculateCross:function(C){var g=yr.internal.getWidth(C),y=yr.internal.getHeight(C),E=Math.min(g,y);return{x1:{x:(g-E)/2,y:(y-E)/2+E},x2:{x:(g-E)/2+E,y:(y-E)/2},x3:{x:(g-E)/2,y:(y-E)/2},x4:{x:(g-E)/2+E,y:(y-E)/2+E}}}},yr.internal.getWidth=function(C){var g=0;return"object"===(0,V.A)(C)&&(g=mA(C.Rect[2])),g},yr.internal.getHeight=function(C){var g=0;return"object"===(0,V.A)(C)&&(g=mA(C.Rect[3])),g};var Sf=go.addField=function(C){if(function(C,g){if(g.scope=C,void 0!==C.internal&&(void 0===C.internal.acroformPlugin||!1===C.internal.acroformPlugin.isInitialized)){if(Ml.FieldNum=0,C.internal.acroformPlugin=JSON.parse(JSON.stringify(Du)),C.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");ks=C.internal.scaleFactor,C.internal.acroformPlugin.acroFormDictionaryRoot=new Fg,C.internal.acroformPlugin.acroFormDictionaryRoot.scope=C,C.internal.acroformPlugin.acroFormDictionaryRoot._eventID=C.internal.events.subscribe("postPutResources",function(){var y;(y=C).internal.events.unsubscribe(y.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete y.internal.acroformPlugin.acroFormDictionaryRoot._eventID,y.internal.acroformPlugin.printedOut=!0}),C.internal.events.subscribe("buildDocument",function(){!function(y){y.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var E=y.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var D in E)if(E.hasOwnProperty(D)){var T=E[D];T.objId=void 0,T.hasAnnotation&&od(T,y)}}(C)}),C.internal.events.subscribe("putCatalog",function(){!function(y){if(void 0===y.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("putCatalogCallback: Root missing.");y.internal.write("/AcroForm "+y.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")}(C)}),C.internal.events.subscribe("postPutPages",function(y){!function(E,D){var T=!E;for(var P in E||(D.internal.newObjectDeferredBegin(D.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),D.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),E=E||D.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(E.hasOwnProperty(P)){var M=E[P],L=[],$=M.Rect;if(M.Rect&&(M.Rect=Pd(M.Rect,D)),D.internal.newObjectDeferredBegin(M.objId,!0),M.DA=yr.createDefaultAppearanceStream(M),"object"===(0,V.A)(M)&&"function"==typeof M.getKeyValueListForStream&&(L=M.getKeyValueListForStream()),M.Rect=$,M.hasAppearanceStream&&!M.appearanceStreamContent){var re=Jm(M);L.push({key:"AP",value:"<</N "+re+">>"}),D.internal.acroformPlugin.xForms.push(re)}if(M.appearanceStreamContent){var ue="";for(var ve in M.appearanceStreamContent)if(M.appearanceStreamContent.hasOwnProperty(ve)){var H=M.appearanceStreamContent[ve];if(ue+="/"+ve+" ",ue+="<<",Object.keys(H).length>=1||Array.isArray(H)){for(var P in H)if(H.hasOwnProperty(P)){var Qe=H[P];"function"==typeof Qe&&(Qe=Qe.call(D,M)),ue+="/"+P+" "+Qe+" ",D.internal.acroformPlugin.xForms.indexOf(Qe)>=0||D.internal.acroformPlugin.xForms.push(Qe)}}else"function"==typeof(Qe=H)&&(Qe=Qe.call(D,M)),ue+="/"+P+" "+Qe,D.internal.acroformPlugin.xForms.indexOf(Qe)>=0||D.internal.acroformPlugin.xForms.push(Qe);ue+=">>"}L.push({key:"AP",value:"<<\n"+ue+">>"})}D.internal.putStream({additionalKeyValues:L,objectId:M.objId}),D.internal.out("endobj")}T&&function(C,g){for(var y in C)if(C.hasOwnProperty(y)){var E=y,D=C[y];g.internal.newObjectDeferredBegin(D.objId,!0),"object"===(0,V.A)(D)&&"function"==typeof D.putStream&&D.putStream(),delete C[E]}}(D.internal.acroformPlugin.xForms,D)}(y,C)}),C.internal.acroformPlugin.isInitialized=!0}}(this,C),!(C instanceof Ml))throw new Error("Invalid argument passed to jsPDF.addField.");var g;return(g=C).scope.internal.acroformPlugin.printedOut&&(g.scope.internal.acroformPlugin.printedOut=!1,g.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),g.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(g),C.page=C.scope.internal.getCurrentPageInfo().pageNumber,this};go.AcroFormChoiceField=Md,go.AcroFormListBox=yA,go.AcroFormComboBox=Sc,go.AcroFormEditBox=Ll,go.AcroFormButton=Jr,go.AcroFormPushButton=Ld,go.AcroFormRadioButton=nu,go.AcroFormCheckBox=sd,go.AcroFormTextField=Ya,go.AcroFormPasswordField=ru,go.AcroFormAppearance=yr,go.AcroForm={ChoiceField:Md,ListBox:yA,ComboBox:Sc,EditBox:Ll,Button:Jr,PushButton:Ld,RadioButton:nu,CheckBox:sd,TextField:Ya,PasswordField:ru,Appearance:yr};var C,g,Fh=jr.AcroForm={ChoiceField:Md,ListBox:yA,ComboBox:Sc,EditBox:Ll,Button:Jr,PushButton:Ld,RadioButton:nu,CheckBox:sd,TextField:Ya,PasswordField:ru,Appearance:yr};function dp(C){return C.reduce(function(g,y,E){return g[y]=E,g},{})}(function(C){C.__addimage__={};var g="UNKNOWN",y={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},E=C.__addimage__.getImageFileTypeByImageData=function(Re,Ee){var vt,ct,pn,rn,bn,Wt=g;if("RGBA"===(Ee=Ee||g)||void 0!==Re.data&&Re.data instanceof Uint8ClampedArray&&"height"in Re&&"width"in Re)return"RGBA";if(xt(Re))for(bn in y)for(pn=y[bn],vt=0;vt<pn.length;vt+=1){for(rn=!0,ct=0;ct<pn[vt].length;ct+=1)if(void 0!==pn[vt][ct]&&pn[vt][ct]!==Re[ct]){rn=!1;break}if(!0===rn){Wt=bn;break}}else for(bn in y)for(pn=y[bn],vt=0;vt<pn.length;vt+=1){for(rn=!0,ct=0;ct<pn[vt].length;ct+=1)if(void 0!==pn[vt][ct]&&pn[vt][ct]!==Re.charCodeAt(ct)){rn=!1;break}if(!0===rn){Wt=bn;break}}return Wt===g&&Ee!==g&&(Wt=Ee),Wt},D=function Re(Ee){for(var vt=this.internal.write,ct=this.internal.putStream,pn=(0,this.internal.getFilters)();-1!==pn.indexOf("FlateEncode");)pn.splice(pn.indexOf("FlateEncode"),1);Ee.objectId=this.internal.newObject();var rn=[];if(rn.push({key:"Type",value:"/XObject"}),rn.push({key:"Subtype",value:"/Image"}),rn.push({key:"Width",value:Ee.width}),rn.push({key:"Height",value:Ee.height}),Ee.colorSpace===qe.INDEXED?rn.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(Ee.palette.length/3-1)+" "+("sMask"in Ee&&void 0!==Ee.sMask?Ee.objectId+2:Ee.objectId+1)+" 0 R]"}):(rn.push({key:"ColorSpace",value:"/"+Ee.colorSpace}),Ee.colorSpace===qe.DEVICE_CMYK&&rn.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),rn.push({key:"BitsPerComponent",value:Ee.bitsPerComponent}),"decodeParameters"in Ee&&void 0!==Ee.decodeParameters&&rn.push({key:"DecodeParms",value:"<<"+Ee.decodeParameters+">>"}),"transparency"in Ee&&Array.isArray(Ee.transparency)){for(var bn="",Wt=0,Sn=Ee.transparency.length;Wt<Sn;Wt++)bn+=Ee.transparency[Wt]+" "+Ee.transparency[Wt]+" ";rn.push({key:"Mask",value:"["+bn+"]"})}if(void 0!==Ee.sMask&&rn.push({key:"SMask",value:Ee.objectId+1+" 0 R"}),ct({data:Ee.data,additionalKeyValues:rn,alreadyAppliedFilters:void 0!==Ee.filter?["/"+Ee.filter]:void 0,objectId:Ee.objectId}),vt("endobj"),"sMask"in Ee&&void 0!==Ee.sMask){var ae={width:Ee.width,height:Ee.height,colorSpace:"DeviceGray",bitsPerComponent:Ee.bitsPerComponent,decodeParameters:"/Predictor "+Ee.predictor+" /Colors 1 /BitsPerComponent "+Ee.bitsPerComponent+" /Columns "+Ee.width,data:Ee.sMask};"filter"in Ee&&(ae.filter=Ee.filter),Re.call(this,ae)}if(Ee.colorSpace===qe.INDEXED){var $e=this.internal.newObject();ct({data:Ue(new Uint8Array(Ee.palette)),objectId:$e}),vt("endobj")}},T=function(){var Re=this.internal.collections.addImage_images;for(var Ee in Re)D.call(this,Re[Ee])},P=function(){var Re,Ee=this.internal.collections.addImage_images,vt=this.internal.write;for(var ct in Ee)vt("/I"+(Re=Ee[ct]).index,Re.objectId,"0","R")},M=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",T),this.internal.events.subscribe("putXobjectDict",P))},L=function(){var Re=this.internal.collections.addImage_images;return M.call(this),Re},$=function(){return Object.keys(this.internal.collections.addImage_images).length},re=function(Re){return"function"==typeof C["process"+Re.toUpperCase()]},ue=function(Re){return"object"===(0,V.A)(Re)&&1===Re.nodeType},ve=function(Re,Ee){if("IMG"===Re.nodeName&&Re.hasAttribute("src")){var vt=""+Re.getAttribute("src");if(0===vt.indexOf("data:image/"))return Or(unescape(vt).split("base64,").pop());var ct=C.loadFile(vt,!0);if(void 0!==ct)return ct}if("CANVAS"===Re.nodeName){if(0===Re.width||0===Re.height)throw new Error("Given canvas must have data. Canvas width: "+Re.width+", height: "+Re.height);var pn;switch(Ee){case"PNG":pn="image/png";break;case"WEBP":pn="image/webp";break;default:pn="image/jpeg"}return Or(Re.toDataURL(pn,1).split("base64,").pop())}},H=function(Re){var Ee=this.internal.collections.addImage_images;if(Ee)for(var vt in Ee)if(Re===Ee[vt].alias)return Ee[vt]},Qe=function(Re,Ee,vt){return Re||Ee||(Re=-96,Ee=-96),Re<0&&(Re=-1*vt.width*72/Re/this.internal.scaleFactor),Ee<0&&(Ee=-1*vt.height*72/Ee/this.internal.scaleFactor),0===Re&&(Re=Ee*vt.width/vt.height),0===Ee&&(Ee=Re*vt.height/vt.width),[Re,Ee]},De=function(Re,Ee,vt,ct,pn,rn){var bn=Qe.call(this,vt,ct,pn),Wt=this.internal.getCoordinateString,Sn=this.internal.getVerticalCoordinateString,wn=L.call(this);if(vt=bn[0],ct=bn[1],wn[pn.index]=pn,rn){rn*=Math.PI/180;var lr=Math.cos(rn),ae=Math.sin(rn),$e=function(bt){return bt.toFixed(4)},it=[$e(lr),$e(ae),$e(-1*ae),$e(lr),0,0,"cm"]}this.internal.write("q"),rn?(this.internal.write([1,"0","0",1,Wt(Re),Sn(Ee+ct),"cm"].join(" ")),this.internal.write(it.join(" ")),this.internal.write([Wt(vt),"0","0",Wt(ct),"0","0","cm"].join(" "))):this.internal.write([Wt(vt),"0","0",Wt(ct),Wt(Re),Sn(Ee+ct),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+pn.index+" Do"),this.internal.write("Q")},qe=C.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};C.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var ee=C.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},He=C.__addimage__.sHashCode=function(Re){var Ee,vt,ct=0;if("string"==typeof Re)for(vt=Re.length,Ee=0;Ee<vt;Ee++)ct=(ct<<5)-ct+Re.charCodeAt(Ee),ct|=0;else if(xt(Re))for(vt=Re.byteLength/2,Ee=0;Ee<vt;Ee++)ct=(ct<<5)-ct+Re[Ee],ct|=0;return ct},Ct=C.__addimage__.validateStringAsBase64=function(Re){(Re=Re||"").toString().trim();var Ee=!0;return 0===Re.length&&(Ee=!1),Re.length%4!=0&&(Ee=!1),!1===/^[A-Za-z0-9+/]+$/.test(Re.substr(0,Re.length-2))&&(Ee=!1),!1===/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(Re.substr(-2))&&(Ee=!1),Ee},Mt=C.__addimage__.extractImageFromDataUrl=function(Re){var Ee=(Re=Re||"").split("base64,"),vt=null;if(2===Ee.length){var ct=/^data:(\w*\/\w*);*(charset=(?!charset=)[\w=-]*)*;*$/.exec(Ee[0]);Array.isArray(ct)&&(vt={mimeType:ct[1],charset:ct[2],data:Ee[1]})}return vt},hn=C.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};C.__addimage__.isArrayBuffer=function(Re){return hn()&&Re instanceof ArrayBuffer};var xt=C.__addimage__.isArrayBufferView=function(Re){return hn()&&typeof Uint32Array<"u"&&(Re instanceof Int8Array||Re instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&Re instanceof Uint8ClampedArray||Re instanceof Int16Array||Re instanceof Uint16Array||Re instanceof Int32Array||Re instanceof Uint32Array||Re instanceof Float32Array||Re instanceof Float64Array)},Lt=C.__addimage__.binaryStringToUint8Array=function(Re){for(var Ee=Re.length,vt=new Uint8Array(Ee),ct=0;ct<Ee;ct++)vt[ct]=Re.charCodeAt(ct);return vt},Ue=C.__addimage__.arrayBufferToBinaryString=function(Re){for(var Ee="",vt=xt(Re)?Re:new Uint8Array(Re),ct=0;ct<vt.length;ct+=8192)Ee+=String.fromCharCode.apply(null,vt.subarray(ct,ct+8192));return Ee};C.addImage=function(){var Re,Ee,vt,ct,pn,rn,bn,Wt,Sn;if("number"==typeof arguments[1]?(Ee=g,vt=arguments[1],ct=arguments[2],pn=arguments[3],rn=arguments[4],bn=arguments[5],Wt=arguments[6],Sn=arguments[7]):(Ee=arguments[1],vt=arguments[2],ct=arguments[3],pn=arguments[4],rn=arguments[5],bn=arguments[6],Wt=arguments[7],Sn=arguments[8]),"object"===(0,V.A)(Re=arguments[0])&&!ue(Re)&&"imageData"in Re){var wn=Re;Re=wn.imageData,Ee=wn.format||Ee||g,vt=wn.x||vt||0,ct=wn.y||ct||0,pn=wn.w||wn.width||pn,rn=wn.h||wn.height||rn,bn=wn.alias||bn,Wt=wn.compression||Wt,Sn=wn.rotation||wn.angle||Sn}var lr=this.internal.getFilters();if(void 0===Wt&&-1!==lr.indexOf("FlateEncode")&&(Wt="SLOW"),isNaN(vt)||isNaN(ct))throw new Error("Invalid coordinates passed to jsPDF.addImage");M.call(this);var ae=an.call(this,Re,Ee,bn,Wt);return De.call(this,vt,ct,pn,rn,ae,Sn),this};var an=function(Re,Ee,vt,ct){var pn,rn,bn,Sn;if("string"==typeof Re&&E(Re)===g){Re=unescape(Re);var Wt=cn(Re,!1);(""!==Wt||void 0!==(Wt=C.loadFile(Re,!0)))&&(Re=Wt)}if(ue(Re)&&(Re=ve(Re,Ee)),Ee=E(Re,Ee),!re(Ee))throw new Error("addImage does not support files of type '"+Ee+"', please ensure that a plugin for '"+Ee+"' support is added.");if((null==(bn=vt)||0===bn.length)&&(vt="string"==typeof(Sn=Re)||xt(Sn)?He(Sn):xt(Sn.data)?He(Sn.data):null),(pn=H.call(this,vt))||(hn()&&(Re instanceof Uint8Array||"RGBA"===Ee||(rn=Re,Re=Lt(Re))),pn=this["process"+Ee.toUpperCase()](Re,$.call(this),vt,function(Sn){return Sn&&"string"==typeof Sn&&(Sn=Sn.toUpperCase()),Sn in C.image_compression?Sn:ee.NONE}(ct),rn)),!pn)throw new Error("An unknown error occurred whilst processing the image.");return pn},cn=C.__addimage__.convertBase64ToBinaryString=function(Re,Ee){var vt;Ee="boolean"!=typeof Ee||Ee;var ct,pn="";if("string"==typeof Re){ct=null!==(vt=Mt(Re))?vt.data:Re;try{pn=Or(ct)}catch(rn){if(Ee)throw Ct(ct)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+rn.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return pn};C.getImageProperties=function(Re){var Ee,vt,ct="";if(ue(Re)&&(Re=ve(Re)),"string"==typeof Re&&E(Re)===g&&(""===(ct=cn(Re,!1))&&(ct=C.loadFile(Re)||""),Re=ct),vt=E(Re),!re(vt))throw new Error("addImage does not support files of type '"+vt+"', please ensure that a plugin for '"+vt+"' support is added.");if(!hn()||Re instanceof Uint8Array||(Re=Lt(Re)),!(Ee=this["process"+vt.toUpperCase()](Re)))throw new Error("An unknown error occurred whilst processing the image");return Ee.fileType=vt,Ee}})(jr.API),
/**
         * @license
         * Copyright (c) 2014 Steven Spungin (TwelveTone LLC)  steven@twelvetone.tv
         *
         * Licensed under the MIT License.
         * http://opensource.org/licenses/mit-license
         */
C=jr.API,g=function(y){if(void 0!==y&&""!=y)return!0},jr.API.events.push(["addPage",function(y){this.internal.getPageInfo(y.pageNumber).pageContext.annotations=[]}]),C.events.push(["putPage",function(y){for(var E,D,T,P=this.internal.getCoordinateString,M=this.internal.getVerticalCoordinateString,L=this.internal.getPageInfoByObjId(y.objId),$=y.pageContext.annotations,re=!1,ue=0;ue<$.length&&!re;ue++)switch((E=$[ue]).type){case"link":(g(E.options.url)||g(E.options.pageNumber))&&(re=!0);break;case"reference":case"text":case"freetext":re=!0}if(0!=re){this.internal.write("/Annots [");for(var ve=0;ve<$.length;ve++){E=$[ve];var H=this.internal.pdfEscape,Qe=this.internal.getEncryptor(y.objId);switch(E.type){case"reference":this.internal.write(" "+E.object.objId+" 0 R ");break;case"text":var De=this.internal.newAdditionalObject(),qe=this.internal.newAdditionalObject(),ee=this.internal.getEncryptor(De.objId),He=E.title||"Note";T="<</Type /Annot /Subtype /Text "+(D="/Rect ["+P(E.bounds.x)+" "+M(E.bounds.y+E.bounds.h)+" "+P(E.bounds.x+E.bounds.w)+" "+M(E.bounds.y)+"] ")+"/Contents ("+H(ee(E.contents))+")",T+=" /Popup "+qe.objId+" 0 R",T+=" /P "+L.objId+" 0 R",T+=" /T ("+H(ee(He))+") >>",De.content=T;var Ct=De.objId+" 0 R";T="<</Type /Annot /Subtype /Popup "+(D="/Rect ["+P(E.bounds.x+30)+" "+M(E.bounds.y+E.bounds.h)+" "+P(E.bounds.x+E.bounds.w+30)+" "+M(E.bounds.y)+"] ")+" /Parent "+Ct,E.open&&(T+=" /Open true"),qe.content=T+=" >>",this.internal.write(De.objId,"0 R",qe.objId,"0 R");break;case"freetext":D="/Rect ["+P(E.bounds.x)+" "+M(E.bounds.y)+" "+P(E.bounds.x+E.bounds.w)+" "+M(E.bounds.y+E.bounds.h)+"] ";var Mt=E.color||"#000000";T="<</Type /Annot /Subtype /FreeText "+D+"/Contents ("+H(Qe(E.contents))+")",T+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+Mt+")",T+=" /Border [0 0 0]",this.internal.write(T+=" >>");break;case"link":if(E.options.name){var hn=this.annotations._nameMap[E.options.name];E.options.pageNumber=hn.page,E.options.top=hn.y}else E.options.top||(E.options.top=0);if(D="/Rect ["+E.finalBounds.x+" "+E.finalBounds.y+" "+E.finalBounds.w+" "+E.finalBounds.h+"] ",T="",E.options.url)T="<</Type /Annot /Subtype /Link "+D+"/Border [0 0 0] /A <</S /URI /URI ("+H(Qe(E.options.url))+") >>";else if(E.options.pageNumber)switch(T="<</Type /Annot /Subtype /Link "+D+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(E.options.pageNumber).objId+" 0 R",E.options.magFactor=E.options.magFactor||"XYZ",E.options.magFactor){case"Fit":T+=" /Fit]";break;case"FitH":T+=" /FitH "+E.options.top+"]";break;case"FitV":E.options.left=E.options.left||0,T+=" /FitV "+E.options.left+"]";break;default:var xt=M(E.options.top);E.options.left=E.options.left||0,void 0===E.options.zoom&&(E.options.zoom=0),T+=" /XYZ "+E.options.left+" "+xt+" "+E.options.zoom+"]"}""!=T&&this.internal.write(T+=" >>")}}this.internal.write("]")}}]),C.createAnnotation=function(y){var E=this.internal.getCurrentPageInfo();switch(y.type){case"link":this.link(y.bounds.x,y.bounds.y,y.bounds.w,y.bounds.h,y);break;case"text":case"freetext":E.pageContext.annotations.push(y)}},C.link=function(y,E,D,T,P){var M=this.internal.getCurrentPageInfo(),L=this.internal.getCoordinateString,$=this.internal.getVerticalCoordinateString;M.pageContext.annotations.push({finalBounds:{x:L(y),y:$(E),w:L(y+D),h:$(E+T)},options:P,type:"link"})},C.textWithLink=function(y,E,D,T){var P,M,L=this.getTextWidth(y),$=this.internal.getLineHeight()/this.internal.scaleFactor;if(void 0!==T.maxWidth){var re=this.splitTextToSize(y,M=T.maxWidth).length;P=Math.ceil($*re)}else M=L,P=$;return this.text(y,E,D,T),"center"===T.align&&(E-=L/2),"right"===T.align&&(E-=L),this.link(E,(D+=.2*$)-$,M,P,T),L},C.getTextWidth=function(y){var E=this.internal.getFontSize();return this.getStringUnitWidth(y)*E/this.internal.scaleFactor},
/**
         * @license
         * Copyright (c) 2017 Aras Abbasi
         *
         * Licensed under the MIT License.
         * http://opensource.org/licenses/mit-license
         */
function(C){var g={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},y={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},E={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},D=[1570,1571,1573,1575];C.__arabicParser__={};var T=C.__arabicParser__.isInArabicSubstitutionA=function(De){return void 0!==g[De.charCodeAt(0)]},P=C.__arabicParser__.isArabicLetter=function(De){return"string"==typeof De&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(De)},M=C.__arabicParser__.isArabicEndLetter=function(De){return P(De)&&T(De)&&g[De.charCodeAt(0)].length<=2},L=C.__arabicParser__.isArabicAlfLetter=function(De){return P(De)&&D.indexOf(De.charCodeAt(0))>=0};C.__arabicParser__.arabicLetterHasIsolatedForm=function(De){return P(De)&&T(De)&&g[De.charCodeAt(0)].length>=1};var $=C.__arabicParser__.arabicLetterHasFinalForm=function(De){return P(De)&&T(De)&&g[De.charCodeAt(0)].length>=2};C.__arabicParser__.arabicLetterHasInitialForm=function(De){return P(De)&&T(De)&&g[De.charCodeAt(0)].length>=3};var re=C.__arabicParser__.arabicLetterHasMedialForm=function(De){return P(De)&&T(De)&&4==g[De.charCodeAt(0)].length},ue=C.__arabicParser__.resolveLigatures=function(De){var qe=0,ee=y,He="",Ct=0;for(qe=0;qe<De.length;qe+=1)void 0!==ee[De.charCodeAt(qe)]?(Ct++,"number"==typeof(ee=ee[De.charCodeAt(qe)])&&(He+=String.fromCharCode(ee),ee=y,Ct=0),qe===De.length-1&&(ee=y,He+=De.charAt(qe-(Ct-1)),qe-=Ct-1,Ct=0)):(ee=y,He+=De.charAt(qe-Ct),qe-=Ct,Ct=0);return He};C.__arabicParser__.isArabicDiacritic=function(De){return void 0!==De&&void 0!==E[De.charCodeAt(0)]};var ve=C.__arabicParser__.getCorrectForm=function(De,qe,ee){return P(De)?!1===T(De)?-1:!$(De)||!P(qe)&&!P(ee)||!P(ee)&&M(qe)||M(De)&&!P(qe)||M(De)&&L(qe)||M(De)&&M(qe)?0:re(De)&&P(qe)&&!M(qe)&&P(ee)&&$(ee)?3:M(De)||!P(ee)?1:2:-1},H=function(De){var qe=0,ee=0,He=0,Ct="",Mt="",hn="",xt=(De=De||"").split("\\s+"),Lt=[];for(qe=0;qe<xt.length;qe+=1){for(Lt.push(""),ee=0;ee<xt[qe].length;ee+=1)Mt=xt[qe][ee-1],hn=xt[qe][ee+1],P(Ct=xt[qe][ee])?(He=ve(Ct,Mt,hn),Lt[qe]+=-1!==He?String.fromCharCode(g[Ct.charCodeAt(0)][He]):Ct):Lt[qe]+=Ct;Lt[qe]=ue(Lt[qe])}return Lt.join(" ")},Qe=C.__arabicParser__.processArabic=C.processArabic=function(){var De,qe="string"==typeof arguments[0]?arguments[0]:arguments[0].text,ee=[];if(Array.isArray(qe)){var He=0;for(ee=[],He=0;He<qe.length;He+=1)Array.isArray(qe[He])?ee.push([H(qe[He][0]),qe[He][1],qe[He][2]]):ee.push([H(qe[He])]);De=ee}else De=H(qe);return"string"==typeof arguments[0]?De:(arguments[0].text=De,arguments[0])};C.events.push(["preProcessText",Qe])}(jr.API),jr.API.autoPrint=function(C){var g;return"javascript"===((C=C||{}).variant=C.variant||"non-conform",C.variant)?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){g=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+g+" 0 R")})),this},
/**
         * @license
         * Copyright (c) 2014 Steven Spungin (TwelveTone LLC)  steven@twelvetone.tv
         *
         * Licensed under the MIT License.
         * http://opensource.org/licenses/mit-license
         */
function(C){var g=function(){var y=void 0;Object.defineProperty(this,"pdf",{get:function(){return y},set:function(M){y=M}});var E=150;Object.defineProperty(this,"width",{get:function(){return E},set:function(M){E=isNaN(M)||!1===Number.isInteger(M)||M<0?150:M,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=E+1)}});var D=300;Object.defineProperty(this,"height",{get:function(){return D},set:function(M){D=isNaN(M)||!1===Number.isInteger(M)||M<0?300:M,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=D+1)}});var T=[];Object.defineProperty(this,"childNodes",{get:function(){return T},set:function(M){T=M}});var P={};Object.defineProperty(this,"style",{get:function(){return P},set:function(M){P=M}}),Object.defineProperty(this,"parentNode",{})};g.prototype.getContext=function(y,E){var D;if("2d"!==(y=y||"2d"))return null;for(D in E)this.pdf.context2d.hasOwnProperty(D)&&(this.pdf.context2d[D]=E[D]);return this.pdf.context2d._canvas=this,this.pdf.context2d},g.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},C.events.push(["initialized",function(){this.canvas=new g,this.canvas.pdf=this}])}(jr.API),function(C){var g={left:0,top:0,bottom:0,right:0},y=!1,E=function(){void 0===this.internal.__cell__&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},g),this.internal.__cell__.margins.width=this.getPageWidth(),D.call(this))},D=function(){this.internal.__cell__.lastCell=new T,this.internal.__cell__.pages=1},T=function(){var L=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return L},set:function(De){L=De}});var $=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return $},set:function(De){$=De}});var re=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return re},set:function(De){re=De}});var ue=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return ue},set:function(De){ue=De}});var ve=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return ve},set:function(De){ve=De}});var H=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return H},set:function(De){H=De}});var Qe=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return Qe},set:function(De){Qe=De}}),this};T.prototype.clone=function(){return new T(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},T.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},C.setHeaderFunction=function(L){return E.call(this),this.internal.__cell__.headerFunction="function"==typeof L?L:void 0,this},C.getTextDimensions=function(L,$){E.call(this);var re=($=$||{}).fontSize||this.getFontSize(),ue=$.font||this.getFont(),ve=$.scaleFactor||this.internal.scaleFactor,H=0,Qe=0,De=0,qe=this;if(!Array.isArray(L)&&"string"!=typeof L){if("number"!=typeof L)throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");L=String(L)}var ee=$.maxWidth;ee>0?"string"==typeof L?L=this.splitTextToSize(L,ee):"[object Array]"===Object.prototype.toString.call(L)&&(L=L.reduce(function(Ct,Mt){return Ct.concat(qe.splitTextToSize(Mt,ee))},[])):L=Array.isArray(L)?L:[L];for(var He=0;He<L.length;He++)H<(De=this.getStringUnitWidth(L[He],{font:ue})*re)&&(H=De);return 0!==H&&(Qe=L.length),{w:H/=ve,h:Math.max((Qe*re*this.getLineHeightFactor()-re*(this.getLineHeightFactor()-1))/ve,0)}},C.cellAddPage=function(){E.call(this),this.addPage();var L=this.internal.__cell__.margins||g;return this.internal.__cell__.lastCell=new T(L.left,L.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var P=C.cell=function(){var L;L=arguments[0]instanceof T?arguments[0]:new T(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),E.call(this);var $=this.internal.__cell__.lastCell,re=this.internal.__cell__.padding,ue=this.internal.__cell__.margins||g,ve=this.internal.__cell__.tableHeaderRow,H=this.internal.__cell__.printHeaders;return void 0!==$.lineNumber&&($.lineNumber===L.lineNumber?(L.x=($.x||0)+($.width||0),L.y=$.y||0):$.y+$.height+L.height+ue.bottom>this.getPageHeight()?(this.cellAddPage(),L.y=ue.top,H&&ve&&(this.printHeaderRow(L.lineNumber,!0),L.y+=ve[0].height)):L.y=$.y+$.height||L.y),void 0!==L.text[0]&&(this.rect(L.x,L.y,L.width,L.height,!0===y?"FD":void 0),"right"===L.align?this.text(L.text,L.x+L.width-re,L.y+re,{align:"right",baseline:"top"}):"center"===L.align?this.text(L.text,L.x+L.width/2,L.y+re,{align:"center",baseline:"top",maxWidth:L.width-re-re}):this.text(L.text,L.x+re,L.y+re,{align:"left",baseline:"top",maxWidth:L.width-re-re})),this.internal.__cell__.lastCell=L,this};C.table=function(L,$,re,ue,ve){if(E.call(this),!re)throw new Error("No data for PDF table.");var H,Qe,De,qe,ee=[],He=[],Ct=[],Mt={},hn={},xt=[],Lt=[],Ue=(ve=ve||{}).autoSize||!1,an=!1!==ve.printHeaders,cn=ve.css&&void 0!==ve.css["font-size"]?16*ve.css["font-size"]:ve.fontSize||12,Re=ve.margins||Object.assign({width:this.getPageWidth()},g),Ee="number"==typeof ve.padding?ve.padding:3,vt=ve.headerBackgroundColor||"#c8c8c8",ct=ve.headerTextColor||"#000";if(D.call(this),this.internal.__cell__.printHeaders=an,this.internal.__cell__.margins=Re,this.internal.__cell__.table_font_size=cn,this.internal.__cell__.padding=Ee,this.internal.__cell__.headerBackgroundColor=vt,this.internal.__cell__.headerTextColor=ct,this.setFontSize(cn),null==ue)He=ee=Object.keys(re[0]),Ct=ee.map(function(){return"left"});else if(Array.isArray(ue)&&"object"===(0,V.A)(ue[0]))for(ee=ue.map(function(wn){return wn.name}),He=ue.map(function(wn){return wn.prompt||wn.name||""}),Ct=ue.map(function(wn){return wn.align||"left"}),H=0;H<ue.length;H+=1)hn[ue[H].name]=ue[H].width*(19.049976/25.4);else Array.isArray(ue)&&"string"==typeof ue[0]&&(He=ee=ue,Ct=ee.map(function(){return"left"}));if(Ue||Array.isArray(ue)&&"string"==typeof ue[0])for(H=0;H<ee.length;H+=1){for(Mt[qe=ee[H]]=re.map(function(wn){return wn[qe]}),this.setFont(void 0,"bold"),xt.push(this.getTextDimensions(He[H],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),Qe=Mt[qe],this.setFont(void 0,"normal"),De=0;De<Qe.length;De+=1)xt.push(this.getTextDimensions(Qe[De],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);hn[qe]=Math.max.apply(null,xt)+Ee+Ee,xt=[]}if(an){var pn={};for(H=0;H<ee.length;H+=1)pn[ee[H]]={},pn[ee[H]].text=He[H],pn[ee[H]].align=Ct[H];var rn=M.call(this,pn,hn);Lt=ee.map(function(wn){return new T(L,$,hn[wn],rn,pn[wn].text,void 0,pn[wn].align)}),this.setTableHeaderRow(Lt),this.printHeaderRow(1,!1)}var bn=ue.reduce(function(wn,lr){return wn[lr.name]=lr.align,wn},{});for(H=0;H<re.length;H+=1){"rowStart"in ve&&ve.rowStart instanceof Function&&ve.rowStart({row:H,data:re[H]},this);var Wt=M.call(this,re[H],hn);for(De=0;De<ee.length;De+=1){var Sn=re[H][ee[De]];"cellStart"in ve&&ve.cellStart instanceof Function&&ve.cellStart({row:H,col:De,data:Sn},this),P.call(this,new T(L,$,hn[ee[De]],Wt,Sn,H+2,bn[ee[De]]))}}return this.internal.__cell__.table_x=L,this.internal.__cell__.table_y=$,this};var M=function(L,$){var re=this.internal.__cell__.padding,ue=this.internal.__cell__.table_font_size,ve=this.internal.scaleFactor;return Object.keys(L).map(function(H){var Qe=L[H];return this.splitTextToSize(Qe.hasOwnProperty("text")?Qe.text:Qe,$[H]-re-re)},this).map(function(H){return this.getLineHeightFactor()*H.length*ue/ve+re+re},this).reduce(function(H,Qe){return Math.max(H,Qe)},0)};C.setTableHeaderRow=function(L){E.call(this),this.internal.__cell__.tableHeaderRow=L},C.printHeaderRow=function(L,$){if(E.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var re;if(y=!0,"function"==typeof this.internal.__cell__.headerFunction){var ue=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new T(ue[0],ue[1],ue[2],ue[3],void 0,-1)}this.setFont(void 0,"bold");for(var ve=[],H=0;H<this.internal.__cell__.tableHeaderRow.length;H+=1){re=this.internal.__cell__.tableHeaderRow[H].clone(),$&&(re.y=this.internal.__cell__.margins.top||0,ve.push(re)),re.lineNumber=L;var Qe=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),P.call(this,re),this.setTextColor(Qe)}ve.length>0&&this.setTableHeaderRow(ve),this.setFont(void 0,"normal"),y=!1}}(jr.API);var Ap={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},Od=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],kh=dp(Od),qu=[100,200,300,400,500,600,700,800,900],Tf=dp(qu);function iu(C){var T,g=C.family.replace(/"|'/g,"").toLowerCase(),y=Ap[T=(T=C.style)||"normal"]?T:"normal",E=function(T){return T?"number"==typeof T?T>=100&&T<=900&&T%100==0?T:400:/^\d00$/.test(T)?parseInt(T):"bold"===T?700:400:400}(C.weight),D=function(T){return"number"==typeof kh[T=T||"normal"]?T:"normal"}(C.stretch);return{family:g,style:y,weight:E,stretch:D,src:C.src||[],ref:C.ref||{name:g,style:[D,y,E].join(" ")}}}function JA(C,g,y,E){var D;for(D=y;D>=0&&D<g.length;D+=E)if(C[g[D]])return C[g[D]];for(D=y;D>=0&&D<g.length;D-=E)if(C[g[D]])return C[g[D]]}var Pn={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},Tc={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function An(C){return[C.stretch,C.style,C.weight,C.family].join(" ")}function Bc(C){return C.trimLeft()}function Ud(C,g){for(var y=0;y<C.length;){if(C.charAt(y)===g)return[C.substring(0,y),C.substring(y+1)];y+=1}return null}function Vd(C){var g=C.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return null===g?null:[g[0],C.substring(g[0].length)]}var Ol,Rh,xu,Go=["times"];(function(C){var g,y,E,D,T,P,M,L,$,re=function(ae){return this.isStrokeTransparent=(ae=ae||{}).isStrokeTransparent||!1,this.strokeOpacity=ae.strokeOpacity||1,this.strokeStyle=ae.strokeStyle||"#000000",this.fillStyle=ae.fillStyle||"#000000",this.isFillTransparent=ae.isFillTransparent||!1,this.fillOpacity=ae.fillOpacity||1,this.font=ae.font||"10px sans-serif",this.textBaseline=ae.textBaseline||"alphabetic",this.textAlign=ae.textAlign||"left",this.lineWidth=ae.lineWidth||1,this.lineJoin=ae.lineJoin||"miter",this.lineCap=ae.lineCap||"butt",this.path=ae.path||[],this.transform=void 0!==ae.transform?ae.transform.clone():new L,this.globalCompositeOperation=ae.globalCompositeOperation||"normal",this.globalAlpha=ae.globalAlpha||1,this.clip_path=ae.clip_path||[],this.currentPoint=ae.currentPoint||new P,this.miterLimit=ae.miterLimit||10,this.lastPoint=ae.lastPoint||new P,this.lineDashOffset=ae.lineDashOffset||0,this.lineDash=ae.lineDash||[],this.margin=ae.margin||[0,0,0,0],this.prevPageLastElemOffset=ae.prevPageLastElemOffset||0,this.ignoreClearRect="boolean"!=typeof ae.ignoreClearRect||ae.ignoreClearRect,this};C.events.push(["initialized",function(){this.context2d=new ue(this),g=this.internal.f2,y=this.internal.getCoordinateString,E=this.internal.getVerticalCoordinateString,D=this.internal.getHorizontalCoordinate,T=this.internal.getVerticalCoordinate,P=this.internal.Point,M=this.internal.Rectangle,L=this.internal.Matrix,$=new re}]);var ue=function(ae){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var $e=ae;Object.defineProperty(this,"pdf",{get:function(){return $e}});var it=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return it},set:function(vn){it=!!vn}});var bt=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return bt},set:function(vn){bt=!!vn}});var St=0;Object.defineProperty(this,"posX",{get:function(){return St},set:function(vn){isNaN(vn)||(St=vn)}});var Kt=0;Object.defineProperty(this,"posY",{get:function(){return Kt},set:function(vn){isNaN(vn)||(Kt=vn)}}),Object.defineProperty(this,"margin",{get:function(){return $.margin},set:function(vn){var We;"number"==typeof vn?We=[vn,vn,vn,vn]:((We=new Array(4))[0]=vn[0],We[1]=vn.length>=2?vn[1]:We[0],We[2]=vn.length>=3?vn[2]:We[0],We[3]=vn.length>=4?vn[3]:We[1]),$.margin=We}});var qt=!1;Object.defineProperty(this,"autoPaging",{get:function(){return qt},set:function(vn){qt=vn}});var Jt=0;Object.defineProperty(this,"lastBreak",{get:function(){return Jt},set:function(vn){Jt=vn}});var Xn=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Xn},set:function(vn){Xn=vn}}),Object.defineProperty(this,"ctx",{get:function(){return $},set:function(vn){vn instanceof re&&($=vn)}}),Object.defineProperty(this,"path",{get:function(){return $.path},set:function(vn){$.path=vn}});var Wn=[];Object.defineProperty(this,"ctxStack",{get:function(){return Wn},set:function(vn){Wn=vn}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(vn){var We;We=ve(vn),this.ctx.fillStyle=We.style,this.ctx.isFillTransparent=0===We.a,this.ctx.fillOpacity=We.a,this.pdf.setFillColor(We.r,We.g,We.b,{a:We.a}),this.pdf.setTextColor(We.r,We.g,We.b,{a:We.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(vn){var We=ve(vn);this.ctx.strokeStyle=We.style,this.ctx.isStrokeTransparent=0===We.a,this.ctx.strokeOpacity=We.a,0===We.a?this.pdf.setDrawColor(255,255,255):this.pdf.setDrawColor(We.r,We.g,We.b)}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(vn){-1!==["butt","round","square"].indexOf(vn)&&(this.ctx.lineCap=vn,this.pdf.setLineCap(vn))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(vn){isNaN(vn)||(this.ctx.lineWidth=vn,this.pdf.setLineWidth(vn))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(vn){-1!==["bevel","round","miter"].indexOf(vn)&&(this.ctx.lineJoin=vn,this.pdf.setLineJoin(vn))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(vn){isNaN(vn)||(this.ctx.miterLimit=vn,this.pdf.setMiterLimit(vn))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(vn){this.ctx.textBaseline=vn}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(vn){-1!==["right","end","center","left","start"].indexOf(vn)&&(this.ctx.textAlign=vn)}});var gr=null,ui=null;Object.defineProperty(this,"fontFaces",{get:function(){return ui},set:function(vn){gr=null,ui=vn}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(vn){var We;if(this.ctx.font=vn,null!==(We=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(vn))){var ai=We[1],Qr=We[3],jn=We[4],nr=We[6],_r=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(jn)[2];jn=Math.floor("px"===_r?parseFloat(jn)*this.pdf.internal.scaleFactor:"em"===_r?parseFloat(jn)*this.pdf.getFontSize():parseFloat(jn)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(jn);var ir=function(fi){var Ti,Ar,uo=[],pi=fi.trim();if(""===pi)return Go;if(pi in Tc)return[Tc[pi]];for(;""!==pi;){switch(Ar=null,Ti=(pi=Bc(pi)).charAt(0)){case'"':case"'":Ar=Ud(pi.substring(1),Ti);break;default:Ar=Vd(pi)}if(null===Ar||(uo.push(Ar[0]),""!==(pi=Bc(Ar[1]))&&","!==pi.charAt(0)))return Go;pi=pi.replace(/^,/,"")}return uo}(nr);if(this.fontFaces){var Wr=function _A(C,g,y){for(var E=(y=y||{}).defaultFontFamily||"times",D=Object.assign({},Pn,y.genericFontFamilies||{}),T=null,P=null,M=0;M<g.length;++M)if(D[(T=iu(g[M])).family]&&(T.family=D[T.family]),C.hasOwnProperty(T.family)){P=C[T.family];break}if(!(P=P||C[E]))throw new Error("Could not find a font-family for the rule '"+An(T)+"' and default family '"+E+"'.");if(P=function(L,$){if($[L])return $[L];var re=kh[L],ve=JA($,Od,re,re<=kh.normal?-1:1);if(!ve)throw new Error("Could not find a matching font-stretch value for "+L);return ve}(T.stretch,P),P=function(L,$){if($[L])return $[L];for(var re=Ap[L],ue=0;ue<re.length;++ue)if($[re[ue]])return $[re[ue]];throw new Error("Could not find a matching font-style for "+L)}(T.style,P),!(P=function(L,$){if($[L])return $[L];if(400===L&&$[500])return $[500];if(500===L&&$[400])return $[400];var ue=JA($,qu,Tf[L],L<400?-1:1);if(!ue)throw new Error("Could not find a matching font-weight for value "+L);return ue}(T.weight,P)))throw new Error("Failed to resolve a font for the rule '"+An(T)+"'.");return P}(function Dr(vn,We){if(null===gr){var ai=(Qr=vn.getFontList(),jn=[],Object.keys(Qr).forEach(function(nr){Qr[nr].forEach(function(_r){var ir=null;switch(_r){case"bold":ir={family:nr,weight:"bold"};break;case"italic":ir={family:nr,style:"italic"};break;case"bolditalic":ir={family:nr,weight:"bold",style:"italic"};break;case"":case"normal":ir={family:nr}}null!==ir&&(ir.ref={name:nr,style:_r},jn.push(ir))})}),jn);gr=function(Qr){for(var jn={},nr=0;nr<Qr.length;++nr){var _r=iu(Qr[nr]),ir=_r.family,Wr=_r.stretch,Si=_r.style,Mi=_r.weight;jn[ir]=jn[ir]||{},jn[ir][Wr]=jn[ir][Wr]||{},jn[ir][Wr][Si]=jn[ir][Wr][Si]||{},jn[ir][Wr][Si][Mi]=_r}return jn}(ai.concat(We))}var Qr,jn;return gr}(this.pdf,this.fontFaces),ir.map(function(fi){return{family:fi,stretch:"normal",weight:Qr,style:ai}}));this.pdf.setFont(Wr.ref.name,Wr.ref.style)}else{var Si="";("bold"===Qr||parseInt(Qr,10)>=700||"bold"===ai)&&(Si="bold"),"italic"===ai&&(Si+="italic"),0===Si.length&&(Si="normal");for(var Mi="",ji={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Fi=0;Fi<ir.length;Fi++){if(void 0!==this.pdf.internal.getFont(ir[Fi],Si,{noFallback:!0,disableWarning:!0})){Mi=ir[Fi];break}if("bolditalic"===Si&&void 0!==this.pdf.internal.getFont(ir[Fi],"bold",{noFallback:!0,disableWarning:!0}))Mi=ir[Fi],Si="bold";else if(void 0!==this.pdf.internal.getFont(ir[Fi],"normal",{noFallback:!0,disableWarning:!0})){Mi=ir[Fi],Si="normal";break}}if(""===Mi)for(var Vo=0;Vo<ir.length;Vo++)if(ji[ir[Vo]]){Mi=ji[ir[Vo]];break}this.pdf.setFont(Mi=""===Mi?"Times":Mi,Si)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(vn){this.ctx.globalCompositeOperation=vn}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(vn){this.ctx.globalAlpha=vn}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(vn){this.ctx.lineDashOffset=vn,lr.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(vn){this.ctx.lineDash=vn,lr.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(vn){this.ctx.ignoreClearRect=!!vn}})};ue.prototype.setLineDash=function(ae){this.lineDash=ae},ue.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},ue.prototype.fill=function(){Mt.call(this,"fill",!1)},ue.prototype.stroke=function(){Mt.call(this,"stroke",!1)},ue.prototype.beginPath=function(){this.path=[{type:"begin"}]},ue.prototype.moveTo=function(ae,$e){if(isNaN(ae)||isNaN($e))throw Xr.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var it=this.ctx.transform.applyToPoint(new P(ae,$e));this.path.push({type:"mt",x:it.x,y:it.y}),this.ctx.lastPoint=new P(ae,$e)},ue.prototype.closePath=function(){var ae=new P(0,0),$e=0;for($e=this.path.length-1;-1!==$e;$e--)if("begin"===this.path[$e].type&&"object"===(0,V.A)(this.path[$e+1])&&"number"==typeof this.path[$e+1].x){ae=new P(this.path[$e+1].x,this.path[$e+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new P(ae.x,ae.y)},ue.prototype.lineTo=function(ae,$e){if(isNaN(ae)||isNaN($e))throw Xr.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var it=this.ctx.transform.applyToPoint(new P(ae,$e));this.path.push({type:"lt",x:it.x,y:it.y}),this.ctx.lastPoint=new P(it.x,it.y)},ue.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),Mt.call(this,null,!0)},ue.prototype.quadraticCurveTo=function(ae,$e,it,bt){if(isNaN(it)||isNaN(bt)||isNaN(ae)||isNaN($e))throw Xr.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var St=this.ctx.transform.applyToPoint(new P(it,bt)),Kt=this.ctx.transform.applyToPoint(new P(ae,$e));this.path.push({type:"qct",x1:Kt.x,y1:Kt.y,x:St.x,y:St.y}),this.ctx.lastPoint=new P(St.x,St.y)},ue.prototype.bezierCurveTo=function(ae,$e,it,bt,St,Kt){if(isNaN(St)||isNaN(Kt)||isNaN(ae)||isNaN($e)||isNaN(it)||isNaN(bt))throw Xr.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var qt=this.ctx.transform.applyToPoint(new P(St,Kt)),Jt=this.ctx.transform.applyToPoint(new P(ae,$e)),Xn=this.ctx.transform.applyToPoint(new P(it,bt));this.path.push({type:"bct",x1:Jt.x,y1:Jt.y,x2:Xn.x,y2:Xn.y,x:qt.x,y:qt.y}),this.ctx.lastPoint=new P(qt.x,qt.y)},ue.prototype.arc=function(ae,$e,it,bt,St,Kt){if(isNaN(ae)||isNaN($e)||isNaN(it)||isNaN(bt)||isNaN(St))throw Xr.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(Kt=!!Kt,!this.ctx.transform.isIdentity){var qt=this.ctx.transform.applyToPoint(new P(ae,$e));ae=qt.x,$e=qt.y;var Jt=this.ctx.transform.applyToPoint(new P(0,it)),Xn=this.ctx.transform.applyToPoint(new P(0,0));it=Math.sqrt(Math.pow(Jt.x-Xn.x,2)+Math.pow(Jt.y-Xn.y,2))}Math.abs(St-bt)>=2*Math.PI&&(bt=0,St=2*Math.PI),this.path.push({type:"arc",x:ae,y:$e,radius:it,startAngle:bt,endAngle:St,counterclockwise:Kt})},ue.prototype.arcTo=function(ae,$e,it,bt,St){throw new Error("arcTo not implemented.")},ue.prototype.rect=function(ae,$e,it,bt){if(isNaN(ae)||isNaN($e)||isNaN(it)||isNaN(bt))throw Xr.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(ae,$e),this.lineTo(ae+it,$e),this.lineTo(ae+it,$e+bt),this.lineTo(ae,$e+bt),this.lineTo(ae,$e),this.lineTo(ae+it,$e),this.lineTo(ae,$e)},ue.prototype.fillRect=function(ae,$e,it,bt){if(isNaN(ae)||isNaN($e)||isNaN(it)||isNaN(bt))throw Xr.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!H.call(this)){var St={};"butt"!==this.lineCap&&(St.lineCap=this.lineCap,this.lineCap="butt"),"miter"!==this.lineJoin&&(St.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(ae,$e,it,bt),this.fill(),St.hasOwnProperty("lineCap")&&(this.lineCap=St.lineCap),St.hasOwnProperty("lineJoin")&&(this.lineJoin=St.lineJoin)}},ue.prototype.strokeRect=function(ae,$e,it,bt){if(isNaN(ae)||isNaN($e)||isNaN(it)||isNaN(bt))throw Xr.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");Qe.call(this)||(this.beginPath(),this.rect(ae,$e,it,bt),this.stroke())},ue.prototype.clearRect=function(ae,$e,it,bt){if(isNaN(ae)||isNaN($e)||isNaN(it)||isNaN(bt))throw Xr.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(ae,$e,it,bt))},ue.prototype.save=function(ae){ae="boolean"!=typeof ae||ae;for(var $e=this.pdf.internal.getCurrentPageInfo().pageNumber,it=0;it<this.pdf.internal.getNumberOfPages();it++)this.pdf.setPage(it+1),this.pdf.internal.out("q");if(this.pdf.setPage($e),ae){this.ctx.fontSize=this.pdf.internal.getFontSize();var bt=new re(this.ctx);this.ctxStack.push(this.ctx),this.ctx=bt}},ue.prototype.restore=function(ae){ae="boolean"!=typeof ae||ae;for(var $e=this.pdf.internal.getCurrentPageInfo().pageNumber,it=0;it<this.pdf.internal.getNumberOfPages();it++)this.pdf.setPage(it+1),this.pdf.internal.out("Q");this.pdf.setPage($e),ae&&0!==this.ctxStack.length&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},ue.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var ve=function(ae){var $e,it,bt,St;if(!0===ae.isCanvasGradient&&(ae=ae.getColor()),!ae)return{r:0,g:0,b:0,a:0,style:ae};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(ae))$e=0,it=0,bt=0,St=0;else{var Kt=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(ae);if(null!==Kt)$e=parseInt(Kt[1]),it=parseInt(Kt[2]),bt=parseInt(Kt[3]),St=1;else if(null!==(Kt=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(ae)))$e=parseInt(Kt[1]),it=parseInt(Kt[2]),bt=parseInt(Kt[3]),St=parseFloat(Kt[4]);else{if(St=1,"string"==typeof ae&&"#"!==ae.charAt(0)){var qt=new Rd(ae);ae=qt.ok?qt.toHex():"#000000"}4===ae.length?($e=ae.substring(1,2),$e+=$e,it=ae.substring(2,3),it+=it,bt=ae.substring(3,4),bt+=bt):($e=ae.substring(1,3),it=ae.substring(3,5),bt=ae.substring(5,7)),$e=parseInt($e,16),it=parseInt(it,16),bt=parseInt(bt,16)}}return{r:$e,g:it,b:bt,a:St,style:ae}},H=function(){return this.ctx.isFillTransparent||0==this.globalAlpha},Qe=function(){return!(!this.ctx.isStrokeTransparent&&0!=this.globalAlpha)};ue.prototype.fillText=function(ae,$e,it,bt){if(isNaN($e)||isNaN(it)||"string"!=typeof ae)throw Xr.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(bt=isNaN(bt)?void 0:bt,!H.call(this)){var St=Wt(this.ctx.transform.rotation);Ee.call(this,{text:ae,x:$e,y:it,scale:this.ctx.transform.scaleX,angle:St,align:this.textAlign,maxWidth:bt})}},ue.prototype.strokeText=function(ae,$e,it,bt){if(isNaN($e)||isNaN(it)||"string"!=typeof ae)throw Xr.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!Qe.call(this)){bt=isNaN(bt)?void 0:bt;var St=Wt(this.ctx.transform.rotation);Ee.call(this,{text:ae,x:$e,y:it,scale:this.ctx.transform.scaleX,renderingMode:"stroke",angle:St,align:this.textAlign,maxWidth:bt})}},ue.prototype.measureText=function(ae){if("string"!=typeof ae)throw Xr.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var $e=this.pdf,it=this.pdf.internal.scaleFactor,bt=$e.internal.getFontSize(),St=$e.getStringUnitWidth(ae)*bt/$e.internal.scaleFactor;return new function(qt){var Jt=(qt=qt||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return Jt}}),this}({width:St*=Math.round(96*it/72*1e4)/1e4})},ue.prototype.scale=function(ae,$e){if(isNaN(ae)||isNaN($e))throw Xr.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var it=new L(ae,0,0,$e,0,0);this.ctx.transform=this.ctx.transform.multiply(it)},ue.prototype.rotate=function(ae){if(isNaN(ae))throw Xr.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var $e=new L(Math.cos(ae),Math.sin(ae),-Math.sin(ae),Math.cos(ae),0,0);this.ctx.transform=this.ctx.transform.multiply($e)},ue.prototype.translate=function(ae,$e){if(isNaN(ae)||isNaN($e))throw Xr.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var it=new L(1,0,0,1,ae,$e);this.ctx.transform=this.ctx.transform.multiply(it)},ue.prototype.transform=function(ae,$e,it,bt,St,Kt){if(isNaN(ae)||isNaN($e)||isNaN(it)||isNaN(bt)||isNaN(St)||isNaN(Kt))throw Xr.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var qt=new L(ae,$e,it,bt,St,Kt);this.ctx.transform=this.ctx.transform.multiply(qt)},ue.prototype.setTransform=function(ae,$e,it,bt,St,Kt){ae=isNaN(ae)?1:ae,$e=isNaN($e)?0:$e,it=isNaN(it)?0:it,bt=isNaN(bt)?1:bt,St=isNaN(St)?0:St,Kt=isNaN(Kt)?0:Kt,this.ctx.transform=new L(ae,$e,it,bt,St,Kt)};var De=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};ue.prototype.drawImage=function(ae,$e,it,bt,St,Kt,qt,Jt,Xn){var Wn=this.pdf.getImageProperties(ae),gr=1,Dr=1,ui=1,vn=1;void 0!==bt&&void 0!==Jt&&(ui=Jt/bt,vn=Xn/St,gr=Wn.width/bt*Jt/bt,Dr=Wn.height/St*Xn/St),void 0===Kt&&(Kt=$e,qt=it,$e=0,it=0),void 0!==bt&&void 0===Jt&&(Jt=bt,Xn=St),void 0===bt&&void 0===Jt&&(Jt=Wn.width,Xn=Wn.height);for(var We,ai=this.ctx.transform.decompose(),Qr=Wt(ai.rotate.shx),jn=new L,nr=(jn=(jn=(jn=jn.multiply(ai.translate)).multiply(ai.skew)).multiply(ai.scale)).applyToRectangle(new M(Kt-$e*ui,qt-it*vn,bt*gr,St*Dr)),_r=qe.call(this,nr),ir=[],Wr=0;Wr<_r.length;Wr+=1)-1===ir.indexOf(_r[Wr])&&ir.push(_r[Wr]);if(Ct(ir),this.autoPaging)for(var Si=ir[0],Mi=ir[ir.length-1],ji=Si;ji<Mi+1;ji++){this.pdf.setPage(ji);var Fi=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Vo=1===ji?this.posY+this.margin[0]:this.margin[0],Ti=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Ar=1===ji?0:this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2]+(ji-2)*Ti;if(0!==this.ctx.clip_path.length){var uo=this.path;We=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=He(We,this.posX+this.margin[3],-Ar+Vo+this.ctx.prevPageLastElemOffset),hn.call(this,"fill",!0),this.path=uo}var pi=JSON.parse(JSON.stringify(nr));pi=He([pi],this.posX+this.margin[3],-Ar+Vo+this.ctx.prevPageLastElemOffset)[0];var ml=(ji>Si||ji<Mi)&&De.call(this);ml&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Fi,Ti,null).clip().discardPath()),this.pdf.addImage(ae,"JPEG",pi.x,pi.y,pi.w,pi.h,null,null,Qr),ml&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(ae,"JPEG",nr.x,nr.y,nr.w,nr.h,null,null,Qr)};var qe=function(ae,$e,it){var bt=[];$e=$e||this.pdf.internal.pageSize.width,it=it||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var St=this.posY+this.ctx.prevPageLastElemOffset;switch(ae.type){default:case"mt":case"lt":bt.push(Math.floor((ae.y+St)/it)+1);break;case"arc":bt.push(Math.floor((ae.y+St-ae.radius)/it)+1),bt.push(Math.floor((ae.y+St+ae.radius)/it)+1);break;case"qct":var Kt=Sn(this.ctx.lastPoint.x,this.ctx.lastPoint.y,ae.x1,ae.y1,ae.x,ae.y);bt.push(Math.floor((Kt.y+St)/it)+1),bt.push(Math.floor((Kt.y+Kt.h+St)/it)+1);break;case"bct":var qt=wn(this.ctx.lastPoint.x,this.ctx.lastPoint.y,ae.x1,ae.y1,ae.x2,ae.y2,ae.x,ae.y);bt.push(Math.floor((qt.y+St)/it)+1),bt.push(Math.floor((qt.y+qt.h+St)/it)+1);break;case"rect":bt.push(Math.floor((ae.y+St)/it)+1),bt.push(Math.floor((ae.y+ae.h+St)/it)+1)}for(var Jt=0;Jt<bt.length;Jt+=1)for(;this.pdf.internal.getNumberOfPages()<bt[Jt];)ee.call(this);return bt},ee=function(){var ae=this.fillStyle,$e=this.strokeStyle,it=this.font,bt=this.lineCap,St=this.lineWidth,Kt=this.lineJoin;this.pdf.addPage(),this.fillStyle=ae,this.strokeStyle=$e,this.font=it,this.lineCap=bt,this.lineWidth=St,this.lineJoin=Kt},He=function(ae,$e,it){for(var bt=0;bt<ae.length;bt++)switch(ae[bt].type){case"bct":ae[bt].x2+=$e,ae[bt].y2+=it;case"qct":ae[bt].x1+=$e,ae[bt].y1+=it;default:ae[bt].x+=$e,ae[bt].y+=it}return ae},Ct=function(ae){return ae.sort(function($e,it){return $e-it})},Mt=function(ae,$e){for(var it,bt,St=this.fillStyle,Kt=this.strokeStyle,qt=this.lineCap,Jt=this.lineWidth,Xn=Math.abs(Jt*this.ctx.transform.scaleX),Wn=this.lineJoin,gr=JSON.parse(JSON.stringify(this.path)),Dr=JSON.parse(JSON.stringify(this.path)),ui=[],vn=0;vn<Dr.length;vn++)if(void 0!==Dr[vn].x)for(var We=qe.call(this,Dr[vn]),ai=0;ai<We.length;ai+=1)-1===ui.indexOf(We[ai])&&ui.push(We[ai]);for(var Qr=0;Qr<ui.length;Qr++)for(;this.pdf.internal.getNumberOfPages()<ui[Qr];)ee.call(this);if(Ct(ui),this.autoPaging)for(var jn=ui[0],nr=ui[ui.length-1],_r=jn;_r<nr+1;_r++){this.pdf.setPage(_r),this.fillStyle=St,this.strokeStyle=Kt,this.lineCap=qt,this.lineWidth=Xn,this.lineJoin=Wn;var ir=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Wr=1===_r?this.posY+this.margin[0]:this.margin[0],Mi=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],ji=1===_r?0:this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2]+(_r-2)*Mi;if(0!==this.ctx.clip_path.length){var Fi=this.path;it=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=He(it,this.posX+this.margin[3],-ji+Wr+this.ctx.prevPageLastElemOffset),hn.call(this,ae,!0),this.path=Fi}if(bt=JSON.parse(JSON.stringify(gr)),this.path=He(bt,this.posX+this.margin[3],-ji+Wr+this.ctx.prevPageLastElemOffset),!1===$e||0===_r){var Vo=(_r>jn||_r<nr)&&De.call(this);Vo&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ir,Mi,null).clip().discardPath()),hn.call(this,ae,$e),Vo&&this.pdf.restoreGraphicsState()}this.lineWidth=Jt}else this.lineWidth=Xn,hn.call(this,ae,$e),this.lineWidth=Jt;this.path=gr},hn=function(ae,$e){if(("stroke"!==ae||$e||!Qe.call(this))&&("stroke"===ae||$e||!H.call(this))){for(var it,bt,St=[],Kt=this.path,qt=0;qt<Kt.length;qt++){var Jt=Kt[qt];switch(Jt.type){case"begin":St.push({begin:!0});break;case"close":St.push({close:!0});break;case"mt":St.push({start:Jt,deltas:[],abs:[]});break;case"lt":var Xn=St.length;if(Kt[qt-1]&&!isNaN(Kt[qt-1].x)&&(it=[Jt.x-Kt[qt-1].x,Jt.y-Kt[qt-1].y],Xn>0))for(;Xn>=0;Xn--)if(!0!==St[Xn-1].close&&!0!==St[Xn-1].begin){St[Xn-1].deltas.push(it),St[Xn-1].abs.push(Jt);break}break;case"bct":St[St.length-1].deltas.push(it=[Jt.x1-Kt[qt-1].x,Jt.y1-Kt[qt-1].y,Jt.x2-Kt[qt-1].x,Jt.y2-Kt[qt-1].y,Jt.x-Kt[qt-1].x,Jt.y-Kt[qt-1].y]);break;case"qct":St[St.length-1].deltas.push(it=[Kt[qt-1].x+2/3*(Jt.x1-Kt[qt-1].x)-Kt[qt-1].x,Kt[qt-1].y+2/3*(Jt.y1-Kt[qt-1].y)-Kt[qt-1].y,Jt.x+2/3*(Jt.x1-Jt.x)-Kt[qt-1].x,Jt.y+2/3*(Jt.y1-Jt.y)-Kt[qt-1].y,Jt.x-Kt[qt-1].x,Jt.y-Kt[qt-1].y]);break;case"arc":St.push({deltas:[],abs:[],arc:!0}),Array.isArray(St[St.length-1].abs)&&St[St.length-1].abs.push(Jt)}}bt=$e?null:"stroke"===ae?"stroke":"fill";for(var ai=!1,Qr=0;Qr<St.length;Qr++)if(St[Qr].arc)for(var jn=St[Qr].abs,nr=0;nr<jn.length;nr++){var _r=jn[nr];"arc"===_r.type?Ue.call(this,_r.x,_r.y,_r.radius,_r.startAngle,_r.endAngle,_r.counterclockwise,void 0,$e,!ai):vt.call(this,_r.x,_r.y),ai=!0}else!0===St[Qr].close?(this.pdf.internal.out("h"),ai=!1):!0!==St[Qr].begin&&(ct.call(this,St[Qr].deltas,St[Qr].start.x,St[Qr].start.y),ai=!0);bt&&an.call(this,bt),$e&&cn.call(this)}},xt=function(ae){var $e=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,it=$e*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return ae-it;case"top":return ae+$e-it;case"hanging":return ae+$e-2*it;case"middle":return ae+$e/2-it;default:return ae}},Lt=function(ae){return ae+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};ue.prototype.createLinearGradient=function(){var ae=function(){};return ae.colorStops=[],ae.addColorStop=function($e,it){this.colorStops.push([$e,it])},ae.getColor=function(){return 0===this.colorStops.length?"#000000":this.colorStops[0][1]},ae.isCanvasGradient=!0,ae},ue.prototype.createPattern=function(){return this.createLinearGradient()},ue.prototype.createRadialGradient=function(){return this.createLinearGradient()};var Ue=function(ae,$e,it,bt,St,Kt,qt,Jt,Xn){for(var Wn=rn.call(this,it,bt,St,Kt),gr=0;gr<Wn.length;gr++){var Dr=Wn[gr];0===gr&&(Xn?Re.call(this,Dr.x1+ae,Dr.y1+$e):vt.call(this,Dr.x1+ae,Dr.y1+$e)),pn.call(this,ae,$e,Dr.x2,Dr.y2,Dr.x3,Dr.y3,Dr.x4,Dr.y4)}Jt?cn.call(this):an.call(this,qt)},an=function(ae){switch(ae){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},cn=function(){this.pdf.clip(),this.pdf.discardPath()},Re=function(ae,$e){this.pdf.internal.out(y(ae)+" "+E($e)+" m")},Ee=function(ae){var $e;switch(ae.align){case"right":case"end":$e="right";break;case"center":$e="center";break;default:$e="left"}var it=this.pdf.getTextDimensions(ae.text),bt=xt.call(this,ae.y),St=Lt.call(this,bt)-it.h,Kt=this.ctx.transform.applyToPoint(new P(ae.x,bt)),qt=this.ctx.transform.decompose(),Jt=new L;Jt=(Jt=(Jt=Jt.multiply(qt.translate)).multiply(qt.skew)).multiply(qt.scale);for(var Xn,Wn,gr,Dr=this.ctx.transform.applyToRectangle(new M(ae.x,bt,it.w,it.h)),ui=Jt.applyToRectangle(new M(ae.x,St,it.w,it.h)),vn=qe.call(this,ui),We=[],ai=0;ai<vn.length;ai+=1)-1===We.indexOf(vn[ai])&&We.push(vn[ai]);if(Ct(We),this.autoPaging)for(var Qr=We[0],jn=We[We.length-1],nr=Qr;nr<jn+1;nr++){this.pdf.setPage(nr);var _r=1===nr?this.posY+this.margin[0]:this.margin[0],Wr=this.pdf.internal.pageSize.height-this.margin[2],Si=Wr-this.margin[0],Mi=this.pdf.internal.pageSize.width-this.margin[1],ji=Mi-this.margin[3],Fi=1===nr?0:this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2]+(nr-2)*Si;if(0!==this.ctx.clip_path.length){var Vo=this.path;Xn=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=He(Xn,this.posX+this.margin[3],-1*Fi+_r),hn.call(this,"fill",!0),this.path=Vo}var fi=He([JSON.parse(JSON.stringify(ui))],this.posX+this.margin[3],-Fi+_r+this.ctx.prevPageLastElemOffset)[0];ae.scale>=.01&&(Wn=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Wn*ae.scale),this.lineWidth=(gr=this.lineWidth)*ae.scale);var Ti="text"!==this.autoPaging;if(Ti||fi.y+fi.h<=Wr){if(Ti||fi.y>=_r&&fi.x<=Mi){var Ar=Ti?ae.text:this.pdf.splitTextToSize(ae.text,ae.maxWidth||Mi-fi.x)[0],uo=He([JSON.parse(JSON.stringify(Dr))],this.posX+this.margin[3],-Fi+_r+this.ctx.prevPageLastElemOffset)[0],pi=Ti&&(nr>Qr||nr<jn)&&De.call(this);pi&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ji,Si,null).clip().discardPath()),this.pdf.text(Ar,uo.x,uo.y,{angle:ae.angle,align:$e,renderingMode:ae.renderingMode}),pi&&this.pdf.restoreGraphicsState()}}else fi.y<Wr&&(this.ctx.prevPageLastElemOffset+=Wr-fi.y);ae.scale>=.01&&(this.pdf.setFontSize(Wn),this.lineWidth=gr)}else ae.scale>=.01&&(Wn=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Wn*ae.scale),this.lineWidth=(gr=this.lineWidth)*ae.scale),this.pdf.text(ae.text,Kt.x+this.posX,Kt.y+this.posY,{angle:ae.angle,align:$e,renderingMode:ae.renderingMode,maxWidth:ae.maxWidth}),ae.scale>=.01&&(this.pdf.setFontSize(Wn),this.lineWidth=gr)},vt=function(ae,$e,it,bt){bt=bt||0,this.pdf.internal.out(y(ae+(it=it||0))+" "+E($e+bt)+" l")},ct=function(ae,$e,it){return this.pdf.lines(ae,$e,it,null,null)},pn=function(ae,$e,it,bt,St,Kt,qt,Jt){this.pdf.internal.out([g(D(it+ae)),g(T(bt+$e)),g(D(St+ae)),g(T(Kt+$e)),g(D(qt+ae)),g(T(Jt+$e)),"c"].join(" "))},rn=function(ae,$e,it,bt){for(var St=2*Math.PI,Kt=Math.PI/2;$e>it;)$e-=St;var qt=Math.abs(it-$e);qt<St&&bt&&(qt=St-qt);for(var Jt=[],Xn=bt?-1:1,Wn=$e;qt>1e-5;){var gr=Wn+Xn*Math.min(qt,Kt);Jt.push(bn.call(this,ae,Wn,gr)),qt-=Math.abs(gr-Wn),Wn=gr}return Jt},bn=function(ae,$e,it){var bt=(it-$e)/2,St=ae*Math.cos(bt),Kt=ae*Math.sin(bt),qt=St,Jt=-Kt,Xn=qt*qt+Jt*Jt,Wn=Xn+qt*St+Jt*Kt,gr=4/3*(Math.sqrt(2*Xn*Wn)-Wn)/(qt*Kt-Jt*St),Dr=qt-gr*Jt,ui=Jt+gr*qt,vn=Dr,We=-ui,ai=bt+$e,Qr=Math.cos(ai),jn=Math.sin(ai);return{x1:ae*Math.cos($e),y1:ae*Math.sin($e),x2:Dr*Qr-ui*jn,y2:Dr*jn+ui*Qr,x3:vn*Qr-We*jn,y3:vn*jn+We*Qr,x4:ae*Math.cos(it),y4:ae*Math.sin(it)}},Wt=function(ae){return 180*ae/Math.PI},Sn=function(ae,$e,it,bt,St,Kt){var qt=ae+.5*(it-ae),Jt=$e+.5*(bt-$e),Xn=St+.5*(it-St),Wn=Kt+.5*(bt-Kt),gr=Math.min(ae,St,qt,Xn),Dr=Math.max(ae,St,qt,Xn),ui=Math.min($e,Kt,Jt,Wn),vn=Math.max($e,Kt,Jt,Wn);return new M(gr,ui,Dr-gr,vn-ui)},wn=function(ae,$e,it,bt,St,Kt,qt,Jt){var Xn,Wn,gr,Dr,ui,vn,We,ai,Qr,jn,nr,_r,ir,Wr,Si=it-ae,Mi=bt-$e,ji=St-it,Fi=Kt-bt,Vo=qt-St,fi=Jt-Kt;for(Wn=0;Wn<41;Wn++)Qr=(We=(gr=ae+(Xn=Wn/40)*Si)+Xn*((ui=it+Xn*ji)-gr))+Xn*(ui+Xn*(St+Xn*Vo-ui)-We),jn=(ai=(Dr=$e+Xn*Mi)+Xn*((vn=bt+Xn*Fi)-Dr))+Xn*(vn+Xn*(Kt+Xn*fi-vn)-ai),0==Wn?(nr=Qr,_r=jn,ir=Qr,Wr=jn):(nr=Math.min(nr,Qr),_r=Math.min(_r,jn),ir=Math.max(ir,Qr),Wr=Math.max(Wr,jn));return new M(Math.round(nr),Math.round(_r),Math.round(ir-nr),Math.round(Wr-_r))},lr=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var it=JSON.stringify({lineDash:this.ctx.lineDash,lineDashOffset:this.ctx.lineDashOffset});this.prevLineDash!==it&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=it)}}})(jr.API),
/**
         * @license
         * jsPDF filters PlugIn
         * Copyright (c) 2014 Aras Abbasi
         *
         * Licensed under the MIT License.
         * http://opensource.org/licenses/mit-license
         */
function(C){var g=function(T){var P,M,L,$,re,ue,ve,H,Qe,De;for(/[^\x00-\xFF]/.test(T),M=[],L=0,$=(T+=P="\0\0\0\0".slice(T.length%4||4)).length;$>L;L+=4)0!==(re=(T.charCodeAt(L)<<24)+(T.charCodeAt(L+1)<<16)+(T.charCodeAt(L+2)<<8)+T.charCodeAt(L+3))?(ue=(re=((re=((re=((re=(re-(De=re%85))/85)-(Qe=re%85))/85)-(H=re%85))/85)-(ve=re%85))/85)%85,M.push(ue+33,ve+33,H+33,Qe+33,De+33)):M.push(122);return function(qe,ee){for(var He=ee;He>0;He--)qe.pop()}(M,P.length),String.fromCharCode.apply(String,M)+"~>"},y=function(T){var P,M,L,$,re,ue=String,ve="length",H=255,Qe="charCodeAt",De="slice",qe="replace";for(T[De](-2),T=T[De](0,-2)[qe](/\s/g,"")[qe]("z","!!!!!"),L=[],$=0,re=(T+=P="uuuuu"[De](T[ve]%5||5))[ve];re>$;$+=5)M=52200625*(T[Qe]($)-33)+614125*(T[Qe]($+1)-33)+7225*(T[Qe]($+2)-33)+85*(T[Qe]($+3)-33)+(T[Qe]($+4)-33),L.push(H&M>>24,H&M>>16,H&M>>8,H&M);return function(ee,He){for(var Ct=He;Ct>0;Ct--)ee.pop()}(L,P[ve]),ue.fromCharCode.apply(ue,L)},E=function(T){var P=new RegExp(/^([0-9A-Fa-f]{2})+$/);if(-1!==(T=T.replace(/\s/g,"")).indexOf(">")&&(T=T.substr(0,T.indexOf(">"))),T.length%2&&(T+="0"),!1===P.test(T))return"";for(var M="",L=0;L<T.length;L+=2)M+=String.fromCharCode("0x"+(T[L]+T[L+1]));return M},D=function(T){for(var P=new Uint8Array(T.length),M=T.length;M--;)P[M]=T.charCodeAt(M);return(P=Ni(P)).reduce(function(L,$){return L+String.fromCharCode($)},"")};C.processDataByFilters=function(T,P){var M=0,L=T||"",$=[];for("string"==typeof(P=P||[])&&(P=[P]),M=0;M<P.length;M+=1)switch(P[M]){case"ASCII85Decode":case"/ASCII85Decode":L=y(L),$.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":L=g(L),$.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":L=E(L),$.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":L=L.split("").map(function(re){return("0"+re.charCodeAt().toString(16)).slice(-2)}).join("")+">",$.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":L=D(L),$.push("/FlateDecode");break;default:throw new Error('The filter: "'+P[M]+'" is not implemented')}return{data:L,reverseChain:$.reverse().join(" ")}}}(jr.API),
/**
         * @license
         * jsPDF fileloading PlugIn
         * Copyright (c) 2018 Aras Abbasi (aras.abbasi@gmail.com)
         *
         * Licensed under the MIT License.
         * http://opensource.org/licenses/mit-license
         */
function(C){C.loadFile=function(g,y,E){return function(D,T,P){T=!1!==T,P="function"==typeof P?P:function(){};var M=void 0;try{M=function(L,$,re){var ue=new XMLHttpRequest,ve=0,H=function(Qe){var De=Qe.length,qe=[],ee=String.fromCharCode;for(ve=0;ve<De;ve+=1)qe.push(ee(255&Qe.charCodeAt(ve)));return qe.join("")};if(ue.open("GET",L,!$),ue.overrideMimeType("text/plain; charset=x-user-defined"),!1===$&&(ue.onload=function(){re(200===ue.status?H(this.responseText):void 0)}),ue.send(null),$&&200===ue.status)return H(ue.responseText)}(D,T,P)}catch{}return M}(g,y,E)},C.loadImageFile=C.loadFile}(jr.API),function(C){function g(){return(tr.html2canvas?Promise.resolve(tr.html2canvas):Promise.resolve().then(_t.t.bind(_t,7239,23))).catch(function(P){return Promise.reject(new Error("Could not load html2canvas: "+P))}).then(function(P){return P.default?P.default:P})}function y(){return(tr.DOMPurify?Promise.resolve(tr.DOMPurify):_t.e(1973).then(_t.t.bind(_t,1973,23))).catch(function(P){return Promise.reject(new Error("Could not load dompurify: "+P))}).then(function(P){return P.default?P.default:P})}var E=function(P){var M=(0,V.A)(P);return"undefined"===M?"undefined":"string"===M||P instanceof String?"string":"number"===M||P instanceof Number?"number":"function"===M||P instanceof Function?"function":P&&P.constructor===Array?"array":P&&1===P.nodeType?"element":"object"===M?"object":"unknown"},D=function(P,M){var L=document.createElement(P);for(var $ in M.className&&(L.className=M.className),M.innerHTML&&M.dompurify&&(L.innerHTML=M.dompurify.sanitize(M.innerHTML)),M.style)L.style[$]=M.style[$];return L},T=function P(M){var L=Object.assign(P.convert(Promise.resolve()),JSON.parse(JSON.stringify(P.template))),$=P.convert(Promise.resolve(),L);return($=$.setProgress(1,P,1,[P])).set(M)};(T.prototype=Object.create(Promise.prototype)).constructor=T,T.convert=function(P,M){return P.__proto__=M||T.prototype,P},T.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},T.prototype.from=function(P,M){return this.then(function(){switch(M=M||function(L){switch(E(L)){case"string":return"string";case"element":return"canvas"===L.nodeName.toLowerCase()?"canvas":"element";default:return"unknown"}}(P)){case"string":return this.then(y).then(function(L){return this.set({src:D("div",{innerHTML:P,dompurify:L})})});case"element":return this.set({src:P});case"canvas":return this.set({canvas:P});case"img":return this.set({img:P});default:return this.error("Unknown source type.")}})},T.prototype.to=function(P){switch(P){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},T.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var P={position:"relative",display:"inline-block",width:("number"!=typeof this.opt.width||isNaN(this.opt.width)||"number"!=typeof this.opt.windowWidth||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},M=function L($,re){for(var ue=3===$.nodeType?document.createTextNode($.nodeValue):$.cloneNode(!1),ve=$.firstChild;ve;ve=ve.nextSibling)!0!==re&&1===ve.nodeType&&"SCRIPT"===ve.nodeName||ue.appendChild(L(ve,re));return 1===$.nodeType&&("CANVAS"===$.nodeName?(ue.width=$.width,ue.height=$.height,ue.getContext("2d").drawImage($,0,0)):"TEXTAREA"!==$.nodeName&&"SELECT"!==$.nodeName||(ue.value=$.value),ue.addEventListener("load",function(){ue.scrollTop=$.scrollTop,ue.scrollLeft=$.scrollLeft},!0)),ue}(this.prop.src,this.opt.html2canvas.javascriptEnabled);"BODY"===M.tagName&&(P.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=D("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=D("div",{className:"html2pdf__container",style:P}),this.prop.container.appendChild(M),this.prop.container.firstChild.appendChild(D("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},T.prototype.toCanvas=function(){return this.thenList([function(){return document.body.contains(this.prop.container)||this.toContainer()}]).then(g).then(function(M){var L=Object.assign({},this.opt.html2canvas);return delete L.onrendered,M(this.prop.container,L)}).then(function(M){(this.opt.html2canvas.onrendered||function(){})(M),this.prop.canvas=M,document.body.removeChild(this.prop.overlay)})},T.prototype.toContext2d=function(){return this.thenList([function(){return document.body.contains(this.prop.container)||this.toContainer()}]).then(g).then(function(M){var L=this.opt.jsPDF,$=this.opt.fontFaces,re="number"!=typeof this.opt.width||isNaN(this.opt.width)||"number"!=typeof this.opt.windowWidth||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,ue=Object.assign({async:!0,allowTaint:!0,scale:re,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete ue.onrendered,L.context2d.autoPaging=void 0===this.opt.autoPaging||this.opt.autoPaging,L.context2d.posX=this.opt.x,L.context2d.posY=this.opt.y,L.context2d.margin=this.opt.margin,L.context2d.fontFaces=$,$)for(var ve=0;ve<$.length;++ve){var H=$[ve],Qe=H.src.find(function(De){return"truetype"===De.format});Qe&&L.addFont(Qe.url,H.ref.name,H.ref.style)}return ue.windowHeight=ue.windowHeight||0,ue.windowHeight=0==ue.windowHeight?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):ue.windowHeight,L.context2d.save(!0),M(this.prop.container,ue)}).then(function(M){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(M),this.prop.canvas=M,document.body.removeChild(this.prop.overlay)})},T.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var P=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=P})},T.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},T.prototype.output=function(P,M,L){return"img"===(L=L||"pdf").toLowerCase()||"image"===L.toLowerCase()?this.outputImg(P,M):this.outputPdf(P,M)},T.prototype.outputPdf=function(P,M){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(P,M)})},T.prototype.outputImg=function(P){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(P){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+P+'" is not supported.'}})},T.prototype.save=function(P){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(P?{filename:P}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},T.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},T.prototype.set=function(P){if("object"!==E(P))return this;var M=Object.keys(P||{}).map(function(L){if(L in T.template.prop)return function(){this.prop[L]=P[L]};switch(L){case"margin":return this.setMargin.bind(this,P.margin);case"jsPDF":return function(){return this.opt.jsPDF=P.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,P.pageSize);default:return function(){this.opt[L]=P[L]}}},this);return this.then(function(){return this.thenList(M)})},T.prototype.get=function(P,M){return this.then(function(){var L=P in T.template.prop?this.prop[P]:this.opt[P];return M?M(L):L})},T.prototype.setMargin=function(P){return this.then(function(){switch(E(P)){case"number":P=[P,P,P,P];case"array":if(2===P.length&&(P=[P[0],P[1],P[0],P[1]]),4===P.length)break;default:return this.error("Invalid margin array.")}this.opt.margin=P}).then(this.setPageSize)},T.prototype.setPageSize=function(P){function M(L,$){return Math.floor(L*$/72*96)}return this.then(function(){(P=P||jr.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(P.inner={width:P.width-this.opt.margin[1]-this.opt.margin[3],height:P.height-this.opt.margin[0]-this.opt.margin[2]},P.inner.px={width:M(P.inner.width,P.k),height:M(P.inner.height,P.k)},P.inner.ratio=P.inner.height/P.inner.width),this.prop.pageSize=P})},T.prototype.setProgress=function(P,M,L,$){return null!=P&&(this.progress.val=P),null!=M&&(this.progress.state=M),null!=L&&(this.progress.n=L),null!=$&&(this.progress.stack=$),this.progress.ratio=this.progress.val/this.progress.state,this},T.prototype.updateProgress=function(P,M,L,$){return this.setProgress(P?this.progress.val+P:null,M||null,L?this.progress.n+L:null,$?this.progress.stack.concat($):null)},T.prototype.then=function(P,M){var L=this;return this.thenCore(P,M,function($,re){return L.updateProgress(null,null,1,[$]),Promise.prototype.then.call(this,function(ue){return L.updateProgress(null,$),ue}).then($,re).then(function(ue){return L.updateProgress(1),ue})})},T.prototype.thenCore=function(P,M,L){L=L||Promise.prototype.then,P&&(P=P.bind(this)),M&&(M=M.bind(this));var $=-1!==Promise.toString().indexOf("[native code]")&&"Promise"===Promise.name?this:T.convert(Object.assign({},this),Promise.prototype),re=L.call($,P,M);return T.convert(re,this.__proto__)},T.prototype.thenExternal=function(P,M){return Promise.prototype.then.call(this,P,M)},T.prototype.thenList=function(P){var M=this;return P.forEach(function(L){M=M.thenCore(L)}),M},T.prototype.catch=function(P){P&&(P=P.bind(this));var M=Promise.prototype.catch.call(this,P);return T.convert(M,this)},T.prototype.catchExternal=function(P){return Promise.prototype.catch.call(this,P)},T.prototype.error=function(P){return this.then(function(){throw new Error(P)})},T.prototype.using=T.prototype.set,T.prototype.saveAs=T.prototype.save,T.prototype.export=T.prototype.output,T.prototype.run=T.prototype.then,jr.getPageSize=function(P,M,L){if("object"===(0,V.A)(P)){var $=P;P=$.orientation,M=$.unit||M,L=$.format||L}M=M||"mm",L=L||"a4",P=(""+(P||"P")).toLowerCase();var re,ue=(""+L).toLowerCase(),ve={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(M){case"pt":re=1;break;case"mm":re=72/25.4;break;case"cm":re=72/2.54;break;case"in":re=72;break;case"px":re=.75;break;case"pc":case"em":re=12;break;case"ex":re=6;break;default:throw"Invalid unit: "+M}var H,Qe=0,De=0;if(ve.hasOwnProperty(ue))Qe=ve[ue][1]/re,De=ve[ue][0]/re;else try{Qe=L[1],De=L[0]}catch{throw new Error("Invalid format: "+L)}if("p"===P||"portrait"===P)P="p",De>Qe&&(H=De,De=Qe,Qe=H);else{if("l"!==P&&"landscape"!==P)throw"Invalid orientation: "+P;P="l",Qe>De&&(H=De,De=Qe,Qe=H)}return{width:De,height:Qe,unit:M,k:re,orientation:P}},C.html=function(P,M){(M=M||{}).callback=M.callback||function(){},M.html2canvas=M.html2canvas||{},M.html2canvas.canvas=M.html2canvas.canvas||this.canvas,M.jsPDF=M.jsPDF||this,M.fontFaces=M.fontFaces?M.fontFaces.map(iu):null;var L=new T(M);return M.worker?L:L.from(P).doCallback()}}(jr.API),jr.API.addJS=function(C){return xu=C,this.internal.events.subscribe("postPutResources",function(){Ol=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Ol+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),Rh=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+xu+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){void 0!==Ol&&void 0!==Rh&&this.internal.out("/Names <</JavaScript "+Ol+" 0 R>>")}),this},
/**
         * @license
         * Copyright (c) 2014 Steven Spungin (TwelveTone LLC)  steven@twelvetone.tv
         *
         * Licensed under the MIT License.
         * http://opensource.org/licenses/mit-license
         */
function(C){var g;C.events.push(["postPutResources",function(){var y=this,E=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var D=y.outline.render().split(/\r\n/),T=0;T<D.length;T++){var P=D[T],M=E.exec(P);null!=M&&y.internal.newObjectDeferredBegin(M[1],!1),y.internal.write(P)}if(this.outline.createNamedDestinations){var $=this.internal.pages.length,re=[];for(T=0;T<$;T++){var ue=y.internal.newObject();re.push(ue);var ve=y.internal.getPageInfo(T+1);y.internal.write("<< /D["+ve.objId+" 0 R /XYZ null null null]>> endobj")}var H=y.internal.newObject();for(y.internal.write("<< /Names [ "),T=0;T<re.length;T++)y.internal.write("(page_"+(T+1)+")"+re[T]+" 0 R");y.internal.write(" ] >>","endobj"),g=y.internal.newObject(),y.internal.write("<< /Dests "+H+" 0 R"),y.internal.write(">>","endobj")}}]),C.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+g+" 0 R"))}]),C.events.push(["initialized",function(){var y=this;y.outline={createNamedDestinations:!1,root:{children:[]}},y.outline.add=function(E,D,T){var P={title:D,options:T,children:[]};return null==E&&(E=this.root),E.children.push(P),P},y.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=y,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},y.outline.genIds_r=function(E){E.id=y.internal.newObjectDeferred();for(var D=0;D<E.children.length;D++)this.genIds_r(E.children[D])},y.outline.renderRoot=function(E){this.objStart(E),this.line("/Type /Outlines"),E.children.length>0&&(this.line("/First "+this.makeRef(E.children[0])),this.line("/Last "+this.makeRef(E.children[E.children.length-1]))),this.line("/Count "+this.count_r({count:0},E)),this.objEnd()},y.outline.renderItems=function(E){for(var D=this.ctx.pdf.internal.getVerticalCoordinateString,T=0;T<E.children.length;T++){var P=E.children[T];this.objStart(P),this.line("/Title "+this.makeString(P.title)),this.line("/Parent "+this.makeRef(E)),T>0&&this.line("/Prev "+this.makeRef(E.children[T-1])),T<E.children.length-1&&this.line("/Next "+this.makeRef(E.children[T+1])),P.children.length>0&&(this.line("/First "+this.makeRef(P.children[0])),this.line("/Last "+this.makeRef(P.children[P.children.length-1])));var M=this.count=this.count_r({count:0},P);if(M>0&&this.line("/Count "+M),P.options&&P.options.pageNumber){var L=y.internal.getPageInfo(P.options.pageNumber);this.line("/Dest ["+L.objId+" 0 R /XYZ 0 "+D(0)+" 0]")}this.objEnd()}for(var $=0;$<E.children.length;$++)this.renderItems(E.children[$])},y.outline.line=function(E){this.ctx.val+=E+"\r\n"},y.outline.makeRef=function(E){return E.id+" 0 R"},y.outline.makeString=function(E){return"("+y.internal.pdfEscape(E)+")"},y.outline.objStart=function(E){this.ctx.val+="\r\n"+E.id+" 0 obj\r\n<<\r\n"},y.outline.objEnd=function(){this.ctx.val+=">> \r\nendobj\r\n"},y.outline.count_r=function(E,D){for(var T=0;T<D.children.length;T++)E.count++,this.count_r(E,D.children[T]);return E.count}}])}(jr.API),
/**
         * @license
         *
         * Licensed under the MIT License.
         * http://opensource.org/licenses/mit-license
         */
function(C){var g=[192,193,194,195,196,197,198,199];C.processJPEG=function(y,E,D,T,P,M){var L,$=this.decode.DCT_DECODE,re=null;if("string"==typeof y||this.__addimage__.isArrayBuffer(y)||this.__addimage__.isArrayBufferView(y)){switch(y=this.__addimage__.isArrayBuffer(y=P||y)?new Uint8Array(y):y,(L=function(ue){for(var ve,H=256*ue.charCodeAt(4)+ue.charCodeAt(5),Qe=ue.length,De={width:0,height:0,numcomponents:1},qe=4;qe<Qe;qe+=2){if(-1!==g.indexOf(ue.charCodeAt((qe+=H)+1))){ve=256*ue.charCodeAt(qe+5)+ue.charCodeAt(qe+6),De={width:256*ue.charCodeAt(qe+7)+ue.charCodeAt(qe+8),height:ve,numcomponents:ue.charCodeAt(qe+9)};break}H=256*ue.charCodeAt(qe+2)+ue.charCodeAt(qe+3)}return De}(y=this.__addimage__.isArrayBufferView(y)?this.__addimage__.arrayBufferToBinaryString(y):y)).numcomponents){case 1:M=this.color_spaces.DEVICE_GRAY;break;case 4:M=this.color_spaces.DEVICE_CMYK;break;case 3:M=this.color_spaces.DEVICE_RGB}re={data:y,width:L.width,height:L.height,colorSpace:M,bitsPerComponent:8,filter:$,index:E,alias:D}}return re}}(jr.API);var Yu,ds,ZA,Fa,Qd,Oi=function(){var C,g,y;function E(T){var P,L,$,re,ue,ve,H,Qe,De,qe,ee,He,Ct;for(this.data=T,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},ue=null;;){switch(P=this.readUInt32(),Qe=function(){var Mt,hn;for(hn=[],Mt=0;Mt<4;++Mt)hn.push(String.fromCharCode(this.data[this.pos++]));return hn}.call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(P);break;case"fcTL":ue&&this.animation.frames.push(ue),this.pos+=4,ue={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},re=this.readUInt16(),$=this.readUInt16()||100,ue.delay=1e3*re/$,ue.disposeOp=this.data[this.pos++],ue.blendOp=this.data[this.pos++],ue.data=[];break;case"IDAT":case"fdAT":for("fdAT"===Qe&&(this.pos+=4,P-=4),T=(null!=ue?ue.data:void 0)||this.imgData,ee=0;0<=P?ee<P:ee>P;0<=P?++ee:--ee)T.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(L=this.palette.length/3,this.transparency.indexed=this.read(P),this.transparency.indexed.length>L)throw new Error("More transparent colors than palette size");if((De=L-this.transparency.indexed.length)>0)for(He=0;0<=De?He<De:He>De;0<=De?++He:--He)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(P)[0];break;case 2:this.transparency.rgb=this.read(P)}break;case"tEXt":ve=(qe=this.read(P)).indexOf(0),H=String.fromCharCode.apply(String,qe.slice(0,ve)),this.text[H]=String.fromCharCode.apply(String,qe.slice(ve+1));break;case"IEND":return ue&&this.animation.frames.push(ue),this.colors=function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}.call(this),this.hasAlphaChannel=4===(Ct=this.colorType)||6===Ct,this.pixelBitlength=this.bits*(this.colors+(this.hasAlphaChannel?1:0)),this.colorSpace=function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}.call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=P}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}E.prototype.read=function(T){var P,M;for(M=[],P=0;0<=T?P<T:P>T;0<=T?++P:--P)M.push(this.data[this.pos++]);return M},E.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},E.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},E.prototype.decodePixels=function(T){var P=this.pixelBitlength/8,M=new Uint8Array(this.width*this.height*P),L=0,$=this;if(null==T&&(T=this.imgData),0===T.length)return new Uint8Array(0);function re(ue,ve,H,Qe){var De,qe,ee,He,Ct,Mt,hn,xt,Ue,an,cn,Re,Ee,vt,ct,pn,rn,bn,Wt,Sn,wn=Math.ceil(($.width-ue)/H),lr=Math.ceil(($.height-ve)/Qe),ae=$.width==wn&&$.height==lr;for(Ee=P*wn,cn=ae?M:new Uint8Array(Ee*lr),Mt=T.length,Re=0,qe=0;Re<lr&&L<Mt;){switch(T[L++]){case 0:for(He=pn=0;pn<Ee;He=pn+=1)cn[qe++]=T[L++];break;case 1:for(He=rn=0;rn<Ee;He=rn+=1)De=T[L++],Ct=He<P?0:cn[qe-P],cn[qe++]=(De+Ct)%256;break;case 2:for(He=bn=0;bn<Ee;He=bn+=1)De=T[L++],ee=(He-He%P)/P,cn[qe++]=((vt=Re&&cn[(Re-1)*Ee+ee*P+He%P])+De)%256;break;case 3:for(He=Wt=0;Wt<Ee;He=Wt+=1)De=T[L++],ee=(He-He%P)/P,Ct=He<P?0:cn[qe-P],vt=Re&&cn[(Re-1)*Ee+ee*P+He%P],cn[qe++]=(De+Math.floor((Ct+vt)/2))%256;break;case 4:for(He=Sn=0;Sn<Ee;He=Sn+=1)De=T[L++],ee=(He-He%P)/P,0===Re?vt=ct=0:(vt=cn[(Re-1)*Ee+ee*P+He%P],ct=ee&&cn[(Re-1)*Ee+(ee-1)*P+He%P]),hn=(Ct=He<P?0:cn[qe-P])+vt-ct,xt=Math.abs(hn-Ct),Ue=Math.abs(hn-vt),an=Math.abs(hn-ct),cn[qe++]=(De+(xt<=Ue&&xt<=an?Ct:Ue<=an?vt:ct))%256;break;default:throw new Error("Invalid filter algorithm: "+T[L-1])}if(!ae){var $e=((ve+Re*Qe)*$.width+ue)*P,it=Re*Ee;for(He=0;He<wn;He+=1){for(var bt=0;bt<P;bt+=1)M[$e++]=cn[it++];$e+=(H-1)*P}}Re++}}return T=rs(T),1==$.interlaceMethod?(re(0,0,8,8),re(4,0,8,8),re(0,4,4,8),re(2,0,4,4),re(0,2,2,4),re(1,0,2,2),re(0,1,1,2)):re(0,0,1,1),M},E.prototype.decodePalette=function(){var T,P,M,L,$,re,ue,ve,H;for(M=this.palette,re=this.transparency.indexed||[],$=new Uint8Array((re.length||0)+M.length),L=0,T=0,P=ue=0,ve=M.length;ue<ve;P=ue+=3)$[L++]=M[P],$[L++]=M[P+1],$[L++]=M[P+2],$[L++]=null!=(H=re[T++])?H:255;return $},E.prototype.copyToImageData=function(T,P){var M,L,$,re,ue,ve,H,Qe,De,qe,ee;if(L=this.colors,De=null,M=this.hasAlphaChannel,this.palette.length&&(De=null!=(ee=this._decodedPalette)?ee:this._decodedPalette=this.decodePalette(),L=4,M=!0),Qe=($=T.data||T).length,ue=De||P,re=ve=0,1===L)for(;re<Qe;)H=De?4*P[re/4]:ve,qe=ue[H++],$[re++]=qe,$[re++]=qe,$[re++]=qe,$[re++]=M?ue[H++]:255,ve=H;else for(;re<Qe;)H=De?4*P[re/4]:ve,$[re++]=ue[H++],$[re++]=ue[H++],$[re++]=ue[H++],$[re++]=M?ue[H++]:255,ve=H},E.prototype.decode=function(){var T;return T=new Uint8Array(this.width*this.height*4),this.copyToImageData(T,this.decodePixels()),T};var D=function(){if("[object Window]"===Object.prototype.toString.call(tr)){try{g=tr.document.createElement("canvas"),y=g.getContext("2d")}catch{return!1}return!0}return!1};return D(),C=function(T){var P;if(!0===D())return y.width=T.width,y.height=T.height,y.clearRect(0,0,T.width,T.height),y.putImageData(T,0,0),(P=new Image).src=g.toDataURL(),P;throw new Error("This method requires a Browser with Canvas-capability.")},E.prototype.decodeFrames=function(T){var P,M,L,$,re,ue,ve,H;if(this.animation){for(H=[],M=re=0,ue=(ve=this.animation.frames).length;re<ue;M=++re)L=T.createImageData((P=ve[M]).width,P.height),$=this.decodePixels(new Uint8Array(P.data)),this.copyToImageData(L,$),P.imageData=L,H.push(P.image=C(L));return H}},E.prototype.renderFrame=function(T,P){var M,L,$;return M=(L=this.animation.frames)[P],$=L[P-1],0===P&&T.clearRect(0,0,this.width,this.height),1===(null!=$?$.disposeOp:void 0)?T.clearRect($.xOffset,$.yOffset,$.width,$.height):2===(null!=$?$.disposeOp:void 0)&&T.putImageData($.imageData,$.xOffset,$.yOffset),0===M.blendOp&&T.clearRect(M.xOffset,M.yOffset,M.width,M.height),T.drawImage(M.image,M.xOffset,M.yOffset)},E.prototype.animate=function(T){var P,M,L,$,re,ue,ve=this;return M=0,$=(ue=this.animation).numFrames,L=ue.frames,re=ue.numPlays,(P=function(){var H,Qe;if(H=M++%$,Qe=L[H],ve.renderFrame(T,H),$>1&&M/$<re)return ve.animation._timeout=setTimeout(P,Qe.delay)})()},E.prototype.stopAnimation=function(){var T;return clearTimeout(null!=(T=this.animation)?T._timeout:void 0)},E.prototype.render=function(T){var P,M;return T._png&&T._png.stopAnimation(),T._png=this,T.width=this.width,T.height=this.height,P=T.getContext("2d"),this.animation?(this.decodeFrames(P),this.animate(P)):(M=P.createImageData(this.width,this.height),this.copyToImageData(M,this.decodePixels()),P.putImageData(M,0,0))},E}();function Xu(C){var g=0;if(71!==C[g++]||73!==C[g++]||70!==C[g++]||56!==C[g++]||56!=(C[g++]+1&253)||97!==C[g++])throw new Error("Invalid GIF 87a/89a header.");var y=C[g++]|C[g++]<<8,E=C[g++]|C[g++]<<8,D=C[g++],P=1<<1+(7&D);g++,g++;var M=null,L=null;D>>7&&(M=g,L=P,g+=3*P);var $=!0,re=[],ue=0,ve=null,H=0,Qe=null;for(this.width=y,this.height=E;$&&g<C.length;)switch(C[g++]){case 33:switch(C[g++]){case 255:if(11!==C[g]||78==C[g+1]&&69==C[g+2]&&84==C[g+3]&&83==C[g+4]&&67==C[g+5]&&65==C[g+6]&&80==C[g+7]&&69==C[g+8]&&50==C[g+9]&&46==C[g+10]&&48==C[g+11]&&3==C[g+12]&&1==C[g+13]&&0==C[g+16])g+=14,Qe=C[g++]|C[g++]<<8,g++;else for(g+=12;;){if(!((Re=C[g++])>=0))throw Error("Invalid block size");if(0===Re)break;g+=Re}break;case 249:if(4!==C[g++]||0!==C[g+4])throw new Error("Invalid graphics extension block.");var De=C[g++];ue=C[g++]|C[g++]<<8,ve=C[g++],!(1&De)&&(ve=null),H=De>>2&7,g++;break;case 254:for(;;){if(!((Re=C[g++])>=0))throw Error("Invalid block size");if(0===Re)break;g+=Re}break;default:throw new Error("Unknown graphic control label: 0x"+C[g-1].toString(16))}break;case 44:var qe=C[g++]|C[g++]<<8,ee=C[g++]|C[g++]<<8,He=C[g++]|C[g++]<<8,Ct=C[g++]|C[g++]<<8,Mt=C[g++],hn=Mt>>6&1,xt=1<<1+(7&Mt),Lt=M,Ue=L,an=!1;Mt>>7&&(an=!0,Lt=g,Ue=xt,g+=3*xt);var cn=g;for(g++;;){var Re;if(!((Re=C[g++])>=0))throw Error("Invalid block size");if(0===Re)break;g+=Re}re.push({x:qe,y:ee,width:He,height:Ct,has_local_palette:an,palette_offset:Lt,palette_size:Ue,data_offset:cn,data_length:g-cn,transparent_index:ve,interlaced:!!hn,delay:ue,disposal:H});break;case 59:$=!1;break;default:throw new Error("Unknown gif block: 0x"+C[g-1].toString(16))}this.numFrames=function(){return re.length},this.loopCount=function(){return Qe},this.frameInfo=function(Ee){if(Ee<0||Ee>=re.length)throw new Error("Frame index out of range.");return re[Ee]},this.decodeAndBlitFrameBGRA=function(Ee,vt){var ct=this.frameInfo(Ee),pn=ct.width*ct.height,rn=new Uint8Array(pn);wA(C,ct.data_offset,rn,pn);var bn=ct.palette_offset,Wt=ct.transparent_index;null===Wt&&(Wt=256);var Sn=ct.width,wn=y-Sn,lr=Sn,ae=4*(ct.y*y+ct.x),$e=4*((ct.y+ct.height)*y+ct.x),it=ae,bt=4*wn;!0===ct.interlaced&&(bt+=4*y*7);for(var St=8,Kt=0,qt=rn.length;Kt<qt;++Kt){var Jt=rn[Kt];if(0===lr&&(lr=Sn,(it+=bt)>=$e&&(bt=4*wn+4*y*(St-1),it=ae+(Sn+wn)*(St<<1),St>>=1)),Jt===Wt)it+=4;else{var Xn=C[bn+3*Jt],Wn=C[bn+3*Jt+1];vt[it++]=C[bn+3*Jt+2],vt[it++]=Wn,vt[it++]=Xn,vt[it++]=255}--lr}},this.decodeAndBlitFrameRGBA=function(Ee,vt){var ct=this.frameInfo(Ee),pn=ct.width*ct.height,rn=new Uint8Array(pn);wA(C,ct.data_offset,rn,pn);var bn=ct.palette_offset,Wt=ct.transparent_index;null===Wt&&(Wt=256);var Sn=ct.width,wn=y-Sn,lr=Sn,ae=4*(ct.y*y+ct.x),$e=4*((ct.y+ct.height)*y+ct.x),it=ae,bt=4*wn;!0===ct.interlaced&&(bt+=4*y*7);for(var St=8,Kt=0,qt=rn.length;Kt<qt;++Kt){var Jt=rn[Kt];if(0===lr&&(lr=Sn,(it+=bt)>=$e&&(bt=4*wn+4*y*(St-1),it=ae+(Sn+wn)*(St<<1),St>>=1)),Jt===Wt)it+=4;else{var Wn=C[bn+3*Jt+1],gr=C[bn+3*Jt+2];vt[it++]=C[bn+3*Jt],vt[it++]=Wn,vt[it++]=gr,vt[it++]=255}--lr}}}function wA(C,g,y,E){for(var D=C[g++],T=1<<D,P=T+1,M=P+1,L=D+1,$=(1<<L)-1,re=0,ue=0,ve=0,H=C[g++],Qe=new Int32Array(4096),De=null;;){for(;re<16&&0!==H;)ue|=C[g++]<<re,re+=8,1===H?H=C[g++]:--H;if(re<L)break;var qe=ue&$;if(ue>>=L,re-=L,qe!==T){if(qe===P)break;for(var ee=qe<M?qe:De,He=0,Ct=ee;Ct>T;)Ct=Qe[Ct]>>8,++He;var Mt=Ct;if(ve+He+(ee!==qe?1:0)>E)return void Xr.log("Warning, gif stream longer than expected.");y[ve++]=Mt;var hn=ve+=He;for(ee!==qe&&(y[ve++]=Mt),Ct=ee;He--;)y[--hn]=255&(Ct=Qe[Ct]),Ct>>=8;null!==De&&M<4096&&(Qe[M++]=De<<8|Mt,M>=$+1&&L<12&&(++L,$=$<<1|1)),De=qe}else M=P+1,$=(1<<(L=D+1))-1,De=null}return ve!==E&&Xr.log("Warning, gif stream shorter than expected."),y}function ad(C){var g,y,E,D,T,P=Math.floor,M=new Array(64),L=new Array(64),$=new Array(64),re=new Array(64),ue=new Array(65535),ve=new Array(65535),H=new Array(64),Qe=new Array(64),De=[],qe=0,ee=7,He=new Array(64),Ct=new Array(64),Mt=new Array(64),hn=new Array(256),xt=new Array(2048),Lt=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],Ue=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],an=[0,1,2,3,4,5,6,7,8,9,10,11],cn=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],Re=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],Ee=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],vt=[0,1,2,3,4,5,6,7,8,9,10,11],ct=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],pn=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function rn(ae,$e){for(var it=0,bt=0,St=new Array,Kt=1;Kt<=16;Kt++){for(var qt=1;qt<=ae[Kt];qt++)St[$e[bt]]=[],St[$e[bt]][0]=it,St[$e[bt]][1]=Kt,bt++,it++;it*=2}return St}function bn(ae){for(var $e=ae[0],it=ae[1]-1;it>=0;)$e&1<<it&&(qe|=1<<ee),it--,--ee<0&&(255==qe?(Wt(255),Wt(0)):Wt(qe),ee=7,qe=0)}function Wt(ae){De.push(ae)}function Sn(ae){Wt(ae>>8&255),Wt(255&ae)}function wn(ae,$e,it,bt,St){for(var Kt,qt=St[0],Jt=St[240],Xn=function(jn,nr){var _r,ir,Wr,Si,Mi,ji,Fi,Vo,fi,Ti,Ar=0;for(fi=0;fi<8;++fi){var uo=(_r=jn[Ar])+(Vo=jn[Ar+7]),pi=_r-Vo,ml=(ir=jn[Ar+1])+(Fi=jn[Ar+6]),es=ir-Fi,ko=(Wr=jn[Ar+2])+(ji=jn[Ar+5]),tc=Wr-ji,Ro=(Si=jn[Ar+3])+(Mi=jn[Ar+4]),ud=Si-Mi,Rs=uo+Ro,vl=uo-Ro,nc=ml+ko,Wo=ml-ko;jn[Ar]=Rs+nc,jn[Ar+4]=Rs-nc;var ci=.707106781*(Wo+vl);jn[Ar+2]=vl+ci,jn[Ar+6]=vl-ci;var ti=.382683433*((Rs=ud+tc)-(Wo=es+pi)),Qn=.5411961*Rs+ti,wr=1.306562965*Wo+ti,co=.707106781*(nc=tc+es),qs=pi+co,kr=pi-co;jn[Ar+5]=kr+Qn,jn[Ar+3]=kr-Qn,jn[Ar+1]=qs+wr,jn[Ar+7]=qs-wr,Ar+=8}for(Ar=0,fi=0;fi<8;++fi){var As=(_r=jn[Ar])+(Vo=jn[Ar+56]),Xa=_r-Vo,zi=(ir=jn[Ar+8])+(Fi=jn[Ar+48]),mo=ir-Fi,Eo=(Wr=jn[Ar+16])+(ji=jn[Ar+40]),Hr=Wr-ji,rc=(Si=jn[Ar+24])+(Mi=jn[Ar+32]),ic=Si-Mi,Ha=As+rc,di=As-rc,ya=zi+Eo,Ja=zi-Eo;jn[Ar]=Ha+ya,jn[Ar+32]=Ha-ya;var Qs=.707106781*(Ja+di);jn[Ar+16]=di+Qs,jn[Ar+48]=di-Qs;var yl=.382683433*((Ha=ic+Hr)-(Ja=mo+Xa)),oc=.5411961*Ha+yl,_l=1.306562965*Ja+yl,sc=.707106781*(ya=Hr+mo),au=Xa+sc,gi=Xa-sc;jn[Ar+40]=gi+oc,jn[Ar+24]=gi-oc,jn[Ar+8]=au+_l,jn[Ar+56]=au-_l,Ar++}for(fi=0;fi<64;++fi)H[fi]=(Ti=jn[fi]*nr[fi])>0?Ti+.5|0:Ti-.5|0;return H}(ae,$e),Wn=0;Wn<64;++Wn)Qe[Lt[Wn]]=Xn[Wn];var gr=Qe[0]-it;it=Qe[0],0==gr?bn(bt[0]):(bn(bt[ve[Kt=32767+gr]]),bn(ue[Kt]));for(var Dr=63;Dr>0&&0==Qe[Dr];)Dr--;if(0==Dr)return bn(qt),it;for(var ui,vn=1;vn<=Dr;){for(var We=vn;0==Qe[vn]&&vn<=Dr;)++vn;var ai=vn-We;if(ai>=16){ui=ai>>4;for(var Qr=1;Qr<=ui;++Qr)bn(Jt);ai&=15}bn(St[(ai<<4)+ve[Kt=32767+Qe[vn]]]),bn(ue[Kt]),vn++}return 63!=Dr&&bn(qt),it}function lr(ae){ae=Math.min(Math.max(ae,1),100),T!=ae&&(function($e){for(var it=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],bt=0;bt<64;bt++){var St=P((it[bt]*$e+50)/100);St=Math.min(Math.max(St,1),255),M[Lt[bt]]=St}for(var Kt=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],qt=0;qt<64;qt++){var Jt=P((Kt[qt]*$e+50)/100);Jt=Math.min(Math.max(Jt,1),255),L[Lt[qt]]=Jt}for(var Xn=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Wn=0,gr=0;gr<8;gr++)for(var Dr=0;Dr<8;Dr++)$[Wn]=1/(M[Lt[Wn]]*Xn[gr]*Xn[Dr]*8),re[Wn]=1/(L[Lt[Wn]]*Xn[gr]*Xn[Dr]*8),Wn++}(ae<50?Math.floor(5e3/ae):Math.floor(200-2*ae)),T=ae)}this.encode=function(ae,$e){var ir,Wr;$e&&lr($e),De=new Array,qe=0,ee=7,Sn(65496),Sn(65504),Sn(16),Wt(74),Wt(70),Wt(73),Wt(70),Wt(0),Wt(1),Wt(1),Wt(0),Sn(1),Sn(1),Wt(0),Wt(0),function(){Sn(65499),Sn(132),Wt(0);for(var ir=0;ir<64;ir++)Wt(M[ir]);Wt(1);for(var Wr=0;Wr<64;Wr++)Wt(L[Wr])}(),ir=ae.width,Wr=ae.height,Sn(65472),Sn(17),Wt(8),Sn(Wr),Sn(ir),Wt(3),Wt(1),Wt(17),Wt(0),Wt(2),Wt(17),Wt(1),Wt(3),Wt(17),Wt(1),function(){Sn(65476),Sn(418),Wt(0);for(var ir=0;ir<16;ir++)Wt(Ue[ir+1]);for(var Wr=0;Wr<=11;Wr++)Wt(an[Wr]);Wt(16);for(var Si=0;Si<16;Si++)Wt(cn[Si+1]);for(var Mi=0;Mi<=161;Mi++)Wt(Re[Mi]);Wt(1);for(var ji=0;ji<16;ji++)Wt(Ee[ji+1]);for(var Fi=0;Fi<=11;Fi++)Wt(vt[Fi]);Wt(17);for(var Vo=0;Vo<16;Vo++)Wt(ct[Vo+1]);for(var fi=0;fi<=161;fi++)Wt(pn[fi])}(),Sn(65498),Sn(12),Wt(3),Wt(1),Wt(0),Wt(2),Wt(17),Wt(3),Wt(17),Wt(0),Wt(63),Wt(0);var it=0,bt=0,St=0;qe=0,ee=7,this.encode.displayName="_encode_";for(var Kt,qt,Jt,Xn,Wn,gr,Dr,ui,vn,We=ae.data,Qr=ae.height,jn=4*ae.width,nr=0;nr<Qr;){for(Kt=0;Kt<jn;){for(Wn=jn*nr+Kt,Dr=-1,ui=0,vn=0;vn<64;vn++)gr=Wn+(ui=vn>>3)*jn+(Dr=4*(7&vn)),nr+ui>=Qr&&(gr-=jn*(nr+1+ui-Qr)),Kt+Dr>=jn&&(gr-=Kt+Dr-jn+4),qt=We[gr++],Jt=We[gr++],Xn=We[gr++],He[vn]=(xt[qt]+xt[Jt+256|0]+xt[Xn+512|0]>>16)-128,Ct[vn]=(xt[qt+768|0]+xt[Jt+1024|0]+xt[Xn+1280|0]>>16)-128,Mt[vn]=(xt[qt+1280|0]+xt[Jt+1536|0]+xt[Xn+1792|0]>>16)-128;it=wn(He,$,it,g,E),bt=wn(Ct,re,bt,y,D),St=wn(Mt,re,St,y,D),Kt+=32}nr+=8}if(ee>=0){var _r=[];_r[1]=ee+1,_r[0]=(1<<ee+1)-1,bn(_r)}return Sn(65497),new Uint8Array(De)},C=C||50,function(){for(var ae=String.fromCharCode,$e=0;$e<256;$e++)hn[$e]=ae($e)}(),g=rn(Ue,an),y=rn(Ee,vt),E=rn(cn,Re),D=rn(ct,pn),function(){for(var ae=1,$e=2,it=1;it<=15;it++){for(var bt=ae;bt<$e;bt++)ve[32767+bt]=it,ue[32767+bt]=[],ue[32767+bt][1]=it,ue[32767+bt][0]=bt;for(var St=-($e-1);St<=-ae;St++)ve[32767+St]=it,ue[32767+St]=[],ue[32767+St][1]=it,ue[32767+St][0]=$e-1+St;ae<<=1,$e<<=1}}(),function(){for(var ae=0;ae<256;ae++)xt[ae]=19595*ae,xt[ae+256|0]=38470*ae,xt[ae+512|0]=7471*ae+32768,xt[ae+768|0]=-11059*ae,xt[ae+1024|0]=-21709*ae,xt[ae+1280|0]=32768*ae+8421375,xt[ae+1536|0]=-27439*ae,xt[ae+1792|0]=-5329*ae}(),lr(C)}function ka(C,g){if(this.pos=0,this.buffer=C,this.datav=new DataView(C.buffer),this.is_with_alpha=!!g,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,-1===["BM","BA","CI","CP","IC","PT"].indexOf(this.flag))throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function ld(C){function g(Ue){if(!Ue)throw Error("assert :P")}function y(Ue,an,cn){for(var Re=0;4>Re;Re++)if(Ue[an+Re]!=cn.charCodeAt(Re))return!0;return!1}function E(Ue,an,cn,Re,Ee){for(var vt=0;vt<Ee;vt++)Ue[an+vt]=cn[Re+vt]}function D(Ue,an,cn,Re){for(var Ee=0;Ee<Re;Ee++)Ue[an+Ee]=cn}function T(Ue){return new Int32Array(Ue)}function P(Ue,an){for(var cn=[],Re=0;Re<Ue;Re++)cn.push(new an);return cn}function M(Ue,an){var cn=[];return function Re(Ee,vt,ct){for(var pn=ct[vt],rn=0;rn<pn&&(Ee.push(ct.length>vt+1?[]:new an),!(ct.length<vt+1));rn++)Re(Ee[rn],vt+1,ct)}(cn,0,Ue),cn}var L=function(){var Ue=this;function an(f,S){for(var N=1<<S-1>>>0;f&N;)N>>>=1;return N?(f&N-1)+N:f}function cn(f,S,N,Q,X){g(!(Q%N));do{f[S+(Q-=N)]=X}while(0<Q)}function Re(f,S,N,Q,X){if(g(2328>=X),512>=X)var ie=T(512);else if(null==(ie=T(X)))return 0;return function(le,pe,we,d,A,w){var _,x,U=pe,j=1<<we,z=T(16),G=T(16);for(g(0!=A),g(null!=d),g(null!=le),g(0<we),x=0;x<A;++x){if(15<d[x])return 0;++z[d[x]]}if(z[0]==A)return 0;for(G[1]=0,_=1;15>_;++_){if(z[_]>1<<_)return 0;G[_+1]=G[_]+z[_]}for(x=0;x<A;++x)_=d[x],0<d[x]&&(w[G[_]++]=x);if(1==G[15])return(d=new Ee).g=0,d.value=w[0],cn(le,U,1,j,d),j;var Ce,Fe=-1,Me=j-1,It=0,nn=1,dn=1,Zt=1<<we;for(x=0,_=1,A=2;_<=we;++_,A<<=1){if(nn+=dn<<=1,0>(dn-=z[_]))return 0;for(;0<z[_];--z[_])(d=new Ee).g=_,d.value=w[x++],cn(le,U+It,A,Zt,d),It=an(It,_)}for(_=we+1,A=2;15>=_;++_,A<<=1){if(nn+=dn<<=1,0>(dn-=z[_]))return 0;for(;0<z[_];--z[_]){if(d=new Ee,(It&Me)!=Fe){for(U+=Zt,Ce=1<<(Fe=_)-we;15>Fe&&!(0>=(Ce-=z[Fe]));)++Fe,Ce<<=1;j+=Zt=1<<(Ce=Fe-we),le[pe+(Fe=It&Me)].g=Ce+we,le[pe+Fe].value=U-pe-Fe}d.g=_-we,d.value=w[x++],cn(le,U+(It>>we),A,Zt,d),It=an(It,_)}}return nn!=2*G[15]-1?0:j}(f,S,N,Q,X,ie)}function Ee(){this.value=this.g=0}function vt(){this.value=this.g=0}function ct(){this.G=P(5,Ee),this.H=T(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=P(ja,vt)}function pn(f,S,N,Q){g(null!=f),g(null!=S),g(2147483648>Q),f.Ca=254,f.I=0,f.b=-8,f.Ka=0,f.oa=S,f.pa=N,f.Jd=S,f.Yc=N+Q,f.Zc=4<=Q?N+Q-4+1:N,Kt(f)}function rn(f,S){for(var N=0;0<S--;)N|=Jt(f,128)<<S;return N}function bn(f,S){var N=rn(f,S);return qt(f)?-N:N}function Wt(f,S,N,Q){var X,ie=0;for(g(null!=f),g(null!=S),g(4294967288>Q),f.Sb=Q,f.Ra=0,f.u=0,f.h=0,4<Q&&(Q=4),X=0;X<Q;++X)ie+=S[N+X]<<8*X;f.Ra=ie,f.bb=Q,f.oa=S,f.pa=N}function Sn(f){for(;8<=f.u&&f.bb<f.Sb;)f.Ra>>>=8,f.Ra+=f.oa[f.pa+f.bb]<<Oc-8>>>0,++f.bb,f.u-=8;it(f)&&(f.h=1,f.u=0)}function wn(f,S){if(g(0<=S),!f.h&&S<=Lc){var N=$e(f)&vd[S];return f.u+=S,Sn(f),N}return f.h=1,f.u=0}function lr(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function ae(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function $e(f){return f.Ra>>>(f.u&Oc-1)>>>0}function it(f){return g(f.bb<=f.Sb),f.h||f.bb==f.Sb&&f.u>Oc}function bt(f,S){f.u=S,f.h=it(f)}function St(f){f.u>=kA&&(g(f.u>=kA),Sn(f))}function Kt(f){g(null!=f&&null!=f.oa),f.pa<f.Zc?(f.I=(f.oa[f.pa++]|f.I<<8)>>>0,f.b+=8):(g(null!=f&&null!=f.oa),f.pa<f.Yc?(f.b+=8,f.I=f.oa[f.pa++]|f.I<<8):f.Ka?f.b=0:(f.I<<=8,f.b+=8,f.Ka=1))}function qt(f){return rn(f,1)}function Jt(f,S){var N=f.Ca;0>f.b&&Kt(f);var Q=f.b,X=N*S>>>8,ie=(f.I>>>Q>X)+0;for(ie?(N-=X,f.I-=X+1<<Q>>>0):N=X+1,Q=N,X=0;256<=Q;)X+=8,Q>>=8;return f.b-=Q=7^X+Pa[Q],f.Ca=(N<<Q)-1,ie}function Xn(f,S,N){f[S+0]=N>>24&255,f[S+1]=N>>16&255,f[S+2]=N>>8&255,f[S+3]=255&N}function Wn(f,S){return f[S+0]|f[S+1]<<8}function gr(f,S){return Wn(f,S)|f[S+2]<<16}function Dr(f,S){return Wn(f,S)|Wn(f,S+2)<<16}function ui(f,S){var N=1<<S;return g(null!=f),g(0<S),f.X=T(N),null==f.X?0:(f.Mb=32-S,f.Xa=S,1)}function vn(f,S){g(null!=f),g(null!=S),g(f.Xa==S.Xa),E(S.X,0,f.X,0,1<<S.Xa)}function We(){this.X=[],this.Xa=this.Mb=0}function ai(f,S,N,Q){g(null!=N),g(null!=Q);var X=N[0],ie=Q[0];return 0==X&&(X=(f*ie+S/2)/S),0==ie&&(ie=(S*X+f/2)/f),0>=X||0>=ie?0:(N[0]=X,Q[0]=ie,1)}function Qr(f,S){return f+(1<<S)-1>>>S}function jn(f,S){return((4278255360&f)+(4278255360&S)>>>0&4278255360)+((16711935&f)+(16711935&S)>>>0&16711935)>>>0}function nr(f,S){Ue[S]=function(N,Q,X,ie,le,pe,we){var d;for(d=0;d<le;++d){var A=Ue[f](pe[we+d-1],X,ie+d);pe[we+d]=jn(N[Q+d],A)}}}function _r(){this.ud=this.hd=this.jd=0}function ir(f,S){return((4278124286&(f^S))>>>1)+(f&S)>>>0}function Wr(f){return 0<=f&&256>f?f:0>f?0:255<f?255:void 0}function Si(f,S){return Wr(f+(f-S+.5>>1))}function Mi(f,S,N){return Math.abs(S-N)-Math.abs(f-N)}function ji(f,S,N,Q,X,ie,le){for(Q=ie[le-1],N=0;N<X;++N)ie[le+N]=Q=jn(f[S+N],Q)}function Fi(f,S,N,Q,X){var ie;for(ie=0;ie<N;++ie){var le=f[S+ie],pe=le>>8&255,we=16711935&(we=(we=16711935&le)+((pe<<16)+pe));Q[X+ie]=(4278255360&le)+we>>>0}}function Vo(f,S){S.jd=255&f,S.hd=f>>8&255,S.ud=f>>16&255}function fi(f,S,N,Q,X,ie){var le;for(le=0;le<Q;++le){var pe=S[N+le],we=pe>>>8,d=pe,A=255&(A=(A=pe>>>16)+((f.jd<<24>>24)*(we<<24>>24)>>>5));d=255&(d=(d+=(f.hd<<24>>24)*(we<<24>>24)>>>5)+((f.ud<<24>>24)*(A<<24>>24)>>>5)),X[ie+le]=(4278255360&pe)+(A<<16)+d}}function Ti(f,S,N,Q,X){Ue[S]=function(ie,le,pe,we,d,A,w,_,x){for(we=w;we<_;++we)for(w=0;w<x;++w)d[A++]=X(pe[Q(ie[le++])])},Ue[f]=function(ie,le,pe,we,d,A,w){var _=8>>ie.b,x=ie.Ea,U=ie.K[0],j=ie.w;if(8>_)for(ie=(1<<ie.b)-1,j=(1<<_)-1;le<pe;++le){var z,G=0;for(z=0;z<x;++z)z&ie||(G=Q(we[d++])),A[w++]=X(U[G&j]),G>>=_}else Ue["VP8LMapColor"+N](we,d,U,j,A,w,le,pe,x)}}function Ar(f,S,N,Q,X){for(N=S+N;S<N;){var ie=f[S++];Q[X++]=ie>>16&255,Q[X++]=ie>>8&255,Q[X++]=255&ie}}function uo(f,S,N,Q,X){for(N=S+N;S<N;){var ie=f[S++];Q[X++]=ie>>16&255,Q[X++]=ie>>8&255,Q[X++]=255&ie,Q[X++]=ie>>24&255}}function pi(f,S,N,Q,X){for(N=S+N;S<N;){var ie=(le=f[S++])>>16&240|le>>12&15,le=240&le|le>>28&15;Q[X++]=ie,Q[X++]=le}}function ml(f,S,N,Q,X){for(N=S+N;S<N;){var ie=(le=f[S++])>>16&248|le>>13&7,le=le>>5&224|le>>3&31;Q[X++]=ie,Q[X++]=le}}function es(f,S,N,Q,X){for(N=S+N;S<N;){var ie=f[S++];Q[X++]=255&ie,Q[X++]=ie>>8&255,Q[X++]=ie>>16&255}}function ko(f,S,N,Q,X,ie){if(0==ie)for(N=S+N;S<N;)Xn(Q,((ie=f[S++])[0]>>24|ie[1]>>8&65280|ie[2]<<8&16711680|ie[3]<<24)>>>0),X+=32;else E(Q,X,f,S,N)}function tc(f,S){Ue[S][0]=Ue[f+"0"],Ue[S][1]=Ue[f+"1"],Ue[S][2]=Ue[f+"2"],Ue[S][3]=Ue[f+"3"],Ue[S][4]=Ue[f+"4"],Ue[S][5]=Ue[f+"5"],Ue[S][6]=Ue[f+"6"],Ue[S][7]=Ue[f+"7"],Ue[S][8]=Ue[f+"8"],Ue[S][9]=Ue[f+"9"],Ue[S][10]=Ue[f+"10"],Ue[S][11]=Ue[f+"11"],Ue[S][12]=Ue[f+"12"],Ue[S][13]=Ue[f+"13"],Ue[S][14]=Ue[f+"0"],Ue[S][15]=Ue[f+"0"]}function Ro(f){return f==Rg||f==Cp||f==uh||f==bp}function ud(){this.eb=[],this.size=this.A=this.fb=0}function Rs(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function vl(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new ud,this.f.kb=new Rs,this.sd=null}function nc(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Wo(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function ci(f){return alert("todo:WebPSamplerProcessPlane"),f.T}function ti(f,S){var N=f.T,Q=S.ba.f.RGBA,X=Q.eb,ie=Q.fb+f.ka*Q.A,le=Lu[S.ba.S],pe=f.y,we=f.O,d=f.f,A=f.N,w=f.ea,_=f.W,x=S.cc,U=S.dc,j=S.Mc,z=S.Nc,G=f.ka,Ce=f.ka+f.T,Fe=f.U,Me=Fe+1>>1;for(0==G?le(pe,we,null,null,d,A,w,_,d,A,w,_,X,ie,null,null,Fe):(le(S.ec,S.fc,pe,we,x,U,j,z,d,A,w,_,X,ie-Q.A,X,ie,Fe),++N);G+2<Ce;G+=2)le(pe,(we+=2*f.fa)-f.fa,pe,we,x=d,U=A,j=w,z=_,d,A+=f.Rc,w,_+=f.Rc,X,(ie+=2*Q.A)-Q.A,X,ie,Fe);return we+=f.fa,f.j+Ce<f.o?(E(S.ec,S.fc,pe,we,Fe),E(S.cc,S.dc,d,A,Me),E(S.Mc,S.Nc,w,_,Me),N--):1&Ce||le(pe,we,null,null,d,A,w,_,d,A,w,_,X,ie+Q.A,null,null,Fe),N}function Qn(f,S,N){var Q=f.F,X=[f.J];if(null!=Q){var ie=f.U,le=S.ba.S,pe=le==Mf||le==uh;S=S.ba.f.RGBA;var we=[0],d=f.ka;we[0]=f.T,f.Kb&&(0==d?--we[0]:(--d,X[0]-=f.width),f.j+f.ka+f.T==f.o&&(we[0]=f.o-f.j-d));var A=S.eb;f=kg(Q,X[0],f.width,ie,we,A,(d=S.fb+d*S.A)+(pe?0:3),S.A),g(N==we),f&&Ro(le)&&RA(A,d,pe,ie,we,S.A)}return 0}function wr(f){var S=f.ma,N=S.ba.S,Q=11>N,X=N==_p||N==lh||N==Mf||N==$h||12==N||Ro(N);if(S.memory=null,S.Ib=null,S.Jb=null,S.Nd=null,!Nu(S.Oa,f,X?11:12))return 0;if(X&&Ro(N)&&gn(),f.da)alert("todo:use_scaling");else{if(Q){if(S.Ib=ci,f.Kb){if(S.memory=T(f.U+2*(N=f.U+1>>1)),null==S.memory)return 0;S.ec=S.memory,S.fc=0,S.cc=S.ec,S.dc=S.fc+f.U,S.Mc=S.cc,S.Nc=S.dc+N,S.Ib=ti,gn()}}else alert("todo:EmitYUV");X&&(S.Jb=Qn,Q&&kt())}if(Q&&!Lg){for(f=0;256>f;++f)Qc[f]=89858*(f-128)+Mg>>Mo,Og[f]=-22014*(f-128)+Mg,Sy[f]=-45773*(f-128),Ey[f]=113618*(f-128)+Mg>>Mo;for(f=Gh;f<Bp;++f)zw[f-Gh]=Qo(S=76283*(f-16)+Mg>>Mo,255),Ty[f-Gh]=Qo(S+8>>4,15);Lg=1}return 1}function co(f){var S=f.ma,N=f.U,Q=f.T;return g(!(1&f.ka)),0>=N||0>=Q?0:(N=S.Ib(f,S),null!=S.Jb&&S.Jb(f,S,N),S.Dc+=N,1)}function qs(f){f.ma.memory=null}function kr(f,S,N,Q){return 47!=wn(f,8)?0:(S[0]=wn(f,14)+1,N[0]=wn(f,14)+1,Q[0]=wn(f,1),0!=wn(f,3)?0:!f.h)}function As(f,S){if(4>f)return f+1;var N=f-2>>1;return(2+(1&f)<<N)+wn(S,N)+1}function Xa(f,S){return 120<S?S-120:1<=(N=((N=Mu[S-1])>>4)*f+(8-(15&N)))?N:1;var N}function zi(f,S,N){var Q=$e(N),X=f[S+=255&Q].g-8;return 0<X&&(bt(N,N.u+8),Q=$e(N),S+=f[S].value,S+=Q&(1<<X)-1),bt(N,N.u+f[S].g),f[S].value}function mo(f,S,N){return N.g+=f.g,N.value+=f.value<<S>>>0,g(8>=N.g),f.g}function Eo(f,S,N){var Q=f.xc;return g((S=0==Q?0:f.vc[f.md*(N>>Q)+(S>>Q)])<f.Wb),f.Ya[S]}function Hr(f,S,N,Q){var X=f.ab,ie=f.c*S,le=f.C;S=le+S;var pe=N,we=Q;for(Q=f.Ta,N=f.Ua;0<X--;){var d=f.gc[X],A=le,w=S,_=pe,x=we,U=(we=Q,pe=N,d.Ea);switch(g(A<w),g(w<=d.nc),d.hc){case 2:b(_,x,(w-A)*U,we,pe);break;case 0:var j=A,z=w,G=we,Ce=pe,Fe=(Zt=d).Ea;0==j&&(B(_,x,null,null,1,G,Ce),ji(_,x+1,0,0,Fe-1,G,Ce+1),x+=Fe,Ce+=Fe,++j);for(var Me=1<<Zt.b,It=Me-1,nn=Qr(Fe,Zt.b),dn=Zt.K,Zt=Zt.w+(j>>Zt.b)*nn;j<z;){var xr=dn,Yn=Zt,Hn=1;for(m(_,x,G,Ce-Fe,1,G,Ce);Hn<Fe;){var Nr=(Hn&~It)+Me;Nr>Fe&&(Nr=Fe),(0,Tt[xr[Yn++]>>8&15])(_,x+ +Hn,G,Ce+Hn-Fe,Nr-Hn,G,Ce+Hn),Hn=Nr}x+=Fe,Ce+=Fe,++j&It||(Zt+=nn)}w!=d.nc&&E(we,pe-U,we,pe+(w-A-1)*U,U);break;case 1:for(U=_,z=x,Fe=(_=d.Ea)-(Ce=_&~(G=(x=1<<d.b)-1)),j=Qr(_,d.b),Me=d.K,d=d.w+(A>>d.b)*j;A<w;){for(It=Me,nn=d,dn=new _r,Zt=z+Ce,xr=z+_;z<Zt;)Vo(It[nn++],dn),yn(dn,U,z,x,we,pe),z+=x,pe+=x;z<xr&&(Vo(It[nn++],dn),yn(dn,U,z,Fe,we,pe),z+=Fe,pe+=Fe),++A&G||(d+=j)}break;case 3:if(_==we&&x==pe&&0<d.b){for(z=we,_=U=pe+(w-A)*U-(Ce=(w-A)*Qr(d.Ea,d.b)),x=we,G=pe,j=[],Ce=(Fe=Ce)-1;0<=Ce;--Ce)j[Ce]=x[G+Ce];for(Ce=Fe-1;0<=Ce;--Ce)z[_+Ce]=j[Ce];F(d,A,w,we,U,we,pe)}else F(d,A,w,_,x,we,pe)}pe=Q,we=N}we!=N&&E(Q,N,pe,we,ie)}function rc(f,S){var N=f.V,Q=f.Ba+f.c*f.C,X=S-f.C;if(g(S<=f.l.o),g(16>=X),0<X){var ie=f.l,le=f.Ta,pe=f.Ua,we=ie.width;if(Hr(f,X,N,Q),X=pe=[pe],g((N=f.C)<(Q=S)),g(ie.v<ie.va),Q>ie.o&&(Q=ie.o),N<ie.j){var d=ie.j-N;N=ie.j,X[0]+=d*we}if(N>=Q?N=0:(X[0]+=4*ie.v,ie.ka=N-ie.j,ie.U=ie.va-ie.v,ie.T=Q-N,N=1),N){if(pe=pe[0],11>(N=f.ca).S){var A=N.f.RGBA,w=(Q=N.S,X=ie.U,ie=ie.T,d=A.eb,A.A),_=ie;for(A=A.fb+f.Ma*A.A;0<_--;){var x=le,U=pe,j=X,z=d,G=A;switch(Q){case fu:Ln(x,U,j,z,G);break;case _p:Lr(x,U,j,z,G);break;case Rg:Lr(x,U,j,z,G),RA(z,G,0,j,1,0);break;case Nf:$l(x,U,j,z,G);break;case lh:ko(x,U,j,z,G,1);break;case Cp:ko(x,U,j,z,G,1),RA(z,G,0,j,1,0);break;case Mf:ko(x,U,j,z,G,0);break;case uh:ko(x,U,j,z,G,0),RA(z,G,1,j,1,0);break;case $h:bi(x,U,j,z,G);break;case bp:bi(x,U,j,z,G),kf(z,G,j,1,0);break;case wp:Bs(x,U,j,z,G);break;default:g(0)}pe+=we,A+=w}f.Ma+=ie}else alert("todo:EmitRescaledRowsYUVA");g(f.Ma<=N.height)}}f.C=S,g(f.C<=f.i)}function ic(f){var S;if(0<f.ua)return 0;for(S=0;S<f.Wb;++S){var N=f.Ya[S].G,Q=f.Ya[S].H;if(0<N[1][Q[1]+0].g||0<N[2][Q[2]+0].g||0<N[3][Q[3]+0].g)return 0}return 1}function Ha(f,S,N,Q,X,ie){if(0!=f.Z){var le=f.qd,pe=f.rd;for(g(null!=eA[f.Z]);S<N;++S)eA[f.Z](le,pe,Q,X,Q,X,ie),le=Q,pe=X,X+=ie;f.qd=le,f.rd=pe}}function di(f,S){var N=f.l.ma,Q=0==N.Z||1==N.Z?f.l.j:f.C;if(Q=f.C<Q?Q:f.C,g(S<=f.l.o),S>Q){var X=f.l.width,ie=N.ca,le=N.tb+X*Q,pe=f.V,we=f.Ba+f.c*Q,d=f.gc;g(1==f.ab),g(3==d[0].hc),Ae(d[0],Q,S,pe,we,ie,le),Ha(N,Q,S,ie,le,X)}f.C=f.Ma=S}function ya(f,S,N,Q,X,ie,le){var pe=f.$/Q,we=f.$%Q,d=f.m,A=f.s,w=N+f.$,_=w;X=N+Q*X;var x=N+Q*ie,U=280+A.ua,j=f.Pb?pe:16777216,z=0<A.ua?A.Wa:null,G=A.wc,Ce=w<x?Eo(A,we,pe):null;g(f.C<ie),g(x<=X);var Fe=!1;e:for(;;){for(;Fe||w<x;){var Me=0;if(pe>=j){var It=w-N;g((j=f).Pb),j.wd=j.m,j.xd=It,0<j.s.ua&&vn(j.s.Wa,j.s.vb),j=pe+wo}if(we&G||(Ce=Eo(A,we,pe)),g(null!=Ce),Ce.Qb&&(S[w]=Ce.qb,Fe=!0),!Fe)if(St(d),Ce.jc){It=S;var nn=w,dn=Ce.pd[$e(Me=d)&ja-1];g(Ce.jc),256>dn.g?(bt(Me,Me.u+dn.g),It[nn]=dn.value,Me=0):(bt(Me,Me.u+dn.g-256),g(256<=dn.value),Me=dn.value),0==Me&&(Fe=!0)}else Me=zi(Ce.G[0],Ce.H[0],d);if(d.h)break;if(Fe||256>Me){if(!Fe)if(Ce.nd)S[w]=(Ce.qb|Me<<8)>>>0;else{if(St(d),Fe=zi(Ce.G[1],Ce.H[1],d),St(d),It=zi(Ce.G[2],Ce.H[2],d),nn=zi(Ce.G[3],Ce.H[3],d),d.h)break;S[w]=(nn<<24|Fe<<16|Me<<8|It)>>>0}if(Fe=!1,++w,++we>=Q&&(we=0,++pe,null!=le&&pe<=ie&&!(pe%16)&&le(f,pe),null!=z))for(;_<w;)Me=S[_++],z.X[(506832829*Me&4294967295)>>>z.Mb]=Me}else if(280>Me){if(Me=As(Me-256,d),It=zi(Ce.G[4],Ce.H[4],d),St(d),It=Xa(Q,It=As(It,d)),d.h)break;if(w-N<It||X-w<Me)break e;for(nn=0;nn<Me;++nn)S[w+nn]=S[w+nn-It];for(w+=Me,we+=Me;we>=Q;)we-=Q,++pe,null!=le&&pe<=ie&&!(pe%16)&&le(f,pe);if(g(w<=X),we&G&&(Ce=Eo(A,we,pe)),null!=z)for(;_<w;)Me=S[_++],z.X[(506832829*Me&4294967295)>>>z.Mb]=Me}else{if(!(Me<U))break e;for(Fe=Me-280,g(null!=z);_<w;)Me=S[_++],z.X[(506832829*Me&4294967295)>>>z.Mb]=Me;Me=w,g(!(Fe>>>(It=z).Xa)),S[Me]=It.X[Fe],Fe=!0}Fe||g(d.h==it(d))}if(f.Pb&&d.h&&w<X)g(f.m.h),f.a=5,f.m=f.wd,f.$=f.xd,0<f.s.ua&&vn(f.s.vb,f.s.Wa);else{if(d.h)break e;null!=le&&le(f,pe>ie?ie:pe),f.a=0,f.$=w-N}return 1}return f.a=3,0}function Ja(f){g(null!=f),f.vc=null,f.yc=null,f.Ya=null;var S=f.Wa;null!=S&&(S.X=null),f.vb=null,g(null!=f)}function Qs(){var f=new gp;return null==f?null:(f.a=0,f.xb=Sp,tc("Predictor","VP8LPredictors"),tc("Predictor","VP8LPredictors_C"),tc("PredictorAdd","VP8LPredictorsAdd"),tc("PredictorAdd","VP8LPredictorsAdd_C"),b=Fi,yn=fi,Ln=Ar,Lr=uo,bi=pi,Bs=ml,$l=es,Ue.VP8LMapColor32b=W,Ue.VP8LMapColor8b=gt,f)}function yl(f,S,N,Q,X){var ie=1,le=[f],pe=[S],we=Q.m,d=Q.s,A=null,w=0;e:for(;;){if(N)for(;ie&&wn(we,1);){var _=le,x=pe,U=Q,j=1,z=U.m,G=U.gc[U.ab],Ce=wn(z,2);if(U.Oc&1<<Ce)ie=0;else{switch(U.Oc|=1<<Ce,G.hc=Ce,G.Ea=_[0],G.nc=x[0],G.K=[null],++U.ab,g(4>=U.ab),Ce){case 0:case 1:G.b=wn(z,3)+2,j=yl(Qr(G.Ea,G.b),Qr(G.nc,G.b),0,U,G.K),G.K=G.K[0];break;case 3:var Fe,Me=wn(z,8)+1,It=16<Me?0:4<Me?1:2<Me?2:3;if(_[0]=Qr(G.Ea,It),G.b=It,Fe=j=yl(Me,1,0,U,G.K)){var nn,dn=Me,Zt=G,xr=1<<(8>>Zt.b),Yn=T(xr);if(null==Yn)Fe=0;else{var Hn=Zt.K[0],Nr=Zt.w;for(Yn[0]=Zt.K[0][0],nn=1;nn<1*dn;++nn)Yn[nn]=jn(Hn[Nr+nn],Yn[nn-1]);for(;nn<4*xr;++nn)Yn[nn]=0;Zt.K[0]=null,Zt.K[0]=Yn,Fe=1}}j=Fe;break;case 2:break;default:g(0)}ie=j}}if(le=le[0],pe=pe[0],ie&&wn(we,1)&&!(ie=1<=(w=wn(we,4))&&11>=w)){Q.a=3;break e}var Rr;if(Rr=ie)t:{var vr,Bn,ei,_i=Q,Fr=le,ho=pe,Di=w,hs=N,Ui=_i.m,ao=_i.s,js=[null],qo=1,ts=0,Sl=ev[Di];n:for(;;){if(hs&&wn(Ui,1)){var ss=wn(Ui,3)+2,Tl=Qr(Fr,ss),Uu=Qr(ho,ss),mu=Tl*Uu;if(!yl(Tl,Uu,0,_i,js))break n;for(js=js[0],ao.xc=ss,vr=0;vr<mu;++vr){var ol=js[vr]>>8&65535;js[vr]=ol,ol>=qo&&(qo=ol+1)}}if(Ui.h)break n;for(Bn=0;5>Bn;++Bn){var as=mr[Bn];!Bn&&0<Di&&(as+=1<<Di),ts<as&&(ts=as)}var Hc=P(qo*Sl,Ee),fc=qo,dh=P(fc,ct);if(null==dh)var Dp=null;else g(65536>=fc),Dp=dh;var xp=T(ts);if(null==Dp||null==xp||null==Hc){_i.a=1;break n}var xy=Hc;for(vr=ei=0;vr<qo;++vr){var PA=Dp[vr],NA=PA.G,Fp=PA.H,Vg=0,kp=1,Gw=0;for(Bn=0;5>Bn;++Bn){as=mr[Bn],NA[Bn]=xy,Fp[Bn]=ei,!Bn&&0<Di&&(as+=1<<Di);i:{var Qg,Hg=as,Uf=_i,Wh=xp,Ww=xy,Kw=ei,uv=0,nA=Uf.m,Fy=wn(nA,1);if(D(Wh,0,0,Hg),Fy){var Rp=wn(nA,1)+1,uE=wn(nA,1),qw=wn(nA,0==uE?1:8);Wh[qw]=1,2==Rp&&(Wh[qw=wn(nA,8)]=1);var ky=1}else{var jg=T(19),cv=wn(nA,4)+4;if(19<cv){Uf.a=3;var zg=0;break i}for(Qg=0;Qg<cv;++Qg)jg[Ep[Qg]]=wn(nA,3);var dv=void 0,Pp=void 0,Ry=Uf,cE=jg,Av=Hg,Yw=Wh,Py=0,Kh=Ry.m,Ah=8,Np=P(128,Ee);r:for(;Re(Np,0,7,cE,19);){if(wn(Kh,1)){var dE=2+2*wn(Kh,3);if((dv=2+wn(Kh,dE))>Av)break r}else dv=Av;for(Pp=0;Pp<Av&&dv--;){St(Kh);var AE=Np[0+(127&$e(Kh))];bt(Kh,Kh.u+AE.g);var $g=AE.value;if(16>$g)Yw[Pp++]=$g,0!=$g&&(Ah=$g);else{var Mk=16==$g,hE=$g-16,Lk=Iy[hE],Ny=wn(Kh,Ip[hE])+Lk;if(Pp+Ny>Av)break r;for(var fE=Mk?Ah:0;0<Ny--;)Yw[Pp++]=fE}}Py=1;break r}Py||(Ry.a=3),ky=Py}(ky=ky&&!nA.h)&&(uv=Re(Ww,Kw,8,Wh,Hg)),ky&&0!=uv?zg=uv:(Uf.a=3,zg=0)}if(0==zg)break n;if(kp&&1==hc[Bn]&&(kp=0==xy[ei].g),Vg+=xy[ei].g,ei+=zg,3>=Bn){var Gg,My=xp[0];for(Gg=1;Gg<as;++Gg)xp[Gg]>My&&(My=xp[Gg]);Gw+=My}}if(PA.nd=kp,PA.Qb=0,kp&&(PA.qb=(NA[3][Fp[3]+0].value<<24|NA[1][Fp[1]+0].value<<16|NA[2][Fp[2]+0].value)>>>0,0==Vg&&256>NA[0][Fp[0]+0].value&&(PA.Qb=1,PA.qb+=NA[0][Fp[0]+0].value<<8)),PA.jc=!PA.Qb&&6>Gw,PA.jc){var hv,rA=PA;for(hv=0;hv<ja;++hv){var vu=hv,yd=rA.pd[vu],Wg=rA.G[0][rA.H[0]+vu];256<=Wg.value?(yd.g=Wg.g+256,yd.value=Wg.value):(yd.g=0,yd.value=0,vu>>=mo(Wg,8,yd),vu>>=mo(rA.G[1][rA.H[1]+vu],16,yd),vu>>=mo(rA.G[2][rA.H[2]+vu],0,yd),mo(rA.G[3][rA.H[3]+vu],24,yd))}}}ao.vc=js,ao.Wb=qo,ao.Ya=Dp,ao.yc=Hc,Rr=1;break t}Rr=0}if(!(ie=Rr)){Q.a=3;break e}if(0<w){if(d.ua=1<<w,!ui(d.Wa,w)){Q.a=1,ie=0;break e}}else d.ua=0;var fv=Q,Ly=le,Ok=pe,Xw=fv.s,Jw=Xw.xc;if(fv.c=Ly,fv.i=Ok,Xw.md=Qr(Ly,Jw),Xw.wc=0==Jw?-1:(1<<Jw)-1,N){Q.xb=iv;break e}if(null==(A=T(le*pe))){Q.a=1,ie=0;break e}ie=(ie=ya(Q,A,0,le,pe,pe,null))&&!we.h;break e}return ie?(null!=X?X[0]=A:(g(null==A),g(N)),Q.$=0,N||Ja(d)):Ja(d),ie}function oc(f,S){var N=f.c*f.i,Q=N+S+16*S;return g(f.c<=S),f.V=T(Q),null==f.V?(f.Ta=null,f.Ua=0,f.a=1,0):(f.Ta=f.V,f.Ua=f.Ba+N+S,1)}function _l(f,S){var N=f.C,Q=S-N,X=f.V,ie=f.Ba+f.c*N;for(g(S<=f.l.o);0<Q;){var le=16<Q?16:Q,pe=f.l.ma,we=f.l.width,d=we*le,A=pe.ca,w=pe.tb+we*N,_=f.Ta,x=f.Ua;Hr(f,le,X,ie),mp(_,x,A,w,d),Ha(pe,N,N+le,A,w,we),Q-=le,X+=le*f.c,N+=le}g(N==S),f.C=f.Ma=S}function sc(){this.ub=this.yd=this.td=this.Rb=0}function au(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function gi(){this.Fb=this.Bb=this.Cb=0,this.Zb=T(4),this.Lb=T(4)}function Hd(){var f;this.Yb=(function S(N,Q,X){for(var ie=X[Q],le=0;le<ie&&(N.push(X.length>Q+1?[]:0),!(X.length<Q+1));le++)S(N[le],Q+1,X)}(f=[],0,[3,11]),f)}function jd(){this.jb=T(3),this.Wc=M([4,8],Hd),this.Xc=M([4,17],Hd)}function lu(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new T(4),this.od=new T(4)}function ac(){this.ld=this.La=this.dd=this.tc=0}function sr(){this.Na=this.la=0}function Ts(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function xc(){this.ad=T(384),this.Za=0,this.Ob=T(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Ys(){this.uc=this.M=this.Nb=0,this.wa=Array(new ac),this.Y=0,this.ya=Array(new xc),this.aa=0,this.l=new Za}function Po(){this.y=T(16),this.f=T(8),this.ea=T(8)}function th(){this.cb=this.a=0,this.sc="",this.m=new lr,this.Od=new sc,this.Kc=new au,this.ed=new lu,this.Qa=new gi,this.Ic=this.$c=this.Aa=0,this.D=new Ys,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=P(8,lr),this.ia=0,this.pb=P(4,Ts),this.Pa=new jd,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Po),this.Hd=0,this.rb=Array(new sr),this.sb=0,this.wa=Array(new ac),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new xc),this.L=this.aa=0,this.gd=M([4,2],ac),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Za(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Ql(){var f=new th;return null!=f&&(f.a=0,f.sc="OK",f.cb=0,f.Xb=0,Lf||(Lf=Ph)),f}function so(f,S,N){return 0==f.a&&(f.a=S,f.sc=N,f.cb=0),0}function EA(f,S,N){return 3<=N&&157==f[S+0]&&1==f[S+1]&&42==f[S+2]}function SA(f,S){if(null==f)return 0;if(f.a=0,f.sc="OK",null==S)return so(f,2,"null VP8Io passed to VP8GetHeaders()");var N=S.data,Q=S.w,X=S.ha;if(4>X)return so(f,7,"Truncated header.");var ie=N[Q+0]|N[Q+1]<<8|N[Q+2]<<16,le=f.Od;if(le.Rb=!(1&ie),le.td=ie>>1&7,le.yd=ie>>4&1,le.ub=ie>>5,3<le.td)return so(f,3,"Incorrect keyframe parameters.");if(!le.yd)return so(f,4,"Frame not displayable.");Q+=3,X-=3;var pe=f.Kc;if(le.Rb){if(7>X)return so(f,7,"cannot parse picture header");if(!EA(N,Q,X))return so(f,3,"Bad code word");pe.c=16383&(N[Q+4]<<8|N[Q+3]),pe.Td=N[Q+4]>>6,pe.i=16383&(N[Q+6]<<8|N[Q+5]),pe.Ud=N[Q+6]>>6,Q+=7,X-=7,f.za=pe.c+15>>4,f.Ub=pe.i+15>>4,S.width=pe.c,S.height=pe.i,S.Da=0,S.j=0,S.v=0,S.va=S.width,S.o=S.height,S.da=0,S.ib=S.width,S.hb=S.height,S.U=S.width,S.T=S.height,D((ie=f.Pa).jb,0,255,ie.jb.length),g(null!=(ie=f.Qa)),ie.Cb=0,ie.Bb=0,ie.Fb=1,D(ie.Zb,0,0,ie.Zb.length),D(ie.Lb,0,0,ie.Lb)}if(le.ub>X)return so(f,7,"bad partition length");pn(ie=f.m,N,Q,le.ub),Q+=le.ub,X-=le.ub,le.Rb&&(pe.Ld=qt(ie),pe.Kd=qt(ie)),pe=f.Qa;var we,d=f.Pa;if(g(null!=ie),g(null!=pe),pe.Cb=qt(ie),pe.Cb){if(pe.Bb=qt(ie),qt(ie)){for(pe.Fb=qt(ie),we=0;4>we;++we)pe.Zb[we]=qt(ie)?bn(ie,7):0;for(we=0;4>we;++we)pe.Lb[we]=qt(ie)?bn(ie,6):0}if(pe.Bb)for(we=0;3>we;++we)d.jb[we]=qt(ie)?rn(ie,8):255}else pe.Bb=0;if(ie.Ka)return so(f,3,"cannot parse segment header");if((pe=f.ed).zd=qt(ie),pe.Tb=rn(ie,6),pe.wb=rn(ie,3),pe.Pc=qt(ie),pe.Pc&&qt(ie)){for(d=0;4>d;++d)qt(ie)&&(pe.vd[d]=bn(ie,6));for(d=0;4>d;++d)qt(ie)&&(pe.od[d]=bn(ie,6))}if(f.L=0==pe.Tb?0:pe.zd?1:2,ie.Ka)return so(f,3,"cannot parse filter header");var A=X;if(X=we=Q,Q=we+A,pe=A,f.Xb=(1<<rn(f.m,2))-1,A<3*(d=f.Xb))N=7;else{for(we+=3*d,pe-=3*d,A=0;A<d;++A){var w=N[X+0]|N[X+1]<<8|N[X+2]<<16;w>pe&&(w=pe),pn(f.Jc[+A],N,we,w),we+=w,pe-=w,X+=3}pn(f.Jc[+d],N,we,pe),N=we<Q?0:5}if(0!=N)return so(f,N,"cannot parse partitions");for(N=rn(we=f.m,7),X=qt(we)?bn(we,4):0,Q=qt(we)?bn(we,4):0,pe=qt(we)?bn(we,4):0,d=qt(we)?bn(we,4):0,we=qt(we)?bn(we,4):0,A=f.Qa,w=0;4>w;++w){if(A.Cb){var _=A.Zb[w];A.Fb||(_+=N)}else{if(0<w){f.pb[w]=f.pb[0];continue}_=N}var x=f.pb[w];x.Sc[0]=Ho[Qo(_+X,127)],x.Sc[1]=Ms[Qo(_+0,127)],x.Eb[0]=2*Ho[Qo(_+Q,127)],x.Eb[1]=101581*Ms[Qo(_+pe,127)]>>16,8>x.Eb[1]&&(x.Eb[1]=8),x.Qc[0]=Ho[Qo(_+d,117)],x.Qc[1]=Ms[Qo(_+we,127)],x.lc=_+we}if(!le.Rb)return so(f,4,"Not a key frame.");for(qt(ie),le=f.Pa,N=0;4>N;++N){for(X=0;8>X;++X)for(Q=0;3>Q;++Q)for(pe=0;11>pe;++pe)d=Jt(ie,nv[N][X][Q][pe])?rn(ie,8):tv[N][X][Q][pe],le.Wc[N][X].Yb[Q][pe]=d;for(X=0;17>X;++X)le.Xc[N][X]=le.Wc[N][rv[X]]}return f.kc=qt(ie),f.kc&&(f.Bd=rn(ie,8)),f.cb=1}function Ph(f,S,N,Q,X,ie,le){var pe=S[X].Yb[N];for(N=0;16>X;++X){if(!Jt(f,pe[N+0]))return X;for(;!Jt(f,pe[N+1]);)if(pe=S[++X].Yb[0],N=0,16==X)return 16;var we=S[X+1].Yb;if(Jt(f,pe[N+2])){var d=f,A=0;if(Jt(d,(_=pe)[(w=N)+3]))if(Jt(d,_[w+6])){for(pe=0,w=2*(A=Jt(d,_[w+8]))+(_=Jt(d,_[w+9+A])),A=0,_=os[w];_[pe];++pe)A+=A+Jt(d,_[pe]);A+=3+(8<<w)}else Jt(d,_[w+7])?(A=7+2*Jt(d,165),A+=Jt(d,145)):A=5+Jt(d,159);else A=Jt(d,_[w+4])?3+Jt(d,_[w+5]):2;pe=we[2]}else A=1,pe=we[1];we=le+Pg[X],0>(d=f).b&&Kt(d);var w,_=d.b,x=(w=d.Ca>>1)-(d.I>>_)>>31;--d.b,d.Ca+=x,d.Ca|=1,d.I-=(w+1&x)<<_,ie[we]=((A^x)-x)*Q[(0<X)+0]}return 16}function ua(f){var S=f.rb[f.sb-1];S.la=0,S.Na=0,D(f.zc,0,0,f.zc.length),f.ja=0}function Hl(f,S,N,Q,X){f[S+N+32*Q]=-256&(X=f[S+N+32*Q]+(X>>3))?0>X?0:255:X}function dd(f,S,N,Q,X,ie){Hl(f,S,0,N,Q+X),Hl(f,S,1,N,Q+ie),Hl(f,S,2,N,Q-ie),Hl(f,S,3,N,Q-X)}function wl(f){return(20091*f>>16)+f}function TA(f,S,N,Q){var X,ie=0,le=T(16);for(X=0;4>X;++X){var pe=f[S+0]+f[S+8],we=f[S+0]-f[S+8],d=(35468*f[S+4]>>16)-wl(f[S+12]),A=wl(f[S+4])+(35468*f[S+12]>>16);le[ie+0]=pe+A,le[ie+1]=we+d,le[ie+2]=we-d,le[ie+3]=pe-A,ie+=4,S++}for(X=ie=0;4>X;++X)pe=(f=le[ie+0]+4)+le[ie+8],we=f-le[ie+8],d=(35468*le[ie+4]>>16)-wl(le[ie+12]),Hl(N,Q,0,0,pe+(A=wl(le[ie+4])+(35468*le[ie+12]>>16))),Hl(N,Q,1,0,we+d),Hl(N,Q,2,0,we-d),Hl(N,Q,3,0,pe-A),ie++,Q+=32}function BA(f,S,N,Q){var X=f[S+0]+4,ie=35468*f[S+4]>>16,le=wl(f[S+4]),pe=35468*f[S+1]>>16;dd(N,Q,0,X+le,f=wl(f[S+1]),pe),dd(N,Q,1,X+ie,f,pe),dd(N,Q,2,X-ie,f,pe),dd(N,Q,3,X-le,f,pe)}function pp(f,S,N,Q,X){TA(f,S,N,Q),X&&TA(f,S+16,N,Q+4)}function Df(f,S,N,Q){Gl(f,S+0,N,Q,1),Gl(f,S+32,N,Q+128,1)}function Nh(f,S,N,Q){var X;for(f=f[S+0]+4,X=0;4>X;++X)for(S=0;4>S;++S)Hl(N,Q,S,X,f)}function xf(f,S,N,Q){f[S+0]&&Ca(f,S+0,N,Q),f[S+16]&&Ca(f,S+16,N,Q+4),f[S+32]&&Ca(f,S+32,N,Q+128),f[S+48]&&Ca(f,S+48,N,Q+128+4)}function Mh(f,S,N,Q){var X,ie=T(16);for(X=0;4>X;++X){var le=f[S+0+X]+f[S+12+X],pe=f[S+4+X]+f[S+8+X],we=f[S+4+X]-f[S+8+X],d=f[S+0+X]-f[S+12+X];ie[0+X]=le+pe,ie[8+X]=le-pe,ie[4+X]=d+we,ie[12+X]=d-we}for(X=0;4>X;++X)le=(f=ie[0+4*X]+3)+ie[3+4*X],we=ie[1+4*X]-ie[2+4*X],d=f-ie[3+4*X],N[Q+0]=le+(pe=ie[1+4*X]+ie[2+4*X])>>3,N[Q+16]=d+we>>3,N[Q+32]=le-pe>>3,N[Q+48]=d-we>>3,Q+=64}function Lh(f,S,N){var Q,X=S-32,ie=El,le=255-f[X-1];for(Q=0;Q<N;++Q){var pe,we=ie,d=le+f[S-1];for(pe=0;pe<N;++pe)f[S+pe]=we[d+f[X+pe]];S+=32}}function Oh(f,S){Lh(f,S,4)}function Uh(f,S){Lh(f,S,8)}function Ff(f,S){Lh(f,S,16)}function Cl(f,S){var N;for(N=0;16>N;++N)E(f,S+32*N,f,S-32,16)}function zd(f,S){var N;for(N=16;0<N;--N)D(f,S,f[S-1],16),S+=32}function nh(f,S,N){var Q;for(Q=0;16>Q;++Q)D(S,N+32*Q,f,16)}function DA(f,S){var N,Q=16;for(N=0;16>N;++N)Q+=f[S-1+32*N]+f[S+N-32];nh(Q>>5,f,S)}function Ra(f,S){var N,Q=8;for(N=0;16>N;++N)Q+=f[S-1+32*N];nh(Q>>4,f,S)}function $d(f,S){var N,Q=8;for(N=0;16>N;++N)Q+=f[S+N-32];nh(Q>>4,f,S)}function Vh(f,S){nh(128,f,S)}function yi(f,S,N){return f+2*S+N+2>>2}function ca(f,S){var N,Q=S-32;for(Q=new Uint8Array([yi(f[Q-1],f[Q+0],f[Q+1]),yi(f[Q+0],f[Q+1],f[Q+2]),yi(f[Q+1],f[Q+2],f[Q+3]),yi(f[Q+2],f[Q+3],f[Q+4])]),N=0;4>N;++N)E(f,S+32*N,Q,0,Q.length)}function xA(f,S){var N=f[S-1],Q=f[S-1+32],X=f[S-1+64],ie=f[S-1+96];Xn(f,S+0,16843009*yi(f[S-1-32],N,Q)),Xn(f,S+32,16843009*yi(N,Q,X)),Xn(f,S+64,16843009*yi(Q,X,ie)),Xn(f,S+96,16843009*yi(X,ie,ie))}function Fu(f,S){var N,Q=4;for(N=0;4>N;++N)Q+=f[S+N-32]+f[S-1+32*N];for(Q>>=3,N=0;4>N;++N)D(f,S+32*N,Q,4)}function Qh(f,S){var N=f[S-1+0],Q=f[S-1+32],X=f[S-1+64],ie=f[S-1-32],le=f[S+0-32],pe=f[S+1-32],we=f[S+2-32],d=f[S+3-32];f[S+0+96]=yi(Q,X,f[S-1+96]),f[S+1+96]=f[S+0+64]=yi(N,Q,X),f[S+2+96]=f[S+1+64]=f[S+0+32]=yi(ie,N,Q),f[S+3+96]=f[S+2+64]=f[S+1+32]=f[S+0+0]=yi(le,ie,N),f[S+3+64]=f[S+2+32]=f[S+1+0]=yi(pe,le,ie),f[S+3+32]=f[S+2+0]=yi(we,pe,le),f[S+3+0]=yi(d,we,pe)}function Ad(f,S){var N=f[S+1-32],Q=f[S+2-32],X=f[S+3-32],ie=f[S+4-32],le=f[S+5-32],pe=f[S+6-32],we=f[S+7-32];f[S+0+0]=yi(f[S+0-32],N,Q),f[S+1+0]=f[S+0+32]=yi(N,Q,X),f[S+2+0]=f[S+1+32]=f[S+0+64]=yi(Q,X,ie),f[S+3+0]=f[S+2+32]=f[S+1+64]=f[S+0+96]=yi(X,ie,le),f[S+3+32]=f[S+2+64]=f[S+1+96]=yi(ie,le,pe),f[S+3+64]=f[S+2+96]=yi(le,pe,we),f[S+3+96]=yi(pe,we,we)}function Fc(f,S){var N=f[S-1+0],Q=f[S-1+32],X=f[S-1+64],ie=f[S-1-32],le=f[S+0-32],pe=f[S+1-32],we=f[S+2-32],d=f[S+3-32];f[S+0+0]=f[S+1+64]=ie+le+1>>1,f[S+1+0]=f[S+2+64]=le+pe+1>>1,f[S+2+0]=f[S+3+64]=pe+we+1>>1,f[S+3+0]=we+d+1>>1,f[S+0+96]=yi(X,Q,N),f[S+0+64]=yi(Q,N,ie),f[S+0+32]=f[S+1+96]=yi(N,ie,le),f[S+1+32]=f[S+2+96]=yi(ie,le,pe),f[S+2+32]=f[S+3+96]=yi(le,pe,we),f[S+3+32]=yi(pe,we,d)}function Gd(f,S){var N=f[S+0-32],Q=f[S+1-32],X=f[S+2-32],ie=f[S+3-32],le=f[S+4-32],pe=f[S+5-32],we=f[S+6-32],d=f[S+7-32];f[S+0+0]=N+Q+1>>1,f[S+1+0]=f[S+0+64]=Q+X+1>>1,f[S+2+0]=f[S+1+64]=X+ie+1>>1,f[S+3+0]=f[S+2+64]=ie+le+1>>1,f[S+0+32]=yi(N,Q,X),f[S+1+32]=f[S+0+96]=yi(Q,X,ie),f[S+2+32]=f[S+1+96]=yi(X,ie,le),f[S+3+32]=f[S+2+96]=yi(ie,le,pe),f[S+3+64]=yi(le,pe,we),f[S+3+96]=yi(pe,we,d)}function hd(f,S){var N=f[S-1+0],Q=f[S-1+32],X=f[S-1+64],ie=f[S-1+96];f[S+0+0]=N+Q+1>>1,f[S+2+0]=f[S+0+32]=Q+X+1>>1,f[S+2+32]=f[S+0+64]=X+ie+1>>1,f[S+1+0]=yi(N,Q,X),f[S+3+0]=f[S+1+32]=yi(Q,X,ie),f[S+3+32]=f[S+1+64]=yi(X,ie,ie),f[S+3+64]=f[S+2+64]=f[S+0+96]=f[S+1+96]=f[S+2+96]=f[S+3+96]=ie}function Hh(f,S){var N=f[S-1+0],Q=f[S-1+32],X=f[S-1+64],ie=f[S-1+96],le=f[S-1-32],pe=f[S+0-32],we=f[S+1-32],d=f[S+2-32];f[S+0+0]=f[S+2+32]=N+le+1>>1,f[S+0+32]=f[S+2+64]=Q+N+1>>1,f[S+0+64]=f[S+2+96]=X+Q+1>>1,f[S+0+96]=ie+X+1>>1,f[S+3+0]=yi(pe,we,d),f[S+2+0]=yi(le,pe,we),f[S+1+0]=f[S+3+32]=yi(N,le,pe),f[S+1+32]=f[S+3+64]=yi(Q,N,le),f[S+1+64]=f[S+3+96]=yi(X,Q,N),f[S+1+96]=yi(ie,X,Q)}function jl(f,S){var N;for(N=0;8>N;++N)E(f,S+32*N,f,S-32,8)}function kc(f,S){var N;for(N=0;8>N;++N)D(f,S,f[S-1],8),S+=32}function lc(f,S,N){var Q;for(Q=0;8>Q;++Q)D(S,N+32*Q,f,8)}function ku(f,S){var N,Q=8;for(N=0;8>N;++N)Q+=f[S+N-32]+f[S-1+32*N];lc(Q>>4,f,S)}function rh(f,S){var N,Q=4;for(N=0;8>N;++N)Q+=f[S+N-32];lc(Q>>3,f,S)}function fd(f,S){var N,Q=4;for(N=0;8>N;++N)Q+=f[S-1+32*N];lc(Q>>3,f,S)}function xi(f,S){lc(128,f,S)}function uu(f,S,N){var Q=f[S-N],X=f[S+0],ie=3*(X-Q)+Zm[1020+f[S-2*N]-f[S+N]],le=Pf[112+(ie+4>>3)];f[S-N]=El[255+Q+Pf[112+(ie+3>>3)]],f[S+0]=El[255+X-le]}function pd(f,S,N,Q){return hu[255+f[S-2*N]-f[S-N]]>Q||hu[255+f[S+N]-f[S+0]]>Q}function da(f,S,N,Q){return 4*hu[255+f[S-N]-f[S+0]]+hu[255+f[S-2*N]-f[S+N]]<=Q}function ih(f,S,N,Q,X){var ie=f[S-3*N],le=f[S-2*N],pe=f[S-N],we=f[S+0],d=f[S+N],A=f[S+2*N];return 4*hu[255+pe-we]+hu[255+le-d]>Q?0:hu[255+f[S-4*N]-ie]<=X&&hu[255+ie-le]<=X&&hu[255+le-pe]<=X&&hu[255+f[S+3*N]-A]<=X&&hu[255+A-d]<=X&&hu[255+d-we]<=X}function Rc(f,S,N,Q){var X=2*Q+1;for(Q=0;16>Q;++Q)da(f,S+Q,N,X)&&uu(f,S+Q,N)}function bl(f,S,N,Q){var X=2*Q+1;for(Q=0;16>Q;++Q)da(f,S+Q*N,1,X)&&uu(f,S+Q*N,1)}function Hs(f,S,N,Q){var X;for(X=3;0<X;--X)Rc(f,S+=4*N,N,Q)}function oh(f,S,N,Q){var X;for(X=3;0<X;--X)bl(f,S+=4,N,Q)}function uc(f,S,N,Q,X,ie,le,pe){for(ie=2*ie+1;0<X--;){if(ih(f,S,N,ie,le))if(pd(f,S,N,pe))uu(f,S,N);else{var we=f,d=S,A=N,w=we[d-2*A],_=we[d-A],x=we[d+0],U=we[d+A],j=we[d+2*A],z=27*(Ce=Zm[1020+3*(x-_)+Zm[1020+w-U]])+63>>7,G=18*Ce+63>>7,Ce=9*Ce+63>>7;we[d-3*A]=El[255+we[d-3*A]+Ce],we[d-2*A]=El[255+w+G],we[d-A]=El[255+_+z],we[d+0]=El[255+x-z],we[d+A]=El[255+U-G],we[d+2*A]=El[255+j-Ce]}S+=Q}}function Ru(f,S,N,Q,X,ie,le,pe){for(ie=2*ie+1;0<X--;){if(ih(f,S,N,ie,le))if(pd(f,S,N,pe))uu(f,S,N);else{var we=f,d=S,A=N,w=we[d-A],_=we[d+0],x=we[d+A],U=Pf[112+(4+(j=3*(_-w))>>3)],j=Pf[112+(j+3>>3)],z=U+1>>1;we[d-2*A]=El[255+we[d-2*A]+z],we[d-A]=El[255+w+j],we[d+0]=El[255+_-U],we[d+A]=El[255+x-z]}S+=Q}}function el(f,S,N,Q,X,ie){uc(f,S,N,1,16,Q,X,ie)}function cc(f,S,N,Q,X,ie){uc(f,S,1,N,16,Q,X,ie)}function sh(f,S,N,Q,X,ie){var le;for(le=3;0<le;--le)Ru(f,S+=4*N,N,1,16,Q,X,ie)}function gd(f,S,N,Q,X,ie){var le;for(le=3;0<le;--le)Ru(f,S+=4,1,N,16,Q,X,ie)}function Ps(f,S,N,Q,X,ie,le,pe){uc(f,S,X,1,8,ie,le,pe),uc(N,Q,X,1,8,ie,le,pe)}function Pu(f,S,N,Q,X,ie,le,pe){uc(f,S,1,X,8,ie,le,pe),uc(N,Q,1,X,8,ie,le,pe)}function cu(f,S,N,Q,X,ie,le,pe){Ru(f,S+4*X,X,1,8,ie,le,pe),Ru(N,Q+4*X,X,1,8,ie,le,pe)}function Wd(f,S,N,Q,X,ie,le,pe){Ru(f,S+4,1,X,8,ie,le,pe),Ru(N,Q+4,1,X,8,ie,le,pe)}function Pc(){this.ba=new vl,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Wo,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function zl(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function li(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function ah(){this.ua=0,this.Wa=new We,this.vb=new We,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new ct,this.yc=new Ee}function gp(){this.xb=this.a=0,this.l=new Za,this.ca=new vl,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new ae,this.Pb=0,this.wd=new ae,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new ah,this.ab=0,this.gc=P(4,li),this.Oc=0}function FA(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Za,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Kd(f,S,N,Q,X,ie,le){for(f=null==f?0:f[S+0],S=0;S<le;++S)X[ie+S]=f+N[Q+S]&255,f=X[ie+S]}function qd(f,S,N,Q,X,ie,le){var pe;if(null==f)Kd(null,null,N,Q,X,ie,le);else for(pe=0;pe<le;++pe)X[ie+pe]=f[S+pe]+N[Q+pe]&255}function Nc(f,S,N,Q,X,ie,le){if(null==f)Kd(null,null,N,Q,X,ie,le);else{var pe,we=f[S+0],d=we,A=we;for(pe=0;pe<le;++pe)d=A+(we=f[S+pe])-d,A=N[Q+pe]+(-256&d?0>d?0:255:d)&255,d=we,X[ie+pe]=A}}function dc(f,S,N,Q){var X=S.width,ie=S.o;if(g(null!=f&&null!=S),0>N||0>=Q||N+Q>ie)return null;if(!f.Cc){if(null==f.ga){var le;if(f.ga=new FA,(le=null==f.ga)||(le=S.width*S.o,g(0==f.Gb.length),f.Gb=T(le),f.Uc=0,null==f.Gb?le=0:(f.mb=f.Gb,f.nb=f.Uc,f.rc=null,le=1),le=!le),!le){var pe=f.Fa,we=f.P,d=f.qc,A=f.mb,w=f.nb,_=we+1,x=d-1,U=(le=f.ga).l;if(g(null!=pe&&null!=A&&null!=S),eA[0]=null,eA[1]=Kd,eA[2]=qd,eA[3]=Nc,le.ca=A,le.tb=w,le.c=S.width,le.i=S.height,g(0<le.c&&0<le.i),1>=d)S=0;else if(le.$a=3&pe[we+0],le.Z=pe[we+0]>>2&3,le.Lc=pe[we+0]>>4&3,we=pe[we+0]>>6&3,0>le.$a||1<le.$a||4<=le.Z||1<le.Lc||we)S=0;else if(U.put=co,U.ac=wr,U.bc=qs,U.ma=le,U.width=S.width,U.height=S.height,U.Da=S.Da,U.v=S.v,U.va=S.va,U.j=S.j,U.o=S.o,le.$a)e:{g(1==le.$a),S=Qs();t:for(;;){if(null==S){S=0;break e}if(g(null!=le),le.mc=S,S.c=le.c,S.i=le.i,S.l=le.l,S.l.ma=le,S.l.width=le.c,S.l.height=le.i,S.a=0,Wt(S.m,pe,_,x),!yl(le.c,le.i,1,S,null)||(1==S.ab&&3==S.gc[0].hc&&ic(S.s)?(le.ic=1,pe=S.c*S.i,S.Ta=null,S.Ua=0,S.V=T(pe),S.Ba=0,null==S.V?(S.a=1,S=0):S=1):(le.ic=0,S=oc(S,le.c)),!S))break t;S=1;break e}le.mc=null,S=0}else S=x>=le.c*le.i;le=!S}if(le)return null;1!=f.ga.Lc?f.Ga=0:Q=ie-N}g(null!=f.ga),g(N+Q<=ie);e:{if(S=(pe=f.ga).c,ie=pe.l.o,0==pe.$a){if(_=f.rc,x=f.Vc,U=f.Fa,d=f.mb,A=f.nb+N*S,g((we=f.P+1+N*S)<=f.P+f.qc),0!=pe.Z)for(g(null!=eA[pe.Z]),le=0;le<Q;++le)eA[pe.Z](_,x,U,we,d,A,S),_=d,x=A,A+=S,we+=S;else for(le=0;le<Q;++le)E(d,A,U,we,S),_=d,x=A,A+=S,we+=S;f.rc=_,f.Vc=x}else{if(g(null!=pe.mc),S=N+Q,g(null!=(le=pe.mc)),g(S<=le.i),le.C>=S)S=1;else if(pe.ic||kt(),pe.ic){pe=le.V,_=le.Ba;var j=le.i,z=(U=1,we=le.$/(x=le.c),d=le.$%x,A=le.m,w=le.s,le.$),G=x*j,Ce=x*S,Fe=w.wc,Me=z<Ce?Eo(w,d,we):null;g(z<=G),g(S<=j),g(ic(w));t:for(;;){for(;!A.h&&z<Ce;){if(d&Fe||(Me=Eo(w,d,we)),g(null!=Me),St(A),256>(j=zi(Me.G[0],Me.H[0],A)))pe[_+z]=j,++z,++d>=x&&(d=0,++we<=S&&!(we%16)&&di(le,we));else{if(!(280>j)){U=0;break t}j=As(j-256,A);var It,nn=zi(Me.G[4],Me.H[4],A);if(St(A),!(z>=(nn=Xa(x,nn=As(nn,A)))&&G-z>=j)){U=0;break t}for(It=0;It<j;++It)pe[_+z+It]=pe[_+z+It-nn];for(z+=j,d+=j;d>=x;)d-=x,++we<=S&&!(we%16)&&di(le,we);z<Ce&&d&Fe&&(Me=Eo(w,d,we))}g(A.h==it(A))}di(le,we>S?S:we);break t}!U||A.h&&z<G?(U=0,le.a=A.h?5:3):le.$=z,S=U}else S=ya(le,le.V,le.Ba,le.c,le.i,S,_l);if(!S){Q=0;break e}}N+Q>=ie&&(f.Cc=1),Q=1}if(!Q)return null;if(f.Cc&&(null!=(Q=f.ga)&&(Q.mc=null),f.ga=null,0<f.Ga))return alert("todo:WebPDequantizeLevels"),null}return f.nb+N*X}function R(f,S,N,Q,X,ie){for(;0<X--;){var le,pe=f,we=S+(N?1:0),d=f,A=S+(N?0:3);for(le=0;le<Q;++le){var w=d[A+4*le];255!=w&&(pe[we+4*le+0]=pe[we+4*le+0]*(w*=32897)>>23,pe[we+4*le+1]=pe[we+4*le+1]*w>>23,pe[we+4*le+2]=pe[we+4*le+2]*w>>23)}S+=ie}}function ne(f,S,N,Q,X){for(;0<Q--;){var ie;for(ie=0;ie<N;++ie){var le=f[S+2*ie+0],pe=15&(d=f[S+2*ie+1]),we=4369*pe,d=(240&d|d>>4)*we>>16;f[S+2*ie+0]=(240&le|le>>4)*we>>16&240|(15&le|le<<4)*we>>16>>4&15,f[S+2*ie+1]=240&d|pe}S+=X}}function je(f,S,N,Q,X,ie,le,pe){var we,d,A=255;for(d=0;d<X;++d){for(we=0;we<Q;++we){var w=f[S+we];ie[le+4*we]=w,A&=w}S+=N,le+=pe}return 255!=A}function pt(f,S,N,Q,X){var ie;for(ie=0;ie<X;++ie)N[Q+ie]=f[S+ie]>>8}function kt(){RA=R,kf=ne,kg=je,mp=pt}function Ge(f,S,N){Ue[f]=function(Q,X,ie,le,pe,we,d,A,w,_,x,U,j,z,G,Ce,Fe){var Me,It=Fe-1>>1,nn=pe[we+0]|d[A+0]<<16,dn=w[_+0]|x[U+0]<<16;g(null!=Q);var Zt=3*nn+dn+131074>>2;for(S(Q[X+0],255&Zt,Zt>>16,j,z),null!=ie&&S(ie[le+0],255&(Zt=3*dn+nn+131074>>2),Zt>>16,G,Ce),Me=1;Me<=It;++Me){var xr=pe[we+Me]|d[A+Me]<<16,Yn=w[_+Me]|x[U+Me]<<16,Hn=nn+xr+dn+Yn+524296,Nr=Hn+2*(xr+dn)>>3;Zt=Nr+nn>>1,nn=(Hn=Hn+2*(nn+Yn)>>3)+xr>>1,S(Q[X+2*Me-1],255&Zt,Zt>>16,j,z+(2*Me-1)*N),S(Q[X+2*Me-0],255&nn,nn>>16,j,z+(2*Me-0)*N),null!=ie&&(nn=Nr+Yn>>1,S(ie[le+2*Me-1],255&(Zt=Hn+dn>>1),Zt>>16,G,Ce+(2*Me-1)*N),S(ie[le+2*Me+0],255&nn,nn>>16,G,Ce+(2*Me+0)*N)),nn=xr,dn=Yn}1&Fe||(S(Q[X+Fe-1],255&(Zt=3*nn+dn+131074>>2),Zt>>16,j,z+(Fe-1)*N),null!=ie&&S(ie[le+Fe-1],255&(Zt=3*dn+nn+131074>>2),Zt>>16,G,Ce+(Fe-1)*N))}}function gn(){Lu[fu]=ov,Lu[_p]=av,Lu[Nf]=sv,Lu[lh]=lv,Lu[Mf]=Tp,Lu[$h]=gu,Lu[wp]=Ng,Lu[Rg]=av,Lu[Cp]=lv,Lu[uh]=Tp,Lu[bp]=gu}function ln(f){return f&~Ou?0>f?0:255:f>>tA}function En(f,S){return ln((19077*f>>8)+(26149*S>>8)-14234)}function cr(f,S,N){return ln((19077*f>>8)-(6419*S>>8)-(13320*N>>8)+8708)}function Bi(f,S){return ln((19077*f>>8)+(33050*S>>8)-17685)}function Ki(f,S,N,Q,X){Q[X+0]=En(f,N),Q[X+1]=cr(f,S,N),Q[X+2]=Bi(f,S)}function Ao(f,S,N,Q,X){Q[X+0]=Bi(f,S),Q[X+1]=cr(f,S,N),Q[X+2]=En(f,N)}function is(f,S,N,Q,X){var ie=cr(f,S,N);S=ie<<3&224|Bi(f,S)>>3,Q[X+0]=248&En(f,N)|ie>>5,Q[X+1]=S}function Cs(f,S,N,Q,X){var ie=240&Bi(f,S)|15;Q[X+0]=240&En(f,N)|cr(f,S,N)>>4,Q[X+1]=ie}function _a(f,S,N,Q,X){Q[X+0]=255,Ki(f,S,N,Q,X+1)}function Xs(f,S,N,Q,X){Ao(f,S,N,Q,X),Q[X+3]=255}function du(f,S,N,Q,X){Ki(f,S,N,Q,X),Q[X+3]=255}function Qo(f,S){return 0>f?0:f>S?S:f}function Js(f,S,N){Ue[f]=function(Q,X,ie,le,pe,we,d,A,w){for(var _=A+(-2&w)*N;A!=_;)S(Q[X+0],ie[le+0],pe[we+0],d,A),S(Q[X+1],ie[le+0],pe[we+0],d,A+N),X+=2,++le,++we,A+=2*N;1&w&&S(Q[X+0],ie[le+0],pe[we+0],d,A)}}function Yd(f,S,N){return 0==N?0==f?0==S?6:5:0==S?4:0:N}function wa(f,S,N,Q,X){switch(f>>>30){case 3:Gl(S,N,Q,X,0);break;case 2:Au(S,N,Q,X);break;case 1:Ca(S,N,Q,X)}}function Il(f,S){var N,Q,X=S.M,ie=S.Nb,le=f.oc,pe=f.pc+40,we=f.oc,d=f.pc+584,A=f.oc,w=f.pc+600;for(N=0;16>N;++N)le[pe+32*N-1]=129;for(N=0;8>N;++N)we[d+32*N-1]=129,A[w+32*N-1]=129;for(0<X?le[pe-1-32]=we[d-1-32]=A[w-1-32]=129:(D(le,pe-32-1,127,21),D(we,d-32-1,127,9),D(A,w-32-1,127,9)),Q=0;Q<f.za;++Q){var _=S.ya[S.aa+Q];if(0<Q){for(N=-1;16>N;++N)E(le,pe+32*N-4,le,pe+32*N+12,4);for(N=-1;8>N;++N)E(we,d+32*N-4,we,d+32*N+4,4),E(A,w+32*N-4,A,w+32*N+4,4)}var x=f.Gd,U=f.Hd+Q,j=_.ad,z=_.Hc;if(0<X&&(E(le,pe-32,x[U].y,0,16),E(we,d-32,x[U].f,0,8),E(A,w-32,x[U].ea,0,8)),_.Za){var G=le,Ce=pe-32+16;for(0<X&&(Q>=f.za-1?D(G,Ce,x[U].y[15],4):E(G,Ce,x[U+1].y,0,4)),N=0;4>N;N++)G[Ce+128+N]=G[Ce+256+N]=G[Ce+384+N]=G[Ce+0+N];for(N=0;16>N;++N,z<<=2)pu[_.Ob[N]](G=le,Ce=pe+By[N]),wa(z,j,16*+N,G,Ce)}else if(G=Yd(Q,X,_.Ob[0]),Uc[G](le,pe),0!=z)for(N=0;16>N;++N,z<<=2)wa(z,j,16*+N,le,pe+By[N]);for(N=_.Gc,G=Yd(Q,X,_.Dd),Vc[G](we,d),Vc[G](A,w),z=j,G=we,Ce=d,255&(_=0|N)&&(170&_?qi(z,256,G,Ce):Aa(z,256,G,Ce)),_=A,z=w,255&(N>>=8)&&(170&N?qi(j,320,_,z):Aa(j,320,_,z)),X<f.Ub-1&&(E(x[U].y,0,le,pe+480,16),E(x[U].f,0,we,d+224,8),E(x[U].ea,0,A,w+224,8)),x=f.sa,U=f.ta+16*Q+16*ie*f.R,j=f.qa,_=f.ra+8*Q+(N=8*ie*f.B),z=f.Ha,G=f.Ia+8*Q+N,N=0;16>N;++N)E(x,U+N*f.R,le,pe+32*N,16);for(N=0;8>N;++N)E(j,_+N*f.B,we,d+32*N,8),E(z,G+N*f.B,A,w+32*N,8)}}function md(f,S,N,Q,X,ie,le,pe,we){var d=[0],A=[0],w=0,_=null!=we?we.kd:0,x=null!=we?we:new zl;if(null==f||12>N)return 7;x.data=f,x.w=S,x.ha=N,S=[S],N=[N],x.gb=[x.gb];e:{var U=S,j=N,z=x.gb;if(g(null!=f),g(null!=j),g(null!=z),z[0]=0,12<=j[0]&&!y(f,U[0],"RIFF")){if(y(f,U[0]+8,"WEBP")){z=3;break e}var G=Dr(f,U[0]+4);if(12>G||4294967286<G){z=3;break e}if(_&&G>j[0]-8){z=7;break e}z[0]=G,U[0]+=12,j[0]-=12}z=0}if(0!=z)return z;for(G=0<x.gb[0],N=N[0];;){e:{var Ce=f;j=S,z=N;var Fe=d,Me=A,It=U=[0];if((Zt=w=[w])[0]=0,8>z[0])z=7;else{if(!y(Ce,j[0],"VP8X")){if(10!=Dr(Ce,j[0]+4)){z=3;break e}if(18>z[0]){z=7;break e}var nn=Dr(Ce,j[0]+8),dn=1+gr(Ce,j[0]+12);if(2147483648<=dn*(Ce=1+gr(Ce,j[0]+15))){z=3;break e}null!=It&&(It[0]=nn),null!=Fe&&(Fe[0]=dn),null!=Me&&(Me[0]=Ce),j[0]+=18,z[0]-=18,Zt[0]=1}z=0}}if(w=w[0],0!=z)return z;if(j=!!(2&(U=U[0])),!G&&w)return 3;if(null!=ie&&(ie[0]=!!(16&U)),null!=le&&(le[0]=j),null!=pe&&(pe[0]=0),le=d[0],U=A[0],w&&j&&null==we){z=0;break}if(4>N){z=7;break}if(G&&w||!G&&!w&&!y(f,S[0],"ALPH")){N=[N],x.na=[x.na],x.P=[x.P],x.Sa=[x.Sa];e:{z=S,G=N;var Zt=x.gb;Fe=x.na,Me=x.P,It=x.Sa,dn=22,g(null!=(nn=f)),g(null!=G),Ce=z[0];var xr=G[0];for(g(null!=Fe),g(null!=It),Fe[0]=null,Me[0]=null,It[0]=0;;){if(z[0]=Ce,G[0]=xr,8>xr){z=7;break e}var Yn=Dr(nn,Ce+4);if(4294967286<Yn){z=3;break e}var Hn=8+Yn+1&-2;if(dn+=Hn,0<Zt&&dn>Zt){z=3;break e}if(!y(nn,Ce,"VP8 ")||!y(nn,Ce,"VP8L")){z=0;break e}if(xr[0]<Hn){z=7;break e}y(nn,Ce,"ALPH")||(Fe[0]=nn,Me[0]=Ce+8,It[0]=Yn),Ce+=Hn,xr-=Hn}}if(N=N[0],x.na=x.na[0],x.P=x.P[0],x.Sa=x.Sa[0],0!=z)break}N=[N],x.Ja=[x.Ja],x.xa=[x.xa];e:if(Zt=f,z=S,G=N,Fe=x.gb[0],Me=x.Ja,It=x.xa,nn=z[0],Ce=!y(Zt,nn,"VP8 "),dn=!y(Zt,nn,"VP8L"),g(null!=Zt),g(null!=G),g(null!=Me),g(null!=It),8>G[0])z=7;else{if(Ce||dn){if(Zt=Dr(Zt,nn+4),12<=Fe&&Zt>Fe-12){z=3;break e}if(_&&Zt>G[0]-8){z=7;break e}Me[0]=Zt,z[0]+=8,G[0]-=8,It[0]=dn}else It[0]=5<=G[0]&&47==Zt[nn+0]&&!(Zt[nn+4]>>5),Me[0]=G[0];z=0}if(N=N[0],x.Ja=x.Ja[0],x.xa=x.xa[0],S=S[0],0!=z)break;if(4294967286<x.Ja)return 3;if(null==pe||j||(pe[0]=x.xa?2:1),le=[le],U=[U],x.xa){if(5>N){z=7;break}pe=le,_=U,j=ie,null==f||5>N?f=0:5<=N&&47==f[S+0]&&!(f[S+4]>>5)?(G=[0],Zt=[0],Fe=[0],Wt(Me=new ae,f,S,N),kr(Me,G,Zt,Fe)?(null!=pe&&(pe[0]=G[0]),null!=_&&(_[0]=Zt[0]),null!=j&&(j[0]=Fe[0]),f=1):f=0):f=0}else{if(10>N){z=7;break}pe=U,null==f||10>N||!EA(f,S+3,N-3)?f=0:(_=f[S+0]|f[S+1]<<8|f[S+2]<<16,j=16383&(f[S+7]<<8|f[S+6]),f=16383&(f[S+9]<<8|f[S+8]),1&_||3<(_>>1&7)||!(_>>4&1)||_>>5>=x.Ja||!j||!f?f=0:(le&&(le[0]=j),pe&&(pe[0]=f),f=1))}if(!f||(le=le[0],U=U[0],w&&(d[0]!=le||A[0]!=U)))return 3;null!=we&&(we[0]=x,we.offset=S-we.w,g(4294967286>S-we.w),g(we.offset==we.ha-N));break}return 0==z||7==z&&w&&null==we?(null!=ie&&(ie[0]|=null!=x.na&&0<x.na.length),null!=Q&&(Q[0]=le),null!=X&&(X[0]=U),0):z}function Nu(f,S,N){var Q=S.width,X=S.height,ie=0,le=0,pe=Q,we=X;if(S.Da=null!=f&&0<f.Da,S.Da&&(pe=f.cd,we=f.bd,ie=f.v,le=f.j,11>N||(ie&=-2,le&=-2),0>ie||0>le||0>=pe||0>=we||ie+pe>Q||le+we>X))return 0;if(S.v=ie,S.j=le,S.va=ie+pe,S.o=le+we,S.U=pe,S.T=we,S.da=null!=f&&0<f.da,S.da){if(!ai(pe,we,N=[f.ib],ie=[f.hb]))return 0;S.ib=N[0],S.hb=ie[0]}return S.ob=null!=f&&f.ob,S.Kb=null==f||!f.Sd,S.da&&(S.ob=S.ib<3*Q/4&&S.hb<3*X/4,S.Kb=0),1}function Xd(f){if(null==f)return 2;if(11>f.S){var S=f.f.RGBA;S.fb+=(f.height-1)*S.A,S.A=-S.A}else(S=f.f.kb).O+=((f=f.height)-1)*S.fa,S.fa=-S.fa,S.N+=(f-1>>1)*S.Ab,S.Ab=-S.Ab,S.W+=(f-1>>1)*S.Db,S.Db=-S.Db,null!=S.F&&(S.J+=(f-1)*S.lb,S.lb=-S.lb);return 0}function Mc(f,S,N,Q){if(null==Q||0>=f||0>=S)return 2;if(null!=N){if(N.Da){var X=N.cd,ie=N.bd,le=-2&N.v,pe=-2&N.j;if(0>le||0>pe||0>=X||0>=ie||le+X>f||pe+ie>S)return 2;f=X,S=ie}if(N.da){if(!ai(f,S,X=[N.ib],ie=[N.hb]))return 2;f=X[0],S=ie[0]}}Q.width=f,Q.height=S;e:{var we=Q.width,d=Q.height;if(f=Q.S,0>=we||0>=d||!(f>=fu&&13>f))f=2;else{if(0>=Q.Rd&&null==Q.sd){le=ie=X=S=0;var A=(pe=we*ch[f])*d;if(11>f||(ie=(d+1)/2*(S=(we+1)/2),12==f&&(le=(X=we)*d)),null==(d=T(A+2*ie+le))){f=1;break e}Q.sd=d,11>f?((we=Q.f.RGBA).eb=d,we.fb=0,we.A=pe,we.size=A):((we=Q.f.kb).y=d,we.O=0,we.fa=pe,we.Fd=A,we.f=d,we.N=0+A,we.Ab=S,we.Cd=ie,we.ea=d,we.W=0+A+ie,we.Db=S,we.Ed=ie,12==f&&(we.F=d,we.J=0+A+2*ie),we.Tc=le,we.lb=X)}if(S=1,ie=Q.width,le=Q.height,(X=Q.S)>=fu&&13>X)if(11>X)f=Q.f.RGBA,S&=(pe=Math.abs(f.A))*(le-1)+ie<=f.size,S&=pe>=ie*ch[X],S&=null!=f.eb;else{f=Q.f.kb,pe=(ie+1)/2,A=(le+1)/2,we=Math.abs(f.fa),d=Math.abs(f.Ab);var w=Math.abs(f.Db),_=Math.abs(f.lb);S&=we*(le-1)+ie<=f.Fd,S&=d*(A-1)+pe<=f.Cd,S=(S&=w*(A-1)+pe<=f.Ed)&we>=ie&d>=pe&w>=pe,S&=null!=f.y,S&=null!=f.f,S&=null!=f.ea,12==X&&(S&=_>=ie,S&=_*(le-1)+ie<=f.Tc,S&=null!=f.F)}else S=0;f=S?0:2}}return 0!=f||null!=N&&N.fd&&(f=Xd(Q)),f}var ja=64,vd=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Lc=24,Oc=32,kA=8,Pa=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];nr("Predictor0","PredictorAdd0"),Ue.Predictor0=function(){return 4278190080},Ue.Predictor1=function(f){return f},Ue.Predictor2=function(f,S,N){return S[N+0]},Ue.Predictor3=function(f,S,N){return S[N+1]},Ue.Predictor4=function(f,S,N){return S[N-1]},Ue.Predictor5=function(f,S,N){return ir(ir(f,S[N+1]),S[N+0])},Ue.Predictor6=function(f,S,N){return ir(f,S[N-1])},Ue.Predictor7=function(f,S,N){return ir(f,S[N+0])},Ue.Predictor8=function(f,S,N){return ir(S[N-1],S[N+0])},Ue.Predictor9=function(f,S,N){return ir(S[N+0],S[N+1])},Ue.Predictor10=function(f,S,N){return ir(ir(f,S[N-1]),ir(S[N+0],S[N+1]))},Ue.Predictor11=function(f,S,N){var Q=S[N+0];return 0>=Mi(Q>>24&255,f>>24&255,(S=S[N-1])>>24&255)+Mi(Q>>16&255,f>>16&255,S>>16&255)+Mi(Q>>8&255,f>>8&255,S>>8&255)+Mi(255&Q,255&f,255&S)?Q:f},Ue.Predictor12=function(f,S,N){var Q=S[N+0];return(Wr((f>>24&255)+(Q>>24&255)-((S=S[N-1])>>24&255))<<24|Wr((f>>16&255)+(Q>>16&255)-(S>>16&255))<<16|Wr((f>>8&255)+(Q>>8&255)-(S>>8&255))<<8|Wr((255&f)+(255&Q)-(255&S)))>>>0},Ue.Predictor13=function(f,S,N){var Q=S[N-1];return(Si((f=ir(f,S[N+0]))>>24&255,Q>>24&255)<<24|Si(f>>16&255,Q>>16&255)<<16|Si(f>>8&255,Q>>8&255)<<8|Si(255&f,255&Q))>>>0};var B=Ue.PredictorAdd0;Ue.PredictorAdd1=ji,nr("Predictor2","PredictorAdd2"),nr("Predictor3","PredictorAdd3"),nr("Predictor4","PredictorAdd4"),nr("Predictor5","PredictorAdd5"),nr("Predictor6","PredictorAdd6"),nr("Predictor7","PredictorAdd7"),nr("Predictor8","PredictorAdd8"),nr("Predictor9","PredictorAdd9"),nr("Predictor10","PredictorAdd10"),nr("Predictor11","PredictorAdd11"),nr("Predictor12","PredictorAdd12"),nr("Predictor13","PredictorAdd13");var m=Ue.PredictorAdd2;Ti("ColorIndexInverseTransform","MapARGB","32b",function(f){return f>>8&255},function(f){return f}),Ti("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(f){return f},function(f){return f>>8&255});var b,F=Ue.ColorIndexInverseTransform,W=Ue.MapARGB,Ae=Ue.VP8LColorIndexInverseTransformAlpha,gt=Ue.MapAlpha,Tt=Ue.VP8LPredictorsAdd=[];Tt.length=16,(Ue.VP8LPredictors=[]).length=16,(Ue.VP8LPredictorsAdd_C=[]).length=16,(Ue.VP8LPredictors_C=[]).length=16;var yn,Ln,Lr,bi,Bs,$l,tl,Gl,Au,qi,Ca,Aa,ba,Na,nl,Ia,Jd,rl,il,No,Ko,Ns,Ea,Ac,RA,kf,kg,mp,jh=T(511),vp=T(2041),zh=T(225),yp=T(767),Rf=0,Zm=vp,Pf=zh,El=yp,hu=jh,fu=0,_p=1,Nf=2,lh=3,Mf=4,$h=5,wp=6,Rg=7,Cp=8,uh=9,bp=10,Ip=[2,3,7],Iy=[3,3,11],mr=[280,256,256,256,40],hc=[0,1,1,1,0],Ep=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Mu=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],ev=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],wo=8,Ho=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Ms=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Lf=null,os=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Pg=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Of=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],tv=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],Zd=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],nv=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],rv=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Uc=[],pu=[],Vc=[],iv=1,Sp=2,eA=[],Lu=[];Ge("UpsampleRgbLinePair",Ki,3),Ge("UpsampleBgrLinePair",Ao,3),Ge("UpsampleRgbaLinePair",du,4),Ge("UpsampleBgraLinePair",Xs,4),Ge("UpsampleArgbLinePair",_a,4),Ge("UpsampleRgba4444LinePair",Cs,2),Ge("UpsampleRgb565LinePair",is,2);var ov=Ue.UpsampleRgbLinePair,sv=Ue.UpsampleBgrLinePair,av=Ue.UpsampleRgbaLinePair,lv=Ue.UpsampleBgraLinePair,Tp=Ue.UpsampleArgbLinePair,gu=Ue.UpsampleRgba4444LinePair,Ng=Ue.UpsampleRgb565LinePair,Mo=16,Mg=1<<Mo-1,Gh=-227,Bp=482,tA=6,Ou=(256<<tA)-1,Lg=0,Qc=T(256),Ey=T(256),Sy=T(256),Og=T(256),zw=T(Bp-Gh),Ty=T(Bp-Gh);Js("YuvToRgbRow",Ki,3),Js("YuvToBgrRow",Ao,3),Js("YuvToRgbaRow",du,4),Js("YuvToBgraRow",Xs,4),Js("YuvToArgbRow",_a,4),Js("YuvToRgba4444Row",Cs,2),Js("YuvToRgb565Row",is,2);var By=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Ug=[0,2,8],$w=[8,7,6,4,4,2,2,2,1,1,1,1];this.WebPDecodeRGBA=function(f,S,N,Q,X){var ie=_p,le=new Pc,pe=new vl;le.ba=pe,pe.S=ie,pe.width=[pe.width],pe.height=[pe.height];var we=pe.width,d=pe.height,A=new nc;if(null==A||null==f)var w=2;else g(null!=A),w=md(f,S,N,A.width,A.height,A.Pd,A.Qd,A.format,null);if(0!=w?we=0:(null!=we&&(we[0]=A.width[0]),null!=d&&(d[0]=A.height[0]),we=1),we){pe.width=pe.width[0],pe.height=pe.height[0],null!=Q&&(Q[0]=pe.width),null!=X&&(X[0]=pe.height);e:{if(Q=new Za,(X=new zl).data=f,X.w=S,X.ha=N,X.kd=1,S=[0],g(null!=X),(0==(f=md(X.data,X.w,X.ha,null,null,null,S,null,X))||7==f)&&S[0]&&(f=4),0==(S=f)){if(g(null!=le),Q.data=X.data,Q.w=X.w+X.offset,Q.ha=X.ha-X.offset,Q.put=co,Q.ac=wr,Q.bc=qs,Q.ma=le,X.xa){if(null==(f=Qs())){le=1;break e}if(function(_,x){var U=[0],j=[0],z=[0];t:for(;;){if(null==_)return 0;if(null==x)return _.a=2,0;if(_.l=x,_.a=0,Wt(_.m,x.data,x.w,x.ha),!kr(_.m,U,j,z)){_.a=3;break t}if(_.xb=Sp,x.width=U[0],x.height=j[0],!yl(U[0],j[0],1,_,null))break t;return 1}return g(0!=_.a),0}(f,Q)){if(Q=0==(S=Mc(Q.width,Q.height,le.Oa,le.ba))){t:{Q=f;n:for(;;){if(null==Q){Q=0;break t}if(g(null!=Q.s.yc),g(null!=Q.s.Ya),g(0<Q.s.Wb),g(null!=(N=Q.l)),g(null!=(X=N.ma)),0!=Q.xb){if(Q.ca=X.ba,Q.tb=X.tb,g(null!=Q.ca),!Nu(X.Oa,N,lh)){Q.a=2;break n}if(!oc(Q,N.width)||N.da)break n;if((N.da||Ro(Q.ca.S))&&kt(),11>Q.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),null!=Q.ca.f.kb.F&&kt()),Q.Pb&&0<Q.s.ua&&null==Q.s.vb.X&&!ui(Q.s.vb,Q.s.Wa.Xa)){Q.a=1;break n}Q.xb=0}if(!ya(Q,Q.V,Q.Ba,Q.c,Q.i,N.o,rc))break n;X.Dc=Q.Ma,Q=1;break t}g(0!=Q.a),Q=0}Q=!Q}Q&&(S=f.a)}else S=f.a}else{if(null==(f=new Ql)){le=1;break e}if(f.Fa=X.na,f.P=X.P,f.qc=X.Sa,SA(f,Q)){if(0==(S=Mc(Q.width,Q.height,le.Oa,le.ba))){if(f.Aa=0,N=le.Oa,g(null!=(X=f)),null!=N){if(0<(we=0>(we=N.Md)?0:100<we?255:255*we/100)){for(d=A=0;4>d;++d)12>(w=X.pb[d]).lc&&(w.ia=we*$w[0>w.lc?0:w.lc]>>3),A|=w.ia;A&&(alert("todo:VP8InitRandom"),X.ia=1)}X.Ga=N.Id,100<X.Ga?X.Ga=100:0>X.Ga&&(X.Ga=0)}(function cd(f,S){if(null==f)return 0;if(null==S)return so(f,2,"NULL VP8Io parameter in VP8Decode().");if(!f.cb&&!SA(f,S))return 0;if(g(f.cb),null==S.ac||S.ac(S)){S.ob&&(f.L=0);var N=Ug[f.L];if(2==f.L?(f.yb=0,f.zb=0):(f.yb=S.v-N>>4,f.zb=S.j-N>>4,0>f.yb&&(f.yb=0),0>f.zb&&(f.zb=0)),f.Va=S.o+15+N>>4,f.Hb=S.va+15+N>>4,f.Hb>f.za&&(f.Hb=f.za),f.Va>f.Ub&&(f.Va=f.Ub),0<f.L){var Q=f.ed;for(N=0;4>N;++N){var X;if(f.Qa.Cb){var ie=f.Qa.Lb[N];f.Qa.Fb||(ie+=Q.Tb)}else ie=Q.Tb;for(X=0;1>=X;++X){var le=f.gd[N][X],pe=ie;if(Q.Pc&&(pe+=Q.vd[0],X&&(pe+=Q.od[0])),0<(pe=0>pe?0:63<pe?63:pe)){var we=pe;0<Q.wb&&(we=4<Q.wb?we>>2:we>>1)>9-Q.wb&&(we=9-Q.wb),1>we&&(we=1),le.dd=we,le.tc=2*pe+we,le.ld=40<=pe?2:15<=pe?1:0}else le.tc=0;le.La=X}}}N=0}else so(f,6,"Frame setup failed"),N=f.a;if(N=0==N){if(N){f.$c=0,0<f.Aa||(f.Ic=1);e:{Q=4*(we=f.za);var d=32*we,A=we+1,w=0<f.L?we*(0<f.Aa?2:1):0,_=(2==f.Aa?2:1)*we;if((le=Q+832+(X=3*(16*(N=f.Ic)+Ug[f.L])/2*d)+(ie=null!=f.Fa&&0<f.Fa.length?f.Kc.c*f.Kc.i:0))!=le)N=0;else{if(le>f.Vb){if(f.Vb=0,f.Ec=T(le),f.Fc=0,null==f.Ec){N=so(f,1,"no memory during frame initialization.");break e}f.Vb=le}pe=f.Fc,f.Ac=le=f.Ec,f.Bc=pe,pe+=Q,f.Gd=P(d,Po),f.Hd=0,f.rb=P(A+1,sr),f.sb=1,f.wa=w?P(w,ac):null,f.Y=0,f.D.Nb=0,f.D.wa=f.wa,f.D.Y=f.Y,0<f.Aa&&(f.D.Y+=we),g(!0),f.oc=le,f.pc=pe,pe+=832,f.ya=P(_,xc),f.aa=0,f.D.ya=f.ya,f.D.aa=f.aa,2==f.Aa&&(f.D.aa+=we),f.R=16*we,f.B=8*we,we=(d=Ug[f.L])*f.R,d=d/2*f.B,f.sa=le,f.ta=pe+we,f.qa=f.sa,f.ra=f.ta+16*N*f.R+d,f.Ha=f.qa,f.Ia=f.ra+8*N*f.B+d,f.$c=0,pe+=X,f.mb=ie?le:null,f.nb=ie?pe:null,g(pe+ie<=f.Fc+f.Vb),ua(f),D(f.Ac,f.Bc,0,Q),N=1}}if(N){if(S.ka=0,S.y=f.sa,S.O=f.ta,S.f=f.qa,S.N=f.ra,S.ea=f.Ha,S.Vd=f.Ia,S.fa=f.R,S.Rc=f.B,S.F=null,S.J=0,!Rf){for(N=-255;255>=N;++N)jh[255+N]=0>N?-N:N;for(N=-1020;1020>=N;++N)vp[1020+N]=-128>N?-128:127<N?127:N;for(N=-112;112>=N;++N)zh[112+N]=-16>N?-16:15<N?15:N;for(N=-255;510>=N;++N)yp[255+N]=0>N?0:255<N?255:N;Rf=1}tl=Mh,Gl=pp,qi=Df,Ca=Nh,Aa=xf,Au=BA,ba=el,Na=cc,nl=Ps,Ia=Pu,Jd=sh,rl=gd,il=cu,No=Wd,Ko=Rc,Ns=bl,Ea=Hs,Ac=oh,pu[0]=Fu,pu[1]=Oh,pu[2]=ca,pu[3]=xA,pu[4]=Qh,pu[5]=Fc,pu[6]=Ad,pu[7]=Gd,pu[8]=Hh,pu[9]=hd,Uc[0]=DA,Uc[1]=Ff,Uc[2]=Cl,Uc[3]=zd,Uc[4]=Ra,Uc[5]=$d,Uc[6]=Vh,Vc[0]=ku,Vc[1]=Uh,Vc[2]=jl,Vc[3]=kc,Vc[4]=fd,Vc[5]=rh,Vc[6]=xi,N=1}else N=0}N&&(N=function(x,U){for(x.M=0;x.M<x.Va;++x.M){var j,z=x.Jc[x.M&x.Xb],G=x.m,Ce=x;for(j=0;j<Ce.za;++j){var Fe=G,Me=Ce,It=Me.Ac,nn=Me.Bc+4*j,dn=Me.zc,Zt=Me.ya[Me.aa+j];if(Zt.$b=Me.Qa.Bb?Jt(Fe,Me.Pa.jb[0])?2+Jt(Fe,Me.Pa.jb[2]):Jt(Fe,Me.Pa.jb[1]):0,Me.kc&&(Zt.Ad=Jt(Fe,Me.Bd)),Zt.Za=!Jt(Fe,145)+0,Zt.Za){var xr=Zt.Ob,Yn=0;for(Me=0;4>Me;++Me){var Hn,Nr=dn[0+Me];for(Hn=0;4>Hn;++Hn){for(var Rr=Of[Jt(Fe,(Nr=Zd[It[nn+Hn]][Nr])[0])];0<Rr;)Rr=Of[2*Rr+Jt(Fe,Nr[Rr])];It[nn+Hn]=Nr=-Rr}E(xr,Yn,It,nn,4),Yn+=4,dn[0+Me]=Nr}}else Nr=Jt(Fe,156)?Jt(Fe,128)?1:3:Jt(Fe,163)?2:0,Zt.Ob[0]=Nr,D(It,nn,Nr,4),D(dn,0,Nr,4);Zt.Dd=Jt(Fe,142)?Jt(Fe,114)?Jt(Fe,183)?1:3:2:0}if(Ce.m.Ka)return so(x,7,"Premature end-of-partition0 encountered.");for(;x.ja<x.za;++x.ja){if(Ce=z,Fe=(G=x).rb[G.sb-1],It=G.rb[G.sb+G.ja],j=G.ya[G.aa+G.ja],nn=G.kc?j.Ad:0)Fe.la=It.la=0,j.Za||(Fe.Na=It.Na=0),j.Hc=0,j.Gc=0,j.ia=0;else{var vr,Bn;if(Fe=It,It=Ce,nn=G.Pa.Xc,Zt=G.pb[(dn=G.ya[G.aa+G.ja]).$b],Yn=G.rb[G.sb-1],Nr=Hn=0,D(Me=dn.ad,xr=0,0,384),dn.Za)var ei=0,_i=nn[3];else{Rr=T(16);var Fr=Fe.Na+Yn.Na;if(Fr=Lf(It,nn[1],Fr,Zt.Eb,0,Rr,0),Fe.Na=Yn.Na=(0<Fr)+0,1<Fr)tl(Rr,0,Me,xr);else{var ho=Rr[0]+3>>3;for(Rr=0;256>Rr;Rr+=16)Me[xr+Rr]=ho}ei=1,_i=nn[0]}var Di=15&Fe.la,hs=15&Yn.la;for(Rr=0;4>Rr;++Rr){var Ui=1&hs;for(ho=Bn=0;4>ho;++ho)Di=Di>>1|(Ui=(Fr=Lf(It,_i,Fr=Ui+(1&Di),Zt.Sc,ei,Me,xr))>ei)<<7,Bn=Bn<<2|(3<Fr?3:1<Fr?2:0!=Me[xr+0]),xr+=16;Di>>=4,hs=hs>>1|Ui<<7,Hn=(Hn<<8|Bn)>>>0}for(_i=Di,ei=hs>>4,vr=0;4>vr;vr+=2){for(Bn=0,Di=Fe.la>>4+vr,hs=Yn.la>>4+vr,Rr=0;2>Rr;++Rr){for(Ui=1&hs,ho=0;2>ho;++ho)Di=Di>>1|(Ui=0<(Fr=Lf(It,nn[2],Fr=Ui+(1&Di),Zt.Qc,0,Me,xr)))<<3,Bn=Bn<<2|(3<Fr?3:1<Fr?2:0!=Me[xr+0]),xr+=16;Di>>=2,hs=hs>>1|Ui<<5}Nr|=Bn<<4*vr,_i|=Di<<4<<vr,ei|=(240&hs)<<vr}Fe.la=_i,Yn.la=ei,dn.Hc=Hn,dn.Gc=Nr,dn.ia=43690&Nr?0:Zt.ia,nn=!(Hn|Nr)}if(0<G.L&&(G.wa[G.Y+G.ja]=G.gd[j.$b][j.Za],G.wa[G.Y+G.ja].La|=!nn),Ce.Ka)return so(x,7,"Premature end-of-file encountered.")}if(ua(x),G=U,Ce=1,j=(z=x).D,Fe=0<z.L&&z.M>=z.zb&&z.M<=z.Va,0==z.Aa)e:{if(j.M=z.M,j.uc=Fe,Il(z,j),Ce=1,j=(Bn=z.D).Nb,Fe=(Nr=Ug[z.L])*z.R,nn=z.sa,dn=z.ta-Fe+(Rr=16*j*z.R),Zt=z.qa,Me=z.ra-(It=Nr/2*z.B)+(ho=8*j*z.B),xr=z.Ha,Yn=z.Ia-It+ho,hs=0==(Di=Bn.M),Hn=Di>=z.Va-1,2==z.Aa&&Il(z,Bn),Bn.uc)for(Ui=(Fr=z).D.M,g(Fr.D.uc),Bn=Fr.yb;Bn<Fr.Hb;++Bn){_i=Ui;var ao=(js=(as=Fr).D).Nb,js=js.wa[js.Y+(ei=Bn)],qo=as.sa,ts=as.ta+16*ao*(vr=as.R)+16*ei,Sl=js.dd,ss=js.tc;if(0!=ss)if(g(3<=ss),1==as.L)0<ei&&Ns(qo,ts,vr,ss+4),js.La&&Ac(qo,ts,vr,ss),0<_i&&Ko(qo,ts,vr,ss+4),js.La&&Ea(qo,ts,vr,ss);else{var Tl=as.B,Uu=as.qa,mu=as.ra+8*ao*Tl+8*ei,ol=as.Ha,as=as.Ia+8*ao*Tl+8*ei;ao=js.ld,0<ei&&(Na(qo,ts,vr,ss+4,Sl,ao),Ia(Uu,mu,ol,as,Tl,ss+4,Sl,ao)),js.La&&(rl(qo,ts,vr,ss,Sl,ao),No(Uu,mu,ol,as,Tl,ss,Sl,ao)),0<_i&&(ba(qo,ts,vr,ss+4,Sl,ao),nl(Uu,mu,ol,as,Tl,ss+4,Sl,ao)),js.La&&(Jd(qo,ts,vr,ss,Sl,ao),il(Uu,mu,ol,as,Tl,ss,Sl,ao))}}if(z.ia&&alert("todo:DitherRow"),null!=G.put){if(Bn=16*Di,Di=16*(Di+1),hs?(G.y=z.sa,G.O=z.ta+Rr,G.f=z.qa,G.N=z.ra+ho,G.ea=z.Ha,G.W=z.Ia+ho):(Bn-=Nr,G.y=nn,G.O=dn,G.f=Zt,G.N=Me,G.ea=xr,G.W=Yn),Hn||(Di-=Nr),Di>G.o&&(Di=G.o),G.F=null,G.J=null,null!=z.Fa&&0<z.Fa.length&&Bn<Di&&(G.J=dc(z,G,Bn,Di-Bn),G.F=z.mb,null==G.F&&0==G.F.length)){Ce=so(z,3,"Could not decode alpha data.");break e}Bn<G.j&&(Nr=G.j-Bn,Bn=G.j,g(!(1&Nr)),G.O+=z.R*Nr,G.N+=z.B*(Nr>>1),G.W+=z.B*(Nr>>1),null!=G.F&&(G.J+=G.width*Nr)),Bn<Di&&(G.O+=G.v,G.N+=G.v>>1,G.W+=G.v>>1,null!=G.F&&(G.J+=G.v),G.ka=Bn-G.j,G.U=G.va-G.v,G.T=Di-Bn,Ce=G.put(G))}j+1!=z.Ic||Hn||(E(z.sa,z.ta-Fe,nn,dn+16*z.R,Fe),E(z.qa,z.ra-It,Zt,Me+8*z.B,It),E(z.Ha,z.Ia-It,xr,Yn+8*z.B,It))}if(!Ce)return so(x,6,"Output aborted.")}return 1}(f,S)),null!=S.bc&&S.bc(S),N&=1}return N?(f.cb=0,N):0})(f,Q)||(S=f.a)}}else S=f.a}0==S&&null!=le.Oa&&le.Oa.fd&&(S=Xd(le.ba))}le=S}ie=0!=le?null:11>ie?pe.f.RGBA.eb:pe.f.kb.y}else ie=null;return ie};var ch=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function $(Ue,an){for(var cn="",Re=0;Re<4;Re++)cn+=String.fromCharCode(Ue[an++]);return cn}function re(Ue,an){return(Ue[an+0]|Ue[an+1]<<8|Ue[an+2]<<16)>>>0}function ue(Ue,an){return(Ue[an+0]|Ue[an+1]<<8|Ue[an+2]<<16|Ue[an+3]<<24)>>>0}new L;var ve=[0],H=[0],Qe=[],De=new L,qe=C,ee=function(Ue,an){var cn={},Re=0,Ee=!1,vt=0,ct=0;if(cn.frames=[],!
/** @license
               * Copyright (c) 2017 Dominik Homberger
              Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the "Software"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:
              The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.
              THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
              https://webpjs.appspot.com
              WebPRiffParser dominikhlbg@gmail.com
              */
function($e,it,bt,St){for(var Kt=0;Kt<4;Kt++)if($e[it+Kt]!="RIFF".charCodeAt(Kt))return!0;return!1}(Ue,an)){var pn,rn;for(ue(Ue,an+=4),an+=8;an<Ue.length;){var bn=$(Ue,an),Wt=ue(Ue,an+=4);an+=4;var Sn=Wt+(1&Wt);switch(bn){case"VP8 ":case"VP8L":void 0===cn.frames[Re]&&(cn.frames[Re]={}),(ae=cn.frames[Re]).src_off=Ee?ct:an-8,ae.src_size=vt+Wt+8,Re++,Ee&&(Ee=!1,vt=0,ct=0);break;case"VP8X":(ae=cn.header={}).feature_flags=Ue[an];var wn=an+4;ae.canvas_width=1+re(Ue,wn),ae.canvas_height=1+re(Ue,wn+=3),wn+=3;break;case"ALPH":Ee=!0,vt=Sn+8,ct=an-8;break;case"ANIM":(ae=cn.header).bgcolor=ue(Ue,an),ae.loop_count=(pn=Ue)[(rn=wn=an+4)+0]|pn[rn+1]<<8,wn+=2;break;case"ANMF":var lr,ae;(ae=cn.frames[Re]={}).offset_x=2*re(Ue,an),ae.offset_y=2*re(Ue,an+=3),ae.width=1+re(Ue,an+=3),ae.height=1+re(Ue,an+=3),ae.duration=re(Ue,an+=3),an+=3,lr=Ue[an++],ae.dispose=1&lr,ae.blend=lr>>1&1}"ANMF"!=bn&&(an+=Sn)}return cn}}(qe,0);ee.response=qe,ee.rgbaoutput=!0,ee.dataurl=!1;var He=ee.header?ee.header:null,Ct=ee.frames?ee.frames:null;if(He){He.loop_counter=He.loop_count,ve=[He.canvas_height],H=[He.canvas_width];for(var Mt=0;Mt<Ct.length&&0!=Ct[Mt].blend;Mt++);}var hn=Ct[0],xt=De.WebPDecodeRGBA(qe,hn.src_off,hn.src_size,H,ve);hn.rgba=xt,hn.imgwidth=H[0],hn.imgheight=ve[0];for(var Lt=0;Lt<H[0]*ve[0]*4;Lt++)Qe[Lt]=xt[Lt];return this.width=H,this.height=ve,this.data=Qe,this}(function(C){var y=function(ve,H,Qe,De){var qe=4,ee=P;switch(De){case C.image_compression.FAST:qe=1,ee=T;break;case C.image_compression.MEDIUM:qe=6,ee=M;break;case C.image_compression.SLOW:qe=9,ee=L}var He=Ni(ve=E(ve,H,Qe,ee),{level:qe});return C.__addimage__.arrayBufferToBinaryString(He)},E=function(ve,H,Qe,De){for(var qe,ee,He,Ct=ve.length/H,Mt=new Uint8Array(ve.length+Ct),hn=re(),xt=0;xt<Ct;xt+=1){if(qe=ve.subarray(He=xt*H,He+H),De)Mt.set(De(qe,Qe,ee),He+xt);else{for(var Lt,Ue=hn.length,an=[];Lt<Ue;Lt+=1)an[Lt]=hn[Lt](qe,Qe,ee);var cn=ue(an.concat());Mt.set(an[cn],He+xt)}ee=qe}return Mt},D=function(ve){var H=Array.apply([],ve);return H.unshift(0),H},T=function(ve,H){var De=[],qe=ve.length;De[0]=1;for(var ee=0;ee<qe;ee+=1)De[ee+1]=ve[ee]-(ve[ee-H]||0)+256&255;return De},P=function(ve,H,Qe){var qe=[],ee=ve.length;qe[0]=2;for(var He=0;He<ee;He+=1)qe[He+1]=ve[He]-(Qe&&Qe[He]||0)+256&255;return qe},M=function(ve,H,Qe){var ee=[],He=ve.length;ee[0]=3;for(var Ct=0;Ct<He;Ct+=1)ee[Ct+1]=ve[Ct]+256-((ve[Ct-H]||0)+(Qe&&Qe[Ct]||0)>>>1)&255;return ee},L=function(ve,H,Qe){var He,Ct=[],Mt=ve.length;Ct[0]=4;for(var hn=0;hn<Mt;hn+=1)He=$(ve[hn-H]||0,Qe&&Qe[hn]||0,Qe&&Qe[hn-H]||0),Ct[hn+1]=ve[hn]-He+256&255;return Ct},$=function(ve,H,Qe){if(ve===H&&H===Qe)return ve;var De=Math.abs(H-Qe),qe=Math.abs(ve-Qe),ee=Math.abs(ve+H-Qe-Qe);return De<=qe&&De<=ee?ve:qe<=ee?H:Qe},re=function(){return[D,T,P,M,L]},ue=function(ve){var H=ve.map(function(Qe){return Qe.reduce(function(De,qe){return De+Math.abs(qe)},0)});return H.indexOf(Math.min.apply(null,H))};C.processPNG=function(ve,H,Qe,De){var qe,ee,He,Ct,Mt,hn,xt,Lt,Ue,an,cn,Re,Ee,vt,ct,pn=this.decode.FLATE_DECODE,rn="";if(this.__addimage__.isArrayBuffer(ve)&&(ve=new Uint8Array(ve)),this.__addimage__.isArrayBufferView(ve)){if(ve=(He=new Oi(ve)).imgData,ee=He.bits,qe=He.colorSpace,Mt=He.colors,-1!==[4,6].indexOf(He.colorType)){if(8===He.bits){Ue=(Lt=32==He.pixelBitlength?new Uint32Array(He.decodePixels().buffer):16==He.pixelBitlength?new Uint16Array(He.decodePixels().buffer):new Uint8Array(He.decodePixels().buffer)).length,cn=new Uint8Array(Ue*He.colors),an=new Uint8Array(Ue);var bn,Wt=He.pixelBitlength-He.bits;for(vt=0,ct=0;vt<Ue;vt++){for(Ee=Lt[vt],bn=0;bn<Wt;)cn[ct++]=Ee>>>bn&255,bn+=He.bits;an[vt]=Ee>>>bn&255}}if(16===He.bits){Ue=(Lt=new Uint32Array(He.decodePixels().buffer)).length,cn=new Uint8Array(Ue*(32/He.pixelBitlength)*He.colors),an=new Uint8Array(Ue*(32/He.pixelBitlength)),Re=He.colors>1,vt=0,ct=0;for(var Sn=0;vt<Ue;)Ee=Lt[vt++],cn[ct++]=Ee>>>0&255,Re&&(cn[ct++]=Ee>>>16&255,Ee=Lt[vt++],cn[ct++]=Ee>>>0&255),an[Sn++]=Ee>>>16&255;ee=8}De!==C.image_compression.NONE?(ve=y(cn,He.width*He.colors,He.colors,De),xt=y(an,He.width,1,De)):(ve=cn,xt=an,pn=void 0)}if(3===He.colorType&&(qe=this.color_spaces.INDEXED,hn=He.palette,He.transparency.indexed)){var wn=He.transparency.indexed,lr=0;for(vt=0,Ue=wn.length;vt<Ue;++vt)lr+=wn[vt];if((lr/=255)==Ue-1&&-1!==wn.indexOf(0))Ct=[wn.indexOf(0)];else if(lr!==Ue){for(Lt=He.decodePixels(),an=new Uint8Array(Lt.length),vt=0,Ue=Lt.length;vt<Ue;vt++)an[vt]=wn[Lt[vt]];xt=y(an,He.width,1)}}var ae=function($e){var it;switch($e){case C.image_compression.FAST:it=11;break;case C.image_compression.MEDIUM:it=13;break;case C.image_compression.SLOW:it=14;break;default:it=12}return it}(De);return pn===this.decode.FLATE_DECODE&&(rn="/Predictor "+ae+" "),rn+="/Colors "+Mt+" /BitsPerComponent "+ee+" /Columns "+He.width,(this.__addimage__.isArrayBuffer(ve)||this.__addimage__.isArrayBufferView(ve))&&(ve=this.__addimage__.arrayBufferToBinaryString(ve)),(xt&&this.__addimage__.isArrayBuffer(xt)||this.__addimage__.isArrayBufferView(xt))&&(xt=this.__addimage__.arrayBufferToBinaryString(xt)),{alias:Qe,data:ve,index:H,filter:pn,decodeParameters:rn,transparency:Ct,palette:hn,sMask:xt,predictor:ae,width:He.width,height:He.height,bitsPerComponent:ee,colorSpace:qe}}}})(jr.API),function(C){C.processGIF89A=function(g,y,E,D){var T=new Xu(g),P=T.width,M=T.height,L=[];T.decodeAndBlitFrameRGBA(0,L);var $={data:L,width:P,height:M},re=new ad(100).encode($,100);return C.processJPEG.call(this,re,y,E,D)},C.processGIF87A=C.processGIF89A}(jr.API),ka.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,16===this.bitPP&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var C=0===this.colors?1<<this.bitPP:this.colors;this.palette=new Array(C);for(var g=0;g<C;g++){var y=this.datav.getUint8(this.pos++,!0),E=this.datav.getUint8(this.pos++,!0),D=this.datav.getUint8(this.pos++,!0),T=this.datav.getUint8(this.pos++,!0);this.palette[g]={red:D,green:E,blue:y,quad:T}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},ka.prototype.parseBGR=function(){this.pos=this.offset;try{var C="bit"+this.bitPP;this.data=new Uint8Array(this.width*this.height*4),this[C]()}catch(y){Xr.log("bit decode error:"+y)}},ka.prototype.bit1=function(){var C,g=Math.ceil(this.width/8),y=g%4;for(C=this.height-1;C>=0;C--){for(var E=this.bottom_up?C:this.height-1-C,D=0;D<g;D++)for(var T=this.datav.getUint8(this.pos++,!0),P=E*this.width*4+8*D*4,M=0;M<8&&8*D+M<this.width;M++){var L=this.palette[T>>7-M&1];this.data[P+4*M]=L.blue,this.data[P+4*M+1]=L.green,this.data[P+4*M+2]=L.red,this.data[P+4*M+3]=255}0!==y&&(this.pos+=4-y)}},ka.prototype.bit4=function(){for(var C=Math.ceil(this.width/2),g=C%4,y=this.height-1;y>=0;y--){for(var E=this.bottom_up?y:this.height-1-y,D=0;D<C;D++){var T=this.datav.getUint8(this.pos++,!0),P=E*this.width*4+2*D*4,L=15&T,$=this.palette[T>>4];if(this.data[P]=$.blue,this.data[P+1]=$.green,this.data[P+2]=$.red,this.data[P+3]=255,2*D+1>=this.width)break;this.data[P+4]=($=this.palette[L]).blue,this.data[P+4+1]=$.green,this.data[P+4+2]=$.red,this.data[P+4+3]=255}0!==g&&(this.pos+=4-g)}},ka.prototype.bit8=function(){for(var C=this.width%4,g=this.height-1;g>=0;g--){for(var y=this.bottom_up?g:this.height-1-g,E=0;E<this.width;E++){var D=this.datav.getUint8(this.pos++,!0),T=y*this.width*4+4*E;if(D<this.palette.length){var P=this.palette[D];this.data[T]=P.red,this.data[T+1]=P.green,this.data[T+2]=P.blue,this.data[T+3]=255}else this.data[T]=255,this.data[T+1]=255,this.data[T+2]=255,this.data[T+3]=255}0!==C&&(this.pos+=4-C)}},ka.prototype.bit15=function(){for(var C=this.width%3,g=parseInt("11111",2),y=this.height-1;y>=0;y--){for(var E=this.bottom_up?y:this.height-1-y,D=0;D<this.width;D++){var T=this.datav.getUint16(this.pos,!0);this.pos+=2;var P=(T&g)/g*255|0,M=(T>>5&g)/g*255|0,$=T>>15?255:0,re=E*this.width*4+4*D;this.data[re]=(T>>10&g)/g*255|0,this.data[re+1]=M,this.data[re+2]=P,this.data[re+3]=$}this.pos+=C}},ka.prototype.bit16=function(){for(var C=this.width%3,g=parseInt("11111",2),y=parseInt("111111",2),E=this.height-1;E>=0;E--){for(var D=this.bottom_up?E:this.height-1-E,T=0;T<this.width;T++){var P=this.datav.getUint16(this.pos,!0);this.pos+=2;var M=(P&g)/g*255|0,L=(P>>5&y)/y*255|0,re=D*this.width*4+4*T;this.data[re]=(P>>11)/g*255|0,this.data[re+1]=L,this.data[re+2]=M,this.data[re+3]=255}this.pos+=C}},ka.prototype.bit24=function(){for(var C=this.height-1;C>=0;C--){for(var g=this.bottom_up?C:this.height-1-C,y=0;y<this.width;y++){var E=this.datav.getUint8(this.pos++,!0),D=this.datav.getUint8(this.pos++,!0),T=this.datav.getUint8(this.pos++,!0),P=g*this.width*4+4*y;this.data[P]=T,this.data[P+1]=D,this.data[P+2]=E,this.data[P+3]=255}this.pos+=this.width%4}},ka.prototype.bit32=function(){for(var C=this.height-1;C>=0;C--)for(var g=this.bottom_up?C:this.height-1-C,y=0;y<this.width;y++){var E=this.datav.getUint8(this.pos++,!0),D=this.datav.getUint8(this.pos++,!0),T=this.datav.getUint8(this.pos++,!0),P=this.datav.getUint8(this.pos++,!0),M=g*this.width*4+4*y;this.data[M]=T,this.data[M+1]=D,this.data[M+2]=E,this.data[M+3]=P}},ka.prototype.getData=function(){return this.data},
/**
         * @license
         * Copyright (c) 2018 Aras Abbasi
         *
         * Licensed under the MIT License.
         * http://opensource.org/licenses/mit-license
         */
function(C){C.processBMP=function(g,y,E,D){var T=new ka(g,!1),P=T.width,M=T.height,L={data:T.getData(),width:P,height:M},$=new ad(100).encode(L,100);return C.processJPEG.call(this,$,y,E,D)}}(jr.API),ld.prototype.getData=function(){return this.data},
/**
         * @license
         * Copyright (c) 2019 Aras Abbasi
         *
         * Licensed under the MIT License.
         * http://opensource.org/licenses/mit-license
         */
function(C){C.processWEBP=function(g,y,E,D){var T=new ld(g,!1),P=T.width,M=T.height,L={data:T.getData(),width:P,height:M},$=new ad(100).encode(L,100);return C.processJPEG.call(this,$,y,E,D)}}(jr.API),jr.API.processRGBA=function(C,g,y){for(var E=C.data,D=E.length,T=new Uint8Array(D/4*3),P=new Uint8Array(D/4),M=0,L=0,$=0;$<D;$+=4){var ue=E[$+1],ve=E[$+2],H=E[$+3];T[M++]=E[$],T[M++]=ue,T[M++]=ve,P[L++]=H}var Qe=this.__addimage__.arrayBufferToBinaryString(T);return{alpha:this.__addimage__.arrayBufferToBinaryString(P),data:Qe,index:g,alias:y,colorSpace:"DeviceRGB",bitsPerComponent:8,width:C.width,height:C.height}},jr.API.setLanguage=function(C){return void 0===this.internal.languageSettings&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),void 0!=={af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[C]&&(this.internal.languageSettings.languageCode=C,!1===this.internal.languageSettings.isSubscribed&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},ds=(Yu=jr.API).getCharWidthsArray=function(C,g){var y,E,D=(g=g||{}).font||this.internal.getFont(),T=g.fontSize||this.internal.getFontSize(),P=g.charSpace||this.internal.getCharSpace(),M=g.widths?g.widths:D.metadata.Unicode.widths,L=M.fof?M.fof:1,$=g.kerning?g.kerning:D.metadata.Unicode.kerning,re=$.fof?$.fof:1,ue=!1!==g.doKerning,ve=0,H=C.length,Qe=0,De=M[0]||L,qe=[];for(y=0;y<H;y++)E=C.charCodeAt(y),"function"==typeof D.metadata.widthOfString?qe.push((D.metadata.widthOfGlyph(D.metadata.characterToGlyph(E))+P*(1e3/T)||0)/1e3):(ve=ue&&"object"===(0,V.A)($[E])&&!isNaN(parseInt($[E][Qe],10))?$[E][Qe]/re:0,qe.push((M[E]||De)/L+ve)),Qe=E;return qe},ZA=Yu.getStringUnitWidth=function(C,g){var y=(g=g||{}).fontSize||this.internal.getFontSize(),E=g.font||this.internal.getFont(),D=g.charSpace||this.internal.getCharSpace();return Yu.processArabic&&(C=Yu.processArabic(C)),"function"==typeof E.metadata.widthOfString?E.metadata.widthOfString(C,y,D)/y:ds.apply(this,arguments).reduce(function(T,P){return T+P},0)},Fa=function(C,g,y,E){for(var D=[],T=0,P=C.length,M=0;T!==P&&M+g[T]<y;)M+=g[T],T++;D.push(C.slice(0,T));var L=T;for(M=0;T!==P;)M+g[T]>E&&(D.push(C.slice(L,T)),M=0,L=T),M+=g[T],T++;return L!==T&&D.push(C.slice(L,T)),D},Qd=function(C,g,y){y||(y={});var E,D,T,P,M,L,re=[],ue=[re],ve=y.textIndent||0,H=0,Qe=0,De=C.split(" "),qe=ds.apply(this,[" ",y])[0];if(L=-1===y.lineIndent?De[0].length+2:y.lineIndent||0){var ee=Array(L).join(" "),He=[];De.map(function(Mt){(Mt=Mt.split(/\s*\n/)).length>1?He=He.concat(Mt.map(function(hn,xt){return(xt&&hn.length?"\n":"")+hn})):He.push(Mt[0])}),De=He,L=ZA.apply(this,[ee,y])}for(T=0,P=De.length;T<P;T++){var Ct=0;if(E=De[T],L&&"\n"==E[0]&&(E=E.substr(1),Ct=1),ve+H+(Qe=(D=ds.apply(this,[E,y])).reduce(function(Mt,hn){return Mt+hn},0))>g||Ct){if(Qe>g){for(M=Fa.apply(this,[E,D,g-(ve+H),g]),re.push(M.shift()),re=[M.pop()];M.length;)ue.push([M.shift()]);Qe=D.slice(E.length-(re[0]?re[0].length:0)).reduce(function(Mt,hn){return Mt+hn},0)}else re=[E];ue.push(re),ve=Qe+L,H=qe}else re.push(E),ve+=H+Qe,H=qe}return ue.map(L?function(Mt,hn){return(hn?ee:"")+Mt.join(" ")}:function(Mt){return Mt.join(" ")})},Yu.splitTextToSize=function(C,g,y){var E,D=(y=y||{}).fontSize||this.internal.getFontSize(),T=function(re){if(re.widths&&re.kerning)return{widths:re.widths,kerning:re.kerning};var ue=this.internal.getFont(re.fontName,re.fontStyle);return ue.metadata.Unicode?{widths:ue.metadata.Unicode.widths||{0:1},kerning:ue.metadata.Unicode.kerning||{}}:{font:ue.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}.call(this,y);E=Array.isArray(C)?C:String(C).split(/\r?\n/);var P=1*this.internal.scaleFactor*g/D;T.textIndent=y.textIndent?1*y.textIndent*this.internal.scaleFactor/D:0,T.lineIndent=y.lineIndent;var M,L,$=[];for(M=0,L=E.length;M<L;M++)$=$.concat(Qd.apply(this,[E[M],P,T]));return $},function(C){C.__fontmetrics__=C.__fontmetrics__||{};for(var g="klmnopqrstuvwxyz",y={},E={},D=0;D<16;D++)y[g[D]]="0123456789abcdef"[D],E["0123456789abcdef"[D]]=g[D];var T=function(ue){return"0x"+parseInt(ue,10).toString(16)},P=C.__fontmetrics__.compress=function(ue){var ve,H,Qe,De,qe=["{"];for(var ee in ue){if(ve=ue[ee],isNaN(parseInt(ee,10))?H="'"+ee+"'":(ee=parseInt(ee,10),H=(H=T(ee).slice(2)).slice(0,-1)+E[H.slice(-1)]),"number"==typeof ve)ve<0?(Qe=T(ve).slice(3),De="-"):(Qe=T(ve).slice(2),De=""),Qe=De+Qe.slice(0,-1)+E[Qe.slice(-1)];else{if("object"!==(0,V.A)(ve))throw new Error("Don't know what to do with value type "+(0,V.A)(ve)+".");Qe=P(ve)}qe.push(H+Qe)}return qe.push("}"),qe.join("")},M=C.__fontmetrics__.uncompress=function(ue){if("string"!=typeof ue)throw new Error("Invalid argument passed to uncompress.");for(var ve,H,Qe,De,qe={},ee=1,He=qe,Ct=[],Mt="",hn="",xt=ue.length-1,Lt=1;Lt<xt;Lt+=1)"'"==(De=ue[Lt])?ve?(Qe=ve.join(""),ve=void 0):ve=[]:ve?ve.push(De):"{"==De?(Ct.push([He,Qe]),He={},Qe=void 0):"}"==De?((H=Ct.pop())[0][H[1]]=He,Qe=void 0,He=H[0]):"-"==De?ee=-1:void 0===Qe?y.hasOwnProperty(De)?(Mt+=y[De],Qe=parseInt(Mt,16)*ee,ee=1,Mt=""):Mt+=De:y.hasOwnProperty(De)?(hn+=y[De],He[Qe]=parseInt(hn,16)*ee,ee=1,Qe=void 0,hn=""):hn+=De;return qe},L={codePages:["WinAnsiEncoding"],WinAnsiEncoding:M("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},$={Unicode:{Courier:L,"Courier-Bold":L,"Courier-BoldOblique":L,"Courier-Oblique":L,Helvetica:L,"Helvetica-Bold":L,"Helvetica-BoldOblique":L,"Helvetica-Oblique":L,"Times-Roman":L,"Times-Bold":L,"Times-BoldItalic":L,"Times-Italic":L}},re={Unicode:{"Courier-Oblique":M("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":M("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":M("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:M("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":M("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":M("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:M("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:M("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":M("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:M("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":M("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":M("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":M("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":M("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};C.events.push(["addFont",function(ue){var ve=ue.font,H=re.Unicode[ve.postScriptName];H&&(ve.metadata.Unicode={},ve.metadata.Unicode.widths=H.widths,ve.metadata.Unicode.kerning=H.kerning);var Qe=$.Unicode[ve.postScriptName];Qe&&(ve.metadata.Unicode.encoding=Qe,ve.encoding=Qe.codePages[0])}])}(jr.API),
/**
         * @license
         * Licensed under the MIT License.
         * http://opensource.org/licenses/mit-license
         */
function(C){var g=function(y){for(var E=y.length,D=new Uint8Array(E),T=0;T<E;T++)D[T]=y.charCodeAt(T);return D};C.API.events.push(["addFont",function(y){var P,M,E=void 0,D=y.font,T=y.instance;if(!D.isStandardFont){if(void 0===T)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+D.postScriptName+"').");if("string"!=typeof(E=!1===T.existsFileInVFS(D.postScriptName)?T.loadFile(D.postScriptName):T.getFileFromVFS(D.postScriptName)))throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+D.postScriptName+"').");P=D,M=/^\x00\x01\x00\x00/.test(M=E)?g(M):g(Or(M)),P.metadata=C.API.TTFFont.open(M),P.metadata.Unicode=P.metadata.Unicode||{encoding:{},kerning:{},widths:[]},P.metadata.glyIdsUsed=[0]}}])}(jr),jr.API.addSvgAsImage=function(y,E,D,T,P,M,L,$){if(isNaN(E)||isNaN(D))throw Xr.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(T)||isNaN(P))throw Xr.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var re=document.createElement("canvas");re.width=T,re.height=P;var ue=re.getContext("2d");ue.fillStyle="#fff",ue.fillRect(0,0,re.width,re.height);var ve={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},H=this;return function g(){return(tr.canvg?Promise.resolve(tr.canvg):_t.e(4687).then(_t.bind(_t,4687))).catch(function(y){return Promise.reject(new Error("Could not load canvg: "+y))}).then(function(y){return y.default?y.default:y})}().then(function(Qe){return Qe.fromString(ue,y,ve)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(Qe){return Qe.render(ve)}).then(function(){H.addImage(re.toDataURL("image/jpeg",1),E,D,T,P,L,$)})},jr.API.putTotalPages=function(C){var g,y=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(g=new RegExp(C,"g"),y=this.internal.getNumberOfPages()):(g=new RegExp(this.pdfEscape16(C,this.internal.getFont()),"g"),y=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var E=1;E<=this.internal.getNumberOfPages();E++)for(var D=0;D<this.internal.pages[E].length;D++)this.internal.pages[E][D]=this.internal.pages[E][D].replace(g,y);return this},jr.API.viewerPreferences=function(C,g){var y;C=C||{},g=g||!1;var E,D,T,P={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},M=Object.keys(P),L=[],$=0,re=0,ue=0;function ve(Qe,De){var qe,ee=!1;for(qe=0;qe<Qe.length;qe+=1)Qe[qe]===De&&(ee=!0);return ee}if(void 0===this.internal.viewerpreferences&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(P)),this.internal.viewerpreferences.isSubscribed=!1),y=this.internal.viewerpreferences.configuration,"reset"===C||!0===g){var H=M.length;for(ue=0;ue<H;ue+=1)y[M[ue]].value=y[M[ue]].defaultValue,y[M[ue]].explicitSet=!1}if("object"===(0,V.A)(C))for(D in C)if(T=C[D],ve(M,D)&&void 0!==T){if("boolean"===y[D].type&&"boolean"==typeof T)y[D].value=T;else if("name"===y[D].type&&ve(y[D].valueSet,T))y[D].value=T;else if("integer"===y[D].type&&Number.isInteger(T))y[D].value=T;else if("array"===y[D].type){for($=0;$<T.length;$+=1)if(E=!0,1===T[$].length&&"number"==typeof T[$][0])L.push(String(T[$]-1));else if(T[$].length>1){for(re=0;re<T[$].length;re+=1)"number"!=typeof T[$][re]&&(E=!1);!0===E&&L.push([T[$][0]-1,T[$][1]-1].join(" "))}y[D].value="["+L.join(" ")+"]"}else y[D].value=y[D].defaultValue;y[D].explicitSet=!0}return!1===this.internal.viewerpreferences.isSubscribed&&(this.internal.events.subscribe("putCatalog",function(){var Qe,De=[];for(Qe in y)!0===y[Qe].explicitSet&&De.push("name"===y[Qe].type?"/"+Qe+" /"+y[Qe].value:"/"+Qe+" "+y[Qe].value);0!==De.length&&this.internal.write("/ViewerPreferences\n<<\n"+De.join("\n")+"\n>>")}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=y,this},
/** ====================================================================
         * @license
         * jsPDF XMP metadata plugin
         * Copyright (c) 2016 Jussi Utunen, u-jussi@suomi24.fi
         *
         * Permission is hereby granted, free of charge, to any person obtaining
         * a copy of this software and associated documentation files (the
         * "Software"), to deal in the Software without restriction, including
         * without limitation the rights to use, copy, modify, merge, publish,
         * distribute, sublicense, and/or sell copies of the Software, and to
         * permit persons to whom the Software is furnished to do so, subject to
         * the following conditions:
         *
         * The above copyright notice and this permission notice shall be
         * included in all copies or substantial portions of the Software.
         *
         * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
         * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
         * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
         * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
         * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
         * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
         * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
         * ====================================================================
         */
function(C){var g=function(){var E='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',D=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),T=unescape(encodeURIComponent(E)),P=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),M=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),L=unescape(encodeURIComponent("</x:xmpmeta>")),$=T.length+P.length+M.length+D.length+L.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+$+" >>"),this.internal.write("stream"),this.internal.write(D+T+P+M+L),this.internal.write("endstream"),this.internal.write("endobj")},y=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};C.addMetadata=function(E,D){return void 0===this.internal.__metadata__&&(this.internal.__metadata__={metadata:E,namespaceuri:D||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",y),this.internal.events.subscribe("postPutResources",g)),this}}(jr.API),function(C){var g=C.API,y=g.pdfEscape16=function(T,P){for(var M,L=P.metadata.Unicode.widths,$=["","0","00","000","0000"],re=[""],ue=0,ve=T.length;ue<ve;++ue){if(M=P.metadata.characterToGlyph(T.charCodeAt(ue)),P.metadata.glyIdsUsed.push(M),P.metadata.toUnicode[M]=T.charCodeAt(ue),-1==L.indexOf(M)&&(L.push(M),L.push([parseInt(P.metadata.widthOfGlyph(M),10)])),"0"==M)return re.join("");M=M.toString(16),re.push($[4-M.length],M)}return re.join("")},E=function(T){var P,M,L,$,re,ue,ve;for(re="/CIDInit /ProcSet findresource begin\n12 dict begin\nbegincmap\n/CIDSystemInfo <<\n  /Registry (Adobe)\n  /Ordering (UCS)\n  /Supplement 0\n>> def\n/CMapName /Adobe-Identity-UCS def\n/CMapType 2 def\n1 begincodespacerange\n<0000><ffff>\nendcodespacerange",L=[],ue=0,ve=(M=Object.keys(T).sort(function(H,Qe){return H-Qe})).length;ue<ve;ue++)P=M[ue],L.length>=100&&(re+="\n"+L.length+" beginbfchar\n"+L.join("\n")+"\nendbfchar",L=[]),null!=T[P]&&"function"==typeof T[P].toString&&($=("0000"+T[P].toString(16)).slice(-4),P=("0000"+(+P).toString(16)).slice(-4),L.push("<"+P+"><"+$+">"));return L.length&&(re+="\n"+L.length+" beginbfchar\n"+L.join("\n")+"\nendbfchar\n"),re+"endcmap\nCMapName currentdict /CMap defineresource pop\nend\nend"};g.events.push(["putFont",function(T){!function(P){var M=P.font,L=P.out,$=P.newObject,re=P.putStream;if(M.metadata instanceof C.API.TTFFont&&"Identity-H"===M.encoding){for(var ue=M.metadata.Unicode.widths,ve=M.metadata.subset.encode(M.metadata.glyIdsUsed,1),H="",Qe=0;Qe<ve.length;Qe++)H+=String.fromCharCode(ve[Qe]);var De=$();re({data:H,addLength1:!0,objectId:De}),L("endobj");var qe=$();re({data:E(M.metadata.toUnicode),addLength1:!0,objectId:qe}),L("endobj");var ee=$();L("<<"),L("/Type /FontDescriptor"),L("/FontName /"+Ir(M.fontName)),L("/FontFile2 "+De+" 0 R"),L("/FontBBox "+C.API.PDFObject.convert(M.metadata.bbox)),L("/Flags "+M.metadata.flags),L("/StemV "+M.metadata.stemV),L("/ItalicAngle "+M.metadata.italicAngle),L("/Ascent "+M.metadata.ascender),L("/Descent "+M.metadata.decender),L("/CapHeight "+M.metadata.capHeight),L(">>"),L("endobj");var He=$();L("<<"),L("/Type /Font"),L("/BaseFont /"+Ir(M.fontName)),L("/FontDescriptor "+ee+" 0 R"),L("/W "+C.API.PDFObject.convert(ue)),L("/CIDToGIDMap /Identity"),L("/DW 1000"),L("/Subtype /CIDFontType2"),L("/CIDSystemInfo"),L("<<"),L("/Supplement 0"),L("/Registry (Adobe)"),L("/Ordering ("+M.encoding+")"),L(">>"),L(">>"),L("endobj"),M.objectNumber=$(),L("<<"),L("/Type /Font"),L("/Subtype /Type0"),L("/ToUnicode "+qe+" 0 R"),L("/BaseFont /"+Ir(M.fontName)),L("/Encoding /"+M.encoding),L("/DescendantFonts ["+He+" 0 R]"),L(">>"),L("endobj"),M.isAlreadyPutted=!0}}(T)}]),g.events.push(["putFont",function(T){!function(P){var M=P.font,L=P.out,$=P.newObject,re=P.putStream;if(M.metadata instanceof C.API.TTFFont&&"WinAnsiEncoding"===M.encoding){for(var ue=M.metadata.rawData,ve="",H=0;H<ue.length;H++)ve+=String.fromCharCode(ue[H]);var Qe=$();re({data:ve,addLength1:!0,objectId:Qe}),L("endobj");var De=$();re({data:E(M.metadata.toUnicode),addLength1:!0,objectId:De}),L("endobj");var qe=$();L("<<"),L("/Descent "+M.metadata.decender),L("/CapHeight "+M.metadata.capHeight),L("/StemV "+M.metadata.stemV),L("/Type /FontDescriptor"),L("/FontFile2 "+Qe+" 0 R"),L("/Flags 96"),L("/FontBBox "+C.API.PDFObject.convert(M.metadata.bbox)),L("/FontName /"+Ir(M.fontName)),L("/ItalicAngle "+M.metadata.italicAngle),L("/Ascent "+M.metadata.ascender),L(">>"),L("endobj"),M.objectNumber=$();for(var ee=0;ee<M.metadata.hmtx.widths.length;ee++)M.metadata.hmtx.widths[ee]=parseInt(M.metadata.hmtx.widths[ee]*(1e3/M.metadata.head.unitsPerEm));L("<</Subtype/TrueType/Type/Font/ToUnicode "+De+" 0 R/BaseFont/"+Ir(M.fontName)+"/FontDescriptor "+qe+" 0 R/Encoding/"+M.encoding+" /FirstChar 29 /LastChar 255 /Widths "+C.API.PDFObject.convert(M.metadata.hmtx.widths)+">>"),L("endobj"),M.isAlreadyPutted=!0}}(T)}]);var D=function(T){var P,M=T.text||"",L=T.x,$=T.y,re=T.options||{},ue=T.mutex||{},ve=ue.pdfEscape,H=ue.activeFontKey,Qe=ue.fonts,De=H,qe="",ee=0,He="",Ct=Qe[De].encoding;if("Identity-H"!==Qe[De].encoding)return{text:M,x:L,y:$,options:re,mutex:ue};for(He=M,De=H,Array.isArray(M)&&(He=M[0]),ee=0;ee<He.length;ee+=1)Qe[De].metadata.hasOwnProperty("cmap")&&(P=Qe[De].metadata.cmap.unicode.codeMap[He[ee].charCodeAt(0)]),P||He[ee].charCodeAt(0)<256&&Qe[De].metadata.hasOwnProperty("Unicode")?qe+=He[ee]:qe+="";var Mt="";return parseInt(De.slice(1))<14||"WinAnsiEncoding"===Ct?Mt=ve(qe,De).split("").map(function(hn){return hn.charCodeAt(0).toString(16)}).join(""):"Identity-H"===Ct&&(Mt=y(qe,Qe[De])),ue.isHex=!0,{text:Mt,x:L,y:$,options:re,mutex:ue}};g.events.push(["postProcessText",function(T){var P=T.text||"",M=[],L={text:P,x:T.x,y:T.y,options:T.options,mutex:T.mutex};if(Array.isArray(P)){var $=0;for($=0;$<P.length;$+=1)Array.isArray(P[$])&&3===P[$].length?M.push([D(Object.assign({},L,{text:P[$][0]})).text,P[$][1],P[$][2]]):M.push(D(Object.assign({},L,{text:P[$]})).text);T.text=M}else T.text=D(Object.assign({},L,{text:P})).text}])}(jr),
/**
         * @license
         * jsPDF virtual FileSystem functionality
         *
         * Licensed under the MIT License.
         * http://opensource.org/licenses/mit-license
         */
function(C){var g=function(){return void 0===this.internal.vFS&&(this.internal.vFS={}),!0};C.existsFileInVFS=function(y){return g.call(this),void 0!==this.internal.vFS[y]},C.addFileToVFS=function(y,E){return g.call(this),this.internal.vFS[y]=E,this},C.getFileFromVFS=function(y){return g.call(this),void 0!==this.internal.vFS[y]?this.internal.vFS[y]:null}}(jr.API),
/**
         * @license
         * Unicode Bidi Engine based on the work of Alex Shensis (@asthensis)
         * MIT License
         */
function(C){C.__bidiEngine__=C.prototype.__bidiEngine__=function(E){var D,T,P,M,L,$,re,ue=g,ve=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],H=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],Qe={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},De={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},qe=["(",")","(","<",">","<","[","]","[","{","}","{","\xab","\xbb","\xab","\u2039","\u203a","\u2039","\u2045","\u2046","\u2045","\u207d","\u207e","\u207d","\u208d","\u208e","\u208d","\u2264","\u2265","\u2264","\u2329","\u232a","\u2329","\ufe59","\ufe5a","\ufe59","\ufe5b","\ufe5c","\ufe5b","\ufe5d","\ufe5e","\ufe5d","\ufe64","\ufe65","\ufe64"],ee=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),He=!1,Ct=0;this.__bidiEngine__={};var Mt=function(Re){var Ee=Re.charCodeAt(),vt=Ee>>8,ct=De[vt];return void 0!==ct?ue[256*ct+(255&Ee)]:252===vt||253===vt?"AL":ee.test(vt)?"L":8===vt?"R":"N"},hn=function(Re){for(var Ee,vt=0;vt<Re.length;vt++){if("L"===(Ee=Mt(Re.charAt(vt))))return!1;if("R"===Ee)return!0}return!1},xt=function(Re,Ee,vt,ct){var pn,rn,bn,Wt,Sn=Ee[ct];switch(Sn){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":He=!1;break;case"N":case"AN":break;case"EN":He&&(Sn="AN");break;case"AL":He=!0,Sn="R";break;case"WS":case"BN":Sn="N";break;case"CS":ct<1||ct+1>=Ee.length||"EN"!==(pn=vt[ct-1])&&"AN"!==pn||"EN"!==(rn=Ee[ct+1])&&"AN"!==rn?Sn="N":He&&(rn="AN"),Sn=rn===pn?rn:"N";break;case"ES":Sn="EN"===(pn=ct>0?vt[ct-1]:"B")&&ct+1<Ee.length&&"EN"===Ee[ct+1]?"EN":"N";break;case"ET":if(ct>0&&"EN"===vt[ct-1]){Sn="EN";break}if(He){Sn="N";break}for(bn=ct+1,Wt=Ee.length;bn<Wt&&"ET"===Ee[bn];)bn++;Sn=bn<Wt&&"EN"===Ee[bn]?"EN":"N";break;case"NSM":if(P&&!M){for(Wt=Ee.length,bn=ct+1;bn<Wt&&"NSM"===Ee[bn];)bn++;if(bn<Wt){var wn=Re[ct];if(pn=Ee[bn],(wn>=1425&&wn<=2303||64286===wn)&&("R"===pn||"AL"===pn)){Sn="R";break}}}Sn=ct<1||"B"===(pn=Ee[ct-1])?"N":vt[ct-1];break;case"B":He=!1,D=!0,Sn=Ct;break;case"S":T=!0,Sn="N"}return Sn},Lt=function(Re,Ee,vt){var ct=Re.split("");return vt&&Ue(ct,vt,{hiLevel:Ct}),ct.reverse(),Ee&&Ee.reverse(),ct.join("")},Ue=function(Re,Ee,vt){var ct,pn,rn,bn,Wt,Sn=-1,wn=Re.length,lr=0,ae=[],$e=Ct?H:ve,it=[];for(He=!1,D=!1,T=!1,pn=0;pn<wn;pn++)it[pn]=Mt(Re[pn]);for(rn=0;rn<wn;rn++){if(Wt=lr,ae[rn]=xt(Re,it,ae,rn),ct=240&(lr=$e[Wt][Qe[ae[rn]]]),Ee[rn]=bn=$e[lr&=15][5],ct>0)if(16===ct){for(pn=Sn;pn<rn;pn++)Ee[pn]=1;Sn=-1}else Sn=-1;if($e[lr][6])-1===Sn&&(Sn=rn);else if(Sn>-1){for(pn=Sn;pn<rn;pn++)Ee[pn]=bn;Sn=-1}"B"===it[rn]&&(Ee[rn]=0),vt.hiLevel|=bn}T&&function(bt,St,Kt){for(var qt=0;qt<Kt;qt++)if("S"===bt[qt]){St[qt]=Ct;for(var Jt=qt-1;Jt>=0&&"WS"===bt[Jt];Jt--)St[Jt]=Ct}}(it,Ee,wn)},an=function(Re,Ee,vt,ct,pn){if(!(pn.hiLevel<Re)){if(1===Re&&1===Ct&&!D)return Ee.reverse(),void(vt&&vt.reverse());for(var rn,bn,Wt,Sn,wn=Ee.length,lr=0;lr<wn;){if(ct[lr]>=Re){for(Wt=lr+1;Wt<wn&&ct[Wt]>=Re;)Wt++;for(Sn=lr,bn=Wt-1;Sn<bn;Sn++,bn--)rn=Ee[Sn],Ee[Sn]=Ee[bn],Ee[bn]=rn,vt&&(rn=vt[Sn],vt[Sn]=vt[bn],vt[bn]=rn);lr=Wt}lr++}}},cn=function(Re,Ee,vt){var ct=Re.split(""),pn={hiLevel:Ct};return vt||(vt=[]),Ue(ct,vt,pn),function(rn,bn,Wt){if(0!==Wt.hiLevel&&re)for(var Sn,wn=0;wn<rn.length;wn++)1===bn[wn]&&(Sn=qe.indexOf(rn[wn]))>=0&&(rn[wn]=qe[Sn+1])}(ct,vt,pn),an(2,ct,Ee,vt,pn),an(1,ct,Ee,vt,pn),ct.join("")};return this.__bidiEngine__.doBidiReorder=function(Re,Ee,vt){if(function(pn,rn){if(rn)for(var bn=0;bn<pn.length;bn++)rn[bn]=bn;void 0===M&&(M=hn(pn)),void 0===$&&($=hn(pn))}(Re,Ee),P||!L||$)if(P&&L&&M^$)Ct=M?1:0,Re=Lt(Re,Ee,vt);else if(!P&&L&&$)Ct=M?1:0,Re=cn(Re,Ee,vt),Re=Lt(Re,Ee);else if(!P||M||L||$){if(P&&!L&&M^$)Re=Lt(Re,Ee),M?(Ct=0,Re=cn(Re,Ee,vt)):(Ct=1,Re=cn(Re,Ee,vt),Re=Lt(Re,Ee));else if(P&&M&&!L&&$)Ct=1,Re=cn(Re,Ee,vt),Re=Lt(Re,Ee);else if(!P&&!L&&M^$){var ct=re;M?(Ct=1,Re=cn(Re,Ee,vt),Ct=0,re=!1,Re=cn(Re,Ee,vt),re=ct):(Ct=0,Re=cn(Re,Ee,vt),Re=Lt(Re,Ee),Ct=1,re=!1,Re=cn(Re,Ee,vt),re=ct,Re=Lt(Re,Ee))}}else Ct=0,Re=cn(Re,Ee,vt);else Ct=M?1:0,Re=cn(Re,Ee,vt);return Re},this.__bidiEngine__.setOptions=function(Re){Re&&(P=Re.isInputVisual,L=Re.isOutputVisual,M=Re.isInputRtl,$=Re.isOutputRtl,re=Re.isSymmetricSwapping)},this.__bidiEngine__.setOptions(E),this.__bidiEngine__};var g=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],y=new C.__bidiEngine__({isInputVisual:!0});C.API.events.push(["postProcessText",function(E){var D=E.text,T=E.options||{},P=[];if(T.isInputVisual="boolean"!=typeof T.isInputVisual||T.isInputVisual,y.setOptions(T),"[object Array]"===Object.prototype.toString.call(D)){var M=0;for(P=[],M=0;M<D.length;M+=1)"[object Array]"===Object.prototype.toString.call(D[M])?P.push([y.doBidiReorder(D[M][0]),D[M][1],D[M][2]]):P.push([y.doBidiReorder(D[M])]);E.text=P}else E.text=y.doBidiReorder(D);y.setOptions({isInputVisual:!0})}])}(jr),jr.API.TTFFont=function(){function C(g){var y;if(this.rawData=g,y=this.contents=new Ju(g),this.contents.pos=4,"ttcf"===y.readString(4))throw new Error("TTCF not supported.");y.pos=0,this.parse(),this.subset=new gl(this),this.registerTTF()}return C.open=function(g){return new C(g)},C.prototype.parse=function(){return this.directory=new Vl(this.contents),this.head=new Zo(this),this.name=new Dc(this),this.cmap=new CA(this),this.toUnicode={},this.hhea=new pl(this),this.maxp=new ou(this),this.hmtx=new bA(this),this.post=new ec(this),this.os2=new no(this),this.loca=new fp(this),this.glyf=new Fo(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},C.prototype.registerTTF=function(){var y,E,D,T;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=function(){var P,M,L,$;for($=[],P=0,M=(L=this.bbox).length;P<M;P++)$.push(Math.round(L[P]*this.scaleFactor));return $}.call(this),this.stemV=0,this.post.exists?(E=255&(D=this.post.italic_angle),32768&(y=D>>16)&&(y=-(1+(65535^y))),this.italicAngle=+(y+"."+E)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=1===(T=this.familyClass)||2===T||3===T||4===T||5===T||7===T,this.isScript=10===this.familyClass,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),0!==this.italicAngle&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},C.prototype.characterToGlyph=function(g){var y;return(null!=(y=this.cmap.unicode)?y.codeMap[g]:void 0)||0},C.prototype.widthOfGlyph=function(g){var y;return y=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(g).advance*y},C.prototype.widthOfString=function(g,y,E){var D,T,P,M;for(P=0,T=0,M=(g=""+g).length;0<=M?T<M:T>M;T=0<=M?++T:--T)D=g.charCodeAt(T),P+=this.widthOfGlyph(this.characterToGlyph(D))+E*(1e3/y)||0;return P*(y/1e3)},C.prototype.lineHeight=function(g,y){return null==y&&(y=!1),(this.ascender+(y?this.lineGap:0)-this.decender)/1e3*g},C}();var Ul,Ju=function(){function C(g){this.data=null!=g?g:[],this.pos=0,this.length=this.data.length}return C.prototype.readByte=function(){return this.data[this.pos++]},C.prototype.writeByte=function(g){return this.data[this.pos++]=g},C.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},C.prototype.writeUInt32=function(g){return this.writeByte(g>>>24&255),this.writeByte(g>>16&255),this.writeByte(g>>8&255),this.writeByte(255&g)},C.prototype.readInt32=function(){var g;return(g=this.readUInt32())>=2147483648?g-4294967296:g},C.prototype.writeInt32=function(g){return g<0&&(g+=4294967296),this.writeUInt32(g)},C.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},C.prototype.writeUInt16=function(g){return this.writeByte(g>>8&255),this.writeByte(255&g)},C.prototype.readInt16=function(){var g;return(g=this.readUInt16())>=32768?g-65536:g},C.prototype.writeInt16=function(g){return g<0&&(g+=65536),this.writeUInt16(g)},C.prototype.readString=function(g){var y,E;for(E=[],y=0;0<=g?y<g:y>g;y=0<=g?++y:--y)E[y]=String.fromCharCode(this.readByte());return E.join("")},C.prototype.writeString=function(g){var y,E,D;for(D=[],y=0,E=g.length;0<=E?y<E:y>E;y=0<=E?++y:--y)D.push(this.writeByte(g.charCodeAt(y)));return D},C.prototype.readShort=function(){return this.readInt16()},C.prototype.writeShort=function(g){return this.writeInt16(g)},C.prototype.readLongLong=function(){var g,y,E,D,T,P,M,L;return g=this.readByte(),y=this.readByte(),E=this.readByte(),D=this.readByte(),T=this.readByte(),P=this.readByte(),M=this.readByte(),L=this.readByte(),128&g?-1*(72057594037927940*(255^g)+281474976710656*(255^y)+1099511627776*(255^E)+4294967296*(255^D)+16777216*(255^T)+65536*(255^P)+256*(255^M)+(255^L)+1):72057594037927940*g+281474976710656*y+1099511627776*E+4294967296*D+16777216*T+65536*P+256*M+L},C.prototype.writeLongLong=function(g){var y,E;return y=Math.floor(g/4294967296),E=4294967295&g,this.writeByte(y>>24&255),this.writeByte(y>>16&255),this.writeByte(y>>8&255),this.writeByte(255&y),this.writeByte(E>>24&255),this.writeByte(E>>16&255),this.writeByte(E>>8&255),this.writeByte(255&E)},C.prototype.readInt=function(){return this.readInt32()},C.prototype.writeInt=function(g){return this.writeInt32(g)},C.prototype.read=function(g){var y,E;for(y=[],E=0;0<=g?E<g:E>g;E=0<=g?++E:--E)y.push(this.readByte());return y},C.prototype.write=function(g){var E,D,T;for(T=[],E=0,D=g.length;E<D;E++)T.push(this.writeByte(g[E]));return T},C}(),Vl=function(){var C;function g(y){var E,D,T;for(this.scalarType=y.readInt(),this.tableCount=y.readShort(),this.searchRange=y.readShort(),this.entrySelector=y.readShort(),this.rangeShift=y.readShort(),this.tables={},D=0,T=this.tableCount;0<=T?D<T:D>T;D=0<=T?++D:--D)E={tag:y.readString(4),checksum:y.readInt(),offset:y.readInt(),length:y.readInt()},this.tables[E.tag]=E}return g.prototype.encode=function(y){var E,D,P,M,L,$,re,ue,ve,H,Qe,De;for(De in H=Object.keys(y).length,L=Math.log(2),ue=16*Math.floor(Math.log(H)/L),P=Math.floor(ue/L),re=16*H-ue,(D=new Ju).writeInt(this.scalarType),D.writeShort(H),D.writeShort(ue),D.writeShort(P),D.writeShort(re),$=D.pos+16*H,M=null,Qe=[],y)for(ve=y[De],D.writeString(De),D.writeInt(C(ve)),D.writeInt($),D.writeInt(ve.length),Qe=Qe.concat(ve),"head"===De&&(M=$),$+=ve.length;$%4;)Qe.push(0),$++;return D.write(Qe),E=2981146554-C(D.data),D.pos=M+8,D.writeUInt32(E),D.data},C=function(y){var E,D,T,P;for(y=su.call(y);y.length%4;)y.push(0);for(T=new Ju(y),D=0,E=0,P=y.length;E<P;E=E+=4)D+=T.readUInt32();return 4294967295&D},g}(),Ks={}.hasOwnProperty,Vs=function(C,g){for(var y in g)Ks.call(g,y)&&(C[y]=g[y]);function E(){this.constructor=C}return E.prototype=g.prototype,C.prototype=new E,C.__super__=g.prototype,C};Ul=function(){function C(g){var y;this.file=g,this.exists=!!(y=this.file.directory.tables[this.tag]),y&&(this.offset=y.offset,this.length=y.length,this.parse(this.file.contents))}return C.prototype.parse=function(){},C.prototype.encode=function(){},C.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},C}();var Zo=function(C){function g(){return g.__super__.constructor.apply(this,arguments)}return Vs(g,Ul),g.prototype.tag="head",g.prototype.parse=function(y){return y.pos=this.offset,this.version=y.readInt(),this.revision=y.readInt(),this.checkSumAdjustment=y.readInt(),this.magicNumber=y.readInt(),this.flags=y.readShort(),this.unitsPerEm=y.readShort(),this.created=y.readLongLong(),this.modified=y.readLongLong(),this.xMin=y.readShort(),this.yMin=y.readShort(),this.xMax=y.readShort(),this.yMax=y.readShort(),this.macStyle=y.readShort(),this.lowestRecPPEM=y.readShort(),this.fontDirectionHint=y.readShort(),this.indexToLocFormat=y.readShort(),this.glyphDataFormat=y.readShort()},g.prototype.encode=function(y){var E;return(E=new Ju).writeInt(this.version),E.writeInt(this.revision),E.writeInt(this.checkSumAdjustment),E.writeInt(this.magicNumber),E.writeShort(this.flags),E.writeShort(this.unitsPerEm),E.writeLongLong(this.created),E.writeLongLong(this.modified),E.writeShort(this.xMin),E.writeShort(this.yMin),E.writeShort(this.xMax),E.writeShort(this.yMax),E.writeShort(this.macStyle),E.writeShort(this.lowestRecPPEM),E.writeShort(this.fontDirectionHint),E.writeShort(y),E.writeShort(this.glyphDataFormat),E.data},g}(),Zu=function(){function C(g,y){var E,D,T,P,M,L,$,re,ue,ve,H,Qe,De,qe,ee,He,Ct;switch(this.platformID=g.readUInt16(),this.encodingID=g.readShort(),this.offset=y+g.readInt(),ue=g.pos,g.pos=this.offset,this.format=g.readUInt16(),this.length=g.readUInt16(),this.language=g.readUInt16(),this.isUnicode=3===this.platformID&&1===this.encodingID&&4===this.format||0===this.platformID&&4===this.format,this.codeMap={},this.format){case 0:for(L=0;L<256;++L)this.codeMap[L]=g.readByte();break;case 4:for(H=g.readUInt16(),ve=H/2,g.pos+=6,T=function(){var Mt,hn;for(hn=[],L=Mt=0;0<=ve?Mt<ve:Mt>ve;L=0<=ve?++Mt:--Mt)hn.push(g.readUInt16());return hn}(),g.pos+=2,De=function(){var Mt,hn;for(hn=[],L=Mt=0;0<=ve?Mt<ve:Mt>ve;L=0<=ve?++Mt:--Mt)hn.push(g.readUInt16());return hn}(),$=function(){var Mt,hn;for(hn=[],L=Mt=0;0<=ve?Mt<ve:Mt>ve;L=0<=ve?++Mt:--Mt)hn.push(g.readUInt16());return hn}(),re=function(){var Mt,hn;for(hn=[],L=Mt=0;0<=ve?Mt<ve:Mt>ve;L=0<=ve?++Mt:--Mt)hn.push(g.readUInt16());return hn}(),D=(this.length-g.pos+this.offset)/2,M=function(){var Mt,hn;for(hn=[],L=Mt=0;0<=D?Mt<D:Mt>D;L=0<=D?++Mt:--Mt)hn.push(g.readUInt16());return hn}(),L=ee=0,Ct=T.length;ee<Ct;L=++ee)for(qe=T[L],E=He=Qe=De[L];Qe<=qe?He<=qe:He>=qe;E=Qe<=qe?++He:--He)0===re[L]?P=E+$[L]:0!==(P=M[re[L]/2+(E-Qe)-(ve-L)]||0)&&(P+=$[L]),this.codeMap[E]=65535&P}g.pos=ue}return C.encode=function(g,y){var E,D,T,P,M,L,$,re,ue,ve,H,Qe,De,qe,ee,He,Ct,hn,xt,Lt,Ue,an,cn,Re,Ee,vt,ct,pn,rn,bn,Wt,Sn,wn,lr,ae,$e,it,bt,St,Kt,qt,Jt,Xn,Wn,gr;switch(ct=new Ju,P=Object.keys(g).sort(function(Dr,ui){return Dr-ui}),y){case"macroman":for(De=0,qe=function(){var Dr=[];for(Qe=0;Qe<256;++Qe)Dr.push(0);return Dr}(),He={0:0},T={},pn=0,Sn=P.length;pn<Sn;pn++)null==He[Jt=g[D=P[pn]]]&&(He[Jt]=++De),T[D]={old:g[D],new:He[g[D]]},qe[D]=He[g[D]];return ct.writeUInt16(1),ct.writeUInt16(0),ct.writeUInt32(12),ct.writeUInt16(0),ct.writeUInt16(262),ct.writeUInt16(0),ct.write(qe),{charMap:T,subtable:ct.data,maxGlyphID:De+1};case"unicode":for(Ee=[],ue=[],Ct=0,He={},E={},ee=$=null,rn=0,wn=P.length;rn<wn;rn++)null==He[hn=g[D=P[rn]]]&&(He[hn]=++Ct),E[D]={old:hn,new:He[hn]},M=He[hn]-D,null!=ee&&M===$||(ee&&ue.push(ee),Ee.push(D),$=M),ee=D;for(ee&&ue.push(ee),ue.push(65535),Ee.push(65535),cn=2*(an=Ee.length),Ue=2*Math.pow(Math.log(an)/Math.LN2,2),ve=Math.log(Ue/2)/Math.LN2,Lt=2*an-Ue,L=[],xt=[],H=[],Qe=bn=0,lr=Ee.length;bn<lr;Qe=++bn){if(re=ue[Qe],65535===(Re=Ee[Qe])){L.push(0),xt.push(0);break}if(Re-(vt=E[Re].new)>=32768)for(L.push(0),xt.push(2*(H.length+an-Qe)),D=Wt=Re;Re<=re?Wt<=re:Wt>=re;D=Re<=re?++Wt:--Wt)H.push(E[D].new);else L.push(vt-Re),xt.push(0)}for(ct.writeUInt16(3),ct.writeUInt16(1),ct.writeUInt32(12),ct.writeUInt16(4),ct.writeUInt16(16+8*an+2*H.length),ct.writeUInt16(0),ct.writeUInt16(cn),ct.writeUInt16(Ue),ct.writeUInt16(ve),ct.writeUInt16(Lt),Kt=0,ae=ue.length;Kt<ae;Kt++)ct.writeUInt16(D=ue[Kt]);for(ct.writeUInt16(0),qt=0,$e=Ee.length;qt<$e;qt++)ct.writeUInt16(D=Ee[qt]);for(Xn=0,it=L.length;Xn<it;Xn++)ct.writeUInt16(M=L[Xn]);for(Wn=0,bt=xt.length;Wn<bt;Wn++)ct.writeUInt16(xt[Wn]);for(gr=0,St=H.length;gr<St;gr++)ct.writeUInt16(De=H[gr]);return{charMap:E,subtable:ct.data,maxGlyphID:Ct+1}}},C}(),CA=function(C){function g(){return g.__super__.constructor.apply(this,arguments)}return Vs(g,Ul),g.prototype.tag="cmap",g.prototype.parse=function(y){var E,D,T;for(y.pos=this.offset,this.version=y.readUInt16(),T=y.readUInt16(),this.tables=[],this.unicode=null,D=0;0<=T?D<T:D>T;D=0<=T?++D:--D)E=new Zu(y,this.offset),this.tables.push(E),E.isUnicode&&null==this.unicode&&(this.unicode=E);return!0},g.encode=function(y,E){var D,T;return null==E&&(E="macroman"),D=Zu.encode(y,E),(T=new Ju).writeUInt16(0),T.writeUInt16(1),D.table=T.data.concat(D.subtable),D},g}(),pl=function(C){function g(){return g.__super__.constructor.apply(this,arguments)}return Vs(g,Ul),g.prototype.tag="hhea",g.prototype.parse=function(y){return y.pos=this.offset,this.version=y.readInt(),this.ascender=y.readShort(),this.decender=y.readShort(),this.lineGap=y.readShort(),this.advanceWidthMax=y.readShort(),this.minLeftSideBearing=y.readShort(),this.minRightSideBearing=y.readShort(),this.xMaxExtent=y.readShort(),this.caretSlopeRise=y.readShort(),this.caretSlopeRun=y.readShort(),this.caretOffset=y.readShort(),y.pos+=8,this.metricDataFormat=y.readShort(),this.numberOfMetrics=y.readUInt16()},g}(),no=function(C){function g(){return g.__super__.constructor.apply(this,arguments)}return Vs(g,Ul),g.prototype.tag="OS/2",g.prototype.parse=function(y){if(y.pos=this.offset,this.version=y.readUInt16(),this.averageCharWidth=y.readShort(),this.weightClass=y.readUInt16(),this.widthClass=y.readUInt16(),this.type=y.readShort(),this.ySubscriptXSize=y.readShort(),this.ySubscriptYSize=y.readShort(),this.ySubscriptXOffset=y.readShort(),this.ySubscriptYOffset=y.readShort(),this.ySuperscriptXSize=y.readShort(),this.ySuperscriptYSize=y.readShort(),this.ySuperscriptXOffset=y.readShort(),this.ySuperscriptYOffset=y.readShort(),this.yStrikeoutSize=y.readShort(),this.yStrikeoutPosition=y.readShort(),this.familyClass=y.readShort(),this.panose=function(){var E,D;for(D=[],E=0;E<10;++E)D.push(y.readByte());return D}(),this.charRange=function(){var E,D;for(D=[],E=0;E<4;++E)D.push(y.readInt());return D}(),this.vendorID=y.readString(4),this.selection=y.readShort(),this.firstCharIndex=y.readShort(),this.lastCharIndex=y.readShort(),this.version>0&&(this.ascent=y.readShort(),this.descent=y.readShort(),this.lineGap=y.readShort(),this.winAscent=y.readShort(),this.winDescent=y.readShort(),this.codePageRange=function(){var E,D;for(D=[],E=0;E<2;E=++E)D.push(y.readInt());return D}(),this.version>1))return this.xHeight=y.readShort(),this.capHeight=y.readShort(),this.defaultChar=y.readShort(),this.breakChar=y.readShort(),this.maxContext=y.readShort()},g}(),ec=function(C){function g(){return g.__super__.constructor.apply(this,arguments)}return Vs(g,Ul),g.prototype.tag="post",g.prototype.parse=function(y){var E,D,T;switch(y.pos=this.offset,this.format=y.readInt(),this.italicAngle=y.readInt(),this.underlinePosition=y.readShort(),this.underlineThickness=y.readShort(),this.isFixedPitch=y.readInt(),this.minMemType42=y.readInt(),this.maxMemType42=y.readInt(),this.minMemType1=y.readInt(),this.maxMemType1=y.readInt(),this.format){case 65536:case 196608:break;case 131072:var P;for(D=y.readUInt16(),this.glyphNameIndex=[],P=0;0<=D?P<D:P>D;P=0<=D?++P:--P)this.glyphNameIndex.push(y.readUInt16());for(this.names=[],T=[];y.pos<this.offset+this.length;)E=y.readByte(),T.push(this.names.push(y.readString(E)));return T;case 151552:return D=y.readUInt16(),this.offsets=y.read(D);case 262144:return this.map=function(){var M,L,$;for($=[],P=M=0,L=this.file.maxp.numGlyphs;0<=L?M<L:M>L;P=0<=L?++M:--M)$.push(y.readUInt32());return $}.call(this)}},g}(),hp=function(C,g){this.raw=C,this.length=C.length,this.platformID=g.platformID,this.encodingID=g.encodingID,this.languageID=g.languageID},Dc=function(C){function g(){return g.__super__.constructor.apply(this,arguments)}return Vs(g,Ul),g.prototype.tag="name",g.prototype.parse=function(y){var E,D,T,P,M,L,$,re,ue,ve,H;for(y.pos=this.offset,y.readShort(),E=y.readShort(),L=y.readShort(),D=[],P=0;0<=E?P<E:P>E;P=0<=E?++P:--P)D.push({platformID:y.readShort(),encodingID:y.readShort(),languageID:y.readShort(),nameID:y.readShort(),length:y.readShort(),offset:this.offset+L+y.readShort()});for($={},P=ue=0,ve=D.length;ue<ve;P=++ue)y.pos=(T=D[P]).offset,re=y.readString(T.length),M=new hp(re,T),null==$[H=T.nameID]&&($[H]=[]),$[T.nameID].push(M);this.strings=$,this.copyright=$[0],this.fontFamily=$[1],this.fontSubfamily=$[2],this.uniqueSubfamily=$[3],this.fontName=$[4],this.version=$[5];try{this.postscriptName=$[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=$[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=$[7],this.manufacturer=$[8],this.designer=$[9],this.description=$[10],this.vendorUrl=$[11],this.designerUrl=$[12],this.license=$[13],this.licenseUrl=$[14],this.preferredFamily=$[15],this.preferredSubfamily=$[17],this.compatibleFull=$[18],this.sampleText=$[19]},g}(),ou=function(C){function g(){return g.__super__.constructor.apply(this,arguments)}return Vs(g,Ul),g.prototype.tag="maxp",g.prototype.parse=function(y){return y.pos=this.offset,this.version=y.readInt(),this.numGlyphs=y.readUInt16(),this.maxPoints=y.readUInt16(),this.maxContours=y.readUInt16(),this.maxCompositePoints=y.readUInt16(),this.maxComponentContours=y.readUInt16(),this.maxZones=y.readUInt16(),this.maxTwilightPoints=y.readUInt16(),this.maxStorage=y.readUInt16(),this.maxFunctionDefs=y.readUInt16(),this.maxInstructionDefs=y.readUInt16(),this.maxStackElements=y.readUInt16(),this.maxSizeOfInstructions=y.readUInt16(),this.maxComponentElements=y.readUInt16(),this.maxComponentDepth=y.readUInt16()},g}(),bA=function(C){function g(){return g.__super__.constructor.apply(this,arguments)}return Vs(g,Ul),g.prototype.tag="hmtx",g.prototype.parse=function(y){var E,D,T,M,L,$;for(y.pos=this.offset,this.metrics=[],E=0,L=this.file.hhea.numberOfMetrics;0<=L?E<L:E>L;E=0<=L?++E:--E)this.metrics.push({advance:y.readUInt16(),lsb:y.readInt16()});for(T=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var re,ue;for(ue=[],E=re=0;0<=T?re<T:re>T;E=0<=T?++re:--re)ue.push(y.readInt16());return ue}(),this.widths=function(){var re,ue,ve,H;for(H=[],re=0,ue=(ve=this.metrics).length;re<ue;re++)H.push(ve[re].advance);return H}.call(this),D=this.widths[this.widths.length-1],$=[],E=M=0;0<=T?M<T:M>T;E=0<=T?++M:--M)$.push(this.widths.push(D));return $},g.prototype.forGlyph=function(y){return y in this.metrics?this.metrics[y]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[y-this.metrics.length]}},g}(),su=[].slice,Fo=function(C){function g(){return g.__super__.constructor.apply(this,arguments)}return Vs(g,Ul),g.prototype.tag="glyf",g.prototype.parse=function(){return this.cache={}},g.prototype.glyphFor=function(y){var E,D,T,P,M,L,$,re,ue,ve;return y in this.cache?this.cache[y]:(E=this.file.contents,D=(P=this.file.loca).indexOf(y),0===(T=P.lengthOf(y))?this.cache[y]=null:(E.pos=this.offset+D,M=(L=new Ju(E.read(T))).readShort(),re=L.readShort(),ve=L.readShort(),$=L.readShort(),ue=L.readShort(),this.cache[y]=-1===M?new eh(L,re,ve,$,ue):new Bf(L,M,re,ve,$,ue),this.cache[y]))},g.prototype.encode=function(y,E,D){var T,P,M,L,$;for(M=[],P=[],L=0,$=E.length;L<$;L++)T=y[E[L]],P.push(M.length),T&&(M=M.concat(T.encode(D)));return P.push(M.length),{table:M,offsets:P}},g}(),Bf=function(){function C(g,y,E,D,T,P){this.raw=g,this.numberOfContours=y,this.xMin=E,this.yMin=D,this.xMax=T,this.yMax=P,this.compound=!1}return C.prototype.encode=function(){return this.raw.data},C}(),eh=function(){function C(g,y,E,D,T){var P,M;for(this.raw=g,this.xMin=y,this.yMin=E,this.xMax=D,this.yMax=T,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],P=this.raw;M=P.readShort(),this.glyphOffsets.push(P.pos),this.glyphIDs.push(P.readUInt16()),32&M;)P.pos+=1&M?4:2,128&M?P.pos+=8:64&M?P.pos+=4:8&M&&(P.pos+=2)}return C.prototype.encode=function(){var g,y,E;for(y=new Ju(su.call(this.raw.data)),g=0,E=this.glyphIDs.length;g<E;++g)y.pos=this.glyphOffsets[g];return y.data},C}(),fp=function(C){function g(){return g.__super__.constructor.apply(this,arguments)}return Vs(g,Ul),g.prototype.tag="loca",g.prototype.parse=function(y){var D;return y.pos=this.offset,this.offsets=0===this.file.head.indexToLocFormat?function(){var T,P;for(P=[],D=0,T=this.length;D<T;D+=2)P.push(2*y.readUInt16());return P}.call(this):function(){var T,P;for(P=[],D=0,T=this.length;D<T;D+=4)P.push(y.readUInt32());return P}.call(this)},g.prototype.indexOf=function(y){return this.offsets[y]},g.prototype.lengthOf=function(y){return this.offsets[y+1]-this.offsets[y]},g.prototype.encode=function(y,E){for(var D=new Uint32Array(this.offsets.length),T=0,P=0,M=0;M<D.length;++M)if(D[M]=T,P<E.length&&E[P]==M){++P,D[M]=T;var $=this.offsets[M+1]-this.offsets[M];$>0&&(T+=$)}for(var re=new Array(4*D.length),ue=0;ue<D.length;++ue)re[4*ue+3]=255&D[ue],re[4*ue+2]=(65280&D[ue])>>8,re[4*ue+1]=(16711680&D[ue])>>16,re[4*ue]=(4278190080&D[ue])>>24;return re},g}(),gl=function(){function C(g){this.font=g,this.subset={},this.unicodes={},this.next=33}return C.prototype.generateCmap=function(){var g,y,D,T;for(y in D=this.font.cmap.tables[0].codeMap,g={},T=this.subset)g[y]=D[T[y]];return g},C.prototype.glyphsFor=function(g){var y,E,D,T,P,M,L;for(D={},P=0,M=g.length;P<M;P++)D[T=g[P]]=this.font.glyf.glyphFor(T);for(T in y=[],D)null!=(E=D[T])&&E.compound&&y.push.apply(y,E.glyphIDs);if(y.length>0)for(T in L=this.glyphsFor(y))D[T]=E=L[T];return D},C.prototype.encode=function(g,y){var E,D,T,P,L,$,re,ue,ve,H,Qe,De,qe,ee;for(D in E=CA.encode(this.generateCmap(),"unicode"),P=this.glyphsFor(g),H={0:0},ee=E.charMap)H[(L=ee[D]).old]=L.new;for(Qe in ve=E.maxGlyphID,P)Qe in H||(H[Qe]=ve++);return re=function(He){var Ct,Mt;for(Ct in Mt={},He)Mt[He[Ct]]=Ct;return Mt}(H),ue=Object.keys(re).sort(function(He,Ct){return He-Ct}),De=function(){var He,Ct,Mt;for(Mt=[],He=0,Ct=ue.length;He<Ct;He++)Mt.push(re[ue[He]]);return Mt}(),T=this.font.glyf.encode(P,De,H),$=this.font.loca.encode(T.offsets,De),qe={cmap:this.font.cmap.raw(),glyf:T.table,loca:$,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(y)},this.font.os2.exists&&(qe["OS/2"]=this.font.os2.raw()),this.font.directory.encode(qe)},C}();jr.API.PDFObject=function(){var C;function g(){}return C=function(y,E){return(Array(E+1).join("0")+y).slice(-E)},g.convert=function(y){var D,T;if(Array.isArray(y))return"["+function(){var M,L,$;for($=[],M=0,L=y.length;M<L;M++)$.push(g.convert(y[M]));return $}().join(" ")+"]";if("string"==typeof y)return"/"+y;if(null!=y&&y.isString)return"("+y+")";if(y instanceof Date)return"(D:"+C(y.getUTCFullYear(),4)+C(y.getUTCMonth(),2)+C(y.getUTCDate(),2)+C(y.getUTCHours(),2)+C(y.getUTCMinutes(),2)+C(y.getUTCSeconds(),2)+"Z)";if("[object Object]"==={}.toString.call(y)){for(D in T=["<<"],y)T.push("/"+D+" "+g.convert(y[D]));return T.push(">>"),T.join("\n")}return""+y},g}();const IA=jr},8996:(vo,Tr,_t)=>{var V={"./ion-accordion_2.entry.js":[2375,2076,2375],"./ion-action-sheet.entry.js":[8814,2076,8814],"./ion-alert.entry.js":[5222,2076,5222],"./ion-app_8.entry.js":[7720,2076,7720],"./ion-avatar_3.entry.js":[1049,1049],"./ion-back-button.entry.js":[3162,2076,3162],"./ion-backdrop.entry.js":[7240,7240],"./ion-breadcrumb_2.entry.js":[8314,2076,8314],"./ion-button_2.entry.js":[4591,4591],"./ion-card_5.entry.js":[8584,8584],"./ion-checkbox.entry.js":[3511,2076,3511],"./ion-chip.entry.js":[6024,6024],"./ion-col_3.entry.js":[5100,5100],"./ion-datetime-button.entry.js":[7428,771,7428],"./ion-datetime_3.entry.js":[5266,771,2076,2885],"./ion-fab_3.entry.js":[4463,2076,4463],"./ion-img.entry.js":[4183,4183],"./ion-infinite-scroll_2.entry.js":[4171,2076,4171],"./ion-input.entry.js":[9344,2076,9344],"./ion-item-option_3.entry.js":[5949,2076,5949],"./ion-item_8.entry.js":[3506,2076,3506],"./ion-loading.entry.js":[7372,2076,7372],"./ion-menu_3.entry.js":[2075,2076,2075],"./ion-modal.entry.js":[441,2076,441],"./ion-nav_2.entry.js":[5712,2076,5712],"./ion-picker-column-internal.entry.js":[1433,2076,1433],"./ion-picker-internal.entry.js":[2628,2628],"./ion-popover.entry.js":[6433,2076,6433],"./ion-progress-bar.entry.js":[9977,9977],"./ion-radio_2.entry.js":[8066,2076,8066],"./ion-range.entry.js":[8477,2076,8477],"./ion-refresher_2.entry.js":[5197,2076,5197],"./ion-reorder_2.entry.js":[7030,2076,7030],"./ion-ripple-effect.entry.js":[964,964],"./ion-route_4.entry.js":[8970,8970],"./ion-searchbar.entry.js":[8193,2076,8193],"./ion-segment_2.entry.js":[2560,2076,2560],"./ion-select_3.entry.js":[7076,2076,7076],"./ion-spinner.entry.js":[8805,2076,8805],"./ion-split-pane.entry.js":[5887,5887],"./ion-tab-bar_2.entry.js":[4406,2076,4406],"./ion-tab_2.entry.js":[1102,1102],"./ion-text.entry.js":[1577,1577],"./ion-textarea.entry.js":[2348,2076,2348],"./ion-toast.entry.js":[2415,2076,2415],"./ion-toggle.entry.js":[3814,2076,3814]};function Pt(he){if(!_t.o(V,he))return Promise.resolve().then(()=>{var Ht=new Error("Cannot find module '"+he+"'");throw Ht.code="MODULE_NOT_FOUND",Ht});var Gt=V[he],xn=Gt[0];return Promise.all(Gt.slice(1).map(_t.e)).then(()=>_t(xn))}Pt.keys=()=>Object.keys(V),Pt.id=8996,vo.exports=Pt},3345:(vo,Tr,_t)=>{"use strict";_t.d(Tr,{A:()=>et});var V=_t(1076),Pt=_t(1362),he=_t(7852),Gt=_t(8041);class xn{constructor(_e,te){this._delegate=_e,this.firebase=te,(0,he._addComponent)(_e,new Pt.uA("app-compat",()=>this,"PUBLIC")),this.container=_e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(_e){this._delegate.automaticDataCollectionEnabled=_e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(_e=>{this._delegate.checkDestroyed(),_e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,he.deleteApp)(this._delegate)))}_getService(_e,te=he._DEFAULT_ENTRY_NAME){var ce;this._delegate.checkDestroyed();const Ve=this._delegate.container.getProvider(_e);return!Ve.isInitialized()&&"EXPLICIT"===(null===(ce=Ve.getComponent())||void 0===ce?void 0:ce.instantiationMode)&&Ve.initialize(),Ve.getImmediate({identifier:te})}_removeServiceInstance(_e,te=he._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(_e).clearInstance(te)}_addComponent(_e){(0,he._addComponent)(this._delegate,_e)}_addOrOverwriteComponent(_e){(0,he._addOrOverwriteComponent)(this._delegate,_e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const ke=new V.FA("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),ze=function $t(){const Ke=function Dt(Ke){const _e={},te={__esModule:!0,initializeApp:function Le(se,fe={}){const Z=he.initializeApp(se,fe);if((0,V.gR)(_e,Z.name))return _e[Z.name];const Se=new Ke(Z,te);return _e[Z.name]=Se,Se},app:Ve,registerVersion:he.registerVersion,setLogLevel:he.setLogLevel,onLog:he.onLog,apps:null,SDK_VERSION:he.SDK_VERSION,INTERNAL:{registerComponent:function ot(se){const fe=se.name,Z=fe.replace("-compat","");if(he._registerComponent(se)&&"PUBLIC"===se.type){const Se=(nt=Ve())=>{if("function"!=typeof nt[Z])throw ke.create("invalid-app-argument",{appName:fe});return nt[Z]()};void 0!==se.serviceProps&&(0,V.zw)(Se,se.serviceProps),te[Z]=Se,Ke.prototype[Z]=function(...nt){return this._getService.bind(this,fe).apply(this,se.multipleInstances?nt:[])}}return"PUBLIC"===se.type?te[Z]:null},removeApp:function ce(se){delete _e[se]},useAsService:function ut(se,fe){return"serverAuth"===fe?null:fe},modularAPIs:he}};function Ve(se){if(!(0,V.gR)(_e,se=se||he._DEFAULT_ENTRY_NAME))throw ke.create("no-app",{appName:se});return _e[se]}return te.default=te,Object.defineProperty(te,"apps",{get:function Oe(){return Object.keys(_e).map(se=>_e[se])}}),Ve.App=Ke,te}(xn);return Ke.INTERNAL=Object.assign(Object.assign({},Ke.INTERNAL),{createFirebaseNamespace:$t,extendNamespace:function _e(te){(0,V.zw)(Ke,te)},createSubscribe:V.tD,ErrorFactory:V.FA,deepExtend:V.zw}),Ke}(),Pe=new Gt.Vy("@firebase/app-compat");if((0,V.Bd)()&&void 0!==self.firebase){Pe.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Ke=self.firebase.SDK_VERSION;Ke&&Ke.indexOf("LITE")>=0&&Pe.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const et=ze;!function st(Ke){(0,he.registerVersion)("@firebase/app-compat","0.2.30",Ke)}()},7852:(vo,Tr,_t)=>{"use strict";_t.r(Tr),_t.d(Tr,{FirebaseError:()=>Gt.g,SDK_VERSION:()=>_s,_DEFAULT_ENTRY_NAME:()=>Vr,_addComponent:()=>Ji,_addOrOverwriteComponent:()=>Pi,_apps:()=>Ri,_clearComponents:()=>ii,_components:()=>ns,_getProvider:()=>Es,_isFirebaseApp:()=>Xo,_isFirebaseServerApp:()=>Oa,_registerComponent:()=>Ai,_removeServiceInstance:()=>ys,_serverApps:()=>cs,deleteApp:()=>Us,getApp:()=>Ka,getApps:()=>Zi,initializeApp:()=>Do,initializeServerApp:()=>Wa,onLog:()=>rt,registerVersion:()=>lt,setLogLevel:()=>de});var V=_t(467),Pt=_t(1362),he=_t(8041),Gt=_t(1076);const xn=(Vt,Et)=>Et.some(mn=>Vt instanceof mn);let Ht,ke;const ze=new WeakMap,Pe=new WeakMap,dt=new WeakMap,Ie=new WeakMap,st=new WeakMap;let _e={get(Vt,Et,mn){if(Vt instanceof IDBTransaction){if("done"===Et)return Pe.get(Vt);if("objectStoreNames"===Et)return Vt.objectStoreNames||dt.get(Vt);if("store"===Et)return mn.objectStoreNames[1]?void 0:mn.objectStore(mn.objectStoreNames[0])}return Le(Vt[Et])},set:(Vt,Et,mn)=>(Vt[Et]=mn,!0),has:(Vt,Et)=>Vt instanceof IDBTransaction&&("done"===Et||"store"===Et)||Et in Vt};function Ve(Vt){return"function"==typeof Vt?function ce(Vt){return Vt!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function $t(){return ke||(ke=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(Vt)?function(...Et){return Vt.apply(Oe(this),Et),Le(ze.get(this))}:function(...Et){return Le(Vt.apply(Oe(this),Et))}:function(Et,...mn){const Zn=Vt.call(Oe(this),Et,...mn);return dt.set(Zn,Et.sort?Et.sort():[Et]),Le(Zn)}}(Vt):(Vt instanceof IDBTransaction&&function Ke(Vt){if(Pe.has(Vt))return;const Et=new Promise((mn,Zn)=>{const Sr=()=>{Vt.removeEventListener("complete",oi),Vt.removeEventListener("error",ur),Vt.removeEventListener("abort",ur)},oi=()=>{mn(),Sr()},ur=()=>{Zn(Vt.error||new DOMException("AbortError","AbortError")),Sr()};Vt.addEventListener("complete",oi),Vt.addEventListener("error",ur),Vt.addEventListener("abort",ur)});Pe.set(Vt,Et)}(Vt),xn(Vt,function Dt(){return Ht||(Ht=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(Vt,_e):Vt)}function Le(Vt){if(Vt instanceof IDBRequest)return function et(Vt){const Et=new Promise((mn,Zn)=>{const Sr=()=>{Vt.removeEventListener("success",oi),Vt.removeEventListener("error",ur)},oi=()=>{mn(Le(Vt.result)),Sr()},ur=()=>{Zn(Vt.error),Sr()};Vt.addEventListener("success",oi),Vt.addEventListener("error",ur)});return Et.then(mn=>{mn instanceof IDBCursor&&ze.set(mn,Vt)}).catch(()=>{}),st.set(Et,Vt),Et}(Vt);if(Ie.has(Vt))return Ie.get(Vt);const Et=Ve(Vt);return Et!==Vt&&(Ie.set(Vt,Et),st.set(Et,Vt)),Et}const Oe=Vt=>st.get(Vt),se=["get","getKey","getAll","getAllKeys","count"],fe=["put","add","delete","clear"],Z=new Map;function Se(Vt,Et){if(!(Vt instanceof IDBDatabase)||Et in Vt||"string"!=typeof Et)return;if(Z.get(Et))return Z.get(Et);const mn=Et.replace(/FromIndex$/,""),Zn=Et!==mn,Sr=fe.includes(mn);if(!(mn in(Zn?IDBIndex:IDBObjectStore).prototype)||!Sr&&!se.includes(mn))return;const oi=function(){var ur=(0,V.A)(function*(Qi,...Uo){const si=this.transaction(Qi,Sr?"readwrite":"readonly");let tr=si.store;return Zn&&(tr=tr.index(Uo.shift())),(yield Promise.all([tr[mn](...Uo),Sr&&si.done]))[0]});return function(Uo){return ur.apply(this,arguments)}}();return Z.set(Et,oi),oi}!function te(Vt){_e=Vt(_e)}(Vt=>({...Vt,get:(Et,mn,Zn)=>Se(Et,mn)||Vt.get(Et,mn,Zn),has:(Et,mn)=>!!Se(Et,mn)||Vt.has(Et,mn)}));class nt{constructor(Et){this.container=Et}getPlatformInfoString(){return this.container.getProviders().map(mn=>{if(function At(Vt){const Et=Vt.getComponent();return"VERSION"===(null==Et?void 0:Et.type)}(mn)){const Zn=mn.getImmediate();return`${Zn.library}/${Zn.version}`}return null}).filter(mn=>mn).join(" ")}}const Ne="@firebase/app",Ze="0.10.0",Ft=new he.Vy("@firebase/app"),Vr="[DEFAULT]",Io={[Ne]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Ri=new Map,cs=new Map,ns=new Map;function Ji(Vt,Et){try{Vt.container.addComponent(Et)}catch(mn){Ft.debug(`Component ${Et.name} failed to register with FirebaseApp ${Vt.name}`,mn)}}function Pi(Vt,Et){Vt.container.addOrOverwriteComponent(Et)}function Ai(Vt){const Et=Vt.name;if(ns.has(Et))return Ft.debug(`There were multiple attempts to register component ${Et}.`),!1;ns.set(Et,Vt);for(const mn of Ri.values())Ji(mn,Vt);for(const mn of cs.values())Ji(mn,Vt);return!0}function Es(Vt,Et){const mn=Vt.container.getProvider("heartbeat").getImmediate({optional:!0});return mn&&mn.triggerHeartbeat(),Vt.container.getProvider(Et)}function ys(Vt,Et,mn=Vr){Es(Vt,Et).clearInstance(mn)}function Xo(Vt){return void 0!==Vt.options}function Oa(Vt){return void 0!==Vt.settings}function ii(){ns.clear()}const Jo=new Gt.FA("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class Ua{constructor(Et,mn,Zn){this._isDeleted=!1,this._options=Object.assign({},Et),this._config=Object.assign({},mn),this._name=mn.name,this._automaticDataCollectionEnabled=mn.automaticDataCollectionEnabled,this._container=Zn,this.container.addComponent(new Pt.uA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Et){this.checkDestroyed(),this._automaticDataCollectionEnabled=Et}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Et){this._isDeleted=Et}checkDestroyed(){if(this.isDeleted)throw Jo.create("app-deleted",{appName:this._name})}}class Fs extends Ua{constructor(Et,mn,Zn,Sr){const oi=void 0!==mn.automaticDataCollectionEnabled&&mn.automaticDataCollectionEnabled,ur={name:Zn,automaticDataCollectionEnabled:oi};super(void 0!==Et.apiKey?Et:Et.options,ur,Sr),this._serverConfig=Object.assign({automaticDataCollectionEnabled:oi},mn),this._finalizationRegistry=new FinalizationRegistry(()=>{this.automaticCleanup()}),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,mn.releaseOnDeref=void 0,lt(Ne,Ze,"serverapp")}get refCount(){return this._refCount}incRefCount(Et){this.isDeleted||(this._refCount++,void 0!==Et&&this._finalizationRegistry.register(Et,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){Us(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw Jo.create("server-app-deleted")}}const _s="10.10.0";function Do(Vt,Et={}){let mn=Vt;"object"!=typeof Et&&(Et={name:Et});const Zn=Object.assign({name:Vr,automaticDataCollectionEnabled:!1},Et),Sr=Zn.name;if("string"!=typeof Sr||!Sr)throw Jo.create("bad-app-name",{appName:String(Sr)});if(mn||(mn=(0,Gt.T9)()),!mn)throw Jo.create("no-options");const oi=Ri.get(Sr);if(oi){if((0,Gt.bD)(mn,oi.options)&&(0,Gt.bD)(Zn,oi.config))return oi;throw Jo.create("duplicate-app",{appName:Sr})}const ur=new Pt.h1(Sr);for(const Uo of ns.values())ur.addComponent(Uo);const Qi=new Ua(mn,Zn,ur);return Ri.set(Sr,Qi),Qi}function Wa(Vt,Et){if((0,Gt.Bd)())throw Jo.create("invalid-server-app-environment");let mn;void 0===Et.automaticDataCollectionEnabled&&(Et.automaticDataCollectionEnabled=!1),mn=Xo(Vt)?Vt.options:Vt;const Zn=Object.assign(Object.assign({},Et),mn);if(void 0!==Zn.releaseOnDeref&&delete Zn.releaseOnDeref,void 0!==Et.releaseOnDeref&&typeof FinalizationRegistry>"u")throw Jo.create("finalization-registry-not-supported",{});const oi=""+(si=JSON.stringify(Zn),[...si].reduce((tr,$r)=>Math.imul(31,tr)+$r.charCodeAt(0)|0,0)),ur=cs.get(oi);var si;if(ur)return ur.incRefCount(Et.releaseOnDeref),ur;const Qi=new Pt.h1(oi);for(const si of ns.values())Qi.addComponent(si);const Uo=new Fs(mn,Et,oi,Qi);return cs.set(oi,Uo),Uo}function Ka(Vt=Vr){const Et=Ri.get(Vt);if(!Et&&Vt===Vr&&(0,Gt.T9)())return Do();if(!Et)throw Jo.create("no-app",{appName:Vt});return Et}function Zi(){return Array.from(Ri.values())}function Us(Vt){return hl.apply(this,arguments)}function hl(){return(hl=(0,V.A)(function*(Vt){let Et=!1;const mn=Vt.name;Ri.has(mn)?(Et=!0,Ri.delete(mn)):cs.has(mn)&&Vt.decRefCount()<=0&&(cs.delete(mn),Et=!0),Et&&(yield Promise.all(Vt.container.getProviders().map(Zn=>Zn.delete())),Vt.isDeleted=!0)})).apply(this,arguments)}function lt(Vt,Et,mn){var Zn;let Sr=null!==(Zn=Io[Vt])&&void 0!==Zn?Zn:Vt;mn&&(Sr+=`-${mn}`);const oi=Sr.match(/\s|\//),ur=Et.match(/\s|\//);if(oi||ur){const Qi=[`Unable to register library "${Sr}" with version "${Et}":`];return oi&&Qi.push(`library name "${Sr}" contains illegal characters (whitespace or "/")`),oi&&ur&&Qi.push("and"),ur&&Qi.push(`version name "${Et}" contains illegal characters (whitespace or "/")`),void Ft.warn(Qi.join(" "))}Ai(new Pt.uA(`${Sr}-version`,()=>({library:Sr,version:Et}),"VERSION"))}function rt(Vt,Et){if(null!==Vt&&"function"!=typeof Vt)throw Jo.create("invalid-log-argument");(0,he.Ey)(Vt,Et)}function de(Vt){(0,he.He)(Vt)}const ye="firebase-heartbeat-database",J=1,wt="firebase-heartbeat-store";let Yt=null;function Nn(){return Yt||(Yt=function ot(Vt,Et,{blocked:mn,upgrade:Zn,blocking:Sr,terminated:oi}={}){const ur=indexedDB.open(Vt,Et),Qi=Le(ur);return Zn&&ur.addEventListener("upgradeneeded",Uo=>{Zn(Le(ur.result),Uo.oldVersion,Uo.newVersion,Le(ur.transaction),Uo)}),mn&&ur.addEventListener("blocked",Uo=>mn(Uo.oldVersion,Uo.newVersion,Uo)),Qi.then(Uo=>{oi&&Uo.addEventListener("close",()=>oi()),Sr&&Uo.addEventListener("versionchange",si=>Sr(si.oldVersion,si.newVersion,si))}).catch(()=>{}),Qi}(ye,J,{upgrade:(Vt,Et)=>{if(0===Et)try{Vt.createObjectStore(wt)}catch(mn){console.warn(mn)}}}).catch(Vt=>{throw Jo.create("idb-open",{originalErrorMessage:Vt.message})})),Yt}function zn(){return(zn=(0,V.A)(function*(Vt){try{const mn=(yield Nn()).transaction(wt),Zn=yield mn.objectStore(wt).get(sn(Vt));return yield mn.done,Zn}catch(Et){if(Et instanceof Gt.g)Ft.warn(Et.message);else{const mn=Jo.create("idb-get",{originalErrorMessage:null==Et?void 0:Et.message});Ft.warn(mn.message)}}})).apply(this,arguments)}function Ni(Vt,Et){return Yr.apply(this,arguments)}function Yr(){return(Yr=(0,V.A)(function*(Vt,Et){try{const Zn=(yield Nn()).transaction(wt,"readwrite");yield Zn.objectStore(wt).put(Et,sn(Vt)),yield Zn.done}catch(mn){if(mn instanceof Gt.g)Ft.warn(mn.message);else{const Zn=Jo.create("idb-set",{originalErrorMessage:null==mn?void 0:mn.message});Ft.warn(Zn.message)}}})).apply(this,arguments)}function sn(Vt){return`${Vt.name}!${Vt.options.appId}`}class fl{constructor(Et){this.container=Et,this._heartbeatsCache=null;const mn=this.container.getProvider("app").getImmediate();this._storage=new id(mn),this._heartbeatsCachePromise=this._storage.read().then(Zn=>(this._heartbeatsCache=Zn,Zn))}triggerHeartbeat(){var Et=this;return(0,V.A)(function*(){var mn,Zn;const oi=Et.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),ur=rd();if((null!=(null===(mn=Et._heartbeatsCache)||void 0===mn?void 0:mn.heartbeats)||(Et._heartbeatsCache=yield Et._heartbeatsCachePromise,null!=(null===(Zn=Et._heartbeatsCache)||void 0===Zn?void 0:Zn.heartbeats)))&&Et._heartbeatsCache.lastSentHeartbeatDate!==ur&&!Et._heartbeatsCache.heartbeats.some(Qi=>Qi.date===ur))return Et._heartbeatsCache.heartbeats.push({date:ur,agent:oi}),Et._heartbeatsCache.heartbeats=Et._heartbeatsCache.heartbeats.filter(Qi=>{const Uo=new Date(Qi.date).valueOf();return Date.now()-Uo<=2592e6}),Et._storage.overwrite(Et._heartbeatsCache)})()}getHeartbeatsHeader(){var Et=this;return(0,V.A)(function*(){var mn;if(null===Et._heartbeatsCache&&(yield Et._heartbeatsCachePromise),null==(null===(mn=Et._heartbeatsCache)||void 0===mn?void 0:mn.heartbeats)||0===Et._heartbeatsCache.heartbeats.length)return"";const Zn=rd(),{heartbeatsToSend:Sr,unsentEntries:oi}=function Fd(Vt,Et=1024){const mn=[];let Zn=Vt.slice();for(const Sr of Vt){const oi=mn.find(ur=>ur.agent===Sr.agent);if(oi){if(oi.dates.push(Sr.date),va(mn)>Et){oi.dates.pop();break}}else if(mn.push({agent:Sr.agent,dates:[Sr.date]}),va(mn)>Et){mn.pop();break}Zn=Zn.slice(1)}return{heartbeatsToSend:mn,unsentEntries:Zn}}(Et._heartbeatsCache.heartbeats),ur=(0,Gt.Uj)(JSON.stringify({version:2,heartbeats:Sr}));return Et._heartbeatsCache.lastSentHeartbeatDate=Zn,oi.length>0?(Et._heartbeatsCache.heartbeats=oi,yield Et._storage.overwrite(Et._heartbeatsCache)):(Et._heartbeatsCache.heartbeats=[],Et._storage.overwrite(Et._heartbeatsCache)),ur})()}}function rd(){return(new Date).toISOString().substring(0,10)}class id{constructor(Et){this.app=Et,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,V.A)(function*(){return!!(0,Gt.zW)()&&(0,Gt.eX)().then(()=>!0).catch(()=>!1)})()}read(){var Et=this;return(0,V.A)(function*(){if(yield Et._canUseIndexedDBPromise){const Zn=yield function hi(Vt){return zn.apply(this,arguments)}(Et.app);return null!=Zn&&Zn.heartbeats?Zn:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(Et){var mn=this;return(0,V.A)(function*(){var Zn;if(yield mn._canUseIndexedDBPromise){const oi=yield mn.read();return Ni(mn.app,{lastSentHeartbeatDate:null!==(Zn=Et.lastSentHeartbeatDate)&&void 0!==Zn?Zn:oi.lastSentHeartbeatDate,heartbeats:Et.heartbeats})}})()}add(Et){var mn=this;return(0,V.A)(function*(){var Zn;if(yield mn._canUseIndexedDBPromise){const oi=yield mn.read();return Ni(mn.app,{lastSentHeartbeatDate:null!==(Zn=Et.lastSentHeartbeatDate)&&void 0!==Zn?Zn:oi.lastSentHeartbeatDate,heartbeats:[...oi.heartbeats,...Et.heartbeats]})}})()}}function va(Vt){return(0,Gt.Uj)(JSON.stringify({version:2,heartbeats:Vt})).length}!function sa(Vt){Ai(new Pt.uA("platform-logger",Et=>new nt(Et),"PRIVATE")),Ai(new Pt.uA("heartbeat",Et=>new fl(Et),"PRIVATE")),lt(Ne,Ze,Vt),lt(Ne,Ze,"esm2017"),lt("fire-js","")}("")},1362:(vo,Tr,_t)=>{"use strict";_t.d(Tr,{Kq:()=>xn,h1:()=>Dt,uA:()=>he});var V=_t(467),Pt=_t(1076);class he{constructor(ze,Pe,dt){this.name=ze,this.instanceFactory=Pe,this.type=dt,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(ze){return this.instantiationMode=ze,this}setMultipleInstances(ze){return this.multipleInstances=ze,this}setServiceProps(ze){return this.serviceProps=ze,this}setInstanceCreatedCallback(ze){return this.onInstanceCreated=ze,this}}const Gt="[DEFAULT]";class xn{constructor(ze,Pe){this.name=ze,this.container=Pe,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(ze){const Pe=this.normalizeInstanceIdentifier(ze);if(!this.instancesDeferred.has(Pe)){const dt=new Pt.cY;if(this.instancesDeferred.set(Pe,dt),this.isInitialized(Pe)||this.shouldAutoInitialize())try{const Ie=this.getOrInitializeService({instanceIdentifier:Pe});Ie&&dt.resolve(Ie)}catch{}}return this.instancesDeferred.get(Pe).promise}getImmediate(ze){var Pe;const dt=this.normalizeInstanceIdentifier(null==ze?void 0:ze.identifier),Ie=null!==(Pe=null==ze?void 0:ze.optional)&&void 0!==Pe&&Pe;if(!this.isInitialized(dt)&&!this.shouldAutoInitialize()){if(Ie)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:dt})}catch(st){if(Ie)return null;throw st}}getComponent(){return this.component}setComponent(ze){if(ze.name!==this.name)throw Error(`Mismatching Component ${ze.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=ze,this.shouldAutoInitialize()){if(function ke($t){return"EAGER"===$t.instantiationMode}(ze))try{this.getOrInitializeService({instanceIdentifier:Gt})}catch{}for(const[Pe,dt]of this.instancesDeferred.entries()){const Ie=this.normalizeInstanceIdentifier(Pe);try{const st=this.getOrInitializeService({instanceIdentifier:Ie});dt.resolve(st)}catch{}}}}clearInstance(ze=Gt){this.instancesDeferred.delete(ze),this.instancesOptions.delete(ze),this.instances.delete(ze)}delete(){var ze=this;return(0,V.A)(function*(){const Pe=Array.from(ze.instances.values());yield Promise.all([...Pe.filter(dt=>"INTERNAL"in dt).map(dt=>dt.INTERNAL.delete()),...Pe.filter(dt=>"_delete"in dt).map(dt=>dt._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(ze=Gt){return this.instances.has(ze)}getOptions(ze=Gt){return this.instancesOptions.get(ze)||{}}initialize(ze={}){const{options:Pe={}}=ze,dt=this.normalizeInstanceIdentifier(ze.instanceIdentifier);if(this.isInitialized(dt))throw Error(`${this.name}(${dt}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Ie=this.getOrInitializeService({instanceIdentifier:dt,options:Pe});for(const[st,et]of this.instancesDeferred.entries())dt===this.normalizeInstanceIdentifier(st)&&et.resolve(Ie);return Ie}onInit(ze,Pe){var dt;const Ie=this.normalizeInstanceIdentifier(Pe),st=null!==(dt=this.onInitCallbacks.get(Ie))&&void 0!==dt?dt:new Set;st.add(ze),this.onInitCallbacks.set(Ie,st);const et=this.instances.get(Ie);return et&&ze(et,Ie),()=>{st.delete(ze)}}invokeOnInitCallbacks(ze,Pe){const dt=this.onInitCallbacks.get(Pe);if(dt)for(const Ie of dt)try{Ie(ze,Pe)}catch{}}getOrInitializeService({instanceIdentifier:ze,options:Pe={}}){let dt=this.instances.get(ze);if(!dt&&this.component&&(dt=this.component.instanceFactory(this.container,{instanceIdentifier:($t=ze,$t===Gt?void 0:$t),options:Pe}),this.instances.set(ze,dt),this.instancesOptions.set(ze,Pe),this.invokeOnInitCallbacks(dt,ze),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,ze,dt)}catch{}var $t;return dt||null}normalizeInstanceIdentifier(ze=Gt){return this.component?this.component.multipleInstances?ze:Gt:ze}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Dt{constructor(ze){this.name=ze,this.providers=new Map}addComponent(ze){const Pe=this.getProvider(ze.name);if(Pe.isComponentSet())throw new Error(`Component ${ze.name} has already been registered with ${this.name}`);Pe.setComponent(ze)}addOrOverwriteComponent(ze){this.getProvider(ze.name).isComponentSet()&&this.providers.delete(ze.name),this.addComponent(ze)}getProvider(ze){if(this.providers.has(ze))return this.providers.get(ze);const Pe=new xn(ze,this);return this.providers.set(ze,Pe),Pe}getProviders(){return Array.from(this.providers.values())}}},8041:(vo,Tr,_t)=>{"use strict";_t.d(Tr,{$b:()=>Pt,Ey:()=>$t,He:()=>Dt,Vy:()=>ke});const V=[];var Pt=function(ze){return ze[ze.DEBUG=0]="DEBUG",ze[ze.VERBOSE=1]="VERBOSE",ze[ze.INFO=2]="INFO",ze[ze.WARN=3]="WARN",ze[ze.ERROR=4]="ERROR",ze[ze.SILENT=5]="SILENT",ze}(Pt||{});const he={debug:Pt.DEBUG,verbose:Pt.VERBOSE,info:Pt.INFO,warn:Pt.WARN,error:Pt.ERROR,silent:Pt.SILENT},Gt=Pt.INFO,xn={[Pt.DEBUG]:"log",[Pt.VERBOSE]:"log",[Pt.INFO]:"info",[Pt.WARN]:"warn",[Pt.ERROR]:"error"},Ht=(ze,Pe,...dt)=>{if(Pe<ze.logLevel)return;const Ie=(new Date).toISOString(),st=xn[Pe];if(!st)throw new Error(`Attempted to log a message with an invalid logType (value: ${Pe})`);console[st](`[${Ie}]  ${ze.name}:`,...dt)};class ke{constructor(Pe){this.name=Pe,this._logLevel=Gt,this._logHandler=Ht,this._userLogHandler=null,V.push(this)}get logLevel(){return this._logLevel}set logLevel(Pe){if(!(Pe in Pt))throw new TypeError(`Invalid value "${Pe}" assigned to \`logLevel\``);this._logLevel=Pe}setLogLevel(Pe){this._logLevel="string"==typeof Pe?he[Pe]:Pe}get logHandler(){return this._logHandler}set logHandler(Pe){if("function"!=typeof Pe)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=Pe}get userLogHandler(){return this._userLogHandler}set userLogHandler(Pe){this._userLogHandler=Pe}debug(...Pe){this._userLogHandler&&this._userLogHandler(this,Pt.DEBUG,...Pe),this._logHandler(this,Pt.DEBUG,...Pe)}log(...Pe){this._userLogHandler&&this._userLogHandler(this,Pt.VERBOSE,...Pe),this._logHandler(this,Pt.VERBOSE,...Pe)}info(...Pe){this._userLogHandler&&this._userLogHandler(this,Pt.INFO,...Pe),this._logHandler(this,Pt.INFO,...Pe)}warn(...Pe){this._userLogHandler&&this._userLogHandler(this,Pt.WARN,...Pe),this._logHandler(this,Pt.WARN,...Pe)}error(...Pe){this._userLogHandler&&this._userLogHandler(this,Pt.ERROR,...Pe),this._logHandler(this,Pt.ERROR,...Pe)}}function Dt(ze){V.forEach(Pe=>{Pe.setLogLevel(ze)})}function $t(ze,Pe){for(const dt of V){let Ie=null;Pe&&Pe.level&&(Ie=he[Pe.level]),dt.userLogHandler=null===ze?null:(st,et,...Ke)=>{const _e=Ke.map(te=>{if(null==te)return null;if("string"==typeof te)return te;if("number"==typeof te||"boolean"==typeof te)return te.toString();if(te instanceof Error)return te.message;try{return JSON.stringify(te)}catch{return null}}).filter(te=>te).join(" ");et>=(null!=Ie?Ie:st.logLevel)&&ze({level:Pt[et].toLowerCase(),message:_e,args:Ke,type:st.name})}}}},2438:(vo,Tr,_t)=>{"use strict";_t.r(Tr);var V=_t(467),Pt=_t(3345),he=_t(5845),Gt=_t(1076),ke=(_t(7852),_t(8041),_t(1362));function Dt(){return window}function Pe(){return Pe=(0,V.A)(function*(de,ye,J){var wt;const{BuildInfo:Yt}=Dt();(0,he.au)(ye.sessionId,"AuthEvent did not contain a session ID");const Nn=yield function te(de){return ce.apply(this,arguments)}(ye.sessionId),hi={};return(0,he.av)()?hi.ibi=Yt.packageName:(0,he.aw)()?hi.apn=Yt.packageName:(0,he.ax)(de,"operation-not-supported-in-this-environment"),Yt.displayName&&(hi.appDisplayName=Yt.displayName),hi.sessionId=Nn,(0,he.ay)(de,J,ye.type,void 0,null!==(wt=ye.eventId)&&void 0!==wt?wt:void 0,hi)}),Pe.apply(this,arguments)}function Ie(){return(Ie=(0,V.A)(function*(de){const{BuildInfo:ye}=Dt(),J={};(0,he.av)()?J.iosBundleId=ye.packageName:(0,he.aw)()?J.androidPackageName=ye.packageName:(0,he.ax)(de,"operation-not-supported-in-this-environment"),yield(0,he.az)(de,J)})).apply(this,arguments)}function Ke(){return(Ke=(0,V.A)(function*(de,ye,J){const{cordova:wt}=Dt();let Yt=()=>{};try{yield new Promise((Nn,hi)=>{let zn=null;function Ni(){var mi;Nn();const rs=null===(mi=wt.plugins.browsertab)||void 0===mi?void 0:mi.close;"function"==typeof rs&&rs(),"function"==typeof(null==J?void 0:J.close)&&J.close()}function Yr(){zn||(zn=window.setTimeout(()=>{hi((0,he.aB)(de,"redirect-cancelled-by-user"))},2e3))}function sn(){"visible"===(null==document?void 0:document.visibilityState)&&Yr()}ye.addPassiveListener(Ni),document.addEventListener("resume",Yr,!1),(0,he.aw)()&&document.addEventListener("visibilitychange",sn,!1),Yt=()=>{ye.removePassiveListener(Ni),document.removeEventListener("resume",Yr,!1),document.removeEventListener("visibilitychange",sn,!1),zn&&window.clearTimeout(zn)}})}finally{Yt()}})).apply(this,arguments)}function ce(){return(ce=(0,V.A)(function*(de){const ye=function Ve(de){if((0,he.au)(/[0-9a-zA-Z]+/.test(de),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(de);const ye=new ArrayBuffer(de.length),J=new Uint8Array(ye);for(let wt=0;wt<de.length;wt++)J[wt]=de.charCodeAt(wt);return J}(de),J=yield crypto.subtle.digest("SHA-256",ye);return Array.from(new Uint8Array(J)).map(Yt=>Yt.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class Oe extends he.aD{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(ye=>{this.resolveInialized=ye})}addPassiveListener(ye){this.passiveListeners.add(ye)}removePassiveListener(ye){this.passiveListeners.delete(ye)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(ye){return this.resolveInialized(),this.passiveListeners.forEach(J=>J(ye)),super.onEvent(ye)}initialized(){var ye=this;return(0,V.A)(function*(){yield ye.initPromise})()}}function se(de){return fe.apply(this,arguments)}function fe(){return(fe=(0,V.A)(function*(de){const ye=yield nt()._get(At(de));return ye&&(yield nt()._remove(At(de))),ye})).apply(this,arguments)}function Se(){const de=[];for(let J=0;J<20;J++){const wt=Math.floor(62*Math.random());de.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(wt))}return de.join("")}function nt(){return(0,he.aE)(he.b)}function At(de){return(0,he.aF)("authEvent",de.config.apiKey,de.name)}function Ft(de){if(null==de||!de.includes("?"))return{};const[ye,...J]=de.split("?");return(0,Gt.I9)(J.join("?"))}const Te=class yt{constructor(){this._redirectPersistence=he.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=he.aG,this._overrideRedirectResult=he.aH}_initialize(ye){var J=this;return(0,V.A)(function*(){const wt=ye._key();let Yt=J.eventManagers.get(wt);return Yt||(Yt=new Oe(ye),J.eventManagers.set(wt,Yt),J.attachCallbackListeners(ye,Yt)),Yt})()}_openPopup(ye){(0,he.ax)(ye,"operation-not-supported-in-this-environment")}_openRedirect(ye,J,wt,Yt){var Nn=this;return(0,V.A)(function*(){!function _e(de){var ye,J,wt,Yt,Nn,hi,zn,Ni,Yr,sn;const mi=Dt();(0,he.aC)("function"==typeof(null===(ye=null==mi?void 0:mi.universalLinks)||void 0===ye?void 0:ye.subscribe),de,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,he.aC)(typeof(null===(J=null==mi?void 0:mi.BuildInfo)||void 0===J?void 0:J.packageName)<"u",de,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,he.aC)("function"==typeof(null===(Nn=null===(Yt=null===(wt=null==mi?void 0:mi.cordova)||void 0===wt?void 0:wt.plugins)||void 0===Yt?void 0:Yt.browsertab)||void 0===Nn?void 0:Nn.openUrl),de,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,he.aC)("function"==typeof(null===(Ni=null===(zn=null===(hi=null==mi?void 0:mi.cordova)||void 0===hi?void 0:hi.plugins)||void 0===zn?void 0:zn.browsertab)||void 0===Ni?void 0:Ni.isAvailable),de,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,he.aC)("function"==typeof(null===(sn=null===(Yr=null==mi?void 0:mi.cordova)||void 0===Yr?void 0:Yr.InAppBrowser)||void 0===sn?void 0:sn.open),de,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(ye);const hi=yield Nn._initialize(ye);yield hi.initialized(),hi.resetRedirect(),(0,he.aI)(),yield Nn._originValidation(ye);const zn=function ot(de,ye,J=null){return{type:ye,eventId:J,urlResponse:null,sessionId:Se(),postBody:null,tenantId:de.tenantId,error:(0,he.aB)(de,"no-auth-event")}}(ye,wt,Yt);yield function ut(de,ye){return nt()._set(At(de),ye)}(ye,zn);const Ni=yield function ze(de,ye,J){return Pe.apply(this,arguments)}(ye,zn,J),Yr=yield function st(de){const{cordova:ye}=Dt();return new Promise(J=>{ye.plugins.browsertab.isAvailable(wt=>{let Yt=null;wt?ye.plugins.browsertab.openUrl(de):Yt=ye.InAppBrowser.open(de,(0,he.aA)()?"_blank":"_system","location=yes"),J(Yt)})})}(Ni);return function et(de,ye,J){return Ke.apply(this,arguments)}(ye,hi,Yr)})()}_isIframeWebStorageSupported(ye,J){throw new Error("Method not implemented.")}_originValidation(ye){const J=ye._key();return this.originValidationPromises[J]||(this.originValidationPromises[J]=function dt(de){return Ie.apply(this,arguments)}(ye)),this.originValidationPromises[J]}attachCallbackListeners(ye,J){const{universalLinks:wt,handleOpenURL:Yt,BuildInfo:Nn}=Dt(),hi=setTimeout((0,V.A)(function*(){yield se(ye),J.onEvent(me())}),500),zn=function(){var sn=(0,V.A)(function*(mi){clearTimeout(hi);const rs=yield se(ye);let fl=null;rs&&null!=mi&&mi.url&&(fl=function Z(de,ye){var J,wt;const Yt=function Ze(de){const ye=Ft(de),J=ye.link?decodeURIComponent(ye.link):void 0,wt=Ft(J).link,Yt=ye.deep_link_id?decodeURIComponent(ye.deep_link_id):void 0;return Ft(Yt).link||Yt||wt||J||de}(ye);if(Yt.includes("/__/auth/callback")){const Nn=Ft(Yt),hi=Nn.firebaseError?function Ne(de){try{return JSON.parse(de)}catch{return null}}(decodeURIComponent(Nn.firebaseError)):null,zn=null===(wt=null===(J=null==hi?void 0:hi.code)||void 0===J?void 0:J.split("auth/"))||void 0===wt?void 0:wt[1],Ni=zn?(0,he.aB)(zn):null;return Ni?{type:de.type,eventId:de.eventId,tenantId:de.tenantId,error:Ni,urlResponse:null,sessionId:null,postBody:null}:{type:de.type,eventId:de.eventId,tenantId:de.tenantId,sessionId:de.sessionId,urlResponse:Yt,postBody:null}}return null}(rs,mi.url)),J.onEvent(fl||me())});return function(rs){return sn.apply(this,arguments)}}();typeof wt<"u"&&"function"==typeof wt.subscribe&&wt.subscribe(null,zn);const Ni=Yt,Yr=`${Nn.packageName.toLowerCase()}://`;Dt().handleOpenURL=function(){var sn=(0,V.A)(function*(mi){if(mi.toLowerCase().startsWith(Yr)&&zn({url:mi}),"function"==typeof Ni)try{Ni(mi)}catch(rs){console.error(rs)}});return function(mi){return sn.apply(this,arguments)}}()}};function me(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,he.aB)("no-auth-event")}}function In(){var de;return(null===(de=null==self?void 0:self.location)||void 0===de?void 0:de.protocol)||null}function Mn(de=(0,Gt.ZQ)()){return!("file:"!==In()&&"ionic:"!==In()&&"capacitor:"!==In()||!de.toLowerCase().match(/iphone|ipad|ipod|android/))}function Ei(){try{const de=self.localStorage,ye=he.aN();if(de)return de.setItem(ye,"1"),de.removeItem(ye),!function or(de=(0,Gt.ZQ)()){return function Pr(){return(0,Gt.lT)()&&11===(null==document?void 0:document.documentMode)}()||function Ci(de=(0,Gt.ZQ)()){return/Edge\/\d+/.test(de)}(de)}()||(0,Gt.zW)()}catch{return Mr()&&(0,Gt.zW)()}return!1}function Mr(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function on(){return(function Un(){return"http:"===In()||"https:"===In()}()||(0,Gt.sr)()||Mn())&&!function Gn(){return(0,Gt.lV)()||(0,Gt.Ll)()}()&&Ei()&&!Mr()}function Qt(){return Mn()&&typeof document<"u"}function Jn(){return(Jn=(0,V.A)(function*(){return!!Qt()&&new Promise(de=>{const ye=setTimeout(()=>{de(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(ye),de(!0)})})})).apply(this,arguments)}const zr={LOCAL:"local",NONE:"none",SESSION:"session"},ri=he.aC,Li="persistence";function Io(de){return Ri.apply(this,arguments)}function Ri(){return(Ri=(0,V.A)(function*(de){yield de._initializationPromise;const ye=ns(),J=he.aF(Li,de.config.apiKey,de.name);ye&&ye.setItem(J,de._getPersistence())})).apply(this,arguments)}function ns(){var de;try{return(null===(de=function qr(){return typeof window<"u"?window:null}())||void 0===de?void 0:de.sessionStorage)||null}catch{return null}}const Ji=he.aC;class Pi{constructor(){this.browserResolver=he.aE(he.k),this.cordovaResolver=he.aE(Te),this.underlyingResolver=null,this._redirectPersistence=he.a,this._completeRedirectFn=he.aG,this._overrideRedirectResult=he.aH}_initialize(ye){var J=this;return(0,V.A)(function*(){return yield J.selectUnderlyingResolver(),J.assertedUnderlyingResolver._initialize(ye)})()}_openPopup(ye,J,wt,Yt){var Nn=this;return(0,V.A)(function*(){return yield Nn.selectUnderlyingResolver(),Nn.assertedUnderlyingResolver._openPopup(ye,J,wt,Yt)})()}_openRedirect(ye,J,wt,Yt){var Nn=this;return(0,V.A)(function*(){return yield Nn.selectUnderlyingResolver(),Nn.assertedUnderlyingResolver._openRedirect(ye,J,wt,Yt)})()}_isIframeWebStorageSupported(ye,J){this.assertedUnderlyingResolver._isIframeWebStorageSupported(ye,J)}_originValidation(ye){return this.assertedUnderlyingResolver._originValidation(ye)}get _shouldInitProactively(){return Qt()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Ji(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var ye=this;return(0,V.A)(function*(){if(ye.underlyingResolver)return;const J=yield function en(){return Jn.apply(this,arguments)}();ye.underlyingResolver=J?ye.cordovaResolver:ye.browserResolver})()}}function Ai(de){return de.unwrap()}function ys(de){return Oa(de)}function Oa(de){const{_tokenResponse:ye}=de instanceof Gt.g?de.customData:de;if(!ye)return null;if(!(de instanceof Gt.g)&&"temporaryProof"in ye&&"phoneNumber"in ye)return he.P.credentialFromResult(de);const J=ye.providerId;if(!J||J===he.p.PASSWORD)return null;let wt;switch(J){case he.p.GOOGLE:wt=he.X;break;case he.p.FACEBOOK:wt=he.W;break;case he.p.GITHUB:wt=he.Y;break;case he.p.TWITTER:wt=he.$;break;default:const{oauthIdToken:Yt,oauthAccessToken:Nn,oauthTokenSecret:hi,pendingToken:zn,nonce:Ni}=ye;return Nn||hi||Yt||zn?zn?J.startsWith("saml.")?he.aQ._create(J,zn):he.N._fromParams({providerId:J,signInMethod:J,pendingToken:zn,idToken:Yt,accessToken:Nn}):new he.Z(J).credential({idToken:Yt,accessToken:Nn,rawNonce:Ni}):null}return de instanceof Gt.g?wt.credentialFromError(de):wt.credentialFromResult(de)}function ii(de,ye){return ye.catch(J=>{throw J instanceof Gt.g&&function Xo(de,ye){var J;const wt=null===(J=ye.customData)||void 0===J?void 0:J._tokenResponse;if("auth/multi-factor-auth-required"===(null==ye?void 0:ye.code))ye.resolver=new Ua(de,he.as(de,ye));else if(wt){const Yt=Oa(ye),Nn=ye;Yt&&(Nn.credential=Yt,Nn.tenantId=wt.tenantId||void 0,Nn.email=wt.email||void 0,Nn.phoneNumber=wt.phoneNumber||void 0)}}(de,J),J}).then(J=>{const Yt=J.user;return{operationType:J.operationType,credential:ys(J),additionalUserInfo:he.aq(J),user:Fs.getOrCreate(Yt)}})}function Gs(de,ye){return Jo.apply(this,arguments)}function Jo(){return(Jo=(0,V.A)(function*(de,ye){const J=yield ye;return{verificationId:J.verificationId,confirm:wt=>ii(de,J.confirm(wt))}})).apply(this,arguments)}class Ua{constructor(ye,J){this.resolver=J,this.auth=function Es(de){return de.wrapped()}(ye)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(ye){return ii(Ai(this.auth),this.resolver.resolveSignIn(ye))}}class Fs{constructor(ye){this._delegate=ye,this.multiFactor=he.at(ye)}static getOrCreate(ye){return Fs.USER_MAP.has(ye)||Fs.USER_MAP.set(ye,new Fs(ye)),Fs.USER_MAP.get(ye)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(ye){return this._delegate.getIdTokenResult(ye)}getIdToken(ye){return this._delegate.getIdToken(ye)}linkAndRetrieveDataWithCredential(ye){return this.linkWithCredential(ye)}linkWithCredential(ye){var J=this;return(0,V.A)(function*(){return ii(J.auth,he.a2(J._delegate,ye))})()}linkWithPhoneNumber(ye,J){var wt=this;return(0,V.A)(function*(){return Gs(wt.auth,he.l(wt._delegate,ye,J))})()}linkWithPopup(ye){var J=this;return(0,V.A)(function*(){return ii(J.auth,he.d(J._delegate,ye,Pi))})()}linkWithRedirect(ye){var J=this;return(0,V.A)(function*(){return yield Io(he.aJ(J.auth)),he.g(J._delegate,ye,Pi)})()}reauthenticateAndRetrieveDataWithCredential(ye){return this.reauthenticateWithCredential(ye)}reauthenticateWithCredential(ye){var J=this;return(0,V.A)(function*(){return ii(J.auth,he.a3(J._delegate,ye))})()}reauthenticateWithPhoneNumber(ye,J){return Gs(this.auth,he.r(this._delegate,ye,J))}reauthenticateWithPopup(ye){return ii(this.auth,he.e(this._delegate,ye,Pi))}reauthenticateWithRedirect(ye){var J=this;return(0,V.A)(function*(){return yield Io(he.aJ(J.auth)),he.h(J._delegate,ye,Pi)})()}sendEmailVerification(ye){return he.ag(this._delegate,ye)}unlink(ye){var J=this;return(0,V.A)(function*(){return yield he.ap(J._delegate,ye),J})()}updateEmail(ye){return he.al(this._delegate,ye)}updatePassword(ye){return he.am(this._delegate,ye)}updatePhoneNumber(ye){return he.u(this._delegate,ye)}updateProfile(ye){return he.ak(this._delegate,ye)}verifyBeforeUpdateEmail(ye,J){return he.ah(this._delegate,ye,J)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Fs.USER_MAP=new WeakMap;const _s=he.aC;let Do=(()=>{class de{constructor(J,wt){if(this.app=J,wt.isInitialized())return this._delegate=wt.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:Yt}=J.options;_s(Yt,"invalid-api-key",{appName:J.name}),_s(Yt,"invalid-api-key",{appName:J.name});const Nn=typeof window<"u"?Pi:void 0;this._delegate=wt.initialize({options:{persistence:Ka(Yt,J.name),popupRedirectResolver:Nn}}),this._delegate._updateErrorMap(he.G),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Fs.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(J){this._delegate.languageCode=J}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(J){this._delegate.tenantId=J}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(J,wt){he.K(this._delegate,J,wt)}applyActionCode(J){return he.a7(this._delegate,J)}checkActionCode(J){return he.a8(this._delegate,J)}confirmPasswordReset(J,wt){return he.a6(this._delegate,J,wt)}createUserWithEmailAndPassword(J,wt){var Yt=this;return(0,V.A)(function*(){return ii(Yt._delegate,he.aa(Yt._delegate,J,wt))})()}fetchProvidersForEmail(J){return this.fetchSignInMethodsForEmail(J)}fetchSignInMethodsForEmail(J){return he.af(this._delegate,J)}isSignInWithEmailLink(J){return he.ad(this._delegate,J)}getRedirectResult(){var J=this;return(0,V.A)(function*(){_s(on(),J._delegate,"operation-not-supported-in-this-environment");const wt=yield he.j(J._delegate,Pi);return wt?ii(J._delegate,Promise.resolve(wt)):{credential:null,user:null}})()}addFrameworkForLogging(J){!function xe(de,ye){(0,he.aJ)(de)._logFramework(ye)}(this._delegate,J)}onAuthStateChanged(J,wt,Yt){const{next:Nn,error:hi,complete:zn}=Wa(J,wt,Yt);return this._delegate.onAuthStateChanged(Nn,hi,zn)}onIdTokenChanged(J,wt,Yt){const{next:Nn,error:hi,complete:zn}=Wa(J,wt,Yt);return this._delegate.onIdTokenChanged(Nn,hi,zn)}sendSignInLinkToEmail(J,wt){return he.ac(this._delegate,J,wt)}sendPasswordResetEmail(J,wt){return he.a5(this._delegate,J,wt||void 0)}setPersistence(J){var wt=this;return(0,V.A)(function*(){let Yt;switch(function Vr(de,ye){ri(Object.values(zr).includes(ye),de,"invalid-persistence-type"),(0,Gt.lV)()?ri(ye!==zr.SESSION,de,"unsupported-persistence-type"):(0,Gt.Ll)()?ri(ye===zr.NONE,de,"unsupported-persistence-type"):Mr()?ri(ye===zr.NONE||ye===zr.LOCAL&&(0,Gt.zW)(),de,"unsupported-persistence-type"):ri(ye===zr.NONE||Ei(),de,"unsupported-persistence-type")}(wt._delegate,J),J){case zr.SESSION:Yt=he.a;break;case zr.LOCAL:Yt=(yield he.aE(he.i)._isAvailable())?he.i:he.b;break;case zr.NONE:Yt=he.U;break;default:return he.ax("argument-error",{appName:wt._delegate.name})}return wt._delegate.setPersistence(Yt)})()}signInAndRetrieveDataWithCredential(J){return this.signInWithCredential(J)}signInAnonymously(){return ii(this._delegate,he.a0(this._delegate))}signInWithCredential(J){return ii(this._delegate,he.a1(this._delegate,J))}signInWithCustomToken(J){return ii(this._delegate,he.a4(this._delegate,J))}signInWithEmailAndPassword(J,wt){return ii(this._delegate,he.ab(this._delegate,J,wt))}signInWithEmailLink(J,wt){return ii(this._delegate,he.ae(this._delegate,J,wt))}signInWithPhoneNumber(J,wt){return Gs(this._delegate,he.s(this._delegate,J,wt))}signInWithPopup(J){var wt=this;return(0,V.A)(function*(){return _s(on(),wt._delegate,"operation-not-supported-in-this-environment"),ii(wt._delegate,he.c(wt._delegate,J,Pi))})()}signInWithRedirect(J){var wt=this;return(0,V.A)(function*(){return _s(on(),wt._delegate,"operation-not-supported-in-this-environment"),yield Io(wt._delegate),he.f(wt._delegate,J,Pi)})()}updateCurrentUser(J){return this._delegate.updateCurrentUser(J)}verifyPasswordResetCode(J){return he.a9(this._delegate,J)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return de.Persistence=zr,de})();function Wa(de,ye,J){let wt=de;"function"!=typeof de&&({next:wt,error:ye,complete:J}=de);const Yt=wt;return{next:hi=>Yt(hi&&Fs.getOrCreate(hi)),error:ye,complete:J}}function Ka(de,ye){const J=function cs(de,ye){const J=ns();if(!J)return[];const wt=he.aF(Li,de,ye);switch(J.getItem(wt)){case zr.NONE:return[he.U];case zr.LOCAL:return[he.i,he.a];case zr.SESSION:return[he.a];default:return[]}}(de,ye);if(typeof self<"u"&&!J.includes(he.i)&&J.push(he.i),typeof window<"u")for(const wt of[he.b,he.a])J.includes(wt)||J.push(wt);return J.includes(he.U)||J.push(he.U),J}class Zi{constructor(){this.providerId="phone",this._delegate=new he.P(Ai(Pt.A.auth()))}static credential(ye,J){return he.P.credential(ye,J)}verifyPhoneNumber(ye,J){return this._delegate.verifyPhoneNumber(ye,J)}unwrap(){return this._delegate}}Zi.PHONE_SIGN_IN_METHOD=he.P.PHONE_SIGN_IN_METHOD,Zi.PROVIDER_ID=he.P.PROVIDER_ID;const Us=he.aC;class hl{constructor(ye,J,wt=Pt.A.app()){var Yt;Us(null===(Yt=wt.options)||void 0===Yt?void 0:Yt.apiKey,"invalid-api-key",{appName:wt.name}),this._delegate=new he.R(wt.auth(),ye,J),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function rt(de){de.INTERNAL.registerComponent(new ke.uA("auth-compat",ye=>{const J=ye.getProvider("app-compat").getImmediate(),wt=ye.getProvider("auth");return new Do(J,wt)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:he.A.EMAIL_SIGNIN,PASSWORD_RESET:he.A.PASSWORD_RESET,RECOVER_EMAIL:he.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:he.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:he.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:he.A.VERIFY_EMAIL}},EmailAuthProvider:he.V,FacebookAuthProvider:he.W,GithubAuthProvider:he.Y,GoogleAuthProvider:he.X,OAuthProvider:he.Z,SAMLAuthProvider:he._,PhoneAuthProvider:Zi,PhoneMultiFactorGenerator:he.m,RecaptchaVerifier:hl,TwitterAuthProvider:he.$,Auth:Do,AuthCredential:he.L,Error:Gt.g}).setInstantiationMode("LAZY").setMultipleInstances(!1)),de.registerVersion("@firebase/auth-compat","0.5.5")}(Pt.A)},467:(vo,Tr,_t)=>{"use strict";function V(he,Gt,xn,Ht,ke,Dt,$t){try{var ze=he[Dt]($t),Pe=ze.value}catch(dt){return void xn(dt)}ze.done?Gt(Pe):Promise.resolve(Pe).then(Ht,ke)}function Pt(he){return function(){var Gt=this,xn=arguments;return new Promise(function(Ht,ke){var Dt=he.apply(Gt,xn);function $t(Pe){V(Dt,Ht,ke,$t,ze,"next",Pe)}function ze(Pe){V(Dt,Ht,ke,$t,ze,"throw",Pe)}$t(void 0)})}}_t.d(Tr,{A:()=>Pt})},1660:(vo,Tr,_t)=>{"use strict";_t.d(Tr,{A:()=>Gt});var V=_t(2284);function Gt(xn,Ht,ke){return(Ht=function he(xn){var Ht=function Pt(xn,Ht){if("object"!=(0,V.A)(xn)||!xn)return xn;var ke=xn[Symbol.toPrimitive];if(void 0!==ke){var Dt=ke.call(xn,Ht||"default");if("object"!=(0,V.A)(Dt))return Dt;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===Ht?String:Number)(xn)}(xn,"string");return"symbol"==(0,V.A)(Ht)?Ht:String(Ht)}(Ht))in xn?Object.defineProperty(xn,Ht,{value:ke,enumerable:!0,configurable:!0,writable:!0}):xn[Ht]=ke,xn}},2284:(vo,Tr,_t)=>{"use strict";function V(Pt){return(V="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(he){return typeof he}:function(he){return he&&"function"==typeof Symbol&&he.constructor===Symbol&&he!==Symbol.prototype?"symbol":typeof he})(Pt)}_t.d(Tr,{A:()=>V})},1635:(vo,Tr,_t)=>{"use strict";function Gt(Te,me){var xe={};for(var Xe in Te)Object.prototype.hasOwnProperty.call(Te,Xe)&&me.indexOf(Xe)<0&&(xe[Xe]=Te[Xe]);if(null!=Te&&"function"==typeof Object.getOwnPropertySymbols){var ft=0;for(Xe=Object.getOwnPropertySymbols(Te);ft<Xe.length;ft++)me.indexOf(Xe[ft])<0&&Object.prototype.propertyIsEnumerable.call(Te,Xe[ft])&&(xe[Xe[ft]]=Te[Xe[ft]])}return xe}function xn(Te,me,xe,Xe){var In,ft=arguments.length,Je=ft<3?me:null===Xe?Xe=Object.getOwnPropertyDescriptor(me,xe):Xe;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Je=Reflect.decorate(Te,me,xe,Xe);else for(var Un=Te.length-1;Un>=0;Un--)(In=Te[Un])&&(Je=(ft<3?In(Je):ft>3?In(me,xe,Je):In(me,xe))||Je);return ft>3&&Je&&Object.defineProperty(me,xe,Je),Je}function dt(Te,me,xe,Xe){return new(xe||(xe=Promise))(function(Je,In){function Un(Pr){try{Gn(Xe.next(Pr))}catch(Ci){In(Ci)}}function Mn(Pr){try{Gn(Xe.throw(Pr))}catch(Ci){In(Ci)}}function Gn(Pr){Pr.done?Je(Pr.value):function ft(Je){return Je instanceof xe?Je:new xe(function(In){In(Je)})}(Pr.value).then(Un,Mn)}Gn((Xe=Xe.apply(Te,me||[])).next())})}function Le(Te){return this instanceof Le?(this.v=Te,this):new Le(Te)}function Oe(Te,me,xe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ft,Xe=xe.apply(Te,me||[]),Je=[];return ft={},In("next"),In("throw"),In("return"),ft[Symbol.asyncIterator]=function(){return this},ft;function In(or){Xe[or]&&(ft[or]=function(Ei){return new Promise(function(Mr,on){Je.push([or,Ei,Mr,on])>1||Un(or,Ei)})})}function Un(or,Ei){try{!function Mn(or){or.value instanceof Le?Promise.resolve(or.value.v).then(Gn,Pr):Ci(Je[0][2],or)}(Xe[or](Ei))}catch(Mr){Ci(Je[0][3],Mr)}}function Gn(or){Un("next",or)}function Pr(or){Un("throw",or)}function Ci(or,Ei){or(Ei),Je.shift(),Je.length&&Un(Je[0][0],Je[0][1])}}function ut(Te){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var xe,me=Te[Symbol.asyncIterator];return me?me.call(Te):(Te=function Ke(Te){var me="function"==typeof Symbol&&Symbol.iterator,xe=me&&Te[me],Xe=0;if(xe)return xe.call(Te);if(Te&&"number"==typeof Te.length)return{next:function(){return Te&&Xe>=Te.length&&(Te=void 0),{value:Te&&Te[Xe++],done:!Te}}};throw new TypeError(me?"Object is not iterable.":"Symbol.iterator is not defined.")}(Te),xe={},Xe("next"),Xe("throw"),Xe("return"),xe[Symbol.asyncIterator]=function(){return this},xe);function Xe(Je){xe[Je]=Te[Je]&&function(In){return new Promise(function(Un,Mn){!function ft(Je,In,Un,Mn){Promise.resolve(Mn).then(function(Gn){Je({value:Gn,done:Un})},In)}(Un,Mn,(In=Te[Je](In)).done,In.value)})}}}_t.d(Tr,{AQ:()=>Oe,Cg:()=>xn,N3:()=>Le,Tt:()=>Gt,sH:()=>dt,xN:()=>ut}),"function"==typeof SuppressedError&&SuppressedError}},vo=>{vo(vo.s=497)}]);